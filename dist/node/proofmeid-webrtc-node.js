/*! For license information please see proofmeid-webrtc-node.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ProofmeId=t():e.ProofmeId=t()}(global,(function(){return(()=>{"use strict";var e={280:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncSubject=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return o(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t._hasValue,o=t._value,i=t.thrownError,s=t.isStopped,u=t._isComplete;n?e.error(i):(s||u)&&(r&&e.next(o),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var t=this,n=t._hasValue,r=t._value;t._isComplete||(this._isComplete=!0,n&&e.prototype.next.call(this,r),e.prototype.complete.call(this))},t}(n(3032).Subject);t.AsyncSubject=i},5240:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BehaviorSubject=void 0;var i=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return o(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n(3032).Subject);t.BehaviorSubject=i},3104:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observeNotification=t.Notification=t.NotificationKind=void 0;var r,o=n(6332),i=n(5726),s=n(2098),u=n(3005);(r=t.NotificationKind||(t.NotificationKind={})).NEXT="N",r.ERROR="E",r.COMPLETE="C";var a=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){return c(this,e)},e.prototype.do=function(e,t,n){var r=this,o=r.kind,i=r.value,s=r.error;return"N"===o?null==e?void 0:e(i):"E"===o?null==t?void 0:t(s):null==n?void 0:n()},e.prototype.accept=function(e,t,n){var r;return u.isFunction(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e=this,t=e.kind,n=e.value,r=e.error,u="N"===t?i.of(n):"E"===t?s.throwError((function(){return r})):"C"===t?o.EMPTY:0;if(!u)throw new TypeError("Unexpected notification kind "+t);return u},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function c(e,t){var n,r,o,i=e,s=i.kind,u=i.value,a=i.error;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(n=t.next)||void 0===n||n.call(t,u):"E"===s?null===(r=t.error)||void 0===r||r.call(t,a):null===(o=t.complete)||void 0===o||o.call(t)}t.Notification=a,t.observeNotification=c},7286:(e,t)=>{function n(e,t,n){return{kind:e,value:t,error:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.createNotification=t.nextNotification=t.errorNotification=t.COMPLETE_NOTIFICATION=void 0,t.COMPLETE_NOTIFICATION=n("C",void 0,void 0),t.errorNotification=function(e){return n("E",void 0,e)},t.nextNotification=function(e){return n("N",e,void 0)},t.createNotification=n},2419:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var r=n(5125),o=n(3865),i=n(2801),s=n(2872),u=n(3280),a=n(3005),c=n(6110),l=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i,s=this,u=(i=e)&&i instanceof r.Subscriber||function(e){return e&&a.isFunction(e.next)&&a.isFunction(e.error)&&a.isFunction(e.complete)}(i)&&o.isSubscription(i)?e:new r.SafeSubscriber(e,t,n);return c.errorContext((function(){var e=s,t=e.operator,n=e.source;u.add(t?t.call(u,n):n?s._subscribe(u):s._trySubscribe(u))})),u},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))((function(t,o){var i=new r.SafeSubscriber({next:function(t){try{e(t)}catch(e){o(e),i.unsubscribe()}},error:o,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function d(e){var t;return null!==(t=null!=e?e:u.config.Promise)&&void 0!==t?t:Promise}t.Observable=l},3274:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaySubject=void 0;var i=n(3032),s=n(7950),u=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=s.dateTimestampProvider);var o=e.call(this)||this;return o._bufferSize=t,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,n),o}return o(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,o=n._buffer,i=n._infiniteTimeWindow,s=n._timestampProvider,u=n._windowTime;r||(o.push(t),!i&&o.push(s.now()+u)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!e.closed;o+=n?1:2)e.next(r[o]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,o=e._infiniteTimeWindow,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){for(var s=n.now(),u=0,a=1;a<r.length&&r[a]<=s;a+=2)u=a;u&&r.splice(0,u+1)}},t}(i.Subject);t.ReplaySubject=u},218:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Scheduler=void 0;var r=n(7950),o=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=r.dateTimestampProvider.now,e}();t.Scheduler=o},3032:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousSubject=t.Subject=void 0;var s=n(2419),u=n(3865),a=n(2642),c=n(6967),l=n(6110),d=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return o(t,e),t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new a.ObjectUnsubscribedError},t.prototype.next=function(e){var t=this;l.errorContext((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){var o=t.observers.slice();try{for(var s=i(o),u=s.next();!u.done;u=s.next())u.value.next(e)}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;l.errorContext((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;l.errorContext((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=t.hasError,r=t.isStopped,o=t.observers;return n||r?u.EMPTY_SUBSCRIPTION:(o.push(e),new u.Subscription((function(){return c.arrRemove(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new s.Observable;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(s.Observable);t.Subject=d;var f=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return o(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:u.EMPTY_SUBSCRIPTION},t}(d);t.AnonymousSubject=f},5125:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_OBSERVER=t.SafeSubscriber=t.Subscriber=void 0;var i=n(3005),s=n(3865),u=n(3280),a=n(7968),c=n(2576),l=n(7286),d=n(4590),f=n(6110),p=function(e){function n(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,s.isSubscription(n)&&n.add(r)):r.destination=t.EMPTY_OBSERVER,r}return o(n,e),n.create=function(e,t,n){return new g(e,t,n)},n.prototype.next=function(e){this.isStopped?b(l.nextNotification(e),this):this._next(e)},n.prototype.error=function(e){this.isStopped?b(l.errorNotification(e),this):(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped?b(l.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(s.Subscription);t.Subscriber=p;var h=Function.prototype.bind;function v(e,t){return h.call(e,t)}var y=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){m(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){m(e)}else m(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){m(e)}},e}(),g=function(e){function t(t,n,r){var o,s,a=e.call(this)||this;return i.isFunction(t)||!t?o={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:a&&u.config.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},o={next:t.next&&v(t.next,s),error:t.error&&v(t.error,s),complete:t.complete&&v(t.complete,s)}):o=t,a.destination=new y(o),a}return o(t,e),t}(p);function m(e){u.config.useDeprecatedSynchronousErrorHandling?f.captureError(e):a.reportUnhandledError(e)}function b(e,t){var n=u.config.onStoppedNotification;n&&d.timeoutProvider.setTimeout((function(){return n(e,t)}))}t.SafeSubscriber=g,t.EMPTY_OBSERVER={closed:!0,next:c.noop,error:function(e){throw e},complete:c.noop}},3865:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.isSubscription=t.EMPTY_SUBSCRIPTION=t.Subscription=void 0;var s=n(3005),u=n(4805),a=n(6967),c=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,a,c;if(!this.closed){this.closed=!0;var d=this._parentage;if(d)if(this._parentage=null,Array.isArray(d))try{for(var f=r(d),p=f.next();!p.done;p=f.next())p.value.remove(this)}catch(t){e={error:t}}finally{try{p&&!p.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}else d.remove(this);var h=this.initialTeardown;if(s.isFunction(h))try{h()}catch(e){c=e instanceof u.UnsubscriptionError?e.errors:[e]}var v=this._teardowns;if(v){this._teardowns=null;try{for(var y=r(v),g=y.next();!g.done;g=y.next()){var m=g.value;try{l(m)}catch(e){c=null!=c?c:[],e instanceof u.UnsubscriptionError?c=i(i([],o(c)),o(e.errors)):c.push(e)}}}catch(e){n={error:e}}finally{try{g&&!g.done&&(a=y.return)&&a.call(y)}finally{if(n)throw n.error}}}if(c)throw new u.UnsubscriptionError(c)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)l(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&a.arrRemove(t,e)},e.prototype.remove=function(t){var n=this._teardowns;n&&a.arrRemove(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){s.isFunction(e)?e():e.unsubscribe()}t.Subscription=c,t.EMPTY_SUBSCRIPTION=c.EMPTY,t.isSubscription=function(e){return e instanceof c||e&&"closed"in e&&s.isFunction(e.remove)&&s.isFunction(e.add)&&s.isFunction(e.unsubscribe)}},3280:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9518:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectableObservable=void 0;var i=n(2419),s=n(3865),u=n(8739),a=n(4990),c=n(4935),l=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,c.hasLift(t)&&(r.lift=t.lift),r}return o(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new s.Subscription;var n=this.getSubject();t.add(this.source.subscribe(a.createOperatorSubscriber(n,void 0,(function(){e._teardown(),n.complete()}),(function(t){e._teardown(),n.error(t)}),(function(){return e._teardown()})))),t.closed&&(this._connection=null,t=s.Subscription.EMPTY)}return t},t.prototype.refCount=function(){return u.refCount()(this)},t}(i.Observable);t.ConnectableObservable=l},9258:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestInit=t.combineLatest=void 0;var r=n(2419),o=n(1203),i=n(5432),s=n(4781),u=n(1914),a=n(2433),c=n(641),l=n(4990),d=n(7738);function f(e,t,n){return void 0===n&&(n=s.identity),function(r){p(t,(function(){for(var o=e.length,s=new Array(o),u=o,a=o,c=function(o){p(t,(function(){var c=i.from(e[o],t),d=!1;c.subscribe(l.createOperatorSubscriber(r,(function(e){s[o]=e,d||(d=!0,a--),a||r.next(n(s.slice()))}),(function(){--u||r.complete()})))}),r)},d=0;d<o;d++)c(d)}),r)}}function p(e,t,n){e?d.executeSchedule(n,e,t):t()}t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.popScheduler(e),l=a.popResultSelector(e),d=o.argsArgArrayOrObject(e),p=d.args,h=d.keys;if(0===p.length)return i.from([],n);var v=new r.Observable(f(p,n,h?function(e){return c.createObject(h,e)}:s.identity));return l?v.pipe(u.mapOneOrManyArgs(l)):v},t.combineLatestInit=f},2239:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var r=n(4413),o=n(2433),i=n(5432);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.concatAll()(i.from(e,o.popScheduler(e)))}},6332:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.empty=t.EMPTY=void 0;var r=n(2419);t.EMPTY=new r.Observable((function(e){return e.complete()})),t.empty=function(e){return e?function(e){return new r.Observable((function(t){return e.schedule((function(){return t.complete()}))}))}(e):t.EMPTY}},5432:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.from=void 0;var r=n(5207),o=n(7103);t.from=function(e,t){return t?r.scheduled(e,t):o.innerFrom(e)}},851:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromSubscribable=void 0;var r=n(2419);t.fromSubscribable=function(e){return new r.Observable((function(t){return e.subscribe(t)}))}},7103:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof s?s(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.fromReadableStreamLike=t.fromAsyncIterable=t.fromIterable=t.fromPromise=t.fromArrayLike=t.fromInteropObservable=t.innerFrom=void 0;var u=n(3909),a=n(6018),c=n(2419),l=n(9500),d=n(9595),f=n(9906),p=n(2743),h=n(7823),v=n(3005),y=n(7968),g=n(2801);function m(e){return new c.Observable((function(t){var n=e[g.observable]();if(v.isFunction(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function b(e){return new c.Observable((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}function _(e){return new c.Observable((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,y.reportUnhandledError)}))}function w(e){return new c.Observable((function(t){var n,r;try{for(var o=s(e),i=o.next();!i.done;i=o.next()){var u=i.value;if(t.next(u),t.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()}))}function M(e){return new c.Observable((function(t){(function(e,t){var n,s,u,a;return r(this,void 0,void 0,(function(){var r,c;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),n=i(e),o.label=1;case 1:return[4,n.next()];case 2:if((s=o.sent()).done)return[3,4];if(r=s.value,t.next(r),t.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=o.sent(),u={error:c},[3,11];case 6:return o.trys.push([6,,9,10]),s&&!s.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(u)throw u.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function C(e){return M(h.readableStreamLikeToAsyncGenerator(e))}t.innerFrom=function(e){if(e instanceof c.Observable)return e;if(null!=e){if(l.isInteropObservable(e))return m(e);if(u.isArrayLike(e))return b(e);if(a.isPromise(e))return _(e);if(d.isAsyncIterable(e))return M(e);if(p.isIterable(e))return w(e);if(h.isReadableStreamLike(e))return C(e)}throw f.createInvalidObservableTypeError(e)},t.fromInteropObservable=m,t.fromArrayLike=b,t.fromPromise=_,t.fromIterable=w,t.fromAsyncIterable=M,t.fromReadableStreamLike=C},8990:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.interval=void 0;var r=n(2445),o=n(7513);t.interval=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=r.asyncScheduler),e<0&&(e=0),o.timer(e,e,t)}},5726:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.of=void 0;var r=n(2433),o=n(5432);t.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.popScheduler(e);return o.from(e,n)}},5182:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.raceInit=t.race=void 0;var r=n(2419),o=n(7103),i=n(5498),s=n(4990);function u(e){return function(t){for(var n=[],r=function(r){n.push(o.innerFrom(e[r]).subscribe(s.createOperatorSubscriber(t,(function(e){if(n){for(var o=0;o<n.length;o++)o!==r&&n[o].unsubscribe();n=null}t.next(e)}))))},i=0;n&&!t.closed&&i<e.length;i++)r(i)}}t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=i.argsOrArgArray(e)).length?o.innerFrom(e[0]):new r.Observable(u(e))},t.raceInit=u},2098:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throwError=void 0;var r=n(2419),o=n(3005);t.throwError=function(e,t){var n=o.isFunction(e)?e:function(){return e},i=function(e){return e.error(n())};return new r.Observable(t?function(e){return t.schedule(i,0,e)}:i)}},7513:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timer=void 0;var r=n(2419),o=n(2445),i=n(9016),s=n(1677);t.timer=function(e,t,n){void 0===e&&(e=0),void 0===n&&(n=o.async);var u=-1;return null!=t&&(i.isScheduler(t)?n=t:u=t),new r.Observable((function(t){var r=s.isValidDate(e)?+e-n.now():e;r<0&&(r=0);var o=0;return n.schedule((function(){t.closed||(t.next(o++),0<=u?this.schedule(void 0,u):t.complete())}),r)}))}},7654:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var i=n(2419),s=n(7103),u=n(5498),a=n(6332),c=n(4990),l=n(2433);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=l.popResultSelector(e),d=u.argsOrArgArray(e);return d.length?new i.Observable((function(e){var t=d.map((function(){return[]})),i=d.map((function(){return!1}));e.add((function(){t=i=null}));for(var u=function(u){s.innerFrom(d[u]).subscribe(c.createOperatorSubscriber(e,(function(s){if(t[u].push(s),t.every((function(e){return e.length}))){var a=t.map((function(e){return e.shift()}));e.next(n?n.apply(void 0,o([],r(a))):a),t.some((function(e,t){return!e.length&&i[t]}))&&e.complete()}}),(function(){i[u]=!0,!t[u].length&&e.complete()})))},a=0;!e.closed&&a<d.length;a++)u(a);return function(){t=i=null}})):a.EMPTY}},4990:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.OperatorSubscriber=t.createOperatorSubscriber=void 0;var i=n(5125);t.createOperatorSubscriber=function(e,t,n,r,o){return new s(e,t,n,r,o)};var s=function(e){function t(t,n,r,o,i,s){var u=e.call(this,t)||this;return u.onFinalize=i,u.shouldUnsubscribe=s,u._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,u._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,u}return o(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(i.Subscriber);t.OperatorSubscriber=s},6474:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.audit=void 0;var r=n(4935),o=n(7103),i=n(4990);t.audit=function(e){return r.operate((function(t,n){var r=!1,s=null,u=null,a=!1,c=function(){if(null==u||u.unsubscribe(),u=null,r){r=!1;var e=s;s=null,n.next(e)}a&&n.complete()},l=function(){u=null,a&&n.complete()};t.subscribe(i.createOperatorSubscriber(n,(function(t){r=!0,s=t,u||o.innerFrom(e(t)).subscribe(u=i.createOperatorSubscriber(n,c,l))}),(function(){a=!0,(!r||!u||u.closed)&&n.complete()})))}))}},5382:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.auditTime=void 0;var r=n(2445),o=n(6474),i=n(7513);t.auditTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.audit((function(){return i.timer(e,t)}))}},9715:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.buffer=void 0;var r=n(4935),o=n(2576),i=n(4990);t.buffer=function(e){return r.operate((function(t,n){var r=[];return t.subscribe(i.createOperatorSubscriber(n,(function(e){return r.push(e)}),(function(){n.next(r),n.complete()}))),e.subscribe(i.createOperatorSubscriber(n,(function(){var e=r;r=[],n.next(e)}),o.noop)),function(){r=null}}))}},3814:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferCount=void 0;var o=n(4935),i=n(4990),s=n(6967);t.bufferCount=function(e,t){return void 0===t&&(t=null),t=null!=t?t:e,o.operate((function(n,o){var u=[],a=0;n.subscribe(i.createOperatorSubscriber(o,(function(n){var i,c,l,d,f=null;a++%t==0&&u.push([]);try{for(var p=r(u),h=p.next();!h.done;h=p.next())(g=h.value).push(n),e<=g.length&&(f=null!=f?f:[]).push(g)}catch(e){i={error:e}}finally{try{h&&!h.done&&(c=p.return)&&c.call(p)}finally{if(i)throw i.error}}if(f)try{for(var v=r(f),y=v.next();!y.done;y=v.next()){var g=y.value;s.arrRemove(u,g),o.next(g)}}catch(e){l={error:e}}finally{try{y&&!y.done&&(d=v.return)&&d.call(v)}finally{if(l)throw l.error}}}),(function(){var e,t;try{for(var n=r(u),i=n.next();!i.done;i=n.next()){var s=i.value;o.next(s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}o.complete()}),void 0,(function(){u=null})))}))}},7211:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferTime=void 0;var o=n(3865),i=n(4935),s=n(4990),u=n(6967),a=n(2445),c=n(2433),l=n(7738);t.bufferTime=function(e){for(var t,n,d=[],f=1;f<arguments.length;f++)d[f-1]=arguments[f];var p=null!==(t=c.popScheduler(d))&&void 0!==t?t:a.asyncScheduler,h=null!==(n=d[0])&&void 0!==n?n:null,v=d[1]||1/0;return i.operate((function(t,n){var i=[],a=!1,c=function(e){var t=e.buffer;e.subs.unsubscribe(),u.arrRemove(i,e),n.next(t),a&&d()},d=function(){if(i){var t=new o.Subscription;n.add(t);var r={buffer:[],subs:t};i.push(r),l.executeSchedule(t,p,(function(){return c(r)}),e)}};null!==h&&h>=0?l.executeSchedule(n,p,d,h,!0):a=!0,d();var f=s.createOperatorSubscriber(n,(function(e){var t,n,o=i.slice();try{for(var s=r(o),u=s.next();!u.done;u=s.next()){var a=u.value,l=a.buffer;l.push(e),v<=l.length&&c(a)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}),(function(){for(;null==i?void 0:i.length;)n.next(i.shift().buffer);null==f||f.unsubscribe(),n.complete(),n.unsubscribe()}),void 0,(function(){return i=null}));t.subscribe(f)}))}},4943:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToggle=void 0;var o=n(3865),i=n(4935),s=n(7103),u=n(4990),a=n(2576),c=n(6967);t.bufferToggle=function(e,t){return i.operate((function(n,i){var l=[];s.innerFrom(e).subscribe(u.createOperatorSubscriber(i,(function(e){var n=[];l.push(n);var r=new o.Subscription;r.add(s.innerFrom(t(e)).subscribe(u.createOperatorSubscriber(i,(function(){c.arrRemove(l,n),i.next(n),r.unsubscribe()}),a.noop)))}),a.noop)),n.subscribe(u.createOperatorSubscriber(i,(function(e){var t,n;try{for(var o=r(l),i=o.next();!i.done;i=o.next())i.value.push(e)}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}),(function(){for(;l.length>0;)i.next(l.shift());i.complete()})))}))}},1240:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bufferWhen=void 0;var r=n(4935),o=n(2576),i=n(4990),s=n(7103);t.bufferWhen=function(e){return r.operate((function(t,n){var r=null,u=null,a=function(){null==u||u.unsubscribe();var t=r;r=[],t&&n.next(t),s.innerFrom(e()).subscribe(u=i.createOperatorSubscriber(n,a,o.noop))};a(),t.subscribe(i.createOperatorSubscriber(n,(function(e){return null==r?void 0:r.push(e)}),(function(){r&&n.next(r),n.complete()}),void 0,(function(){return r=u=null})))}))}},9548:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.catchError=void 0;var r=n(7103),o=n(4990),i=n(4935);t.catchError=function e(t){return i.operate((function(n,i){var s,u=null,a=!1;u=n.subscribe(o.createOperatorSubscriber(i,void 0,void 0,(function(o){s=r.innerFrom(t(o,e(t)(n))),u?(u.unsubscribe(),u=null,s.subscribe(i)):a=!0}))),a&&(u.unsubscribe(),u=null,s.subscribe(i))}))}},2128:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineAll=void 0;var r=n(3240);t.combineAll=r.combineLatestAll},6318:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatest=void 0;var i=n(9258),s=n(4935),u=n(5498),a=n(1914),c=n(2872),l=n(2433);t.combineLatest=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var d=l.popResultSelector(t);return d?c.pipe(e.apply(void 0,o([],r(t))),a.mapOneOrManyArgs(d)):s.operate((function(e,n){i.combineLatestInit(o([e],r(u.argsOrArgArray(t))))(n)}))}},3240:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestAll=void 0;var r=n(9258),o=n(2069);t.combineLatestAll=function(e){return o.joinAllInternals(r.combineLatest,e)}},5024:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestWith=void 0;var i=n(6318);t.combineLatestWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.combineLatest.apply(void 0,o([],r(e)))}},4919:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var i=n(4935),s=n(4413),u=n(2433),a=n(5432);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=u.popScheduler(e);return i.operate((function(t,i){s.concatAll()(a.from(o([t],r(e)),n)).subscribe(i)}))}},4413:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatAll=void 0;var r=n(3783);t.concatAll=function(){return r.mergeAll(1)}},7498:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatMap=void 0;var r=n(9475),o=n(3005);t.concatMap=function(e,t){return o.isFunction(t)?r.mergeMap(e,t,1):r.mergeMap(e,1)}},6109:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatMapTo=void 0;var r=n(7498),o=n(3005);t.concatMapTo=function(e,t){return o.isFunction(t)?r.concatMap((function(){return e}),t):r.concatMap((function(){return e}))}},9664:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concatWith=void 0;var i=n(4919);t.concatWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.concat.apply(void 0,o([],r(e)))}},1995:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;var r=n(3032),o=n(5432),i=n(4935),s=n(851),u={connector:function(){return new r.Subject}};t.connect=function(e,t){void 0===t&&(t=u);var n=t.connector;return i.operate((function(t,r){var i=n();o.from(e(s.fromSubscribable(i))).subscribe(r),r.add(t.subscribe(i))}))}},993:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.count=void 0;var r=n(122);t.count=function(e){return r.reduce((function(t,n,r){return!e||e(n,r)?t+1:t}),0)}},496:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0;var r=n(4935),o=n(2576),i=n(4990),s=n(7103);t.debounce=function(e){return r.operate((function(t,n){var r=!1,u=null,a=null,c=function(){if(null==a||a.unsubscribe(),a=null,r){r=!1;var e=u;u=null,n.next(e)}};t.subscribe(i.createOperatorSubscriber(n,(function(t){null==a||a.unsubscribe(),r=!0,u=t,a=i.createOperatorSubscriber(n,c,o.noop),s.innerFrom(e(t)).subscribe(a)}),(function(){c(),n.complete()}),void 0,(function(){u=a=null})))}))}},1385:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debounceTime=void 0;var r=n(2445),o=n(4935),i=n(4990);t.debounceTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.operate((function(n,r){var o=null,s=null,u=null,a=function(){if(o){o.unsubscribe(),o=null;var e=s;s=null,r.next(e)}};function c(){var n=u+e,i=t.now();if(i<n)return o=this.schedule(void 0,n-i),void r.add(o);a()}n.subscribe(i.createOperatorSubscriber(r,(function(n){s=n,u=t.now(),o||(o=t.schedule(c,e),r.add(o))}),(function(){a(),r.complete()}),void 0,(function(){s=o=null})))}))}},1658:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultIfEmpty=void 0;var r=n(4935),o=n(4990);t.defaultIfEmpty=function(e){return r.operate((function(t,n){var r=!1;t.subscribe(o.createOperatorSubscriber(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}},5841:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0;var r=n(2445),o=n(8798),i=n(7513);t.delay=function(e,t){void 0===t&&(t=r.asyncScheduler);var n=i.timer(e,t);return o.delayWhen((function(){return n}))}},8798:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delayWhen=void 0;var r=n(2239),o=n(4783),i=n(9438),s=n(8313),u=n(9475);t.delayWhen=function e(t,n){return n?function(s){return r.concat(n.pipe(o.take(1),i.ignoreElements()),s.pipe(e(t)))}:u.mergeMap((function(e,n){return t(e,n).pipe(o.take(1),s.mapTo(e))}))}},1080:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dematerialize=void 0;var r=n(3104),o=n(4935),i=n(4990);t.dematerialize=function(){return o.operate((function(e,t){e.subscribe(i.createOperatorSubscriber(t,(function(e){return r.observeNotification(e,t)})))}))}},3054:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinct=void 0;var r=n(4935),o=n(4990),i=n(2576);t.distinct=function(e,t){return r.operate((function(n,r){var s=new Set;n.subscribe(o.createOperatorSubscriber(r,(function(t){var n=e?e(t):t;s.has(n)||(s.add(n),r.next(t))}))),null==t||t.subscribe(o.createOperatorSubscriber(r,(function(){return s.clear()}),i.noop))}))}},8737:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilChanged=void 0;var r=n(4781),o=n(4935),i=n(4990);function s(e,t){return e===t}t.distinctUntilChanged=function(e,t){return void 0===t&&(t=r.identity),e=null!=e?e:s,o.operate((function(n,r){var o,s=!0;n.subscribe(i.createOperatorSubscriber(r,(function(n){var i=t(n);!s&&e(o,i)||(s=!1,o=i,r.next(n))})))}))}},7957:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilKeyChanged=void 0;var r=n(8737);t.distinctUntilKeyChanged=function(e,t){return r.distinctUntilChanged((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))}},8633:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.elementAt=void 0;var r=n(2351),o=n(9154),i=n(1779),s=n(1658),u=n(4783);t.elementAt=function(e,t){if(e<0)throw new r.ArgumentOutOfRangeError;var n=arguments.length>=2;return function(a){return a.pipe(o.filter((function(t,n){return n===e})),u.take(1),n?s.defaultIfEmpty(t):i.throwIfEmpty((function(){return new r.ArgumentOutOfRangeError})))}}},911:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.endWith=void 0;var i=n(2239),s=n(5726);t.endWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return i.concat(t,s.of.apply(void 0,o([],r(e))))}}},2096:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.every=void 0;var r=n(4935),o=n(4990);t.every=function(e,t){return r.operate((function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,(function(o){e.call(t,o,i++,n)||(r.next(!1),r.complete())}),(function(){r.next(!0),r.complete()})))}))}},67:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaust=void 0;var r=n(5337);t.exhaust=r.exhaustAll},5337:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustAll=void 0;var r=n(4935),o=n(7103),i=n(4990);t.exhaustAll=function(){return r.operate((function(e,t){var n=!1,r=null;e.subscribe(i.createOperatorSubscriber(t,(function(e){r||(r=o.innerFrom(e).subscribe(i.createOperatorSubscriber(t,void 0,(function(){r=null,n&&t.complete()}))))}),(function(){n=!0,!r&&t.complete()})))}))}},5635:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustMap=void 0;var r=n(7291),o=n(7103),i=n(4935),s=n(4990);t.exhaustMap=function e(t,n){return n?function(i){return i.pipe(e((function(e,i){return o.innerFrom(t(e,i)).pipe(r.map((function(t,r){return n(e,t,i,r)})))})))}:i.operate((function(e,n){var r=0,i=null,u=!1;e.subscribe(s.createOperatorSubscriber(n,(function(e){i||(i=s.createOperatorSubscriber(n,void 0,(function(){i=null,u&&n.complete()})),o.innerFrom(t(e,r++)).subscribe(i))}),(function(){u=!0,!i&&n.complete()})))}))}},9745:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.expand=void 0;var r=n(4935),o=n(7788);t.expand=function(e,t,n){return void 0===t&&(t=1/0),t=(t||0)<1?1/0:t,r.operate((function(r,i){return o.mergeInternals(r,i,e,t,void 0,!0,n)}))}},9154:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.filter=void 0;var r=n(4935),o=n(4990);t.filter=function(e,t){return r.operate((function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,(function(n){return e.call(t,n,i++)&&r.next(n)})))}))}},9283:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.finalize=void 0;var r=n(4935);t.finalize=function(e){return r.operate((function(t,n){try{t.subscribe(n)}finally{n.add(e)}}))}},7119:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createFind=t.find=void 0;var r=n(4935),o=n(4990);function i(e,t,n){var r="index"===n;return function(n,i){var s=0;n.subscribe(o.createOperatorSubscriber(i,(function(o){var u=s++;e.call(t,o,u,n)&&(i.next(r?u:o),i.complete())}),(function(){i.next(r?-1:void 0),i.complete()})))}}t.find=function(e,t){return r.operate(i(e,t,"value"))},t.createFind=i},4706:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.findIndex=void 0;var r=n(4935),o=n(7119);t.findIndex=function(e,t){return r.operate(o.createFind(e,t,"index"))}},9219:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.first=void 0;var r=n(9474),o=n(9154),i=n(4783),s=n(1658),u=n(1779),a=n(4781);t.first=function(e,t){var n=arguments.length>=2;return function(c){return c.pipe(e?o.filter((function(t,n){return e(t,n,c)})):a.identity,i.take(1),n?s.defaultIfEmpty(t):u.throwIfEmpty((function(){return new r.EmptyError})))}}},1788:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.flatMap=void 0;var r=n(9475);t.flatMap=r.mergeMap},9749:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.groupBy=void 0;var r=n(2419),o=n(7103),i=n(3032),s=n(4935),u=n(4990);t.groupBy=function(e,t,n,a){return s.operate((function(s,c){var l;t&&"function"!=typeof t?(n=t.duration,l=t.element,a=t.connector):l=t;var d=new Map,f=function(e){d.forEach(e),e(c)},p=function(e){return f((function(t){return t.error(e)}))},h=0,v=!1,y=new u.OperatorSubscriber(c,(function(t){try{var s=e(t),f=d.get(s);if(!f){d.set(s,f=a?a():new i.Subject);var g=(b=s,_=f,(w=new r.Observable((function(e){h++;var t=_.subscribe(e);return function(){t.unsubscribe(),0==--h&&v&&y.unsubscribe()}}))).key=b,w);if(c.next(g),n){var m=u.createOperatorSubscriber(f,(function(){f.complete(),null==m||m.unsubscribe()}),void 0,void 0,(function(){return d.delete(s)}));y.add(o.innerFrom(n(g)).subscribe(m))}}f.next(l?l(t):t)}catch(e){p(e)}var b,_,w}),(function(){return f((function(e){return e.complete()}))}),p,(function(){return d.clear()}),(function(){return v=!0,0===h}));s.subscribe(y)}))}},9438:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ignoreElements=void 0;var r=n(4935),o=n(4990),i=n(2576);t.ignoreElements=function(){return r.operate((function(e,t){e.subscribe(o.createOperatorSubscriber(t,i.noop))}))}},8515:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var r=n(4935),o=n(4990);t.isEmpty=function(){return r.operate((function(e,t){e.subscribe(o.createOperatorSubscriber(t,(function(){t.next(!1),t.complete()}),(function(){t.next(!0),t.complete()})))}))}},2069:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.joinAllInternals=void 0;var r=n(4781),o=n(1914),i=n(2872),s=n(9475),u=n(2);t.joinAllInternals=function(e,t){return i.pipe(u.toArray(),s.mergeMap((function(t){return e(t)})),t?o.mapOneOrManyArgs(t):r.identity)}},2435:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.last=void 0;var r=n(9474),o=n(9154),i=n(1980),s=n(1779),u=n(1658),a=n(4781);t.last=function(e,t){var n=arguments.length>=2;return function(c){return c.pipe(e?o.filter((function(t,n){return e(t,n,c)})):a.identity,i.takeLast(1),n?u.defaultIfEmpty(t):s.throwIfEmpty((function(){return new r.EmptyError})))}}},7291:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.map=void 0;var r=n(4935),o=n(4990);t.map=function(e,t){return r.operate((function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,(function(n){r.next(e.call(t,n,i++))})))}))}},8313:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mapTo=void 0;var r=n(7291);t.mapTo=function(e){return r.map((function(){return e}))}},3209:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.materialize=void 0;var r=n(3104),o=n(4935),i=n(4990);t.materialize=function(){return o.operate((function(e,t){e.subscribe(i.createOperatorSubscriber(t,(function(e){t.next(r.Notification.createNext(e))}),(function(){t.next(r.Notification.createComplete()),t.complete()}),(function(e){t.next(r.Notification.createError(e)),t.complete()})))}))}},2620:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.max=void 0;var r=n(122),o=n(3005);t.max=function(e){return r.reduce(o.isFunction(e)?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}},9821:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var i=n(4935),s=n(5498),u=n(3783),a=n(2433),c=n(5432);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.popScheduler(e),l=a.popNumber(e,1/0);return e=s.argsOrArgArray(e),i.operate((function(t,i){u.mergeAll(l)(c.from(o([t],r(e)),n)).subscribe(i)}))}},3783:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=void 0;var r=n(9475),o=n(4781);t.mergeAll=function(e){return void 0===e&&(e=1/0),r.mergeMap(o.identity,e)}},7788:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeInternals=void 0;var r=n(7103),o=n(7738),i=n(4990);t.mergeInternals=function(e,t,n,s,u,a,c,l){var d=[],f=0,p=0,h=!1,v=function(){!h||d.length||f||t.complete()},y=function(e){return f<s?g(e):d.push(e)},g=function(e){a&&t.next(e),f++;var l=!1;r.innerFrom(n(e,p++)).subscribe(i.createOperatorSubscriber(t,(function(e){null==u||u(e),a?y(e):t.next(e)}),(function(){l=!0}),void 0,(function(){if(l)try{f--;for(var e=function(){var e=d.shift();c?o.executeSchedule(t,c,(function(){return g(e)})):g(e)};d.length&&f<s;)e();v()}catch(e){t.error(e)}})))};return e.subscribe(i.createOperatorSubscriber(t,y,(function(){h=!0,v()}))),function(){null==l||l()}}},9475:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMap=void 0;var r=n(7291),o=n(7103),i=n(4935),s=n(7788),u=n(3005);t.mergeMap=function e(t,n,a){return void 0===a&&(a=1/0),u.isFunction(n)?e((function(e,i){return r.map((function(t,r){return n(e,t,i,r)}))(o.innerFrom(t(e,i)))}),a):("number"==typeof n&&(a=n),i.operate((function(e,n){return s.mergeInternals(e,n,t,a)})))}},1211:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMapTo=void 0;var r=n(9475),o=n(3005);t.mergeMapTo=function(e,t,n){return void 0===n&&(n=1/0),o.isFunction(t)?r.mergeMap((function(){return e}),t,n):("number"==typeof t&&(n=t),r.mergeMap((function(){return e}),n))}},7267:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeScan=void 0;var r=n(4935),o=n(7788);t.mergeScan=function(e,t,n){return void 0===n&&(n=1/0),r.operate((function(r,i){var s=t;return o.mergeInternals(r,i,(function(t,n){return e(s,t,n)}),n,(function(e){s=e}),!1,void 0,(function(){return s=null}))}))}},9303:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeWith=void 0;var i=n(9821);t.mergeWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.merge.apply(void 0,o([],r(e)))}},9714:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.min=void 0;var r=n(122),o=n(3005);t.min=function(e){return r.reduce(o.isFunction(e)?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}},3848:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.multicast=void 0;var r=n(9518),o=n(3005),i=n(1995);t.multicast=function(e,t){var n=o.isFunction(e)?e:function(){return e};return o.isFunction(t)?i.connect(t,{connector:n}):function(e){return new r.ConnectableObservable(e,n)}}},1184:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observeOn=void 0;var r=n(7738),o=n(4935),i=n(4990);t.observeOn=function(e,t){return void 0===t&&(t=0),o.operate((function(n,o){n.subscribe(i.createOperatorSubscriber(o,(function(n){return r.executeSchedule(o,e,(function(){return o.next(n)}),t)}),(function(){return r.executeSchedule(o,e,(function(){return o.complete()}),t)}),(function(n){return r.executeSchedule(o,e,(function(){return o.error(n)}),t)})))}))}},6223:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=void 0;var i=n(4935),s=n(7103),u=n(5498),a=n(4990),c=n(2576);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=u.argsOrArgArray(e);return i.operate((function(e,t){var i=o([e],r(n)),u=function(){if(!t.closed)if(i.length>0){var e=void 0;try{e=s.innerFrom(i.shift())}catch(e){return void u()}var n=a.createOperatorSubscriber(t,void 0,c.noop,c.noop);e.subscribe(n),n.add(u)}else t.complete()};u()}))}},2731:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pairwise=void 0;var r=n(4935),o=n(4990);t.pairwise=function(){return r.operate((function(e,t){var n,r=!1;e.subscribe(o.createOperatorSubscriber(t,(function(e){var o=n;n=e,r&&t.next([o,e]),r=!0})))}))}},5649:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var r=n(8634),o=n(9154);t.partition=function(e,t){return function(n){return[o.filter(e,t)(n),o.filter(r.not(e,t))(n)]}}},4691:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pluck=void 0;var r=n(7291);t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return r.map((function(t){for(var r=t,o=0;o<n;o++){var i=null==r?void 0:r[e[o]];if(void 0===i)return;r=i}return r}))}},4474:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publish=void 0;var r=n(3032),o=n(3848),i=n(1995);t.publish=function(e){return e?function(t){return i.connect(e)(t)}:function(e){return o.multicast(new r.Subject)(e)}}},52:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishBehavior=void 0;var r=n(5240),o=n(9518);t.publishBehavior=function(e){return function(t){var n=new r.BehaviorSubject(e);return new o.ConnectableObservable(t,(function(){return n}))}}},2110:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishLast=void 0;var r=n(280),o=n(9518);t.publishLast=function(){return function(e){var t=new r.AsyncSubject;return new o.ConnectableObservable(e,(function(){return t}))}}},9864:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishReplay=void 0;var r=n(3274),o=n(3848),i=n(3005);t.publishReplay=function(e,t,n,s){n&&!i.isFunction(n)&&(s=n);var u=i.isFunction(n)?n:void 0;return function(n){return o.multicast(new r.ReplaySubject(e,t,s),u)(n)}}},9764:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.race=void 0;var i=n(5498),s=n(179);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.raceWith.apply(void 0,o([],r(i.argsOrArgArray(e))))}},179:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.raceWith=void 0;var i=n(5182),s=n(4935),u=n(4781);t.raceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?s.operate((function(t,n){i.raceInit(o([t],r(e)))(n)})):u.identity}},122:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reduce=void 0;var r=n(8345),o=n(4935);t.reduce=function(e,t){return o.operate(r.scanInternals(e,t,arguments.length>=2,!1,!0))}},8739:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.refCount=void 0;var r=n(4935),o=n(4990);t.refCount=function(){return r.operate((function(e,t){var n=null;e._refCount++;var r=o.createOperatorSubscriber(t,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)n=null;else{var r=e._connection,o=n;n=null,!r||o&&r!==o||r.unsubscribe(),t.unsubscribe()}}));e.subscribe(r),r.closed||(n=e.connect())}))}},5313:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.repeat=void 0;var r=n(6332),o=n(4935),i=n(4990),s=n(7103),u=n(7513);t.repeat=function(e){var t,n,a=1/0;return null!=e&&("object"==typeof e?(t=e.count,a=void 0===t?1/0:t,n=e.delay):a=e),a<=0?function(){return r.EMPTY}:o.operate((function(e,t){var r,o=0,c=function(){if(null==r||r.unsubscribe(),r=null,null!=n){var e="number"==typeof n?u.timer(n):s.innerFrom(n(o)),a=i.createOperatorSubscriber(t,(function(){a.unsubscribe(),l()}));e.subscribe(a)}else l()},l=function(){var n=!1;r=e.subscribe(i.createOperatorSubscriber(t,void 0,(function(){++o<a?r?c():n=!0:t.complete()}))),n&&c()};l()}))}},4068:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.repeatWhen=void 0;var r=n(3032),o=n(4935),i=n(4990);t.repeatWhen=function(e){return o.operate((function(t,n){var o,s,u=!1,a=!1,c=!1,l=function(){return c&&a&&(n.complete(),!0)},d=function(){c=!1,o=t.subscribe(i.createOperatorSubscriber(n,void 0,(function(){c=!0,!l()&&(s||(s=new r.Subject,e(s).subscribe(i.createOperatorSubscriber(n,(function(){o?d():u=!0}),(function(){a=!0,l()})))),s).next()}))),u&&(o.unsubscribe(),o=null,u=!1,d())};d()}))}},64:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.retry=void 0;var r=n(4935),o=n(4990),i=n(4781),s=n(7513),u=n(7103);t.retry=function(e){var t;void 0===e&&(e=1/0);var n=(t=e&&"object"==typeof e?e:{count:e}).count,a=void 0===n?1/0:n,c=t.delay,l=t.resetOnSuccess,d=void 0!==l&&l;return a<=0?i.identity:r.operate((function(e,t){var n,r=0,i=function(){var l=!1;n=e.subscribe(o.createOperatorSubscriber(t,(function(e){d&&(r=0),t.next(e)}),void 0,(function(e){if(r++<a){var d=function(){n?(n.unsubscribe(),n=null,i()):l=!0};if(null!=c){var f="number"==typeof c?s.timer(c):u.innerFrom(c(e,r)),p=o.createOperatorSubscriber(t,(function(){p.unsubscribe(),d()}),(function(){t.complete()}));f.subscribe(p)}else d()}else t.error(e)}))),l&&(n.unsubscribe(),n=null,i())};i()}))}},1188:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.retryWhen=void 0;var r=n(3032),o=n(4935),i=n(4990);t.retryWhen=function(e){return o.operate((function(t,n){var o,s,u=!1,a=function(){o=t.subscribe(i.createOperatorSubscriber(n,void 0,void 0,(function(t){s||(s=new r.Subject,e(s).subscribe(i.createOperatorSubscriber(n,(function(){return o?a():u=!0})))),s&&s.next(t)}))),u&&(o.unsubscribe(),o=null,u=!1,a())};a()}))}},4193:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sample=void 0;var r=n(4935),o=n(2576),i=n(4990);t.sample=function(e){return r.operate((function(t,n){var r=!1,s=null;t.subscribe(i.createOperatorSubscriber(n,(function(e){r=!0,s=e}))),e.subscribe(i.createOperatorSubscriber(n,(function(){if(r){r=!1;var e=s;s=null,n.next(e)}}),o.noop))}))}},6170:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sampleTime=void 0;var r=n(2445),o=n(4193),i=n(8990);t.sampleTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.sample(i.interval(e,t))}},5876:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scan=void 0;var r=n(4935),o=n(8345);t.scan=function(e,t){return r.operate(o.scanInternals(e,t,arguments.length>=2,!0))}},8345:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scanInternals=void 0;var r=n(4990);t.scanInternals=function(e,t,n,o,i){return function(s,u){var a=n,c=t,l=0;s.subscribe(r.createOperatorSubscriber(u,(function(t){var n=l++;c=a?e(c,t,n):(a=!0,t),o&&u.next(c)}),i&&function(){a&&u.next(c),u.complete()}))}}},1791:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sequenceEqual=void 0;var r=n(4935),o=n(4990);t.sequenceEqual=function(e,t){return void 0===t&&(t=function(e,t){return e===t}),r.operate((function(n,r){var i={buffer:[],complete:!1},s={buffer:[],complete:!1},u=function(e){r.next(e),r.complete()},a=function(e,n){var i=o.createOperatorSubscriber(r,(function(r){var o=n.buffer,i=n.complete;0===o.length?i?u(!1):e.buffer.push(r):!t(r,o.shift())&&u(!1)}),(function(){e.complete=!0;var t=n.complete,r=n.buffer;t&&u(0===r.length),null==i||i.unsubscribe()}));return i};n.subscribe(a(i,s)),e.subscribe(a(s,i))}))}},5137:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.share=void 0;var i=n(5432),s=n(4783),u=n(3032),a=n(5125),c=n(4935);function l(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return!0===t?(e(),null):!1===t?null:t.apply(void 0,o([],r(n))).pipe(s.take(1)).subscribe((function(){return e()}))}t.share=function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new u.Subject}:t,r=e.resetOnError,o=void 0===r||r,s=e.resetOnComplete,d=void 0===s||s,f=e.resetOnRefCountZero,p=void 0===f||f;return function(e){var t=null,r=null,s=null,u=0,f=!1,h=!1,v=function(){null==r||r.unsubscribe(),r=null},y=function(){v(),t=s=null,f=h=!1},g=function(){var e=t;y(),null==e||e.unsubscribe()};return c.operate((function(e,c){u++,h||f||v();var m=s=null!=s?s:n();c.add((function(){0!=--u||h||f||(r=l(g,p))})),m.subscribe(c),t||(t=new a.SafeSubscriber({next:function(e){return m.next(e)},error:function(e){h=!0,v(),r=l(y,o,e),m.error(e)},complete:function(){f=!0,v(),r=l(y,d),m.complete()}}),i.from(e).subscribe(t))}))(e)}}},1348:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shareReplay=void 0;var r=n(3274),o=n(5137);t.shareReplay=function(e,t,n){var i,s,u,a=!1;return e&&"object"==typeof e?(u=null!==(i=e.bufferSize)&&void 0!==i?i:1/0,t=null!==(s=e.windowTime)&&void 0!==s?s:1/0,a=!!e.refCount,n=e.scheduler):u=null!=e?e:1/0,o.share({connector:function(){return new r.ReplaySubject(u,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}},8242:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.single=void 0;var r=n(9474),o=n(6156),i=n(8598),s=n(4935),u=n(4990);t.single=function(e){return s.operate((function(t,n){var s,a=!1,c=!1,l=0;t.subscribe(u.createOperatorSubscriber(n,(function(r){c=!0,e&&!e(r,l++,t)||(a&&n.error(new o.SequenceError("Too many matching values")),a=!0,s=r)}),(function(){a?(n.next(s),n.complete()):n.error(c?new i.NotFoundError("No matching values"):new r.EmptyError)})))}))}},3169:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skip=void 0;var r=n(9154);t.skip=function(e){return r.filter((function(t,n){return e<=n}))}},2454:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipLast=void 0;var r=n(4781),o=n(4935),i=n(4990);t.skipLast=function(e){return e<=0?r.identity:o.operate((function(t,n){var r=new Array(e),o=0;return t.subscribe(i.createOperatorSubscriber(n,(function(t){var i=o++;if(i<e)r[i]=t;else{var s=i%e,u=r[s];r[s]=t,n.next(u)}}))),function(){r=null}}))}},6931:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipUntil=void 0;var r=n(4935),o=n(4990),i=n(7103),s=n(2576);t.skipUntil=function(e){return r.operate((function(t,n){var r=!1,u=o.createOperatorSubscriber(n,(function(){null==u||u.unsubscribe(),r=!0}),s.noop);i.innerFrom(e).subscribe(u),t.subscribe(o.createOperatorSubscriber(n,(function(e){return r&&n.next(e)})))}))}},7913:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipWhile=void 0;var r=n(4935),o=n(4990);t.skipWhile=function(e){return r.operate((function(t,n){var r=!1,i=0;t.subscribe(o.createOperatorSubscriber(n,(function(t){return(r||(r=!e(t,i++)))&&n.next(t)})))}))}},9234:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.startWith=void 0;var r=n(2239),o=n(2433),i=n(4935);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.popScheduler(e);return i.operate((function(t,o){(n?r.concat(e,t,n):r.concat(e,t)).subscribe(o)}))}},276:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeOn=void 0;var r=n(4935);t.subscribeOn=function(e,t){return void 0===t&&(t=0),r.operate((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}},9253:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchAll=void 0;var r=n(8518),o=n(4781);t.switchAll=function(){return r.switchMap(o.identity)}},8518:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchMap=void 0;var r=n(7103),o=n(4935),i=n(4990);t.switchMap=function(e,t){return o.operate((function(n,o){var s=null,u=0,a=!1,c=function(){return a&&!s&&o.complete()};n.subscribe(i.createOperatorSubscriber(o,(function(n){null==s||s.unsubscribe();var a=0,l=u++;r.innerFrom(e(n,l)).subscribe(s=i.createOperatorSubscriber(o,(function(e){return o.next(t?t(n,e,l,a++):e)}),(function(){s=null,c()})))}),(function(){a=!0,c()})))}))}},1173:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchMapTo=void 0;var r=n(8518),o=n(3005);t.switchMapTo=function(e,t){return o.isFunction(t)?r.switchMap((function(){return e}),t):r.switchMap((function(){return e}))}},3855:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchScan=void 0;var r=n(8518),o=n(4935);t.switchScan=function(e,t){return o.operate((function(n,o){var i=t;return r.switchMap((function(t,n){return e(i,t,n)}),(function(e,t){return i=t,t}))(n).subscribe(o),function(){i=null}}))}},4783:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.take=void 0;var r=n(6332),o=n(4935),i=n(4990);t.take=function(e){return e<=0?function(){return r.EMPTY}:o.operate((function(t,n){var r=0;t.subscribe(i.createOperatorSubscriber(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}},1980:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.takeLast=void 0;var o=n(6332),i=n(4935),s=n(4990);t.takeLast=function(e){return e<=0?function(){return o.EMPTY}:i.operate((function(t,n){var o=[];t.subscribe(s.createOperatorSubscriber(n,(function(t){o.push(t),e<o.length&&o.shift()}),(function(){var e,t;try{for(var i=r(o),s=i.next();!s.done;s=i.next()){var u=s.value;n.next(u)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}n.complete()}),void 0,(function(){o=null})))}))}},9845:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.takeUntil=void 0;var r=n(4935),o=n(4990),i=n(7103),s=n(2576);t.takeUntil=function(e){return r.operate((function(t,n){i.innerFrom(e).subscribe(o.createOperatorSubscriber(n,(function(){return n.complete()}),s.noop)),!n.closed&&t.subscribe(n)}))}},6060:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.takeWhile=void 0;var r=n(4935),o=n(4990);t.takeWhile=function(e,t){return void 0===t&&(t=!1),r.operate((function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,(function(n){var o=e(n,i++);(o||t)&&r.next(n),!o&&r.complete()})))}))}},1138:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tap=void 0;var r=n(3005),o=n(4935),i=n(4990),s=n(4781);t.tap=function(e,t,n){var u=r.isFunction(e)||t||n?{next:e,error:t,complete:n}:e;return u?o.operate((function(e,t){var n;null===(n=u.subscribe)||void 0===n||n.call(u);var r=!0;e.subscribe(i.createOperatorSubscriber(t,(function(e){var n;null===(n=u.next)||void 0===n||n.call(u,e),t.next(e)}),(function(){var e;r=!1,null===(e=u.complete)||void 0===e||e.call(u),t.complete()}),(function(e){var n;r=!1,null===(n=u.error)||void 0===n||n.call(u,e),t.error(e)}),(function(){var e,t;r&&(null===(e=u.unsubscribe)||void 0===e||e.call(u)),null===(t=u.finalize)||void 0===t||t.call(u)})))})):s.identity}},7306:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=t.defaultThrottleConfig=void 0;var r=n(4935),o=n(4990),i=n(7103);t.defaultThrottleConfig={leading:!0,trailing:!1},t.throttle=function(e,n){return void 0===n&&(n=t.defaultThrottleConfig),r.operate((function(t,r){var s=n.leading,u=n.trailing,a=!1,c=null,l=null,d=!1,f=function(){null==l||l.unsubscribe(),l=null,u&&(v(),d&&r.complete())},p=function(){l=null,d&&r.complete()},h=function(t){return l=i.innerFrom(e(t)).subscribe(o.createOperatorSubscriber(r,f,p))},v=function(){if(a){a=!1;var e=c;c=null,r.next(e),!d&&h(e)}};t.subscribe(o.createOperatorSubscriber(r,(function(e){a=!0,c=e,(!l||l.closed)&&(s?v():h(e))}),(function(){d=!0,(!(u&&a&&l)||l.closed)&&r.complete()})))}))}},8968:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throttleTime=void 0;var r=n(2445),o=n(7306),i=n(7513);t.throttleTime=function(e,t,n){void 0===t&&(t=r.asyncScheduler),void 0===n&&(n=o.defaultThrottleConfig);var s=i.timer(e,t);return o.throttle((function(){return s}),n)}},1779:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfEmpty=void 0;var r=n(9474),o=n(4935),i=n(4990);function s(){return new r.EmptyError}t.throwIfEmpty=function(e){return void 0===e&&(e=s),o.operate((function(t,n){var r=!1;t.subscribe(i.createOperatorSubscriber(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}},8005:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeInterval=t.timeInterval=void 0;var r=n(2445),o=n(4935),i=n(4990);t.timeInterval=function(e){return void 0===e&&(e=r.asyncScheduler),o.operate((function(t,n){var r=e.now();t.subscribe(i.createOperatorSubscriber(n,(function(t){var o=e.now(),i=o-r;r=o,n.next(new s(t,i))})))}))};var s=function(e,t){this.value=e,this.interval=t};t.TimeInterval=s},4173:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=t.TimeoutError=void 0;var r=n(2445),o=n(1677),i=n(4935),s=n(7103),u=n(7029),a=n(4990),c=n(7738);function l(e){throw new t.TimeoutError(e)}t.TimeoutError=u.createErrorClass((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}})),t.timeout=function(e,t){var n=o.isValidDate(e)?{first:e}:"number"==typeof e?{each:e}:e,u=n.first,d=n.each,f=n.with,p=void 0===f?l:f,h=n.scheduler,v=void 0===h?null!=t?t:r.asyncScheduler:h,y=n.meta,g=void 0===y?null:y;if(null==u&&null==d)throw new TypeError("No timeout provided.");return i.operate((function(e,t){var n,r,o=null,i=0,l=function(e){r=c.executeSchedule(t,v,(function(){try{n.unsubscribe(),s.innerFrom(p({meta:g,lastValue:o,seen:i})).subscribe(t)}catch(e){t.error(e)}}),e)};n=e.subscribe(a.createOperatorSubscriber(t,(function(e){null==r||r.unsubscribe(),i++,t.next(o=e),d>0&&l(d)}),void 0,void 0,(function(){(null==r?void 0:r.closed)||null==r||r.unsubscribe(),o=null}))),l(null!=u?"number"==typeof u?u:+u-v.now():d)}))}},7223:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutWith=void 0;var r=n(2445),o=n(1677),i=n(4173);t.timeoutWith=function(e,t,n){var s,u,a;if(n=null!=n?n:r.async,o.isValidDate(e)?s=e:"number"==typeof e&&(u=e),!t)throw new TypeError("No observable provided to switch to");if(a=function(){return t},null==s&&null==u)throw new TypeError("No timeout provided.");return i.timeout({first:s,each:u,scheduler:n,with:a})}},8975:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timestamp=void 0;var r=n(7950),o=n(7291);t.timestamp=function(e){return void 0===e&&(e=r.dateTimestampProvider),o.map((function(t){return{value:t,timestamp:e.now()}}))}},2:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toArray=void 0;var r=n(122),o=n(4935),i=function(e,t){return e.push(t),e};t.toArray=function(){return o.operate((function(e,t){r.reduce(i,[])(e).subscribe(t)}))}},2826:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.window=void 0;var r=n(3032),o=n(4935),i=n(4990),s=n(2576);t.window=function(e){return o.operate((function(t,n){var o=new r.Subject;n.next(o.asObservable());var u=function(e){o.error(e),n.error(e)};return t.subscribe(i.createOperatorSubscriber(n,(function(e){return null==o?void 0:o.next(e)}),(function(){o.complete(),n.complete()}),u)),e.subscribe(i.createOperatorSubscriber(n,(function(){o.complete(),n.next(o=new r.Subject)}),s.noop,u)),function(){null==o||o.unsubscribe(),o=null}}))}},7526:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowCount=void 0;var o=n(3032),i=n(4935),s=n(4990);t.windowCount=function(e,t){void 0===t&&(t=0);var n=t>0?t:e;return i.operate((function(t,i){var u=[new o.Subject],a=0;i.next(u[0].asObservable()),t.subscribe(s.createOperatorSubscriber(i,(function(t){var s,c;try{for(var l=r(u),d=l.next();!d.done;d=l.next())d.value.next(t)}catch(e){s={error:e}}finally{try{d&&!d.done&&(c=l.return)&&c.call(l)}finally{if(s)throw s.error}}var f=a-e+1;if(f>=0&&f%n==0&&u.shift().complete(),++a%n==0){var p=new o.Subject;u.push(p),i.next(p.asObservable())}}),(function(){for(;u.length>0;)u.shift().complete();i.complete()}),(function(e){for(;u.length>0;)u.shift().error(e);i.error(e)}),(function(){u=null})))}))}},8294:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.windowTime=void 0;var r=n(3032),o=n(2445),i=n(3865),s=n(4935),u=n(4990),a=n(6967),c=n(2433),l=n(7738);t.windowTime=function(e){for(var t,n,d=[],f=1;f<arguments.length;f++)d[f-1]=arguments[f];var p=null!==(t=c.popScheduler(d))&&void 0!==t?t:o.asyncScheduler,h=null!==(n=d[0])&&void 0!==n?n:null,v=d[1]||1/0;return s.operate((function(t,n){var o=[],s=!1,c=function(e){var t=e.window,n=e.subs;t.complete(),n.unsubscribe(),a.arrRemove(o,e),s&&d()},d=function(){if(o){var t=new i.Subscription;n.add(t);var s=new r.Subject,u={window:s,subs:t,seen:0};o.push(u),n.next(s.asObservable()),l.executeSchedule(t,p,(function(){return c(u)}),e)}};null!==h&&h>=0?l.executeSchedule(n,p,d,h,!0):s=!0,d();var f=function(e){return o.slice().forEach(e)},y=function(e){f((function(t){var n=t.window;return e(n)})),e(n),n.unsubscribe()};return t.subscribe(u.createOperatorSubscriber(n,(function(e){f((function(t){t.window.next(e),v<=++t.seen&&c(t)}))}),(function(){return y((function(e){return e.complete()}))}),(function(e){return y((function(t){return t.error(e)}))}))),function(){o=null}}))}},1883:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowToggle=void 0;var o=n(3032),i=n(3865),s=n(4935),u=n(7103),a=n(4990),c=n(2576),l=n(6967);t.windowToggle=function(e,t){return s.operate((function(n,s){var d=[],f=function(e){for(;0<d.length;)d.shift().error(e);s.error(e)};u.innerFrom(e).subscribe(a.createOperatorSubscriber(s,(function(e){var n=new o.Subject;d.push(n);var r,p=new i.Subscription;try{r=u.innerFrom(t(e))}catch(e){return void f(e)}s.next(n.asObservable()),p.add(r.subscribe(a.createOperatorSubscriber(s,(function(){l.arrRemove(d,n),n.complete(),p.unsubscribe()}),c.noop,f)))}),c.noop)),n.subscribe(a.createOperatorSubscriber(s,(function(e){var t,n,o=d.slice();try{for(var i=r(o),s=i.next();!s.done;s=i.next())s.value.next(e)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}),(function(){for(;0<d.length;)d.shift().complete();s.complete()}),f,(function(){for(;0<d.length;)d.shift().unsubscribe()})))}))}},4309:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.windowWhen=void 0;var r=n(3032),o=n(4935),i=n(4990),s=n(7103);t.windowWhen=function(e){return o.operate((function(t,n){var o,u,a=function(e){o.error(e),n.error(e)},c=function(){var t;null==u||u.unsubscribe(),null==o||o.complete(),o=new r.Subject,n.next(o.asObservable());try{t=s.innerFrom(e())}catch(e){return void a(e)}t.subscribe(u=i.createOperatorSubscriber(n,c,c,a))};c(),t.subscribe(i.createOperatorSubscriber(n,(function(e){return o.next(e)}),(function(){o.complete(),n.complete()}),a,(function(){null==u||u.unsubscribe(),o=null})))}))}},3041:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.withLatestFrom=void 0;var i=n(4935),s=n(4990),u=n(7103),a=n(4781),c=n(2576),l=n(2433);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=l.popResultSelector(e);return i.operate((function(t,i){for(var l=e.length,d=new Array(l),f=e.map((function(){return!1})),p=!1,h=function(t){u.innerFrom(e[t]).subscribe(s.createOperatorSubscriber(i,(function(e){d[t]=e,p||f[t]||(f[t]=!0,(p=f.every(a.identity))&&(f=null))}),c.noop))},v=0;v<l;v++)h(v);t.subscribe(s.createOperatorSubscriber(i,(function(e){if(p){var t=o([e],r(d));i.next(n?n.apply(void 0,o([],r(t))):t)}})))}))}},4400:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var i=n(7654),s=n(4935);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.operate((function(t,n){i.zip.apply(void 0,o([t],r(e))).subscribe(n)}))}},8593:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.zipAll=void 0;var r=n(7654),o=n(2069);t.zipAll=function(e){return o.joinAllInternals(r.zip,e)}},8096:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zipWith=void 0;var i=n(4400);t.zipWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.zip.apply(void 0,o([],r(e)))}},7631:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleArray=void 0;var r=n(2419);t.scheduleArray=function(e,t){return new r.Observable((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}},8489:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleAsyncIterable=void 0;var r=n(2419),o=n(7738);t.scheduleAsyncIterable=function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.Observable((function(n){o.executeSchedule(n,t,(function(){var r=e[Symbol.asyncIterator]();o.executeSchedule(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}},1297:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleIterable=void 0;var r=n(2419),o=n(3725),i=n(3005),s=n(7738);t.scheduleIterable=function(e,t){return new r.Observable((function(n){var r;return s.executeSchedule(n,t,(function(){r=e[o.iterator](),s.executeSchedule(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(e){return void n.error(e)}o?n.complete():n.next(t)}),0,!0)})),function(){return i.isFunction(null==r?void 0:r.return)&&r.return()}}))}},4001:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleObservable=void 0;var r=n(7103),o=n(1184),i=n(276);t.scheduleObservable=function(e,t){return r.innerFrom(e).pipe(i.subscribeOn(t),o.observeOn(t))}},5143:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.schedulePromise=void 0;var r=n(7103),o=n(1184),i=n(276);t.schedulePromise=function(e,t){return r.innerFrom(e).pipe(i.subscribeOn(t),o.observeOn(t))}},3676:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleReadableStreamLike=void 0;var r=n(8489),o=n(7823);t.scheduleReadableStreamLike=function(e,t){return r.scheduleAsyncIterable(o.readableStreamLikeToAsyncGenerator(e),t)}},5207:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduled=void 0;var r=n(4001),o=n(5143),i=n(7631),s=n(1297),u=n(8489),a=n(9500),c=n(6018),l=n(3909),d=n(2743),f=n(9595),p=n(9906),h=n(7823),v=n(3676);t.scheduled=function(e,t){if(null!=e){if(a.isInteropObservable(e))return r.scheduleObservable(e,t);if(l.isArrayLike(e))return i.scheduleArray(e,t);if(c.isPromise(e))return o.schedulePromise(e,t);if(f.isAsyncIterable(e))return u.scheduleAsyncIterable(e,t);if(d.isIterable(e))return s.scheduleIterable(e,t);if(h.isReadableStreamLike(e))return v.scheduleReadableStreamLike(e,t)}throw p.createInvalidObservableTypeError(e)}},1986:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var i=function(e){function t(t,n){return e.call(this)||this}return o(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(3865).Subscription);t.Action=i},9702:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAction=void 0;var i=n(1986),s=n(8203),u=n(6967),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return o(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),s.intervalProvider.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;s.intervalProvider.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,u.arrRemove(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(i.Action);t.AsyncAction=a},3643:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncScheduler=void 0;var i=n(218),s=function(e){function t(t,n){void 0===n&&(n=i.Scheduler.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return o(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.Scheduler);t.AsyncScheduler=s},2445:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.async=t.asyncScheduler=void 0;var r=n(9702),o=n(3643);t.asyncScheduler=new o.AsyncScheduler(r.AsyncAction),t.async=t.asyncScheduler},7950:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dateTimestampProvider=void 0,t.dateTimestampProvider={now:function(){return(t.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},8203:function(e,t){var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.intervalProvider=void 0,t.intervalProvider={setInterval:function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var i=t.intervalProvider.delegate;return((null==i?void 0:i.setInterval)||setInterval).apply(void 0,r([],n(e)))},clearInterval:function(e){var n=t.intervalProvider.delegate;return((null==n?void 0:n.clearInterval)||clearInterval)(e)},delegate:void 0}},4590:function(e,t){var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutProvider=void 0,t.timeoutProvider={setTimeout:function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var i=t.timeoutProvider.delegate;return((null==i?void 0:i.setTimeout)||setTimeout).apply(void 0,r([],n(e)))},clearTimeout:function(e){var n=t.timeoutProvider.delegate;return((null==n?void 0:n.clearTimeout)||clearTimeout)(e)},delegate:void 0}},3725:(e,t)=>{function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(t,"__esModule",{value:!0}),t.iterator=t.getSymbolIterator=void 0,t.getSymbolIterator=n,t.iterator=n()},2801:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observable=void 0,t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},2351:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ArgumentOutOfRangeError=void 0;var r=n(7029);t.ArgumentOutOfRangeError=r.createErrorClass((function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}))},9474:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyError=void 0;var r=n(7029);t.EmptyError=r.createErrorClass((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}))},8598:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NotFoundError=void 0;var r=n(7029);t.NotFoundError=r.createErrorClass((function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}}))},2642:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectUnsubscribedError=void 0;var r=n(7029);t.ObjectUnsubscribedError=r.createErrorClass((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}))},6156:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceError=void 0;var r=n(7029);t.SequenceError=r.createErrorClass((function(e){return function(t){e(this),this.name="SequenceError",this.message=t}}))},4805:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscriptionError=void 0;var r=n(7029);t.UnsubscriptionError=r.createErrorClass((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}))},2433:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.popNumber=t.popScheduler=t.popResultSelector=void 0;var r=n(3005),o=n(9016);function i(e){return e[e.length-1]}t.popResultSelector=function(e){return r.isFunction(i(e))?e.pop():void 0},t.popScheduler=function(e){return o.isScheduler(i(e))?e.pop():void 0},t.popNumber=function(e,t){return"number"==typeof i(e)?e.pop():t}},1203:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.argsArgArrayOrObject=void 0;var n=Array.isArray,r=Object.getPrototypeOf,o=Object.prototype,i=Object.keys;t.argsArgArrayOrObject=function(e){if(1===e.length){var t=e[0];if(n(t))return{args:t,keys:null};if((u=t)&&"object"==typeof u&&r(u)===o){var s=i(t);return{args:s.map((function(e){return t[e]})),keys:s}}}var u;return{args:e,keys:null}}},5498:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.argsOrArgArray=void 0;var n=Array.isArray;t.argsOrArgArray=function(e){return 1===e.length&&n(e[0])?e[0]:e}},6967:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.arrRemove=void 0,t.arrRemove=function(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}},7029:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createErrorClass=void 0,t.createErrorClass=function(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}},641:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createObject=void 0,t.createObject=function(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}},6110:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.captureError=t.errorContext=void 0;var r=n(3280),o=null;t.errorContext=function(e){if(r.config.useDeprecatedSynchronousErrorHandling){var t=!o;if(t&&(o={errorThrown:!1,error:null}),e(),t){var n=o,i=n.errorThrown,s=n.error;if(o=null,i)throw s}}else e()},t.captureError=function(e){r.config.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=e)}},7738:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.executeSchedule=void 0,t.executeSchedule=function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}},4781:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.identity=void 0,t.identity=function(e){return e}},3909:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayLike=void 0,t.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},9595:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=void 0;var r=n(3005);t.isAsyncIterable=function(e){return Symbol.asyncIterator&&r.isFunction(null==e?void 0:e[Symbol.asyncIterator])}},1677:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isValidDate=void 0,t.isValidDate=function(e){return e instanceof Date&&!isNaN(e)}},3005:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=void 0,t.isFunction=function(e){return"function"==typeof e}},9500:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isInteropObservable=void 0;var r=n(2801),o=n(3005);t.isInteropObservable=function(e){return o.isFunction(e[r.observable])}},2743:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isIterable=void 0;var r=n(3725),o=n(3005);t.isIterable=function(e){return o.isFunction(null==e?void 0:e[r.iterator])}},6018:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=void 0;var r=n(3005);t.isPromise=function(e){return r.isFunction(null==e?void 0:e.then)}},7823:function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},o=this&&this.__await||function(e){return this instanceof o?(this.v=e,this):new o(e)},i=this&&this.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof o?Promise.resolve(n.value.v).then(c,l):d(s[0][2],n)}catch(e){d(s[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.isReadableStreamLike=t.readableStreamLikeToAsyncGenerator=void 0;var s=n(3005);t.readableStreamLikeToAsyncGenerator=function(e){return i(this,arguments,(function(){var t,n,i;return r(this,(function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,o(t.read())];case 3:return n=r.sent(),i=n.value,n.done?[4,o(void 0)]:[3,5];case 4:return[2,r.sent()];case 5:return[4,o(i)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))},t.isReadableStreamLike=function(e){return s.isFunction(null==e?void 0:e.getReader)}},9016:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isScheduler=void 0;var r=n(3005);t.isScheduler=function(e){return e&&r.isFunction(e.schedule)}},4935:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.operate=t.hasLift=void 0;var r=n(3005);function o(e){return r.isFunction(null==e?void 0:e.lift)}t.hasLift=o,t.operate=function(e){return function(t){if(o(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}},1914:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mapOneOrManyArgs=void 0;var i=n(7291),s=Array.isArray;t.mapOneOrManyArgs=function(e){return i.map((function(t){return function(e,t){return s(t)?e.apply(void 0,o([],r(t))):e(t)}(e,t)}))}},2576:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.noop=void 0,t.noop=function(){}},8634:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.not=void 0,t.not=function(e,t){return function(n,r){return!e.call(t,n,r)}}},2872:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pipeFromArray=t.pipe=void 0;var r=n(4781);function o(e){return 0===e.length?r.identity:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)},t.pipeFromArray=o},7968:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reportUnhandledError=void 0;var r=n(3280),o=n(4590);t.reportUnhandledError=function(e){o.timeoutProvider.setTimeout((function(){var t=r.config.onUnhandledError;if(!t)throw e;t(e)}))}},9906:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createInvalidObservableTypeError=void 0,t.createInvalidObservableTypeError=function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},4857:(e,t,n)=>{t.BN=void 0;n(6474),n(5382),n(9715),n(3814),n(7211),n(4943),n(1240),n(9548),n(2128),n(3240),n(6318),n(5024),n(4919),n(4413),n(7498),n(6109),n(9664),n(1995),n(993),n(496),n(1385),n(1658),n(5841),n(8798),n(1080),n(3054),n(8737),n(7957),n(8633),n(911),n(2096),n(67),n(5337),n(5635),n(9745),n(9154),n(9283),n(7119),n(4706),n(9219),n(9749),n(9438),n(8515),n(2435),n(7291),n(8313),n(3209),n(2620),n(9821),n(3783),n(1788),n(9475),n(1211),n(7267),n(9303),n(9714),n(3848),n(1184),n(6223),n(2731),n(5649),n(4691),n(4474),n(52),n(2110),n(9864),n(9764),n(179),n(122),n(5313),n(4068),n(64),n(1188),n(8739),n(4193),n(6170),n(5876),n(1791);var r=n(5137);Object.defineProperty(t,"BN",{enumerable:!0,get:function(){return r.share}});n(1348),n(8242),n(3169),n(2454),n(6931),n(7913),n(9234),n(276),n(9253),n(8518),n(1173),n(3855),n(4783),n(1980),n(9845),n(6060),n(1138),n(7306),n(8968),n(1779),n(8005),n(4173),n(7223),n(8975),n(2),n(2826),n(7526),n(8294),n(1883),n(4309),n(3041),n(4400),n(8593),n(8096)},6168:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.reOrderProofObject=t.signProofObject=t.getClaims=t.signCredentialObject=t.signCredential=t.reOrderCredentialProof=t.sortObjectAlphabetically=t.calculateMinutesDifference=t.getKeyPurpose=t.getSha3Key=t.knownAddressesContains=t.didContractKeyWrong=t.issuerCredentialSignatureWrong=t.userCredentialSignatureWrong=t.validCredentialsFunc=t.validCredentialsTrustedPartiesFunc=void 0;const o=r(n(8519)),i=n(1485);async function s(e,t,n){"string"==typeof e&&(e=JSON.parse(e)),console.log("before reOrderCredentialObject:",JSON.stringify(e)),e=h(e),console.log("after reOrderCredentialObject:",JSON.stringify(e));const r=new o.default(t),s=[];let l=0,d=0;const f=[];for(const[o]of Object.entries(e.credentials)){const h={credentials:{[o]:JSON.parse(JSON.stringify(e.credentials[o]))}};delete h.credentials[o].proof.signature,console.log("RECOVERING THIS OBJECT:",JSON.stringify(h));const v=r.eth.accounts.recover(JSON.stringify(h),e.credentials[o].proof.signature);if(u(e.credentials[o].proof.holder,v))for(const[,u]of Object.entries(e.credentials[o].credentials)){if(d++,!u.version){f.push({credential:u,code:8,message:"Incorrect credential version. Renew your credentials"});continue}const h=new Date(u.expirationDate),v=new Date;if(v>h)f.push({credential:u,code:7,message:`Your credential expired on ${h}`});else if(p(v,new Date(e.credentials[o].proof.nonce))>5&&n)f.push({credential:u,code:2,message:"Nonce too old"});else if(a(u,r)){const n=u.proof.holder,a=u.issuer.id.split(":")[2];if(await c(r,t,i.claimHolderAbi,n,a,s)){const n=e.credentials[o].proof.holder,a=u.id.split(":")[2];await c(r,t,i.claimHolderAbi,n,a,s)?l++:f.push({credential:u,code:6,message:"User did incorrect"})}else f.push({credential:u,code:5,message:"Issuer did incorrect"})}else f.push({credential:u,code:4,message:"Issuer signature incorrect"})}else f.push({credential:e.credentials[o],code:3,message:"User signature incorrect"})}return console.log("only cred validCredentialsAmount:",l),console.log("only cred credentialsAmount:",d),d>0&&l===d?{credentials:e.credentials,valid:!0,code:0,message:"Valid credential"}:{valid:!1,code:1,message:"Invalid credential",invalidCredentials:f}}function u(e,t){return e===t||(console.error(`User signature of credential ${e} does not match recoveredAddress ${t}`),!1)}function a(e,t){const n=e.proof.signature,r=e.proof.holder,o=JSON.parse(JSON.stringify(e));delete o.proof.signature;const i=t.eth.accounts.recover(JSON.stringify(o),n);return r===i||(console.error(`Issuer signature of credential ${r} does not match recoveredAddress ${i}`),!1)}async function c(e,t,n,r,i,s){const u=s.find((e=>e.did==i&&e.holderKey===r));if(u)return u.result;{const u=[];if(i===r)return s.push({did:i,holderKey:r,result:!0}),!0;{const a=d(r,e),c=new(new o.default(t).eth.Contract)(n,i);if(!l(u,a,i)){const e=parseInt(await f(c,a),10);if(0===e||e>3)return s.push({did:i,holderKey:r,result:!1}),!1;u.push({sha3Key:a,didAddress:i})}return s.push({did:i,holderKey:r,result:!0}),!0}}}function l(e,t,n){for(const r of e)if(r.sha3Key===t&&r.didContractAddress===n)return!0}function d(e,t){return t.utils.keccak256(e)}async function f(e,t){return null===e.options.address?Promise.resolve("-1"):await e.methods.getKeyPurpose(t).call()}function p(e,t){let n=(e.getTime()-t.getTime())/1e3;return n/=60,Math.abs(Math.round(n))}function h(e){console.log("reOrderCredentialObject:",e),console.log("All providers:",Object.keys(e.credentials));for(const t of Object.keys(e.credentials)){console.log("reOrderCredentialObject provider:",t);const n=[];console.log("credentialObject.credentials:",e.credentials),console.log("credentialObject.credentials[provider]:",e.credentials[t]),console.log("credentialObject.credentials[provider].credentials:",e.credentials[t].credentials),console.log("Object.keys(credentialObject.credentials[provider].credentials):",Object.keys(e.credentials[t].credentials));for(const r of Object.keys(e.credentials[t].credentials))console.log("credentialKey:",r),n.push(r);console.log("before sort credentialKeys:",n),n.sort(),console.log("after sort credentialKeys:",n);const r={};for(const o of n){const n=v(e.credentials[t].credentials[o]);console.log("reOrderedCredential:",n),r[o]=n}console.log("reOrderedCredentials:",r),console.log("reOrderCredentialObject credential[provider].proof:",e.credentials[t].proof),e.credentials[t].proof=g(e.credentials[t].proof),e.credentials[t]={credentials:r,proof:e.credentials[t].proof}}return e}function v(e){return y(e)}function y(e){const t={},n=Object.keys(e);n.sort(((e,t)=>(e=e.toLowerCase())<(t=t.toLowerCase())?-1:e>t?1:0));for(const r in n){const o=n[r];"object"!=typeof e[o]||e[o]instanceof Array?t[o]=e[o]:t[o]=y(e[o])}return t}function g(e){return{holder:e.holder,nonce:e.nonce,signature:e.signature,type:e.type}}async function m(e,t,n){const r=new n.eth.Contract(i.claimHolderAbi,t),o=await r.methods.getClaimIdsByType(e).call();if(!(o.length>0))return Promise.resolve(null);try{const e=await r.methods.getClaim(o[o.length-1]).call(),t=JSON.parse(n.utils.toAscii(e.data));return Promise.resolve(t)}catch(e){return Promise.resolve(null)}}function b(e){return y(e)}t.validCredentialsTrustedPartiesFunc=async function(e,t,n,r,i){const u=new o.default(t),a=function(e,t){const n={success:!0,missingKeys:[]};for(const r of t.credentials){let o=!1;if(t.minimumRequired&&(o=!!t.minimumRequired.data.find((e=>e===r.key))),r.required&&!o){Array.isArray(r.provider)||(r.provider=[r.provider]);let t=!1;for(const n of r.provider)e.credentials[n]&&e.credentials[n].credentials&&e.credentials[n].credentials[r.key]&&(t=!0);t||(n.success=!1,n.missingKeys.push(r))}}if(t.minimumRequired){const r=Object.keys(e.credentials),o=t.minimumRequired.data;let i=0;for(const t of r)for(const n of o)e.credentials[t]&&e.credentials[t].credentials&&e.credentials[t].credentials[n]&&i++;i<t.minimumRequired.amount&&(n.success=!1,n.missingMessage=`Check the minimumRequired array. Found ${i} items and required amount ${t.minimumRequired.amount}`)}return n}(e,n);if(!a.success)return a.credentials=e,a;const c=await s(e,t,i);if(!c.valid)return c;for(const e of r)u.utils.isAddress(e)||(console.error(`Trusted party did ${e} is NOT a valid address and is removed.`),r=r.filter((t=>t!==e)));if(r.length>0){const t=[];let n=0,o=0;const i=[];for(const[s]of Object.entries(e.credentials))for(const[a,c]of Object.entries(e.credentials[s].credentials)){o++;const e=c.issuer.id.split(":")[2];let s=!1,l=null,d=null,f=!0;for(const o of r){const r=t.find((t=>t.issuerDidContractAddress===e&&t.did===o));let p=null;if(r?p=r.claim:(p=await m(e,o,u),t.push({issuerDidContractAddress:e,did:o,claim:p})),p)if(f=!1,new Date(p.expirationDate)>new Date){const e=p.keys;d=e;const t=`${c.provider}_${a}`;if(!e.includes(t)){l=t,console.log(`Provider ${o} was not allowed to issue key ${t}. Skipping this one`);break}if(!l){n++,s=!0;break}}else i.push({credential:c,valid:!1,code:14,message:"Claim expired."})}f?i.push({credential:c,valid:!1,code:13,message:`No claims found to check. Checked dids ${r}`}):!l||s||i.push({credential:c,valid:!1,code:12,message:`Tried to validate attribute ${l} but provider was not allowed to issue. Allowed attributes: ${d.join(", ")}`})}return console.log("trusted check validCredentialsAmount:",n),console.log("trusted check credentialsAmount:",o),n===o?{credentials:e.credentials,valid:!0,code:0,message:"Valid credential",requestedCheckResult:a}:{valid:!1,code:1,message:"Invalid credentials",invalidCredentials:i}}return{valid:!1,code:10,message:"No trusted parties to check."}},t.validCredentialsFunc=s,t.userCredentialSignatureWrong=u,t.issuerCredentialSignatureWrong=a,t.didContractKeyWrong=c,t.knownAddressesContains=l,t.getSha3Key=d,t.getKeyPurpose=f,t.calculateMinutesDifference=p,t.sortObjectAlphabetically=y,t.reOrderCredentialProof=g,t.signCredential=function(e,t){return"string"==typeof e&&(e=JSON.parse(e)),e=v(e),(new o.default).eth.accounts.sign(JSON.stringify(e),t).signature},t.signCredentialObject=function(e,t){"string"==typeof e&&(e=JSON.parse(e)),console.log("before signCredentialObject:",JSON.stringify(e)),e=h(e),console.log("after signCredentialObject:",JSON.stringify(e));const n=new o.default;return console.log("SIGNING THIS OBJECT:",JSON.stringify(e)),n.eth.accounts.sign(JSON.stringify(e),t).signature},t.getClaims=m,t.signProofObject=function(e,t){return"string"==typeof e&&(e=JSON.parse(e)),e=b(e),(new o.default).eth.accounts.sign(JSON.stringify(e),t).signature},t.reOrderProofObject=b},1015:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ProofmeUtilsProvider=void 0;const o=n(2254),i=n(6168);let s=class{async validCredentials(e,t,n){return(0,i.validCredentialsFunc)(e,t,n)}async validCredentialsTrustedParties(e,t,n,r,o){return(0,i.validCredentialsTrustedPartiesFunc)(e,t,n,r,o)}signCredential(e,t){return(0,i.signCredential)(e,t)}signCredentialObject(e,t){return(0,i.signCredentialObject)(e,t)}signProofObject(e,t){return console.log("ProofmeUtilsProvider signProofObject"),(0,i.signProofObject)(e,t)}};s=r([(0,o.Injectable)()],s),t.ProofmeUtilsProvider=s},2582:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SignalingServer=void 0;const s=i(n(5352)),u=n(5828),a=i(n(6113));t.SignalingServer=class{wsServer;rtcConnectionConfig;setRTCConnectionConfig(e){this.rtcConnectionConfig=e}getRTCConnectionConfig(e){if(console.log("getRTCConnectionConfig turnEnabled:",this.rtcConnectionConfig.turnEnabled),console.log("getRTCConnectionConfig stunEnabled:",this.rtcConnectionConfig.stunEnabled),this.rtcConnectionConfig.turnEnabled){console.log("USE TURN");const t=`${Math.floor(Date.now()/1e3)+this.rtcConnectionConfig.turnExpiration}:${e}`,n=a.createHmac("sha1",this.rtcConnectionConfig.turnSecret).update(t.toString()).digest("base64");return console.log("username:",t),console.log("credential:",n),{iceCandidatePoolSize:5,iceServers:[{urls:[this.rtcConnectionConfig.turnUrl],credential:n,username:t}]}}if(this.rtcConnectionConfig.stunEnabled)return console.log("USE STUN"),{iceServers:[{urls:[this.rtcConnectionConfig.stunUrl]}]}}startSignal(e){console.log("Starting Signaling server."),this.wsServer=new s.Server({server:e});const t=(e,t)=>{e.send(JSON.stringify(t))};this.wsServer.on("connection",(e=>{e.uuid=(0,u.v4)(),e.did=null,e.host=!1,e.authenticated=!1,e.connected=null,e.on("error",(e=>{})),e.on("message",(n=>{let r;try{r=JSON.parse(n)}catch(e){console.log("Invalid JSON"),r={}}const{type:o,token:i,host:s,offer:a,answer:c,candidate:l}=r;switch(o){case"auth":i?(e.authenticated=!0,t(e,{type:"AUTH",success:!0,message:"Authentication successful"})):t(e,{type:"auth",success:!1,message:"Could not validate token"});break;case"host":e.host=!0,t(e,{type:"host",success:!0,message:"Host initialised "+e.uuid,uuid:e.uuid,webRtcConnectionConfig:this.getRTCConnectionConfig("host")});break;case"ping":t(e,{type:"pong"});break;case"connect":{const n=[...this.wsServer.clients].filter((e=>e.uuid===s&&null===e.connected&&!0===e.host));1===n.length?(t(n[0],{type:"connected",success:!0,message:"Client connected "+e.uuid,uuid:e.uuid,webRtcConnectionConfig:this.getRTCConnectionConfig("host")}),t(e,{type:"connected",success:!0,message:"Connected to "+s,webRtcConnectionConfig:this.getRTCConnectionConfig("client")}),e.connected=n[0].uuid,n[0].connected=e.uuid):t(e,{type:"connected",success:!1,message:"Could not connect to "+s});break}case"offer":if(null!=e.connected&&this.wsServer.clients.size>0){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length?(t(n[0],{type:"offer",success:!0,offer:a}),t(e,{type:"offer",success:!0,offer:a})):t(e,{type:"offer",success:!1,offer:a,message:"Connection not found."})}else t(e,{type:"offer",success:!1,offer:a,message:"Too soon..."});break;case"answer":if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length?(t(n[0],{type:"answer",success:!0,answer:c}),t(e,{type:"answer",success:!0,answer:c})):t(e,{type:"answer",success:!1,answer:c,message:"Connection not found."})}else t(e,{type:"answer",success:!1,answer:c,message:"Too soon..."});break;case"candidate":if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length?t(n[0],{type:"candidate",success:!0,candidate:l}):t(e,{type:"candidate",success:!1,candidate:l,message:"Connection not found."})}else t(e,{type:"candidate",success:!1,candidate:l,message:"Too soon..."});break;case"leave":if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));e.uuid=(0,u.v4)(),1===n.length?(t(n[0],{type:"leave",success:!0,message:"Connection left on receive leave"}),n[0].connected=null,t(e,{type:"leave",success:!0,message:"Connection left.",uuid:e.uuid})):t(e,{type:"leave",success:!1,message:"Connection not found.",uuid:e.uuid}),e.connected=null}else e.uuid=(0,u.v4)(),t(e,{type:"leave",success:!1,message:"Not connected to host/client.",uuid:e.uuid});break;default:t(e,{type:"error",message:"Command not found: "+o})}})),e.on("close",((e,n,r)=>{if(null!=e.connected){const n=[...this.wsServer.clients].filter((t=>t.connected===e.uuid));1===n.length&&(t(n[0],{type:"leave",success:!0,message:"Connection left on websocket close"}),n[0].connected=null),e.connected=null}})),e.send(JSON.stringify({type:"connect",message:"Well hello there, I am the Signaling Server",success:!0})),console.log("Connection received from:",e.uuid)}))}}},1485:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.claimHolderAbi=void 0,t.claimHolderAbi=[{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKeyPurpose",outputs:[{name:"purpose",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKey",outputs:[{name:"purpose",type:"uint256"},{name:"keyType",type:"uint256"},{name:"key",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"},{name:"_type",type:"uint256"}],name:"addKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimType",type:"uint256"}],name:"getClaimIdsByType",outputs:[{name:"claimIds",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimId",type:"bytes32"}],name:"removeClaim",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_id",type:"uint256"},{name:"_approve",type:"bool"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"}],name:"removeKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_purpose",type:"uint256"}],name:"getKeysByPurpose",outputs:[{name:"_keys",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_claimType",type:"uint256"},{name:"_scheme",type:"uint256"},{name:"_issuer",type:"address"},{name:"_signature",type:"bytes"},{name:"_data",type:"bytes"},{name:"_uri",type:"string"}],name:"addClaim",outputs:[{name:"claimRequestId",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[{name:"executionId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimId",type:"bytes32"}],name:"getClaim",outputs:[{name:"claimType",type:"uint256"},{name:"scheme",type:"uint256"},{name:"issuer",type:"address"},{name:"signature",type:"bytes"},{name:"data",type:"bytes"},{name:"uri",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"}],name:"keyHasPurpose",outputs:[{name:"result",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"claimRequestId",type:"uint256"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signatureType",type:"uint256"},{indexed:!1,name:"signature",type:"bytes32"},{indexed:!1,name:"claim",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"Executed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!1,name:"approved",type:"bool"}],name:"Approved",type:"event"}]},2733:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.WebRtcProvider=void 0;const o=n(2254),i=n(1964),s=n(1904),u=n(367);let a=class{webRtcConfig;hostUuid;peerConnection=null;dataChannel=null;wsClient=null;receivedActions$=new i.BehaviorSubject(null);uuid$=new i.BehaviorSubject(null);websocketConnectionClosed$=new i.BehaviorSubject(null);websocketConnectionOpen$=new i.BehaviorSubject(null);websocketConnectionError$=new i.BehaviorSubject(null);webRtcConnectionConfig;connectionTimeout=null;pongCheckInterval=null;pingTimeout=null;WEBSOCKET_PING_ANSWER_DELAY=1e3;WEBSOCKET_PING_PONG_ALLOWED_TIME=3e3;getConfig(){return this.webRtcConfig}setHostUuid(e){this.hostUuid=e}sendData(e,t){this.dataChannel&&"open"===this.dataChannel.readyState?this.dataChannel.send(JSON.stringify({action:e,...t})):console.log(`Attempted to send data with action ${e} but data channel is not open`)}setUuid(e){this.uuid$.next(e)}disconnect(){console.log("Disconnect"),this.peerConnection&&(console.log("Peerconnection closed"),this.peerConnection.close()),this.dataChannel&&(console.log("dataChannel closed"),this.dataChannel.close()),this.wsClient&&(console.log("Websocket closed"),this.wsClient.close(),this.wsClient.onclose=null),this.peerConnection=null,this.dataChannel=null,this.wsClient=null,this.websocketConnectionClosed$.next(!0),this.websocketConnectionOpen$.next(!1)}remoteDisconnect(){console.log("datachannel:",this.dataChannel),this.dataChannel&&"open"===this.dataChannel.readyState&&(console.log("Data channel sending disconnect"),this.dataChannel.send(JSON.stringify({action:"disconnect"}))),console.log("Waiting 1 second for client disconnect"),setTimeout((()=>{console.log("Client disconnect"),this.disconnect()}),1e3)}async sendOffer(e,t){const n=await e.createOffer();await e.setLocalDescription(n),t.send(JSON.stringify({type:"offer",offer:n}))}async launchWebsocketClient(e){this.webRtcConfig=e;let t=null;this.receivedActions$=new i.BehaviorSubject(null),this.connectionTimeout&&clearTimeout(this.connectionTimeout),this.uuid$=new i.BehaviorSubject(null),this.websocketConnectionClosed$=new i.BehaviorSubject(null),this.websocketConnectionOpen$=new i.BehaviorSubject(null),this.websocketConnectionError$=new i.BehaviorSubject(null);let n=this.webRtcConfig.signalingUrl;n||(console.log("signalingUrl undefined, falling back to default"),n="wss://auth.proofme.id"),console.log("Connecting to signaling server:",n),this.wsClient=new u.w3cwebsocket(n),this.connectionTimeout=setTimeout((()=>{!0!==t&&(this.websocketConnectionError$.next(!0),this.wsClient.close())}),1e4),this.wsClient.onerror=e=>{console.log("Websocket error: "+e.toString()),t=!1,this.websocketConnectionClosed$.next(!0),this.websocketConnectionOpen$.next(!1),this.websocketConnectionError$.next(!0)},this.wsClient.onclose=()=>{console.log("Websocket connection closed"),this.websocketConnectionClosed$.next(!0),this.websocketConnectionOpen$.next(!1)},this.wsClient.onopen=()=>{console.log("Websocket connection open"),t=!0,this.websocketConnectionClosed$.next(!1),this.websocketConnectionOpen$.next(!0)},this.wsClient.onmessage=async e=>{if(e.data){let t;try{t=JSON.parse(e.data)}catch(e){console.log("Websocket onmessage ERROR: Invalid JSON"),t={}}const{type:n,message:r,success:o,uuid:i,offer:u,answer:a,candidate:c,webRtcConnectionConfig:l}=t;switch(n){case"error":console.log("Websocket onmessage error: ",r),"Command not found: ping"==r&&(clearTimeout(this.pongCheckInterval),this.pongCheckInterval=setTimeout((()=>{console.log(`Ping pong took more than ${this.WEBSOCKET_PING_PONG_ALLOWED_TIME}ms. Disconnecting`),this.disconnect()}),this.WEBSOCKET_PING_PONG_ALLOWED_TIME),this.sendPing());break;case"connect":if(console.log("Websocket connect success:",o),o)if(this.webRtcConfig.isHost){console.log("Websocket connect is host");const e=500;let t=0;const n=setInterval((()=>{this.wsClient||clearInterval(n),this.wsClient&&1===this.wsClient.readyState&&t<e&&(clearInterval(n),this.wsClient.send(JSON.stringify({type:"host"}))),t>=e&&clearInterval(n),t++}),50)}else{console.log("Websocket connect is not host");const e=500;let t=0;const n=setInterval((async()=>{this.wsClient||clearInterval(n),this.wsClient&&1===this.wsClient.readyState&&t<e&&(clearInterval(n),this.wsClient.send(JSON.stringify({type:"connect",host:this.hostUuid}))),t>=e&&clearInterval(n),t++}),50)}else console.log("Websocket onmessage connect failure");break;case"connected":console.log("Connected with webRtcConnectionConfig:",l),clearTimeout(this.pongCheckInterval),clearTimeout(this.pingTimeout),l&&(this.webRtcConnectionConfig=l,this.webRtcConfig.isHost||await this.setupPeerconnection(this.hostUuid)),i&&this.webRtcConfig.isHost&&(console.log("Websocket onmessage connected success with client uuid:",i),await this.sendOffer(this.peerConnection,this.wsClient));break;case"pong":clearTimeout(this.pongCheckInterval),this.pongCheckInterval=setTimeout((()=>{console.log(`Ping pong took more than ${this.WEBSOCKET_PING_PONG_ALLOWED_TIME}ms. Disconnecting`),this.disconnect()}),this.WEBSOCKET_PING_PONG_ALLOWED_TIME),this.sendPing();break;case"offer":if(console.log("Received offer:",u),console.log("this.peerConnection.connectionState:",this.peerConnection.connectionState),u&&!this.webRtcConfig.isHost){await this.peerConnection.setRemoteDescription(new s.RTCSessionDescription(u));const e=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(e),this.wsClient.send(JSON.stringify({type:"answer",answer:e}))}break;case"host":console.log("Received host"),i&&this.webRtcConfig.isHost&&(console.log("Acting as host, waiting for someone to connect to uuid "+i),this.setUuid(i),l&&(this.webRtcConnectionConfig=l),await this.setupPeerconnection(i),this.sendPing());break;case"leave":console.log("Websocket onmessage leave host"),this.setUuid(null),this.disconnect();break;case"answer":console.log("Received answer"),console.log("this.peerConnection.connectionState:",this.peerConnection.connectionState),a&&this.webRtcConfig.isHost&&await this.peerConnection.setRemoteDescription(new s.RTCSessionDescription(a));break;case"candidate":if(console.log("Received candidate from client!"),console.log("candidate:",c),c){const e=new s.RTCIceCandidate(c);await this.peerConnection.addIceCandidate(e)}break;default:console.error("Websocket onmessage default")}}}}sendPing(){this.pingTimeout=setTimeout((()=>{1===this.wsClient.readyState?this.wsClient.send(JSON.stringify({type:"ping"})):console.log("Websocket closed in the meantime... Not sending ping")}),this.WEBSOCKET_PING_ANSWER_DELAY)}async setupPeerconnection(e){console.log("setupPeerconnection with uuid:",e),console.log("this.webRtcConnectionConfig:",this.webRtcConnectionConfig),this.peerConnection=new RTCPeerConnection(this.webRtcConnectionConfig),this.dataChannel=this.peerConnection.createDataChannel(e),this.peerConnection.addEventListener("datachannel",(e=>{e.channel.onmessage=async e=>{let t;try{t=JSON.parse(e.data),"disconnect"===t.action&&(console.log("peerConnection disconnect"),this.disconnect()),this.receivedActions$.next(t)}catch(e){console.log("peerConnection ERROR: Invalid JSON"),t={}}},e.channel.onopen=()=>{console.log("Sending p2p connected!"),this.receivedActions$.next({action:"p2pConnected",p2pConnected:!0}),console.log("p2p connected so close the websocket connection"),this.wsClient.close()}})),this.peerConnection.addEventListener("iceconnectionstatechange",(e=>{console.log("event:",e),console.log("this.peerConnection.iceConnectionState:",this.peerConnection.iceConnectionState),"disconnected"===this.peerConnection.iceConnectionState&&(this.receivedActions$.next({action:"p2pConnected",p2pConnected:!1}),this.peerConnection.close(),this.wsClient.send(JSON.stringify({type:"leave"})),this.wsClient.close())})),this.peerConnection.addEventListener("icecandidate",(async e=>{if(e.candidate){console.log("**************** Received candidate over peer, sending to signaller"),console.log("Candidate",e.candidate);try{const t=new s.RTCIceCandidate(e.candidate);await this.peerConnection.addIceCandidate(t)}catch(e){console.log("ooops",e)}this.wsClient.send(JSON.stringify({type:"candidate",candidate:e.candidate}))}}))}};a=r([(0,o.Injectable)()],a),t.WebRtcProvider=a},1964:e=>{e.exports=require("rxjs")},5828:e=>{e.exports=require("uuid")},8519:e=>{e.exports=require("web3")},367:e=>{e.exports=require("websocket")},1904:e=>{e.exports=require("wrtc")},5352:e=>{e.exports=require("ws")},6113:e=>{e.exports=require("crypto")},2254:(e,t,n)=>{n.r(t),n.d(t,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>dr,APP_BOOTSTRAP_LISTENER:()=>Fy,APP_ID:()=>Ty,APP_INITIALIZER:()=>Py,ApplicationInitStatus:()=>jy,ApplicationModule:()=>fm,ApplicationRef:()=>_g,Attribute:()=>cr,COMPILER_OPTIONS:()=>Ky,CUSTOM_ELEMENTS_SCHEMA:()=>ji,ChangeDetectionStrategy:()=>Q,ChangeDetectorRef:()=>Pg,Compiler:()=>qy,CompilerFactory:()=>Gy,Component:()=>My,ComponentFactory:()=>sh,ComponentFactoryResolver:()=>ah,ComponentRef:()=>ih,ContentChild:()=>hr,ContentChildren:()=>pr,DEFAULT_CURRENCY_CODE:()=>Hy,DebugElement:()=>Fg,DebugEventListener:()=>kg,DebugNode:()=>Rg,DefaultIterableDiffer:()=>Gg,Directive:()=>wy,ElementRef:()=>lh,EmbeddedViewRef:()=>Ag,ErrorHandler:()=>Pi,EventEmitter:()=>sv,Host:()=>Xr,HostBinding:()=>Dy,HostListener:()=>Sy,INJECTOR:()=>ka,Inject:()=>Jr,InjectFlags:()=>q,Injectable:()=>cl,InjectionToken:()=>lr,Injector:()=>Ja,Input:()=>Oy,IterableDiffers:()=>rm,KeyValueDiffers:()=>im,LOCALE_ID:()=>$y,MissingTranslationStrategy:()=>Wy,ModuleWithComponentFactories:()=>zy,NO_ERRORS_SCHEMA:()=>Ti,NgModule:()=>Ey,NgModuleFactory:()=>Eh,NgModuleRef:()=>Sh,NgProbeToken:()=>fg,NgZone:()=>Qy,Optional:()=>Zr,Output:()=>xy,PACKAGE_ROOT_URL:()=>Vy,PLATFORM_ID:()=>Ry,PLATFORM_INITIALIZER:()=>Ny,Pipe:()=>Cy,PlatformRef:()=>mg,Query:()=>fr,QueryList:()=>av,ReflectiveInjector:()=>Il,ReflectiveKey:()=>hl,Renderer2:()=>ph,RendererFactory2:()=>fh,RendererStyleFlags2:()=>zi,ResolvedReflectiveFactory:()=>_l,Sanitizer:()=>hh,SecurityContext:()=>ai,Self:()=>Qr,SimpleChange:()=>tt,SkipSelf:()=>Yr,TRANSLATIONS:()=>By,TRANSLATIONS_FORMAT:()=>Uy,TemplateRef:()=>cv,Testability:()=>og,TestabilityRegistry:()=>ig,Type:()=>_r,VERSION:()=>yh,Version:()=>vh,ViewChild:()=>yr,ViewChildren:()=>vr,ViewContainerRef:()=>pv,ViewEncapsulation:()=>X,ViewRef:()=>Tg,asNativeElements:()=>Ng,assertPlatform:()=>vg,createNgModuleRef:()=>Th,createPlatform:()=>pg,createPlatformFactory:()=>hg,defineInjectable:()=>F,destroyPlatform:()=>yg,enableProdMode:()=>Dg,forwardRef:()=>l,getDebugNode:()=>Wg,getModuleFactory:()=>Sg,getNgModuleById:()=>Eg,getPlatform:()=>gg,inject:()=>qr,isDevMode:()=>xg,platformCore:()=>lm,resolveForwardRef:()=>d,setTestabilityGetter:()=>sg,ALLOW_MULTIPLE_PLATFORMS:()=>dg,APP_ID_RANDOM_PROVIDER:()=>Ay,ChangeDetectorStatus:()=>Y,ComponentFactory:()=>sh,Console:()=>Ly,DEFAULT_LOCALE_ID:()=>Ff,INJECTOR_SCOPE:()=>Ra,LifecycleHooksFeature:()=>vc,LocaleDataIndex:()=>Nf,NG_COMP_DEF:()=>ce,NG_DIR_DEF:()=>le,NG_ELEMENT_ID:()=>he,NG_INJ_DEF:()=>U,NG_MOD_DEF:()=>fe,NG_PIPE_DEF:()=>de,NG_PROV_DEF:()=>B,NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>gh,NO_CHANGE:()=>Hs,NgModuleFactory:()=>kh,NoopNgZone:()=>rg,ReflectionCapabilities:()=>kr,Render3ComponentFactory:()=>Oh,Render3ComponentRef:()=>xh,Render3NgModuleRef:()=>Ah,RuntimeError:()=>p,ViewRef:()=>bh,_sanitizeHtml:()=>si,_sanitizeUrl:()=>Vo,allowSanitizationBypassAndThrow:()=>Do,bypassSanitizationTrustHtml:()=>Eo,bypassSanitizationTrustResourceUrl:()=>To,bypassSanitizationTrustScript:()=>Po,bypassSanitizationTrustStyle:()=>Io,bypassSanitizationTrustUrl:()=>jo,clearResolutionOfComponentResourcesQueue:()=>ao,compileComponent:()=>oy,compileDirective:()=>iy,compileNgModule:()=>Uv,compileNgModuleDefs:()=>Wv,compileNgModuleFactory:()=>cg,compilePipe:()=>by,createInjector:()=>Ha,defaultIterableDiffers:()=>am,defaultKeyValueDiffers:()=>cm,detectChanges:()=>Ta,devModeEqual:()=>Ec,findLocaleData:()=>Pf,flushModuleScopingQueueAsMuchAsPossible:()=>Hv,getDebugNode:()=>Wg,getDebugNodeR2:()=>zg,getDirectives:()=>tc,getHostElement:()=>rc,getInjectableDef:()=>L,getLContext:()=>mi,getLocaleCurrencyCode:()=>jf,getLocalePluralCase:()=>Tf,getSanitizationBypassType:()=>So,global:()=>ie,injectChangeDetectorRef:()=>jg,isBoundToModule:()=>lg,isDefaultChangeDetectionStrategy:()=>ee,isListLikeIterable:()=>Ic,isObservable:()=>Wl,isPromise:()=>Bl,isSubscribable:()=>Ul,ivyEnabled:()=>pm,makeDecorator:()=>ir,markDirty:()=>Aa,noSideEffects:()=>Z,patchComponentDefWithScope:()=>Xv,publishDefaultGlobalUtils:()=>cc,publishGlobalUtil:()=>lc,registerLocaleData:()=>If,registerNgModuleType:()=>Ph,renderComponent:()=>dc,resetCompiledComponents:()=>Zv,resetJitOptions:()=>Vv,resolveComponentResources:()=>oo,setClassMetadata:()=>Dh,setCurrentInjector:()=>Br,setDocument:()=>pt,setLocaleId:()=>Bf,store:()=>rl,stringify:()=>u,transitiveScopesFor:()=>ey,unregisterLocaleData:()=>kf,unwrapSafeValue:()=>xo,whenRendered:()=>yc,CopyDefinitionFeature:()=>xc,FactoryTarget:()=>gr,InheritDefinitionFeature:()=>mc,NgOnChangesFeature:()=>nt,ProvidersFeature:()=>oh,advance:()=>Bs,attribute:()=>Fc,attributeInterpolate1:()=>Kc,attributeInterpolate2:()=>Gc,attributeInterpolate3:()=>Jc,attributeInterpolate4:()=>Zc,attributeInterpolate5:()=>Qc,attributeInterpolate6:()=>Yc,attributeInterpolate7:()=>Xc,attributeInterpolate8:()=>el,attributeInterpolateV:()=>tl,classMap:()=>Dd,classMapInterpolate1:()=>Zd,classMapInterpolate2:()=>Qd,classMapInterpolate3:()=>Yd,classMapInterpolate4:()=>Xd,classMapInterpolate5:()=>ef,classMapInterpolate6:()=>tf,classMapInterpolate7:()=>nf,classMapInterpolate8:()=>rf,classMapInterpolateV:()=>of,classProp:()=>Cd,contentQuery:()=>Pv,defineComponent:()=>ye,defineDirective:()=>Oe,defineInjectable:()=>R,defineInjector:()=>V,defineNgModule:()=>we,definePipe:()=>xe,directiveInject:()=>jl,disableBindings:()=>Tt,element:()=>Fl,elementContainer:()=>$l,elementContainerEnd:()=>Ll,elementContainerStart:()=>Vl,elementEnd:()=>Rl,elementStart:()=>Nl,enableBindings:()=>jt,getCurrentView:()=>Hl,getInheritedFactory:()=>Xn,hostProperty:()=>Of,i18n:()=>qp,i18nApply:()=>Jp,i18nAttributes:()=>Kp,i18nEnd:()=>zp,i18nExp:()=>Gp,i18nPostprocess:()=>Zp,i18nStart:()=>Wp,inject:()=>Wr,injectAttribute:()=>tr,invalidFactory:()=>Tl,invalidFactoryDep:()=>zr,listener:()=>zl,loadQuery:()=>jv,namespaceHTML:()=>vn,namespaceMathML:()=>hn,namespaceSVG:()=>pn,nextContext:()=>Zl,ngDeclareClassMetadata:()=>vm,ngDeclareComponent:()=>ym,ngDeclareDirective:()=>hm,ngDeclareFactory:()=>gm,ngDeclareInjectable:()=>bm,ngDeclareInjector:()=>_m,ngDeclareNgModule:()=>wm,ngDeclarePipe:()=>Mm,pipe:()=>Qh,pipeBind1:()=>Yh,pipeBind2:()=>Xh,pipeBind3:()=>ev,pipeBind4:()=>tv,pipeBindV:()=>nv,projection:()=>Xl,projectionDef:()=>Yl,property:()=>Al,propertyInterpolate:()=>ed,propertyInterpolate1:()=>td,propertyInterpolate2:()=>nd,propertyInterpolate3:()=>rd,propertyInterpolate4:()=>od,propertyInterpolate5:()=>id,propertyInterpolate6:()=>sd,propertyInterpolate7:()=>ud,propertyInterpolate8:()=>ad,propertyInterpolateV:()=>cd,pureFunction0:()=>Nh,pureFunction1:()=>Rh,pureFunction2:()=>Fh,pureFunction3:()=>Vh,pureFunction4:()=>Lh,pureFunction5:()=>$h,pureFunction6:()=>Hh,pureFunction7:()=>Bh,pureFunction8:()=>Uh,pureFunctionV:()=>Wh,queryRefresh:()=>Ev,reference:()=>ol,resolveBody:()=>$i,resolveDocument:()=>Li,resolveWindow:()=>Vi,restoreView:()=>Nt,sanitizeHtml:()=>ci,sanitizeResourceUrl:()=>fi,sanitizeScript:()=>pi,sanitizeStyle:()=>li,sanitizeUrl:()=>di,sanitizeUrlOrResourceUrl:()=>yi,setComponentScope:()=>ge,setNgModuleScope:()=>Me,styleMap:()=>Od,styleMapInterpolate1:()=>sf,styleMapInterpolate2:()=>uf,styleMapInterpolate3:()=>af,styleMapInterpolate4:()=>cf,styleMapInterpolate5:()=>lf,styleMapInterpolate6:()=>df,styleMapInterpolate7:()=>ff,styleMapInterpolate8:()=>pf,styleMapInterpolateV:()=>hf,styleProp:()=>Md,stylePropInterpolate1:()=>vf,stylePropInterpolate2:()=>yf,stylePropInterpolate3:()=>gf,stylePropInterpolate4:()=>mf,stylePropInterpolate5:()=>bf,stylePropInterpolate6:()=>_f,stylePropInterpolate7:()=>wf,stylePropInterpolate8:()=>Mf,stylePropInterpolateV:()=>Cf,syntheticHostListener:()=>ql,syntheticHostProperty:()=>xf,template:()=>nl,templateRefExtractor:()=>Nv,text:()=>Ld,textInterpolate:()=>$d,textInterpolate1:()=>Hd,textInterpolate2:()=>Bd,textInterpolate3:()=>Ud,textInterpolate4:()=>Wd,textInterpolate5:()=>zd,textInterpolate6:()=>qd,textInterpolate7:()=>Kd,textInterpolate8:()=>Gd,textInterpolateV:()=>Jd,trustConstantHtml:()=>hi,trustConstantResourceUrl:()=>vi,viewQuery:()=>Iv});var r=n(1964),o=n(4857);function i(e){for(let t in e)if(e[t]===i)return t;throw Error("Could not find renamed property on target object.")}function s(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function u(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function a(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const c=i({__forward_ref__:i});function l(e){return e.__forward_ref__=l,e.toString=function(){return u(this())},e}function d(e){return f(e)?e():e}function f(e){return"function"==typeof e&&e.hasOwnProperty(c)&&e.__forward_ref__===l}class p extends Error{constructor(e,t){super(h(e,t)),this.code=e}}function h(e,t){const n=`NG0${Math.abs(e)}`;let r=`${n}${t?": "+t:""}`;return ngDevMode&&e<0&&(r=`${r}. Find more at https://angular.io/errors/${n}`),r}function v(e){return"string"==typeof e?e:null==e?"":String(e)}function y(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():v(e)}function g(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new p(-200,`Circular dependency in DI detected for ${e}${n}`)}function m(){throw new Error("Cannot mix multi providers and regular providers")}function b(e,t){const n=t?` in ${t}`:"";throw new p(-201,`No provider for ${y(e)} found${n}`)}function _(e,t){"number"!=typeof e&&T(t,typeof e,"number","===")}function w(e,t,n){_(e,"Expected a number"),E(e,n,"Expected number to be less than or equal to"),P(e,t,"Expected number to be greater than or equal to")}function M(e,t){"string"!=typeof e&&T(t,null===e?"null":typeof e,"string","===")}function C(e,t,n){e!=t&&T(n,e,t,"==")}function O(e,t,n){e==t&&T(n,e,t,"!=")}function x(e,t,n){e!==t&&T(n,e,t,"===")}function D(e,t,n){e===t&&T(n,e,t,"!==")}function S(e,t,n){e<t||T(n,e,t,"<")}function E(e,t,n){e<=t||T(n,e,t,"<=")}function I(e,t,n){e>t||T(n,e,t,">")}function P(e,t,n){e>=t||T(n,e,t,">=")}function j(e,t){null==e&&T(t,e,null,"!=")}function T(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function A(e){"undefined"!=typeof Node&&e instanceof Node||"object"==typeof e&&null!=e&&"WebWorkerRenderNode"===e.constructor.name||T(`The provided value must be an instance of a DOM Node but got ${u(e)}`)}function k(e,t){j(e,"Array must be defined.");const n=e.length;(t<0||t>=n)&&T(`Index expected to be less than ${n} but got ${t}`)}function N(e,...t){if(-1!==t.indexOf(e))return!0;T(`Expected value to be one of ${JSON.stringify(t)} but was ${JSON.stringify(e)}.`)}function R(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}const F=R;function V(e){return{providers:e.providers||[],imports:e.imports||[]}}function L(e){return $(e,B)||$(e,W)}function $(e,t){return e.hasOwnProperty(t)?e[t]:null}function H(e){return e&&(e.hasOwnProperty(U)||e.hasOwnProperty(z))?e[U]:null}const B=i({prov:i}),U=i({inj:i}),W=i({ngInjectableDef:i}),z=i({ngInjectorDef:i});var q;let K;function G(e){const t=K;return K=e,t}function J(e,t,n){const r=L(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&q.Optional?null:void 0!==t?t:void b(u(e),"Injector")}function Z(e){return{toString:e}.toString()}var Q,Y,X;function ee(e){return null==e||e===Q.Default}!function(e){e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional"}(q||(q={})),function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(Q||(Q={})),function(e){e[e.CheckOnce=0]="CheckOnce",e[e.Checked=1]="Checked",e[e.CheckAlways=2]="CheckAlways",e[e.Detached=3]="Detached",e[e.Errored=4]="Errored",e[e.Destroyed=5]="Destroyed"}(Y||(Y={})),function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(X||(X={}));const te="undefined"!=typeof globalThis&&globalThis,ne="undefined"!=typeof window&&window,re="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,oe="undefined"!=typeof global&&global,ie=te||oe||ne||re;function se(){return!("undefined"!=typeof ngDevMode&&!ngDevMode||("object"!=typeof ngDevMode&&function(){const e="undefined"!=typeof location?location.toString():"",t={namedConstructors:-1!=e.indexOf("ngDevMode=namedConstructors"),firstCreatePass:0,tNode:0,tView:0,rendererCreateTextNode:0,rendererSetText:0,rendererCreateElement:0,rendererAddEventListener:0,rendererSetAttribute:0,rendererRemoveAttribute:0,rendererSetProperty:0,rendererSetClassName:0,rendererAddClass:0,rendererRemoveClass:0,rendererSetStyle:0,rendererRemoveStyle:0,rendererDestroy:0,rendererDestroyNode:0,rendererMoveNode:0,rendererRemoveNode:0,rendererAppendChild:0,rendererInsertBefore:0,rendererCreateComment:0},n=-1===e.indexOf("ngDevMode=false");ie.ngDevMode=n&&t}(),"undefined"==typeof ngDevMode||!ngDevMode))}const ue={},ae=[];("undefined"==typeof ngDevMode||ngDevMode)&&se()&&(Object.freeze(ue),Object.freeze(ae));const ce=i({cmp:i}),le=i({dir:i}),de=i({pipe:i}),fe=i({mod:i}),pe=i({fac:i}),he=i({__NG_ELEMENT_ID__:i});let ve=0;function ye(e){return Z((()=>{("undefined"==typeof ngDevMode||ngDevMode)&&se();const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Q.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ae,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||X.Emulated,id:"c",styles:e.styles||ae,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,o=e.features,i=e.pipes;return n.id+=ve++,n.inputs=Ce(e.inputs,t),n.outputs=Ce(e.outputs),o&&o.forEach((e=>e(n))),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(me):null,n.pipeDefs=i?()=>("function"==typeof i?i():i).map(be):null,n}))}function ge(e,t,n){const r=e.cmp;r.directiveDefs=()=>t.map(me),r.pipeDefs=()=>n.map(be)}function me(e){const t=De(e)||Se(e);if(ngDevMode&&!t)throw new Error(`'${e.name}' is neither 'ComponentType' or 'DirectiveType'.`);return t}function be(e){const t=Ee(e);if(ngDevMode&&!t)throw new Error(`'${e.name}' is not a 'PipeType'.`);return t}const _e={};function we(e){return Z((()=>{const t={type:e.type,bootstrap:e.bootstrap||ae,declarations:e.declarations||ae,imports:e.imports||ae,exports:e.exports||ae,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(_e[e.id]=e.type),t}))}function Me(e,t){return Z((()=>{const n=Ie(e,!0);n.declarations=t.declarations||ae,n.imports=t.imports||ae,n.exports=t.exports||ae}))}function Ce(e,t){if(null==e)return ue;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,t&&(t[o]=i)}return n}const Oe=ye;function xe(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function De(e){return e[ce]||null}function Se(e){return e[le]||null}function Ee(e){return e[de]||null}function Ie(e,t){const n=e[fe]||null;if(!n&&!0===t)throw new Error(`Type ${u(e)} does not have 'mod' property.`);return n}const Pe=10,je=20,Te=["Root","Component","Embedded"];function Ae(e){return Array.isArray(e)&&"object"==typeof e[1]}function ke(e){return Array.isArray(e)&&!0===e[1]}function Ne(e){return 0!=(8&e.flags)}function Re(e){return 2==(2&e.flags)}function Fe(e){return 1==(1&e.flags)}function Ve(e){return null!==e.template}function Le(e,t){$e(e,t[1])}function $e(e,t){He(e),e.hasOwnProperty("tView_")&&C(e.tView_,t,"This TNode does not belong to this TView.")}function He(e){j(e,"TNode must be defined"),e&&"object"==typeof e&&e.hasOwnProperty("directiveStylingLast")||T("Not of type TNode, got: "+e)}function Be(e){j(e,"Expected TIcu to be defined"),"number"!=typeof e.currentCaseLViewIndex&&T("Object is not of TIcu type.")}function Ue(e,t="Type passed in is not ComponentType, it does not have 'cmp' property."){De(e)||T(t)}function We(e){j(e,"currentTNode should exist!"),j(e.parent,"currentTNode should have a parent")}function ze(e){j(e,"LContainer must be defined"),C(ke(e),!0,"Expecting LContainer")}function qe(e){e&&C(Ae(e),!0,"Expecting LView or undefined or null")}function Ke(e){j(e,"LView must be defined"),C(Ae(e),!0,"Expecting LView")}function Ge(e,t){C(e.firstCreatePass,!0,t||"Should only be called in first create pass.")}function Je(e,t){C(e.firstUpdatePass,!0,t||"Should only be called in first update pass.")}function Ze(e,t){Qe(e[1].expandoStartIndex,e.length,t)}function Qe(e,t,n){e<=n&&n<t||T(`Index out of range (expecting ${e} <= ${n} < ${t})`)}function Ye(e,t){j(e,t||"Component views should always have a parent view (component's host view)")}function Xe(e,t){Ze(e,t),Ze(e,t+8),_(e[t+0],"injectorIndex should point to a bloom filter"),_(e[t+1],"injectorIndex should point to a bloom filter"),_(e[t+2],"injectorIndex should point to a bloom filter"),_(e[t+3],"injectorIndex should point to a bloom filter"),_(e[t+4],"injectorIndex should point to a bloom filter"),_(e[t+5],"injectorIndex should point to a bloom filter"),_(e[t+6],"injectorIndex should point to a bloom filter"),_(e[t+7],"injectorIndex should point to a bloom filter"),_(e[t+8],"injectorIndex should point to parent injector")}function et(e,t){const n=e.hasOwnProperty(pe);if(!n&&!0===t&&ngDevMode)throw new Error(`Type ${u(e)} does not have 'fac' property.`);return n?e[pe]:null}class tt{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function nt(){return rt}function rt(e){return e.type.prototype.ngOnChanges&&(e.setInput=it),ot}function ot(){const e=st(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===ue)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function it(e,t,n,r){const o=st(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:ue,current:null}),i=o.current||(o.current={}),s=o.previous,u=this.declaredInputs[n],a=s[u];i[u]=new tt(a&&a.currentValue,t,s===ue),e[r]=t}function st(e){return e.__ngSimpleChanges__||null}nt.ngInherit=!0;let ut=null;const at=e=>{ut=e},ct=function(e,t,n){null!=ut&&ut(e,t,n)},lt="svg",dt="math";let ft;function pt(e){ft=e}function ht(){return void 0!==ft?ft:"undefined"!=typeof document?document:void 0}var vt;function yt(e){return!!e.listen}!function(e){e[e.Important=1]="Important",e[e.DashCase=2]="DashCase"}(vt||(vt={}));const gt={createRenderer:(e,t)=>ht()};function mt(e){for(;Array.isArray(e);)e=e[0];return e}function bt(e,t){return ngDevMode&&k(t,e),ngDevMode&&P(e,je,"Expected to be past HEADER_OFFSET"),mt(t[e])}function _t(e,t){ngDevMode&&Le(e,t),ngDevMode&&k(t,e.index);const n=mt(t[e.index]);return ngDevMode&&!yt(t[11])&&A(n),n}function wt(e,t){ngDevMode&&I(t,-1,"wrong index for TNode"),ngDevMode&&S(t,e.data.length,"wrong index for TNode");const n=e.data[t];return ngDevMode&&null!==n&&He(n),n}function Mt(e,t){return ngDevMode&&k(e,t),e[t]}function Ct(e,t){ngDevMode&&k(t,e);const n=t[e];return Ae(n)?n:n[0]}function Ot(e){return 4==(4&e[2])}function xt(e){return 128==(128&e[2])}function Dt(e,t){return null==t?null:(ngDevMode&&k(e,t),e[t])}function St(e){e[18]=0}function Et(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const It={lFrame:sn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Pt(){return It.bindingsEnabled}function jt(){It.bindingsEnabled=!0}function Tt(){It.bindingsEnabled=!1}function At(){return It.lFrame.lView}function kt(){return It.lFrame.tView}function Nt(e){return It.lFrame.contextLView=e,e[8]}function Rt(){let e=Ft();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ft(){return It.lFrame.currentTNode}function Vt(){const e=It.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Lt(e,t){ngDevMode&&e&&$e(e,It.lFrame.tView);const n=It.lFrame;n.currentTNode=e,n.isParent=t}function $t(){return It.lFrame.isParent}function Ht(){It.lFrame.isParent=!1}function Bt(){return It.isInCheckNoChangesMode}function Ut(e){It.isInCheckNoChangesMode=e}function Wt(){const e=It.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function zt(){return It.lFrame.bindingIndex}function qt(e){return It.lFrame.bindingIndex=e}function Kt(){return It.lFrame.bindingIndex++}function Gt(e){const t=It.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Jt(e){It.lFrame.inI18n=e}function Zt(e,t){const n=It.lFrame;n.bindingIndex=n.bindingRootIndex=e,Qt(t)}function Qt(e){It.lFrame.currentDirectiveIndex=e}function Yt(e){const t=It.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Xt(){return It.lFrame.currentQueryIndex}function en(e){It.lFrame.currentQueryIndex=e}function tn(e){const t=e[1];return 2===t.type?(ngDevMode&&j(t.declTNode,"Embedded TNodes should have declaration parents."),t.declTNode):1===t.type?e[6]:null}function nn(e,t,n){if(ngDevMode&&qe(e),n&q.SkipSelf){ngDevMode&&$e(t,e[1]);let r=t,o=e;for(;ngDevMode&&j(r,"Parent TNode should be defined"),r=r.parent,!(null!==r||n&q.Host||(r=tn(o),null===r)||(ngDevMode&&j(o,"Parent LView should be defined"),o=o[15],10&r.type)););if(null===r)return!1;t=r,e=o}ngDevMode&&Le(t,e);const r=It.lFrame=on();return r.currentTNode=t,r.lView=e,!0}function rn(e){ngDevMode&&O(e[0],e[1],"????"),ngDevMode&&qe(e);const t=on();ngDevMode&&(C(t.isParent,!0,"Expected clean LFrame"),C(t.lView,null,"Expected clean LFrame"),C(t.tView,null,"Expected clean LFrame"),C(t.selectedIndex,-1,"Expected clean LFrame"),C(t.elementDepthCount,0,"Expected clean LFrame"),C(t.currentDirectiveIndex,-1,"Expected clean LFrame"),C(t.currentNamespace,null,"Expected clean LFrame"),C(t.bindingRootIndex,-1,"Expected clean LFrame"),C(t.currentQueryIndex,0,"Expected clean LFrame"));const n=e[1];It.lFrame=t,ngDevMode&&n.firstChild&&$e(n.firstChild,n),t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function on(){const e=It.lFrame,t=null===e?null:e.child;return null===t?sn(e):t}function sn(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function un(){const e=It.lFrame;return It.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const an=un;function cn(){const e=un();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ln(){return It.lFrame.selectedIndex}function dn(e){ngDevMode&&-1!==e&&P(e,je,"Index must be past HEADER_OFFSET (or -1)."),ngDevMode&&S(e,It.lFrame.lView.length,"Can't set index passed end of LView"),It.lFrame.selectedIndex=e}function fn(){const e=It.lFrame;return wt(e.tView,e.selectedIndex)}function pn(){It.lFrame.currentNamespace=lt}function hn(){It.lFrame.currentNamespace=dt}function vn(){It.lFrame.currentNamespace=null}function yn(e,t){ngDevMode&&Ge(e);for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n];ngDevMode&&j(t,"Expecting DirectiveDef");const r=t.type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:u,ngOnDestroy:a}=r;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function gn(e,t,n){_n(e,t,3,n)}function mn(e,t,n,r){ngDevMode&&O(n,3,"Init pre-order hooks should not be called more than once"),(3&e[2])===n&&_n(e,t,n,r)}function bn(e,t){ngDevMode&&O(t,3,"Init hooks phase should not be incremented after all init hooks have been run.");let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function _n(e,t,n,r){ngDevMode&&C(Bt(),!1,"Hooks should never be run when in check no changes mode.");const o=void 0!==r?65535&e[18]:0,i=null!=r?r:-1,s=t.length-1;let u=0;for(let a=o;a<s;a++)if("number"==typeof t[a+1]){if(u=t[a],null!=r&&u>=r)break}else t[a]<0&&(e[18]+=65536),(u<i||-1==i)&&(wn(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function wn(e,t,n,r){const o=n[r]<0,i=n[r+1],s=e[o?-n[r]:n[r]];if(o){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048,ct(4,s,i);try{i.call(s)}finally{ct(5,s,i)}}}else{ct(4,s,i);try{i.call(s)}finally{ct(5,s,i)}}}const Mn=-1;class Cn{constructor(e,t,n){this.factory=e,this.resolving=!1,ngDevMode&&j(e,"Factory not specified"),ngDevMode&&C(typeof e,"function","Expected factory function."),this.canSeeViewProviders=t,this.injectImpl=n}}function On(e){let t="";return 1&e&&(t+="|Text"),2&e&&(t+="|Element"),4&e&&(t+="|Container"),8&e&&(t+="|ElementContainer"),16&e&&(t+="|Projection"),32&e&&(t+="|IcuContainer"),64&e&&(t+="|Placeholder"),t.length>0?t.substring(1):t}function xn(e,t,n){j(e,"should be called with a TNode"),0==(e.type&t)&&T(n||`Expected [${On(t)}] but got ${On(e.type)}.`)}function Dn(e,t,n){const r=yt(e);let o=0;for(;o<n.length;){const i=n[o];if("number"==typeof i){if(0!==i)break;o++;const s=n[o++],u=n[o++],a=n[o++];ngDevMode&&ngDevMode.rendererSetAttribute++,r?e.setAttribute(t,u,a,s):t.setAttributeNS(s,u,a)}else{const s=i,u=n[++o];ngDevMode&&ngDevMode.rendererSetAttribute++,En(s)?r&&e.setProperty(t,s,u):r?e.setAttribute(t,s,u):t.setAttribute(s,u),o++}}return o}function Sn(e){return 3===e||4===e||6===e}function En(e){return 64===e.charCodeAt(0)}function In(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Pn(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Pn(e,t,n,r,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const n=e[i++];if("number"==typeof n){if(n===t){s=-1;break}if(n>t){s=i-1;break}}}for(;i<e.length;){const t=e[i];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==o&&(e[i+1]=o));if(r===e[i+1])return void(e[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==o&&e.splice(i++,0,o)}function jn(e){return e!==Mn}function Tn(e){return ngDevMode&&_(e,"Number expected"),ngDevMode&&O(e,-1,"Not a valid state."),ngDevMode&&I(32767&e,je,"Parent injector must be pointing past HEADER_OFFSET."),32767&e}function An(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let kn=!0;function Nn(e){const t=kn;return kn=e,t}let Rn=0;function Fn(e,t){const n=Ln(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Vn(r.data,e),Vn(t,null),Vn(r.blueprint,null));const o=$n(e,t),i=e.injectorIndex;if(jn(o)){const e=Tn(o),n=An(o,t),r=n[1].data;for(let o=0;o<8;o++)t[i+o]=n[e+o]|r[e+o]}return t[i+8]=o,i}function Vn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ln(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:(ngDevMode&&k(t,e.injectorIndex),e.injectorIndex)}function $n(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){const e=o[1],t=e.type;if(2===t?(ngDevMode&&j(e.declTNode,"Embedded TNodes should have declaration parents."),r=e.declTNode):1===t?r=o[6]:(ngDevMode&&C(e.type,0,"Root type expected"),r=null),null===r)return Mn;if(ngDevMode&&r&&Le(r,o[15]),n++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Mn}function Hn(e,t,n){!function(e,t,n){let r;ngDevMode&&C(t.firstCreatePass,!0,"expected firstCreatePass to be true"),"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(he)&&(r=n[he]),null==r&&(r=n[he]=Rn++);const o=255&r,i=1<<o;t.data[e+(o>>5)]|=i}(e,t,n)}function Bn(e,t,n){if(n&q.Optional)return e;b(t,"NodeInjector")}function Un(e,t,n,r){if(n&q.Optional&&void 0===r&&(r=null),0==(n&(q.Self|q.Host))){const o=e[9],i=G(void 0);try{return o?o.get(t,r,n&q.Optional):J(t,r,n&q.Optional)}finally{G(i)}}return Bn(r,t,n)}function Wn(e,t,n,r=q.Default,o){if(null!==e){const i=function(e){if(ngDevMode&&j(e,"token must be defined"),"string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(he)?e[he]:void 0;return"number"==typeof t?t>=0?255&t:(ngDevMode&&C(t,-1,"Expecting to get Special Injector Id"),qn):t}(n);if("function"==typeof i){if(!nn(t,e,r))return r&q.Host?Bn(o,n,r):Un(t,n,r,o);try{const e=i(r);if(null!=e||r&q.Optional)return e;b(n)}finally{an()}}else if("number"==typeof i){let o=null,s=Ln(e,t),u=Mn,a=r&q.Host?t[16][6]:null;for((-1===s||r&q.SkipSelf)&&(u=-1===s?$n(e,t):t[s+8],u!==Mn&&Qn(r,!1)?(o=t[1],s=Tn(u),t=An(u,t)):s=-1);-1!==s;){ngDevMode&&Xe(t,s);const e=t[1];if(ngDevMode&&Le(e.data[s+8],t),Zn(i,s,e.data)){const e=Kn(s,t,n,o,r,a);if(e!==zn)return e}u=t[s+8],u!==Mn&&Qn(r,t[1].data[s+8]===a)&&Zn(i,s,t)?(o=e,s=Tn(u),t=An(u,t)):s=-1}}}return Un(t,n,r,o)}const zn={};function qn(){return new Yn(Rt(),At())}function Kn(e,t,n,r,o,i){const s=t[1],u=s.data[e+8],a=Gn(u,s,n,null==r?Re(u)&&kn:r!=s&&0!=(3&u.type),o&q.Host&&i===u);return null!==a?Jn(t,s,a,u):zn}function Gn(e,t,n,r,o){const i=e.providerIndexes,s=t.data,u=1048575&i,a=e.directiveStart,c=e.directiveEnd,l=i>>20,d=o?u+l:c;for(let e=r?u:u+l;e<d;e++){const t=s[e];if(e<a&&n===t||e>=a&&t.type===n)return e}if(o){const e=s[a];if(e&&Ve(e)&&e.type===n)return a}return null}function Jn(e,t,n,r){let o=e[n];const i=t.data;if(o instanceof Cn){const u=o;u.resolving&&g(y(i[n]));const a=Nn(u.canSeeViewProviders);u.resolving=!0;const c=u.injectImpl?G(u.injectImpl):null,l=nn(e,r,q.Default);ngDevMode&&C(l,!0,"Because flags do not contain `SkipSelf' we expect this to always succeed.");try{o=e[n]=u.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&(ngDevMode&&(void 0!==(s=i[n]).type&&null!=s.selectors&&void 0!==s.inputs||T("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")),function(e,t,n){ngDevMode&&Ge(n);const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const r=rt(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i))}(n,i[n],t))}finally{null!==c&&G(c),Nn(a),u.resolving=!1,an()}}var s;return o}function Zn(e,t,n){const r=1<<e;return!!(n[t+(e>>5)]&r)}function Qn(e,t){return!(e&q.Self||e&q.Host&&t)}class Yn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return Wn(this._tNode,this._lView,e,n,t)}}function Xn(e){return Z((()=>{const t=e.prototype.constructor,n=t[pe]||er(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const e=o[pe]||er(o);if(e&&e!==n)return e;o=Object.getPrototypeOf(o)}return e=>new e}))}function er(e){return f(e)?()=>{const t=er(d(e));return t&&t()}:et(e)}function tr(e){return function(e,t){if(ngDevMode&&xn(e,15),ngDevMode&&j(e,"expecting tNode"),"class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const o=n[r];if(Sn(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(o===t)return n[r+1];r+=2}}}return null}(Rt(),e)}const nr="__annotations__",rr="__parameters__",or="__prop__metadata__";function ir(e,t,n,r,o){return Z((()=>{const i=sr(t);function s(...e){if(this instanceof s)return i.call(this,...e),this;const t=new s(...e);return function(n){return o&&o(n,...e),(n.hasOwnProperty(nr)?n[nr]:Object.defineProperty(n,nr,{value:[]})[nr]).push(t),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}))}function sr(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function ur(e,t,n){return Z((()=>{const r=sr(t);function o(...e){if(this instanceof o)return r.apply(this,e),this;const t=new o(...e);return n.annotation=t,n;function n(e,n,r){const o=e.hasOwnProperty(rr)?e[rr]:Object.defineProperty(e,rr,{value:[]})[rr];for(;o.length<=r;)o.push(null);return(o[r]=o[r]||[]).push(t),e}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}))}function ar(e,t,n,r){return Z((()=>{const o=sr(t);function i(...e){if(this instanceof i)return o.apply(this,e),this;const t=new i(...e);return function(n,o){const i=n.constructor,s=i.hasOwnProperty(or)?i[or]:Object.defineProperty(i,or,{value:{}})[or];s[o]=s.hasOwnProperty(o)&&s[o]||[],s[o].unshift(t),r&&r(n,o,...e)}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}const cr=ur("Attribute",(e=>({attributeName:e,__NG_ELEMENT_ID__:()=>tr(e)})));class lr{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.prov=void 0,"number"==typeof t?(("undefined"==typeof ngDevMode||ngDevMode)&&S(t,0,"Only negative numbers are supported here"),this.__NG_ELEMENT_ID__=t):void 0!==t&&(this.prov=R({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const dr=new lr("AnalyzeForEntryComponents");class fr{}const pr=ar("ContentChildren",((e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},t)),fr),hr=ar("ContentChild",((e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)),fr),vr=ar("ViewChildren",((e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},t)),fr),yr=ar("ViewChild",((e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)),fr);var gr,mr;function br(e){const t=ie.ng;if(t&&t.compilerFacade)return t.compilerFacade;if("undefined"==typeof ngDevMode||ngDevMode){console.error(`JIT compilation failed for ${e.kind}`,e.type);let t=`The ${e.kind} '${e.type.name}' needs to be compiled using the JIT compiler, but '@angular/compiler' is not available.\n\n`;throw 1===e.usage?(t+=`The ${e.kind} is part of a library that has been partially compiled.\n`,t+="However, the Angular Linker has not processed the library such that JIT compilation is used as fallback.\n",t+="\n",t+="Ideally, the library is processed using the Angular Linker to become fully AOT compiled.\n"):t+="JIT compilation is discouraged for production use-cases! Consider using AOT mode instead.\n",t+="Alternatively, the JIT compiler should be loaded by bootstrapping using '@angular/platform-browser-dynamic' or '@angular/platform-server',\n",t+="or manually provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.",new Error(t)}throw new Error("JIT compiler unavailable")}!function(e){e[e.Directive=0]="Directive",e[e.Component=1]="Component",e[e.Injectable=2]="Injectable",e[e.Pipe=3]="Pipe",e[e.NgModule=4]="NgModule"}(gr||(gr={})),function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(mr||(mr={}));const _r=Function;function wr(e){return"function"==typeof e}function Mr(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Mr(r,t)):t!==e&&t.push(r)}return t}function Cr(e,t){e.forEach((e=>Array.isArray(e)?Cr(e,t):t(e)))}function Or(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function xr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Dr(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Sr(e,t,n){let r=Ir(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){ngDevMode&&E(t,e.length,"Can't insert past array end.");let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){const t=o-2;e[o]=e[t],o--}e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Er(e,t){const n=Ir(e,t);if(n>=0)return e[1|n]}function Ir(e,t){return function(e,t,n){ngDevMode&&C(Array.isArray(e),!0,"Expecting an array");let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}const Pr=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,jr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Tr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Ar=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class kr{constructor(e){this._reflect=e||ie.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=Dr(void 0===e?t.length:e.length);for(let r=0;r<n.length;r++)void 0===e?n[r]=[]:e[r]&&e[r]!=Object?n[r]=[e[r]]:n[r]=[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(n=e.toString(),Pr.test(n)||Ar.test(n)||jr.test(n)&&!Tr.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==t.ctorParameters){const e="function"==typeof r?r():r,t=e.map((e=>e&&e.type)),n=e.map((e=>e&&Nr(e.decorators)));return this._zipTypesAndAnnotations(t,n)}const o=e.hasOwnProperty(rr)&&e[rr],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return i||o?this._zipTypesAndAnnotations(i,o):Dr(e.length)}parameters(e){if(!wr(e))return[];const t=Rr(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?Nr(e.decorators):e.hasOwnProperty(nr)?e[nr]:null}annotations(e){if(!wr(e))return[];const t=Rr(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach((e=>{n[e]=Nr(t[e])})),n}return e.hasOwnProperty(or)?e[or]:null}propMetadata(e){if(!wr(e))return{};const t=Rr(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach((t=>{n[t]=e[t]}))}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach((e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t})),n}ownPropMetadata(e){return wr(e)&&this._ownPropMetadata(e,Rr(e))||{}}hasLifecycleHook(e,t){return e instanceof _r&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${u(e)}`}resourceUri(e){return`./${u(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function Nr(e){return e?e.map((e=>new(0,e.type.annotationCls)(...e.args?e.args:[]))):[]}function Rr(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const Fr={},Vr=/\n/gm,Lr="__source",$r=i({provide:String,useValue:i});let Hr;function Br(e){const t=Hr;return Hr=e,t}function Ur(e,t=q.Default){if(void 0===Hr){const e="undefined"==typeof ngDevMode||ngDevMode?"inject() must be called from an injection context":"";throw new p(203,e)}return null===Hr?J(e,void 0,t):Hr.get(e,t&q.Optional?null:void 0,t)}function Wr(e,t=q.Default){return(K||Ur)(d(e),t)}function zr(e){const t=ngDevMode?`This constructor is not compatible with Angular Dependency Injection because its dependency at index ${e} of the parameter list is invalid.\nThis can happen if the dependency type is a primitive like a string or if an ancestor of this class is missing an Angular decorator.\n\nPlease check that 1) the type for the parameter at index ${e} is correct and 2) the correct Angular decorators are defined for this class and its ancestors.`:"invalid";throw new Error(t)}const qr=Wr;function Kr(e){const t=[];for(let n=0;n<e.length;n++){const r=d(e[n]);if(Array.isArray(r)){if(0===r.length){const e="undefined"==typeof ngDevMode||ngDevMode?"Arguments array must have arguments.":"";throw new p(900,e)}let e,n=q.Default;for(let t=0;t<r.length;t++){const o=r[t],i=o.__NG_DI_FLAG__;"number"==typeof i?-1===i?e=o.token:n|=i:e=o}t.push(Wr(e,n))}else t.push(Wr(r))}return t}function Gr(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const Jr=Gr(ur("Inject",(e=>({token:e}))),-1),Zr=Gr(ur("Optional"),8),Qr=Gr(ur("Self"),2),Yr=Gr(ur("SkipSelf"),4),Xr=Gr(ur("Host"),1);let eo=null;function to(){return eo=eo||new kr}function no(e){return ro(to().parameters(e))}function ro(e){return e.map((e=>function(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const o=Object.getPrototypeOf(r);if(r instanceof Zr||"Optional"===o.ngMetadataName)t.optional=!0;else if(r instanceof Yr||"SkipSelf"===o.ngMetadataName)t.skipSelf=!0;else if(r instanceof Qr||"Self"===o.ngMetadataName)t.self=!0;else if(r instanceof Xr||"Host"===o.ngMetadataName)t.host=!0;else if(r instanceof Jr)t.token=r.token;else if(r instanceof cr){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");t.attribute=r.attributeName}else t.token=r}else void 0===e||Array.isArray(e)&&0===e.length?t.token=null:t.token=e;return t}(e)))}function oo(e){const t=[],n=new Map;function r(t){let r=n.get(t);if(!r){const o=e(t);n.set(t,r=o.then(co))}return r}return io.forEach(((e,n)=>{const o=[];e.templateUrl&&o.push(r(e.templateUrl).then((t=>{e.template=t})));const i=e.styleUrls,s=e.styles||(e.styles=[]),u=e.styles.length;i&&i.forEach(((t,n)=>{s.push(""),o.push(r(t).then((r=>{s[u+n]=r,i.splice(i.indexOf(t),1),0==i.length&&(e.styleUrls=void 0)})))}));const a=Promise.all(o).then((()=>function(e){so.delete(e)}(n)));t.push(a)})),ao(),Promise.all(t).then((()=>{}))}let io=new Map;const so=new Set;function uo(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function ao(){const e=io;return io=new Map,e}function co(e){return"string"==typeof e?e:e.text()}let lo,fo;function po(){if(void 0===lo&&(lo=null,ie.trustedTypes))try{lo=ie.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return lo}function ho(e){var t;return(null===(t=po())||void 0===t?void 0:t.createHTML(e))||e}function vo(){if(void 0===fo&&(fo=null,ie.trustedTypes))try{fo=ie.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return fo}function yo(e){var t;return(null===(t=vo())||void 0===t?void 0:t.createHTML(e))||e}function go(e){var t;return(null===(t=vo())||void 0===t?void 0:t.createScript(e))||e}function mo(e){var t;return(null===(t=vo())||void 0===t?void 0:t.createScriptURL(e))||e}class bo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class _o extends bo{getTypeName(){return"HTML"}}class wo extends bo{getTypeName(){return"Style"}}class Mo extends bo{getTypeName(){return"Script"}}class Co extends bo{getTypeName(){return"URL"}}class Oo extends bo{getTypeName(){return"ResourceURL"}}function xo(e){return e instanceof bo?e.changingThisBreaksApplicationSecurity:e}function Do(e,t){const n=So(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function So(e){return e instanceof bo&&e.getTypeName()||null}function Eo(e){return new _o(e)}function Io(e){return new wo(e)}function Po(e){return new Mo(e)}function jo(e){return new Co(e)}function To(e){return new Oo(e)}function Ao(e){const t=new No(e);return function(){try{return!!(new window.DOMParser).parseFromString(ho(""),"text/html")}catch(e){return!1}}()?new ko(t):t}class ko{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ho(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(e){return null}}}class No{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=ho(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=ho(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let n=t.length-1;0<n;n--){const r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ro=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Fo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Vo(e){return(e=String(e)).match(Ro)||e.match(Fo)?e:(("undefined"==typeof ngDevMode||ngDevMode)&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see https://g.co/ng/security#xss)`),"unsafe:"+e)}function Lo(e){return(e=String(e)).split(",").map((e=>Vo(e.trim()))).join(", ")}function $o(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Ho(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Bo=$o("area,br,col,hr,img,wbr"),Uo=$o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wo=$o("rp,rt"),zo=Ho(Wo,Uo),qo=Ho(Uo,$o("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ko=Ho(Wo,$o("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Go=Ho(Bo,qo,Ko,zo),Jo=$o("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zo=$o("srcset"),Qo=$o("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yo=$o("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Xo=Ho(Jo,Zo,Qo,Yo),ei=$o("script,style,template");class ti{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Go.hasOwnProperty(t))return this.sanitizedSomething=!0,!ei.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let e=0;e<n.length;e++){const t=n.item(e),r=t.name,o=r.toLowerCase();if(!Xo.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let i=t.value;Jo[o]&&(i=Vo(i)),Zo[o]&&(i=Lo(i)),this.buf.push(" ",r,'="',oi(i),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Go.hasOwnProperty(t)&&!Bo.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(oi(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const ni=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ri=/([^\#-~ |!])/g;function oi(e){return e.replace(/&/g,"&amp;").replace(ni,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(ri,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ii;function si(e,t){let n=null;try{ii=ii||Ao(e);let r=t?String(t):"";n=ii.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=ii.getInertBodyElement(r)}while(r!==i);const s=new ti,u=s.sanitizeChildren(ui(n)||n);return("undefined"==typeof ngDevMode||ngDevMode)&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see https://g.co/ng/security#xss"),ho(u)}finally{if(n){const e=ui(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function ui(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ai;function ci(e){const t=gi();return t?yo(t.sanitize(ai.HTML,e)||""):Do(e,"HTML")?yo(xo(e)):si(ht(),v(e))}function li(e){const t=gi();return t?t.sanitize(ai.STYLE,e)||"":Do(e,"Style")?xo(e):v(e)}function di(e){const t=gi();return t?t.sanitize(ai.URL,e)||"":Do(e,"URL")?xo(e):Vo(v(e))}function fi(e){const t=gi();if(t)return mo(t.sanitize(ai.RESOURCE_URL,e)||"");if(Do(e,"ResourceURL"))return mo(xo(e));const n="undefined"==typeof ngDevMode||ngDevMode?"unsafe value used in a resource URL context (see https://g.co/ng/security#xss)":"";throw new p(904,n)}function pi(e){const t=gi();if(t)return go(t.sanitize(ai.SCRIPT,e)||"");if(Do(e,"Script"))return go(xo(e));const n="undefined"==typeof ngDevMode||ngDevMode?"unsafe value used in a script context":"";throw new p(905,n)}function hi(e){if(ngDevMode&&(!Array.isArray(e)||!Array.isArray(e.raw)||1!==e.length))throw new Error(`Unexpected interpolation in trusted HTML constant: ${e.join("?")}`);return ho(e[0])}function vi(e){if(ngDevMode&&(!Array.isArray(e)||!Array.isArray(e.raw)||1!==e.length))throw new Error(`Unexpected interpolation in trusted URL constant: ${e.join("?")}`);return function(e){var t;return(null===(t=po())||void 0===t?void 0:t.createScriptURL(e))||e}(e[0])}function yi(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?fi:di}(t,n)(e)}function gi(){const e=At();return e&&e[12]}function mi(e){let t=Mi(e);if(t){if(Array.isArray(t)){const r=t;let o,i,s;if((n=e)&&n.constructor&&n.constructor.cmp){if(o=Di(r,e),-1==o)throw new Error("The provided component was not found in the application");i=e}else if(function(e){return e&&e.constructor&&e.constructor.dir}(e)){if(o=function(e,t){let n=e[1].firstChild;for(;n;){const r=n.directiveStart,o=n.directiveEnd;for(let i=r;i<o;i++)if(e[i]===t)return n.index;n=xi(n)}return-1}(r,e),-1==o)throw new Error("The provided directive was not found in the application");s=Si(o,r,!1)}else if(o=Oi(r,e),-1==o)return null;const u=mt(r[o]),a=Mi(u),c=a&&!Array.isArray(a)?a:bi(r,o,u);if(i&&void 0===c.component&&(c.component=i,wi(c.component,c)),s&&void 0===c.directives){c.directives=s;for(let e=0;e<s.length;e++)wi(s[e],c)}wi(c.native,c),t=c}}else{const n=e;ngDevMode&&A(n);let r=n;for(;r=r.parentNode;){const e=Mi(r);if(e){let r;if(r=Array.isArray(e)?e:e.lView,!r)return null;const o=Oi(r,n);if(o>=0){const e=mt(r[o]),n=bi(r,o,e);wi(e,n),t=n;break}}}}var n;return t||null}function bi(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}function _i(e){let t,n=Mi(e);if(Array.isArray(n)){const r=Di(n,e);t=Ct(r,n);const o=bi(n,r,t[0]);o.component=e,wi(e,o),wi(o.native,o)}else{const e=n;t=Ct(e.nodeIndex,e.lView)}return t}function wi(e,t){ngDevMode&&j(e,"Target expected"),e.__ngContext__=t}function Mi(e){return ngDevMode&&j(e,"Target expected"),e.__ngContext__||null}function Ci(e){const t=Mi(e);return t?Array.isArray(t)?t:t.lView:null}function Oi(e,t){const n=e[1];for(let r=je;r<n.bindingStartIndex;r++)if(mt(e[r])===t)return r;return-1}function xi(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function Di(e,t){const n=e[1].components;if(n)for(let r=0;r<n.length;r++){const o=n[r];if(Ct(o,e)[8]===t)return o}else if(Ct(je,e)[8]===t)return je;return-1}function Si(e,t,n){const r=t[1].data[e];let o=r.directiveStart;if(0==o)return ae;const i=r.directiveEnd;return!n&&2&r.flags&&o++,t.slice(o,i)}function Ei(e){return e.ngOriginalError}function Ii(e,...t){e.error(...t)}!function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(ai||(ai={}));class Pi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=function(e){return e&&e.ngErrorLogger||Ii}(e);n(this._console,"ERROR",e),t&&n(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Ei(e);for(;t&&Ei(t);)t=Ei(t);return t||null}}const ji={name:"custom-elements"},Ti={name:"no-errors-schema"},Ai=/^>|^->|<!--|-->|--!>|<!-$/g,ki=/(<|>)/;function Ni(e){return e.replace(Ai,(e=>e.replace(ki,"$1")))}const Ri=/([A-Z])/g,Fi=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ie);function Vi(e){return e.ownerDocument.defaultView}function Li(e){return e.ownerDocument}function $i(e){return e.ownerDocument.body}const Hi="";function Bi(e){return e instanceof Function?e():e}function Ui(e){throw new p(-300,`Multiple components match node with tagname ${e.value}`)}function Wi(e,t,n,r,o){const[i,s,...u]=r.split(Hi);let a=s,c=s;for(let r=0;r<u.length;r++){const i=t+r;a+=`${e[i]}${u[r]}`,c+=`${i===n?o:e[i]}${u[r]}`}return{propName:i,oldValue:a,newValue:c}}var zi;let qi;function Ki(e,t){return qi(e,t)}function Gi(e){ngDevMode&&Ke(e);const t=e[3];return ke(t)?t[3]:t}function Ji(e){const t=function(e){ngDevMode&&j(e,"component");let t=Ae(e)?e:Ci(e);for(;t&&!(512&t[2]);)t=Gi(t);return ngDevMode&&Ke(t),t}(e);return ngDevMode&&j(t[8],"RootView has no context. Perhaps it is disconnected?"),t[8]}function Zi(e){return Yi(e[13])}function Qi(e){return Yi(e[4])}function Yi(e){for(;null!==e&&!ke(e);)e=e[4];return e}function Xi(e,t,n,r,o){if(null!=r){let i,s=!1;ke(r)?i=r:Ae(r)&&(s=!0,ngDevMode&&j(r[0],"HOST must be defined for a component LView"),r=r[0]);const u=mt(r);ngDevMode&&!yt(t)&&A(u),0===e&&null!==n?null==o?ds(t,n,u):ls(t,n,u,o||null,!0):1===e&&null!==n?ls(t,n,u,o||null,!0):2===e?Cs(t,u,s):3===e&&(ngDevMode&&ngDevMode.rendererDestroyNode++,t.destroyNode(u)),null!=i&&function(e,t,n,r,o){ngDevMode&&ze(n);const i=n[7];i!==mt(n)&&Xi(t,e,r,i,o);for(let o=Pe;o<n.length;o++){const s=n[o];xs(s[1],s,e,t,r,i)}}(t,e,i,n,o)}}function es(e,t){return ngDevMode&&ngDevMode.rendererCreateTextNode++,ngDevMode&&ngDevMode.rendererSetText++,yt(e)?e.createText(t):e.createTextNode(t)}function ts(e,t,n){ngDevMode&&ngDevMode.rendererSetText++,yt(e)?e.setValue(t,n):t.textContent=n}function ns(e,t){return ngDevMode&&ngDevMode.rendererCreateComment++,e.createComment(Ni(t))}function rs(e,t,n){if(ngDevMode&&ngDevMode.rendererCreateElement++,yt(e))return e.createElement(t,n);{const r=null!==n?function(e){const t=e.toLowerCase();return t===lt?"http://www.w3.org/2000/svg":t===dt?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?e.createElement(t):e.createElementNS(r,t)}}function os(e,t){ngDevMode&&ze(e),ngDevMode&&j(e[9],"A projected view should belong to a non-empty projected views collection");const n=e[9],r=n.indexOf(t),o=t[3];ngDevMode&&ze(o),1024&t[2]&&(t[2]&=-1025,Et(o,-1)),n.splice(r,1)}function is(e,t){if(e.length<=Pe)return;const n=Pe+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&os(i,r),t>0&&(e[n-1][4]=r[4]);const s=xr(e,Pe+t);xs(r[1],o=r,o[11],2,null,null),o[0]=null,o[6]=null;const u=s[19];null!==u&&u.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var o;return r}function ss(e,t){if(!(256&t[2])){const n=t[11];yt(n)&&n.destroyNode&&xs(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return us(e[1],e);for(;t;){let n=null;if(Ae(t))n=t[13];else{ngDevMode&&ze(t);const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)Ae(t)&&us(t[1],t),t=t[3];null===t&&(t=e),Ae(t)&&us(t[1],t),n=t&&t[4]}t=n}}(t)}}function us(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let e=0;e<n.length;e+=2){const r=t[n[e]];if(!(r instanceof Cn)){const t=n[e+1];if(Array.isArray(t))for(let e=0;e<t.length;e+=2){const n=r[t[e]],o=t[e+1];ct(4,n,o);try{o.call(n)}finally{ct(5,n,o)}}else{ct(4,r,t);try{t.call(r)}finally{ct(5,r,t)}}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let o=-1;if(null!==n)for(let e=0;e<n.length-1;e+=2)if("string"==typeof n[e]){const i=n[e+1],s="function"==typeof i?i(t):mt(t[i]),u=r[o=n[e+2]],a=n[e+3];"boolean"==typeof a?s.removeEventListener(n[e],u,a):a>=0?r[o=a]():r[o=-a].unsubscribe(),e+=2}else{const t=r[o=n[e+1]];n[e].call(t)}if(null!==r){for(let e=o+1;e<r.length;e++){const t=r[e];ngDevMode&&(s="Expecting instance cleanup function.","function"!=typeof(i=t)&&T(s,null===i?"null":typeof i,"function","===")),t()}t[7]=null}var i,s}(e,t),1===t[1].type&&yt(t[11])&&(ngDevMode&&ngDevMode.rendererDestroy++,t[11].destroy());const n=t[17];if(null!==n&&ke(t[3])){n!==t[3]&&os(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function as(e,t,n){return cs(e,t.parent,n)}function cs(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(ngDevMode&&xn(r,7),2&r.flags){ngDevMode&&Le(r,n);const t=e.data[r.directiveStart].encapsulation;if(t===X.None||t===X.Emulated)return null}return _t(r,n)}function ls(e,t,n,r,o){ngDevMode&&ngDevMode.rendererInsertBefore++,yt(e)?e.insertBefore(t,n,r,o):t.insertBefore(n,r,o)}function ds(e,t,n){ngDevMode&&ngDevMode.rendererAppendChild++,ngDevMode&&j(t,"parent node must be defined"),yt(e)?e.appendChild(t,n):t.appendChild(n)}function fs(e,t,n,r,o){null!==r?ls(e,t,n,r,o):ds(e,t,n)}function ps(e,t){return yt(e)?e.parentNode(t):t.parentNode}function hs(e,t,n){return gs(e,t,n)}function vs(e,t,n){return 40&e.type?_t(e,n):null}!function(e){e[e.Important=1]="Important",e[e.DashCase=2]="DashCase"}(zi||(zi={}));let ys,gs=vs;function ms(e,t){gs=e,ys=t}function bs(e,t,n,r){const o=as(e,r,t),i=t[11],s=hs(r.parent||t[6],r,t);if(null!=o)if(Array.isArray(n))for(let e=0;e<n.length;e++)fs(i,o,n[e],s,!1);else fs(i,o,n,s,!1);void 0!==ys&&ys(i,r,t,n,o)}function _s(e,t){if(null!==t){ngDevMode&&xn(t,63);const n=t.type;if(3&n)return _t(t,e);if(4&n)return Ms(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return _s(e,n);{const n=e[t.index];return ke(n)?Ms(-1,n):mt(n)}}if(32&n)return Ki(t,e)()||mt(e[t.index]);{const n=ws(e,t);if(null!==n){if(Array.isArray(n))return n[0];const t=Gi(e[16]);return ngDevMode&&Ye(t),_s(t,n)}return _s(e,t.next)}}return null}function ws(e,t){if(null!==t){const n=e[16][6],r=t.projection;return ngDevMode&&function(e,t){j(e[16],"Component views should exist."),j(e[16][6].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}(e),n.projection[r]}return null}function Ms(e,t){const n=Pe+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return _s(e,r)}return t[7]}function Cs(e,t,n){ngDevMode&&ngDevMode.rendererRemoveNode++;const r=ps(e,t);r&&function(e,t,n,r){yt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function Os(e,t,n,r,o,i,s){for(;null!=n;){ngDevMode&&Le(n,r),ngDevMode&&xn(n,63);const u=r[n.index],a=n.type;if(s&&0===t&&(u&&wi(mt(u),r),n.flags|=4),64!=(64&n.flags))if(8&a)Os(e,t,n.child,r,o,i,!1),Xi(t,e,o,u,i);else if(32&a){const s=Ki(n,r);let a;for(;a=s();)Xi(t,e,o,a,i);Xi(t,e,o,u,i)}else 16&a?Ds(e,t,r,n,o,i):(ngDevMode&&xn(n,7),Xi(t,e,o,u,i));n=s?n.projectionNext:n.next}}function xs(e,t,n,r,o,i){Os(n,r,e.firstChild,t,o,i,!1)}function Ds(e,t,n,r,o,i){const s=n[16],u=s[6];ngDevMode&&C(typeof r.projection,"number","expecting projection index");const a=u.projection[r.projection];if(Array.isArray(a))for(let n=0;n<a.length;n++)Xi(t,e,o,a[n],i);else Os(e,t,a,s[3],o,i,!0)}function Ss(e,t,n){ngDevMode&&M(n,"'newValue' should be a string"),yt(e)?e.setAttribute(t,"style",n):t.style.cssText=n,ngDevMode&&ngDevMode.rendererSetStyle++}function Es(e,t,n){ngDevMode&&M(n,"'newValue' should be a string"),yt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n,ngDevMode&&ngDevMode.rendererSetClassName++}function Is(e,t,n){ngDevMode&&O(t,"",'can not look for "" string.');let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const n=t.length;if(o+n===r||e.charCodeAt(o+n)<=32)return o}n=o+1}}const Ps="ng-template";function js(e,t,n){ngDevMode&&C(t,t.toLowerCase(),"Class name expected to be lowercase.");let r=0;for(;r<e.length;){let o=e[r++];if(n&&"class"===o){if(o=e[r],-1!==Is(o.toLowerCase(),t,0))return!0}else if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}}return!1}function Ts(e){return 4===e.type&&e.value!==Ps}function As(e,t,n){return t===(4!==e.type||n?e.value:Ps)}function ks(e,t,n){ngDevMode&&j(t[0],"Selector should have a tag name");let r=4;const o=e.attrs||[],i=function(e){for(let t=0;t<e.length;t++)if(Sn(e[t]))return t;return e.length}(o);let s=!1;for(let u=0;u<t.length;u++){const a=t[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!As(e,a,n)||""===a&&1===t.length){if(Ns(r))return!1;s=!0}}else{const c=8&r?a:t[++u];if(8&r&&null!==e.attrs){if(!js(e.attrs,c,n)){if(Ns(r))return!1;s=!0}continue}const l=Rs(8&r?"class":a,o,Ts(e),n);if(-1===l){if(Ns(r))return!1;s=!0;continue}if(""!==c){let e;l>i?e="":(ngDevMode&&O(o[l],0,"We do not match directives on namespaced attributes"),e=o[l+1].toLowerCase());const t=8&r?e:null;if(t&&-1!==Is(t,c,0)||2&r&&c!==e){if(Ns(r))return!1;s=!0}}}}else{if(!s&&!Ns(r)&&!Ns(a))return!1;if(s&&Ns(a))continue;s=!1,r=a|1&r}}return Ns(r)||s}function Ns(e){return 0==(1&e)}function Rs(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let n=!1;for(;o<t.length;){const r=t[o];if(r===e)return o;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++o];for(;"string"==typeof e;)e=t[++o];continue}if(4===r)break;if(0===r){o+=4;continue}}o+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Fs(e,t,n=!1){for(let r=0;r<t.length;r++)if(ks(e,t[r],n))return!0;return!1}function Vs(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function Ls(e,t){return e?":not("+t.trim()+")":t}function $s(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const t=e[++n];o+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""===o||Ns(s)||(t+=Ls(i,o),o=""),r=s,i=i||!Ns(r);n++}return""!==o&&(t+=Ls(i,o)),t}const Hs="undefined"==typeof ngDevMode||ngDevMode?{__brand__:"NO_CHANGE"}:{};function Bs(e){ngDevMode&&I(e,0,"Can only advance forward"),Us(kt(),At(),ln()+e,Bt())}function Us(e,t,n,r){if(ngDevMode&&function(e,t){const n=e[1];Qe(je,n.bindingStartIndex,t)}(t,n),!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&gn(t,r,n)}else{const r=e.preOrderHooks;null!==r&&mn(t,r,0,n)}dn(n)}function Ws(e){if(!ngDevMode)throw new Error("Looks like we are in 'prod mode', but we are creating a named Array type, which is wrong! Check your code");try{return function(...e){if("undefined"==typeof ngDevMode)throw new Error("newTrustedFunctionForDev should never be called in production");if(!ie.trustedTypes)return new Function(...e);const t=`(function anonymous(${e.slice(0,-1).join(",")}\n) { ${e[e.length-1]}\n})`,n=ie.eval((r=t,(null===(o=po())||void 0===o?void 0:o.createScript(r))||r));var r,o;return void 0===n.bind?new Function(...e):(n.toString=()=>t,n.bind(ie))}("Array",`return class ${e} extends Array{}`)(Array)}catch(e){return Array}}function zs(e,t){return ngDevMode&&w(e,0,32767),ngDevMode&&w(t,0,32767),e<<17|t<<2}function qs(e){return ngDevMode&&_(e,"expected number"),e>>17&32767}function Ks(e){return ngDevMode&&_(e,"expected number"),2==(2&e)}function Gs(e){return ngDevMode&&_(e,"expected number"),2|e}function Js(e){return ngDevMode&&_(e,"expected number"),(131068&e)>>2}function Zs(e,t){return ngDevMode&&_(e,"expected number"),ngDevMode&&w(t,0,32767),-131069&e|t<<2}function Qs(e){return ngDevMode&&_(e,"expected number"),1==(1&e)}function Ys(e){return ngDevMode&&_(e,"expected number"),1|e}function Xs(e,t){if(!ngDevMode)throw new Error("This method should be guarded with `ngDevMode` so that it can be tree shaken in production!");Object.defineProperty(e,"debug",{value:t,enumerable:!1})}function eu(e,t){if(!ngDevMode)throw new Error("This method should be guarded with `ngDevMode` so that it can be tree shaken in production!");Object.defineProperty(e,"debug",{get:t,enumerable:!1})}let tu,nu,ru,ou,iu;class su extends Array{}class uu extends Array{}class au extends Array{}function cu(e){if(null==e)return"";const t=e.lastIndexOf("_Template");return"_"+(-1===t?e:e.substr(0,t))}function lu(e,t){const n=e.tView_.data,r=[],o=t?e.classBindings:e.styleBindings,i=qs(o),s=Js(o);let u=0!==s,a=u?s:i;for(;0!==a;){const e=n[a],t=n[a+1];r.unshift({key:e,index:a,isTemplate:u,prevDuplicate:Ks(t),nextDuplicate:Qs(t),nextIndex:Js(t),prevIndex:qs(t)}),a===i&&(u=!1),a=qs(t)}return r.push((t?e.residualClasses:e.residualStyles)||null),r}function du(e,t){for(;e;)t.push(e.template_),e=e.next}class fu extends Array{}let pu;class hu extends Array{}class vu extends Array{}class yu extends Array{}class gu extends Array{}class mu extends Array{}class bu extends Array{}class _u extends Array{}function wu(e){if(e){const t=e.debug;return j(t,"Object does not have a debug representation."),t}return e}function Mu(e,t=!1){const n=mt(e);if(n)switch(n.nodeType){case Node.TEXT_NODE:return n.textContent;case Node.COMMENT_NODE:return`\x3c!--${n.textContent}--\x3e`;case Node.ELEMENT_NODE:const e=n.outerHTML;if(t)return e;{const t=">"+n.innerHTML+"<";return e.split(t)[0]+">"}}return null}class Cu{constructor(e){this._raw_lView=e}get flags(){const e=this._raw_lView[2];return{__raw__flags__:e,initPhaseState:3&e,creationMode:!!(4&e),firstViewPass:!!(8&e),checkAlways:!!(16&e),dirty:!!(64&e),attached:!!(128&e),destroyed:!!(256&e),isRoot:!!(512&e),indexWithinInitPhase:e>>11}}get parent(){return wu(this._raw_lView[3])}get hostHTML(){return Mu(this._raw_lView[0],!0)}get html(){return(this.nodes||[]).map(Ou).join("")}get context(){return this._raw_lView[8]}get nodes(){const e=this._raw_lView;return Du(e[1].firstChild,e)}get template(){return this.tView.template_}get tView(){return this._raw_lView[1]}get cleanup(){return this._raw_lView[7]}get injector(){return this._raw_lView[9]}get rendererFactory(){return this._raw_lView[10]}get renderer(){return this._raw_lView[11]}get sanitizer(){return this._raw_lView[12]}get childHead(){return wu(this._raw_lView[13])}get next(){return wu(this._raw_lView[4])}get childTail(){return wu(this._raw_lView[14])}get declarationView(){return wu(this._raw_lView[15])}get queries(){return this._raw_lView[19]}get tHost(){return this._raw_lView[6]}get decls(){return xu(this.tView,this._raw_lView,je,this.tView.bindingStartIndex)}get vars(){return xu(this.tView,this._raw_lView,this.tView.bindingStartIndex,this.tView.expandoStartIndex)}get expando(){return xu(this.tView,this._raw_lView,this.tView.expandoStartIndex,this._raw_lView.length)}get childViews(){const e=[];let t=this.childHead;for(;t;)e.push(t),t=t.next;return e}}function Ou(e){if("ElementContainer"===e.type)return(e.children||[]).map(Ou).join("");if("IcuContainer"===e.type)throw new Error("Not implemented");return Mu(e.native,!0)||""}function xu(e,t,n,r){let o=[];for(let i=n;i<r;i++)o.push({index:i,t:e.data[i],l:t[i]});return{start:n,end:r,length:r-n,content:o}}function Du(e,t){if(e){const n=[];let r=e;for(;r;)n.push(Su(r,t)),r=r.next;return n}return[]}function Su(e,t){const n=mt(t[e.index]),r=[],o=[],i=t[1];for(let n=e.directiveStart;n<e.directiveEnd;n++){const e=i.data[n];r.push(e.type),o.push(t[n])}return{html:Mu(n),type:On(e.type),tNode:e,native:n,children:Du(e.child,t),factories:r,instances:o,injector:Eu(e,i,t),get injectorResolutionPath(){return e.debugNodeInjectorPath(t)}}}function Eu(e,t,n){const r=[];for(let n=e.providerIndexStart_;n<e.providerIndexEnd_;n++)r.push(t.data[n]);const o=[];for(let n=e.providerIndexEnd_;n<e.directiveEnd;n++)o.push(t.data[n]);return{bloom:Pu(n,e.injectorIndex),cumulativeBloom:Pu(t.data,e.injectorIndex),providers:o,viewProviders:r,parentInjectorIndex:n[e.providerIndexStart_-1]}}function Iu(e,t){const n=e[t];if("number"!=typeof n)return"????????";const r="00000000"+n.toString(2);return r.substring(r.length-8)}function Pu(e,t){return t<0?"NO_NODE_INJECTOR":`${Iu(e,t+7)}_${Iu(e,t+6)}_${Iu(e,t+5)}_${Iu(e,t+4)}_${Iu(e,t+3)}_${Iu(e,t+2)}_${Iu(e,t+1)}_${Iu(e,t+0)}`}class ju{constructor(e){this._raw_lContainer=e}get hasTransplantedViews(){return this._raw_lContainer[2]}get views(){return this._raw_lContainer.slice(Pe).map(wu)}get parent(){return wu(this._raw_lContainer[3])}get movedViews(){return this._raw_lContainer[9]}get host(){return this._raw_lContainer[0]}get native(){return this._raw_lContainer[7]}get next(){return wu(this._raw_lContainer[4])}}const Tu=Promise.resolve(null);function Au(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r],i=n[r+1];if(-1!==i){const n=e.data[i];ngDevMode&&j(n,"DirectiveDef not found."),ngDevMode&&j(n.contentQueries,"contentQueries function should be defined"),en(o),n.contentQueries(2,t[i],i)}}}function ku(e,t,n,r,o,i,s,u,a,c){const l=ngDevMode?function(e){return function(e,t){switch(e){case 0:return void 0===ru&&(ru=new su),ru;case 1:if(!ngDevMode||!ngDevMode.namedConstructors)return void 0===ou&&(ou=new uu),ou;void 0===tu&&(tu=new Map);let e=tu.get(t);return void 0===e&&(e=new(Ws("LComponentView"+cu(t))),tu.set(t,e)),e;case 2:if(!ngDevMode||!ngDevMode.namedConstructors)return void 0===iu&&(iu=new au),iu;void 0===nu&&(nu=new Map);let n=nu.get(t);return void 0===n&&(n=new(Ws("LEmbeddedView"+cu(t))),nu.set(t,n)),n}}(e.type,e.template&&e.template.name).concat(e.blueprint)}(t):t.blueprint.slice();return l[0]=o,l[2]=140|r,St(l),ngDevMode&&t.declTNode&&e&&Le(t.declTNode,e),l[3]=l[15]=e,l[8]=n,l[10]=s||e&&e[10],ngDevMode&&j(l[10],"RendererFactory is required"),l[11]=u||e&&e[11],ngDevMode&&j(l[11],"Renderer is required"),l[12]=a||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=i,ngDevMode&&C(2!=t.type||null!==e,!0,"Embedded views must have parentLView"),l[16]=2==t.type?e[16]:l,ngDevMode&&function(e){Xs(e,new Cu(e))}(l),l}function Nu(e,t,n,r,o){ngDevMode&&0!==t&&P(t,je,"TNodes can't be in the LView header."),ngDevMode&&function(e){2!==e&&1!==e&&4!==e&&8!==e&&32!==e&&16!==e&&64!==e&&T(`Expected TNodeType to have only a single type selected, but got ${On(e)}.`)}(n);let i=e.data[t];if(null===i)i=Ru(e,t,n,r,o),It.lFrame.inI18n&&(i.flags|=64);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=Vt();i.injectorIndex=null===s?-1:s.injectorIndex,ngDevMode&&$e(i,e),ngDevMode&&C(t,i.index,"Expecting same index")}return Lt(i,!0),i}function Ru(e,t,n,r,o){const i=Ft(),s=$t(),u=s?i:i&&i.parent,a=e.data[t]=function(e,t,n,r,o,i){ngDevMode&&0!==r&&P(r,je,"TNodes can't be in the LView header."),ngDevMode&&D(i,void 0,"'undefined' is not valid value for 'attrs'"),ngDevMode&&ngDevMode.tNode++,ngDevMode&&t&&$e(t,e);let s=t?t.injectorIndex:-1;const u=ngDevMode?new class{constructor(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v,y,g,m,b,_,w,M,C,O,x,D,S,E,I,P,j){this.tView_=e,this.type=t,this.index=n,this.insertBeforeIndex=r,this.injectorIndex=o,this.directiveStart=i,this.directiveEnd=s,this.directiveStylingLast=u,this.propertyBindings=a,this.flags=c,this.providerIndexes=l,this.value=d,this.attrs=f,this.mergedAttrs=p,this.localNames=h,this.initialInputs=v,this.inputs=y,this.outputs=g,this.tViews=m,this.next=b,this.projectionNext=_,this.child=w,this.parent=M,this.projection=C,this.styles=O,this.stylesWithoutHost=x,this.residualStyles=D,this.classes=S,this.classesWithoutHost=E,this.residualClasses=I,this.classBindings=P,this.styleBindings=j}debugNodeInjectorPath(e){const t=[];let n=Ln(this,e);if(-1===n){const t=$n(this,e);t!==Mn&&(n=Tn(t),e=An(t,e))}for(;-1!==n;){ngDevMode&&Xe(e,n);const r=e[1].data[n+8];t.push(Su(r,e));const o=e[n+8];o===Mn?n=-1:(n=Tn(o),e=An(o,e))}return t}get type_(){return On(this.type)||`TNodeType.?${this.type}?`}get flags_(){const e=[];return 16&this.flags&&e.push("TNodeFlags.hasClassInput"),8&this.flags&&e.push("TNodeFlags.hasContentQuery"),32&this.flags&&e.push("TNodeFlags.hasStyleInput"),128&this.flags&&e.push("TNodeFlags.hasHostBindings"),2&this.flags&&e.push("TNodeFlags.isComponentHost"),1&this.flags&&e.push("TNodeFlags.isDirectiveHost"),64&this.flags&&e.push("TNodeFlags.isDetached"),4&this.flags&&e.push("TNodeFlags.isProjected"),e.join("|")}get template_(){if(1&this.type)return this.value;const e=[],t="string"==typeof this.value&&this.value||this.type_;if(e.push("<",t),this.flags&&e.push(" ",this.flags_),this.attrs)for(let t=0;t<this.attrs.length;){const n=this.attrs[t++];if("number"==typeof n)break;const r=this.attrs[t++];e.push(" ",n,'="',r,'"')}return e.push(">"),du(this.child,e),e.push("</",t,">"),e.join("")}get styleBindings_(){return lu(this,!1)}get classBindings_(){return lu(this,!0)}get providerIndexStart_(){return 1048575&this.providerIndexes}get providerIndexEnd_(){return this.providerIndexStart_+(this.providerIndexes>>>20)}}(e,n,r,null,s,-1,-1,-1,null,0,0,o,i,null,null,void 0,null,null,null,null,null,null,t,null,null,null,void 0,null,null,void 0,0,0):{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0};return ngDevMode&&Object.seal(u),u}(e,u,n,t,r,o);return null===e.firstChild&&(e.firstChild=a),null!==i&&(s?null==i.child&&null!==a.parent&&(i.child=a):null===i.next&&(i.next=a)),a}function Fu(e,t,n,r){if(0===n)return-1;ngDevMode&&(Ge(e),x(e,t[1],"`LView` must be associated with `TView`!"),C(e.data.length,t.length,"Expecting LView to be same size as TView"),C(e.data.length,e.blueprint.length,"Expecting Blueprint to be same size as TView"),Je(e));const o=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Vu(e,t,n){ngDevMode&&C(Ot(t),!0,"Should be run in creation mode"),rn(t);try{const r=e.viewQuery;null!==r&&Ma(1,r,n);const o=e.template;null!==o&&Hu(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Au(e,t),e.staticViewQueries&&Ma(2,e.viewQuery,n);const i=e.components;null!==i&&function(e,t){for(let n=0;n<t.length;n++)ya(e,t[n])}(t,i)}catch(t){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),t}finally{t[2]&=-5,cn()}}function Lu(e,t,n,r){ngDevMode&&C(Ot(t),!1,"Should be run in update mode");const o=t[2];if(256==(256&o))return;rn(t);const i=Bt();try{St(t),qt(e.bindingStartIndex),null!==n&&Hu(e,t,n,2,r);const s=3==(3&o);if(!i)if(s){const n=e.preOrderCheckHooks;null!==n&&gn(t,n,null)}else{const n=e.preOrderHooks;null!==n&&mn(t,n,0,null),bn(t,0)}if(function(e){for(let t=Zi(e);null!==t;t=Qi(t)){if(!t[2])continue;const e=t[9];ngDevMode&&j(e,"Transplanted View flags set but missing MOVED_VIEWS");for(let t=0;t<e.length;t++){const n=e[t],r=n[3];ngDevMode&&ze(r),0==(1024&n[2])&&Et(r,1),n[2]|=1024}}}(t),function(e){for(let t=Zi(e);null!==t;t=Qi(t))for(let e=Pe;e<t.length;e++){const n=t[e],r=n[1];ngDevMode&&j(r,"TView must be allocated"),xt(n)&&Lu(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&Au(e,t),!i)if(s){const n=e.contentCheckHooks;null!==n&&gn(t,n)}else{const n=e.contentHooks;null!==n&&mn(t,n,1),bn(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)dn(~r);else{const o=r,i=n[++e],s=n[++e];Zt(i,o),s(2,t[o])}}}finally{dn(-1)}}(e,t);const u=e.components;null!==u&&function(e,t){for(let n=0;n<t.length;n++)ha(e,t[n])}(t,u);const a=e.viewQuery;if(null!==a&&Ma(2,a,r),!i)if(s){const n=e.viewCheckHooks;null!==n&&gn(t,n)}else{const n=e.viewHooks;null!==n&&mn(t,n,2),bn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Et(t[3],-1))}finally{cn()}}function $u(e,t,n,r){const o=t[10],i=!Bt(),s=Ot(t);try{i&&!s&&o.begin&&o.begin(),s&&Vu(e,t,r),Lu(e,t,n,r)}finally{i&&!s&&o.end&&o.end()}}function Hu(e,t,n,r,o){const i=ln(),s=2&r;try{dn(-1),s&&t.length>je&&Us(e,t,je,Bt()),ct(s?2:0,o),n(r,o)}finally{dn(i),ct(s?3:1,o)}}function Bu(e,t,n){if(Ne(t)){const r=t.directiveStart,o=t.directiveEnd;for(let t=r;t<o;t++){const r=e.data[t];r.contentQueries&&r.contentQueries(1,n[t],t)}}}function Uu(e,t,n){Pt()&&(function(e,t,n,r){const o=n.directiveStart,i=n.directiveEnd;e.firstCreatePass||Fn(n,t),wi(r,t);const s=n.initialInputs;for(let r=o;r<i;r++){const i=e.data[r],u=Ve(i);u&&(ngDevMode&&xn(n,3),ua(t,n,i));const a=Jn(t,e,r,n);wi(a,t),null!==s&&la(t,r-o,a,i,n,s),u&&(Ct(n.index,t)[8]=a)}}(e,t,n,_t(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=(e.firstCreatePass,n.index),s=It.lFrame.currentDirectiveIndex;try{dn(i);for(let n=r;n<o;n++){const r=e.data[n],o=t[n];Qt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||na(r,o)}}finally{dn(-1),Qt(s)}}(e,t,n))}function Wu(e,t,n=_t){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],u=-1===s?n(t,e):e[s];e[o++]=u}}}function zu(e){const t=e.tView;if(null===t||t.incompleteFirstPass){const t=null;return e.tView=qu(1,t,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts)}return t}function qu(e,t,n,r,o,i,s,u,a,c){ngDevMode&&ngDevMode.tView++;const l=je+r,d=l+o,f=function(e,t){const n=ngDevMode?new hu:[];for(let r=0;r<t;r++)n.push(r<e?null:Hs);return n}(l,d),p="function"==typeof c?c():c,h=f[1]=ngDevMode?new class{constructor(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v,y,g,m,b,_,w,M,C,O,x,D,S,E,I,P,j){this.type=e,this.blueprint=t,this.template=n,this.queries=r,this.viewQuery=o,this.declTNode=i,this.data=s,this.bindingStartIndex=u,this.expandoStartIndex=a,this.hostBindingOpCodes=c,this.firstCreatePass=l,this.firstUpdatePass=d,this.staticViewQueries=f,this.staticContentQueries=p,this.preOrderHooks=h,this.preOrderCheckHooks=v,this.contentHooks=y,this.contentCheckHooks=g,this.viewHooks=m,this.viewCheckHooks=b,this.destroyHooks=_,this.cleanup=w,this.contentQueries=M,this.components=C,this.directiveRegistry=O,this.pipeRegistry=x,this.firstChild=D,this.schemas=S,this.consts=E,this.incompleteFirstPass=I,this._decls=P,this._vars=j}get template_(){const e=[];return du(this.firstChild,e),e.join("")}get type_(){return Te[this.type]||`TViewType.?${this.type}?`}}(e,f,n,null,u,t,(v=f,void 0===pu&&(pu=new fu),pu.concat(v)).fill(null,l),l,d,null,!0,!0,!1,!1,null,null,null,null,null,null,null,null,null,null,"function"==typeof i?i():i,"function"==typeof s?s():s,null,a,p,!1,r,o):{type:e,blueprint:f,template:n,queries:null,viewQuery:u,declTNode:t,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:p,incompleteFirstPass:!1};var v;return ngDevMode&&Object.seal(h),h}function Ku(e,t,n){if(yt(e)){const r=n===X.ShadowDom;return e.selectRootElement(t,r)}let r="string"==typeof t?e.querySelector(t):t;return ngDevMode&&function(e,t){if(!e)throw new Error(`Renderer: ${"string"==typeof t?"Host node with selector not found:":"Host node is required:"} [${y(t)}]`)}(r,t),r.textContent="",r}function Gu(e,t,n,r){const o=xa(t);null===n?(ngDevMode&&Object.freeze(Da(e)),o.push(r)):(o.push(n),e.firstCreatePass&&Da(e).push(r,o.length-1))}function Ju(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const o=e[r];n.hasOwnProperty(r)?n[r].push(t,o):n[r]=[t,o]}return n}function Zu(e,t,n,r,o,i,s,u){ngDevMode&&D(o,Hs,"Incoming value should never be NO_CHANGE.");const a=_t(t,n);let c,l=t.inputs;if(!u&&null!=l&&(c=l[r]))Ia(e,n,c,r,o),Re(t)&&function(e,t){ngDevMode&&Ke(e);const n=Ct(t,e);16&n[2]||(n[2]|=64)}(n,t.index),ngDevMode&&function(e,t,n,r,o){if(7&n)for(let i=0;i<r.length;i+=2)Qu(e,t,n,r[i+1],o)}(n,a,t.type,c,o);else if(3&t.type){if(r="class"===(d=r)?"className":"for"===d?"htmlFor":"formaction"===d?"formAction":"innerHtml"===d?"innerHTML":"readonly"===d?"readOnly":"tabindex"===d?"tabIndex":d,ngDevMode){if(function(e){if(e.toLowerCase().startsWith("on")){const t=`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...\nIf '${e}' is a directive input, make sure the directive is imported by the current module.`;throw new p(306,t)}}(r),!function(e,t,n,r){return null===e.schemas||(!!(Yu(e,r.value)||n in t||En(n))||("undefined"==typeof Node||null===Node||!(t instanceof Node)))}(e,a,r,t))return void Xu(r,t);ngDevMode.rendererSetProperty++}o=null!=s?s(o,t.value||"",r):o,yt(i)?i.setProperty(a,r,o):En(r)||(a.setProperty?a.setProperty(r,o):a[r]=o)}else 12&t.type&&ngDevMode&&!Yu(e,t.value)&&Xu(r,t);var d}function Qu(e,t,n,r,o){const i=e[11];var s;s=r.replace(/[$@]/g,"_"),r=`ng-reflect-${s.replace(Ri,((...e)=>"-"+e[1].toLowerCase()))}`;const u=function(e){try{return null!=e?e.toString().slice(0,30):e}catch(e){return"[ERROR] Exception while trying to serialize the value"}}(o);if(3&n)null==o?yt(i)?i.removeAttribute(t,r):t.removeAttribute(r):yt(i)?i.setAttribute(t,r,u):t.setAttribute(r,u);else{const e=Ni(`bindings=${JSON.stringify({[r]:u},null,2)}`);yt(i)?i.setValue(t,e):t.textContent=e}}function Yu(e,t){const n=e.schemas;if(null!==n)for(let e=0;e<n.length;e++){const r=n[e];if(r===Ti||r===ji&&t&&t.indexOf("-")>-1)return!0}return!1}function Xu(e,t){let n=`Can't bind to '${e}' since it isn't a known property of '${t.value}'.`;console.error(h(303,n))}function ea(e,t,n,r){ngDevMode&&Ge(e);let o=!1;if(Pt()){const i=function(e,t,n){ngDevMode&&Ge(e),ngDevMode&&xn(n,15);const r=e.directiveRegistry;let o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];Fs(n,s.selectors,!1)&&(o||(o=ngDevMode?new vu:[]),Hn(Fn(n,t),e,s.type),Ve(s)?(ngDevMode&&(xn(n,2,`"${n.value}" tags cannot be used as component hosts. Please use a different tag to activate the ${u(s.type)} component.`),2&n.flags&&Ui(n)),ra(e,n),o.unshift(s)):o.push(s))}return o}(e,t,n),s=null===r?null:{"":-1};if(null!==i){o=!0,ia(n,e.data.length,i.length);for(let e=0;e<i.length;e++){const t=i[e];t.providersResolver&&t.providersResolver(t)}let r=!1,u=!1,a=Fu(e,t,i.length,null);ngDevMode&&x(a,n.directiveStart,"TNode.directiveStart should point to just allocated space");for(let o=0;o<i.length;o++){const c=i[o];n.mergedAttrs=In(n.mergedAttrs,c.hostAttrs),sa(e,n,t,a,c),oa(a,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),u=!0),a++}!function(e,t){ngDevMode&&Ge(e);const n=t.directiveStart,r=t.directiveEnd,o=e.data,i=t.attrs,s=ngDevMode?new mu:[];let u=null,a=null;for(let e=n;e<r;e++){const n=o[e],r=n.inputs,c=null===i||Ts(t)?null:da(r,i);s.push(c),u=Ju(r,e,u),a=Ju(n.outputs,e,a)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=16),u.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=u,t.outputs=a}(e,n)}s&&function(e,t,n){if(t){const r=e.localNames=ngDevMode?new gu:[];for(let e=0;e<t.length;e+=2){const o=n[t[e+1]];if(null==o)throw new p(-301,ngDevMode&&`Export of name '${t[e+1]}' not found!`);r.push(t[e],o)}}}(n,r,s)}return n.mergedAttrs=In(n.mergedAttrs,n.attrs),o}function ta(e,t,n,r,o,i){ngDevMode&&Ge(e);const s=i.hostBindings;if(s){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const i=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=i&&n.push(i),n.push(r,o,s)}}function na(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ra(e,t){ngDevMode&&Ge(e),t.flags|=2,(e.components||(e.components=ngDevMode?new yu:[])).push(t.index)}function oa(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ve(t)&&(n[""]=e)}}function ia(e,t,n){ngDevMode&&O(n,e.directiveEnd-e.directiveStart,"Reached the max number of directives"),e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function sa(e,t,n,r,o){ngDevMode&&P(r,je,"Must be in Expando section"),e.data[r]=o;const i=o.factory||(o.factory=et(o.type,!0)),s=new Cn(i,Ve(o),null);e.blueprint[r]=s,n[r]=s,ta(e,t,0,r,Fu(e,n,o.hostVars,Hs),o)}function ua(e,t,n){const r=_t(t,e),o=zu(n),i=e[10],s=ga(e,ku(e,o,null,n.onPush?64:16,r,t,i,i.createRenderer(r,n),null,null));e[t.index]=s}function aa(e,t,n,r,o,i){ngDevMode&&(D(r,Hs,"Incoming value should never be NO_CHANGE."),function(e){if(e.toLowerCase().startsWith("on")){const t=`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`;throw new p(306,t)}}(n),xn(e,2,`Attempted to set attribute \`${n}\` on a container node. Host bindings are not valid on ng-container or ng-template.`));const s=_t(e,t);ca(t[11],s,i,e.value,n,r,o)}function ca(e,t,n,r,o,i,s){if(null==i)ngDevMode&&ngDevMode.rendererRemoveAttribute++,yt(e)?e.removeAttribute(t,o,n):t.removeAttribute(o);else{ngDevMode&&ngDevMode.rendererSetAttribute++;const u=null==s?v(i):s(i,r||"",o);yt(e)?e.setAttribute(t,o,u,n):n?t.setAttributeNS(n,o,u):t.setAttribute(o,u)}}function la(e,t,n,r,o,i){const s=i[t];if(null!==s){const t=r.setInput;for(let i=0;i<s.length;){const u=s[i++],a=s[i++],c=s[i++];null!==t?r.setInput(n,c,u,a):n[a]=c,ngDevMode&&Qu(e,_t(o,e),o.type,a,c)}}}function da(e,t){let n=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;e.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,e[o],t[r+1])),r+=2}else r+=2;else r+=4}return n}const fa=class extends Array{};function pa(e,t,n,r){ngDevMode&&Ke(t),ngDevMode&&!yt(t[11])&&A(n);const o=new(ngDevMode?fa:Array)(e,!0,!1,t,null,0,r,n,null,null);return ngDevMode&&C(o.length,Pe,"Should allocate correct number of slots for LContainer header."),ngDevMode&&function(e){Xs(e,new ju(e))}(o),o}function ha(e,t){ngDevMode&&C(Ot(e),!1,"Should be run in update mode");const n=Ct(t,e);if(xt(n)){const e=n[1];80&n[2]?Lu(e,n,e.template,n[8]):n[5]>0&&va(n)}}function va(e){for(let t=Zi(e);null!==t;t=Qi(t))for(let e=Pe;e<t.length;e++){const n=t[e];if(1024&n[2]){const e=n[1];ngDevMode&&j(e,"TView must be allocated"),Lu(e,n,e.template,n[8])}else n[5]>0&&va(n)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Ct(t[n],e);xt(r)&&r[5]>0&&va(r)}}function ya(e,t){ngDevMode&&C(Ot(e),!0,"Should be run in creation mode");const n=Ct(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Vu(r,n,n[8])}function ga(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ma(e){for(;e;){e[2]|=64;const t=Gi(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function ba(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Ci(n),o=r[1];$u(o,r,o.template,n)}}function _a(e,t,n){const r=t[10];r.begin&&r.begin();try{Lu(e,t,e.template,n)}catch(e){throw Ea(t,e),e}finally{r.end&&r.end()}}function wa(e){ba(e[8])}function Ma(e,t,n){ngDevMode&&j(t,"View queries function to execute must be defined."),en(0),t(e,n)}function Ca(e,t,n,r,...o){if(null===e[r]&&(null==t.inputs||!t.inputs[n])){(t.propertyBindings||(t.propertyBindings=[])).push(r);let i=n;o.length>0&&(i+=Hi+o.join(Hi)),e[r]=i}}const Oa=Tu;function xa(e){return e[7]||(e[7]=ngDevMode?new bu:[])}function Da(e){return e.cleanup||(e.cleanup=ngDevMode?new _u:[])}function Sa(e,t,n){return(null===e||Ve(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function Ea(e,t){const n=e[9],r=n?n.get(Pi,null):null;r&&r.handleError(t)}function Ia(e,t,n,r,o){for(let i=0;i<n.length;){const s=n[i++],u=n[i++],a=t[s];ngDevMode&&k(t,s);const c=e.data[s];null!==c.setInput?c.setInput(a,o,r,u):a[u]=o}}function Pa(e,t,n){ngDevMode&&M(n,"Value should be a string"),ngDevMode&&D(n,Hs,"value should not be NO_CHANGE"),ngDevMode&&k(e,t);const r=bt(t,e);ngDevMode&&j(r,"native element should exist"),ts(e[11],r,n)}function ja(e,t,n){ngDevMode&&Ge(kt(),"Expecting to be called in first template pass only");let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let e=0;e<t.length;e++){const n=t[e];"number"==typeof n?i=n:1==i?o=a(o,n):2==i&&(r=a(r,n+": "+t[++e]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function Ta(e){const t=_i(e);_a(t[1],t,e)}function Aa(e){ngDevMode&&j(e,"component");const t=ma(_i(e));ngDevMode&&j(t[8],"rootContext should be defined"),function(e,t){if(0===e.flags&&e.clean==Tu){let t;e.flags|=1,e.clean=new Promise((e=>t=e)),e.scheduler((()=>{if(1&e.flags&&(e.flags&=-2,ba(e)),2&e.flags){e.flags&=-3;const t=e.playerHandler;t&&t.flushPlayers()}e.clean=Tu,t(null)}))}}(t[8])}const ka=new lr("INJECTOR",-1);class Na{get(e,t=Fr){if(t===Fr){const t=new Error(`NullInjectorError: No provider for ${u(e)}!`);throw t.name="NullInjectorError",t}return t}}const Ra=new lr("Set Injector scope."),Fa={},Va={};let La;function $a(){return void 0===La&&(La=new Na),La}function Ha(e,t=null,n=null,r){const o=Ba(e,t,n,r);return o._resolveInjectorDefTypes(),o}function Ba(e,t=null,n=null,r){return new Ua(e,n,t||$a(),r)}class Ua{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];t&&Cr(t,(n=>this.processProvider(n,e,t))),Cr([e],(e=>this.processInjectorType(e,[],o))),this.records.set(ka,qa(void 0,this));const i=this.records.get(Ra);this.scope=null!=i?i.value:null,this.source=r||("object"==typeof e?null:u(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((e=>e.ngOnDestroy()))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Fr,n=q.Default){this.assertNotDestroyed();const r=Br(this),o=G(void 0);try{if(!(n&q.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof lr)&&L(e);t=n&&this.injectableDefInScope(n)?qa(Wa(e),Fa):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}const s=n&q.Self?$a():this.parent;return t=n&q.Optional&&t===Fr?null:t,s.get(e,t)}catch(t){if("NullInjectorError"===t.name){if((t.ngTempTokenPath=t.ngTempTokenPath||[]).unshift(u(e)),r)throw t;return function(e,t,n,r){const o=e.ngTempTokenPath;throw t[Lr]&&o.unshift(t[Lr]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&""==e.charAt(1)?e.substr(2):e;let o=u(t);if(Array.isArray(t))o=t.map(u).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):u(r)))}o=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(Vr,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e.ngTempTokenPath=null,e}(t,e,"R3InjectorError",this.source)}throw t}finally{G(o),Br(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach((e=>this.get(e)))}toString(){const e=[];return this.records.forEach(((t,n)=>e.push(u(n)))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new p(205,ngDevMode&&"Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=d(e)))return!1;let r=H(e);const o=null==r&&e.ngModule||void 0,i=void 0===o?e:o;ngDevMode&&-1!==t.indexOf(i)&&g(u(i),t.map(u));const s=-1!==n.indexOf(i);if(void 0!==o&&(r=H(o)),null==r)return!1;if(null!=r.imports&&!s){let e;ngDevMode&&t.push(i),n.push(i);try{Cr(r.imports,(r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))}))}finally{ngDevMode&&t.pop()}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];Cr(r,(e=>this.processProvider(e,n,r||ae)))}}this.injectorDefTypes.add(i);const a=et(i)||(()=>new i);this.records.set(i,qa(a,Fa));const c=r.providers;if(null!=c&&!s){const t=e;Cr(c,(e=>this.processProvider(e,t,c)))}return void 0!==o&&void 0!==e.providers}processProvider(e,t,n){let r=Ga(e=d(e))?e:d(e&&e.provide);const o=function(e,t,n){return Ka(e)?qa(void 0,e.useValue):qa(za(e,t,n),Fa)}(e,t,n);if(Ga(e)||!0!==e.multi){const e=this.records.get(r);ngDevMode&&e&&void 0!==e.multi&&m()}else{let t=this.records.get(r);t?ngDevMode&&void 0===t.multi&&m():(t=qa(void 0,Fa,!0),t.factory=()=>Kr(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,o)}hydrate(e,t){var n;return ngDevMode&&t.value===Va?g(u(e)):t.value===Fa&&(t.value=Va,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=d(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Wa(e){const t=L(e),n=null!==t?t.factory:et(e);if(null!==n)return n;if(e instanceof lr)throw new p(204,ngDevMode&&`Token ${u(e)} is missing a prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Dr(t,"?");throw new p(204,ngDevMode&&`Can't resolve all parameters for ${u(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[B]||e[W]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new p(204,ngDevMode&&"unreachable")}function za(e,t,n){let r;if(Ga(e)){const t=d(e);return et(t)||Wa(t)}if(Ka(e))r=()=>d(e.useValue);else if((o=e)&&o.useFactory)r=()=>e.useFactory(...Kr(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Wr(d(e.useExisting));else{const o=d(e&&(e.useClass||e.provide));if(ngDevMode&&!o&&function(e,t,n){let r="";throw e&&t&&(r=` - only instances of Provider and Type are allowed, got: [${t.map((e=>e==n?"?"+n+"?":"...")).join(", ")}]`),new Error(`Invalid provider for the NgModule '${u(e)}'`+r)}(t,n,e),!function(e){return!!e.deps}(e))return et(o)||Wa(o);r=()=>new o(...Kr(e.deps))}var o;return r}function qa(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ka(e){return null!==e&&"object"==typeof e&&$r in e}function Ga(e){return"function"==typeof e}class Ja{static create(e,t){var n;if(Array.isArray(e))return Ha({name:""},t,e,"");{const t=null!==(n=e.name)&&void 0!==n?n:"";return Ha({name:t},e.parent,e.providers,t)}}}function Za(e){sc(e);const t=mi(e);return null===t?null:(void 0===t.component&&(t.component=function(e,t){const n=t[1].data[e];let r=n.directiveStart;return 2&n.flags?t[r]:null}(t.nodeIndex,t.lView)),t.component)}function Qa(e){sc(e);const t=mi(e);return null===t?null:t.lView[8]}function Ya(e){const t=mi(e);if(null===t)return null;let n,r=t.lView;for(ngDevMode&&Ke(r);2===r[1].type&&(n=Gi(r));)r=n;return 512&r[2]?null:r[8]}function Xa(e){return[...Ji(e).components]}function ec(e){const t=mi(e);if(null===t)return Ja.NULL;const n=t.lView[1].data[t.nodeIndex];return new Yn(n,t.lView)}function tc(e){if(e instanceof Text)return[];const t=mi(e);if(null===t)return[];const n=t.lView,r=n[1],o=t.nodeIndex;return(null==r?void 0:r.data[o])?(void 0===t.directives&&(t.directives=Si(o,n,!1)),null===t.directives?[]:[...t.directives]):[]}function nc(e){const{constructor:t}=e;if(!t)throw new Error("Unable to find the instance constructor");const n=De(t);if(n)return{inputs:n.inputs,outputs:n.outputs,encapsulation:n.encapsulation,changeDetection:n.onPush?Q.OnPush:Q.Default};const r=Se(t);return r?{inputs:r.inputs,outputs:r.outputs}:null}function rc(e){return mi(e).native}function oc(e){sc(e);const t=mi(e);if(null===t)return[];const n=t.lView,r=n[1],o=n[7],i=r.cleanup,s=[];if(i&&o)for(let t=0;t<i.length;){const r=i[t++],u=i[t++];if("string"==typeof r){const a=r,c=mt(n[u]),l=o[i[t++]],d=i[t++],f="boolean"==typeof d||d>=0?"dom":"output",p="boolean"==typeof d&&d;e==c&&s.push({element:e,name:a,callback:l,useCapture:p,type:f})}}return s.sort(ic),s}function ic(e,t){return e.name==t.name?0:e.name<t.name?-1:1}function sc(e){if("undefined"!=typeof Element&&!(e instanceof Element))throw new Error("Expecting instance of DOM Element")}function uc(e){Aa(e),Xa(e).forEach((e=>Ta(e)))}Ja.THROW_IF_NOT_FOUND=Fr,Ja.NULL=new Na,Ja.prov=R({token:Ja,providedIn:"any",factory:()=>Wr(ka)}),Ja.__NG_ELEMENT_ID__=-1;let ac=!1;function cc(){ac||(ac=!0,lc("setProfiler",at),lc("getDirectiveMetadata",nc),lc("getComponent",Za),lc("getContext",Qa),lc("getListeners",oc),lc("getOwningComponent",Ya),lc("getHostElement",rc),lc("getInjector",ec),lc("getRootComponents",Xa),lc("getDirectives",tc),lc("applyChanges",uc))}function lc(e,t){if("undefined"==typeof COMPILED||!COMPILED){const n=ie;if(ngDevMode&&j(t,"function not defined"),n){let r=n.ng;r||(r=n.ng={}),r[e]=t}}}function dc(e,t={}){ngDevMode&&cc(),ngDevMode&&Ue(e);const n=t.rendererFactory||gt,r=t.sanitizer||null,o=De(e);o.type!=e&&(o.type=e);const i=o.selectors[0][0],s=Ku(n.createRenderer(null,null),t.host||i,o.encapsulation),u=o.onPush?576:528,a=hc(t.scheduler,t.playerHandler),c=n.createRenderer(s,o),l=qu(0,null,null,1,0,null,null,null,null,null),d=ku(null,l,a,u,null,null,n,c,null,t.injector||null);let f;rn(d);try{n.begin&&n.begin(),f=pc(fc(s,o,d,n,c,r),o,d,a,t.hostFeatures||null),Vu(l,d,null),Lu(l,d,null,null)}finally{cn(),n.end&&n.end()}return f}function fc(e,t,n,r,o,i){const s=n[1];ngDevMode&&k(n,20),n[20]=e;const u=Nu(s,20,2,"#host",null),a=u.mergedAttrs=t.hostAttrs;null!==a&&(ja(u,a,!0),null!==e&&(Dn(o,e,a),null!==u.classes&&Es(o,e,u.classes),null!==u.styles&&Ss(o,e,u.styles)));const c=r.createRenderer(e,t),l=ku(n,zu(t),null,t.onPush?64:16,n[20],u,r,c,i||null,null);return s.firstCreatePass&&(Hn(Fn(u,n),s,t.type),ra(s,u),ia(u,n.length,1)),ga(n,l),n[20]=l}function pc(e,t,n,r,o){const i=n[1],s=function(e,t,n){const r=Rt();if(e.firstCreatePass){n.providersResolver&&n.providersResolver(n);const o=Fu(e,t,1,null);ngDevMode&&C(o,r.directiveStart,"Because this is a root component the allocated expando should match the TNode component."),sa(e,r,t,o,n)}const o=Jn(t,e,r.directiveStart,r);wi(o,t);const i=_t(r,t);return i&&wi(i,t),o}(i,n,t);if(r.components.push(s),e[8]=s,o&&o.forEach((e=>e(s,t))),t.contentQueries){const e=Rt();ngDevMode&&j(e,"TNode expected"),t.contentQueries(1,s,e.directiveStart)}const u=Rt();return ngDevMode&&j(u,"tNode should have been already created"),!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(dn(u.index),ta(n[1],u,0,u.directiveStart,u.directiveEnd,t),na(t,s)),s}function hc(e,t){return{components:[],scheduler:e||Fi,clean:Oa,playerHandler:t||null,flags:0}}function vc(e,t){const n=Ci(e);ngDevMode&&j(n,"LView is required");const r=n[1],o=Rt();ngDevMode&&j(o,"TNode is required"),yn(r,o)}function yc(e){return Ji(e).clean}function gc(e){return Object.getPrototypeOf(e.prototype).constructor}function mc(e){let t=gc(e.type),n=!0;const r=[e];for(;t;){let o;if(Ve(e))o=t.cmp||t.dir;else{if(t.cmp){const e="undefined"==typeof ngDevMode||ngDevMode?"Directives cannot inherit Components":"";throw new p(903,e)}o=t.dir}if(o){if(n){r.push(o);const t=e;t.inputs=bc(e.inputs),t.declaredInputs=bc(e.declaredInputs),t.outputs=bc(e.outputs);const n=o.hostBindings;n&&Mc(e,n);const i=o.viewQuery,u=o.contentQueries;if(i&&_c(e,i),u&&wc(e,u),s(e.inputs,o.inputs),s(e.declaredInputs,o.declaredInputs),s(e.outputs,o.outputs),Ve(o)&&o.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(o.data.animation)}}const t=o.features;if(t)for(let r=0;r<t.length;r++){const o=t[r];o&&o.ngInherit&&o(e),o===mc&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=In(o.hostAttrs,n=In(n,o.hostAttrs))}}(r)}function bc(e){return e===ue?{}:e===ae?[]:e}function _c(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function wc(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,o)=>{t(e,r,o),n(e,r,o)}:t}function Mc(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}const Cc=["providersResolver"],Oc=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function xc(e){let t,n=gc(e.type);t=Ve(e)?n.cmp:n.dir;const r=e;for(const e of Cc)r[e]=t[e];if(Ve(t))for(const e of Oc)r[e]=t[e]}let Dc=null;function Sc(){if(!Dc){const e=ie.Symbol;if(e&&e.iterator)Dc=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Dc=n)}}}return Dc}function Ec(e,t){const n=Ic(e),r=Ic(t);if(n&&r)return function(e,t,n){const r=e[Sc()](),o=t[Sc()]();for(;;){const e=r.next(),t=o.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,Ec);{const o=e&&("object"==typeof e||"function"==typeof e),i=t&&("object"==typeof t||"function"==typeof t);return!(n||!o||r||!i)||Object.is(e,t)}}function Ic(e){return!!Pc(e)&&(Array.isArray(e)||!(e instanceof Map)&&Sc()in e)}function Pc(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function jc(e,t,n){return e[t]=n}function Tc(e,t){return ngDevMode&&k(e,t),ngDevMode&&D(e[t],Hs,"Stored value should never be NO_CHANGE."),e[t]}function Ac(e,t,n){ngDevMode&&D(n,Hs,"Incoming value should never be NO_CHANGE."),ngDevMode&&S(t,e.length,"Slot should have been initialized to NO_CHANGE");const r=e[t];if(Object.is(r,n))return!1;if(ngDevMode&&Bt()){const o=r!==Hs?r:void 0;if(!Ec(o,n)){const i=function(e,t,n,r){const o=e[1].data,i=o[t];if("string"==typeof i)return i.indexOf(Hi)>-1?Wi(e,t,t,i,r):{propName:i,oldValue:n,newValue:r};if(null===i){let n=t-1;for(;"string"!=typeof o[n]&&null===o[n+1];)n--;const i=o[n];if("string"==typeof i){const o=i.match(new RegExp(Hi,"g"));if(o&&o.length-1>t-n)return Wi(e,n,t,i,r)}}return{propName:void 0,oldValue:n,newValue:r}}(e,t,o,n);!function(e,t,n,r){let o=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value${r?` for '${r}'`:""}: '${t}'. Current value: '${n}'.`;throw e&&(o+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook?"),new p(-100,o)}(r===Hs,i.oldValue,i.newValue,i.propName)}return!1}return e[t]=n,!0}function kc(e,t,n,r){const o=Ac(e,t,n);return Ac(e,t+1,r)||o}function Nc(e,t,n,r,o){const i=kc(e,t,n,r);return Ac(e,t+2,o)||i}function Rc(e,t,n,r,o,i){const s=kc(e,t,n,r);return kc(e,t+2,o,i)||s}function Fc(e,t,n,r){const o=At(),i=Kt();if(Ac(o,i,t)){const s=kt(),u=fn();aa(u,o,e,t,n,r),ngDevMode&&Ca(s.data,u,"attr."+e,i)}return Fc}function Vc(e,t){ngDevMode&&S(2,t.length,"should have at least 3 values"),ngDevMode&&C(t.length%2,1,"should have an odd number of values");let n=!1,r=zt();for(let o=1;o<t.length;o+=2)n=Ac(e,r++,t[o])||n;if(qt(r),!n)return Hs;let o=t[0];for(let e=1;e<t.length;e+=2)o+=v(t[e])+t[e+1];return o}function Lc(e,t,n,r){return Ac(e,Kt(),n)?t+v(n)+r:Hs}function $c(e,t,n,r,o,i){const s=kc(e,zt(),n,o);return Gt(2),s?t+v(n)+r+v(o)+i:Hs}function Hc(e,t,n,r,o,i,s,u){const a=Nc(e,zt(),n,o,s);return Gt(3),a?t+v(n)+r+v(o)+i+v(s)+u:Hs}function Bc(e,t,n,r,o,i,s,u,a,c){const l=Rc(e,zt(),n,o,s,a);return Gt(4),l?t+v(n)+r+v(o)+i+v(s)+u+v(a)+c:Hs}function Uc(e,t,n,r,o,i,s,u,a,c,l,d){const f=zt();let p=Rc(e,f,n,o,s,a);return p=Ac(e,f+4,l)||p,Gt(5),p?t+v(n)+r+v(o)+i+v(s)+u+v(a)+c+v(l)+d:Hs}function Wc(e,t,n,r,o,i,s,u,a,c,l,d,f,p){const h=zt();let y=Rc(e,h,n,o,s,a);return y=kc(e,h+4,l,f)||y,Gt(6),y?t+v(n)+r+v(o)+i+v(s)+u+v(a)+c+v(l)+d+v(f)+p:Hs}function zc(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h,y){const g=zt();let m=Rc(e,g,n,o,s,a);return m=Nc(e,g+4,l,f,h)||m,Gt(7),m?t+v(n)+r+v(o)+i+v(s)+u+v(a)+c+v(l)+d+v(f)+p+v(h)+y:Hs}function qc(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h,y,g,m){const b=zt();let _=Rc(e,b,n,o,s,a);return _=Rc(e,b+4,l,f,h,g)||_,Gt(8),_?t+v(n)+r+v(o)+i+v(s)+u+v(a)+c+v(l)+d+v(f)+p+v(h)+y+v(g)+m:Hs}function Kc(e,t,n,r,o,i){const s=At(),u=Lc(s,t,n,r);if(u!==Hs){const n=fn();aa(n,s,e,u,o,i),ngDevMode&&Ca(kt().data,n,"attr."+e,zt()-1,t,r)}return Kc}function Gc(e,t,n,r,o,i,s,u){const a=At(),c=$c(a,t,n,r,o,i);if(c!==Hs){const n=fn();aa(n,a,e,c,s,u),ngDevMode&&Ca(kt().data,n,"attr."+e,zt()-2,t,r,i)}return Gc}function Jc(e,t,n,r,o,i,s,u,a,c){const l=At(),d=Hc(l,t,n,r,o,i,s,u);if(d!==Hs){const n=fn();aa(n,l,e,d,a,c),ngDevMode&&Ca(kt().data,n,"attr."+e,zt()-3,t,r,i,u)}return Jc}function Zc(e,t,n,r,o,i,s,u,a,c,l,d){const f=At(),p=Bc(f,t,n,r,o,i,s,u,a,c);if(p!==Hs){const n=fn();aa(n,f,e,p,l,d),ngDevMode&&Ca(kt().data,n,"attr."+e,zt()-4,t,r,i,u,c)}return Zc}function Qc(e,t,n,r,o,i,s,u,a,c,l,d,f,p){const h=At(),v=Uc(h,t,n,r,o,i,s,u,a,c,l,d);if(v!==Hs){const n=fn();aa(n,h,e,v,f,p),ngDevMode&&Ca(kt().data,n,"attr."+e,zt()-5,t,r,i,u,c,d)}return Qc}function Yc(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v){const y=At(),g=Wc(y,t,n,r,o,i,s,u,a,c,l,d,f,p);if(g!==Hs){const n=fn();aa(n,y,e,g,h,v),ngDevMode&&Ca(kt().data,n,"attr."+e,zt()-6,t,r,i,u,c,d,p)}return Yc}function Xc(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v,y,g){const m=At(),b=zc(m,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v);if(b!==Hs){const n=fn();aa(n,m,e,b,y,g),ngDevMode&&Ca(kt().data,n,"attr."+e,zt()-7,t,r,i,u,c,d,p,v)}return Xc}function el(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v,y,g,m,b){const _=At(),w=qc(_,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v,y,g);if(w!==Hs){const n=fn();aa(n,_,e,w,m,b),ngDevMode&&Ca(kt().data,n,"attr."+e,zt()-8,t,r,i,u,c,d,p,v,g)}return el}function tl(e,t,n,r){const o=At(),i=Vc(o,t);if(i!==Hs){const s=fn();if(aa(s,o,e,i,n,r),ngDevMode){const n=[t[0]];for(let e=2;e<t.length;e+=2)n.push(t[e]);Ca(kt().data,s,"attr."+e,zt()-n.length+1,...n)}}return tl}function nl(e,t,n,r,o,i,s,u){const a=At(),c=kt(),l=e+je,d=c.firstCreatePass?function(e,t,n,r,o,i,s,u,a){ngDevMode&&Ge(t),ngDevMode&&ngDevMode.firstCreatePass++;const c=t.consts,l=Nu(t,e,4,s||null,Dt(c,u));ea(t,n,l,Dt(c,a)),yn(t,l);const d=l.tViews=qu(2,l,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),d.queries=t.queries.embeddedTView(l)),l}(l,c,a,t,n,r,o,i,s):c.data[l];Lt(d,!1);const f=a[11].createComment(ngDevMode?"container":"");bs(c,a,f,d),wi(f,a),ga(a,a[l]=pa(f,a,f,d)),Fe(d)&&Uu(c,a,d),null!=s&&Wu(a,d,u)}function rl(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function ol(e){return Mt(It.lFrame.contextLView,je+e)}const il={defineInjectable:R,defineInjector:V,inject:Wr,invalidFactoryDep:zr,resolveForwardRef:d};const sl=i({provide:String,useValue:i});function ul(e){return void 0!==e.useClass}function al(e){return void 0!==e.useFactory}const cl=ir("Injectable",void 0,void 0,void 0,((e,t)=>function(e,t){let n=null,r=null;e.hasOwnProperty(B)||Object.defineProperty(e,B,{get:()=>{if(null===n){const r=br({usage:0,kind:"injectable",type:e});n=r.compileInjectable(il,`ng:///${e.name}/prov.js`,function(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(ul(n)||al(n))&&void 0!==n.deps&&(r.deps=ro(n.deps)),ul(n)?r.useClass=n.useClass:function(e){return sl in e}(n)?r.useValue=n.useValue:al(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))}return n}}),e.hasOwnProperty(pe)||Object.defineProperty(e,pe,{get:()=>{if(null===r){const t=br({usage:0,kind:"injectable",type:e});r=t.compileFactory(il,`ng:///${e.name}/fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:no(e),target:t.FactoryTarget.Injectable})}return r},configurable:!0})}(e,t)));function ll(e){return e.length>1?" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map((e=>u(e.token))).join(" -> ")+")":""}function dl(e,t,n,r){const o=[t],i=n(o),s=r?function(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,r=Error(n);return r.ngOriginalError=t,r}(i,r):Error(i);return s.addKey=fl,s.keys=o,s.injectors=[e],s.constructResolvingMessage=n,s.ngOriginalError=r,s}function fl(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function pl(e,t){const n=[];for(let e=0,r=t.length;e<r;e++){const r=t[e];r&&0!=r.length?n.push(r.map(u).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+u(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+u(e)+"' is decorated with Injectable.")}class hl{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=u(this.token)}static get(e){return vl.get(d(e))}static get numberOfKeys(){return vl.numberOfKeys}}const vl=new class{constructor(){this._allKeys=new Map}get(e){if(e instanceof hl)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new hl(e,hl.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}},yl=new class{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}(new kr);class gl{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new gl(e,!1,null)}}const ml=[];class bl{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class _l{constructor(e,t){this.factory=e,this.dependencies=t}}function wl(e){let t,n;if(e.useClass){const r=d(e.useClass);t=yl.factory(r),n=xl(r)}else e.useExisting?(t=e=>e,n=[gl.fromKey(hl.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map((e=>[e]));return t.map((t=>Dl(e,t,n)))}return xl(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=ml);return new _l(t,n)}function Ml(e){return new bl(hl.get(e.provide),[wl(e)],e.multi||!1)}function Cl(e){const t=function(e,t){for(let n=0;n<e.length;n++){const r=e[n],o=t.get(r.key.id);if(o){if(r.multiProvider!==o.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${o} ${r}`);if(r.multiProvider)for(let e=0;e<r.resolvedFactories.length;e++)o.resolvedFactories.push(r.resolvedFactories[e]);else t.set(r.key.id,r)}else{let e;e=r.multiProvider?new bl(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,e)}}return t}(Ol(e,[]).map(Ml),new Map);return Array.from(t.values())}function Ol(e,t){return e.forEach((e=>{if(e instanceof _r)t.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)t.push(e);else{if(!Array.isArray(e))throw Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`);Ol(e,t)}})),t}function xl(e){const t=yl.parameters(e);if(!t)return[];if(t.some((e=>null==e)))throw pl(e,t);return t.map((n=>Dl(e,n,t)))}function Dl(e,t,n){let r=null,o=!1;if(!Array.isArray(t))return Sl(t instanceof Jr?t.token:t,o,null);let i=null;for(let e=0;e<t.length;++e){const n=t[e];n instanceof _r?r=n:n instanceof Jr?r=n.token:n instanceof Zr?o=!0:n instanceof Qr||n instanceof Yr?i=n:n instanceof lr&&(r=n)}if(r=d(r),null!=r)return Sl(r,o,i);throw pl(e,n)}function Sl(e,t,n){return new gl(hl.get(e),t,n)}const El={};class Il{static resolve(e){return Cl(e)}static resolveAndCreate(e,t){const n=Il.resolve(e);return Il.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new Pl(e,t)}}class Pl{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=[],this.objs=[];for(let t=0;t<n;t++)this.keyIds[t]=e[t].key.id,this.objs[t]=El}get(e,t=Fr){return this._getByKey(hl.get(e),null,t)}resolveAndCreateChild(e){const t=Il.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(e){const t=new Pl(e);return t.parent=this,t}resolveAndInstantiate(e){return this.instantiateResolved(Il.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw this,dl(this,e.key,(function(e){return`Cannot instantiate cyclic dependency!${ll(e)}`}));return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=[];for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let r,o;try{r=t.dependencies.map((e=>this._getByReflectiveDependency(e)))}catch(t){throw t.addKey&&t.addKey(this,e.key),t}try{o=n(...r)}catch(t){throw this,i=t,t.stack,dl(this,e.key,(function(e){const t=u(e[0].token);return`${i.message}: Error during instantiation of ${t}!${ll(e)}.`}),i)}var i;return o}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:Fr)}_getByKey(e,t,n){return e===Pl.INJECTOR_KEY?this:t instanceof Qr?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===El&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return El}_throwOrNull(e,t){if(t!==Fr)return t;throw function(e,t){return dl(e,t,(function(e){return`No provider for ${u(e[0].token)}!${ll(e)}`}))}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==El?n:this._throwOrNull(e,t)}_getByKeyDefault(e,t,n){let r;for(r=n instanceof Yr?this.parent:this;r instanceof Pl;){const t=r,n=t._getObjByKeyId(e.id);if(n!==El)return n;r=t.parent}return null!==r?r.get(e.token,t):this._throwOrNull(e,t)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=[];for(let t=0;t<e._providers.length;++t)n[t]=' "'+e.getProviderAtIndex(t).key.displayName+'" ';return n}(this).join(", ")}])`}toString(){return this.displayName}}function jl(e,t=q.Default){const n=At();return null===n?(ngDevMode&&(ngDevMode&&O(K,jl,"Calling inject would cause infinite recursion")),Wr(e,t)):Wn(Rt(),n,d(e),t)}function Tl(){const e=ngDevMode?"This constructor was not compatible with Dependency Injection.":"invalid";throw new Error(e)}function Al(e,t,n){const r=At(),o=Kt();if(Ac(r,o,t)){const i=kt(),s=fn();Zu(i,s,r,e,t,r[11],n,!1),ngDevMode&&Ca(i.data,s,e,o)}return Al}function kl(e,t,n,r,o){const i=o?"class":"style";Ia(e,n,t.inputs[i],i,r)}function Nl(e,t,n,r){const o=At(),i=kt(),s=je+e;ngDevMode&&C(zt(),i.bindingStartIndex,"elements should be created before any bindings"),ngDevMode&&k(o,s);const u=o[11],a=o[s]=rs(u,t,It.lFrame.currentNamespace),c=i.firstCreatePass?function(e,t,n,r,o,i,s){ngDevMode&&Ge(t),ngDevMode&&ngDevMode.firstCreatePass++;const u=t.consts,a=Nu(t,e,2,o,Dt(u,i)),c=ea(t,n,a,Dt(u,s));return ngDevMode&&function(e,t,n,r){if(null===e.schemas)return;const o=n.value;if(!r&&null!==o&&("undefined"!=typeof HTMLUnknownElement&&HTMLUnknownElement&&t instanceof HTMLUnknownElement||"undefined"!=typeof customElements&&o.indexOf("-")>-1&&!customElements.get(o))&&!Yu(e,o)){let e=`'${o}' is not a known element:\n`;e+=`1. If '${o}' is an Angular component, then verify that it is part of this module.\n`,o&&o.indexOf("-")>-1?e+=`2. If '${o}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`:e+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",console.error(h(304,e))}}(t,r,a,c),null!==a.attrs&&ja(a,a.attrs,!1),null!==a.mergedAttrs&&ja(a,a.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,o,a,t,n,r):i.data[s];Lt(c,!0);const l=c.mergedAttrs;null!==l&&Dn(u,a,l);const d=c.classes;null!==d&&Es(u,a,d);const f=c.styles;null!==f&&Ss(u,a,f),64!=(64&c.flags)&&bs(i,o,a,c),0===It.lFrame.elementDepthCount&&wi(a,o),It.lFrame.elementDepthCount++,Fe(c)&&(Uu(i,o,c),Bu(i,c,o)),null!==r&&Wu(o,c)}function Rl(){let e=Rt();ngDevMode&&j(e,"No parent node to close."),$t()?Ht():(ngDevMode&&We(Rt()),e=e.parent,Lt(e,!1));const t=e;ngDevMode&&xn(t,3),It.lFrame.elementDepthCount--;const n=kt();n.firstCreatePass&&(yn(n,e),Ne(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&kl(n,t,At(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&kl(n,t,At(),t.stylesWithoutHost,!1)}function Fl(e,t,n,r){Nl(e,t,n,r),Rl()}function Vl(e,t,n){const r=At(),o=kt(),i=e+je;ngDevMode&&k(r,i),ngDevMode&&C(zt(),o.bindingStartIndex,"element containers should be created before any bindings");const s=o.firstCreatePass?function(e,t,n,r,o){ngDevMode&&ngDevMode.firstCreatePass++;const i=t.consts,s=Dt(i,r),u=Nu(t,e,8,"ng-container",s);return null!==s&&ja(u,s,!0),ea(t,n,u,Dt(i,o)),null!==t.queries&&t.queries.elementStart(t,u),u}(i,o,r,t,n):o.data[i];Lt(s,!0),ngDevMode&&ngDevMode.rendererCreateComment++;const u=r[i]=r[11].createComment(ngDevMode?"ng-container":"");bs(o,r,u,s),wi(u,r),Fe(s)&&(Uu(o,r,s),Bu(o,s,r)),null!=n&&Wu(r,s)}function Ll(){let e=Rt();const t=kt();$t()?Ht():(ngDevMode&&We(e),e=e.parent,Lt(e,!1)),ngDevMode&&xn(e,8),t.firstCreatePass&&(yn(t,e),Ne(e)&&t.queries.elementEnd(e))}function $l(e,t,n){Vl(e,t,n),Ll()}function Hl(){return At()}function Bl(e){return!!e&&"function"==typeof e.then}function Ul(e){return!!e&&"function"==typeof e.subscribe}Pl.INJECTOR_KEY=hl.get(Ja);const Wl=Ul;function zl(e,t,n,r){const o=At(),i=kt(),s=Rt();return Kl(i,o,o[11],s,e,t,!!n,r),zl}function ql(e,t){const n=Rt(),r=At(),o=kt();return Kl(o,r,Sa(Yt(o.data),n,r),n,e,t,!1),ql}function Kl(e,t,n,r,o,i,s,u){const a=Fe(r),c=e.firstCreatePass&&Da(e),l=t[8],d=xa(t);ngDevMode&&xn(r,15);let f=!0;if(3&r.type||u){const p=_t(r,t),h=u?u(p):p,v=d.length,y=u?e=>u(mt(e[r.index])):r.index;if(yt(n)){let s=null;if(!u&&a&&(s=function(e,t,n,r){const o=e.cleanup;if(null!=o)for(let e=0;e<o.length-1;e+=2){const i=o[e];if(i===n&&o[e+1]===r){const n=t[7],r=o[e+2];return n.length>r?n[r]:null}"string"==typeof i&&(e+=2)}return null}(e,t,o,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=i,s.__ngLastListenerFn__=i,f=!1;else{i=Jl(r,t,l,i,!1);const e=n.listen(h,o,i);ngDevMode&&ngDevMode.rendererAddEventListener++,d.push(i,e),c&&c.push(o,y,v,v+1)}}else i=Jl(r,t,l,i,!0),h.addEventListener(o,i,s),ngDevMode&&ngDevMode.rendererAddEventListener++,d.push(i),c&&c.push(o,y,v,s)}else i=Jl(r,t,l,i,!1);const p=r.outputs;let h;if(f&&null!==p&&(h=p[o])){const e=h.length;if(e)for(let n=0;n<e;n+=2){const e=h[n];ngDevMode&&k(t,e);const s=h[n+1],u=t[e],a=u[s];if(ngDevMode&&!Wl(a))throw new Error(`@Output ${s} not initialized in '${u.constructor.name}'.`);const l=a.subscribe(i),f=d.length;d.push(i,l),c&&c.push(o,r.index,f,-(f+1))}}}function Gl(e,t,n,r){try{return ct(6,t,n),!1!==n(r)}catch(t){return Ea(e,t),!1}finally{ct(7,t,n)}}function Jl(e,t,n,r,o){return function i(s){if(s===Function)return r;const u=2&e.flags?Ct(e.index,t):t;0==(32&t[2])&&ma(u);let a=Gl(t,n,r,s),c=i.__ngNextListenerFn__;for(;c;)a=Gl(t,n,c,s)&&a,c=c.__ngNextListenerFn__;return o&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Zl(e=1){return function(e){return(It.lFrame.contextLView=function(e,t){for(;e>0;)ngDevMode&&j(t[15],"Declaration view should be defined if nesting level is greater than 0."),t=t[15],e--;return t}(e,It.lFrame.contextLView))[8]}(e)}function Ql(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===r?Fs(e,i,!0):Vs(r,i))return o}else n=o}return n}function Yl(e){const t=At()[16][6];if(!t.projection){const n=e?e.length:1,r=t.projection=Dr(n,null),o=r.slice();let i=t.child;for(;null!==i;){const t=e?Ql(i,e):0;null!==t&&(o[t]?o[t].projectionNext=i:r[t]=i,o[t]=i),i=i.next}}}function Xl(e,t=0,n){const r=At(),o=kt(),i=Nu(o,je+e,16,null,n||null);null===i.projection&&(i.projection=t),Ht(),64!=(64&i.flags)&&function(e,t,n){Ds(t[11],0,t,n,as(e,n,t),hs(n.parent||t[6],n,t))}(o,r,i)}function ed(e,t,n){return td(e,"",t,"",n),ed}function td(e,t,n,r,o){const i=At(),s=Lc(i,t,n,r);if(s!==Hs){const n=kt(),u=fn();Zu(n,u,i,e,s,i[11],o,!1),ngDevMode&&Ca(n.data,u,e,zt()-1,t,r)}return td}function nd(e,t,n,r,o,i,s){const u=At(),a=$c(u,t,n,r,o,i);if(a!==Hs){const n=kt(),o=fn();Zu(n,o,u,e,a,u[11],s,!1),ngDevMode&&Ca(n.data,o,e,zt()-2,t,r,i)}return nd}function rd(e,t,n,r,o,i,s,u,a){const c=At(),l=Hc(c,t,n,r,o,i,s,u);if(l!==Hs){const n=kt(),o=fn();Zu(n,o,c,e,l,c[11],a,!1),ngDevMode&&Ca(n.data,o,e,zt()-3,t,r,i,u)}return rd}function od(e,t,n,r,o,i,s,u,a,c,l){const d=At(),f=Bc(d,t,n,r,o,i,s,u,a,c);if(f!==Hs){const n=kt(),o=fn();Zu(n,o,d,e,f,d[11],l,!1),ngDevMode&&Ca(n.data,o,e,zt()-4,t,r,i,u,c)}return od}function id(e,t,n,r,o,i,s,u,a,c,l,d,f){const p=At(),h=Uc(p,t,n,r,o,i,s,u,a,c,l,d);if(h!==Hs){const n=kt(),o=fn();Zu(n,o,p,e,h,p[11],f,!1),ngDevMode&&Ca(n.data,o,e,zt()-5,t,r,i,u,c,d)}return id}function sd(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h){const v=At(),y=Wc(v,t,n,r,o,i,s,u,a,c,l,d,f,p);if(y!==Hs){const n=kt(),o=fn();Zu(n,o,v,e,y,v[11],h,!1),ngDevMode&&Ca(n.data,o,e,zt()-6,t,r,i,u,c,d,p)}return sd}function ud(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v,y){const g=At(),m=zc(g,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v);if(m!==Hs){const n=kt(),o=fn();Zu(n,o,g,e,m,g[11],y,!1),ngDevMode&&Ca(n.data,o,e,zt()-7,t,r,i,u,c,d,p,v)}return ud}function ad(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v,y,g,m){const b=At(),_=qc(b,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v,y,g);if(_!==Hs){const n=kt(),o=fn();Zu(n,o,b,e,_,b[11],m,!1),ngDevMode&&Ca(n.data,o,e,zt()-8,t,r,i,u,c,d,p,v,g)}return ad}function cd(e,t,n){const r=At(),o=Vc(r,t);if(o!==Hs){const i=kt(),s=fn();if(Zu(i,s,r,e,o,r[11],n,!1),ngDevMode){const n=[t[0]];for(let e=2;e<t.length;e+=2)n.push(t[e]);Ca(i.data,s,e,zt()-n.length+1,...n)}}return cd}function ld(e,t,n,r,o){const i=e[n+1],s=null===t;let u=r?qs(i):Js(i),a=!1;for(;0!==u&&(!1===a||s);){ngDevMode&&k(e,u);const n=e[u],o=e[u+1];dd(n,t)&&(a=!0,e[u+1]=r?Ys(o):Gs(o)),u=r?qs(o):Js(o)}a&&(e[n+1]=r?Gs(i):Ys(i))}function dd(e,t){return ngDevMode&&O(Array.isArray(t),!0,"Expected that 'tStylingKey' has been unwrapped"),null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ir(e,t)>=0}const fd={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pd(e){return e.substring(fd.key,fd.keyEnd)}function hd(e){return e.substring(fd.value,fd.valueEnd)}function vd(e,t){const n=fd.textEnd;return n===t?-1:(t=fd.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,fd.key=t,n),md(e,t,n))}function yd(e,t){const n=fd.textEnd;let r=fd.key=md(e,t,n);return n===r?-1:(r=fd.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=bd(e,r,n,58),r=fd.value=md(e,r,n),r=fd.valueEnd=function(e,t,n){let r=-1,o=-1,i=-1,s=t,u=s;for(;s<n;){const a=e.charCodeAt(s++);if(59===a)return u;34===a||39===a?u=s=_d(e,a,s,n):t===s-4&&85===i&&82===o&&76===r&&40===a?u=s=_d(e,41,s,n):a>32&&(u=s),i=o,o=r,r=-33&a}return u}(e,r,n),bd(e,r,n,59))}function gd(e){fd.key=0,fd.keyEnd=0,fd.value=0,fd.valueEnd=0,fd.textEnd=e.length}function md(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function bd(e,t,n,r){return(t=md(e,t,n))<n&&(ngDevMode&&e.charCodeAt(t)!==r&&wd(e,String.fromCharCode(r),t),t++),t}function _d(e,t,n,r){let o=-1,i=n;for(;i<r;){const n=e.charCodeAt(i++);if(n==t&&92!==o)return i;o=92==n&&92===o?0:n}throw ngDevMode?wd(e,String.fromCharCode(t),r):new Error}function wd(e,t,n){throw ngDevMode&&C("string"==typeof e,!0,"String expected here"),T(`Malformed style at location ${n} in string '`+e.substring(0,n)+"[>>"+e.substring(n,n+1)+"<<]"+e.substr(n+1)+`'. Expecting '${t}'.`)}function Md(e,t,n){return Ed(e,t,n,!1),Md}function Cd(e,t){return Ed(e,t,null,!0),Cd}function Od(e){Id(kd,xd,e,!1)}function xd(e,t){for(let n=function(e){return gd(e),yd(e,md(e,0,fd.textEnd))}(t);n>=0;n=yd(t,n))kd(e,pd(t),hd(t))}function Dd(e){Id(Sr,Sd,e,!0)}function Sd(e,t){for(let n=function(e){return gd(e),vd(e,md(e,0,fd.textEnd))}(t);n>=0;n=vd(t,n))Sr(e,pd(t),!0)}function Ed(e,t,n,r){const o=At(),i=kt(),s=Gt(2);i.firstUpdatePass&&jd(i,e,s,r),t!==Hs&&Ac(o,s,t)&&Nd(i,i.data[ln()],o,o[11],e,o[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=u(xo(e)))),e}(t,n),r,s)}function Id(e,t,n,r){const o=kt(),i=Gt(2);o.firstUpdatePass&&jd(o,null,i,r);const s=At();if(n!==Hs&&Ac(s,i,n)){const u=o.data[ln()];if(Vd(u,r)&&!Pd(o,i)){if(ngDevMode){const e=o.data[i];C(Array.isArray(e)?e[1]:e,!1,"Styling linked list shadow input should be marked as 'false'")}let e=r?u.classesWithoutHost:u.stylesWithoutHost;ngDevMode&&!1===r&&null!==e&&C(e.endsWith(";"),!0,"Expecting static portion to end with ';'"),null!==e&&(n=a(e,n||"")),kl(o,u,s,n,r)}else!function(e,t,n,r,o,i,s,u){o===Hs&&(o=ae);let a=0,c=0,l=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;null!==l||null!==d;){ngDevMode&&S(a,999,"Are we stuck in infinite loop?"),ngDevMode&&S(c,999,"Are we stuck in infinite loop?");const f=a<o.length?o[a+1]:void 0,p=c<i.length?i[c+1]:void 0;let h,v=null;l===d?(a+=2,c+=2,f!==p&&(v=d,h=p)):null===d||null!==l&&l<d?(a+=2,v=l):(ngDevMode&&j(d,"Expecting to have a valid key"),c+=2,v=d,h=p),null!==v&&Nd(e,t,n,r,v,h,s,u),l=a<o.length?o[a]:null,d=c<i.length?i[c]:null}}(o,u,s,s[11],s[i+1],s[i+1]=function(e,t,n){if(null==n||""===n)return ae;const r=[],o=xo(n);if(Array.isArray(o))for(let t=0;t<o.length;t++)e(r,o[t],!0);else if("object"==typeof o)for(const t in o)o.hasOwnProperty(t)&&e(r,t,o[t]);else"string"==typeof o?t(r,o):ngDevMode&&T("Unsupported styling type "+typeof o+": "+o);return r}(e,t,n),r,i)}}function Pd(e,t){return t>=e.expandoStartIndex}function jd(e,t,n,r){ngDevMode&&Je(e);const o=e.data;if(null===o[n+1]){const i=o[ln()];ngDevMode&&j(i,"TNode expected");const s=Pd(e,n);Vd(i,r)&&null===t&&!s&&(t=!1),t=function(e,t,n,r){const o=Yt(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Ad(n=Td(null,e,t,n,r),t.attrs,r),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(n=Td(o,e,t,n,r),null===i){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Js(r))return e[qs(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=Td(null,e,t,n[1],r),n=Ad(n,t.attrs,r),function(e,t,n,r){const o=n?t.classBindings:t.styleBindings;ngDevMode&&O(Js(o),0,"Expecting to have at least one template styling binding."),e[qs(o)]=r}(e,t,r,n))}else i=function(e,t,n){let r;const o=t.directiveEnd;ngDevMode&&O(t.directiveStylingLast,-1,"By the time this function gets called at least one hostBindings-node styling instruction must have executed.");for(let i=1+t.directiveStylingLast;i<o;i++)r=Ad(r,e[i].hostAttrs,n);return Ad(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function(e,t,n,r,o,i){ngDevMode&&Je(kt());let s=i?t.classBindings:t.styleBindings,u=qs(s),a=Js(s);e[r]=n;let c,l=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||Ir(e,c)>0)&&(l=!0)}else c=n;if(o)if(0!==a){const t=qs(e[u+1]);e[r+1]=zs(t,u),0!==t&&(e[t+1]=Zs(e[t+1],r)),e[u+1]=(d=e[u+1],f=r,ngDevMode&&_(d,"expected number"),ngDevMode&&w(f,0,32767),131071&d|f<<17)}else e[r+1]=zs(u,0),0!==u&&(e[u+1]=Zs(e[u+1],r)),u=r;else e[r+1]=zs(a,0),ngDevMode&&C(0!==u&&0===a,!1,"Adding template bindings after hostBindings is not allowed."),0===u?u=r:e[a+1]=Zs(e[a+1],r),a=r;var d,f;l&&(e[r+1]=Gs(e[r+1])),ld(e,c,r,!0),ld(e,c,r,!1),function(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&Ir(i,t)>=0&&(n[r+1]=Ys(n[r+1]))}(t,c,e,r,i),s=zs(u,a),i?t.classBindings=s:t.styleBindings=s}(o,i,t,n,s,r)}}function Td(e,t,n,r,o){let i=null;const s=n.directiveEnd;let u=n.directiveStylingLast;for(-1===u?u=n.directiveStart:u++;u<s&&(i=t[u],ngDevMode&&j(i,"expected to be defined"),r=Ad(r,i.hostAttrs,o),i!==e);)u++;return null!==e&&(n.directiveStylingLast=u),r}function Ad(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Sr(e,s,!!n||t[++i]))}return void 0===e?null:e}function kd(e,t,n){Sr(e,t,xo(n))}function Nd(e,t,n,r,o,i,s,u){if(!(3&t.type))return;const a=e.data,c=a[u+1];Fd(Qs(c)?Rd(a,t,n,o,Js(c),s):void 0)||(Fd(i)||Ks(c)&&(i=Rd(a,null,n,o,u,s)),function(e,t,n,r,o){const i=yt(e);if(t)o?(ngDevMode&&ngDevMode.rendererAddClass++,i?e.addClass(n,r):(ngDevMode&&j(n.classList,"HTMLElement expected"),n.classList.add(r))):(ngDevMode&&ngDevMode.rendererRemoveClass++,i?e.removeClass(n,r):n.classList.remove(r));else{let t=-1===r.indexOf("-")?void 0:zi.DashCase;if(null==o)ngDevMode&&ngDevMode.rendererRemoveStyle++,i?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const s="string"==typeof o&&o.endsWith("!important");s&&(o=o.slice(0,-10),t|=zi.Important),ngDevMode&&ngDevMode.rendererSetStyle++,i?e.setStyle(n,r,o,t):(ngDevMode&&j(n.style,"HTMLElement expected"),n.style.setProperty(r,o,s?"important":""))}}}(r,s,bt(ln(),n),o,i))}function Rd(e,t,n,r,o,i){const s=null===t;let u;for(;o>0;){const t=e[o],i=Array.isArray(t),a=i?t[1]:t,c=null===a;let l=n[o+1];l===Hs&&(l=c?ae:void 0);let d=c?Er(l,r):a===r?l:void 0;if(i&&!Fd(d)&&(d=Er(t,r)),Fd(d)&&(u=d,s))return u;const f=e[o+1];o=s?qs(f):Js(f)}if(null!==t){let e=i?t.residualClasses:t.residualStyles;null!=e&&(u=Er(e,r))}return u}function Fd(e){return void 0!==e}function Vd(e,t){return 0!=(e.flags&(t?16:32))}function Ld(e,t=""){const n=At(),r=kt(),o=e+je;ngDevMode&&C(zt(),r.bindingStartIndex,"text nodes should be created before any bindings"),ngDevMode&&k(n,o);const i=r.firstCreatePass?Nu(r,o,1,t,null):r.data[o],s=n[o]=es(n[11],t);bs(r,n,s,i),Lt(i,!1)}function $d(e){return Hd("",e,""),$d}function Hd(e,t,n){const r=At(),o=Lc(r,e,t,n);return o!==Hs&&Pa(r,ln(),o),Hd}function Bd(e,t,n,r,o){const i=At(),s=$c(i,e,t,n,r,o);return s!==Hs&&Pa(i,ln(),s),Bd}function Ud(e,t,n,r,o,i,s){const u=At(),a=Hc(u,e,t,n,r,o,i,s);return a!==Hs&&Pa(u,ln(),a),Ud}function Wd(e,t,n,r,o,i,s,u,a){const c=At(),l=Bc(c,e,t,n,r,o,i,s,u,a);return l!==Hs&&Pa(c,ln(),l),Wd}function zd(e,t,n,r,o,i,s,u,a,c,l){const d=At(),f=Uc(d,e,t,n,r,o,i,s,u,a,c,l);return f!==Hs&&Pa(d,ln(),f),zd}function qd(e,t,n,r,o,i,s,u,a,c,l,d,f){const p=At(),h=Wc(p,e,t,n,r,o,i,s,u,a,c,l,d,f);return h!==Hs&&Pa(p,ln(),h),qd}function Kd(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h){const v=At(),y=zc(v,e,t,n,r,o,i,s,u,a,c,l,d,f,p,h);return y!==Hs&&Pa(v,ln(),y),Kd}function Gd(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v,y){const g=At(),m=qc(g,e,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v,y);return m!==Hs&&Pa(g,ln(),m),Gd}function Jd(e){const t=At(),n=Vc(t,e);return n!==Hs&&Pa(t,ln(),n),Jd}function Zd(e,t,n){Id(Sr,Sd,Lc(At(),e,t,n),!0)}function Qd(e,t,n,r,o){Id(Sr,Sd,$c(At(),e,t,n,r,o),!0)}function Yd(e,t,n,r,o,i,s){Id(Sr,Sd,Hc(At(),e,t,n,r,o,i,s),!0)}function Xd(e,t,n,r,o,i,s,u,a){Id(Sr,Sd,Bc(At(),e,t,n,r,o,i,s,u,a),!0)}function ef(e,t,n,r,o,i,s,u,a,c,l){Id(Sr,Sd,Uc(At(),e,t,n,r,o,i,s,u,a,c,l),!0)}function tf(e,t,n,r,o,i,s,u,a,c,l,d,f){Id(Sr,Sd,Wc(At(),e,t,n,r,o,i,s,u,a,c,l,d,f),!0)}function nf(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h){Id(Sr,Sd,zc(At(),e,t,n,r,o,i,s,u,a,c,l,d,f,p,h),!0)}function rf(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v,y){Id(Sr,Sd,qc(At(),e,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v,y),!0)}function of(e){Id(Sr,Sd,Vc(At(),e),!0)}function sf(e,t,n){Od(Lc(At(),e,t,n))}function uf(e,t,n,r,o){Od($c(At(),e,t,n,r,o))}function af(e,t,n,r,o,i,s){Od(Hc(At(),e,t,n,r,o,i,s))}function cf(e,t,n,r,o,i,s,u,a){Od(Bc(At(),e,t,n,r,o,i,s,u,a))}function lf(e,t,n,r,o,i,s,u,a,c,l){Od(Uc(At(),e,t,n,r,o,i,s,u,a,c,l))}function df(e,t,n,r,o,i,s,u,a,c,l,d,f){Od(Wc(At(),e,t,n,r,o,i,s,u,a,c,l,d,f))}function ff(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h){Od(zc(At(),e,t,n,r,o,i,s,u,a,c,l,d,f,p,h))}function pf(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v,y){Od(qc(At(),e,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v,y))}function hf(e){Od(Vc(At(),e))}function vf(e,t,n,r,o){return Ed(e,Lc(At(),t,n,r),o,!1),vf}function yf(e,t,n,r,o,i,s){return Ed(e,$c(At(),t,n,r,o,i),s,!1),yf}function gf(e,t,n,r,o,i,s,u,a){return Ed(e,Hc(At(),t,n,r,o,i,s,u),a,!1),gf}function mf(e,t,n,r,o,i,s,u,a,c,l){return Ed(e,Bc(At(),t,n,r,o,i,s,u,a,c),l,!1),mf}function bf(e,t,n,r,o,i,s,u,a,c,l,d,f){return Ed(e,Uc(At(),t,n,r,o,i,s,u,a,c,l,d),f,!1),bf}function _f(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h){return Ed(e,Wc(At(),t,n,r,o,i,s,u,a,c,l,d,f,p),h,!1),_f}function wf(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v,y){return Ed(e,zc(At(),t,n,r,o,i,s,u,a,c,l,d,f,p,h,v),y,!1),wf}function Mf(e,t,n,r,o,i,s,u,a,c,l,d,f,p,h,v,y,g,m){return Ed(e,qc(At(),t,n,r,o,i,s,u,a,c,l,d,f,p,h,v,y,g),m,!1),Mf}function Cf(e,t,n){return Ed(e,Vc(At(),t),n,!1),Cf}function Of(e,t,n){const r=At(),o=Kt();if(Ac(r,o,t)){const i=kt(),s=fn();Zu(i,s,r,e,t,r[11],n,!0),ngDevMode&&Ca(i.data,s,e,o)}return Of}function xf(e,t,n){const r=At(),o=Kt();if(Ac(r,o,t)){const i=kt(),s=fn();Zu(i,s,r,e,t,Sa(Yt(i.data),s,r),n,!0),ngDevMode&&Ca(i.data,s,e,o)}return xf}"undefined"==typeof ngI18nClosureMode&&(ie.ngI18nClosureMode="undefined"!=typeof goog&&"function"==typeof goog.getMsg);const Df=void 0;var Sf=["en",[["a","p"],["AM","PM"],Df],[["AM","PM"],Df,Df],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Df,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Df,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Df,"{1} 'at' {0}",Df],[".",",",";","%","+","-","E","","","","NaN",":"],["#,##0.###","#,##0%","#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Ef={};function If(e,t,n){"string"!=typeof t&&(n=t,t=e[Nf.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Ef[t]=e,n&&(Ef[t][Nf.ExtraData]=n)}function Pf(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Af(t);if(n)return n;const r=t.split("-")[0];if(n=Af(r),n)return n;if("en"===r)return Sf;throw new Error(`Missing locale data for the locale "${e}".`)}function jf(e){return Pf(e)[Nf.CurrencyCode]||null}function Tf(e){return Pf(e)[Nf.PluralCase]}function Af(e){return e in Ef||(Ef[e]=ie.ng&&ie.ng.common&&ie.ng.common.locales&&ie.ng.common.locales[e]),Ef[e]}function kf(){Ef={}}var Nf;!function(e){e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData"}(Nf||(Nf={}));const Rf=["zero","one","two","few","many"],Ff="en-US",Vf={marker:"element"},Lf={marker:"ICU"};var $f;!function(e){e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT"}($f||($f={}));let Hf=Ff;function Bf(e){j(e,"Expected localeId to be defined"),"string"==typeof e&&(Hf=e.toLowerCase().replace(/_/g,"-"))}function Uf(e,t,n){const r=t.insertBeforeIndex,o=Array.isArray(r)?r[0]:r;return null===o?vs(e,0,n):(ngDevMode&&k(n,o),mt(n[o]))}function Wf(e,t,n,r,o){const i=t.insertBeforeIndex;if(Array.isArray(i)){ngDevMode&&A(r);let s=r,u=null;if(3&t.type||(u=s,s=o),null!==s&&0==(2&t.flags))for(let t=1;t<i.length;t++)ls(e,s,n[i[t]],u,!1)}}function zf(e,t){if(ngDevMode&&C(t.insertBeforeIndex,null,"We expect that insertBeforeIndex is not set"),e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];qf(r)||Kf(r,t)&&null===Gf(r)&&Jf(r,t.index)}}function qf(e){return!(64&e.type)}function Kf(e,t){return qf(t)||e.index>t.index}function Gf(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Jf(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(ms(Uf,Wf),e.insertBeforeIndex=t)}function Zf(e,t){const n=e.data[t];if(null===n||"string"==typeof n)return null;!ngDevMode||n.hasOwnProperty("tViews")||n.hasOwnProperty("currentCaseLViewIndex")||T("We expect to get 'null'|'TIcu'|'TIcuContainer', but got: "+n);const r=n.hasOwnProperty("currentCaseLViewIndex")?n:n.value;return ngDevMode&&Be(r),r}function Qf(e,t,n){const r=Ru(e,n,64,null,null);return zf(t,r),r}function Yf(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function Xf(e){return e>>>17}function ep(e){return(131070&e)>>>1}function tp(e){return 1&e}let np=0,rp=0;function op(e,t,n,r){ngDevMode&&A(r);const o=n[11];let i,s=null;for(let u=0;u<t.length;u++){const a=t[u];if("string"==typeof a){const e=t[++u];null===n[e]&&(ngDevMode&&ngDevMode.rendererCreateTextNode++,ngDevMode&&k(n,e),n[e]=es(o,a))}else if("number"==typeof a)switch(1&a){case 0:const c=Xf(a);let l,d;if(null===s&&(s=c,i=ps(o,r)),c===s?(l=r,d=i):(l=null,d=mt(n[c])),null!==d){ngDevMode&&A(d);const t=ep(a);ngDevMode&&I(t,je,"Missing ref");const r=n[t];ngDevMode&&A(r),ls(o,d,r,l,!1);const i=Zf(e,t);if(null!==i&&"object"==typeof i){ngDevMode&&Be(i);const t=Yf(i,n);null!==t&&op(e,i.create[t],n,n[i.anchorIdx])}}break;case 1:const f=a>>>1,h=t[++u],v=t[++u];ca(o,bt(f,n),null,null,h,v,null);break;default:if(ngDevMode)throw new p(700,`Unable to determine the type of mutate operation for "${a}"`)}else switch(a){case Lf:const e=t[++u],r=t[++u];null===n[r]&&(ngDevMode&&C(typeof e,"string",`Expected "${e}" to be a comment node value`),ngDevMode&&ngDevMode.rendererCreateComment++,ngDevMode&&Ze(n,r),wi(n[r]=ns(o,e),n));break;case Vf:const i=t[++u],s=t[++u];null===n[s]&&(ngDevMode&&C(typeof i,"string",`Expected "${i}" to be an element node tag name`),ngDevMode&&ngDevMode.rendererCreateElement++,ngDevMode&&Ze(n,s),wi(n[s]=rs(o,i,null),n));break;default:ngDevMode&&T(`Unable to determine the type of mutate operation for "${a}"`)}}}function ip(e,t,n,r,o){for(let i=0;i<n.length;i++){const s=n[i],u=n[++i];if(s&o){let o="";for(let s=i+1;s<=i+u;s++){const i=n[s];if("string"==typeof i)o+=i;else if("number"==typeof i)if(i<0)o+=v(t[r-i]);else{const u=i>>>2;switch(3&i){case 1:const i=n[++s],a=n[++s],c=e.data[u];ngDevMode&&j(c,"Experting TNode or string"),"string"==typeof c?ca(t[11],t[u],null,c,i,o,a):Zu(e,c,t,i,o,t[11],a,!1);break;case 0:const l=t[u];null!==l&&ts(t[11],l,o);break;case 2:up(e,Zf(e,u),t,o);break;case 3:sp(e,Zf(e,u),r,t)}}}}else{const o=n[i+1];if(o>0&&3==(3&o)){const n=Zf(e,o>>>2);t[n.currentCaseLViewIndex]<0&&sp(e,n,r,t)}}i+=u}}function sp(e,t,n,r){ngDevMode&&k(r,t.currentCaseLViewIndex);let o=r[t.currentCaseLViewIndex];if(null!==o){let i=np;o<0&&(o=r[t.currentCaseLViewIndex]=~o,i=-1),ip(e,r,t.update[o],n,i)}}function up(e,t,n,r){const o=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function(e,t){const n=Tf(t)(parseInt(e,10)),r=Rf[n];return void 0!==r?r:"other"}(t,Hf);n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(Yf(t,n)!==o&&(ap(e,t,n),n[t.currentCaseLViewIndex]=null===o?null:~o,null!==o)){const r=n[t.anchorIdx];r&&(ngDevMode&&A(r),op(e,t.create[o],n,r))}}function ap(e,t,n){let r=Yf(t,n);if(null!==r){const o=t.remove[r];for(let t=0;t<o.length;t++){const r=o[t];if(r>0){const e=bt(r,n);null!==e&&Cs(n[11],e)}else ap(e,Zf(e,~r),n)}}}function cp(){const e=[];let t,n,r=-1;function o(e,t){r=0;const o=Yf(e,t);null!==o?(ngDevMode&&w(o,0,e.cases.length-1),n=e.remove[o]):n=ae}function i(){if(r<n.length){const s=n[r++];if(ngDevMode&&_(s,"Expecting OpCode number"),s>0){const e=t[s];return ngDevMode&&A(e),e}{e.push(r,n);const u=~s,a=t[1].data[u];return ngDevMode&&Be(a),o(a,t),i()}}return 0===e.length?null:(n=e.pop(),r=e.pop(),i())}return function(n,r){for(t=r;e.length;)e.pop();return ngDevMode&&Le(n,r),o(n.value,r),i}}function lp(e){const t=e||(Array.isArray(this)?this:[]);let n=[];for(let e=0;e<t.length;e++){const r=t[e++],o=t[e],i=(r&$f.COMMENT)===$f.COMMENT,s=(r&$f.APPEND_EAGERLY)===$f.APPEND_EAGERLY,u=r>>>$f.SHIFT;n.push(`lView[${u}] = document.${i?"createComment":"createText"}(${JSON.stringify(o)});`),s&&n.push(`parent.appendChild(lView[${u}]);`)}return n}function dp(e){const t=new hp(e||(Array.isArray(this)?this:[]));let n=[];function r(e){const n=e>>>2;switch(3&e){case 0:return`(lView[${n}] as Text).textContent = $$$`;case 1:const e=t.consumeString(),r=t.consumeFunction();return`(lView[${n}] as Element).setAttribute('${e}', ${r?`(${r})($$$)`:"$$$"})`;case 2:return`icuSwitchCase(${n}, $$$)`;case 3:return`icuUpdateCase(${n})`}throw new Error("unexpected OpCode")}for(;t.hasMore();){let e=t.consumeNumber(),o=t.consumeNumber();const i=t.i+o,s=[];let u="";for(;t.i<i;){let e=t.consumeNumberOrString();if("string"==typeof e)u+=e;else if(e<0)u+="${lView[i"+e+"]}";else{const t=r(e);s.push(t.replace("$$$","`"+u+"`")+";"),u=""}}n.push(`if (mask & 0b${e.toString(2)}) { ${s.join(" ")} }`)}return n}function fp(e){const t=new hp(e||(Array.isArray(this)?this:[]));let n=[];function r(e){const n=Xf(e),r=ep(e);switch(tp(e)){case 0:return`(lView[${n}] as Element).appendChild(lView[${o}])`;case 1:return`(lView[${r}] as Element).setAttribute("${t.consumeString()}", "${t.consumeString()}")`}throw new Error("Unexpected OpCode: "+tp(e))}let o=-1;for(;t.hasMore();){let e=t.consumeNumberStringOrMarker();if(e===Lf){const e=t.consumeString();o=t.consumeNumber(),n.push(`lView[${o}] = document.createComment("${e}")`)}else if(e===Vf){const e=t.consumeString();o=t.consumeNumber(),n.push(`lView[${o}] = document.createElement("${e}")`)}else if("string"==typeof e)o=t.consumeNumber(),n.push(`lView[${o}] = document.createTextNode("${e}")`);else{if("number"!=typeof e)throw new Error("Unexpected value");{const t=r(e);t&&n.push(t)}}}return n}function pp(e){const t=e||(Array.isArray(this)?this:[]);let n=[];for(let e=0;e<t.length;e++){const r=t[e];r>0?n.push(`remove(lView[${r}])`):n.push(`removeNestedICU(${~r})`)}return n}class hp{constructor(e){this.i=0,this.codes=e}hasMore(){return this.i<this.codes.length}consumeNumber(){let e=this.codes[this.i++];return _(e,"expecting number in OpCode"),e}consumeString(){let e=this.codes[this.i++];return M(e,"expecting string in OpCode"),e}consumeFunction(){let e=this.codes[this.i++];if(null===e||"function"==typeof e)return e;throw new Error("expecting function in OpCode")}consumeNumberOrString(){let e=this.codes[this.i++];return"string"==typeof e||_(e,"expecting number or string in OpCode"),e}consumeNumberStringOrMarker(){let e=this.codes[this.i++];return"string"==typeof e||"number"==typeof e||e==Lf||e==Vf||_(e,"expecting number, string, ICU_MARKER or ELEMENT_MARKER in OpCode"),e}}const vp=/(\d+):?\d*/gi,yp=/({\s*\d+:?\d*\s*,\s*\S{6}\s*,[\s\S]*})/gi,gp=/(\d+)/,mp=/^\s*(\d+:?\d*)\s*,\s*(select|plural)\s*,/,bp=/\/?\*(\d+:\d+)/gi,_p=/(\/?[#*]\d+):?\d*/gi,wp=/\uE500/g;function Mp(e,t,n,r,o,i,s){const u=Fu(e,r,1,null);let a=u<<$f.SHIFT,c=Vt();t===c&&(c=null),null===c&&(a|=$f.APPEND_EAGERLY),s&&(a|=$f.COMMENT,void 0===qi&&(qi=cp())),o.push(a,null===i?"":i);const l=Ru(e,u,s?32:1,null===i?ngDevMode?"{{?}}":"":i,null);zf(n,l);const d=l.index;return Lt(l,!1),null!==c&&t!==c&&function(e,t){ngDevMode&&He(e);let n=e.insertBeforeIndex;null===n?(ms(Uf,Wf),n=e.insertBeforeIndex=[null,t]):(C(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(c,d),l}function Cp(e,t,n,r,o,i,s){const u=s.match(vp),a=Mp(e,t,n,i,r,u?null:s,!1);u&&Op(o,s,a.index,null,0,null)}function Op(e,t,n,r,o,i){ngDevMode&&P(n,je,"Index must be in absolute LView offset");const s=e.length,u=s+1;e.push(null,null);const a=s+2;ngDevMode&&eu(e,dp);const c=t.split(vp);let l=0;for(let t=0;t<c.length;t++){const n=c[t];if(1&t){const t=o+parseInt(n,10);e.push(-1-t),l|=Dp(t)}else""!==n&&e.push(n)}return e.push(n<<2|(r?1:0)),r&&e.push(r,i),e[s]=l,e[u]=e.length-a,l}function xp(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function Dp(e){return 1<<Math.min(e,31)}function Sp(e){let t,n,r="",o=0,i=!1;for(;null!==(t=bp.exec(e));)i?t[0]===`/*${n}`&&(o=t.index,i=!1):(r+=e.substring(o,t.index+t[0].length),n=t[1],i=!0);return ngDevMode&&C(i,!1,`Tag mismatch: unable to find the end of the sub-template in the translation "${e}"`),r+=e.substr(o),r}function Ep(e,t,n,r,o,i){ngDevMode&&j(o,"ICU expression must be defined");let s=0;const u={type:o.type,currentCaseLViewIndex:Fu(e,t,1,null),anchorIdx:i,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(Dp(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,o,i),function(e,t,n){const r=e.data[t];ngDevMode&&C(null===r||r.hasOwnProperty("tViews"),!0,"We expect to get 'null'|'TIcuContainer'"),null===r?e.data[t]=n:(ngDevMode&&xn(r,32),r.value=n)}(e,i,u);const a=o.values;for(let i=0;i<a.length;i++){const c=a[i],l=[];for(let e=0;e<c.length;e++){const t=c[e];if("string"!=typeof t){const n=l.push(t)-1;c[e]=`\x3c!--${n}--\x3e`}}s=jp(e,u,t,n,r,o.cases[i],c.join(""),l)|s}s&&function(e,t,n){e.push(t,1,n<<2|3)}(n,s,i)}function Ip(e){const t=[],n=[];let r=1,o=0;const i=Pp(e=e.replace(mp,(function(e,t,n){return r="select"===n?0:1,o=parseInt(t.substr(1),10),""})));for(let e=0;e<i.length;){let o=i[e++].trim();1===r&&(o=o.replace(/\s*(?:=)?(\w+)\s*/,"$1")),o.length&&t.push(o);const s=Pp(i[e++]);t.length>n.length&&n.push(s)}return{type:r,mainBinding:o,cases:t,values:n}}function Pp(e){if(!e)return[];let t=0;const n=[],r=[],o=/[{}]/g;let i;for(o.lastIndex=0;i=o.exec(e);){const o=i.index;if("}"==i[0]){if(n.pop(),0==n.length){const n=e.substring(t,o);mp.test(n)?r.push(Ip(n)):r.push(n),t=o+1}}else{if(0==n.length){const n=e.substring(t,o);r.push(n),t=o+1}n.push("{")}}const s=e.substring(t);return r.push(s),r}function jp(e,t,n,r,o,i,s,u){const a=[],c=[],l=[];ngDevMode&&(eu(a,fp),eu(c,pp),eu(l,dp)),t.cases.push(i),t.create.push(a),t.remove.push(c),t.update.push(l);const d=Ao(ht()).getInertBodyElement(s);ngDevMode&&j(d,"Unable to generate inert body element");const f=ui(d)||d;return f?Tp(e,t,n,r,a,c,l,f,o,u,0):0}function Tp(e,t,n,r,o,i,s,u,a,c,l){let d=0,f=u.firstChild;for(;f;){const u=Fu(e,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const p=f,h=p.tagName.toLowerCase();if(Go.hasOwnProperty(h)){Np(o,Vf,h,a,u),e.data[u]=h;const v=p.attributes;for(let e=0;e<v.length;e++){const t=v.item(e),n=t.name.toLowerCase();t.value.match(vp)?Xo.hasOwnProperty(n)?Jo[n]?Op(s,t.value,u,t.name,0,Vo):Zo[n]?Op(s,t.value,u,t.name,0,Lo):Op(s,t.value,u,t.name,0,null):ngDevMode&&console.warn(`WARNING: ignoring unsafe attribute value ${n} on element ${h} (see https://g.co/ng/security#xss)`):Rp(o,u,t)}d=Tp(e,t,n,r,o,i,s,f,u,c,l+1)|d,Ap(i,u,l)}break;case Node.TEXT_NODE:const v=f.textContent||"",y=v.match(vp);Np(o,null,y?"":v,a,u),Ap(i,u,l),y&&(d=Op(s,v,u,null,0,null)|d);break;case Node.COMMENT_NODE:const g=gp.exec(f.textContent||"");if(g){const t=parseInt(g[1],10),s=c[t];Np(o,Lf,ngDevMode?`nested ICU ${t}`:"",a,u),Ep(e,n,r,a,s,u),kp(i,u,l)}}f=f.nextSibling}return d}function Ap(e,t,n){0===n&&e.push(t)}function kp(e,t,n){0===n&&(e.push(~t),e.push(t))}function Np(e,t,n,r,o){var i,s;null!==t&&e.push(t),e.push(n,o,(0,i=r,s=o,ngDevMode&&P(i,0,"Missing parent index"),ngDevMode&&I(s,0,"Missing ref index"),0|i<<17|s<<1))}function Rp(e,t,n){e.push(t<<1|1,n.name,n.value)}const Fp=/\[(.+??)\]/,Vp=/\[(.+??)\]|(\/?\*\d+:\d+)/g,Lp=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,$p=/{([A-Z0-9_]+)}/g,Hp=/I18N_EXP_(ICU(_\d+)?)/g,Bp=/\/\*/,Up=/\d+\:(\d+)/;function Wp(e,t,n=-1){const r=kt(),o=At(),i=je+e;ngDevMode&&j(r,"tView should be defined");const s=Dt(r.consts,t),u=Vt();r.firstCreatePass&&function(e,t,n,r,o,i){const s=Vt(),u=[],a=[],c=[[]];ngDevMode&&(eu(u,lp),eu(a,dp)),o=function(e,t){if(function(e){return-1===e}(t))return Sp(e);{const n=e.indexOf(`:${t}`)+2+t.toString().length,r=e.search(new RegExp(`\\/\\*\\d+:${t}`));return Sp(e.substring(n,r))}}(o,i);const l=(d=o,d.replace(wp," ")).split(_p);var d;for(let i=0;i<l.length;i++){let d=l[i];if(0==(1&i)){const i=Pp(d);for(let l=0;l<i.length;l++){let d=i[l];if(0==(1&l)){const t=d;ngDevMode&&M(t,"Parsed ICU part should be string"),""!==t&&Cp(e,s,c[0],u,a,n,t)}else{const i=d;if("object"!=typeof i)throw new Error(`Unable to parse ICU expression in "${o}" message.`);const l=Mp(e,s,c[0],n,u,ngDevMode?`ICU ${r}:${i.mainBinding}`:"",!0).index;ngDevMode&&P(l,je,"Index must be in absolute LView offset"),Ep(e,n,a,t,i,l)}}}else{const t=47===d.charCodeAt(0),n=d.charCodeAt(t?1:0);ngDevMode&&N(n,42,35);const r=je+Number.parseInt(d.substring(t?2:1));if(t)c.shift(),Lt(Vt(),!1);else{const t=Qf(e,c[0],r);c.unshift([]),Lt(t,!0)}}}e.data[r]={create:u,update:a}}(r,null===u?0:u.index,o,i,s,n);const a=r.data[i],c=cs(r,u===o[6]?null:u,o),l=u&&8&u.type?o[u.index]:null;!function(e,t,n,r){const o=e[11];for(let i=0;i<t.length;i++){const s=t[i++],u=t[i],a=(s&$f.COMMENT)===$f.COMMENT,c=(s&$f.APPEND_EAGERLY)===$f.APPEND_EAGERLY,l=s>>>$f.SHIFT;let d=e[l];null===d&&(d=e[l]=a?o.createComment(u):es(o,u)),c&&null!==n&&ls(o,n,d,r,!1)}}(o,a.create,c,l),Jt(!0)}function zp(){Jt(!1)}function qp(e,t,n){Wp(e,t,n),zp()}function Kp(e,t){const n=kt();ngDevMode&&j(n,"tView should be defined");const r=Dt(n.consts,t);!function(e,t,n){const r=Rt().index,o=[];if(ngDevMode&&eu(o,dp),e.firstCreatePass&&null===e.data[t]){for(let e=0;e<n.length;e+=2){const t=n[e],i=n[e+1];if(""!==i){if(yp.test(i))throw new Error(`ICU expressions are not supported in attributes. Message: "${i}".`);Op(o,i,r,t,xp(o),null)}}e.data[t]=o}}(n,e+je,r)}function Gp(e){return Ac(At(),Kt(),e)&&(np|=1<<Math.min(rp,31)),rp++,Gp}function Jp(e){!function(e,t,n){if(rp>0){ngDevMode&&j(e,"tView should be defined");const r=e.data[n];ip(e,t,Array.isArray(r)?r:r.update,zt()-rp-1,np)}np=0,rp=0}(kt(),At(),e+je)}function Zp(e,t={}){return function(e,t={}){let n=e;if(Fp.test(e)){const e={},t=[0];n=n.replace(Vp,((n,r,o)=>{const i=r||o,s=e[i]||[];if(s.length||(i.split("|").forEach((e=>{const t=e.match(Up),n=t?parseInt(t[1],10):0,r=Bp.test(e);s.push([n,r,e])})),e[i]=s),!s.length)throw new Error(`i18n postprocess: unmatched placeholder - ${i}`);const u=t[t.length-1];let a=0;for(let e=0;e<s.length;e++)if(s[e][0]===u){a=e;break}const[c,l,d]=s[a];return l?t.pop():u!==c&&t.push(c),s.splice(a,1),d}))}return Object.keys(t).length?(n=n.replace(Lp,((e,n,r,o,i,s)=>t.hasOwnProperty(r)?`${n}${t[r]}${s}`:e)),n=n.replace($p,((e,n)=>t.hasOwnProperty(n)?t[n]:e)),n=n.replace(Hp,((e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e})),n):n}(e,t)}function Qp(e,t,n,r,o){if(e=d(e),Array.isArray(e))for(let i=0;i<e.length;i++)Qp(e[i],t,n,r,o);else{const i=kt(),s=At();let u=Ga(e)?e:d(e.provide),a=za(e);const c=Rt(),l=1048575&c.providerIndexes,f=c.directiveStart,p=c.providerIndexes>>20;if(Ga(e)||!e.multi){const r=new Cn(a,o,jl),d=eh(u,t,o?l:l+p,f);-1===d?(Hn(Fn(c,s),i,u),Yp(i,e,t.length),t.push(u),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=eh(u,t,l+p,f),h=eh(u,t,l,l+p),v=d>=0&&n[d],y=h>=0&&n[h];if(o&&!y||!o&&!v){Hn(Fn(c,s),i,u);const l=function(e,t,n,r,o){const i=new Cn(e,n,jl);return i.multi=[],i.index=t,i.componentProviders=0,Xp(i,o,r&&!n),i}(o?nh:th,n.length,o,r,a);!o&&y&&(n[h].providerFactory=l),Yp(i,e,t.length,0),t.push(u),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Yp(i,e,d>-1?d:h,Xp(n[o?h:d],a,!o&&r));!o&&r&&y&&n[h].componentProviders++}}}function Yp(e,t,n,r){const o=Ga(t),i=!!t.useClass;if(o||i){const s=(i?d(t.useClass):t).prototype.ngOnDestroy;if(s){const i=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){ngDevMode&&j(r,"indexInFactory when registering multi factory destroy hook");const e=i.indexOf(n);-1===e?i.push(n,[r,s]):i[e+1].push(r,s)}else i.push(n,s)}}}function Xp(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function eh(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function th(e,t,n,r){return rh(this.multi,[])}function nh(e,t,n,r){const o=this.multi;let i;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Jn(n,n[1],this.providerFactory.index,r);i=t.slice(0,e),rh(o,i);for(let n=e;n<t.length;n++)i.push(t[n])}else i=[],rh(o,i);return i}function rh(e,t){for(let n=0;n<e.length;n++){const r=e[n];t.push(r())}return t}function oh(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=kt();if(r.firstCreatePass){const o=Ve(e);Qp(n,r.data,r.blueprint,o,!0),Qp(t,r.data,r.blueprint,o,!1)}}(n,r?r(e):e,t)}}class ih{}class sh{}class uh{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${u(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}class ah{}function ch(e,t){return new lh(_t(e,t))}ah.NULL=new uh;class lh{constructor(e){this.nativeElement=e}}function dh(e){return e instanceof lh?e.nativeElement:e}lh.__NG_ELEMENT_ID__=function(){return ch(Rt(),At())},new lr("Renderer2Interceptor");class fh{}class ph{}ph.__NG_ELEMENT_ID__=()=>function(){const e=At(),t=Ct(Rt().index,e);return function(e){const t=e[11];if(ngDevMode&&!yt(t))throw new Error("Cannot inject Renderer2 when the application uses Renderer3!");return t}(Ae(t)?t:e)}();class hh{}hh.prov=R({token:hh,providedIn:"root",factory:()=>null});class vh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const yh=new vh("13.2.2"),gh={};function mh(e,t,n,r,o=!1){for(;null!==n;){ngDevMode&&xn(n,63);const i=t[n.index];if(null!==i&&r.push(mt(i)),ke(i))for(let e=Pe;e<i.length;e++){const t=i[e],n=t[1].firstChild;null!==n&&mh(t[1],t,n,r)}const s=n.type;if(8&s)mh(e,t,n.child,r);else if(32&s){const e=Ki(n,t);let o;for(;o=e();)r.push(o)}else if(16&s){const e=ws(t,n);if(Array.isArray(e))r.push(...e);else{const n=Gi(t[16]);ngDevMode&&Ye(n),mh(n[1],n,e,r,!0)}}n=o?n.projectionNext:n.next}return r}class bh{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return mh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ke(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(ngDevMode&&C(n,e.indexOf(this._lView)-Pe,"An attached view should be in the same position within its container as its ViewRef in the VIEW_REFS array."),is(e,n),xr(t,n))}this._attachedToViewContainer=!1}ss(this._lView[1],this._lView)}onDestroy(e){Gu(this._lView[1],this._lView,null,e)}markForCheck(){ma(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){_a(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Ut(!0);try{_a(e,t,n)}finally{Ut(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef){const e=ngDevMode?"This view is already attached directly to the ApplicationRef!":"";throw new p(902,e)}this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,xs(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer){const e=ngDevMode?"This view is already attached to a ViewContainer!":"";throw new p(902,e)}this._appRef=e}}class _h extends bh{constructor(e){super(e),this._view=e}detectChanges(){wa(this._view)}checkNoChanges(){!function(e){Ut(!0);try{wa(e)}finally{Ut(!1)}}(this._view)}get context(){return null}}class wh extends ah{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){ngDevMode&&Ue(e);const t=De(e);return new Oh(t,this.ngModule)}}function Mh(e){const t=[];for(let n in e)if(e.hasOwnProperty(n)){const r=e[n];t.push({propName:r,templateName:n})}return t}const Ch=new lr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Fi});class Oh extends sh{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map($s).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Mh(this.componentDef.inputs)}get outputs(){return Mh(this.componentDef.outputs)}create(e,t,n,r){const o=(r=r||this.ngModule)?function(e,t){return{get:(n,r,o)=>{const i=e.get(n,gh,o);return i!==gh||r===gh?i:t.get(n,r,o)}}}(e,r.injector):e,i=o.get(fh,gt),s=o.get(hh,null),u=i.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=n?Ku(u,n,this.componentDef.encapsulation):rs(i.createRenderer(null,this.componentDef),a,function(e){const t=e.toLowerCase();return"svg"===t?lt:"math"===t?dt:null}(a)),l=this.componentDef.onPush?576:528,d=hc(),f=qu(0,null,null,1,0,null,null,null,null,null),p=ku(null,f,d,l,null,null,i,u,s,o);let h,v;rn(p);try{const e=fc(c,this.componentDef,p,i,u);if(c)if(n)Dn(u,c,["ng-version",yh.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!Ns(o))break;o=i}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Dn(u,c,e),t&&t.length>0&&Es(u,c,t.join(" "))}if(v=wt(f,je),void 0!==t){const e=v.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}h=pc(e,this.componentDef,p,d,[vc]),Vu(f,p,null)}finally{cn()}return new xh(this.componentType,h,ch(v,p),p,v)}}new wh;class xh extends ih{constructor(e,t,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new _h(r),this.componentType=e}get injector(){return new Yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Dh(e,t,n,r){return Z((()=>{const o=e;null!==t&&(o.hasOwnProperty("decorators")&&void 0!==o.decorators?o.decorators.push(...t):o.decorators=t),null!==n&&(o.ctorParameters=n),null!==r&&(o.hasOwnProperty("propDecorators")&&void 0!==o.propDecorators?o.propDecorators=Object.assign(Object.assign({},o.propDecorators),r):o.propDecorators=r)}))}class Sh{}class Eh{}const Ih=new Map;function Ph(e){const t=new Set;!function e(n){const r=Ie(n,!0),o=r.id;if(null!==o){(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${u(t)} vs ${u(t.name)}`)})(o,Ih.get(o),n),Ih.set(o,n)}const i=Bi(r.imports);for(const n of i)t.has(n)||(t.add(n),e(n))}(e)}function jh(e){return Ih.get(e)||_e[e]}function Th(e,t){return new Ah(e,null!=t?t:null)}class Ah extends Sh{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wh(this);const n=Ie(e);ngDevMode&&j(n,`NgModule '${u(e)}' is not a subtype of 'NgModuleType'.`),this._bootstrapComponents=Bi(n.bootstrap),this._r3Injector=Ba(e,t,[{provide:Sh,useValue:this},{provide:ah,useValue:this.componentFactoryResolver}],u(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Ja.THROW_IF_NOT_FOUND,n=q.Default){return e===Ja||e===Sh||e===ka?this:this._r3Injector.get(e,t,n)}destroy(){ngDevMode&&j(this.destroyCbs,"NgModule already destroyed");const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((e=>e())),this.destroyCbs=null}onDestroy(e){ngDevMode&&j(this.destroyCbs,"NgModule already destroyed"),this.destroyCbs.push(e)}}class kh extends Eh{constructor(e){super(),this.moduleType=e,null!==Ie(e)&&Ph(e)}create(e){return new Ah(this.moduleType,e)}}function Nh(e,t,n){const r=Wt()+e,o=At();return o[r]===Hs?jc(o,r,n?t.call(n):t()):Tc(o,r)}function Rh(e,t,n,r){return qh(At(),Wt(),e,t,n,r)}function Fh(e,t,n,r,o){return Kh(At(),Wt(),e,t,n,r,o)}function Vh(e,t,n,r,o,i){return Gh(At(),Wt(),e,t,n,r,o,i)}function Lh(e,t,n,r,o,i,s){return Jh(At(),Wt(),e,t,n,r,o,i,s)}function $h(e,t,n,r,o,i,s,u){const a=Wt()+e,c=At(),l=Rc(c,a,n,r,o,i);return Ac(c,a+4,s)||l?jc(c,a+5,u?t.call(u,n,r,o,i,s):t(n,r,o,i,s)):Tc(c,a+5)}function Hh(e,t,n,r,o,i,s,u,a){const c=Wt()+e,l=At(),d=Rc(l,c,n,r,o,i);return kc(l,c+4,s,u)||d?jc(l,c+6,a?t.call(a,n,r,o,i,s,u):t(n,r,o,i,s,u)):Tc(l,c+6)}function Bh(e,t,n,r,o,i,s,u,a,c){const l=Wt()+e,d=At();let f=Rc(d,l,n,r,o,i);return Nc(d,l+4,s,u,a)||f?jc(d,l+7,c?t.call(c,n,r,o,i,s,u,a):t(n,r,o,i,s,u,a)):Tc(d,l+7)}function Uh(e,t,n,r,o,i,s,u,a,c,l){const d=Wt()+e,f=At(),p=Rc(f,d,n,r,o,i);return Rc(f,d+4,s,u,a,c)||p?jc(f,d+8,l?t.call(l,n,r,o,i,s,u,a,c):t(n,r,o,i,s,u,a,c)):Tc(f,d+8)}function Wh(e,t,n,r){return Zh(At(),Wt(),e,t,n,r)}function zh(e,t){ngDevMode&&k(e,t);const n=e[t];return n===Hs?void 0:n}function qh(e,t,n,r,o,i){const s=t+n;return Ac(e,s,o)?jc(e,s+1,i?r.call(i,o):r(o)):zh(e,s+1)}function Kh(e,t,n,r,o,i,s){const u=t+n;return kc(e,u,o,i)?jc(e,u+2,s?r.call(s,o,i):r(o,i)):zh(e,u+2)}function Gh(e,t,n,r,o,i,s,u){const a=t+n;return Nc(e,a,o,i,s)?jc(e,a+3,u?r.call(u,o,i,s):r(o,i,s)):zh(e,a+3)}function Jh(e,t,n,r,o,i,s,u,a){const c=t+n;return Rc(e,c,o,i,s,u)?jc(e,c+4,a?r.call(a,o,i,s,u):r(o,i,s,u)):zh(e,c+4)}function Zh(e,t,n,r,o,i){let s=t+n,u=!1;for(let t=0;t<o.length;t++)Ac(e,s++,o[t])&&(u=!0);return u?jc(e,s,r.apply(i,o)):zh(e,s)}function Qh(e,t){const n=kt();let r;const o=e+je;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}if(ngDevMode){const t=At()[16][8],n=t?` in the '${t.constructor.name}' component`:"";throw new p(-302,`The pipe '${e}' could not be found${n}!`)}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(o,r.onDestroy)):r=n.data[o];const i=r.factory||(r.factory=et(r.type,!0)),s=G(jl);try{const e=Nn(!1),t=i();return Nn(e),rl(n,At(),o,t),t}finally{G(s)}}function Yh(e,t,n){const r=e+je,o=At(),i=Mt(o,r);return rv(o,r)?qh(o,Wt(),t,i.transform,n,i):i.transform(n)}function Xh(e,t,n,r){const o=e+je,i=At(),s=Mt(i,o);return rv(i,o)?Kh(i,Wt(),t,s.transform,n,r,s):s.transform(n,r)}function ev(e,t,n,r,o){const i=e+je,s=At(),u=Mt(s,i);return rv(s,i)?Gh(s,Wt(),t,u.transform,n,r,o,u):u.transform(n,r,o)}function tv(e,t,n,r,o,i){const s=e+je,u=At(),a=Mt(u,s);return rv(u,s)?Jh(u,Wt(),t,a.transform,n,r,o,i,a):a.transform(n,r,o,i)}function nv(e,t,n){const r=e+je,o=At(),i=Mt(o,r);return rv(o,r)?Zh(o,Wt(),t,i.transform,n,i):i.transform.apply(i,n)}function rv(e,t){return e[1].data[t].pure}class ov extends r.Subject{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var o,i,s;let u=e,a=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;u=null===(o=t.next)||void 0===o?void 0:o.bind(t),a=null===(i=t.error)||void 0===i?void 0:i.bind(t),c=null===(s=t.complete)||void 0===s?void 0:s.bind(t)}this.__isAsync&&(a=iv(a),u&&(u=iv(u)),c&&(c=iv(c)));const l=super.subscribe({next:u,error:a,complete:c});return e instanceof r.Subscription&&e.add(l),l}}function iv(e){return t=>{setTimeout(e,void 0,t)}}const sv=ov;function uv(){return this._results[Sc()]()}class av{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Sc(),n=av.prototype;n[t]||(n[t]=uv)}get changes(){return this._changes||(this._changes=new sv)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=Mr(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol.iterator;class cv{}cv.__NG_ELEMENT_ID__=function(){return fv(Rt(),At())};const lv=cv,dv=class extends lv{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=ku(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null),r=this._declarationLView[this._declarationTContainer.index];ngDevMode&&ze(r),n[17]=r;const o=this._declarationLView[19];return null!==o&&(n[19]=o.createEmbeddedView(t)),Vu(t,n,e),new bh(n)}};function fv(e,t){return 4&e.type?(ngDevMode&&j(e.tViews,"TView must be allocated"),new dv(t,e,ch(e,t))):null}class pv{}pv.__NG_ELEMENT_ID__=function(){return mv(Rt(),At())};const hv=pv,vv=class extends hv{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return ch(this._hostTNode,this._hostLView)}get injector(){return new Yn(this._hostTNode,this._hostLView)}get parentInjector(){const e=$n(this._hostTNode,this._hostLView);if(jn(e)){const t=An(e,this._hostLView),n=Tn(e);ngDevMode&&Xe(t,n);const r=t[1].data[n+8];return new Yn(r,t)}return new Yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=yv(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Pe}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,o){const i=e&&!wr(e);let s;if(i)ngDevMode&&C("object"!=typeof t,!0,"It looks like Component factory was provided as the first argument and an options object as the second argument. This combination of arguments is incompatible. You can either change the first argument to provide Component type or change the second argument to be a number (representing an index at which to insert the new component's host view into this container)"),s=t;else{ngDevMode&&(j(De(e),"Provided Component class doesn't contain Component definition. Please check whether provided class has @Component decorator."),C("number"!=typeof t,!0,"It looks like Component type was provided as the first argument and a number (representing an index at which to insert the new component's host view into this container as the second argument. This combination of arguments is incompatible. Please use an object as the second argument instead."));const i=t||{};s=i.index,n=i.injector,r=i.projectableNodes,o=i.ngModuleRef}const u=i?e:new Oh(De(e)),a=n||this.parentInjector;if(!o&&null==u.ngModule&&a){const e=a.get(Sh,null);e&&(o=e)}const c=u.create(a,r,void 0,o);return this.insert(c.hostView,s),c}insert(e,t){const n=e._lView,r=n[1];if(ngDevMode&&e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(ke(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3];ngDevMode&&C(ke(t),!0,"An attached view should have its PARENT point to a container.");const r=new vv(t,t[6],t[3]);r.detach(r.indexOf(e))}}const o=this._adjustIndex(t),i=this._lContainer;!function(e,t,n,r){ngDevMode&&Ke(t),ngDevMode&&ze(n);const o=Pe+r,i=n.length;r>0&&(n[o-1][4]=t),r<i-Pe?(t[4]=n[o],Or(n,Pe+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function(e,t){ngDevMode&&j(t,"LView required"),ngDevMode&&ze(e);const n=e[9],r=t[3];ngDevMode&&ze(r);const o=r[3][16];ngDevMode&&j(o,"Missing insertedComponentLView");const i=t[16];ngDevMode&&j(i,"Missing declaredComponentLView"),i!==o&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const u=t[19];null!==u&&u.insertView(e),t[2]|=128}(r,n,i,o);const s=Ms(o,i),u=n[11],a=ps(u,i[7]);return null!==a&&function(e,t,n,r,o,i){r[0]=o,r[6]=t,xs(e,r,n,1,o,i)}(r,i[6],u,n,a,s),e.attachToViewContainerRef(),Or(gv(i),o,e),e}move(e,t){if(ngDevMode&&e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=yv(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=is(this._lContainer,t);n&&(xr(gv(this._lContainer),t),ss(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=is(this._lContainer,t);return n&&null!=xr(gv(this._lContainer),t)?new bh(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:(ngDevMode&&(I(e,-1,`ViewRef index must be positive, got ${e}`),S(e,this.length+1+t,"index")),e)}};function yv(e){return e[8]}function gv(e){return e[8]||(e[8]=[])}function mv(e,t){let n;ngDevMode&&xn(e,15);const r=t[e.index];if(ke(r))n=r;else{let o;if(8&e.type)o=mt(r);else{const n=t[11];ngDevMode&&ngDevMode.rendererCreateComment++,o=n.createComment(ngDevMode?"container":"");const r=_t(e,t);ls(n,ps(n,r),o,function(e,t){return yt(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=pa(r,t,o,e),ga(t,n)}return new vv(n,e,t)}class bv{constructor(e){this.queryList=e,this.matches=null}clone(){return new bv(this.queryList)}setDirty(){this.queryList.setDirty()}}class _v{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e),o=this.queries[n.indexInDeclarationView];r.push(o.clone())}return new _v(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==kv(e,t).matches&&this.queries[t].setDirty()}}class wv{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Mv{constructor(e=[]){this.queries=e}elementStart(e,t){ngDevMode&&Ge(e,"Queries should collect results on the first template pass only");for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,o=this.getByIndex(n).embeddedTView(e,r);o&&(o.indexInDeclarationView=n,null!==t?t.push(o):t=[o])}return null!==t?new Mv(t):null}template(e,t){ngDevMode&&Ge(e,"Queries should collect results on the first template pass only");for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return ngDevMode&&k(this.queries,e),this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Cv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Cv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const o=n[r];this.matchTNodeWithReadOption(e,t,Ov(t,o)),this.matchTNodeWithReadOption(e,t,Gn(t,e,o,!1,!1))}else n===cv?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Gn(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===lh||r===pv||r===cv&&4&t.type)this.addMatch(t.index,-2);else{const n=Gn(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Ov(e,t){const n=e.localNames;if(null!==n)for(let e=0;e<n.length;e+=2)if(n[e]===t)return n[e+1];return null}function xv(e,t,n,r){return-1===n?function(e,t){return 11&e.type?ch(e,t):4&e.type?fv(e,t):null}(t,e):-2===n?function(e,t,n){return n===lh?ch(t,e):n===cv?fv(t,e):n===pv?(ngDevMode&&xn(t,15),mv(t,e)):void(ngDevMode&&T(`Special token to read should be one of ElementRef, TemplateRef or ViewContainerRef but got ${u(n)}.`))}(e,t,r):Jn(e,e[1],n,t)}function Dv(e,t,n,r){const o=t[19].queries[r];if(null===o.matches){const r=e.data,i=n.matches,s=[];for(let e=0;e<i.length;e+=2){const o=i[e];if(o<0)s.push(null);else{ngDevMode&&k(r,o);const u=r[o];s.push(xv(t,u,i[e+1],n.metadata.read))}}o.matches=s}return o.matches}function Sv(e,t,n,r){const o=e.queries.getByIndex(n),i=o.matches;if(null!==i){const s=Dv(e,t,o,n);for(let e=0;e<i.length;e+=2){const n=i[e];if(n>0)r.push(s[e/2]);else{const o=i[e+1],s=t[-n];ngDevMode&&ze(s);for(let e=Pe;e<s.length;e++){const t=s[e];t[17]===t[3]&&Sv(t[1],t,o,r)}if(null!==s[9]){const e=s[9];for(let t=0;t<e.length;t++){const n=e[t];Sv(n[1],n,o,r)}}}}}return r}function Ev(e){const t=At(),n=kt(),r=Xt();en(r+1);const o=kv(n,r);if(e.dirty&&Ot(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?Sv(n,t,r,[]):Dv(n,t,o,r);e.reset(i,dh),e.notifyOnChanges()}return!0}return!1}function Iv(e,t,n){ngDevMode&&_(t,"Expecting flags");const r=kt();r.firstCreatePass&&(Av(r,new wv(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Tv(r,At(),t)}function Pv(e,t,n,r){ngDevMode&&_(n,"Expecting flags");const o=kt();if(o.firstCreatePass){const i=Rt();Av(o,new wv(t,n,r),i.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}Tv(o,At(),n)}function jv(){return e=At(),t=Xt(),ngDevMode&&j(e[19],"LQueries should be defined when trying to load a query"),ngDevMode&&k(e[19].queries,t),e[19].queries[t].queryList;var e,t}function Tv(e,t,n){const r=new av(4==(4&n));Gu(e,t,r,r.destroy),null===t[19]&&(t[19]=new _v),t[19].queries.push(new bv(r))}function Av(e,t,n){null===e.queries&&(e.queries=new Mv),e.queries.track(new Cv(t,n))}function kv(e,t){return ngDevMode&&j(e.queries,"TQueries must be defined to retrieve a TQuery"),e.queries.getByIndex(t)}function Nv(e,t){return fv(e,t)}const Rv={attribute:Fc,attributeInterpolate1:Kc,attributeInterpolate2:Gc,attributeInterpolate3:Jc,attributeInterpolate4:Zc,attributeInterpolate5:Qc,attributeInterpolate6:Yc,attributeInterpolate7:Xc,attributeInterpolate8:el,attributeInterpolateV:tl,defineComponent:ye,defineDirective:Oe,defineInjectable:R,defineInjector:V,defineNgModule:we,definePipe:xe,directiveInject:jl,getInheritedFactory:Xn,inject:Wr,injectAttribute:tr,invalidFactory:Tl,invalidFactoryDep:zr,templateRefExtractor:Nv,NgOnChangesFeature:nt,ProvidersFeature:oh,CopyDefinitionFeature:xc,InheritDefinitionFeature:mc,nextContext:Zl,namespaceHTML:vn,namespaceMathML:hn,namespaceSVG:pn,enableBindings:jt,disableBindings:Tt,elementStart:Nl,elementEnd:Rl,element:Fl,elementContainerStart:Vl,elementContainerEnd:Ll,elementContainer:$l,pureFunction0:Nh,pureFunction1:Rh,pureFunction2:Fh,pureFunction3:Vh,pureFunction4:Lh,pureFunction5:$h,pureFunction6:Hh,pureFunction7:Bh,pureFunction8:Uh,pureFunctionV:Wh,getCurrentView:Hl,restoreView:Nt,listener:zl,projection:Xl,syntheticHostProperty:xf,syntheticHostListener:ql,pipeBind1:Yh,pipeBind2:Xh,pipeBind3:ev,pipeBind4:tv,pipeBindV:nv,projectionDef:Yl,hostProperty:Of,property:Al,propertyInterpolate:ed,propertyInterpolate1:td,propertyInterpolate2:nd,propertyInterpolate3:rd,propertyInterpolate4:od,propertyInterpolate5:id,propertyInterpolate6:sd,propertyInterpolate7:ud,propertyInterpolate8:ad,propertyInterpolateV:cd,pipe:Qh,queryRefresh:Ev,viewQuery:Iv,loadQuery:jv,contentQuery:Pv,reference:ol,classMap:Dd,classMapInterpolate1:Zd,classMapInterpolate2:Qd,classMapInterpolate3:Yd,classMapInterpolate4:Xd,classMapInterpolate5:ef,classMapInterpolate6:tf,classMapInterpolate7:nf,classMapInterpolate8:rf,classMapInterpolateV:of,styleMap:Od,styleMapInterpolate1:sf,styleMapInterpolate2:uf,styleMapInterpolate3:af,styleMapInterpolate4:cf,styleMapInterpolate5:lf,styleMapInterpolate6:df,styleMapInterpolate7:ff,styleMapInterpolate8:pf,styleMapInterpolateV:hf,styleProp:Md,stylePropInterpolate1:vf,stylePropInterpolate2:yf,stylePropInterpolate3:gf,stylePropInterpolate4:mf,stylePropInterpolate5:bf,stylePropInterpolate6:_f,stylePropInterpolate7:wf,stylePropInterpolate8:Mf,stylePropInterpolateV:Cf,classProp:Cd,advance:Bs,template:nl,text:Ld,textInterpolate:$d,textInterpolate1:Hd,textInterpolate2:Bd,textInterpolate3:Ud,textInterpolate4:Wd,textInterpolate5:zd,textInterpolate6:qd,textInterpolate7:Kd,textInterpolate8:Gd,textInterpolateV:Jd,i18n:qp,i18nAttributes:Kp,i18nExp:Gp,i18nStart:Wp,i18nEnd:zp,i18nApply:Jp,i18nPostprocess:Zp,resolveWindow:Vi,resolveDocument:Li,resolveBody:$i,setComponentScope:ge,setNgModuleScope:Me,sanitizeHtml:ci,sanitizeStyle:li,sanitizeResourceUrl:fi,sanitizeScript:pi,sanitizeUrl:di,sanitizeUrlOrResourceUrl:yi,trustConstantHtml:hi,trustConstantResourceUrl:vi,forwardRef:l,resolveForwardRef:d};let Fv=null;function Vv(){Fv=null}const Lv=[];let $v=!1;function Hv(){if(!$v){$v=!0;try{for(let e=Lv.length-1;e>=0;e--){const{moduleType:t,ngModule:n}=Lv[e];n.declarations&&n.declarations.every(Bv)&&(Lv.splice(e,1),Yv(t,n))}}finally{$v=!1}}}function Bv(e){return Array.isArray(e)?e.every(Bv):!!d(e)}function Uv(e,t={}){Wv(e,t),function(e,t){Lv.push({moduleType:e,ngModule:t})}(e,t)}function Wv(e,t,n=!1){ngDevMode&&j(e,"Required value moduleType"),ngDevMode&&j(t,"Required value ngModule");const r=Mr(t.declarations||ae);let o=null;Object.defineProperty(e,fe,{configurable:!0,get:()=>{if(null===o){if(ngDevMode&&t.imports&&t.imports.indexOf(e)>-1)throw new Error(`'${y(e)}' module can't import itself`);const n=br({usage:0,kind:"NgModule",type:e});o=n.compileNgModule(Rv,`ng:///${e.name}/mod.js`,{type:e,bootstrap:Mr(t.bootstrap||ae).map(d),declarations:r.map(d),imports:Mr(t.imports||ae).map(d).map(ty),exports:Mr(t.exports||ae).map(d).map(ty),schemas:t.schemas?Mr(t.schemas):null,id:t.id||null}),o.schemas||(o.schemas=[])}return o}});let i=null;Object.defineProperty(e,pe,{get:()=>{if(null===i){const t=br({usage:0,kind:"NgModule",type:e});i=t.compileFactory(Rv,`ng:///${e.name}/fac.js`,{name:e.name,type:e,deps:no(e),target:t.FactoryTarget.NgModule,typeArgumentCount:0})}return i},configurable:!!ngDevMode});let s=null;Object.defineProperty(e,U,{get:()=>{if(null===s){ngDevMode&&zv(e,n);const r={name:e.name,type:e,providers:t.providers||ae,imports:[(t.imports||ae).map(d),(t.exports||ae).map(d)]},o=br({usage:0,kind:"NgModule",type:e});s=o.compileInjector(Rv,`ng:///${e.name}/inj.js`,r)}return s},configurable:!!ngDevMode})}function zv(e,t,n){if(Jv.get(e))return;let r;if(Jv.set(e,!0),e=d(e),n){if(r=Ie(e),!r)throw new Error(`Unexpected value '${e.name}' imported by the module '${n.name}'. Please add an @NgModule annotation.`)}else r=Ie(e,!0);const o=[],i=Bi(r.declarations),s=Bi(r.imports);Mr(s).map(qv).forEach((t=>{f(t,e),zv(t,!1,e)}));const u=Bi(r.exports);i.forEach((function(t){De(t=d(t))||Se(t)||Ee(t)||o.push(`Unexpected value '${y(t)}' declared by the module '${y(e)}'. Please add a @Pipe/@Directive/@Component annotation.`)})),i.forEach((function(e){const t=Se(e=d(e));!De(e)&&t&&0==t.selectors.length&&o.push(`Directive ${y(e)} has no selector, please add it!`)}));const a=[...i.map(d),...Mr(s.map(Qv)).map(d)];u.forEach((function(t){const n=(De(t=d(t))?"component":Se(t)&&"directive")||Ee(t)&&"pipe";n&&-1===a.lastIndexOf(t)&&o.push(`Can't export ${n} ${y(t)} from ${y(e)} as it was neither declared nor imported!`)})),i.forEach((n=>function(t,n){t=d(t);const r=Gv.get(t);if(r&&r!==e){if(!n){const n=[r,e].map(y).sort();o.push(`Type ${y(t)} is part of the declarations of 2 modules: ${n[0]} and ${n[1]}! Please consider moving ${y(t)} to a higher module that imports ${n[0]} and ${n[1]}. You can also create a new NgModule that exports and includes ${y(t)} then import that NgModule in ${n[0]} and ${n[1]}.`)}}else Gv.set(t,e)}(n,t))),i.forEach((function(e){if(De(e=d(e))){const t=Kv(e,"Component");t&&t.entryComponents&&Cr(t.entryComponents,l)}}));const c=Kv(e,"NgModule");if(c&&(c.imports&&Mr(c.imports).map(qv).forEach((t=>{f(t,e),zv(t,!1,e)})),c.bootstrap&&Cr(c.bootstrap,(function(e){De(e=d(e))||o.push(`${y(e)} cannot be used as an entry component.`)})),c.bootstrap&&Cr(c.bootstrap,l),c.entryComponents&&Cr(c.entryComponents,l)),o.length)throw new Error(o.join("\n"));function l(e){e=d(e),Gv.get(e)||o.push(`Component ${y(e)} is not part of any NgModule or the module has not been imported into your module.`)}function f(e,t){if(De(e=d(e))||Se(e))throw new Error(`Unexpected directive '${e.name}' imported by the module '${t.name}'. Please add an @NgModule annotation.`);if(Ee(e))throw new Error(`Unexpected pipe '${e.name}' imported by the module '${t.name}'. Please add an @NgModule annotation.`)}}function qv(e){return(e=d(e)).ngModule||e}function Kv(e,t){let n=null;return r(e.__annotations__),r(e.decorators),n;function r(e){e&&e.forEach(o)}function o(e){n||(Object.getPrototypeOf(e).ngMetadataName==t?n=e:e.type&&Object.getPrototypeOf(e.type).ngMetadataName==t&&(n=e.args[0]))}}let Gv=new WeakMap,Jv=new WeakMap;function Zv(){Gv=new WeakMap,Jv=new WeakMap,Lv.length=0}function Qv(e){return[...Mr(Bi(Ie(e=d(e),!0).exports).map((e=>Ie(e)?(zv(e,!1),Qv(e)):e)))]}function Yv(e,t){const n=Mr(t.declarations||ae),r=ey(e);n.forEach((t=>{t.hasOwnProperty(ce)?Xv(De(t),r):t.hasOwnProperty(le)||t.hasOwnProperty(de)||(t.ngSelectorScope=e)}))}function Xv(e,t){e.directiveDefs=()=>Array.from(t.compilation.directives).map((e=>e.hasOwnProperty(ce)?De(e):Se(e))).filter((e=>!!e)),e.pipeDefs=()=>Array.from(t.compilation.pipes).map((e=>Ee(e))),e.schemas=t.schemas,e.tView=null}function ey(e){if(!ny(e))throw new Error(`${e.name} does not have a module def (mod property)`);const t=Ie(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;const n={schemas:t.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Bi(t.imports).forEach((e=>{const t=e;if(!ny(t))throw new Error(`Importing ${t.name} which does not have a mod property`);const r=ey(t);r.exported.directives.forEach((e=>n.compilation.directives.add(e))),r.exported.pipes.forEach((e=>n.compilation.pipes.add(e)))})),Bi(t.declarations).forEach((e=>{Ee(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)})),Bi(t.exports).forEach((e=>{const t=e;if(ny(t)){const e=ey(t);e.exported.directives.forEach((e=>{n.compilation.directives.add(e),n.exported.directives.add(e)})),e.exported.pipes.forEach((e=>{n.compilation.pipes.add(e),n.exported.pipes.add(e)}))}else Ee(t)?n.exported.pipes.add(t):n.exported.directives.add(t)})),t.transitiveCompileScopes=n,n}function ty(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function ny(e){return!!Ie(e)}let ry=0;function oy(e,t){("undefined"==typeof ngDevMode||ngDevMode)&&se();let n=null;!function(e,t){uo(t)&&(io.set(e,t),so.add(e))}(e,t),uy(e,t),Object.defineProperty(e,ce,{get:()=>{if(null===n){const r=br({usage:0,kind:"component",type:e});if(uo(t)){const n=[`Component '${e.name}' is not resolved:`];throw t.templateUrl&&n.push(` - templateUrl: ${t.templateUrl}`),t.styleUrls&&t.styleUrls.length&&n.push(` - styleUrls: ${JSON.stringify(t.styleUrls)}`),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const o=Fv;let i=t.preserveWhitespaces;void 0===i&&(i=null!==o&&void 0!==o.preserveWhitespaces&&o.preserveWhitespaces);let s=t.encapsulation;void 0===s&&(s=null!==o&&void 0!==o.defaultEncapsulation?o.defaultEncapsulation:X.Emulated);const u=t.templateUrl||`ng:///${e.name}/template.html`,a=Object.assign(Object.assign({},cy(e,t)),{typeSourceSpan:r.createParseSourceSpan("Component",e.name,u),template:t.template||"",preserveWhitespaces:i,styles:t.styles||ae,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:s,interpolation:t.interpolation,viewProviders:t.viewProviders||null});ry++;try{a.usesInheritance&&ly(e),n=r.compileComponent(Rv,u,a)}finally{ry--}if(0===ry&&Hv(),void 0!==e.ngSelectorScope){const t=ey(e.ngSelectorScope);Xv(n,t)}}return n},configurable:!!ngDevMode})}function iy(e,t){let n=null;uy(e,t||{}),Object.defineProperty(e,le,{get:()=>{if(null===n){const r=sy(e,t||{}),o=br({usage:0,kind:"directive",type:e});n=o.compileDirective(Rv,r.sourceMapUrl,r.metadata)}return n},configurable:!!ngDevMode})}function sy(e,t){const n=e&&e.name,r=`ng:///${n}/dir.js`,o=br({usage:0,kind:"directive",type:e}),i=cy(e,t);return i.typeSourceSpan=o.createParseSourceSpan("Directive",n,r),i.usesInheritance&&ly(e),{metadata:i,sourceMapUrl:r}}function uy(e,t){let n=null;Object.defineProperty(e,pe,{get:()=>{if(null===n){const r=sy(e,t),o=br({usage:0,kind:"directive",type:e});n=o.compileFactory(Rv,`ng:///${e.name}/fac.js`,{name:r.metadata.name,type:r.metadata.type,typeArgumentCount:0,deps:no(e),target:o.FactoryTarget.Directive})}return n},configurable:!!ngDevMode})}function ay(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function cy(e,t){const n=to(),r=n.ownPropMetadata(e);return{name:e.name,type:e,selector:void 0!==t.selector?t.selector:null,host:t.host||ue,propMetadata:r,inputs:t.inputs||ae,outputs:t.outputs||ae,queries:fy(e,r,py),lifecycle:{usesOnChanges:n.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!ay(e),exportAs:(o=t.exportAs,void 0===o?null:yy(o)),providers:t.providers||null,viewQueries:fy(e,r,hy)};var o}function ly(e){const t=Object.prototype;let n=Object.getPrototypeOf(e.prototype).constructor;for(;n&&n!==t;)Se(n)||De(n)||!my(n)||iy(n,null),n=Object.getPrototypeOf(n)}function dy(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?yy(n):d(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static,emitDistinctChangesOnly:!!t.emitDistinctChangesOnly};var n}function fy(e,t,n){const r=[];for(const o in t)if(t.hasOwnProperty(o)){const i=t[o];i.forEach((t=>{if(n(t)){if(!t.selector)throw new Error(`Can't construct a query for the property "${o}" of "${y(e)}" since the query selector wasn't defined.`);if(i.some(vy))throw new Error("Cannot combine @Input decorators with query decorators");r.push(dy(o,t))}}))}return r}function py(e){const t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function hy(e){const t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function vy(e){return"Input"===e.ngMetadataName}function yy(e){return e.split(",").map((e=>e.trim()))}const gy=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function my(e){const t=to();if(gy.some((n=>t.hasLifecycleHook(e,n))))return!0;const n=t.propMetadata(e);for(const e in n){const t=n[e];for(let e=0;e<t.length;e++){const n=t[e],r=n.ngMetadataName;if(vy(n)||py(n)||hy(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}function by(e,t){let n=null,r=null;Object.defineProperty(e,pe,{get:()=>{if(null===r){const n=_y(e,t),o=br({usage:0,kind:"pipe",type:n.type});r=o.compileFactory(Rv,`ng:///${n.name}/fac.js`,{name:n.name,type:n.type,typeArgumentCount:0,deps:no(e),target:o.FactoryTarget.Pipe})}return r},configurable:!!ngDevMode}),Object.defineProperty(e,de,{get:()=>{if(null===n){const r=_y(e,t),o=br({usage:0,kind:"pipe",type:r.type});n=o.compilePipe(Rv,`ng:///${r.name}/pipe.js`,r)}return n},configurable:!!ngDevMode})}function _y(e,t){return{type:e,name:e.name,pipeName:t.name,pure:void 0===t.pure||t.pure}}const wy=ir("Directive",((e={})=>e),void 0,void 0,((e,t)=>iy(e,t))),My=ir("Component",((e={})=>Object.assign({changeDetection:Q.Default},e)),wy,void 0,((e,t)=>oy(e,t))),Cy=ir("Pipe",(e=>Object.assign({pure:!0},e)),void 0,void 0,((e,t)=>by(e,t))),Oy=ar("Input",(e=>({bindingPropertyName:e}))),xy=ar("Output",(e=>({bindingPropertyName:e}))),Dy=ar("HostBinding",(e=>({hostPropertyName:e}))),Sy=ar("HostListener",((e,t)=>({eventName:e,args:t}))),Ey=ir("NgModule",(e=>e),void 0,void 0,((e,t)=>Uv(e,t)));function Iy(...e){}const Py=new lr("Application Initializer");class jy{constructor(e){this.appInits=e,this.resolve=Iy,this.reject=Iy,this.initialized=!1,this.done=!1,this.donePromise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let t=0;t<this.appInits.length;t++){const n=this.appInits[t]();if(Bl(n))e.push(n);else if(Wl(n)){const t=new Promise(((e,t)=>{n.subscribe({complete:e,error:t})}));e.push(t)}}Promise.all(e).then((()=>{t()})).catch((e=>{this.reject(e)})),0===e.length&&t(),this.initialized=!0}}jy.fac=function(e){return new(e||jy)(Wr(Py,8))},jy.prov=R({token:jy,factory:jy.fac}),("undefined"==typeof ngDevMode||ngDevMode)&&Dh(jy,[{type:cl}],(function(){return[{type:void 0,decorators:[{type:Jr,args:[Py]},{type:Zr}]}]}),null);const Ty=new lr("AppId"),Ay={provide:Ty,useFactory:function(){return`${ky()}${ky()}${ky()}`},deps:[]};function ky(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ny=new lr("Platform Initializer"),Ry=new lr("Platform ID"),Fy=new lr("appBootstrapListener"),Vy=new lr("Application Packages Root URL");class Ly{log(e){console.log(e)}warn(e){console.warn(e)}}Ly.fac=function(e){return new(e||Ly)},Ly.prov=R({token:Ly,factory:Ly.fac}),("undefined"==typeof ngDevMode||ngDevMode)&&Dh(Ly,[{type:cl}],null,null);const $y=new lr("LocaleId"),Hy=new lr("DefaultCurrencyCode"),By=new lr("Translations"),Uy=new lr("TranslationsFormat");var Wy;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore"}(Wy||(Wy={}));class zy{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}class qy{compileModuleSync(e){return new kh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const t=this.compileModuleSync(e),n=Bi(Ie(e).declarations).reduce(((e,t)=>{const n=De(t);return n&&e.push(new Oh(n)),e}),[]);return new zy(t,n)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}qy.fac=function(e){return new(e||qy)},qy.prov=R({token:qy,factory:qy.fac}),("undefined"==typeof ngDevMode||ngDevMode)&&Dh(qy,[{type:cl}],null,null);const Ky=new lr("compilerOptions");class Gy{}const Jy=Promise.resolve(0);function Zy(e){"undefined"==typeof Zone?Jy.then((()=>{e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Qy{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sv(!1),this.onMicrotaskEmpty=new sv(!1),this.onStable=new sv(!1),this.onError=new sv(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=ie.requestAnimationFrame,t=ie.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ie,(()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(()=>{e.lastRequestAnimationFrameId=-1,eg(e),e.isCheckStableRunning=!0,Xy(e),e.isCheckStableRunning=!1}),void 0,(()=>{}),(()=>{}))),e.fakeTopEventTask.invoke()})),eg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,u)=>{try{return tg(e),n.invokeTask(o,i,s,u)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),ng(e)}},onInvoke:(n,r,o,i,s,u,a)=>{try{return tg(e),n.invoke(o,i,s,u,a)}finally{e.shouldCoalesceRunChangeDetection&&t(),ng(e)}},onHasTask:(t,n,r,o)=>{t.hasTask(r,o),n===r&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,eg(e),Xy(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,n,r,o)=>(t.handleError(r,o),e.runOutsideAngular((()=>e.onError.emit(o))),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qy.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qy.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+r,e,Yy,Iy,Iy);try{return o.runTask(i,t,n)}finally{o.cancelTask(i)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Yy={};function Xy(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((()=>e.onStable.emit(null)))}finally{e.isStable=!0}}}function eg(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function tg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ng(e){e._nesting--,Xy(e)}class rg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sv,this.onMicrotaskEmpty=new sv,this.onStable=new sv,this.onError=new sv}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}class og{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular((()=>{this._ngZone.onStable.subscribe({next:()=>{Qy.assertNotInAngularZone(),Zy((()=>{this._isZoneStable=!0,this._runCallbacksIfReady()}))}})}))}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zy((()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1}));else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter((t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1))),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((e=>({source:e.source,creationLocation:e.creationLocation,data:e.data}))):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout((()=>{this._callbacks=this._callbacks.filter((e=>e.timeoutId!==r)),e(this._didWork,this.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}og.fac=function(e){return new(e||og)(Wr(Qy))},og.prov=R({token:og,factory:og.fac}),("undefined"==typeof ngDevMode||ngDevMode)&&Dh(og,[{type:cl}],(function(){return[{type:Qy}]}),null);class ig{constructor(){this._applications=new Map,ag.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return ag.findTestabilityInTree(this,e,t)}}function sg(e){ag=e}ig.fac=function(e){return new(e||ig)},ig.prov=R({token:ig,factory:ig.fac}),("undefined"==typeof ngDevMode||ngDevMode)&&Dh(ig,[{type:cl}],(function(){return[]}),null);let ug,ag=new class{addToWindow(e){}findTestabilityInTree(e,t,n){return null}};function cg(e,t,n){ngDevMode&&function(e,t="Type passed in is not NgModuleType, it does not have 'mod' property."){Ie(e)||T(t)}(n);const r=new kh(n);if("undefined"!=typeof ngJitMode&&!ngJitMode)return Promise.resolve(r);const o=e.get(Ky,[]).concat(t);if(function(e){if(null!==Fv){if(e.defaultEncapsulation!==Fv.defaultEncapsulation)return void(ngDevMode&&console.error("Provided value for `defaultEncapsulation` can not be changed once it has been set."));if(e.preserveWhitespaces!==Fv.preserveWhitespaces)return void(ngDevMode&&console.error("Provided value for `preserveWhitespaces` can not be changed once it has been set."))}Fv=e}({defaultEncapsulation:Mg(o.map((e=>e.defaultEncapsulation))),preserveWhitespaces:Mg(o.map((e=>e.preserveWhitespaces)))}),0===io.size)return Promise.resolve(r);const i=function(e){const t=[];return e.forEach((e=>e&&t.push(...e))),t}(o.map((e=>e.providers)));if(0===i.length)return Promise.resolve(r);const s=br({usage:0,kind:"NgModule",type:n}),u=Ja.create({providers:i}).get(s.ResourceLoader);return oo((e=>Promise.resolve(u.get(e)))).then((()=>r))}function lg(e){return e.isBoundToModule}const dg=new lr("AllowMultipleToken");class fg{constructor(e,t){this.name=e,this.token=t}}function pg(e){if(ug&&!ug.destroyed&&!ug.injector.get(dg,!1)){const e="undefined"==typeof ngDevMode||ngDevMode?"There can be only one platform. Destroy the previous one to create a new one.":"";throw new p(400,e)}ngDevMode&&cc(),ug=e.get(mg);const t=e.get(Ny,null);return t&&t.forEach((e=>e())),ug}function hg(e,t,n=[]){const r=`Platform: ${t}`,o=new lr(r);return(t=[])=>{let i=gg();if(!i||i.injector.get(dg,!1))if(e)e(n.concat(t).concat({provide:o,useValue:!0}));else{const e=n.concat(t).concat({provide:o,useValue:!0},{provide:Ra,useValue:"platform"});pg(Ja.create({providers:e,name:r}))}return vg(o)}}function vg(e){const t=gg();if(!t){const e="undefined"==typeof ngDevMode||ngDevMode?"No platform exists!":"";throw new p(401,e)}if(("undefined"==typeof ngDevMode||ngDevMode)&&!t.injector.get(e,null))throw new p(400,"A platform with a different configuration has been created. Please destroy it first.");return t}function yg(){ug&&!ug.destroyed&&ug.destroy()}function gg(){return ug&&!ug.destroyed?ug:null}class mg{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new rg:("zone.js"===e?void 0:e)||new Qy({enableLongStackTrace:"undefined"!=typeof ngDevMode&&!!ngDevMode,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:Qy,useValue:n}];return n.run((()=>{const t=Ja.create({providers:r,parent:this.injector,name:e.moduleType.name}),o=e.create(t),i=o.injector.get(Pi,null);if(!i){const e="undefined"==typeof ngDevMode||ngDevMode?"No ErrorHandler. Is platform module (BrowserModule) included?":"";throw new p(402,e)}return n.runOutsideAngular((()=>{const e=n.onError.subscribe({next:e=>{i.handleError(e)}});o.onDestroy((()=>{wg(this._modules,o),e.unsubscribe()}))})),function(e,t,n){try{const r=n();return Bl(r)?r.catch((n=>{throw t.runOutsideAngular((()=>e.handleError(n))),n})):r}catch(n){throw t.runOutsideAngular((()=>e.handleError(n))),n}}(i,n,(()=>{const e=o.injector.get(jy);return e.runInitializers(),e.donePromise.then((()=>(Bf(o.injector.get($y,Ff)||Ff),this._moduleDoBootstrap(o),o)))}))}))}bootstrapModule(e,t=[]){const n=bg({},t);return cg(this.injector,n,e).then((e=>this.bootstrapModuleFactory(e,n)))}_moduleDoBootstrap(e){const t=e.injector.get(_g);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((e=>t.bootstrap(e)));else{if(!e.instance.ngDoBootstrap){const t="undefined"==typeof ngDevMode||ngDevMode?`The module ${u(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`:"";throw new p(403,t)}e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed){const e="undefined"==typeof ngDevMode||ngDevMode?"The platform has already been destroyed!":"";throw new p(404,e)}this._modules.slice().forEach((e=>e.destroy())),this._destroyListeners.forEach((e=>e())),this._destroyed=!0}get destroyed(){return this._destroyed}}function bg(e,t){return Array.isArray(t)?t.reduce(bg,e):Object.assign(Object.assign({},e),t)}mg.fac=function(e){return new(e||mg)(Wr(Ja))},mg.prov=R({token:mg,factory:mg.fac}),("undefined"==typeof ngDevMode||ngDevMode)&&Dh(mg,[{type:cl}],(function(){return[{type:Ja}]}),null);class _g{constructor(e,t,n,i,s){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run((()=>{this.tick()}))}});const u=new r.Observable((e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular((()=>{e.next(this._stable),e.complete()}))})),a=new r.Observable((e=>{let t;this._zone.runOutsideAngular((()=>{t=this._zone.onStable.subscribe((()=>{Qy.assertNotInAngularZone(),Zy((()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))}))}))}));const n=this._zone.onUnstable.subscribe((()=>{Qy.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular((()=>{e.next(!1)})))}));return()=>{t.unsubscribe(),n.unsubscribe()}}));this.isStable=(0,r.merge)(u,a.pipe((0,o.BN)()))}bootstrap(e,t){if(!this._initStatus.done){const e="undefined"==typeof ngDevMode||ngDevMode?"Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.":"";throw new p(405,e)}let n;n=e instanceof sh?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=lg(n)?void 0:this._injector.get(Sh),o=t||n.selector,i=n.create(Ja.NULL,[],o,r),s=i.location.nativeElement,u=i.injector.get(og,null),a=u&&i.injector.get(ig);return u&&a&&a.registerApplication(s,u),i.onDestroy((()=>{this.detachView(i.hostView),wg(this.components,i),a&&a.unregisterApplication(s)})),this._loadComponent(i),("undefined"==typeof ngDevMode||ngDevMode)&&this._injector.get(Ly).log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick){const e="undefined"==typeof ngDevMode||ngDevMode?"ApplicationRef.tick is called recursively":"";throw new p(101,e)}try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if("undefined"==typeof ngDevMode||ngDevMode)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular((()=>this._exceptionHandler.handleError(e)))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;wg(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Fy,[]).concat(this._bootstrapListeners).forEach((t=>t(e)))}ngOnDestroy(){this._views.slice().forEach((e=>e.destroy())),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}function wg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Mg(e){for(let t=e.length-1;t>=0;t--)if(void 0!==e[t])return e[t]}_g.fac=function(e){return new(e||_g)(Wr(Qy),Wr(Ja),Wr(Pi),Wr(ah),Wr(jy))},_g.prov=R({token:_g,factory:_g.fac}),("undefined"==typeof ngDevMode||ngDevMode)&&Dh(_g,[{type:cl}],(function(){return[{type:Qy},{type:Ja},{type:Pi},{type:ah},{type:jy}]}),null);let Cg=!0,Og=!1;function xg(){return Og=!0,Cg}function Dg(){if(Og)throw new Error("Cannot enable prod mode after platform setup.");(void 0===typeof ngDevMode||ngDevMode)&&(ie.ngDevMode=!1),Cg=!1}function Sg(e){const t=jh(e);if(!t)throw Ig(e);return new kh(t)}function Eg(e){const t=jh(e);if(!t)throw Ig(e);return t}function Ig(e){return new Error(`No module with ID ${e} loaded`)}class Pg{}function jg(e){return function(e,t,n){if(Re(e)&&!n){const n=Ct(e.index,t);return new bh(n,n)}if(47&e.type){const e=t[16];return new bh(e,t)}return null}(Rt(),At(),16==(16&e))}Pg.__NG_ELEMENT_ID__=jg;class Tg extends Pg{}class Ag extends Tg{}class kg{constructor(e,t){this.name=e,this.callback=t}}function Ng(e){return e.map((e=>e.nativeElement))}class Rg{constructor(e){this.nativeNode=e}get parent(){const e=this.nativeNode.parentNode;return e?new Fg(e):null}get injector(){return ec(this.nativeNode)}get componentInstance(){const e=this.nativeNode;return e&&(Za(e)||Ya(e))}get context(){return Za(this.nativeNode)||Qa(this.nativeNode)}get listeners(){return oc(this.nativeNode).filter((e=>"dom"===e.type))}get references(){return function(e){const t=mi(e);return null===t?{}:(void 0===t.localRefs&&(t.localRefs=function(e,t){const n=e[1].data[t];if(n&&n.localNames){const t={};let r=n.index+1;for(let o=0;o<n.localNames.length;o+=2)t[n.localNames[o]]=e[r],r++;return t}return null}(t.lView,t.nodeIndex)),t.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(e){const t=mi(e);if(null===t)return[];const n=t.lView[1],r=n.data[t.nodeIndex],o=[],i=1048575&r.providerIndexes,s=r.directiveEnd;for(let e=i;e<s;e++){let t=n.data[e];void 0!==(u=t).type&&void 0!==u.template&&void 0!==u.declaredInputs&&(t=t.type),o.push(t)}var u;return o}(this.nativeNode)}}class Fg extends Rg{constructor(e){ngDevMode&&A(e),super(e)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const e=mi(this.nativeNode);return null!==e?e.lView[1].data[e.nodeIndex].value:this.nativeNode.nodeName}get properties(){const e=mi(this.nativeNode);if(null===e)return{};const t=e.lView,n=t[1].data,r=n[e.nodeIndex],o={};return function(e,t){if(e){let n=Object.getPrototypeOf(e);const r=Node.prototype;for(;null!==n&&n!==r;){const r=Object.getOwnPropertyDescriptors(n);for(let n in r)if(!n.startsWith("__")&&!n.startsWith("on")){const r=e[n];Vg(r)&&(t[n]=r)}n=Object.getPrototypeOf(n)}}}(this.nativeElement,o),function(e,t,n,r){let o=t.propertyBindings;if(null!==o)for(let t=0;t<o.length;t++){const i=o[t],s=r[i].split(Hi),u=s[0];if(s.length>1){let t=s[1];for(let e=1;e<s.length-1;e++)t+=v(n[i+e-1])+s[e+1];e[u]=t}else e[u]=n[i]}}(o,r,t,n),o}get attributes(){const e={},t=this.nativeElement;if(!t)return e;const n=mi(t);if(null===n)return{};const r=n.lView[1].data[n.nodeIndex].attrs,o=[];if(r){let t=0;for(;t<r.length;){const n=r[t];if("string"!=typeof n)break;const i=r[t+1];e[n]=i,o.push(n.toLowerCase()),t+=2}}const i=t.attributes;for(let t=0;t<i.length;t++){const n=i[t],r=n.name.toLowerCase();-1===o.indexOf(r)&&(e[r]=n.value)}return e}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const e={},t=this.nativeElement.className;return("string"!=typeof t?t.baseVal.split(" "):t.split(" ")).forEach((t=>e[t]=!0)),e}get childNodes(){const e=this.nativeNode.childNodes,t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(Wg(r))}return t}get children(){const e=this.nativeElement;if(!e)return[];const t=e.children,n=[];for(let e=0;e<t.length;e++){const r=t[e];n.push(Wg(r))}return n}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return Lg(this,e,t,!0),t}queryAllNodes(e){const t=[];return Lg(this,e,t,!1),t}triggerEventHandler(e,t){const n=this.nativeNode,r=[];this.listeners.forEach((o=>{if(o.name===e){const e=o.callback;e.call(n,t),r.push(e)}})),"function"==typeof n.eventListeners&&n.eventListeners(e).forEach((e=>{if(-1!==e.toString().indexOf("__ngUnwrap__")){const o=e("__ngUnwrap__");return-1===r.indexOf(o)&&o.call(n,t)}}))}}function Vg(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e}function Lg(e,t,n,r){const o=mi(e.nativeNode);null!==o?$g(o.lView[1].data[o.nodeIndex],o.lView,t,n,r,e.nativeNode):Ug(e.nativeNode,t,n,r)}function $g(e,t,n,r,o,i){ngDevMode&&Le(e,t);const s=function(e,t){const n=null===e?-1:e.index;if(-1!==n){ngDevMode&&Le(e,t);const r=mt(t[n]);return ngDevMode&&null!==r&&!yt(t[11])&&A(r),r}return null}(e,t);if(11&e.type){if(Bg(s,n,r,o,i),Re(e)){const s=Ct(e.index,t);s&&s[1].firstChild&&$g(s[1].firstChild,s,n,r,o,i)}else e.child&&$g(e.child,t,n,r,o,i),s&&Ug(s,n,r,o);const u=t[e.index];ke(u)&&Hg(u,n,r,o,i)}else if(4&e.type){const s=t[e.index];Bg(s[7],n,r,o,i),Hg(s,n,r,o,i)}else if(16&e.type){const s=t[16],u=s[6].projection[e.projection];if(Array.isArray(u))for(let e of u)Bg(e,n,r,o,i);else if(u){const e=s[3];$g(e[1].data[u.index],e,n,r,o,i)}}else e.child&&$g(e.child,t,n,r,o,i);if(i!==s){const s=4&e.flags?e.projectionNext:e.next;s&&$g(s,t,n,r,o,i)}}function Hg(e,t,n,r,o){for(let i=Pe;i<e.length;i++){const s=e[i],u=s[1].firstChild;u&&$g(u,s,t,n,r,o)}}function Bg(e,t,n,r,o){if(o!==e){const o=Wg(e);if(!o)return;(r&&o instanceof Fg&&t(o)&&-1===n.indexOf(o)||!r&&t(o)&&-1===n.indexOf(o))&&n.push(o)}}function Ug(e,t,n,r){const o=e.childNodes,i=o.length;for(let e=0;e<i;e++){const i=o[e],s=Wg(i);s&&((r&&s instanceof Fg&&t(s)&&-1===n.indexOf(s)||!r&&t(s)&&-1===n.indexOf(s))&&n.push(s),Ug(i,t,n,r))}}new Map;function Wg(e){return e instanceof Node?(e.hasOwnProperty("__ng_debug__")||(e.__ng_debug__=e.nodeType==Node.ELEMENT_NODE?new Fg(e):new Rg(e)),e.__ng_debug__):null}function zg(e){return null}class qg{constructor(){}supports(e){return Ic(e)}create(e){return new Gg(e)}}const Kg=(e,t)=>t;class Gg{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Kg}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,o=null;for(;t||n;){const i=!n||t&&t.currentIndex<Yg(n,r,o)?t:n,s=Yg(i,r,o),u=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)r++;else{o||(o=[]);const e=s-r,t=u-r;if(e!=t){for(let n=0;n<e;n++){const r=n<o.length?o[n]:o[n]=0,i=r+n;t<=i&&i<e&&(o[n]=r+1)}o[i.previousIndex]=t-e}}s!==u&&e(i,s,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ic(e)){const t="undefined"==typeof ngDevMode||ngDevMode?`Error trying to diff '${u(e)}'. Only arrays and iterables are allowed`:"";throw new p(900,t)}return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,o=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==o&&Object.is(o.trackById,r)?(i&&(o=this._verifyReinsertion(o,n,r,t)),Object.is(o.item,n)||this._addIdentityChange(o,n)):(o=this._mismatch(o,n,r,t),i=!0),o=o._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Sc()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,(e=>{r=this._trackByFn(t,e),null!==o&&Object.is(o.trackById,r)?(i&&(o=this._verifyReinsertion(o,e,r,t)),Object.is(o.item,e)||this._addIdentityChange(o,e)):(o=this._mismatch(o,e,r,t),i=!0),o=o._next,t++})),this.length=t;return this._truncate(o),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new Jg(t,n),o,r),e}_verifyReinsertion(e,t,n,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Qg),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qg),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}}class Jg{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zg{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Qg{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Zg,this.map.set(t,n)),n.add(e)}get(e,t){const n=e,r=this.map.get(n);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yg(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class Xg{constructor(){}supports(e){return e instanceof Map||Pc(e)}create(){return new em}}class em{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Pc(e))){const t="undefined"==typeof ngDevMode||ngDevMode?`Error trying to diff '${u(e)}'. Only maps and objects are allowed`:"";throw new p(900,t)}}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,((e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}})),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}const n=new tm(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((n=>t(e[n],n)))}}class tm{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nm(){return new rm([new qg])}class rm{constructor(e){this.factories=e}static create(e,t){if(null!=t){const n=t.factories.slice();e=e.concat(n)}return new rm(e)}static extend(e){return{provide:rm,useFactory:t=>rm.create(e,t||nm()),deps:[[rm,new Yr,new Zr]]}}find(e){const t=this.factories.find((t=>t.supports(e)));if(null!=t)return t;{const t="undefined"==typeof ngDevMode||ngDevMode?`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`:"";throw new p(901,t)}var n}}function om(){return new im([new Xg])}rm.prov=R({token:rm,providedIn:"root",factory:nm});class im{constructor(e){this.factories=e}static create(e,t){if(t){const n=t.factories.slice();e=e.concat(n)}return new im(e)}static extend(e){return{provide:im,useFactory:t=>im.create(e,t||om()),deps:[[im,new Yr,new Zr]]}}find(e){const t=this.factories.find((t=>t.supports(e)));if(t)return t;const n="undefined"==typeof ngDevMode||ngDevMode?`Cannot find a differ supporting object '${e}'`:"";throw new p(901,n)}}im.prov=R({token:im,providedIn:"root",factory:om});const sm=[new Xg],um=[new qg],am=new rm(um),cm=new im(sm),lm=hg(null,"core",[{provide:Ry,useValue:"unknown"},{provide:mg,deps:[Ja]},{provide:ig,deps:[]},{provide:Ly,deps:[]}]),dm=[{provide:_g,useClass:_g,deps:[Qy,Ja,Pi,ah,jy]},{provide:Ch,deps:[Qy],useFactory:function(e){let t=[];return e.onStable.subscribe((()=>{for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:jy,useClass:jy,deps:[[new Zr,Py]]},{provide:qy,useClass:qy,deps:[]},Ay,{provide:rm,useFactory:function(){return am},deps:[]},{provide:im,useFactory:function(){return cm},deps:[]},{provide:$y,useFactory:function(e){return e||("undefined"!=typeof ngI18nClosureMode&&ngI18nClosureMode&&"undefined"!=typeof goog&&"en"!==goog.getLocale()?goog.getLocale():"undefined"!=typeof $localize&&$localize.locale||Ff)},deps:[[new Jr($y),new Zr,new Yr]]},{provide:Hy,useValue:"USD"}];class fm{constructor(e){}}fm.fac=function(e){return new(e||fm)(Wr(_g))},fm.mod=we({type:fm}),fm.inj=V({providers:dm}),("undefined"==typeof ngDevMode||ngDevMode)&&Dh(fm,[{type:Ey,args:[{providers:dm}]}],(function(){return[{type:_g}]}),null);const pm=!0;function hm(e){return br({usage:1,kind:"directive",type:e.type}).compileDirectiveDeclaration(Rv,`ng:///${e.type.name}/fac.js`,e)}function vm(e){var t,n;Dh(e.type,e.decorators,null!==(t=e.ctorParameters)&&void 0!==t?t:null,null!==(n=e.propDecorators)&&void 0!==n?n:null)}function ym(e){return br({usage:1,kind:"component",type:e.type}).compileComponentDeclaration(Rv,`ng:///${e.type.name}/cmp.js`,e)}function gm(e){return br({usage:1,kind:mm(e.target),type:e.type}).compileFactoryDeclaration(Rv,`ng:///${e.type.name}/fac.js`,e)}function mm(e){switch(e){case gr.Directive:return"directive";case gr.Component:return"component";case gr.Injectable:return"injectable";case gr.Pipe:return"pipe";case gr.NgModule:return"NgModule"}}function bm(e){return br({usage:1,kind:"injectable",type:e.type}).compileInjectableDeclaration(Rv,`ng:///${e.type.name}/prov.js`,e)}function _m(e){return br({usage:1,kind:"NgModule",type:e.type}).compileInjectorDeclaration(Rv,`ng:///${e.type.name}/inj.js`,e)}function wm(e){return br({usage:1,kind:"NgModule",type:e.type}).compileNgModuleDeclaration(Rv,`ng:///${e.type.name}/mod.js`,e)}function Mm(e){return br({usage:1,kind:"pipe",type:e.type}).compilePipeDeclaration(Rv,`ng:///${e.type.name}/pipe.js`,e)}"undefined"!=typeof ngDevMode&&ngDevMode&&(ie.$localize=ie.$localize||function(){throw new Error("It looks like your application or one of its dependencies is using i18n.\nAngular 9 introduced a global `$localize()` function that needs to be loaded.\nPlease run `ng add @angular/localize` from the Angular CLI.\n(For non-CLI projects, add `import '@angular/localize/init';` to your `polyfills.ts` file.\nFor server-side rendering applications add the import to your `main.server.ts` file.)")})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.signCredential=e.signProofObject=e.signCredentialObject=e.validCredentialsTrustedPartiesFunc=e.validCredentialsFunc=e.userCredentialSignatureWrong=e.knownAddressesContains=e.issuerCredentialSignatureWrong=e.reOrderProofObject=e.getSha3Key=e.getKeyPurpose=e.didContractKeyWrong=e.calculateMinutesDifference=e.ProofmeUtilsProvider=e.WebRtcProvider=e.SignalingServer=void 0;var t=n(2582);Object.defineProperty(e,"SignalingServer",{enumerable:!0,get:function(){return t.SignalingServer}});var o=n(2733);Object.defineProperty(e,"WebRtcProvider",{enumerable:!0,get:function(){return o.WebRtcProvider}});var i=n(1015);Object.defineProperty(e,"ProofmeUtilsProvider",{enumerable:!0,get:function(){return i.ProofmeUtilsProvider}});var s=n(6168);Object.defineProperty(e,"calculateMinutesDifference",{enumerable:!0,get:function(){return s.calculateMinutesDifference}});var u=n(6168);Object.defineProperty(e,"didContractKeyWrong",{enumerable:!0,get:function(){return u.didContractKeyWrong}});var a=n(6168);Object.defineProperty(e,"getKeyPurpose",{enumerable:!0,get:function(){return a.getKeyPurpose}});var c=n(6168);Object.defineProperty(e,"getSha3Key",{enumerable:!0,get:function(){return c.getSha3Key}});var l=n(6168);Object.defineProperty(e,"reOrderProofObject",{enumerable:!0,get:function(){return l.reOrderProofObject}});var d=n(6168);Object.defineProperty(e,"issuerCredentialSignatureWrong",{enumerable:!0,get:function(){return d.issuerCredentialSignatureWrong}});var f=n(6168);Object.defineProperty(e,"knownAddressesContains",{enumerable:!0,get:function(){return f.knownAddressesContains}});var p=n(6168);Object.defineProperty(e,"userCredentialSignatureWrong",{enumerable:!0,get:function(){return p.userCredentialSignatureWrong}});var h=n(6168);Object.defineProperty(e,"validCredentialsFunc",{enumerable:!0,get:function(){return h.validCredentialsFunc}});var v=n(6168);Object.defineProperty(e,"validCredentialsTrustedPartiesFunc",{enumerable:!0,get:function(){return v.validCredentialsTrustedPartiesFunc}});var y=n(6168);Object.defineProperty(e,"signCredentialObject",{enumerable:!0,get:function(){return y.signCredentialObject}});var g=n(6168);Object.defineProperty(e,"signProofObject",{enumerable:!0,get:function(){return g.signProofObject}});var m=n(6168);Object.defineProperty(e,"signCredential",{enumerable:!0,get:function(){return m.signCredential}})})(),r})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvb2ZtZWlkLXdlYnJ0Yy1ub2RlLmpzIiwibWFwcGluZ3MiOiI7Q0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsSUFDUSxtQkFBWEcsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLEdBQUlILEdBQ2UsaUJBQVpDLFFBQ2RBLFFBQW1CLFVBQUlELElBRXZCRCxFQUFnQixVQUFJQyxJQVJ0QixDQVNHSyxRQUFRLFdBQ1gsb0RDVEEsSUFDUUMsRUFESkMsRUFBYUMsTUFBUUEsS0FBS0QsWUFDdEJELEVBQWdCLFNBQVVHLEVBQUdDLEdBSTdCLE9BSEFKLEVBQWdCSyxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssS0FDekZULEVBQWNHLEVBQUdDLElBRXJCLFNBQVVELEVBQUdDLEdBQ2hCLEdBQWlCLG1CQUFOQSxHQUEwQixPQUFOQSxFQUMzQixNQUFNLElBQUlTLFVBQVUsdUJBQXlCQyxPQUFPVixHQUFLLGlDQUU3RCxTQUFTVyxJQUFPYixLQUFLYyxZQUFjYixFQURuQ0gsRUFBY0csRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9ZLE9BQU9iLElBQU1XLEVBQUdMLFVBQVlOLEVBQUVNLFVBQVcsSUFBSUssS0FHdkZWLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFReUIsa0JBQWUsRUFDdkIsSUFDSUEsRUFBZ0IsU0FBVUMsR0FFMUIsU0FBU0QsSUFDTCxJQUFJRSxFQUFtQixPQUFYRCxHQUFtQkEsRUFBT0UsTUFBTXJCLEtBQU1zQixZQUFjdEIsS0FJaEUsT0FIQW9CLEVBQU1HLE9BQVMsS0FDZkgsRUFBTUksV0FBWSxFQUNsQkosRUFBTUssYUFBYyxFQUNiTCxFQTBCWCxPQWhDQXJCLEVBQVVtQixFQUFjQyxHQVF4QkQsRUFBYVYsVUFBVWtCLHdCQUEwQixTQUFVQyxHQUN2RCxJQUFJQyxFQUFLNUIsS0FBTTZCLEVBQVdELEVBQUdDLFNBQVVMLEVBQVlJLEVBQUdKLFVBQVdELEVBQVNLLEVBQUdMLE9BQVFPLEVBQWNGLEVBQUdFLFlBQWFDLEVBQVlILEVBQUdHLFVBQVdOLEVBQWNHLEVBQUdILFlBQzFKSSxFQUNBRixFQUFXSyxNQUFNRixJQUVaQyxHQUFhTixLQUNsQkQsR0FBYUcsRUFBV00sS0FBS1YsR0FDN0JJLEVBQVdPLGFBR25CaEIsRUFBYVYsVUFBVXlCLEtBQU8sU0FBVWhCLEdBQy9CakIsS0FBSytCLFlBQ04vQixLQUFLdUIsT0FBU04sRUFDZGpCLEtBQUt3QixXQUFZLElBR3pCTixFQUFhVixVQUFVMEIsU0FBVyxXQUM5QixJQUFJTixFQUFLNUIsS0FBTXdCLEVBQVlJLEVBQUdKLFVBQVdELEVBQVNLLEVBQUdMLE9BQXNCSyxFQUFHSCxjQUUxRXpCLEtBQUt5QixhQUFjLEVBQ25CRCxHQUFhTCxFQUFPWCxVQUFVeUIsS0FBS3ZCLEtBQUtWLEtBQU11QixHQUM5Q0osRUFBT1gsVUFBVTBCLFNBQVN4QixLQUFLVixRQUdoQ2tCLEVBakNRLENBREgsRUFBUSxNQW1DWmlCLFNBQ1oxQyxFQUFReUIsYUFBZUEsd0JDckR2QixJQUNRcEIsRUFESkMsRUFBYUMsTUFBUUEsS0FBS0QsWUFDdEJELEVBQWdCLFNBQVVHLEVBQUdDLEdBSTdCLE9BSEFKLEVBQWdCSyxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssS0FDekZULEVBQWNHLEVBQUdDLElBRXJCLFNBQVVELEVBQUdDLEdBQ2hCLEdBQWlCLG1CQUFOQSxHQUEwQixPQUFOQSxFQUMzQixNQUFNLElBQUlTLFVBQVUsdUJBQXlCQyxPQUFPVixHQUFLLGlDQUU3RCxTQUFTVyxJQUFPYixLQUFLYyxZQUFjYixFQURuQ0gsRUFBY0csRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9ZLE9BQU9iLElBQU1XLEVBQUdMLFVBQVlOLEVBQUVNLFVBQVcsSUFBSUssS0FHdkZWLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRMkMscUJBQWtCLEVBQzFCLElBQ0lBLEVBQW1CLFNBQVVqQixHQUU3QixTQUFTaUIsRUFBZ0JiLEdBQ3JCLElBQUlILEVBQVFELEVBQU9ULEtBQUtWLE9BQVNBLEtBRWpDLE9BREFvQixFQUFNRyxPQUFTQSxFQUNSSCxFQXlCWCxPQTdCQXJCLEVBQVVxQyxFQUFpQmpCLEdBTTNCaEIsT0FBT2EsZUFBZW9CLEVBQWdCNUIsVUFBVyxRQUFTLENBQ3RENkIsSUFBSyxXQUNELE9BQU9yQyxLQUFLc0MsWUFFaEJDLFlBQVksRUFDWkMsY0FBYyxJQUVsQkosRUFBZ0I1QixVQUFVaUMsV0FBYSxTQUFVZCxHQUM3QyxJQUFJZSxFQUFldkIsRUFBT1gsVUFBVWlDLFdBQVcvQixLQUFLVixLQUFNMkIsR0FFMUQsT0FEQ2UsRUFBYUMsUUFBVWhCLEVBQVdNLEtBQUtqQyxLQUFLdUIsUUFDdENtQixHQUVYTixFQUFnQjVCLFVBQVU4QixTQUFXLFdBQ2pDLElBQUlWLEVBQUs1QixLQUFNNkIsRUFBV0QsRUFBR0MsU0FBVUMsRUFBY0YsRUFBR0UsWUFBYVAsRUFBU0ssRUFBR0wsT0FDakYsR0FBSU0sRUFDQSxNQUFNQyxFQUdWLE9BREE5QixLQUFLNEMsaUJBQ0VyQixHQUVYYSxFQUFnQjVCLFVBQVV5QixLQUFPLFNBQVVoQixHQUN2Q0UsRUFBT1gsVUFBVXlCLEtBQUt2QixLQUFLVixLQUFPQSxLQUFLdUIsT0FBU04sSUFFN0NtQixFQTlCVyxDQUROLEVBQVEsTUFnQ1pELFNBQ1oxQyxFQUFRMkMsZ0JBQWtCQSxrQkNsRDFCakMsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFvRCxvQkFBc0JwRCxFQUFRcUQsYUFBZXJELEVBQVFzRCxzQkFBbUIsRUFDaEYsSUFLV0EsRUFMUEMsRUFBVSxFQUFRLE1BQ2xCQyxFQUFPLEVBQVEsTUFDZkMsRUFBZSxFQUFRLE1BQ3ZCQyxFQUFlLEVBQVEsT0FFaEJKLEVBSVd0RCxFQUFRc0QsbUJBQXFCdEQsRUFBUXNELGlCQUFtQixLQUhuRCxLQUFJLElBQzNCQSxFQUF3QixNQUFJLElBQzVCQSxFQUEyQixTQUFJLElBRW5DLElBQUlELEVBQWdCLFdBQ2hCLFNBQVNBLEVBQWFNLEVBQU1uQyxFQUFPZSxHQUMvQmhDLEtBQUtvRCxLQUFPQSxFQUNacEQsS0FBS2lCLE1BQVFBLEVBQ2JqQixLQUFLZ0MsTUFBUUEsRUFDYmhDLEtBQUtxRCxTQUFvQixNQUFURCxFQTZDcEIsT0EzQ0FOLEVBQWF0QyxVQUFVOEMsUUFBVSxTQUFVQyxHQUN2QyxPQUFPVixFQUFvQjdDLEtBQU11RCxJQUVyQ1QsRUFBYXRDLFVBQVVnRCxHQUFLLFNBQVVDLEVBQWFDLEVBQWNDLEdBQzdELElBQUkvQixFQUFLNUIsS0FBTW9ELEVBQU94QixFQUFHd0IsS0FBTW5DLEVBQVFXLEVBQUdYLE1BQU9lLEVBQVFKLEVBQUdJLE1BQzVELE1BQWdCLE1BQVRvQixFQUFlSyxNQUFBQSxPQUFpRCxFQUFTQSxFQUFZeEMsR0FBa0IsTUFBVG1DLEVBQWVNLE1BQUFBLE9BQW1ELEVBQVNBLEVBQWExQixHQUFTMkIsTUFBQUEsT0FBeUQsRUFBU0EsS0FFNVFiLEVBQWF0QyxVQUFVb0QsT0FBUyxTQUFVQyxFQUFnQjdCLEVBQU9FLEdBQzdELElBQUlOLEVBQ0osT0FBT3VCLEVBQWFXLFdBQXFDLFFBQXpCbEMsRUFBS2lDLFNBQW1DLElBQVBqQyxPQUFnQixFQUFTQSxFQUFHSyxNQUN2RmpDLEtBQUtzRCxRQUFRTyxHQUNiN0QsS0FBS3dELEdBQUdLLEVBQWdCN0IsRUFBT0UsSUFFekNZLEVBQWF0QyxVQUFVdUQsYUFBZSxXQUNsQyxJQUFJbkMsRUFBSzVCLEtBQU1vRCxFQUFPeEIsRUFBR3dCLEtBQU1uQyxFQUFRVyxFQUFHWCxNQUFPZSxFQUFRSixFQUFHSSxNQUN4RGdDLEVBQWtCLE1BQVRaLEVBRUxILEVBQUtnQixHQUFHaEQsR0FFQyxNQUFUbUMsRUFFUUYsRUFBYWdCLFlBQVcsV0FBYyxPQUFPbEMsS0FFcEMsTUFBVG9CLEVBRVFKLEVBQVFtQixNQUVSLEVBQ3hCLElBQUtILEVBQ0QsTUFBTSxJQUFJckQsVUFBVSxnQ0FBa0N5QyxHQUUxRCxPQUFPWSxHQUVYbEIsRUFBYXNCLFdBQWEsU0FBVW5ELEdBQ2hDLE9BQU8sSUFBSTZCLEVBQWEsSUFBSzdCLElBRWpDNkIsRUFBYXVCLFlBQWMsU0FBVUMsR0FDakMsT0FBTyxJQUFJeEIsRUFBYSxTQUFLeUIsRUFBV0QsSUFFNUN4QixFQUFhMEIsZUFBaUIsV0FDMUIsT0FBTzFCLEVBQWEyQixzQkFFeEIzQixFQUFhMkIscUJBQXVCLElBQUkzQixFQUFhLEtBQzlDQSxFQWxEUSxHQXFEbkIsU0FBU0QsRUFBb0I2QixFQUFjbkIsR0FDdkMsSUFBSTNCLEVBQUkrQyxFQUFJQyxFQUNSQyxFQUFLSCxFQUFjdEIsRUFBT3lCLEVBQUd6QixLQUFNbkMsRUFBUTRELEVBQUc1RCxNQUFPZSxFQUFRNkMsRUFBRzdDLE1BQ3BFLEdBQW9CLGlCQUFUb0IsRUFDUCxNQUFNLElBQUl6QyxVQUFVLHdDQUVmLE1BQVR5QyxFQUF3QyxRQUF4QnhCLEVBQUsyQixFQUFTdEIsWUFBeUIsSUFBUEwsR0FBeUJBLEVBQUdsQixLQUFLNkMsRUFBVXRDLEdBQWtCLE1BQVRtQyxFQUF5QyxRQUF6QnVCLEVBQUtwQixFQUFTdkIsYUFBMEIsSUFBUDJDLEdBQXlCQSxFQUFHakUsS0FBSzZDLEVBQVV2QixHQUFzQyxRQUE1QjRDLEVBQUtyQixFQUFTckIsZ0JBQTZCLElBQVAwQyxHQUF5QkEsRUFBR2xFLEtBQUs2QyxHQVBuUjlELEVBQVFxRCxhQUFlQSxFQVN2QnJELEVBQVFvRCxvQkFBc0JBLGdCQzlEOUIsU0FBU2lDLEVBQW1CMUIsRUFBTW5DLEVBQU9lLEdBQ3JDLE1BQU8sQ0FDSG9CLEtBQU1BLEVBQ05uQyxNQUFPQSxFQUNQZSxNQUFPQSxHQWZmN0IsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFxRixtQkFBcUJyRixFQUFRc0YsaUJBQW1CdEYsRUFBUXVGLGtCQUFvQnZGLEVBQVF3RiwyQkFBd0IsRUFDcEh4RixFQUFRd0Ysc0JBQThDSCxFQUFtQixTQUFLUCxPQUFXQSxHQUl6RjlFLEVBQVF1RixrQkFIUixTQUEyQmhELEdBQ3ZCLE9BQU84QyxFQUFtQixTQUFLUCxFQUFXdkMsSUFNOUN2QyxFQUFRc0YsaUJBSFIsU0FBMEI5RCxHQUN0QixPQUFPNkQsRUFBbUIsSUFBSzdELE9BQU9zRCxJQVUxQzlFLEVBQVFxRixtQkFBcUJBLGtCQ2xCN0IzRSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXlGLGdCQUFhLEVBQ3JCLElBQUlDLEVBQWUsRUFBUSxNQUN2QkMsRUFBaUIsRUFBUSxNQUN6QkMsRUFBZSxFQUFRLE1BQ3ZCQyxFQUFTLEVBQVEsTUFDakJDLEVBQVcsRUFBUSxNQUNuQnBDLEVBQWUsRUFBUSxNQUN2QnFDLEVBQWlCLEVBQVEsTUFDekJOLEVBQWMsV0FDZCxTQUFTQSxFQUFXTyxHQUNaQSxJQUNBekYsS0FBS3lDLFdBQWFnRCxHQThFMUIsT0EzRUFQLEVBQVcxRSxVQUFVa0YsS0FBTyxTQUFVQyxHQUNsQyxJQUFJQyxFQUFhLElBQUlWLEVBR3JCLE9BRkFVLEVBQVdDLE9BQVM3RixLQUNwQjRGLEVBQVdELFNBQVdBLEVBQ2ZDLEdBRVhWLEVBQVcxRSxVQUFVaUYsVUFBWSxTQUFVSyxFQUFnQjlELEVBQU9FLEdBQzlELElBOEVjakIsRUE5RVZHLEVBQVFwQixLQUNSMkIsR0E2RVVWLEVBN0VnQjZFLElBOEVqQjdFLGFBQWlCa0UsRUFBYVksWUFKbkQsU0FBb0I5RSxHQUNoQixPQUFPQSxHQUFTa0MsRUFBYVcsV0FBVzdDLEVBQU1nQixPQUFTa0IsRUFBYVcsV0FBVzdDLEVBQU1lLFFBQVVtQixFQUFhVyxXQUFXN0MsRUFBTWlCLFVBRzlEOEQsQ0FBVy9FLElBQVVtRSxFQUFlYSxlQUFlaEYsR0E5RTlENkUsRUFBaUIsSUFBSVgsRUFBYWUsZUFBZUosRUFBZ0I5RCxFQUFPRSxHQVl4SCxPQVhBc0QsRUFBZVcsY0FBYSxXQUN4QixJQUFJdkUsRUFBS1IsRUFBT3VFLEVBQVcvRCxFQUFHK0QsU0FBVUUsRUFBU2pFLEVBQUdpRSxPQUNwRGxFLEVBQVd5RSxJQUFJVCxFQUVQQSxFQUFTakYsS0FBS2lCLEVBQVlrRSxHQUM1QkEsRUFFTXpFLEVBQU1xQixXQUFXZCxHQUVqQlAsRUFBTWlGLGNBQWMxRSxPQUU3QkEsR0FFWHVELEVBQVcxRSxVQUFVNkYsY0FBZ0IsU0FBVUMsR0FDM0MsSUFDSSxPQUFPdEcsS0FBS3lDLFdBQVc2RCxHQUUzQixNQUFPaEMsR0FDSGdDLEVBQUt0RSxNQUFNc0MsS0FHbkJZLEVBQVcxRSxVQUFVK0YsUUFBVSxTQUFVdEUsRUFBTXVFLEdBQzNDLElBQUlwRixFQUFRcEIsS0FFWixPQUFPLElBRFB3RyxFQUFjQyxFQUFlRCxLQUNOLFNBQVVFLEVBQVNDLEdBQ3RDLElBQUloRixFQUFhLElBQUl3RCxFQUFhZSxlQUFlLENBQzdDakUsS0FBTSxTQUFVaEIsR0FDWixJQUNJZ0IsRUFBS2hCLEdBRVQsTUFBT3FELEdBQ0hxQyxFQUFPckMsR0FDUDNDLEVBQVdpRixnQkFHbkI1RSxNQUFPMkUsRUFDUHpFLFNBQVV3RSxJQUVkdEYsRUFBTXFFLFVBQVU5RCxPQUd4QnVELEVBQVcxRSxVQUFVaUMsV0FBYSxTQUFVZCxHQUN4QyxJQUFJQyxFQUNKLE9BQThCLFFBQXRCQSxFQUFLNUIsS0FBSzZGLGNBQTJCLElBQVBqRSxPQUFnQixFQUFTQSxFQUFHNkQsVUFBVTlELElBRWhGdUQsRUFBVzFFLFVBQVU2RSxFQUFhTyxZQUFjLFdBQzVDLE9BQU81RixNQUVYa0YsRUFBVzFFLFVBQVVxRyxLQUFPLFdBRXhCLElBREEsSUFBSUMsRUFBYSxHQUNSQyxFQUFLLEVBQUdBLEVBQUt6RixVQUFVMEYsT0FBUUQsSUFDcENELEVBQVdDLEdBQU16RixVQUFVeUYsR0FFL0IsT0FBT3pCLEVBQU8yQixjQUFjSCxFQUFyQnhCLENBQWlDdEYsT0FFNUNrRixFQUFXMUUsVUFBVTBHLFVBQVksU0FBVVYsR0FDdkMsSUFBSXBGLEVBQVFwQixLQUVaLE9BQU8sSUFEUHdHLEVBQWNDLEVBQWVELEtBQ04sU0FBVUUsRUFBU0MsR0FDdEMsSUFBSTFGLEVBQ0pHLEVBQU1xRSxXQUFVLFNBQVUwQixHQUFLLE9BQVFsRyxFQUFRa0csS0FBTyxTQUFVN0MsR0FBTyxPQUFPcUMsRUFBT3JDLE1BQVMsV0FBYyxPQUFPb0MsRUFBUXpGLFVBR25JaUUsRUFBV25FLE9BQVMsU0FBVTBFLEdBQzFCLE9BQU8sSUFBSVAsRUFBV08sSUFFbkJQLEVBakZNLEdBb0ZqQixTQUFTdUIsRUFBZUQsR0FDcEIsSUFBSTVFLEVBQ0osT0FBeUcsUUFBakdBLEVBQUs0RSxNQUFBQSxFQUFpREEsRUFBY2pCLEVBQVM2QixPQUFPQyxlQUE0QixJQUFQekYsRUFBZ0JBLEVBQUt5RixRQUgxSTVILEVBQVF5RixXQUFhQSx3QkM1RnJCLElBQ1FwRixFQURKQyxFQUFhQyxNQUFRQSxLQUFLRCxZQUN0QkQsRUFBZ0IsU0FBVUcsRUFBR0MsR0FJN0IsT0FIQUosRUFBZ0JLLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxLQUN6RlQsRUFBY0csRUFBR0MsSUFFckIsU0FBVUQsRUFBR0MsR0FDaEIsR0FBaUIsbUJBQU5BLEdBQTBCLE9BQU5BLEVBQzNCLE1BQU0sSUFBSVMsVUFBVSx1QkFBeUJDLE9BQU9WLEdBQUssaUNBRTdELFNBQVNXLElBQU9iLEtBQUtjLFlBQWNiLEVBRG5DSCxFQUFjRyxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1ksT0FBT2IsSUFBTVcsRUFBR0wsVUFBWU4sRUFBRU0sVUFBVyxJQUFJSyxLQUd2RlYsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVE2SCxtQkFBZ0IsRUFDeEIsSUFBSUMsRUFBWSxFQUFRLE1BQ3BCQyxFQUEwQixFQUFRLE1BQ2xDRixFQUFpQixTQUFVbkcsR0FFM0IsU0FBU21HLEVBQWNHLEVBQWFDLEVBQWFDLFFBQ3pCLElBQWhCRixJQUEwQkEsRUFBY0csRUFBQUEsUUFDeEIsSUFBaEJGLElBQTBCQSxFQUFjRSxFQUFBQSxRQUNqQixJQUF2QkQsSUFBaUNBLEVBQXFCSCxFQUF3QkssdUJBQ2xGLElBQUl6RyxFQUFRRCxFQUFPVCxLQUFLVixPQUFTQSxLQVNqQyxPQVJBb0IsRUFBTXFHLFlBQWNBLEVBQ3BCckcsRUFBTXNHLFlBQWNBLEVBQ3BCdEcsRUFBTXVHLG1CQUFxQkEsRUFDM0J2RyxFQUFNMEcsUUFBVSxHQUNoQjFHLEVBQU0yRyxxQkFBc0IsRUFDNUIzRyxFQUFNMkcsb0JBQXNCTCxJQUFnQkUsRUFBQUEsRUFDNUN4RyxFQUFNcUcsWUFBY08sS0FBS0MsSUFBSSxFQUFHUixHQUNoQ3JHLEVBQU1zRyxZQUFjTSxLQUFLQyxJQUFJLEVBQUdQLEdBQ3pCdEcsRUFvQ1gsT0FsREFyQixFQUFVdUgsRUFBZW5HLEdBZ0J6Qm1HLEVBQWM5RyxVQUFVeUIsS0FBTyxTQUFVaEIsR0FDckMsSUFBSVcsRUFBSzVCLEtBQU0rQixFQUFZSCxFQUFHRyxVQUFXK0YsRUFBVWxHLEVBQUdrRyxRQUFTQyxFQUFzQm5HLEVBQUdtRyxvQkFBcUJKLEVBQXFCL0YsRUFBRytGLG1CQUFvQkQsRUFBYzlGLEVBQUc4RixZQUNySzNGLElBQ0QrRixFQUFRSSxLQUFLakgsSUFDWjhHLEdBQXVCRCxFQUFRSSxLQUFLUCxFQUFtQlEsTUFBUVQsSUFFcEUxSCxLQUFLb0ksY0FDTGpILEVBQU9YLFVBQVV5QixLQUFLdkIsS0FBS1YsS0FBTWlCLElBRXJDcUcsRUFBYzlHLFVBQVVpQyxXQUFhLFNBQVVkLEdBQzNDM0IsS0FBSzRDLGlCQUNMNUMsS0FBS29JLGNBSUwsSUFIQSxJQUFJMUYsRUFBZTFDLEtBQUtxSSxnQkFBZ0IxRyxHQUN6Qm9HLEVBQU4vSCxLQUErQitILG9CQUNwQ08sRUFES3RJLEtBQWlFOEgsUUFDdkRTLFFBQ1ZDLEVBQUksRUFBR0EsRUFBSUYsRUFBS3RCLFNBQVdyRixFQUFXZ0IsT0FBUTZGLEdBQUtULEVBQXNCLEVBQUksRUFDbEZwRyxFQUFXTSxLQUFLcUcsRUFBS0UsSUFHekIsT0FEQXhJLEtBQUswQix3QkFBd0JDLEdBQ3RCZSxHQUVYNEUsRUFBYzlHLFVBQVU0SCxZQUFjLFdBQ2xDLElBQUl4RyxFQUFLNUIsS0FBTXlILEVBQWM3RixFQUFHNkYsWUFBYUUsRUFBcUIvRixFQUFHK0YsbUJBQW9CRyxFQUFVbEcsRUFBR2tHLFFBQVNDLEVBQXNCbkcsRUFBR21HLG9CQUNwSVUsR0FBc0JWLEVBQXNCLEVBQUksR0FBS04sRUFFekQsR0FEQUEsRUFBY0csRUFBQUEsR0FBWWEsRUFBcUJYLEVBQVFkLFFBQVVjLEVBQVFZLE9BQU8sRUFBR1osRUFBUWQsT0FBU3lCLElBQy9GVixFQUFxQixDQUd0QixJQUZBLElBQUlJLEVBQU1SLEVBQW1CUSxNQUN6QlEsRUFBTyxFQUNGSCxFQUFJLEVBQUdBLEVBQUlWLEVBQVFkLFFBQVVjLEVBQVFVLElBQU1MLEVBQUtLLEdBQUssRUFDMURHLEVBQU9ILEVBRVhHLEdBQVFiLEVBQVFZLE9BQU8sRUFBR0MsRUFBTyxLQUdsQ3JCLEVBbkRTLENBb0RsQkMsRUFBVXBGLFNBQ1oxQyxFQUFRNkgsY0FBZ0JBLGlCQ3hFeEJuSCxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUW1KLGVBQVksRUFDcEIsSUFBSXBCLEVBQTBCLEVBQVEsTUFDbENvQixFQUFhLFdBQ2IsU0FBU0EsRUFBVUMsRUFBcUJWLFFBQ3hCLElBQVJBLElBQWtCQSxFQUFNUyxFQUFVVCxLQUN0Q25JLEtBQUs2SSxvQkFBc0JBLEVBQzNCN0ksS0FBS21JLElBQU1BLEVBT2YsT0FMQVMsRUFBVXBJLFVBQVVzSSxTQUFXLFNBQVVDLEVBQU1DLEVBQU9DLEdBRWxELFlBRGMsSUFBVkQsSUFBb0JBLEVBQVEsR0FDekIsSUFBSWhKLEtBQUs2SSxvQkFBb0I3SSxLQUFNK0ksR0FBTUQsU0FBU0csRUFBT0QsSUFFcEVKLEVBQVVULElBQU1YLEVBQXdCSyxzQkFBc0JNLElBQ3ZEUyxFQVhLLEdBYWhCbkosRUFBUW1KLFVBQVlBLHdCQ2hCcEIsSUFDUTlJLEVBREpDLEVBQWFDLE1BQVFBLEtBQUtELFlBQ3RCRCxFQUFnQixTQUFVRyxFQUFHQyxHQUk3QixPQUhBSixFQUFnQkssT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLEtBQ3pGVCxFQUFjRyxFQUFHQyxJQUVyQixTQUFVRCxFQUFHQyxHQUNoQixHQUFpQixtQkFBTkEsR0FBMEIsT0FBTkEsRUFDM0IsTUFBTSxJQUFJUyxVQUFVLHVCQUF5QkMsT0FBT1YsR0FBSyxpQ0FFN0QsU0FBU1csSUFBT2IsS0FBS2MsWUFBY2IsRUFEbkNILEVBQWNHLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPWSxPQUFPYixJQUFNVyxFQUFHTCxVQUFZTixFQUFFTSxVQUFXLElBQUlLLEtBR25GcUksRUFBWWxKLE1BQVFBLEtBQUtrSixVQUFhLFNBQVNDLEdBQy9DLElBQUlDLEVBQXNCLG1CQUFYQyxRQUF5QkEsT0FBT0MsU0FBVUMsRUFBSUgsR0FBS0QsRUFBRUMsR0FBSVosRUFBSSxFQUM1RSxHQUFJZSxFQUFHLE9BQU9BLEVBQUU3SSxLQUFLeUksR0FDckIsR0FBSUEsR0FBeUIsaUJBQWJBLEVBQUVuQyxPQUFxQixNQUFPLENBQzFDL0UsS0FBTSxXQUVGLE9BRElrSCxHQUFLWCxHQUFLVyxFQUFFbkMsU0FBUW1DLE9BQUksR0FDckIsQ0FBRWxJLE1BQU9rSSxHQUFLQSxFQUFFWCxLQUFNZ0IsTUFBT0wsS0FHNUMsTUFBTSxJQUFJeEksVUFBVXlJLEVBQUksMEJBQTRCLG9DQUV4RGpKLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRZ0ssaUJBQW1CaEssRUFBUTBDLGFBQVUsRUFDN0MsSUFBSXVILEVBQWUsRUFBUSxNQUN2QnRFLEVBQWlCLEVBQVEsTUFDekJ1RSxFQUE0QixFQUFRLE1BQ3BDQyxFQUFjLEVBQVEsTUFDdEJwRSxFQUFpQixFQUFRLE1BQ3pCckQsRUFBVyxTQUFVaEIsR0FFckIsU0FBU2dCLElBQ0wsSUFBSWYsRUFBUUQsRUFBT1QsS0FBS1YsT0FBU0EsS0FNakMsT0FMQW9CLEVBQU11QixRQUFTLEVBQ2Z2QixFQUFNeUksVUFBWSxHQUNsQnpJLEVBQU1XLFdBQVksRUFDbEJYLEVBQU1TLFVBQVcsRUFDakJULEVBQU1VLFlBQWMsS0FDYlYsRUEwR1gsT0FsSEFyQixFQUFVb0MsRUFBU2hCLEdBVW5CZ0IsRUFBUTNCLFVBQVVrRixLQUFPLFNBQVVDLEdBQy9CLElBQUltRSxFQUFVLElBQUlMLEVBQWlCekosS0FBTUEsTUFFekMsT0FEQThKLEVBQVFuRSxTQUFXQSxFQUNabUUsR0FFWDNILEVBQVEzQixVQUFVb0MsZUFBaUIsV0FDL0IsR0FBSTVDLEtBQUsyQyxPQUNMLE1BQU0sSUFBSWdILEVBQTBCSSx5QkFHNUM1SCxFQUFRM0IsVUFBVXlCLEtBQU8sU0FBVWhCLEdBQy9CLElBQUlHLEVBQVFwQixLQUNad0YsRUFBZVcsY0FBYSxXQUN4QixJQUFJNkQsRUFBS3BJLEVBRVQsR0FEQVIsRUFBTXdCLGtCQUNEeEIsRUFBTVcsVUFBVyxDQUNsQixJQUFJdUcsRUFBT2xILEVBQU15SSxVQUFVdEIsUUFDM0IsSUFDSSxJQUFLLElBQUkwQixFQUFTZixFQUFTWixHQUFPNEIsRUFBV0QsRUFBT2hJLFFBQVNpSSxFQUFTVixLQUFNVSxFQUFXRCxFQUFPaEksT0FDM0VpSSxFQUFTakosTUFDZmdCLEtBQUtoQixHQUd0QixNQUFPa0osR0FBU0gsRUFBTSxDQUFFaEksTUFBT21JLEdBQy9CLFFBQ0ksSUFDUUQsSUFBYUEsRUFBU1YsT0FBUzVILEVBQUtxSSxFQUFPRyxTQUFTeEksRUFBR2xCLEtBQUt1SixHQUVwRSxRQUFVLEdBQUlELEVBQUssTUFBTUEsRUFBSWhJLGFBSzdDRyxFQUFRM0IsVUFBVXdCLE1BQVEsU0FBVXNDLEdBQ2hDLElBQUlsRCxFQUFRcEIsS0FDWndGLEVBQWVXLGNBQWEsV0FFeEIsR0FEQS9FLEVBQU13QixrQkFDRHhCLEVBQU1XLFVBQVcsQ0FDbEJYLEVBQU1TLFNBQVdULEVBQU1XLFdBQVksRUFDbkNYLEVBQU1VLFlBQWN3QyxFQUVwQixJQURBLElBQUl1RixFQUFZekksRUFBTXlJLFVBQ2ZBLEVBQVU3QyxRQUNiNkMsRUFBVVEsUUFBUXJJLE1BQU1zQyxRQUt4Q25DLEVBQVEzQixVQUFVMEIsU0FBVyxXQUN6QixJQUFJZCxFQUFRcEIsS0FDWndGLEVBQWVXLGNBQWEsV0FFeEIsR0FEQS9FLEVBQU13QixrQkFDRHhCLEVBQU1XLFVBQVcsQ0FDbEJYLEVBQU1XLFdBQVksRUFFbEIsSUFEQSxJQUFJOEgsRUFBWXpJLEVBQU15SSxVQUNmQSxFQUFVN0MsUUFDYjZDLEVBQVVRLFFBQVFuSSxnQkFLbENDLEVBQVEzQixVQUFVb0csWUFBYyxXQUM1QjVHLEtBQUsrQixVQUFZL0IsS0FBSzJDLFFBQVMsRUFDL0IzQyxLQUFLNkosVUFBWSxNQUVyQjFKLE9BQU9hLGVBQWVtQixFQUFRM0IsVUFBVyxXQUFZLENBQ2pENkIsSUFBSyxXQUNELElBQUlULEVBQ0osT0FBa0MsUUFBekJBLEVBQUs1QixLQUFLNkosaUJBQThCLElBQVBqSSxPQUFnQixFQUFTQSxFQUFHb0YsUUFBVSxHQUVwRnpFLFlBQVksRUFDWkMsY0FBYyxJQUVsQkwsRUFBUTNCLFVBQVU2RixjQUFnQixTQUFVMUUsR0FFeEMsT0FEQTNCLEtBQUs0QyxpQkFDRXpCLEVBQU9YLFVBQVU2RixjQUFjM0YsS0FBS1YsS0FBTTJCLElBRXJEUSxFQUFRM0IsVUFBVWlDLFdBQWEsU0FBVWQsR0FHckMsT0FGQTNCLEtBQUs0QyxpQkFDTDVDLEtBQUswQix3QkFBd0JDLEdBQ3RCM0IsS0FBS3FJLGdCQUFnQjFHLElBRWhDUSxFQUFRM0IsVUFBVTZILGdCQUFrQixTQUFVMUcsR0FDMUMsSUFBSUMsRUFBSzVCLEtBQU02QixFQUFXRCxFQUFHQyxTQUFVRSxFQUFZSCxFQUFHRyxVQUFXOEgsRUFBWWpJLEVBQUdpSSxVQUNoRixPQUFPaEksR0FBWUUsRUFDYnFELEVBQWVrRixvQkFDZFQsRUFBVTNCLEtBQUt2RyxHQUFhLElBQUl5RCxFQUFlbUYsY0FBYSxXQUFjLE9BQU9YLEVBQVlZLFVBQVVYLEVBQVdsSSxRQUU3SFEsRUFBUTNCLFVBQVVrQix3QkFBMEIsU0FBVUMsR0FDbEQsSUFBSUMsRUFBSzVCLEtBQU02QixFQUFXRCxFQUFHQyxTQUFVQyxFQUFjRixFQUFHRSxZQUFhQyxFQUFZSCxFQUFHRyxVQUNoRkYsRUFDQUYsRUFBV0ssTUFBTUYsR0FFWkMsR0FDTEosRUFBV08sWUFHbkJDLEVBQVEzQixVQUFVaUssYUFBZSxXQUM3QixJQUFJN0UsRUFBYSxJQUFJOEQsRUFBYXhFLFdBRWxDLE9BREFVLEVBQVdDLE9BQVM3RixLQUNiNEYsR0FFWHpELEVBQVFwQixPQUFTLFNBQVUySixFQUFhN0UsR0FDcEMsT0FBTyxJQUFJNEQsRUFBaUJpQixFQUFhN0UsSUFFdEMxRCxFQW5IRyxDQW9IWnVILEVBQWF4RSxZQUNmekYsRUFBUTBDLFFBQVVBLEVBQ2xCLElBQUlzSCxFQUFvQixTQUFVdEksR0FFOUIsU0FBU3NJLEVBQWlCaUIsRUFBYTdFLEdBQ25DLElBQUl6RSxFQUFRRCxFQUFPVCxLQUFLVixPQUFTQSxLQUdqQyxPQUZBb0IsRUFBTXNKLFlBQWNBLEVBQ3BCdEosRUFBTXlFLE9BQVNBLEVBQ1J6RSxFQWtCWCxPQXZCQXJCLEVBQVUwSixFQUFrQnRJLEdBTzVCc0ksRUFBaUJqSixVQUFVeUIsS0FBTyxTQUFVaEIsR0FDeEMsSUFBSVcsRUFBSStDLEVBQ3dFLFFBQS9FQSxFQUFpQyxRQUEzQi9DLEVBQUs1QixLQUFLMEssbUJBQWdDLElBQVA5SSxPQUFnQixFQUFTQSxFQUFHSyxZQUF5QixJQUFQMEMsR0FBeUJBLEVBQUdqRSxLQUFLa0IsRUFBSVgsSUFFakl3SSxFQUFpQmpKLFVBQVV3QixNQUFRLFNBQVVzQyxHQUN6QyxJQUFJMUMsRUFBSStDLEVBQ3lFLFFBQWhGQSxFQUFpQyxRQUEzQi9DLEVBQUs1QixLQUFLMEssbUJBQWdDLElBQVA5SSxPQUFnQixFQUFTQSxFQUFHSSxhQUEwQixJQUFQMkMsR0FBeUJBLEVBQUdqRSxLQUFLa0IsRUFBSTBDLElBRWxJbUYsRUFBaUJqSixVQUFVMEIsU0FBVyxXQUNsQyxJQUFJTixFQUFJK0MsRUFDNEUsUUFBbkZBLEVBQWlDLFFBQTNCL0MsRUFBSzVCLEtBQUswSyxtQkFBZ0MsSUFBUDlJLE9BQWdCLEVBQVNBLEVBQUdNLGdCQUE2QixJQUFQeUMsR0FBeUJBLEVBQUdqRSxLQUFLa0IsSUFFakk2SCxFQUFpQmpKLFVBQVVpQyxXQUFhLFNBQVVkLEdBQzlDLElBQUlDLEVBQUkrQyxFQUNSLE9BQW1HLFFBQTNGQSxFQUE0QixRQUF0Qi9DLEVBQUs1QixLQUFLNkYsY0FBMkIsSUFBUGpFLE9BQWdCLEVBQVNBLEVBQUc2RCxVQUFVOUQsVUFBZ0MsSUFBUGdELEVBQWdCQSxFQUFLUyxFQUFla0Ysb0JBRTVJYixFQXhCWSxDQXlCckJ0SCxHQUNGMUMsRUFBUWdLLGlCQUFtQkEsd0JDakwzQixJQUNRM0osRUFESkMsRUFBYUMsTUFBUUEsS0FBS0QsWUFDdEJELEVBQWdCLFNBQVVHLEVBQUdDLEdBSTdCLE9BSEFKLEVBQWdCSyxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssS0FDekZULEVBQWNHLEVBQUdDLElBRXJCLFNBQVVELEVBQUdDLEdBQ2hCLEdBQWlCLG1CQUFOQSxHQUEwQixPQUFOQSxFQUMzQixNQUFNLElBQUlTLFVBQVUsdUJBQXlCQyxPQUFPVixHQUFLLGlDQUU3RCxTQUFTVyxJQUFPYixLQUFLYyxZQUFjYixFQURuQ0gsRUFBY0csRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9ZLE9BQU9iLElBQU1XLEVBQUdMLFVBQVlOLEVBQUVNLFVBQVcsSUFBSUssS0FHdkZWLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRa0wsZUFBaUJsTCxFQUFReUcsZUFBaUJ6RyxFQUFRc0csZ0JBQWEsRUFDdkUsSUFBSTVDLEVBQWUsRUFBUSxNQUN2QmlDLEVBQWlCLEVBQVEsTUFDekJHLEVBQVcsRUFBUSxNQUNuQnFGLEVBQXlCLEVBQVEsTUFDakNDLEVBQVMsRUFBUSxNQUNqQkMsRUFBMEIsRUFBUSxNQUNsQ0MsRUFBb0IsRUFBUSxNQUM1QnZGLEVBQWlCLEVBQVEsTUFDekJPLEVBQWMsU0FBVTVFLEdBRXhCLFNBQVM0RSxFQUFXMkUsR0FDaEIsSUFBSXRKLEVBQVFELEVBQU9ULEtBQUtWLE9BQVNBLEtBV2pDLE9BVkFvQixFQUFNVyxXQUFZLEVBQ2QySSxHQUNBdEosRUFBTXNKLFlBQWNBLEVBQ2hCdEYsRUFBZWEsZUFBZXlFLElBQzlCQSxFQUFZdEUsSUFBSWhGLElBSXBCQSxFQUFNc0osWUFBY2pMLEVBQVFrTCxlQUV6QnZKLEVBeURYLE9BdEVBckIsRUFBVWdHLEVBQVk1RSxHQWV0QjRFLEVBQVdoRixPQUFTLFNBQVVrQixFQUFNRCxFQUFPRSxHQUN2QyxPQUFPLElBQUlnRSxFQUFlakUsRUFBTUQsRUFBT0UsSUFFM0M2RCxFQUFXdkYsVUFBVXlCLEtBQU8sU0FBVWhCLEdBQzlCakIsS0FBSytCLFVBQ0xpSixFQUEwQkYsRUFBd0IvRixpQkFBaUI5RCxHQUFRakIsTUFHM0VBLEtBQUtpTCxNQUFNaEssSUFHbkI4RSxFQUFXdkYsVUFBVXdCLE1BQVEsU0FBVXNDLEdBQy9CdEUsS0FBSytCLFVBQ0xpSixFQUEwQkYsRUFBd0I5RixrQkFBa0JWLEdBQU10RSxPQUcxRUEsS0FBSytCLFdBQVksRUFDakIvQixLQUFLa0wsT0FBTzVHLEtBR3BCeUIsRUFBV3ZGLFVBQVUwQixTQUFXLFdBQ3hCbEMsS0FBSytCLFVBQ0xpSixFQUEwQkYsRUFBd0I3RixzQkFBdUJqRixPQUd6RUEsS0FBSytCLFdBQVksRUFDakIvQixLQUFLbUwsY0FHYnBGLEVBQVd2RixVQUFVb0csWUFBYyxXQUMxQjVHLEtBQUsyQyxTQUNOM0MsS0FBSytCLFdBQVksRUFDakJaLEVBQU9YLFVBQVVvRyxZQUFZbEcsS0FBS1YsTUFDbENBLEtBQUswSyxZQUFjLE9BRzNCM0UsRUFBV3ZGLFVBQVV5SyxNQUFRLFNBQVVoSyxHQUNuQ2pCLEtBQUswSyxZQUFZekksS0FBS2hCLElBRTFCOEUsRUFBV3ZGLFVBQVUwSyxPQUFTLFNBQVU1RyxHQUNwQyxJQUNJdEUsS0FBSzBLLFlBQVkxSSxNQUFNc0MsR0FFM0IsUUFDSXRFLEtBQUs0RyxnQkFHYmIsRUFBV3ZGLFVBQVUySyxVQUFZLFdBQzdCLElBQ0luTCxLQUFLMEssWUFBWXhJLFdBRXJCLFFBQ0lsQyxLQUFLNEcsZ0JBR05iLEVBdkVNLENBd0VmWCxFQUFlbUYsY0FDakI5SyxFQUFRc0csV0FBYUEsRUFDckIsSUFBSXFGLEVBQVFDLFNBQVM3SyxVQUFVOEssS0FDL0IsU0FBU0EsRUFBS0MsRUFBSUMsR0FDZCxPQUFPSixFQUFNMUssS0FBSzZLLEVBQUlDLEdBRTFCLElBQUlDLEVBQW9CLFdBQ3BCLFNBQVNBLEVBQWlCQyxHQUN0QjFMLEtBQUswTCxnQkFBa0JBLEVBc0MzQixPQXBDQUQsRUFBaUJqTCxVQUFVeUIsS0FBTyxTQUFVaEIsR0FDeEMsSUFBSXlLLEVBQWtCMUwsS0FBSzBMLGdCQUMzQixHQUFJQSxFQUFnQnpKLEtBQ2hCLElBQ0l5SixFQUFnQnpKLEtBQUtoQixHQUV6QixNQUFPZSxHQUNIMkosRUFBcUIzSixLQUlqQ3lKLEVBQWlCakwsVUFBVXdCLE1BQVEsU0FBVXNDLEdBQ3pDLElBQUlvSCxFQUFrQjFMLEtBQUswTCxnQkFDM0IsR0FBSUEsRUFBZ0IxSixNQUNoQixJQUNJMEosRUFBZ0IxSixNQUFNc0MsR0FFMUIsTUFBT3RDLEdBQ0gySixFQUFxQjNKLFFBSXpCMkosRUFBcUJySCxJQUc3Qm1ILEVBQWlCakwsVUFBVTBCLFNBQVcsV0FDbEMsSUFBSXdKLEVBQWtCMUwsS0FBSzBMLGdCQUMzQixHQUFJQSxFQUFnQnhKLFNBQ2hCLElBQ0l3SixFQUFnQnhKLFdBRXBCLE1BQU9GLEdBQ0gySixFQUFxQjNKLEtBSTFCeUosRUF4Q1ksR0EwQ25CdkYsRUFBa0IsU0FBVS9FLEdBRTVCLFNBQVMrRSxFQUFlSixFQUFnQjlELEVBQU9FLEdBQzNDLElBQ0l3SixFQVNJRSxFQVZKeEssRUFBUUQsRUFBT1QsS0FBS1YsT0FBU0EsS0F5QmpDLE9BdkJJbUQsRUFBYVcsV0FBV2dDLEtBQW9CQSxFQUM1QzRGLEVBQWtCLENBQ2R6SixLQUFNNkQsTUFBQUEsRUFBdURBLE9BQWlCdkIsRUFDOUV2QyxNQUFPQSxNQUFBQSxFQUFxQ0EsT0FBUXVDLEVBQ3BEckMsU0FBVUEsTUFBQUEsRUFBMkNBLE9BQVdxQyxHQUtoRW5ELEdBQVNtRSxFQUFTNkIsT0FBT3lFLDJCQUN6QkQsRUFBWXpMLE9BQU9ZLE9BQU8rRSxJQUNoQmMsWUFBYyxXQUFjLE9BQU94RixFQUFNd0YsZUFDbkQ4RSxFQUFrQixDQUNkekosS0FBTTZELEVBQWU3RCxNQUFRcUosRUFBS3hGLEVBQWU3RCxLQUFNMkosR0FDdkQ1SixNQUFPOEQsRUFBZTlELE9BQVNzSixFQUFLeEYsRUFBZTlELE1BQU80SixHQUMxRDFKLFNBQVU0RCxFQUFlNUQsVUFBWW9KLEVBQUt4RixFQUFlNUQsU0FBVTBKLEtBSXZFRixFQUFrQjVGLEVBRzFCMUUsRUFBTXNKLFlBQWMsSUFBSWUsRUFBaUJDLEdBQ2xDdEssRUFFWCxPQTdCQXJCLEVBQVVtRyxFQUFnQi9FLEdBNkJuQitFLEVBOUJVLENBK0JuQkgsR0FFRixTQUFTNEYsRUFBcUIzSixHQUN0QnVELEVBQVM2QixPQUFPMEUsc0NBQ2hCdEcsRUFBZXVHLGFBQWEvSixHQUc1QjRJLEVBQXVCb0IscUJBQXFCaEssR0FNcEQsU0FBU2dKLEVBQTBCdEcsRUFBYy9DLEdBQzdDLElBQUlzSyxFQUF3QjFHLEVBQVM2QixPQUFPNkUsc0JBQzVDQSxHQUF5QmxCLEVBQWtCbUIsZ0JBQWdCQyxZQUFXLFdBQWMsT0FBT0YsRUFBc0J2SCxFQUFjL0MsTUFkbklsQyxFQUFReUcsZUFBaUJBLEVBZ0J6QnpHLEVBQVFrTCxlQUFpQixDQUNyQmhJLFFBQVEsRUFDUlYsS0FBTTRJLEVBQU91QixLQUNicEssTUFWSixTQUE2QnNDLEdBQ3pCLE1BQU1BLEdBVU5wQyxTQUFVMkksRUFBT3VCLDRCQ3JNckIsSUFBSWxELEVBQVlsSixNQUFRQSxLQUFLa0osVUFBYSxTQUFTQyxHQUMvQyxJQUFJQyxFQUFzQixtQkFBWEMsUUFBeUJBLE9BQU9DLFNBQVVDLEVBQUlILEdBQUtELEVBQUVDLEdBQUlaLEVBQUksRUFDNUUsR0FBSWUsRUFBRyxPQUFPQSxFQUFFN0ksS0FBS3lJLEdBQ3JCLEdBQUlBLEdBQXlCLGlCQUFiQSxFQUFFbkMsT0FBcUIsTUFBTyxDQUMxQy9FLEtBQU0sV0FFRixPQURJa0gsR0FBS1gsR0FBS1csRUFBRW5DLFNBQVFtQyxPQUFJLEdBQ3JCLENBQUVsSSxNQUFPa0ksR0FBS0EsRUFBRVgsS0FBTWdCLE1BQU9MLEtBRzVDLE1BQU0sSUFBSXhJLFVBQVV5SSxFQUFJLDBCQUE0QixvQ0FFcERpRCxFQUFVck0sTUFBUUEsS0FBS3FNLFFBQVcsU0FBVWxELEVBQUdtRCxHQUMvQyxJQUFJL0MsRUFBc0IsbUJBQVhGLFFBQXlCRixFQUFFRSxPQUFPQyxVQUNqRCxJQUFLQyxFQUFHLE9BQU9KLEVBQ2YsSUFBbUJvRCxFQUFZQyxFQUEzQmhFLEVBQUllLEVBQUU3SSxLQUFLeUksR0FBT3NELEVBQUssR0FDM0IsSUFDSSxXQUFjLElBQU5ILEdBQWdCQSxLQUFNLE1BQVFDLEVBQUkvRCxFQUFFdkcsUUFBUXVILE1BQU1pRCxFQUFHdkUsS0FBS3FFLEVBQUV0TCxPQUV4RSxNQUFPZSxHQUFTd0ssRUFBSSxDQUFFeEssTUFBT0EsR0FDN0IsUUFDSSxJQUNRdUssSUFBTUEsRUFBRS9DLE9BQVNELEVBQUlmLEVBQVUsU0FBSWUsRUFBRTdJLEtBQUs4SCxHQUVsRCxRQUFVLEdBQUlnRSxFQUFHLE1BQU1BLEVBQUV4SyxPQUU3QixPQUFPeUssR0FFUEMsRUFBaUIxTSxNQUFRQSxLQUFLME0sZUFBa0IsU0FBVUMsRUFBSUMsR0FDOUQsSUFBSyxJQUFJcEUsRUFBSSxFQUFHcUUsRUFBS0QsRUFBSzVGLE9BQVE4RixFQUFJSCxFQUFHM0YsT0FBUXdCLEVBQUlxRSxFQUFJckUsSUFBS3NFLElBQzFESCxFQUFHRyxHQUFLRixFQUFLcEUsR0FDakIsT0FBT21FLEdBRVh4TSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXdHLGVBQWlCeEcsRUFBUTZLLG1CQUFxQjdLLEVBQVE4SyxrQkFBZSxFQUM3RSxJQUFJcEgsRUFBZSxFQUFRLE1BQ3ZCNEosRUFBd0IsRUFBUSxNQUNoQ25ELEVBQWMsRUFBUSxNQUN0QlcsRUFBZ0IsV0FDaEIsU0FBU0EsRUFBYXlDLEdBQ2xCaE4sS0FBS2dOLGdCQUFrQkEsRUFDdkJoTixLQUFLMkMsUUFBUyxFQUNkM0MsS0FBS2lOLFdBQWEsS0FDbEJqTixLQUFLa04sV0FBYSxLQWdIRCxJQUNiQyxFQUlSLE9BbkhBNUMsRUFBYS9KLFVBQVVvRyxZQUFjLFdBQ2pDLElBQUlvRCxFQUFLcEksRUFBSXdMLEVBQUt6SSxFQUNkMEksRUFDSixJQUFLck4sS0FBSzJDLE9BQVEsQ0FDZDNDLEtBQUsyQyxRQUFTLEVBQ2QsSUFBSXNLLEVBQWFqTixLQUFLaU4sV0FDdEIsR0FBSUEsRUFFQSxHQURBak4sS0FBS2lOLFdBQWEsS0FDZDNNLE1BQU1nTixRQUFRTCxHQUNkLElBQ0ksSUFBSyxJQUFJTSxFQUFlckUsRUFBUytELEdBQWFPLEVBQWlCRCxFQUFhdEwsUUFBU3VMLEVBQWVoRSxLQUFNZ0UsRUFBaUJELEVBQWF0TCxPQUNySHVMLEVBQWV2TSxNQUNyQndNLE9BQU96TixNQUd4QixNQUFPbUssR0FBU0gsRUFBTSxDQUFFaEksTUFBT21JLEdBQy9CLFFBQ0ksSUFDUXFELElBQW1CQSxFQUFlaEUsT0FBUzVILEVBQUsyTCxFQUFhbkQsU0FBU3hJLEVBQUdsQixLQUFLNk0sR0FFdEYsUUFBVSxHQUFJdkQsRUFBSyxNQUFNQSxFQUFJaEksWUFJakNpTCxFQUFXUSxPQUFPek4sTUFHMUIsSUFBSWdOLEVBQWtCaE4sS0FBS2dOLGdCQUMzQixHQUFJN0osRUFBYVcsV0FBV2tKLEdBQ3hCLElBQ0lBLElBRUosTUFBT1IsR0FDSGEsRUFBU2IsYUFBYU8sRUFBc0JXLG9CQUFzQmxCLEVBQUVhLE9BQVMsQ0FBQ2IsR0FHdEYsSUFBSVUsRUFBYWxOLEtBQUtrTixXQUN0QixHQUFJQSxFQUFZLENBQ1psTixLQUFLa04sV0FBYSxLQUNsQixJQUNJLElBQUssSUFBSVMsRUFBZXpFLEVBQVNnRSxHQUFhVSxFQUFpQkQsRUFBYTFMLFFBQVMyTCxFQUFlcEUsS0FBTW9FLEVBQWlCRCxFQUFhMUwsT0FBUSxDQUM1SSxJQUFJNEwsRUFBYUQsRUFBZTNNLE1BQ2hDLElBQ0k2TSxFQUFhRCxHQUVqQixNQUFPdkosR0FDSCtJLEVBQVNBLE1BQUFBLEVBQXVDQSxFQUFTLEdBQ3JEL0ksYUFBZXlJLEVBQXNCVyxvQkFDckNMLEVBQVNYLEVBQWNBLEVBQWMsR0FBSUwsRUFBT2dCLElBQVVoQixFQUFPL0gsRUFBSStJLFNBR3JFQSxFQUFPbkYsS0FBSzVELEtBSzVCLE1BQU95SixHQUFTWCxFQUFNLENBQUVwTCxNQUFPK0wsR0FDL0IsUUFDSSxJQUNRSCxJQUFtQkEsRUFBZXBFLE9BQVM3RSxFQUFLZ0osRUFBYXZELFNBQVN6RixFQUFHakUsS0FBS2lOLEdBRXRGLFFBQVUsR0FBSVAsRUFBSyxNQUFNQSxFQUFJcEwsUUFHckMsR0FBSXFMLEVBQ0EsTUFBTSxJQUFJTixFQUFzQlcsb0JBQW9CTCxLQUloRTlDLEVBQWEvSixVQUFVNEYsSUFBTSxTQUFVNEgsR0FDbkMsSUFBSXBNLEVBQ0osR0FBSW9NLEdBQVlBLElBQWFoTyxLQUN6QixHQUFJQSxLQUFLMkMsT0FDTG1MLEVBQWFFLE9BRVosQ0FDRCxHQUFJQSxhQUFvQnpELEVBQWMsQ0FDbEMsR0FBSXlELEVBQVNyTCxRQUFVcUwsRUFBU0MsV0FBV2pPLE1BQ3ZDLE9BRUpnTyxFQUFTRSxXQUFXbE8sT0FFdkJBLEtBQUtrTixXQUF3QyxRQUExQnRMLEVBQUs1QixLQUFLa04sa0JBQStCLElBQVB0TCxFQUFnQkEsRUFBSyxJQUFJc0csS0FBSzhGLEtBSWhHekQsRUFBYS9KLFVBQVV5TixXQUFhLFNBQVVFLEdBQzFDLElBQUlsQixFQUFhak4sS0FBS2lOLFdBQ3RCLE9BQU9BLElBQWVrQixHQUFXN04sTUFBTWdOLFFBQVFMLElBQWVBLEVBQVdtQixTQUFTRCxJQUV0RjVELEVBQWEvSixVQUFVME4sV0FBYSxTQUFVQyxHQUMxQyxJQUFJbEIsRUFBYWpOLEtBQUtpTixXQUN0QmpOLEtBQUtpTixXQUFhM00sTUFBTWdOLFFBQVFMLElBQWVBLEVBQVcvRSxLQUFLaUcsR0FBU2xCLEdBQWNBLEVBQWEsQ0FBQ0EsRUFBWWtCLEdBQVVBLEdBRTlINUQsRUFBYS9KLFVBQVU2TixjQUFnQixTQUFVRixHQUM3QyxJQUFJbEIsRUFBYWpOLEtBQUtpTixXQUNsQkEsSUFBZWtCLEVBQ2ZuTyxLQUFLaU4sV0FBYSxLQUViM00sTUFBTWdOLFFBQVFMLElBQ25CckQsRUFBWVksVUFBVXlDLEVBQVlrQixJQUcxQzVELEVBQWEvSixVQUFVaU4sT0FBUyxTQUFVTyxHQUN0QyxJQUFJZCxFQUFhbE4sS0FBS2tOLFdBQ3RCQSxHQUFjdEQsRUFBWVksVUFBVTBDLEVBQVljLEdBQzVDQSxhQUFvQnpELEdBQ3BCeUQsRUFBU0ssY0FBY3JPLE9BRy9CdUssRUFBYXBHLFFBQ0xnSixFQUFRLElBQUk1QyxHQUNWNUgsUUFBUyxFQUNSd0ssR0FFSjVDLEVBMUhRLEdBbUluQixTQUFTdUQsRUFBYUUsR0FDZDdLLEVBQWFXLFdBQVdrSyxHQUN4QkEsSUFHQUEsRUFBU3BILGNBWmpCbkgsRUFBUThLLGFBQWVBLEVBQ3ZCOUssRUFBUTZLLG1CQUFxQkMsRUFBYXBHLE1BSzFDMUUsRUFBUXdHLGVBSlIsU0FBd0JoRixHQUNwQixPQUFRQSxhQUFpQnNKLEdBQ3BCdEosR0FBUyxXQUFZQSxHQUFTa0MsRUFBYVcsV0FBVzdDLEVBQU13TSxTQUFXdEssRUFBYVcsV0FBVzdDLEVBQU1tRixNQUFRakQsRUFBYVcsV0FBVzdDLEVBQU0yRiw0QkNyS3BKekcsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVEySCxZQUFTLEVBQ2pCM0gsRUFBUTJILE9BQVMsQ0FDYmtILGlCQUFrQixLQUNsQnJDLHNCQUF1QixLQUN2QjVFLGFBQVM5QyxFQUNUdUgsdUNBQXVDLEVBQ3ZDRCwwQkFBMEIseUJDUDlCLElBQ1EvTCxFQURKQyxFQUFhQyxNQUFRQSxLQUFLRCxZQUN0QkQsRUFBZ0IsU0FBVUcsRUFBR0MsR0FJN0IsT0FIQUosRUFBZ0JLLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxLQUN6RlQsRUFBY0csRUFBR0MsSUFFckIsU0FBVUQsRUFBR0MsR0FDaEIsR0FBaUIsbUJBQU5BLEdBQTBCLE9BQU5BLEVBQzNCLE1BQU0sSUFBSVMsVUFBVSx1QkFBeUJDLE9BQU9WLEdBQUssaUNBRTdELFNBQVNXLElBQU9iLEtBQUtjLFlBQWNiLEVBRG5DSCxFQUFjRyxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1ksT0FBT2IsSUFBTVcsRUFBR0wsVUFBWU4sRUFBRU0sVUFBVyxJQUFJSyxLQUd2RlYsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVE4TywyQkFBd0IsRUFDaEMsSUFBSTdFLEVBQWUsRUFBUSxNQUN2QnRFLEVBQWlCLEVBQVEsTUFDekJvSixFQUFhLEVBQVEsTUFDckJDLEVBQXVCLEVBQVEsTUFDL0JDLEVBQVMsRUFBUSxNQUNqQkgsRUFBeUIsU0FBVXBOLEdBRW5DLFNBQVNvTixFQUFzQjFJLEVBQVE4SSxHQUNuQyxJQUFJdk4sRUFBUUQsRUFBT1QsS0FBS1YsT0FBU0EsS0FTakMsT0FSQW9CLEVBQU15RSxPQUFTQSxFQUNmekUsRUFBTXVOLGVBQWlCQSxFQUN2QnZOLEVBQU13TixTQUFXLEtBQ2pCeE4sRUFBTXlOLFVBQVksRUFDbEJ6TixFQUFNME4sWUFBYyxLQUNoQkosRUFBT0ssUUFBUWxKLEtBQ2Z6RSxFQUFNc0UsS0FBT0csRUFBT0gsTUFFakJ0RSxFQXlDWCxPQXBEQXJCLEVBQVV3TyxFQUF1QnBOLEdBYWpDb04sRUFBc0IvTixVQUFVaUMsV0FBYSxTQUFVZCxHQUNuRCxPQUFPM0IsS0FBS2dQLGFBQWF2SixVQUFVOUQsSUFFdkM0TSxFQUFzQi9OLFVBQVV3TyxXQUFhLFdBQ3pDLElBQUlsRixFQUFVOUosS0FBSzRPLFNBSW5CLE9BSEs5RSxJQUFXQSxFQUFRL0gsWUFDcEIvQixLQUFLNE8sU0FBVzVPLEtBQUsyTyxrQkFFbEIzTyxLQUFLNE8sVUFFaEJMLEVBQXNCL04sVUFBVXlPLFVBQVksV0FDeENqUCxLQUFLNk8sVUFBWSxFQUNqQixJQUFJQyxFQUFjOU8sS0FBSzhPLFlBQ3ZCOU8sS0FBSzRPLFNBQVc1TyxLQUFLOE8sWUFBYyxLQUNuQ0EsTUFBQUEsR0FBMERBLEVBQVlsSSxlQUUxRTJILEVBQXNCL04sVUFBVTBPLFFBQVUsV0FDdEMsSUFBSTlOLEVBQVFwQixLQUNSbVAsRUFBYW5QLEtBQUs4TyxZQUN0QixJQUFLSyxFQUFZLENBQ2JBLEVBQWFuUCxLQUFLOE8sWUFBYyxJQUFJMUosRUFBZW1GLGFBQ25ELElBQUk2RSxFQUFZcFAsS0FBS2dQLGFBQ3JCRyxFQUFXL0ksSUFBSXBHLEtBQUs2RixPQUFPSixVQUFVZ0osRUFBcUJZLHlCQUF5QkQsT0FBVzdLLEdBQVcsV0FDckduRCxFQUFNNk4sWUFDTkcsRUFBVWxOLGNBQ1gsU0FBVW9DLEdBQ1RsRCxFQUFNNk4sWUFDTkcsRUFBVXBOLE1BQU1zQyxNQUNqQixXQUFjLE9BQU9sRCxFQUFNNk4saUJBQzFCRSxFQUFXeE0sU0FDWDNDLEtBQUs4TyxZQUFjLEtBQ25CSyxFQUFhL0osRUFBZW1GLGFBQWFwRyxPQUdqRCxPQUFPZ0wsR0FFWFosRUFBc0IvTixVQUFVOE8sU0FBVyxXQUN2QyxPQUFPZCxFQUFXYyxVQUFYZCxDQUFzQnhPLE9BRTFCdU8sRUFyRGlCLENBc0QxQjdFLEVBQWF4RSxZQUNmekYsRUFBUThPLHNCQUF3QkEsa0JDN0VoQ3BPLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFROFAsa0JBQW9COVAsRUFBUStQLG1CQUFnQixFQUNwRCxJQUFJOUYsRUFBZSxFQUFRLE1BQ3ZCK0YsRUFBeUIsRUFBUSxNQUNqQ0MsRUFBUyxFQUFRLE1BQ2pCQyxFQUFhLEVBQVEsTUFDckJDLEVBQXFCLEVBQVEsTUFDN0JDLEVBQVMsRUFBUSxNQUNqQkMsRUFBaUIsRUFBUSxLQUN6QnJCLEVBQXVCLEVBQVEsTUFDL0JzQixFQUFvQixFQUFRLE1Bb0JoQyxTQUFTUixFQUFrQlMsRUFBYUMsRUFBV0MsR0FFL0MsWUFEdUIsSUFBbkJBLElBQTZCQSxFQUFpQlAsRUFBV1EsVUFDdEQsU0FBVXhPLEdBQ2J5TyxFQUFjSCxHQUFXLFdBeUJyQixJQXhCQSxJQUFJakosRUFBU2dKLEVBQVloSixPQUNyQnFKLEVBQVMsSUFBSS9QLE1BQU0wRyxHQUNuQnNKLEVBQVN0SixFQUNUdUosRUFBdUJ2SixFQUN2QndKLEVBQVUsU0FBVWhJLEdBQ3BCNEgsRUFBY0gsR0FBVyxXQUNyQixJQUFJcEssRUFBUzZKLEVBQU85QyxLQUFLb0QsRUFBWXhILEdBQUl5SCxHQUNyQ1EsR0FBZ0IsRUFDcEI1SyxFQUFPSixVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLEdBQVksU0FBVVYsR0FDakZvUCxFQUFPN0gsR0FBS3ZILEVBQ1B3UCxJQUNEQSxHQUFnQixFQUNoQkYsS0FFQ0EsR0FDRDVPLEVBQVdNLEtBQUtpTyxFQUFlRyxFQUFPOUgsYUFFM0MsYUFDUStILEdBQ0gzTyxFQUFXTyxpQkFHcEJQLElBRUU2RyxFQUFJLEVBQUdBLEVBQUl4QixFQUFRd0IsSUFDeEJnSSxFQUFRaEksS0FFYjdHLElBSVgsU0FBU3lPLEVBQWNILEVBQVdTLEVBQVNoTyxHQUNuQ3VOLEVBQ0FGLEVBQWtCWSxnQkFBZ0JqTyxFQUFjdU4sRUFBV1MsR0FHM0RBLElBekNSalIsRUFBUStQLGNBbEJSLFdBRUksSUFEQSxJQUFJb0IsRUFBTyxHQUNGN0osRUFBSyxFQUFHQSxFQUFLekYsVUFBVTBGLE9BQVFELElBQ3BDNkosRUFBSzdKLEdBQU16RixVQUFVeUYsR0FFekIsSUFBSWtKLEVBQVlKLEVBQU9nQixhQUFhRCxHQUNoQ0UsRUFBaUJqQixFQUFPa0Isa0JBQWtCSCxHQUMxQ2hQLEVBQUs2TixFQUF1QnVCLHFCQUFxQkosR0FBT1osRUFBY3BPLEVBQUdnUCxLQUFNSyxFQUFPclAsRUFBR3FQLEtBQzdGLEdBQTJCLElBQXZCakIsRUFBWWhKLE9BQ1osT0FBTzBJLEVBQU85QyxLQUFLLEdBQUlxRCxHQUUzQixJQUFJak0sRUFBUyxJQUFJMEYsRUFBYXhFLFdBQVdxSyxFQUFrQlMsRUFBYUMsRUFBV2dCLEVBRTNFLFNBQVVaLEdBQVUsT0FBT1AsRUFBZW9CLGFBQWFELEVBQU1aLElBRTdEVixFQUFXUSxXQUNuQixPQUFPVyxFQUFpQjlNLEVBQU82QyxLQUFLK0ksRUFBbUJ1QixpQkFBaUJMLElBQW1COU0sR0FxQy9GdkUsRUFBUThQLGtCQUFvQkEsa0JDaEU1QnBQLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRMlIsWUFBUyxFQUNqQixJQUFJQyxFQUFjLEVBQVEsTUFDdEJ4QixFQUFTLEVBQVEsTUFDakJILEVBQVMsRUFBUSxNQVFyQmpRLEVBQVEyUixPQVBSLFdBRUksSUFEQSxJQUFJUixFQUFPLEdBQ0Y3SixFQUFLLEVBQUdBLEVBQUt6RixVQUFVMEYsT0FBUUQsSUFDcEM2SixFQUFLN0osR0FBTXpGLFVBQVV5RixHQUV6QixPQUFPc0ssRUFBWUMsV0FBWkQsQ0FBd0IzQixFQUFPOUMsS0FBS2dFLEVBQU1mLEVBQU9nQixhQUFhRCxzQkNWekV6USxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTBOLE1BQVExTixFQUFRMEUsV0FBUSxFQUNoQyxJQUFJdUYsRUFBZSxFQUFRLE1BQzNCakssRUFBUTBFLE1BQVEsSUFBSXVGLEVBQWF4RSxZQUFXLFNBQVV2RCxHQUFjLE9BQU9BLEVBQVdPLGNBSXRGekMsRUFBUTBOLE1BSFIsU0FBZThDLEdBQ1gsT0FBT0EsRUFHWCxTQUF3QkEsR0FDcEIsT0FBTyxJQUFJdkcsRUFBYXhFLFlBQVcsU0FBVXZELEdBQWMsT0FBT3NPLEVBQVVuSCxVQUFTLFdBQWMsT0FBT25ILEVBQVdPLGlCQUpsR3FQLENBQWV0QixHQUFheFEsRUFBUTBFLHVCQ0wzRGhFLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRbU4sVUFBTyxFQUNmLElBQUk0RSxFQUFjLEVBQVEsTUFDdEJDLEVBQWMsRUFBUSxNQUkxQmhTLEVBQVFtTixLQUhSLFNBQWM4RSxFQUFPekIsR0FDakIsT0FBT0EsRUFBWXVCLEVBQVlHLFVBQVVELEVBQU96QixHQUFhd0IsRUFBWUcsVUFBVUYsbUJDTHZGdlIsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFvUyxzQkFBbUIsRUFDM0IsSUFBSW5JLEVBQWUsRUFBUSxNQUkzQmpLLEVBQVFvUyxpQkFIUixTQUEwQkMsR0FDdEIsT0FBTyxJQUFJcEksRUFBYXhFLFlBQVcsU0FBVXZELEdBQWMsT0FBT21RLEVBQWFyTSxVQUFVOUQsNkJDSjdGLElBQUlvUSxFQUFhL1IsTUFBUUEsS0FBSytSLFdBQWMsU0FBVXZHLEVBQVN3RyxFQUFZQyxFQUFHQyxHQUUxRSxPQUFPLElBQUtELElBQU1BLEVBQUk1SyxXQUFVLFNBQVVYLEVBQVNDLEdBQy9DLFNBQVN3TCxFQUFVbFIsR0FBUyxJQUFNbVIsRUFBS0YsRUFBVWpRLEtBQUtoQixJQUFXLE1BQU91TCxHQUFLN0YsRUFBTzZGLElBQ3BGLFNBQVM2RixFQUFTcFIsR0FBUyxJQUFNbVIsRUFBS0YsRUFBaUIsTUFBRWpSLElBQVcsTUFBT3VMLEdBQUs3RixFQUFPNkYsSUFDdkYsU0FBUzRGLEVBQUtwTyxHQUpsQixJQUFlL0MsRUFJYStDLEVBQU93RixLQUFPOUMsRUFBUTFDLEVBQU8vQyxRQUoxQ0EsRUFJeUQrQyxFQUFPL0MsTUFKaERBLGFBQWlCZ1IsRUFBSWhSLEVBQVEsSUFBSWdSLEdBQUUsU0FBVXZMLEdBQVdBLEVBQVF6RixPQUlUcVIsS0FBS0gsRUFBV0UsR0FDbEdELEdBQU1GLEVBQVlBLEVBQVU3USxNQUFNbUssRUFBU3dHLEdBQWMsS0FBSy9QLFlBR2xFc1EsRUFBZXZTLE1BQVFBLEtBQUt1UyxhQUFnQixTQUFVL0csRUFBU2dILEdBQy9ELElBQXNHQyxFQUFHQyxFQUFHQyxFQUFHQyxFQUEzR0MsRUFBSSxDQUFFQyxNQUFPLEVBQUdDLEtBQU0sV0FBYSxHQUFXLEVBQVBKLEVBQUUsR0FBUSxNQUFNQSxFQUFFLEdBQUksT0FBT0EsRUFBRSxJQUFPSyxLQUFNLEdBQUlDLElBQUssSUFDaEcsT0FBT0wsRUFBSSxDQUFFM1EsS0FBTWlSLEVBQUssR0FBSSxNQUFTQSxFQUFLLEdBQUksT0FBVUEsRUFBSyxJQUF3QixtQkFBWDdKLFNBQTBCdUosRUFBRXZKLE9BQU9DLFVBQVksV0FBYSxPQUFPdEosT0FBVTRTLEVBQ3ZKLFNBQVNNLEVBQUs1RyxHQUFLLE9BQU8sU0FBVTZHLEdBQUssT0FDekMsU0FBY0MsR0FDVixHQUFJWCxFQUFHLE1BQU0sSUFBSTlSLFVBQVUsbUNBQzNCLEtBQU9rUyxPQUNILEdBQUlKLEVBQUksRUFBR0MsSUFBTUMsRUFBWSxFQUFSUyxFQUFHLEdBQVNWLEVBQVUsT0FBSVUsRUFBRyxHQUFLVixFQUFTLFNBQU9DLEVBQUlELEVBQVUsU0FBTUMsRUFBRWpTLEtBQUtnUyxHQUFJLEdBQUtBLEVBQUV6USxTQUFXMFEsRUFBSUEsRUFBRWpTLEtBQUtnUyxFQUFHVSxFQUFHLEtBQUs1SixLQUFNLE9BQU9tSixFQUUzSixPQURJRCxFQUFJLEVBQUdDLElBQUdTLEVBQUssQ0FBUyxFQUFSQSxFQUFHLEdBQVFULEVBQUUxUixRQUN6Qm1TLEVBQUcsSUFDUCxLQUFLLEVBQUcsS0FBSyxFQUFHVCxFQUFJUyxFQUFJLE1BQ3hCLEtBQUssRUFBYyxPQUFYUCxFQUFFQyxRQUFnQixDQUFFN1IsTUFBT21TLEVBQUcsR0FBSTVKLE1BQU0sR0FDaEQsS0FBSyxFQUFHcUosRUFBRUMsUUFBU0osRUFBSVUsRUFBRyxHQUFJQSxFQUFLLENBQUMsR0FBSSxTQUN4QyxLQUFLLEVBQUdBLEVBQUtQLEVBQUVJLElBQUlJLE1BQU9SLEVBQUVHLEtBQUtLLE1BQU8sU0FDeEMsUUFDSSxNQUFrQlYsR0FBWkEsRUFBSUUsRUFBRUcsTUFBWWhNLE9BQVMsR0FBSzJMLEVBQUVBLEVBQUUzTCxPQUFTLEtBQWtCLElBQVZvTSxFQUFHLElBQXNCLElBQVZBLEVBQUcsSUFBVyxDQUFFUCxFQUFJLEVBQUcsU0FDakcsR0FBYyxJQUFWTyxFQUFHLE1BQWNULEdBQU1TLEVBQUcsR0FBS1QsRUFBRSxJQUFNUyxFQUFHLEdBQUtULEVBQUUsSUFBTSxDQUFFRSxFQUFFQyxNQUFRTSxFQUFHLEdBQUksTUFDOUUsR0FBYyxJQUFWQSxFQUFHLElBQVlQLEVBQUVDLE1BQVFILEVBQUUsR0FBSSxDQUFFRSxFQUFFQyxNQUFRSCxFQUFFLEdBQUlBLEVBQUlTLEVBQUksTUFDN0QsR0FBSVQsR0FBS0UsRUFBRUMsTUFBUUgsRUFBRSxHQUFJLENBQUVFLEVBQUVDLE1BQVFILEVBQUUsR0FBSUUsRUFBRUksSUFBSS9LLEtBQUtrTCxHQUFLLE1BQ3ZEVCxFQUFFLElBQUlFLEVBQUVJLElBQUlJLE1BQ2hCUixFQUFFRyxLQUFLSyxNQUFPLFNBRXRCRCxFQUFLWixFQUFLOVIsS0FBSzhLLEVBQVNxSCxHQUMxQixNQUFPckcsR0FBSzRHLEVBQUssQ0FBQyxFQUFHNUcsR0FBSWtHLEVBQUksRUFBSyxRQUFVRCxFQUFJRSxFQUFJLEVBQ3RELEdBQVksRUFBUlMsRUFBRyxHQUFRLE1BQU1BLEVBQUcsR0FBSSxNQUFPLENBQUVuUyxNQUFPbVMsRUFBRyxHQUFLQSxFQUFHLFFBQUssRUFBUTVKLE1BQU0sR0FyQjlCNEksQ0FBSyxDQUFDOUYsRUFBRzZHLE9Bd0J6REcsRUFBaUJ0VCxNQUFRQSxLQUFLc1QsZUFBa0IsU0FBVW5LLEdBQzFELElBQUtFLE9BQU9rSyxjQUFlLE1BQU0sSUFBSTVTLFVBQVUsd0NBQy9DLElBQWlDNkgsRUFBN0JlLEVBQUlKLEVBQUVFLE9BQU9rSyxlQUNqQixPQUFPaEssRUFBSUEsRUFBRTdJLEtBQUt5SSxJQUFNQSxFQUF3QixtQkFBYkQsRUFBMEJBLEVBQVNDLEdBQUtBLEVBQUVFLE9BQU9DLFlBQWFkLEVBQUksR0FBSTBLLEVBQUssUUFBU0EsRUFBSyxTQUFVQSxFQUFLLFVBQVcxSyxFQUFFYSxPQUFPa0ssZUFBaUIsV0FBYyxPQUFPdlQsTUFBU3dJLEdBQzlNLFNBQVMwSyxFQUFLNUcsR0FBSzlELEVBQUU4RCxHQUFLbkQsRUFBRW1ELElBQU0sU0FBVTZHLEdBQUssT0FBTyxJQUFJOUwsU0FBUSxTQUFVWCxFQUFTQyxJQUN2RixTQUFnQkQsRUFBU0MsRUFBUTFHLEVBQUdrVCxHQUFLOUwsUUFBUVgsUUFBUXlNLEdBQUdiLE1BQUssU0FBU2EsR0FBS3pNLEVBQVEsQ0FBRXpGLE1BQU9rUyxFQUFHM0osS0FBTXZKLE1BQVMwRyxHQURKNk0sQ0FBTzlNLEVBQVNDLEdBQTdCd00sRUFBSWhLLEVBQUVtRCxHQUFHNkcsSUFBOEIzSixLQUFNMkosRUFBRWxTLGFBR2hKaUksRUFBWWxKLE1BQVFBLEtBQUtrSixVQUFhLFNBQVNDLEdBQy9DLElBQUlDLEVBQXNCLG1CQUFYQyxRQUF5QkEsT0FBT0MsU0FBVUMsRUFBSUgsR0FBS0QsRUFBRUMsR0FBSVosRUFBSSxFQUM1RSxHQUFJZSxFQUFHLE9BQU9BLEVBQUU3SSxLQUFLeUksR0FDckIsR0FBSUEsR0FBeUIsaUJBQWJBLEVBQUVuQyxPQUFxQixNQUFPLENBQzFDL0UsS0FBTSxXQUVGLE9BRElrSCxHQUFLWCxHQUFLVyxFQUFFbkMsU0FBUW1DLE9BQUksR0FDckIsQ0FBRWxJLE1BQU9rSSxHQUFLQSxFQUFFWCxLQUFNZ0IsTUFBT0wsS0FHNUMsTUFBTSxJQUFJeEksVUFBVXlJLEVBQUksMEJBQTRCLG9DQUV4RGpKLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRZ1UsdUJBQXlCaFUsRUFBUWlVLGtCQUFvQmpVLEVBQVFrVSxhQUFlbFUsRUFBUW1VLFlBQWNuVSxFQUFRb1UsY0FBZ0JwVSxFQUFRcVUsc0JBQXdCclUsRUFBUW1TLGVBQVksRUFDdEwsSUFBSW1DLEVBQWdCLEVBQVEsTUFDeEJDLEVBQWMsRUFBUSxNQUN0QnRLLEVBQWUsRUFBUSxNQUN2QnVLLEVBQXdCLEVBQVEsTUFDaENDLEVBQW9CLEVBQVEsTUFDNUJDLEVBQTJCLEVBQVEsTUFDbkNDLEVBQWUsRUFBUSxNQUN2QkMsRUFBeUIsRUFBUSxNQUNqQ2xSLEVBQWUsRUFBUSxNQUN2QnlILEVBQXlCLEVBQVEsTUFDakN2RixFQUFlLEVBQVEsTUE0QjNCLFNBQVN5TyxFQUFzQlEsR0FDM0IsT0FBTyxJQUFJNUssRUFBYXhFLFlBQVcsU0FBVXZELEdBQ3pDLElBQUk0UyxFQUFNRCxFQUFJalAsRUFBYU8sY0FDM0IsR0FBSXpDLEVBQWFXLFdBQVd5USxFQUFJOU8sV0FDNUIsT0FBTzhPLEVBQUk5TyxVQUFVOUQsR0FFekIsTUFBTSxJQUFJaEIsVUFBVSxxRUFJNUIsU0FBU2tULEVBQWNXLEdBQ25CLE9BQU8sSUFBSTlLLEVBQWF4RSxZQUFXLFNBQVV2RCxHQUN6QyxJQUFLLElBQUk2RyxFQUFJLEVBQUdBLEVBQUlnTSxFQUFNeE4sU0FBV3JGLEVBQVdnQixPQUFRNkYsSUFDcEQ3RyxFQUFXTSxLQUFLdVMsRUFBTWhNLElBRTFCN0csRUFBV08sY0FJbkIsU0FBUzBSLEVBQVlhLEdBQ2pCLE9BQU8sSUFBSS9LLEVBQWF4RSxZQUFXLFNBQVV2RCxHQUN6QzhTLEVBQ0tuQyxNQUFLLFNBQVVyUixHQUNYVSxFQUFXZ0IsU0FDWmhCLEVBQVdNLEtBQUtoQixHQUNoQlUsRUFBV08sZUFFaEIsU0FBVW9DLEdBQU8sT0FBTzNDLEVBQVdLLE1BQU1zQyxNQUN2Q2dPLEtBQUssS0FBTTFILEVBQXVCb0IseUJBSS9DLFNBQVMySCxFQUFhZSxHQUNsQixPQUFPLElBQUloTCxFQUFheEUsWUFBVyxTQUFVdkQsR0FDekMsSUFBSXFJLEVBQUtwSSxFQUNULElBQ0ksSUFBSyxJQUFJK1MsRUFBYXpMLEVBQVN3TCxHQUFXRSxFQUFlRCxFQUFXMVMsUUFBUzJTLEVBQWFwTCxLQUFNb0wsRUFBZUQsRUFBVzFTLE9BQVEsQ0FDOUgsSUFBSWhCLEVBQVEyVCxFQUFhM1QsTUFFekIsR0FEQVUsRUFBV00sS0FBS2hCLEdBQ1pVLEVBQVdnQixPQUNYLFFBSVosTUFBT3dILEdBQVNILEVBQU0sQ0FBRWhJLE1BQU9tSSxHQUMvQixRQUNJLElBQ1F5SyxJQUFpQkEsRUFBYXBMLE9BQVM1SCxFQUFLK1MsRUFBV3ZLLFNBQVN4SSxFQUFHbEIsS0FBS2lVLEdBRWhGLFFBQVUsR0FBSTNLLEVBQUssTUFBTUEsRUFBSWhJLE9BRWpDTCxFQUFXTyxjQUluQixTQUFTd1IsRUFBa0JtQixHQUN2QixPQUFPLElBQUluTCxFQUFheEUsWUFBVyxTQUFVdkQsSUFTakQsU0FBaUJrVCxFQUFlbFQsR0FDNUIsSUFBSW1ULEVBQWlCQyxFQUNqQjNILEVBQUt4TCxFQUNULE9BQU9tUSxFQUFVL1IsVUFBTSxPQUFRLEdBQVEsV0FDbkMsSUFBSWlCLEVBQU84TSxFQUNYLE9BQU93RSxFQUFZdlMsTUFBTSxTQUFVMkUsR0FDL0IsT0FBUUEsRUFBR21PLE9BQ1AsS0FBSyxFQUNEbk8sRUFBR3FPLEtBQUs5SyxLQUFLLENBQUMsRUFBRyxFQUFHLEVBQUcsS0FDdkI0TSxFQUFrQnhCLEVBQWN1QixHQUNoQ2xRLEVBQUdtTyxNQUFRLEVBQ2YsS0FBSyxFQUFHLE1BQU8sQ0FBQyxFQUFHZ0MsRUFBZ0I3UyxRQUNuQyxLQUFLLEVBQ0QsSUFBTThTLEVBQW9CcFEsRUFBR29PLFFBQTJCdkosS0FBTyxNQUFPLENBQUMsRUFBRyxHQUcxRSxHQUZBdkksRUFBUThULEVBQWtCOVQsTUFDMUJVLEVBQVdNLEtBQUtoQixHQUNaVSxFQUFXZ0IsT0FDWCxNQUFPLENBQUMsR0FFWmdDLEVBQUdtTyxNQUFRLEVBQ2YsS0FBSyxFQUFHLE1BQU8sQ0FBQyxFQUFHLEdBQ25CLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBRyxJQUNuQixLQUFLLEVBR0QsT0FGQS9FLEVBQVFwSixFQUFHb08sT0FDWDNGLEVBQU0sQ0FBRXBMLE1BQU8rTCxHQUNSLENBQUMsRUFBRyxJQUNmLEtBQUssRUFFRCxPQURBcEosRUFBR3FPLEtBQUs5SyxLQUFLLENBQUMsRUFBRyxDQUFFLEVBQUcsS0FDaEI2TSxJQUFzQkEsRUFBa0J2TCxPQUFTNUgsRUFBS2tULEVBQWdCMUssUUFDckUsQ0FBQyxFQUFHeEksRUFBR2xCLEtBQUtvVSxJQUQwRSxDQUFDLEVBQUcsR0FFckcsS0FBSyxFQUNEblEsRUFBR29PLE9BQ0hwTyxFQUFHbU8sTUFBUSxFQUNmLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBRyxJQUNuQixLQUFLLEVBQ0QsR0FBSTFGLEVBQUssTUFBTUEsRUFBSXBMLE1BQ25CLE1BQU8sQ0FBQyxHQUNaLEtBQUssR0FBSSxNQUFPLENBQUMsR0FDakIsS0FBSyxHQUVELE9BREFMLEVBQVdPLFdBQ0osQ0FBQyxXQWhEcEI4UyxDQUFRSCxFQUFlbFQsR0FBWXNULE9BQU0sU0FBVTNRLEdBQU8sT0FBTzNDLEVBQVdLLE1BQU1zQyxTQUkxRixTQUFTbVAsRUFBdUJ5QixHQUM1QixPQUFPeEIsRUFBa0JXLEVBQXVCYyxtQ0FBbUNELElBL0R2RnpWLEVBQVFtUyxVQTFCUixTQUFtQkYsR0FDZixHQUFJQSxhQUFpQmhJLEVBQWF4RSxXQUM5QixPQUFPd00sRUFFWCxHQUFhLE1BQVRBLEVBQWUsQ0FDZixHQUFJdUMsRUFBc0JtQixvQkFBb0IxRCxHQUMxQyxPQUFPb0MsRUFBc0JwQyxHQUVqQyxHQUFJcUMsRUFBY3NCLFlBQVkzRCxHQUMxQixPQUFPbUMsRUFBY25DLEdBRXpCLEdBQUlzQyxFQUFZc0IsVUFBVTVELEdBQ3RCLE9BQU9rQyxFQUFZbEMsR0FFdkIsR0FBSXdDLEVBQWtCcUIsZ0JBQWdCN0QsR0FDbEMsT0FBT2dDLEVBQWtCaEMsR0FFN0IsR0FBSTBDLEVBQWFvQixXQUFXOUQsR0FDeEIsT0FBT2lDLEVBQWFqQyxHQUV4QixHQUFJMkMsRUFBdUJvQixxQkFBcUIvRCxHQUM1QyxPQUFPK0IsRUFBdUIvQixHQUd0QyxNQUFNeUMsRUFBeUJ1QixpQ0FBaUNoRSxJQVlwRWpTLEVBQVFxVSxzQkFBd0JBLEVBU2hDclUsRUFBUW9VLGNBQWdCQSxFQWF4QnBVLEVBQVFtVSxZQUFjQSxFQXVCdEJuVSxFQUFRa1UsYUFBZUEsRUFNdkJsVSxFQUFRaVUsa0JBQW9CQSxFQUk1QmpVLEVBQVFnVSx1QkFBeUJBLGtCQzlKakN0VCxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUWtXLGNBQVcsRUFDbkIsSUFBSUMsRUFBVSxFQUFRLE1BQ2xCQyxFQUFVLEVBQVEsTUFTdEJwVyxFQUFRa1csU0FSUixTQUFrQkcsRUFBUTdGLEdBTXRCLFlBTGUsSUFBWDZGLElBQXFCQSxFQUFTLFFBQ2hCLElBQWQ3RixJQUF3QkEsRUFBWTJGLEVBQVFHLGdCQUM1Q0QsRUFBUyxJQUNUQSxFQUFTLEdBRU5ELEVBQVFHLE1BQU1GLEVBQVFBLEVBQVE3RixvQkNWekM5UCxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXdFLFFBQUssRUFDYixJQUFJNEwsRUFBUyxFQUFRLE1BQ2pCSCxFQUFTLEVBQVEsTUFTckJqUSxFQUFRd0UsR0FSUixXQUVJLElBREEsSUFBSTJNLEVBQU8sR0FDRjdKLEVBQUssRUFBR0EsRUFBS3pGLFVBQVUwRixPQUFRRCxJQUNwQzZKLEVBQUs3SixHQUFNekYsVUFBVXlGLEdBRXpCLElBQUlrSixFQUFZSixFQUFPZ0IsYUFBYUQsR0FDcEMsT0FBT2xCLEVBQU85QyxLQUFLZ0UsRUFBTVgsb0JDVjdCOVAsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVF3VyxTQUFXeFcsRUFBUXlXLFVBQU8sRUFDbEMsSUFBSXhNLEVBQWUsRUFBUSxNQUN2QitILEVBQWMsRUFBUSxNQUN0QjBFLEVBQW1CLEVBQVEsTUFDM0IxSCxFQUF1QixFQUFRLE1BVW5DLFNBQVN3SCxFQUFTRyxHQUNkLE9BQU8sU0FBVXpVLEdBYWIsSUFaQSxJQUFJMFUsRUFBZ0IsR0FDaEI3RixFQUFVLFNBQVVoSSxHQUNwQjZOLEVBQWNuTyxLQUFLdUosRUFBWUcsVUFBVXdFLEVBQVE1TixJQUFJL0MsVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVWLEdBQy9ILEdBQUlvVixFQUFlLENBQ2YsSUFBSyxJQUFJak4sRUFBSSxFQUFHQSxFQUFJaU4sRUFBY3JQLE9BQVFvQyxJQUN0Q0EsSUFBTVosR0FBSzZOLEVBQWNqTixHQUFHeEMsY0FFaEN5UCxFQUFnQixLQUVwQjFVLEVBQVdNLEtBQUtoQixTQUdmdUgsRUFBSSxFQUFHNk4sSUFBa0IxVSxFQUFXZ0IsUUFBVTZGLEVBQUk0TixFQUFRcFAsT0FBUXdCLElBQ3ZFZ0ksRUFBUWhJLElBaEJwQi9JLEVBQVF5VyxLQVJSLFdBRUksSUFEQSxJQUFJRSxFQUFVLEdBQ0xyUCxFQUFLLEVBQUdBLEVBQUt6RixVQUFVMEYsT0FBUUQsSUFDcENxUCxFQUFRclAsR0FBTXpGLFVBQVV5RixHQUc1QixPQUEwQixLQUQxQnFQLEVBQVVELEVBQWlCRyxlQUFlRixJQUMzQnBQLE9BQWV5SyxFQUFZRyxVQUFVd0UsRUFBUSxJQUFNLElBQUkxTSxFQUFheEUsV0FBVytRLEVBQVNHLEtBc0IzRzNXLEVBQVF3VyxTQUFXQSxrQkNsQ25COVYsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVF5RSxnQkFBYSxFQUNyQixJQUFJd0YsRUFBZSxFQUFRLE1BQ3ZCdkcsRUFBZSxFQUFRLE1BTTNCMUQsRUFBUXlFLFdBTFIsU0FBb0JxUyxFQUFxQnRHLEdBQ3JDLElBQUl1RyxFQUFlclQsRUFBYVcsV0FBV3lTLEdBQXVCQSxFQUFzQixXQUFjLE9BQU9BLEdBQ3pHRSxFQUFPLFNBQVU5VSxHQUFjLE9BQU9BLEVBQVdLLE1BQU13VSxNQUMzRCxPQUFPLElBQUk5TSxFQUFheEUsV0FBVytLLEVBQVksU0FBVXRPLEdBQWMsT0FBT3NPLEVBQVVuSCxTQUFTMk4sRUFBTSxFQUFHOVUsSUFBaUI4VSxvQkNQL0h0VyxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXVXLFdBQVEsRUFDaEIsSUFBSXRNLEVBQWUsRUFBUSxNQUN2QmtNLEVBQVUsRUFBUSxNQUNsQmMsRUFBZ0IsRUFBUSxNQUN4QkMsRUFBVyxFQUFRLE1BZ0N2QmxYLEVBQVF1VyxNQS9CUixTQUFlWSxFQUFTQyxFQUFxQjVHLFFBQ3pCLElBQVoyRyxJQUFzQkEsRUFBVSxRQUNsQixJQUFkM0csSUFBd0JBLEVBQVkyRixFQUFRa0IsT0FDaEQsSUFBSUMsR0FBb0IsRUFTeEIsT0FSMkIsTUFBdkJGLElBQ0lILEVBQWNNLFlBQVlILEdBQzFCNUcsRUFBWTRHLEVBR1pFLEVBQW1CRixHQUdwQixJQUFJbk4sRUFBYXhFLFlBQVcsU0FBVXZELEdBQ3pDLElBQUlzVixFQUFNTixFQUFTTyxZQUFZTixJQUFZQSxFQUFVM0csRUFBVTlILE1BQVF5TyxFQUNuRUssRUFBTSxJQUNOQSxFQUFNLEdBRVYsSUFBSTNLLEVBQUksRUFDUixPQUFPMkQsRUFBVW5ILFVBQVMsV0FDakJuSCxFQUFXZ0IsU0FDWmhCLEVBQVdNLEtBQUtxSyxLQUNaLEdBQUt5SyxFQUNML1csS0FBSzhJLGNBQVN2RSxFQUFXd1MsR0FHekJwVixFQUFXTyxjQUdwQitVLDZCQ2xDWCxJQUFJNUssRUFBVXJNLE1BQVFBLEtBQUtxTSxRQUFXLFNBQVVsRCxFQUFHbUQsR0FDL0MsSUFBSS9DLEVBQXNCLG1CQUFYRixRQUF5QkYsRUFBRUUsT0FBT0MsVUFDakQsSUFBS0MsRUFBRyxPQUFPSixFQUNmLElBQW1Cb0QsRUFBWUMsRUFBM0JoRSxFQUFJZSxFQUFFN0ksS0FBS3lJLEdBQU9zRCxFQUFLLEdBQzNCLElBQ0ksV0FBYyxJQUFOSCxHQUFnQkEsS0FBTSxNQUFRQyxFQUFJL0QsRUFBRXZHLFFBQVF1SCxNQUFNaUQsRUFBR3ZFLEtBQUtxRSxFQUFFdEwsT0FFeEUsTUFBT2UsR0FBU3dLLEVBQUksQ0FBRXhLLE1BQU9BLEdBQzdCLFFBQ0ksSUFDUXVLLElBQU1BLEVBQUUvQyxPQUFTRCxFQUFJZixFQUFVLFNBQUllLEVBQUU3SSxLQUFLOEgsR0FFbEQsUUFBVSxHQUFJZ0UsRUFBRyxNQUFNQSxFQUFFeEssT0FFN0IsT0FBT3lLLEdBRVBDLEVBQWlCMU0sTUFBUUEsS0FBSzBNLGVBQWtCLFNBQVVDLEVBQUlDLEdBQzlELElBQUssSUFBSXBFLEVBQUksRUFBR3FFLEVBQUtELEVBQUs1RixPQUFROEYsRUFBSUgsRUFBRzNGLE9BQVF3QixFQUFJcUUsRUFBSXJFLElBQUtzRSxJQUMxREgsRUFBR0csR0FBS0YsRUFBS3BFLEdBQ2pCLE9BQU9tRSxHQUVYeE0sT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVEwWCxTQUFNLEVBQ2QsSUFBSXpOLEVBQWUsRUFBUSxNQUN2QitILEVBQWMsRUFBUSxNQUN0QjBFLEVBQW1CLEVBQVEsTUFDM0JuVCxFQUFVLEVBQVEsTUFDbEJ5TCxFQUF1QixFQUFRLE1BQy9Cb0IsRUFBUyxFQUFRLE1BdUNyQnBRLEVBQVEwWCxJQXRDUixXQUVJLElBREEsSUFBSXZHLEVBQU8sR0FDRjdKLEVBQUssRUFBR0EsRUFBS3pGLFVBQVUwRixPQUFRRCxJQUNwQzZKLEVBQUs3SixHQUFNekYsVUFBVXlGLEdBRXpCLElBQUkrSixFQUFpQmpCLEVBQU9rQixrQkFBa0JILEdBQzFDd0YsRUFBVUQsRUFBaUJHLGVBQWUxRixHQUM5QyxPQUFPd0YsRUFBUXBQLE9BQ1QsSUFBSTBDLEVBQWF4RSxZQUFXLFNBQVV2RCxHQUNwQyxJQUFJeVYsRUFBVWhCLEVBQVFpQixLQUFJLFdBQWMsTUFBTyxNQUMzQ0MsRUFBWWxCLEVBQVFpQixLQUFJLFdBQWMsT0FBTyxLQUNqRDFWLEVBQVd5RSxLQUFJLFdBQ1hnUixFQUFVRSxFQUFZLFFBaUIxQixJQWZBLElBQUk5RyxFQUFVLFNBQVUrRyxHQUNwQjlGLEVBQVlHLFVBQVV3RSxFQUFRbUIsSUFBYzlSLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVVixHQUV0SCxHQURBbVcsRUFBUUcsR0FBYXJQLEtBQUtqSCxHQUN0Qm1XLEVBQVFJLE9BQU0sU0FBVUMsR0FBVSxPQUFPQSxFQUFPelEsVUFBWSxDQUM1RCxJQUFJaEQsRUFBU29ULEVBQVFDLEtBQUksU0FBVUksR0FBVSxPQUFPQSxFQUFPcE4sV0FDM0QxSSxFQUFXTSxLQUFLNk8sRUFBaUJBLEVBQWV6UCxXQUFNLEVBQVFxTCxFQUFjLEdBQUlMLEVBQU9ySSxLQUFZQSxHQUMvRm9ULEVBQVFNLE1BQUssU0FBVUQsRUFBUWpQLEdBQUssT0FBUWlQLEVBQU96USxRQUFVc1EsRUFBVTlPLE9BQ3ZFN0csRUFBV08sZUFHcEIsV0FDQ29WLEVBQVVDLElBQWUsR0FDeEJILEVBQVFHLEdBQWF2USxRQUFVckYsRUFBV08sZ0JBRzFDcVYsRUFBYyxHQUFJNVYsRUFBV2dCLFFBQVU0VSxFQUFjbkIsRUFBUXBQLE9BQVF1USxJQUMxRS9HLEVBQVErRyxHQUVaLE9BQU8sV0FDSEgsRUFBVUUsRUFBWSxTQUc1QnRVLEVBQVFtQiw2QkNqRWxCLElBQ1FyRSxFQURKQyxFQUFhQyxNQUFRQSxLQUFLRCxZQUN0QkQsRUFBZ0IsU0FBVUcsRUFBR0MsR0FJN0IsT0FIQUosRUFBZ0JLLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxLQUN6RlQsRUFBY0csRUFBR0MsSUFFckIsU0FBVUQsRUFBR0MsR0FDaEIsR0FBaUIsbUJBQU5BLEdBQTBCLE9BQU5BLEVBQzNCLE1BQU0sSUFBSVMsVUFBVSx1QkFBeUJDLE9BQU9WLEdBQUssaUNBRTdELFNBQVNXLElBQU9iLEtBQUtjLFlBQWNiLEVBRG5DSCxFQUFjRyxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1ksT0FBT2IsSUFBTVcsRUFBR0wsVUFBWU4sRUFBRU0sVUFBVyxJQUFJSyxLQUd2RlYsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFrWSxtQkFBcUJsWSxFQUFRNFAsOEJBQTJCLEVBQ2hFLElBQUlsSyxFQUFlLEVBQVEsTUFJM0IxRixFQUFRNFAseUJBSFIsU0FBa0MzRSxFQUFha04sRUFBUUMsRUFBWUMsRUFBU0MsR0FDeEUsT0FBTyxJQUFJSixFQUFtQmpOLEVBQWFrTixFQUFRQyxFQUFZQyxFQUFTQyxJQUc1RSxJQUFJSixFQUFzQixTQUFVeFcsR0FFaEMsU0FBU3dXLEVBQW1Cak4sRUFBYWtOLEVBQVFDLEVBQVlDLEVBQVNDLEVBQVlDLEdBQzlFLElBQUk1VyxFQUFRRCxFQUFPVCxLQUFLVixLQUFNMEssSUFBZ0IxSyxLQXVDOUMsT0F0Q0FvQixFQUFNMlcsV0FBYUEsRUFDbkIzVyxFQUFNNFcsa0JBQW9CQSxFQUMxQjVXLEVBQU02SixNQUFRMk0sRUFDUixTQUFVM1csR0FDUixJQUNJMlcsRUFBTzNXLEdBRVgsTUFBT3FELEdBQ0hvRyxFQUFZMUksTUFBTXNDLEtBR3hCbkQsRUFBT1gsVUFBVXlLLE1BQ3ZCN0osRUFBTThKLE9BQVM0TSxFQUNULFNBQVV4VCxHQUNSLElBQ0l3VCxFQUFReFQsR0FFWixNQUFPQSxHQUNIb0csRUFBWTFJLE1BQU1zQyxHQUV0QixRQUNJdEUsS0FBSzRHLGdCQUdYekYsRUFBT1gsVUFBVTBLLE9BQ3ZCOUosRUFBTStKLFVBQVkwTSxFQUNaLFdBQ0UsSUFDSUEsSUFFSixNQUFPdlQsR0FDSG9HLEVBQVkxSSxNQUFNc0MsR0FFdEIsUUFDSXRFLEtBQUs0RyxnQkFHWHpGLEVBQU9YLFVBQVUySyxVQUNoQi9KLEVBVVgsT0FuREFyQixFQUFVNFgsRUFBb0J4VyxHQTJDOUJ3VyxFQUFtQm5YLFVBQVVvRyxZQUFjLFdBQ3ZDLElBQUloRixFQUNKLElBQUs1QixLQUFLZ1ksbUJBQXFCaFksS0FBS2dZLG9CQUFxQixDQUNyRCxJQUFJQyxFQUFXalksS0FBSzJDLE9BQ3BCeEIsRUFBT1gsVUFBVW9HLFlBQVlsRyxLQUFLVixPQUNqQ2lZLElBQXdDLFFBQTFCclcsRUFBSzVCLEtBQUsrWCxrQkFBK0IsSUFBUG5XLEdBQXlCQSxFQUFHbEIsS0FBS1YsU0FHbkYyWCxFQXBEYyxDQXFEdkJ4UyxFQUFhWSxZQUNmdEcsRUFBUWtZLG1CQUFxQkEsa0JDNUU3QnhYLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFReVksV0FBUSxFQUNoQixJQUFJeEosRUFBUyxFQUFRLE1BQ2pCK0MsRUFBYyxFQUFRLE1BQ3RCaEQsRUFBdUIsRUFBUSxNQWtDbkNoUCxFQUFReVksTUFqQ1IsU0FBZUMsR0FDWCxPQUFPekosRUFBTzBKLFNBQVEsU0FBVXZTLEVBQVFsRSxHQUNwQyxJQUFJMEIsR0FBVyxFQUNYZ1YsRUFBWSxLQUNaQyxFQUFxQixLQUNyQkMsR0FBYSxFQUNiQyxFQUFjLFdBR2QsR0FGQUYsTUFBQUEsR0FBd0VBLEVBQW1CMVIsY0FDM0YwUixFQUFxQixLQUNqQmpWLEVBQVUsQ0FDVkEsR0FBVyxFQUNYLElBQUlwQyxFQUFRb1gsRUFDWkEsRUFBWSxLQUNaMVcsRUFBV00sS0FBS2hCLEdBRXBCc1gsR0FBYzVXLEVBQVdPLFlBRXpCdVcsRUFBa0IsV0FDbEJILEVBQXFCLEtBQ3JCQyxHQUFjNVcsRUFBV08sWUFFN0IyRCxFQUFPSixVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLEdBQVksU0FBVVYsR0FDakZvQyxHQUFXLEVBQ1hnVixFQUFZcFgsRUFDUHFYLEdBQ0Q3RyxFQUFZRyxVQUFVdUcsRUFBaUJsWCxJQUFRd0UsVUFBVzZTLEVBQXFCN0osRUFBcUJZLHlCQUF5QjFOLEVBQVk2VyxFQUFhQyxPQUUzSixXQUNDRixHQUFhLElBQ1hsVixJQUFhaVYsR0FBc0JBLEVBQW1CM1YsU0FBV2hCLEVBQVdPLG1DQ2xDMUYvQixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUWlaLGVBQVksRUFDcEIsSUFBSTlDLEVBQVUsRUFBUSxNQUNsQitDLEVBQVUsRUFBUSxNQUNsQjlDLEVBQVUsRUFBUSxNQUt0QnBXLEVBQVFpWixVQUpSLFNBQW1CRSxFQUFVM0ksR0FFekIsWUFEa0IsSUFBZEEsSUFBd0JBLEVBQVkyRixFQUFRRyxnQkFDekM0QyxFQUFRVCxPQUFNLFdBQWMsT0FBT3JDLEVBQVFHLE1BQU00QyxFQUFVM0ksdUJDUHRFOVAsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFnWSxZQUFTLEVBQ2pCLElBQUkvSSxFQUFTLEVBQVEsTUFDakI3RCxFQUFTLEVBQVEsTUFDakI0RCxFQUF1QixFQUFRLE1Ba0JuQ2hQLEVBQVFnWSxPQWpCUixTQUFnQm9CLEdBQ1osT0FBT25LLEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEMsSUFBSW1YLEVBQWdCLEdBVXBCLE9BVEFqVCxFQUFPSixVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLEdBQVksU0FBVVYsR0FBUyxPQUFPNlgsRUFBYzVRLEtBQUtqSCxNQUFXLFdBQy9IVSxFQUFXTSxLQUFLNlcsR0FDaEJuWCxFQUFXTyxlQUVmMlcsRUFBZ0JwVCxVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLEdBQVksV0FDaEYsSUFBSXpCLEVBQUk0WSxFQUNSQSxFQUFnQixHQUNoQm5YLEVBQVdNLEtBQUsvQixLQUNqQjJLLEVBQU91QixPQUNILFdBQ0gwTSxFQUFnQixnQ0NsQjVCLElBQUk1UCxFQUFZbEosTUFBUUEsS0FBS2tKLFVBQWEsU0FBU0MsR0FDL0MsSUFBSUMsRUFBc0IsbUJBQVhDLFFBQXlCQSxPQUFPQyxTQUFVQyxFQUFJSCxHQUFLRCxFQUFFQyxHQUFJWixFQUFJLEVBQzVFLEdBQUllLEVBQUcsT0FBT0EsRUFBRTdJLEtBQUt5SSxHQUNyQixHQUFJQSxHQUF5QixpQkFBYkEsRUFBRW5DLE9BQXFCLE1BQU8sQ0FDMUMvRSxLQUFNLFdBRUYsT0FESWtILEdBQUtYLEdBQUtXLEVBQUVuQyxTQUFRbUMsT0FBSSxHQUNyQixDQUFFbEksTUFBT2tJLEdBQUtBLEVBQUVYLEtBQU1nQixNQUFPTCxLQUc1QyxNQUFNLElBQUl4SSxVQUFVeUksRUFBSSwwQkFBNEIsb0NBRXhEakosT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFzWixpQkFBYyxFQUN0QixJQUFJckssRUFBUyxFQUFRLE1BQ2pCRCxFQUF1QixFQUFRLE1BQy9CN0UsRUFBYyxFQUFRLE1BbUUxQm5LLEVBQVFzWixZQWxFUixTQUFxQkMsRUFBWUMsR0FHN0IsWUFGeUIsSUFBckJBLElBQStCQSxFQUFtQixNQUN0REEsRUFBbUJBLE1BQUFBLEVBQTJEQSxFQUFtQkQsRUFDMUZ0SyxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUl5VixFQUFVLEdBQ1Y4QixFQUFRLEVBQ1pyVCxFQUFPSixVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLEdBQVksU0FBVVYsR0FDakYsSUFBSStJLEVBQUtwSSxFQUFJd0wsRUFBS3pJLEVBQ2R3VSxFQUFTLEtBQ1RELElBQVVELEdBQXFCLEdBQy9CN0IsRUFBUWxQLEtBQUssSUFFakIsSUFDSSxJQUFLLElBQUlrUixFQUFZbFEsRUFBU2tPLEdBQVVpQyxFQUFjRCxFQUFVblgsUUFBU29YLEVBQVk3UCxLQUFNNlAsRUFBY0QsRUFBVW5YLFFBQzNHd1YsRUFBUzRCLEVBQVlwWSxPQUNsQmlILEtBQUtqSCxHQUNSK1gsR0FBY3ZCLEVBQU96USxTQUNyQm1TLEVBQVNBLE1BQUFBLEVBQXVDQSxFQUFTLElBQ2xEalIsS0FBS3VQLEdBSXhCLE1BQU90TixHQUFTSCxFQUFNLENBQUVoSSxNQUFPbUksR0FDL0IsUUFDSSxJQUNRa1AsSUFBZ0JBLEVBQVk3UCxPQUFTNUgsRUFBS3dYLEVBQVVoUCxTQUFTeEksRUFBR2xCLEtBQUswWSxHQUU3RSxRQUFVLEdBQUlwUCxFQUFLLE1BQU1BLEVBQUloSSxPQUVqQyxHQUFJbVgsRUFDQSxJQUNJLElBQUssSUFBSUcsRUFBV3BRLEVBQVNpUSxHQUFTSSxFQUFhRCxFQUFTclgsUUFBU3NYLEVBQVcvUCxLQUFNK1AsRUFBYUQsRUFBU3JYLE9BQVEsQ0FDaEgsSUFBSXdWLEVBQVM4QixFQUFXdFksTUFDeEIySSxFQUFZWSxVQUFVNE0sRUFBU0ssR0FDL0I5VixFQUFXTSxLQUFLd1YsSUFHeEIsTUFBTzFKLEdBQVNYLEVBQU0sQ0FBRXBMLE1BQU8rTCxHQUMvQixRQUNJLElBQ1F3TCxJQUFlQSxFQUFXL1AsT0FBUzdFLEVBQUsyVSxFQUFTbFAsU0FBU3pGLEVBQUdqRSxLQUFLNFksR0FFMUUsUUFBVSxHQUFJbE0sRUFBSyxNQUFNQSxFQUFJcEwsV0FHdEMsV0FDQyxJQUFJd1gsRUFBSzVYLEVBQ1QsSUFDSSxJQUFLLElBQUk2WCxFQUFZdlEsRUFBU2tPLEdBQVVzQyxFQUFjRCxFQUFVeFgsUUFBU3lYLEVBQVlsUSxLQUFNa1EsRUFBY0QsRUFBVXhYLE9BQVEsQ0FDdkgsSUFBSXdWLEVBQVNpQyxFQUFZelksTUFDekJVLEVBQVdNLEtBQUt3VixJQUd4QixNQUFPa0MsR0FBU0gsRUFBTSxDQUFFeFgsTUFBTzJYLEdBQy9CLFFBQ0ksSUFDUUQsSUFBZ0JBLEVBQVlsUSxPQUFTNUgsRUFBSzZYLEVBQVVyUCxTQUFTeEksRUFBR2xCLEtBQUsrWSxHQUU3RSxRQUFVLEdBQUlELEVBQUssTUFBTUEsRUFBSXhYLE9BRWpDTCxFQUFXTyxrQkFDWnFDLEdBQVcsV0FDVjZTLEVBQVUsbUNDOUV0QixJQUFJbE8sRUFBWWxKLE1BQVFBLEtBQUtrSixVQUFhLFNBQVNDLEdBQy9DLElBQUlDLEVBQXNCLG1CQUFYQyxRQUF5QkEsT0FBT0MsU0FBVUMsRUFBSUgsR0FBS0QsRUFBRUMsR0FBSVosRUFBSSxFQUM1RSxHQUFJZSxFQUFHLE9BQU9BLEVBQUU3SSxLQUFLeUksR0FDckIsR0FBSUEsR0FBeUIsaUJBQWJBLEVBQUVuQyxPQUFxQixNQUFPLENBQzFDL0UsS0FBTSxXQUVGLE9BRElrSCxHQUFLWCxHQUFLVyxFQUFFbkMsU0FBUW1DLE9BQUksR0FDckIsQ0FBRWxJLE1BQU9rSSxHQUFLQSxFQUFFWCxLQUFNZ0IsTUFBT0wsS0FHNUMsTUFBTSxJQUFJeEksVUFBVXlJLEVBQUksMEJBQTRCLG9DQUV4RGpKLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRbWEsZ0JBQWEsRUFDckIsSUFBSXhVLEVBQWlCLEVBQVEsTUFDekJzSixFQUFTLEVBQVEsTUFDakJELEVBQXVCLEVBQVEsTUFDL0I3RSxFQUFjLEVBQVEsTUFDdEJnTSxFQUFVLEVBQVEsTUFDbEIvRixFQUFTLEVBQVEsTUFDakJFLEVBQW9CLEVBQVEsTUFxRWhDdFEsRUFBUW1hLFdBcEVSLFNBQW9CQyxHQUdoQixJQUZBLElBQUlqWSxFQUFJK0MsRUFDSm1WLEVBQVksR0FDUC9TLEVBQUssRUFBR0EsRUFBS3pGLFVBQVUwRixPQUFRRCxJQUNwQytTLEVBQVUvUyxFQUFLLEdBQUt6RixVQUFVeUYsR0FFbEMsSUFBSWtKLEVBQXNELFFBQXpDck8sRUFBS2lPLEVBQU9nQixhQUFhaUosVUFBK0IsSUFBUGxZLEVBQWdCQSxFQUFLZ1UsRUFBUUcsZUFDM0ZnRSxFQUFpRCxRQUF2QnBWLEVBQUttVixFQUFVLFVBQXVCLElBQVBuVixFQUFnQkEsRUFBSyxLQUM5RXFWLEVBQWdCRixFQUFVLElBQU1sUyxFQUFBQSxFQUNwQyxPQUFPOEcsRUFBTzBKLFNBQVEsU0FBVXZTLEVBQVFsRSxHQUNwQyxJQUFJc1ksRUFBZ0IsR0FDaEJDLEdBQWdCLEVBQ2hCQyxFQUFPLFNBQVVDLEdBQ2pCLElBQUkzQyxFQUFTMkMsRUFBTzNDLE9BQWUyQyxFQUFPQyxLQUNyQ3pULGNBQ0xnRCxFQUFZWSxVQUFVeVAsRUFBZUcsR0FDckN6WSxFQUFXTSxLQUFLd1YsR0FDaEJ5QyxHQUFpQkksS0FFakJBLEVBQWMsV0FDZCxHQUFJTCxFQUFlLENBQ2YsSUFBSUksRUFBTyxJQUFJalYsRUFBZW1GLGFBQzlCNUksRUFBV3lFLElBQUlpVSxHQUNmLElBQ0lFLEVBQVcsQ0FDWDlDLE9BRlMsR0FHVDRDLEtBQU1BLEdBRVZKLEVBQWMvUixLQUFLcVMsR0FDbkJ4SyxFQUFrQlksZ0JBQWdCMEosRUFBTXBLLEdBQVcsV0FBYyxPQUFPa0ssRUFBS0ksS0FBY1YsS0FHcEUsT0FBM0JFLEdBQW1DQSxHQUEwQixFQUM3RGhLLEVBQWtCWSxnQkFBZ0JoUCxFQUFZc08sRUFBV3FLLEVBQWFQLEdBQXdCLEdBRzlGRyxHQUFnQixFQUVwQkksSUFDQSxJQUFJRSxFQUF1Qi9MLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVWLEdBQzNGLElBQUkrSSxFQUFLcEksRUFDTDZZLEVBQWNSLEVBQWMxUixRQUNoQyxJQUNJLElBQUssSUFBSW1TLEVBQWdCeFIsRUFBU3VSLEdBQWNFLEVBQWtCRCxFQUFjelksUUFBUzBZLEVBQWdCblIsS0FBTW1SLEVBQWtCRCxFQUFjelksT0FBUSxDQUNuSixJQUFJbVksRUFBU08sRUFBZ0IxWixNQUN6QndXLEVBQVMyQyxFQUFPM0MsT0FDcEJBLEVBQU92UCxLQUFLakgsR0FDWitZLEdBQWlCdkMsRUFBT3pRLFFBQVVtVCxFQUFLQyxJQUcvQyxNQUFPalEsR0FBU0gsRUFBTSxDQUFFaEksTUFBT21JLEdBQy9CLFFBQ0ksSUFDUXdRLElBQW9CQSxFQUFnQm5SLE9BQVM1SCxFQUFLOFksRUFBY3RRLFNBQVN4SSxFQUFHbEIsS0FBS2dhLEdBRXpGLFFBQVUsR0FBSTFRLEVBQUssTUFBTUEsRUFBSWhJLFdBRWxDLFdBQ0MsS0FBT2lZLE1BQUFBLE9BQXFELEVBQVNBLEVBQWNqVCxRQUMvRXJGLEVBQVdNLEtBQUtnWSxFQUFjNVAsUUFBUW9OLFFBRTFDK0MsTUFBQUEsR0FBNEVBLEVBQXFCNVQsY0FDakdqRixFQUFXTyxXQUNYUCxFQUFXaUYscUJBQ1pyQyxHQUFXLFdBQWMsT0FBUTBWLEVBQWdCLFFBQ3BEcFUsRUFBT0osVUFBVStVLDZCQ3JGekIsSUFBSXRSLEVBQVlsSixNQUFRQSxLQUFLa0osVUFBYSxTQUFTQyxHQUMvQyxJQUFJQyxFQUFzQixtQkFBWEMsUUFBeUJBLE9BQU9DLFNBQVVDLEVBQUlILEdBQUtELEVBQUVDLEdBQUlaLEVBQUksRUFDNUUsR0FBSWUsRUFBRyxPQUFPQSxFQUFFN0ksS0FBS3lJLEdBQ3JCLEdBQUlBLEdBQXlCLGlCQUFiQSxFQUFFbkMsT0FBcUIsTUFBTyxDQUMxQy9FLEtBQU0sV0FFRixPQURJa0gsR0FBS1gsR0FBS1csRUFBRW5DLFNBQVFtQyxPQUFJLEdBQ3JCLENBQUVsSSxNQUFPa0ksR0FBS0EsRUFBRVgsS0FBTWdCLE1BQU9MLEtBRzVDLE1BQU0sSUFBSXhJLFVBQVV5SSxFQUFJLDBCQUE0QixvQ0FFeERqSixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUW1iLGtCQUFlLEVBQ3ZCLElBQUl4VixFQUFpQixFQUFRLE1BQ3pCc0osRUFBUyxFQUFRLE1BQ2pCK0MsRUFBYyxFQUFRLE1BQ3RCaEQsRUFBdUIsRUFBUSxNQUMvQjVELEVBQVMsRUFBUSxNQUNqQmpCLEVBQWMsRUFBUSxNQXNDMUJuSyxFQUFRbWIsYUFyQ1IsU0FBc0JDLEVBQVVDLEdBQzVCLE9BQU9wTSxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUl5VixFQUFVLEdBQ2QzRixFQUFZRyxVQUFVaUosR0FBVXBWLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVb1osR0FDMUcsSUFBSXRELEVBQVMsR0FDYkwsRUFBUWxQLEtBQUt1UCxHQUNiLElBQUl1RCxFQUFzQixJQUFJNVYsRUFBZW1GLGFBTTdDeVEsRUFBb0I1VSxJQUFJcUwsRUFBWUcsVUFBVWtKLEVBQWdCQyxJQUFZdFYsVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUxqSCxXQUNiaUksRUFBWVksVUFBVTRNLEVBQVNLLEdBQy9COVYsRUFBV00sS0FBS3dWLEdBQ2hCdUQsRUFBb0JwVSxnQkFFa0lpRSxFQUFPdUIsVUFDbEt2QixFQUFPdUIsT0FDVnZHLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVVixHQUNqRixJQUFJK0ksRUFBS3BJLEVBQ1QsSUFDSSxJQUFLLElBQUl3WCxFQUFZbFEsRUFBU2tPLEdBQVVpQyxFQUFjRCxFQUFVblgsUUFBU29YLEVBQVk3UCxLQUFNNlAsRUFBY0QsRUFBVW5YLE9BQ2xHb1gsRUFBWXBZLE1BQ2xCaUgsS0FBS2pILEdBR3BCLE1BQU9rSixHQUFTSCxFQUFNLENBQUVoSSxNQUFPbUksR0FDL0IsUUFDSSxJQUNRa1AsSUFBZ0JBLEVBQVk3UCxPQUFTNUgsRUFBS3dYLEVBQVVoUCxTQUFTeEksRUFBR2xCLEtBQUswWSxHQUU3RSxRQUFVLEdBQUlwUCxFQUFLLE1BQU1BLEVBQUloSSxXQUVsQyxXQUNDLEtBQU9vVixFQUFRcFEsT0FBUyxHQUNwQnJGLEVBQVdNLEtBQUttVixFQUFRL00sU0FFNUIxSSxFQUFXTyxtQ0NwRHZCL0IsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVF3YixnQkFBYSxFQUNyQixJQUFJdk0sRUFBUyxFQUFRLE1BQ2pCN0QsRUFBUyxFQUFRLE1BQ2pCNEQsRUFBdUIsRUFBUSxNQUMvQmdELEVBQWMsRUFBUSxNQW1CMUJoUyxFQUFRd2IsV0FsQlIsU0FBb0JILEdBQ2hCLE9BQU9wTSxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUk4VixFQUFTLEtBQ1R5RCxFQUFvQixLQUNwQkMsRUFBYSxXQUNiRCxNQUFBQSxHQUFzRUEsRUFBa0J0VSxjQUN4RixJQUFJMUcsRUFBSXVYLEVBQ1JBLEVBQVMsR0FDVHZYLEdBQUt5QixFQUFXTSxLQUFLL0IsR0FDckJ1UixFQUFZRyxVQUFVa0osS0FBbUJyVixVQUFXeVYsRUFBb0J6TSxFQUFxQlkseUJBQXlCMU4sRUFBWXdaLEVBQVl0USxFQUFPdUIsUUFFekorTyxJQUNBdFYsRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVWLEdBQVMsT0FBT3dXLE1BQUFBLE9BQXVDLEVBQVNBLEVBQU92UCxLQUFLakgsTUFBVyxXQUN4S3dXLEdBQVU5VixFQUFXTSxLQUFLd1YsR0FDMUI5VixFQUFXTyxrQkFDWnFDLEdBQVcsV0FBYyxPQUFRa1QsRUFBU3lELEVBQW9CLDZCQ3JCekUvYSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTJiLGdCQUFhLEVBQ3JCLElBQUkzSixFQUFjLEVBQVEsTUFDdEJoRCxFQUF1QixFQUFRLE1BQy9CQyxFQUFTLEVBQVEsTUF3QnJCalAsRUFBUTJiLFdBdkJSLFNBQVNBLEVBQVdDLEdBQ2hCLE9BQU8zTSxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBRUkyWixFQUZBQyxFQUFXLEtBQ1hDLEdBQVksRUFFaEJELEVBQVcxVixFQUFPSixVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLE9BQVk0QyxPQUFXQSxHQUFXLFNBQVVELEdBQ2xIZ1gsRUFBZ0I3SixFQUFZRyxVQUFVeUosRUFBUy9XLEVBQUs4VyxFQUFXQyxFQUFYRCxDQUFxQnZWLEtBQ3JFMFYsR0FDQUEsRUFBUzNVLGNBQ1QyVSxFQUFXLEtBQ1hELEVBQWM3VixVQUFVOUQsSUFHeEI2WixHQUFZLE1BR2hCQSxJQUNBRCxFQUFTM1UsY0FDVDJVLEVBQVcsS0FDWEQsRUFBYzdWLFVBQVU5RCx3QkN4QnBDeEIsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFnYyxnQkFBYSxFQUNyQixJQUFJQyxFQUFxQixFQUFRLE1BQ2pDamMsRUFBUWdjLFdBQWFDLEVBQW1CQyx1Q0NIeEMsSUFBSXRQLEVBQVVyTSxNQUFRQSxLQUFLcU0sUUFBVyxTQUFVbEQsRUFBR21ELEdBQy9DLElBQUkvQyxFQUFzQixtQkFBWEYsUUFBeUJGLEVBQUVFLE9BQU9DLFVBQ2pELElBQUtDLEVBQUcsT0FBT0osRUFDZixJQUFtQm9ELEVBQVlDLEVBQTNCaEUsRUFBSWUsRUFBRTdJLEtBQUt5SSxHQUFPc0QsRUFBSyxHQUMzQixJQUNJLFdBQWMsSUFBTkgsR0FBZ0JBLEtBQU0sTUFBUUMsRUFBSS9ELEVBQUV2RyxRQUFRdUgsTUFBTWlELEVBQUd2RSxLQUFLcUUsRUFBRXRMLE9BRXhFLE1BQU9lLEdBQVN3SyxFQUFJLENBQUV4SyxNQUFPQSxHQUM3QixRQUNJLElBQ1F1SyxJQUFNQSxFQUFFL0MsT0FBU0QsRUFBSWYsRUFBVSxTQUFJZSxFQUFFN0ksS0FBSzhILEdBRWxELFFBQVUsR0FBSWdFLEVBQUcsTUFBTUEsRUFBRXhLLE9BRTdCLE9BQU95SyxHQUVQQyxFQUFpQjFNLE1BQVFBLEtBQUswTSxlQUFrQixTQUFVQyxFQUFJQyxHQUM5RCxJQUFLLElBQUlwRSxFQUFJLEVBQUdxRSxFQUFLRCxFQUFLNUYsT0FBUThGLEVBQUlILEVBQUczRixPQUFRd0IsRUFBSXFFLEVBQUlyRSxJQUFLc0UsSUFDMURILEVBQUdHLEdBQUtGLEVBQUtwRSxHQUNqQixPQUFPbUUsR0FFWHhNLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRK1AsbUJBQWdCLEVBQ3hCLElBQUlvTSxFQUFrQixFQUFRLE1BQzFCbE4sRUFBUyxFQUFRLE1BQ2pCeUgsRUFBbUIsRUFBUSxNQUMzQnZHLEVBQXFCLEVBQVEsTUFDN0J0SyxFQUFTLEVBQVEsTUFDakJ1SyxFQUFTLEVBQVEsTUFhckJwUSxFQUFRK1AsY0FaUixTQUFTQSxJQUVMLElBREEsSUFBSW9CLEVBQU8sR0FDRjdKLEVBQUssRUFBR0EsRUFBS3pGLFVBQVUwRixPQUFRRCxJQUNwQzZKLEVBQUs3SixHQUFNekYsVUFBVXlGLEdBRXpCLElBQUkrSixFQUFpQmpCLEVBQU9rQixrQkFBa0JILEdBQzlDLE9BQU9FLEVBQ0R4TCxFQUFPdUIsS0FBSzJJLEVBQWNuTyxXQUFNLEVBQVFxTCxFQUFjLEdBQUlMLEVBQU91RSxLQUFTaEIsRUFBbUJ1QixpQkFBaUJMLElBQzlHcEMsRUFBTzBKLFNBQVEsU0FBVXZTLEVBQVFsRSxHQUMvQmlhLEVBQWdCck0sa0JBQWtCN0MsRUFBYyxDQUFDN0csR0FBU3dHLEVBQU84SixFQUFpQkcsZUFBZTFGLEtBQWpHZ0wsQ0FBMEdqYSx1QkN0Q3RIeEIsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFrYyxzQkFBbUIsRUFDM0IsSUFBSUMsRUFBa0IsRUFBUSxNQUMxQkMsRUFBcUIsRUFBUSxNQUlqQ3BjLEVBQVFrYyxpQkFIUixTQUEwQkcsR0FDdEIsT0FBT0QsRUFBbUJFLGlCQUFpQkgsRUFBZ0JwTSxjQUFlc00sMEJDTDlFLElBQUl6UCxFQUFVck0sTUFBUUEsS0FBS3FNLFFBQVcsU0FBVWxELEVBQUdtRCxHQUMvQyxJQUFJL0MsRUFBc0IsbUJBQVhGLFFBQXlCRixFQUFFRSxPQUFPQyxVQUNqRCxJQUFLQyxFQUFHLE9BQU9KLEVBQ2YsSUFBbUJvRCxFQUFZQyxFQUEzQmhFLEVBQUllLEVBQUU3SSxLQUFLeUksR0FBT3NELEVBQUssR0FDM0IsSUFDSSxXQUFjLElBQU5ILEdBQWdCQSxLQUFNLE1BQVFDLEVBQUkvRCxFQUFFdkcsUUFBUXVILE1BQU1pRCxFQUFHdkUsS0FBS3FFLEVBQUV0TCxPQUV4RSxNQUFPZSxHQUFTd0ssRUFBSSxDQUFFeEssTUFBT0EsR0FDN0IsUUFDSSxJQUNRdUssSUFBTUEsRUFBRS9DLE9BQVNELEVBQUlmLEVBQVUsU0FBSWUsRUFBRTdJLEtBQUs4SCxHQUVsRCxRQUFVLEdBQUlnRSxFQUFHLE1BQU1BLEVBQUV4SyxPQUU3QixPQUFPeUssR0FFUEMsRUFBaUIxTSxNQUFRQSxLQUFLME0sZUFBa0IsU0FBVUMsRUFBSUMsR0FDOUQsSUFBSyxJQUFJcEUsRUFBSSxFQUFHcUUsRUFBS0QsRUFBSzVGLE9BQVE4RixFQUFJSCxFQUFHM0YsT0FBUXdCLEVBQUlxRSxFQUFJckUsSUFBS3NFLElBQzFESCxFQUFHRyxHQUFLRixFQUFLcEUsR0FDakIsT0FBT21FLEdBRVh4TSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXVjLHVCQUFvQixFQUM1QixJQUFJSixFQUFrQixFQUFRLE1BUTlCbmMsRUFBUXVjLGtCQVBSLFdBRUksSUFEQSxJQUFJQyxFQUFlLEdBQ1ZsVixFQUFLLEVBQUdBLEVBQUt6RixVQUFVMEYsT0FBUUQsSUFDcENrVixFQUFhbFYsR0FBTXpGLFVBQVV5RixHQUVqQyxPQUFPNlUsRUFBZ0JwTSxjQUFjbk8sV0FBTSxFQUFRcUwsRUFBYyxHQUFJTCxFQUFPNFAsNEJDN0JoRixJQUFJNVAsRUFBVXJNLE1BQVFBLEtBQUtxTSxRQUFXLFNBQVVsRCxFQUFHbUQsR0FDL0MsSUFBSS9DLEVBQXNCLG1CQUFYRixRQUF5QkYsRUFBRUUsT0FBT0MsVUFDakQsSUFBS0MsRUFBRyxPQUFPSixFQUNmLElBQW1Cb0QsRUFBWUMsRUFBM0JoRSxFQUFJZSxFQUFFN0ksS0FBS3lJLEdBQU9zRCxFQUFLLEdBQzNCLElBQ0ksV0FBYyxJQUFOSCxHQUFnQkEsS0FBTSxNQUFRQyxFQUFJL0QsRUFBRXZHLFFBQVF1SCxNQUFNaUQsRUFBR3ZFLEtBQUtxRSxFQUFFdEwsT0FFeEUsTUFBT2UsR0FBU3dLLEVBQUksQ0FBRXhLLE1BQU9BLEdBQzdCLFFBQ0ksSUFDUXVLLElBQU1BLEVBQUUvQyxPQUFTRCxFQUFJZixFQUFVLFNBQUllLEVBQUU3SSxLQUFLOEgsR0FFbEQsUUFBVSxHQUFJZ0UsRUFBRyxNQUFNQSxFQUFFeEssT0FFN0IsT0FBT3lLLEdBRVBDLEVBQWlCMU0sTUFBUUEsS0FBSzBNLGVBQWtCLFNBQVVDLEVBQUlDLEdBQzlELElBQUssSUFBSXBFLEVBQUksRUFBR3FFLEVBQUtELEVBQUs1RixPQUFROEYsRUFBSUgsRUFBRzNGLE9BQVF3QixFQUFJcUUsRUFBSXJFLElBQUtzRSxJQUMxREgsRUFBR0csR0FBS0YsRUFBS3BFLEdBQ2pCLE9BQU9tRSxHQUVYeE0sT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVEyUixZQUFTLEVBQ2pCLElBQUkxQyxFQUFTLEVBQVEsTUFDakIyQyxFQUFjLEVBQVEsTUFDdEJ4QixFQUFTLEVBQVEsTUFDakJILEVBQVMsRUFBUSxNQVdyQmpRLEVBQVEyUixPQVZSLFdBRUksSUFEQSxJQUFJUixFQUFPLEdBQ0Y3SixFQUFLLEVBQUdBLEVBQUt6RixVQUFVMEYsT0FBUUQsSUFDcEM2SixFQUFLN0osR0FBTXpGLFVBQVV5RixHQUV6QixJQUFJa0osRUFBWUosRUFBT2dCLGFBQWFELEdBQ3BDLE9BQU9sQyxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDMFAsRUFBWUMsV0FBWkQsQ0FBd0IzQixFQUFPOUMsS0FBS0YsRUFBYyxDQUFDN0csR0FBU3dHLEVBQU91RSxJQUFRWCxJQUFZeEssVUFBVTlELHVCQ2xDekd4QixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTZSLGVBQVksRUFDcEIsSUFBSTRLLEVBQWEsRUFBUSxNQUl6QnpjLEVBQVE2UixVQUhSLFdBQ0ksT0FBTzRLLEVBQVdDLFNBQVMsb0JDSi9CaGMsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVEyYyxlQUFZLEVBQ3BCLElBQUlDLEVBQWEsRUFBUSxNQUNyQmxaLEVBQWUsRUFBUSxNQUkzQjFELEVBQVEyYyxVQUhSLFNBQW1CTixFQUFTaEwsR0FDeEIsT0FBTzNOLEVBQWFXLFdBQVdnTixHQUFrQnVMLEVBQVdDLFNBQVNSLEVBQVNoTCxFQUFnQixHQUFLdUwsRUFBV0MsU0FBU1IsRUFBUyxvQkNMcEkzYixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUThjLGlCQUFjLEVBQ3RCLElBQUlDLEVBQWMsRUFBUSxNQUN0QnJaLEVBQWUsRUFBUSxNQUkzQjFELEVBQVE4YyxZQUhSLFNBQXFCRSxFQUFpQjNMLEdBQ2xDLE9BQU8zTixFQUFhVyxXQUFXZ04sR0FBa0IwTCxFQUFZSixXQUFVLFdBQWMsT0FBT0ssSUFBb0IzTCxHQUFrQjBMLEVBQVlKLFdBQVUsV0FBYyxPQUFPSyw0QkNMakwsSUFBSXBRLEVBQVVyTSxNQUFRQSxLQUFLcU0sUUFBVyxTQUFVbEQsRUFBR21ELEdBQy9DLElBQUkvQyxFQUFzQixtQkFBWEYsUUFBeUJGLEVBQUVFLE9BQU9DLFVBQ2pELElBQUtDLEVBQUcsT0FBT0osRUFDZixJQUFtQm9ELEVBQVlDLEVBQTNCaEUsRUFBSWUsRUFBRTdJLEtBQUt5SSxHQUFPc0QsRUFBSyxHQUMzQixJQUNJLFdBQWMsSUFBTkgsR0FBZ0JBLEtBQU0sTUFBUUMsRUFBSS9ELEVBQUV2RyxRQUFRdUgsTUFBTWlELEVBQUd2RSxLQUFLcUUsRUFBRXRMLE9BRXhFLE1BQU9lLEdBQVN3SyxFQUFJLENBQUV4SyxNQUFPQSxHQUM3QixRQUNJLElBQ1F1SyxJQUFNQSxFQUFFL0MsT0FBU0QsRUFBSWYsRUFBVSxTQUFJZSxFQUFFN0ksS0FBSzhILEdBRWxELFFBQVUsR0FBSWdFLEVBQUcsTUFBTUEsRUFBRXhLLE9BRTdCLE9BQU95SyxHQUVQQyxFQUFpQjFNLE1BQVFBLEtBQUswTSxlQUFrQixTQUFVQyxFQUFJQyxHQUM5RCxJQUFLLElBQUlwRSxFQUFJLEVBQUdxRSxFQUFLRCxFQUFLNUYsT0FBUThGLEVBQUlILEVBQUczRixPQUFRd0IsRUFBSXFFLEVBQUlyRSxJQUFLc0UsSUFDMURILEVBQUdHLEdBQUtGLEVBQUtwRSxHQUNqQixPQUFPbUUsR0FFWHhNLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRaWQsZ0JBQWEsRUFDckIsSUFBSUMsRUFBVyxFQUFRLE1BUXZCbGQsRUFBUWlkLFdBUFIsV0FFSSxJQURBLElBQUlULEVBQWUsR0FDVmxWLEVBQUssRUFBR0EsRUFBS3pGLFVBQVUwRixPQUFRRCxJQUNwQ2tWLEVBQWFsVixHQUFNekYsVUFBVXlGLEdBRWpDLE9BQU80VixFQUFTdkwsT0FBTy9QLFdBQU0sRUFBUXFMLEVBQWMsR0FBSUwsRUFBTzRQLHNCQzdCbEU5YixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXlQLGFBQVUsRUFDbEIsSUFBSTNILEVBQVksRUFBUSxNQUNwQm1JLEVBQVMsRUFBUSxNQUNqQmhCLEVBQVMsRUFBUSxNQUNqQmtPLEVBQXFCLEVBQVEsS0FDN0JDLEVBQWlCLENBQ2pCQyxVQUFXLFdBQWMsT0FBTyxJQUFJdlYsRUFBVXBGLFVBV2xEMUMsRUFBUXlQLFFBVFIsU0FBaUJtTSxFQUFValUsUUFDUixJQUFYQSxJQUFxQkEsRUFBU3lWLEdBQ2xDLElBQUlDLEVBQVkxVixFQUFPMFYsVUFDdkIsT0FBT3BPLEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEMsSUFBSW1JLEVBQVVnVCxJQUNkcE4sRUFBTzlDLEtBQUt5TyxFQUFTdUIsRUFBbUIvSyxpQkFBaUIvSCxLQUFXckUsVUFBVTlELEdBQzlFQSxFQUFXeUUsSUFBSVAsRUFBT0osVUFBVXFFLHVCQ2Z4QzNKLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFReVosV0FBUSxFQUNoQixJQUFJNkQsRUFBVyxFQUFRLEtBSXZCdGQsRUFBUXlaLE1BSFIsU0FBZThELEdBQ1gsT0FBT0QsRUFBU0UsUUFBTyxTQUFVQyxFQUFPamMsRUFBT3VILEdBQUssT0FBU3dVLEdBQWFBLEVBQVUvYixFQUFPdUgsR0FBSzBVLEVBQVEsRUFBSUEsSUFBVyxtQkNKM0gvYyxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTBkLGNBQVcsRUFDbkIsSUFBSXpPLEVBQVMsRUFBUSxNQUNqQjdELEVBQVMsRUFBUSxNQUNqQjRELEVBQXVCLEVBQVEsTUFDL0JnRCxFQUFjLEVBQVEsTUE4QjFCaFMsRUFBUTBkLFNBN0JSLFNBQWtCaEYsR0FDZCxPQUFPekosRUFBTzBKLFNBQVEsU0FBVXZTLEVBQVFsRSxHQUNwQyxJQUFJMEIsR0FBVyxFQUNYZ1YsRUFBWSxLQUNaQyxFQUFxQixLQUNyQjZCLEVBQU8sV0FHUCxHQUZBN0IsTUFBQUEsR0FBd0VBLEVBQW1CMVIsY0FDM0YwUixFQUFxQixLQUNqQmpWLEVBQVUsQ0FDVkEsR0FBVyxFQUNYLElBQUlwQyxFQUFRb1gsRUFDWkEsRUFBWSxLQUNaMVcsRUFBV00sS0FBS2hCLEtBR3hCNEUsRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVWLEdBQ2pGcVgsTUFBQUEsR0FBd0VBLEVBQW1CMVIsY0FDM0Z2RCxHQUFXLEVBQ1hnVixFQUFZcFgsRUFDWnFYLEVBQXFCN0osRUFBcUJZLHlCQUF5QjFOLEVBQVl3WSxFQUFNdFAsRUFBT3VCLE1BQzVGcUYsRUFBWUcsVUFBVXVHLEVBQWlCbFgsSUFBUXdFLFVBQVU2UyxNQUMxRCxXQUNDNkIsSUFDQXhZLEVBQVdPLGtCQUNacUMsR0FBVyxXQUNWOFQsRUFBWUMsRUFBcUIsNkJDL0I3Q25ZLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRMmQsa0JBQWUsRUFDdkIsSUFBSXhILEVBQVUsRUFBUSxNQUNsQmxILEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQXlDbkNoUCxFQUFRMmQsYUF4Q1IsU0FBc0J4RyxFQUFTM0csR0FFM0IsWUFEa0IsSUFBZEEsSUFBd0JBLEVBQVkyRixFQUFRRyxnQkFDekNySCxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUkwYixFQUFhLEtBQ2JoRixFQUFZLEtBQ1ppRixFQUFXLEtBQ1huRCxFQUFPLFdBQ1AsR0FBSWtELEVBQVksQ0FDWkEsRUFBV3pXLGNBQ1h5VyxFQUFhLEtBQ2IsSUFBSXBjLEVBQVFvWCxFQUNaQSxFQUFZLEtBQ1oxVyxFQUFXTSxLQUFLaEIsS0FHeEIsU0FBU3NjLElBQ0wsSUFBSUMsRUFBYUYsRUFBVzFHLEVBQ3hCek8sRUFBTThILEVBQVU5SCxNQUNwQixHQUFJQSxFQUFNcVYsRUFHTixPQUZBSCxFQUFhcmQsS0FBSzhJLGNBQVN2RSxFQUFXaVosRUFBYXJWLFFBQ25EeEcsRUFBV3lFLElBQUlpWCxHQUduQmxELElBRUp0VSxFQUFPSixVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLEdBQVksU0FBVVYsR0FDakZvWCxFQUFZcFgsRUFDWnFjLEVBQVdyTixFQUFVOUgsTUFDaEJrVixJQUNEQSxFQUFhcE4sRUFBVW5ILFNBQVN5VSxFQUFjM0csR0FDOUNqVixFQUFXeUUsSUFBSWlYLE9BRXBCLFdBQ0NsRCxJQUNBeFksRUFBV08sa0JBQ1pxQyxHQUFXLFdBQ1Y4VCxFQUFZZ0YsRUFBYSw2QkN6Q3JDbGQsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFnZSxvQkFBaUIsRUFDekIsSUFBSS9PLEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQWVuQ2hQLEVBQVFnZSxlQWRSLFNBQXdCQyxHQUNwQixPQUFPaFAsRUFBTzBKLFNBQVEsU0FBVXZTLEVBQVFsRSxHQUNwQyxJQUFJMEIsR0FBVyxFQUNmd0MsRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVWLEdBQ2pGb0MsR0FBVyxFQUNYMUIsRUFBV00sS0FBS2hCLE1BQ2pCLFdBQ01vQyxHQUNEMUIsRUFBV00sS0FBS3liLEdBRXBCL2IsRUFBV08sbUNDZHZCL0IsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVF1SixXQUFRLEVBQ2hCLElBQUk0TSxFQUFVLEVBQVEsTUFDbEIrSCxFQUFjLEVBQVEsTUFDdEI5SCxFQUFVLEVBQVEsTUFNdEJwVyxFQUFRdUosTUFMUixTQUFlaU8sRUFBS2hILFFBQ0UsSUFBZEEsSUFBd0JBLEVBQVkyRixFQUFRRyxnQkFDaEQsSUFBSTZDLEVBQVcvQyxFQUFRRyxNQUFNaUIsRUFBS2hILEdBQ2xDLE9BQU8wTixFQUFZQyxXQUFVLFdBQWMsT0FBT2hGLHNCQ1J0RHpZLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRbWUsZUFBWSxFQUNwQixJQUFJakIsRUFBVyxFQUFRLE1BQ25Ca0IsRUFBUyxFQUFRLE1BQ2pCQyxFQUFtQixFQUFRLE1BQzNCQyxFQUFVLEVBQVEsTUFDbEIxQixFQUFhLEVBQVEsTUFTekI1YyxFQUFRbWUsVUFSUixTQUFTQSxFQUFVSSxFQUF1QkMsR0FDdEMsT0FBSUEsRUFDTyxTQUFVcFksR0FDYixPQUFPOFcsRUFBU3ZMLE9BQU82TSxFQUFrQnBYLEtBQUtnWCxFQUFPSyxLQUFLLEdBQUlKLEVBQWlCSyxrQkFBbUJ0WSxFQUFPZ0IsS0FBSytXLEVBQVVJLE1BR3pIM0IsRUFBV0MsVUFBUyxTQUFVcmIsRUFBT21kLEdBQVMsT0FBT0osRUFBc0IvYyxFQUFPbWQsR0FBT3ZYLEtBQUtnWCxFQUFPSyxLQUFLLEdBQUlILEVBQVFNLE1BQU1wZCx3QkNidklkLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRNmUsbUJBQWdCLEVBQ3hCLElBQUlDLEVBQWlCLEVBQVEsTUFDekI3UCxFQUFTLEVBQVEsTUFDakJELEVBQXVCLEVBQVEsTUFNbkNoUCxFQUFRNmUsY0FMUixXQUNJLE9BQU81UCxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDa0UsRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVUrQyxHQUFnQixPQUFPNlosRUFBZTFiLG9CQUFvQjZCLEVBQWMvQywyQkNQckt4QixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUStlLGNBQVcsRUFDbkIsSUFBSTlQLEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQUMvQjVELEVBQVMsRUFBUSxNQWNyQnBMLEVBQVErZSxTQWJSLFNBQWtCQyxFQUFhQyxHQUMzQixPQUFPaFEsRUFBTzBKLFNBQVEsU0FBVXZTLEVBQVFsRSxHQUNwQyxJQUFJZ2QsRUFBZSxJQUFJQyxJQUN2Qi9ZLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVVixHQUNqRixJQUFJNGQsRUFBTUosRUFBY0EsRUFBWXhkLEdBQVNBLEVBQ3hDMGQsRUFBYUcsSUFBSUQsS0FDbEJGLEVBQWF2WSxJQUFJeVksR0FDakJsZCxFQUFXTSxLQUFLaEIsUUFHeEJ5ZCxNQUFBQSxHQUFrREEsRUFBUWpaLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxXQUFjLE9BQU9nZCxFQUFhSSxVQUFZbFUsRUFBT3VCLDJCQ2YzTGpNLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRdWYsMEJBQXVCLEVBQy9CLElBQUlyUCxFQUFhLEVBQVEsTUFDckJqQixFQUFTLEVBQVEsTUFDakJELEVBQXVCLEVBQVEsTUFrQm5DLFNBQVN3USxFQUFlQyxFQUFHaGYsR0FDdkIsT0FBT2dmLElBQU1oZixFQUZqQlQsRUFBUXVmLHFCQWhCUixTQUE4QkcsRUFBWVYsR0FHdEMsWUFGb0IsSUFBaEJBLElBQTBCQSxFQUFjOU8sRUFBV1EsVUFDdkRnUCxFQUFhQSxNQUFBQSxFQUErQ0EsRUFBYUYsRUFDbEV2USxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUl5ZCxFQUNBQyxHQUFRLEVBQ1p4WixFQUFPSixVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLEdBQVksU0FBVVYsR0FDakYsSUFBSXFlLEVBQWFiLEVBQVl4ZCxJQUN6Qm9lLEdBQVVGLEVBQVdDLEVBQWFFLEtBQ2xDRCxHQUFRLEVBQ1JELEVBQWNFLEVBQ2QzZCxFQUFXTSxLQUFLaEIsNEJDaEJoQ2QsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVE4Ziw2QkFBMEIsRUFDbEMsSUFBSUMsRUFBeUIsRUFBUSxNQUlyQy9mLEVBQVE4Zix3QkFIUixTQUFpQ1YsRUFBS1ksR0FDbEMsT0FBT0QsRUFBdUJSLHNCQUFxQixTQUFVN1gsRUFBR3VMLEdBQUssT0FBTytNLEVBQVVBLEVBQVF0WSxFQUFFMFgsR0FBTW5NLEVBQUVtTSxJQUFRMVgsRUFBRTBYLEtBQVNuTSxFQUFFbU0sdUJDSmpJMWUsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFpZ0IsZUFBWSxFQUNwQixJQUFJQyxFQUE0QixFQUFRLE1BQ3BDQyxFQUFXLEVBQVEsTUFDbkJDLEVBQWlCLEVBQVEsTUFDekJDLEVBQW1CLEVBQVEsTUFDM0JqQyxFQUFTLEVBQVEsTUFVckJwZSxFQUFRaWdCLFVBVFIsU0FBbUJ0QixFQUFPVixHQUN0QixHQUFJVSxFQUFRLEVBQ1IsTUFBTSxJQUFJdUIsRUFBMEJJLHdCQUV4QyxJQUFJQyxFQUFrQjFlLFVBQVUwRixRQUFVLEVBQzFDLE9BQU8sU0FBVW5CLEdBQ2IsT0FBT0EsRUFBT2dCLEtBQUsrWSxFQUFTSyxRQUFPLFNBQVU5TSxFQUFHM0ssR0FBSyxPQUFPQSxJQUFNNFYsS0FBV1AsRUFBT0ssS0FBSyxHQUFJOEIsRUFBa0JGLEVBQWlCckMsZUFBZUMsR0FBZ0JtQyxFQUFlSyxjQUFhLFdBQWMsT0FBTyxJQUFJUCxFQUEwQkksbURDYnRQLElBQUkxVCxFQUFVck0sTUFBUUEsS0FBS3FNLFFBQVcsU0FBVWxELEVBQUdtRCxHQUMvQyxJQUFJL0MsRUFBc0IsbUJBQVhGLFFBQXlCRixFQUFFRSxPQUFPQyxVQUNqRCxJQUFLQyxFQUFHLE9BQU9KLEVBQ2YsSUFBbUJvRCxFQUFZQyxFQUEzQmhFLEVBQUllLEVBQUU3SSxLQUFLeUksR0FBT3NELEVBQUssR0FDM0IsSUFDSSxXQUFjLElBQU5ILEdBQWdCQSxLQUFNLE1BQVFDLEVBQUkvRCxFQUFFdkcsUUFBUXVILE1BQU1pRCxFQUFHdkUsS0FBS3FFLEVBQUV0TCxPQUV4RSxNQUFPZSxHQUFTd0ssRUFBSSxDQUFFeEssTUFBT0EsR0FDN0IsUUFDSSxJQUNRdUssSUFBTUEsRUFBRS9DLE9BQVNELEVBQUlmLEVBQVUsU0FBSWUsRUFBRTdJLEtBQUs4SCxHQUVsRCxRQUFVLEdBQUlnRSxFQUFHLE1BQU1BLEVBQUV4SyxPQUU3QixPQUFPeUssR0FFUEMsRUFBaUIxTSxNQUFRQSxLQUFLME0sZUFBa0IsU0FBVUMsRUFBSUMsR0FDOUQsSUFBSyxJQUFJcEUsRUFBSSxFQUFHcUUsRUFBS0QsRUFBSzVGLE9BQVE4RixFQUFJSCxFQUFHM0YsT0FBUXdCLEVBQUlxRSxFQUFJckUsSUFBS3NFLElBQzFESCxFQUFHRyxHQUFLRixFQUFLcEUsR0FDakIsT0FBT21FLEdBRVh4TSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTBnQixhQUFVLEVBQ2xCLElBQUl4RCxFQUFXLEVBQVEsTUFDbkIxWixFQUFPLEVBQVEsTUFRbkJ4RCxFQUFRMGdCLFFBUFIsV0FFSSxJQURBLElBQUk5UCxFQUFTLEdBQ0p0SixFQUFLLEVBQUdBLEVBQUt6RixVQUFVMEYsT0FBUUQsSUFDcENzSixFQUFPdEosR0FBTXpGLFVBQVV5RixHQUUzQixPQUFPLFNBQVVsQixHQUFVLE9BQU84VyxFQUFTdkwsT0FBT3ZMLEVBQVE1QyxFQUFLZ0IsR0FBRzVDLFdBQU0sRUFBUXFMLEVBQWMsR0FBSUwsRUFBT2dFLHdCQzlCN0dsUSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUStYLFdBQVEsRUFDaEIsSUFBSTlJLEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQWVuQ2hQLEVBQVErWCxNQWRSLFNBQWV3RixFQUFXeFIsR0FDdEIsT0FBT2tELEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEMsSUFBSXljLEVBQVEsRUFDWnZZLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVVixHQUM1RStiLEVBQVV0YyxLQUFLOEssRUFBU3ZLLEVBQU9tZCxJQUFTdlksS0FDekNsRSxFQUFXTSxNQUFLLEdBQ2hCTixFQUFXTyxlQUVoQixXQUNDUCxFQUFXTSxNQUFLLEdBQ2hCTixFQUFXTyxpQ0NkdkIvQixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTJnQixhQUFVLEVBQ2xCLElBQUlDLEVBQWUsRUFBUSxNQUMzQjVnQixFQUFRMmdCLFFBQVVDLEVBQWFDLDJCQ0gvQm5nQixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTZnQixnQkFBYSxFQUNyQixJQUFJNVIsRUFBUyxFQUFRLE1BQ2pCK0MsRUFBYyxFQUFRLE1BQ3RCaEQsRUFBdUIsRUFBUSxNQWtCbkNoUCxFQUFRNmdCLFdBakJSLFdBQ0ksT0FBTzVSLEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEMsSUFBSTRXLEdBQWEsRUFDYmdELEVBQVcsS0FDZjFWLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVNGUsR0FDNUVoRixJQUNEQSxFQUFXOUosRUFBWUcsVUFBVTJPLEdBQU85YSxVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLE9BQVk0QyxHQUFXLFdBQ25IZ1gsRUFBVyxLQUNYaEQsR0FBYzVXLEVBQVdPLG1CQUdsQyxXQUNDcVcsR0FBYSxHQUNaZ0QsR0FBWTVaLEVBQVdPLG1DQ2xCcEMvQixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUStnQixnQkFBYSxFQUNyQixJQUFJQyxFQUFRLEVBQVEsTUFDaEJoUCxFQUFjLEVBQVEsTUFDdEIvQyxFQUFTLEVBQVEsTUFDakJELEVBQXVCLEVBQVEsTUF5Qm5DaFAsRUFBUStnQixXQXhCUixTQUFTQSxFQUFXMUUsRUFBU2hMLEdBQ3pCLE9BQUlBLEVBQ08sU0FBVWpMLEdBQ2IsT0FBT0EsRUFBT2dCLEtBQUsyWixHQUFXLFNBQVV0QixFQUFHMVcsR0FBSyxPQUFPaUosRUFBWUcsVUFBVWtLLEVBQVFvRCxFQUFHMVcsSUFBSTNCLEtBQUs0WixFQUFNcEosS0FBSSxTQUFVblgsRUFBR3dnQixHQUFNLE9BQU81UCxFQUFlb08sRUFBR2hmLEVBQUdzSSxFQUFHa1ksWUFHOUpoUyxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUl5YyxFQUFRLEVBQ1I3QyxFQUFXLEtBQ1hoRCxHQUFhLEVBQ2pCMVMsRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVnZixHQUM1RXBGLElBQ0RBLEVBQVc5TSxFQUFxQlkseUJBQXlCMU4sT0FBWTRDLEdBQVcsV0FDNUVnWCxFQUFXLEtBQ1hoRCxHQUFjNVcsRUFBV08sY0FFN0J1UCxFQUFZRyxVQUFVa0ssRUFBUTZFLEVBQVl2QyxNQUFVM1ksVUFBVThWLE9BRW5FLFdBQ0NoRCxHQUFhLEdBQ1pnRCxHQUFZNVosRUFBV08sbUNDMUJwQy9CLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRbWhCLFlBQVMsRUFDakIsSUFBSWxTLEVBQVMsRUFBUSxNQUNqQm1TLEVBQW1CLEVBQVEsTUFRL0JwaEIsRUFBUW1oQixPQVBSLFNBQWdCOUUsRUFBU2dGLEVBQVk3USxHQUdqQyxZQUZtQixJQUFmNlEsSUFBeUJBLEVBQWFsWixFQUFBQSxHQUMxQ2taLEdBQWNBLEdBQWMsR0FBSyxFQUFJbFosRUFBQUEsRUFBV2taLEVBQ3pDcFMsRUFBTzBKLFNBQVEsU0FBVXZTLEVBQVFsRSxHQUNwQyxPQUFPa2YsRUFBaUJFLGVBQWVsYixFQUFRbEUsRUFBWW1hLEVBQVNnRixPQUFZdmMsR0FBVyxFQUFNMEwsdUJDUnpHOVAsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVF3Z0IsWUFBUyxFQUNqQixJQUFJdlIsRUFBUyxFQUFRLE1BQ2pCRCxFQUF1QixFQUFRLE1BT25DaFAsRUFBUXdnQixPQU5SLFNBQWdCakQsRUFBV3hSLEdBQ3ZCLE9BQU9rRCxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUl5YyxFQUFRLEVBQ1p2WSxFQUFPSixVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLEdBQVksU0FBVVYsR0FBUyxPQUFPK2IsRUFBVXRjLEtBQUs4SyxFQUFTdkssRUFBT21kLE1BQVl6YyxFQUFXTSxLQUFLaEIsMkJDUHhLZCxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXVoQixjQUFXLEVBQ25CLElBQUl0UyxFQUFTLEVBQVEsTUFXckJqUCxFQUFRdWhCLFNBVlIsU0FBa0JDLEdBQ2QsT0FBT3ZTLEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEMsSUFDSWtFLEVBQU9KLFVBQVU5RCxHQUVyQixRQUNJQSxFQUFXeUUsSUFBSTZhLHdCQ1QzQjlnQixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXloQixXQUFhemhCLEVBQVEwaEIsVUFBTyxFQUNwQyxJQUFJelMsRUFBUyxFQUFRLE1BQ2pCRCxFQUF1QixFQUFRLE1BS25DLFNBQVN5UyxFQUFXbEUsRUFBV3hSLEVBQVMyTyxHQUNwQyxJQUFJaUgsRUFBcUIsVUFBVGpILEVBQ2hCLE9BQU8sU0FBVXRVLEVBQVFsRSxHQUNyQixJQUFJeWMsRUFBUSxFQUNadlksRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVWLEdBQ2pGLElBQUl1SCxFQUFJNFYsSUFDSnBCLEVBQVV0YyxLQUFLOEssRUFBU3ZLLEVBQU91SCxFQUFHM0MsS0FDbENsRSxFQUFXTSxLQUFLbWYsRUFBWTVZLEVBQUl2SCxHQUNoQ1UsRUFBV08sZUFFaEIsV0FDQ1AsRUFBV00sS0FBS21mLEdBQWEsT0FBSTdjLEdBQ2pDNUMsRUFBV08sZ0JBYnZCekMsRUFBUTBoQixLQUhSLFNBQWNuRSxFQUFXeFIsR0FDckIsT0FBT2tELEVBQU8wSixRQUFROEksRUFBV2xFLEVBQVd4UixFQUFTLFdBbUJ6RC9MLEVBQVF5aEIsV0FBYUEsa0JDeEJyQi9nQixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTJoQixlQUFZLEVBQ3BCLElBQUkxUyxFQUFTLEVBQVEsTUFDakIyUyxFQUFTLEVBQVEsTUFJckI1aEIsRUFBUTJoQixVQUhSLFNBQW1CcEUsRUFBV3hSLEdBQzFCLE9BQU9rRCxFQUFPMEosUUFBUWlKLEVBQU9ILFdBQVdsRSxFQUFXeFIsRUFBUywyQkNMaEVyTCxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTRmLFdBQVEsRUFDaEIsSUFBSWlDLEVBQWUsRUFBUSxNQUN2QjFCLEVBQVcsRUFBUSxNQUNuQi9CLEVBQVMsRUFBUSxNQUNqQmlDLEVBQW1CLEVBQVEsTUFDM0JELEVBQWlCLEVBQVEsTUFDekJsUSxFQUFhLEVBQVEsTUFPekJsUSxFQUFRNGYsTUFOUixTQUFlckMsRUFBV1UsR0FDdEIsSUFBSXNDLEVBQWtCMWUsVUFBVTBGLFFBQVUsRUFDMUMsT0FBTyxTQUFVbkIsR0FDYixPQUFPQSxFQUFPZ0IsS0FBS21XLEVBQVk0QyxFQUFTSyxRQUFPLFNBQVU5TSxFQUFHM0ssR0FBSyxPQUFPd1UsRUFBVTdKLEVBQUczSyxFQUFHM0MsTUFBYzhKLEVBQVdRLFNBQVUwTixFQUFPSyxLQUFLLEdBQUk4QixFQUFrQkYsRUFBaUJyQyxlQUFlQyxHQUFnQm1DLEVBQWVLLGNBQWEsV0FBYyxPQUFPLElBQUlvQixFQUFhQyxpQ0NYdlJwaEIsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVEraEIsYUFBVSxFQUNsQixJQUFJbkYsRUFBYSxFQUFRLE1BQ3pCNWMsRUFBUStoQixRQUFVbkYsRUFBV0MseUJDSDdCbmMsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFnaUIsYUFBVSxFQUNsQixJQUFJL1gsRUFBZSxFQUFRLE1BQ3ZCK0gsRUFBYyxFQUFRLE1BQ3RCbEssRUFBWSxFQUFRLE1BQ3BCbUgsRUFBUyxFQUFRLE1BQ2pCRCxFQUF1QixFQUFRLE1BMERuQ2hQLEVBQVFnaUIsUUF6RFIsU0FBaUJoRCxFQUFhaUQsRUFBa0I5SSxFQUFVa0UsR0FDdEQsT0FBT3BPLEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEMsSUFBSWdnQixFQUNDRCxHQUFnRCxtQkFBckJBLEdBSTNCOUksRUFBVzhJLEVBQWlCOUksU0FBVStJLEVBQVVELEVBQWlCQyxRQUFTN0UsRUFBWTRFLEVBQWlCNUUsV0FIeEc2RSxFQUFVRCxFQUtkLElBQUlFLEVBQVMsSUFBSUMsSUFDYkMsRUFBUyxTQUFVQyxHQUNuQkgsRUFBT3JiLFFBQVF3YixHQUNmQSxFQUFHcGdCLElBRUhxZ0IsRUFBYyxTQUFVMWQsR0FBTyxPQUFPd2QsR0FBTyxTQUFVRyxHQUFZLE9BQU9BLEVBQVNqZ0IsTUFBTXNDLE9BQ3pGNGQsRUFBZSxFQUNmQyxHQUFvQixFQUNwQkMsRUFBMEIsSUFBSTNULEVBQXFCa0osbUJBQW1CaFcsR0FBWSxTQUFVVixHQUM1RixJQUNJLElBQUlvaEIsRUFBUTVELEVBQVl4ZCxHQUNwQnFoQixFQUFVVixFQUFPdmYsSUFBSWdnQixHQUN6QixJQUFLQyxFQUFTLENBQ1ZWLEVBQU9XLElBQUlGLEVBQVFDLEVBQVV4RixFQUFZQSxJQUFjLElBQUl2VixFQUFVcEYsU0FDckUsSUFBSXFnQixHQW9CaUIzRCxFQXBCaUJ3RCxFQW9CWkksRUFwQm1CSCxHQXFCakR0ZSxFQUFTLElBQUkwRixFQUFheEUsWUFBVyxTQUFVd2QsR0FDL0NSLElBQ0EsSUFBSTNHLEVBQVdrSCxFQUFhaGQsVUFBVWlkLEdBQ3RDLE9BQU8sV0FDSG5ILEVBQVMzVSxjQUNVLEtBQWpCc2IsR0FBc0JDLEdBQXFCQyxFQUF3QnhiLG1CQUd0RWlZLElBQU1BLEVBQ043YSxHQTVCQyxHQURBckMsRUFBV00sS0FBS3VnQixHQUNaNUosRUFBVSxDQUNWLElBQUkrSixFQUF1QmxVLEVBQXFCWSx5QkFBeUJpVCxHQUFTLFdBQzlFQSxFQUFRcGdCLFdBQ1J5Z0IsTUFBQUEsR0FBNEVBLEVBQXFCL2IscUJBQ2xHckMsT0FBV0EsR0FBVyxXQUFjLE9BQU9xZCxFQUFPZ0IsT0FBT1AsTUFDNURELEVBQXdCaGMsSUFBSXFMLEVBQVlHLFVBQVVnSCxFQUFTNEosSUFBVS9jLFVBQVVrZCxLQUd2RkwsRUFBUXJnQixLQUFLMGYsRUFBVUEsRUFBUTFnQixHQUFTQSxHQUU1QyxNQUFPcUQsR0FDSDBkLEVBQVkxZCxHQU9wQixJQUFpQ3VhLEVBQUs0RCxFQUM5QnplLEtBTkwsV0FBYyxPQUFPOGQsR0FBTyxTQUFVRyxHQUFZLE9BQU9BLEVBQVMvZixnQkFBbUI4ZixHQUFhLFdBQWMsT0FBT0osRUFBTzdDLFdBQVksV0FFekksT0FEQW9ELEdBQW9CLEVBQ0ksSUFBakJELEtBRVhyYyxFQUFPSixVQUFVMmMsdUJDakR6QmppQixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTBlLG9CQUFpQixFQUN6QixJQUFJelAsRUFBUyxFQUFRLE1BQ2pCRCxFQUF1QixFQUFRLE1BQy9CNUQsRUFBUyxFQUFRLE1BTXJCcEwsRUFBUTBlLGVBTFIsV0FDSSxPQUFPelAsRUFBTzBKLFNBQVEsU0FBVXZTLEVBQVFsRSxHQUNwQ2tFLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sRUFBWWtKLEVBQU91QiwyQkNQMUZqTSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUW9qQixhQUFVLEVBQ2xCLElBQUluVSxFQUFTLEVBQVEsTUFDakJELEVBQXVCLEVBQVEsTUFZbkNoUCxFQUFRb2pCLFFBWFIsV0FDSSxPQUFPblUsRUFBTzBKLFNBQVEsU0FBVXZTLEVBQVFsRSxHQUNwQ2tFLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxXQUN2RUEsRUFBV00sTUFBSyxHQUNoQk4sRUFBV08sY0FDWixXQUNDUCxFQUFXTSxNQUFLLEdBQ2hCTixFQUFXTyxtQ0NYdkIvQixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXNjLHNCQUFtQixFQUMzQixJQUFJcE0sRUFBYSxFQUFRLE1BQ3JCQyxFQUFxQixFQUFRLE1BQzdCdEssRUFBUyxFQUFRLE1BQ2pCK1csRUFBYSxFQUFRLE1BQ3JCeUcsRUFBWSxFQUFRLEdBSXhCcmpCLEVBQVFzYyxpQkFIUixTQUEwQmdILEVBQVFqSCxHQUM5QixPQUFPeFcsRUFBT3VCLEtBQUtpYyxFQUFVRSxVQUFXM0csRUFBV0MsVUFBUyxTQUFVbEcsR0FBVyxPQUFPMk0sRUFBTzNNLE1BQWMwRixFQUFVbE0sRUFBbUJ1QixpQkFBaUIySyxHQUFXbk0sRUFBV1EsMkJDUnJMaFEsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFrSixVQUFPLEVBQ2YsSUFBSTJZLEVBQWUsRUFBUSxNQUN2QjFCLEVBQVcsRUFBUSxNQUNuQnFELEVBQWEsRUFBUSxNQUNyQnBELEVBQWlCLEVBQVEsTUFDekJDLEVBQW1CLEVBQVEsTUFDM0JuUSxFQUFhLEVBQVEsTUFPekJsUSxFQUFRa0osS0FOUixTQUFjcVUsRUFBV1UsR0FDckIsSUFBSXNDLEVBQWtCMWUsVUFBVTBGLFFBQVUsRUFDMUMsT0FBTyxTQUFVbkIsR0FDYixPQUFPQSxFQUFPZ0IsS0FBS21XLEVBQVk0QyxFQUFTSyxRQUFPLFNBQVU5TSxFQUFHM0ssR0FBSyxPQUFPd1UsRUFBVTdKLEVBQUczSyxFQUFHM0MsTUFBYzhKLEVBQVdRLFNBQVU4UyxFQUFXQyxTQUFTLEdBQUlsRCxFQUFrQkYsRUFBaUJyQyxlQUFlQyxHQUFnQm1DLEVBQWVLLGNBQWEsV0FBYyxPQUFPLElBQUlvQixFQUFhQyxpQ0NYL1JwaEIsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVE0WCxTQUFNLEVBQ2QsSUFBSTNJLEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQVNuQ2hQLEVBQVE0WCxJQVJSLFNBQWF5RSxFQUFTdFEsR0FDbEIsT0FBT2tELEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEMsSUFBSXljLEVBQVEsRUFDWnZZLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVVixHQUNqRlUsRUFBV00sS0FBSzZaLEVBQVFwYixLQUFLOEssRUFBU3ZLLEVBQU9tZCw4QkNSekRqZSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTRlLFdBQVEsRUFDaEIsSUFBSW9DLEVBQVEsRUFBUSxNQUlwQmhoQixFQUFRNGUsTUFIUixTQUFlcGQsR0FDWCxPQUFPd2YsRUFBTXBKLEtBQUksV0FBYyxPQUFPcFcsc0JDSjFDZCxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTBqQixpQkFBYyxFQUN0QixJQUFJNUUsRUFBaUIsRUFBUSxNQUN6QjdQLEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQWNuQ2hQLEVBQVEwakIsWUFiUixXQUNJLE9BQU96VSxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDa0UsRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVWLEdBQ2pGVSxFQUFXTSxLQUFLc2MsRUFBZXpiLGFBQWFzQixXQUFXbkQsT0FDeEQsV0FDQ1UsRUFBV00sS0FBS3NjLEVBQWV6YixhQUFhMEIsa0JBQzVDN0MsRUFBV08sY0FDWixTQUFVb0MsR0FDVDNDLEVBQVdNLEtBQUtzYyxFQUFlemIsYUFBYXVCLFlBQVlDLElBQ3hEM0MsRUFBV08sbUNDZHZCL0IsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVF3SSxTQUFNLEVBQ2QsSUFBSThVLEVBQVcsRUFBUSxLQUNuQjVaLEVBQWUsRUFBUSxNQUkzQjFELEVBQVF3SSxJQUhSLFNBQWFtYixHQUNULE9BQU9yRyxFQUFTRSxPQUFPOVosRUFBYVcsV0FBV3NmLEdBQVksU0FBVWpjLEVBQUd1TCxHQUFLLE9BQVEwUSxFQUFTamMsRUFBR3VMLEdBQUssRUFBSXZMLEVBQUl1TCxHQUFRLFNBQVV2TCxFQUFHdUwsR0FBSyxPQUFRdkwsRUFBSXVMLEVBQUl2TCxFQUFJdUwsMkJDTGhLLElBQUlyRyxFQUFVck0sTUFBUUEsS0FBS3FNLFFBQVcsU0FBVWxELEVBQUdtRCxHQUMvQyxJQUFJL0MsRUFBc0IsbUJBQVhGLFFBQXlCRixFQUFFRSxPQUFPQyxVQUNqRCxJQUFLQyxFQUFHLE9BQU9KLEVBQ2YsSUFBbUJvRCxFQUFZQyxFQUEzQmhFLEVBQUllLEVBQUU3SSxLQUFLeUksR0FBT3NELEVBQUssR0FDM0IsSUFDSSxXQUFjLElBQU5ILEdBQWdCQSxLQUFNLE1BQVFDLEVBQUkvRCxFQUFFdkcsUUFBUXVILE1BQU1pRCxFQUFHdkUsS0FBS3FFLEVBQUV0TCxPQUV4RSxNQUFPZSxHQUFTd0ssRUFBSSxDQUFFeEssTUFBT0EsR0FDN0IsUUFDSSxJQUNRdUssSUFBTUEsRUFBRS9DLE9BQVNELEVBQUlmLEVBQVUsU0FBSWUsRUFBRTdJLEtBQUs4SCxHQUVsRCxRQUFVLEdBQUlnRSxFQUFHLE1BQU1BLEVBQUV4SyxPQUU3QixPQUFPeUssR0FFUEMsRUFBaUIxTSxNQUFRQSxLQUFLME0sZUFBa0IsU0FBVUMsRUFBSUMsR0FDOUQsSUFBSyxJQUFJcEUsRUFBSSxFQUFHcUUsRUFBS0QsRUFBSzVGLE9BQVE4RixFQUFJSCxFQUFHM0YsT0FBUXdCLEVBQUlxRSxFQUFJckUsSUFBS3NFLElBQzFESCxFQUFHRyxHQUFLRixFQUFLcEUsR0FDakIsT0FBT21FLEdBRVh4TSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTRqQixXQUFRLEVBQ2hCLElBQUkzVSxFQUFTLEVBQVEsTUFDakJ5SCxFQUFtQixFQUFRLE1BQzNCK0YsRUFBYSxFQUFRLE1BQ3JCck0sRUFBUyxFQUFRLE1BQ2pCSCxFQUFTLEVBQVEsTUFhckJqUSxFQUFRNGpCLE1BWlIsV0FFSSxJQURBLElBQUl6UyxFQUFPLEdBQ0Y3SixFQUFLLEVBQUdBLEVBQUt6RixVQUFVMEYsT0FBUUQsSUFDcEM2SixFQUFLN0osR0FBTXpGLFVBQVV5RixHQUV6QixJQUFJa0osRUFBWUosRUFBT2dCLGFBQWFELEdBQ2hDa1EsRUFBYWpSLEVBQU95VCxVQUFVMVMsRUFBTWhKLEVBQUFBLEdBRXhDLE9BREFnSixFQUFPdUYsRUFBaUJHLGVBQWUxRixHQUNoQ2xDLEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEN1YSxFQUFXQyxTQUFTMkUsRUFBcEI1RSxDQUFnQ3hNLEVBQU85QyxLQUFLRixFQUFjLENBQUM3RyxHQUFTd0csRUFBT3VFLElBQVFYLElBQVl4SyxVQUFVOUQsdUJDckNqSHhCLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRMGMsY0FBVyxFQUNuQixJQUFJRSxFQUFhLEVBQVEsTUFDckIxTSxFQUFhLEVBQVEsTUFLekJsUSxFQUFRMGMsU0FKUixTQUFrQjJFLEdBRWQsWUFEbUIsSUFBZkEsSUFBeUJBLEVBQWFsWixFQUFBQSxHQUNuQ3lVLEVBQVdDLFNBQVMzTSxFQUFXUSxTQUFVMlEsb0JDTnBEM2dCLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRc2hCLG9CQUFpQixFQUN6QixJQUFJdFAsRUFBYyxFQUFRLE1BQ3RCMUIsRUFBb0IsRUFBUSxNQUM1QnRCLEVBQXVCLEVBQVEsTUEwRG5DaFAsRUFBUXNoQixlQXpEUixTQUF3QmxiLEVBQVFsRSxFQUFZbWEsRUFBU2dGLEVBQVl5QyxFQUFjM0MsRUFBUTRDLEVBQW1CQyxHQUN0RyxJQUFJaE0sRUFBUyxHQUNUbkgsRUFBUyxFQUNUOE4sRUFBUSxFQUNSN0YsR0FBYSxFQUNibUwsRUFBZ0IsWUFDWm5MLEdBQWVkLEVBQU96USxRQUFXc0osR0FDakMzTyxFQUFXTyxZQUdmeWhCLEVBQVksU0FBVTFpQixHQUFTLE9BQVFxUCxFQUFTd1EsRUFBYThDLEVBQVczaUIsR0FBU3dXLEVBQU92UCxLQUFLakgsSUFDN0YyaUIsRUFBYSxTQUFVM2lCLEdBQ3ZCMmYsR0FBVWpmLEVBQVdNLEtBQUtoQixHQUMxQnFQLElBQ0EsSUFBSXVULEdBQWdCLEVBQ3BCcFMsRUFBWUcsVUFBVWtLLEVBQVE3YSxFQUFPbWQsTUFBVTNZLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVbWlCLEdBQ3pIUCxNQUFBQSxHQUE0REEsRUFBYU8sR0FDckVsRCxFQUNBK0MsRUFBVUcsR0FHVm5pQixFQUFXTSxLQUFLNmhCLE1BRXJCLFdBQ0NELEdBQWdCLFNBQ2pCdGYsR0FBVyxXQUNWLEdBQUlzZixFQUNBLElBQ0l2VCxJQVVBLElBVEEsSUFBSUUsRUFBVSxXQUNWLElBQUl1VCxFQUFnQnRNLEVBQU9wTixRQUN2Qm1aLEVBQ0F6VCxFQUFrQlksZ0JBQWdCaFAsRUFBWTZoQixHQUFtQixXQUFjLE9BQU9JLEVBQVdHLE1BR2pHSCxFQUFXRyxJQUdadE0sRUFBT3pRLFFBQVVzSixFQUFTd1EsR0FDN0J0USxJQUVKa1QsSUFFSixNQUFPcGYsR0FDSDNDLEVBQVdLLE1BQU1zQyxTQVNqQyxPQUpBdUIsRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixFQUFZZ2lCLEdBQVcsV0FDbEZwTCxHQUFhLEVBQ2JtTCxRQUVHLFdBQ0hELE1BQUFBLEdBQXdFQSxzQkMzRGhGdGpCLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRNmMsY0FBVyxFQUNuQixJQUFJbUUsRUFBUSxFQUFRLE1BQ2hCaFAsRUFBYyxFQUFRLE1BQ3RCL0MsRUFBUyxFQUFRLE1BQ2pCbVMsRUFBbUIsRUFBUSxNQUMzQjFkLEVBQWUsRUFBUSxNQVczQjFELEVBQVE2YyxTQVZSLFNBQVNBLEVBQVNSLEVBQVNoTCxFQUFnQmdRLEdBRXZDLFlBRG1CLElBQWZBLElBQXlCQSxFQUFhbFosRUFBQUEsR0FDdEN6RSxFQUFhVyxXQUFXZ04sR0FDakJ3TCxHQUFTLFNBQVU0QyxFQUFHMVcsR0FBSyxPQUFPaVksRUFBTXBKLEtBQUksU0FBVW5YLEVBQUd3Z0IsR0FBTSxPQUFPNVAsRUFBZW9PLEVBQUdoZixFQUFHc0ksRUFBR2tZLEtBQTVERCxDQUFvRWhQLEVBQVlHLFVBQVVrSyxFQUFRb0QsRUFBRzFXLE9BQVNzWSxJQUV4SCxpQkFBbkJoUSxJQUNaZ1EsRUFBYWhRLEdBRVZwQyxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQWMsT0FBT2tmLEVBQWlCRSxlQUFlbGIsRUFBUWxFLEVBQVltYSxFQUFTZ0Ysd0JDZjlIM2dCLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRdWtCLGdCQUFhLEVBQ3JCLElBQUkzSCxFQUFhLEVBQVEsTUFDckJsWixFQUFlLEVBQVEsTUFXM0IxRCxFQUFRdWtCLFdBVlIsU0FBb0J2SCxFQUFpQjNMLEVBQWdCZ1EsR0FFakQsWUFEbUIsSUFBZkEsSUFBeUJBLEVBQWFsWixFQUFBQSxHQUN0Q3pFLEVBQWFXLFdBQVdnTixHQUNqQnVMLEVBQVdDLFVBQVMsV0FBYyxPQUFPRyxJQUFvQjNMLEVBQWdCZ1EsSUFFMUQsaUJBQW5CaFEsSUFDUGdRLEVBQWFoUSxHQUVWdUwsRUFBV0MsVUFBUyxXQUFjLE9BQU9HLElBQW9CcUUscUJDWnhFM2dCLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRd2tCLGVBQVksRUFDcEIsSUFBSXZWLEVBQVMsRUFBUSxNQUNqQm1TLEVBQW1CLEVBQVEsTUFVL0JwaEIsRUFBUXdrQixVQVRSLFNBQW1CQyxFQUFhQyxFQUFNckQsR0FFbEMsWUFEbUIsSUFBZkEsSUFBeUJBLEVBQWFsWixFQUFBQSxHQUNuQzhHLEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEMsSUFBSXNILEVBQVFrYixFQUNaLE9BQU90RCxFQUFpQkUsZUFBZWxiLEVBQVFsRSxHQUFZLFNBQVVWLEVBQU9tZCxHQUFTLE9BQU84RixFQUFZamIsRUFBT2hJLEVBQU9tZCxLQUFXMEMsR0FBWSxTQUFVN2YsR0FDbkpnSSxFQUFRaEksS0FDVCxPQUFPc0QsR0FBVyxXQUFjLE9BQVEwRSxFQUFRLGtDQ1YzRCxJQUFJb0QsRUFBVXJNLE1BQVFBLEtBQUtxTSxRQUFXLFNBQVVsRCxFQUFHbUQsR0FDL0MsSUFBSS9DLEVBQXNCLG1CQUFYRixRQUF5QkYsRUFBRUUsT0FBT0MsVUFDakQsSUFBS0MsRUFBRyxPQUFPSixFQUNmLElBQW1Cb0QsRUFBWUMsRUFBM0JoRSxFQUFJZSxFQUFFN0ksS0FBS3lJLEdBQU9zRCxFQUFLLEdBQzNCLElBQ0ksV0FBYyxJQUFOSCxHQUFnQkEsS0FBTSxNQUFRQyxFQUFJL0QsRUFBRXZHLFFBQVF1SCxNQUFNaUQsRUFBR3ZFLEtBQUtxRSxFQUFFdEwsT0FFeEUsTUFBT2UsR0FBU3dLLEVBQUksQ0FBRXhLLE1BQU9BLEdBQzdCLFFBQ0ksSUFDUXVLLElBQU1BLEVBQUUvQyxPQUFTRCxFQUFJZixFQUFVLFNBQUllLEVBQUU3SSxLQUFLOEgsR0FFbEQsUUFBVSxHQUFJZ0UsRUFBRyxNQUFNQSxFQUFFeEssT0FFN0IsT0FBT3lLLEdBRVBDLEVBQWlCMU0sTUFBUUEsS0FBSzBNLGVBQWtCLFNBQVVDLEVBQUlDLEdBQzlELElBQUssSUFBSXBFLEVBQUksRUFBR3FFLEVBQUtELEVBQUs1RixPQUFROEYsRUFBSUgsRUFBRzNGLE9BQVF3QixFQUFJcUUsRUFBSXJFLElBQUtzRSxJQUMxREgsRUFBR0csR0FBS0YsRUFBS3BFLEdBQ2pCLE9BQU9tRSxHQUVYeE0sT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVEya0IsZUFBWSxFQUNwQixJQUFJQyxFQUFVLEVBQVEsTUFRdEI1a0IsRUFBUTJrQixVQVBSLFdBRUksSUFEQSxJQUFJbkksRUFBZSxHQUNWbFYsRUFBSyxFQUFHQSxFQUFLekYsVUFBVTBGLE9BQVFELElBQ3BDa1YsRUFBYWxWLEdBQU16RixVQUFVeUYsR0FFakMsT0FBT3NkLEVBQVFoQixNQUFNaGlCLFdBQU0sRUFBUXFMLEVBQWMsR0FBSUwsRUFBTzRQLHNCQzdCaEU5YixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTZrQixTQUFNLEVBQ2QsSUFBSXZILEVBQVcsRUFBUSxLQUNuQjVaLEVBQWUsRUFBUSxNQUkzQjFELEVBQVE2a0IsSUFIUixTQUFhbEIsR0FDVCxPQUFPckcsRUFBU0UsT0FBTzlaLEVBQWFXLFdBQVdzZixHQUFZLFNBQVVqYyxFQUFHdUwsR0FBSyxPQUFRMFEsRUFBU2pjLEVBQUd1TCxHQUFLLEVBQUl2TCxFQUFJdUwsR0FBUSxTQUFVdkwsRUFBR3VMLEdBQUssT0FBUXZMLEVBQUl1TCxFQUFJdkwsRUFBSXVMLHFCQ0xoS3ZTLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFROGtCLGVBQVksRUFDcEIsSUFBSUMsRUFBMEIsRUFBUSxNQUNsQ3JoQixFQUFlLEVBQVEsTUFDdkJzaEIsRUFBWSxFQUFRLE1BVXhCaGxCLEVBQVE4a0IsVUFUUixTQUFtQkcsRUFBeUJySixHQUN4QyxJQUFJMU0sRUFBaUJ4TCxFQUFhVyxXQUFXNGdCLEdBQTJCQSxFQUEwQixXQUFjLE9BQU9BLEdBQ3ZILE9BQUl2aEIsRUFBYVcsV0FBV3VYLEdBQ2pCb0osRUFBVXZWLFFBQVFtTSxFQUFVLENBQy9CeUIsVUFBV25PLElBR1osU0FBVTlJLEdBQVUsT0FBTyxJQUFJMmUsRUFBd0JqVyxzQkFBc0IxSSxFQUFROEkscUJDWmhHeE8sT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFrbEIsZUFBWSxFQUNwQixJQUFJNVUsRUFBb0IsRUFBUSxNQUM1QnJCLEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQU9uQ2hQLEVBQVFrbEIsVUFOUixTQUFtQjFVLEVBQVdqSCxHQUUxQixZQURjLElBQVZBLElBQW9CQSxFQUFRLEdBQ3pCMEYsRUFBTzBKLFNBQVEsU0FBVXZTLEVBQVFsRSxHQUNwQ2tFLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVVixHQUFTLE9BQU84TyxFQUFrQlksZ0JBQWdCaFAsRUFBWXNPLEdBQVcsV0FBYyxPQUFPdE8sRUFBV00sS0FBS2hCLEtBQVcrSCxNQUFXLFdBQWMsT0FBTytHLEVBQWtCWSxnQkFBZ0JoUCxFQUFZc08sR0FBVyxXQUFjLE9BQU90TyxFQUFXTyxhQUFlOEcsTUFBVyxTQUFVMUUsR0FBTyxPQUFPeUwsRUFBa0JZLGdCQUFnQmhQLEVBQVlzTyxHQUFXLFdBQWMsT0FBT3RPLEVBQVdLLE1BQU1zQyxLQUFTMEUsaUNDUnplLElBQUlxRCxFQUFVck0sTUFBUUEsS0FBS3FNLFFBQVcsU0FBVWxELEVBQUdtRCxHQUMvQyxJQUFJL0MsRUFBc0IsbUJBQVhGLFFBQXlCRixFQUFFRSxPQUFPQyxVQUNqRCxJQUFLQyxFQUFHLE9BQU9KLEVBQ2YsSUFBbUJvRCxFQUFZQyxFQUEzQmhFLEVBQUllLEVBQUU3SSxLQUFLeUksR0FBT3NELEVBQUssR0FDM0IsSUFDSSxXQUFjLElBQU5ILEdBQWdCQSxLQUFNLE1BQVFDLEVBQUkvRCxFQUFFdkcsUUFBUXVILE1BQU1pRCxFQUFHdkUsS0FBS3FFLEVBQUV0TCxPQUV4RSxNQUFPZSxHQUFTd0ssRUFBSSxDQUFFeEssTUFBT0EsR0FDN0IsUUFDSSxJQUNRdUssSUFBTUEsRUFBRS9DLE9BQVNELEVBQUlmLEVBQVUsU0FBSWUsRUFBRTdJLEtBQUs4SCxHQUVsRCxRQUFVLEdBQUlnRSxFQUFHLE1BQU1BLEVBQUV4SyxPQUU3QixPQUFPeUssR0FFUEMsRUFBaUIxTSxNQUFRQSxLQUFLME0sZUFBa0IsU0FBVUMsRUFBSUMsR0FDOUQsSUFBSyxJQUFJcEUsRUFBSSxFQUFHcUUsRUFBS0QsRUFBSzVGLE9BQVE4RixFQUFJSCxFQUFHM0YsT0FBUXdCLEVBQUlxRSxFQUFJckUsSUFBS3NFLElBQzFESCxFQUFHRyxHQUFLRixFQUFLcEUsR0FDakIsT0FBT21FLEdBRVh4TSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUW1sQix1QkFBb0IsRUFDNUIsSUFBSWxXLEVBQVMsRUFBUSxNQUNqQitDLEVBQWMsRUFBUSxNQUN0QjBFLEVBQW1CLEVBQVEsTUFDM0IxSCxFQUF1QixFQUFRLE1BQy9CNUQsRUFBUyxFQUFRLE1BZ0NyQnBMLEVBQVFtbEIsa0JBL0JSLFdBRUksSUFEQSxJQUFJeE8sRUFBVSxHQUNMclAsRUFBSyxFQUFHQSxFQUFLekYsVUFBVTBGLE9BQVFELElBQ3BDcVAsRUFBUXJQLEdBQU16RixVQUFVeUYsR0FFNUIsSUFBSThkLEVBQWMxTyxFQUFpQkcsZUFBZUYsR0FDbEQsT0FBTzFILEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEMsSUFBSW1qQixFQUFZcFksRUFBYyxDQUFDN0csR0FBU3dHLEVBQU93WSxJQUMzQ0UsRUFBZ0IsV0FDaEIsSUFBS3BqQixFQUFXZ0IsT0FDWixHQUFJbWlCLEVBQVU5ZCxPQUFTLEVBQUcsQ0FDdEIsSUFBSWdlLE9BQWEsRUFDakIsSUFDSUEsRUFBYXZULEVBQVlHLFVBQVVrVCxFQUFVemEsU0FFakQsTUFBTy9GLEdBRUgsWUFEQXlnQixJQUdKLElBQUl4SixFQUFXOU0sRUFBcUJZLHlCQUF5QjFOLE9BQVk0QyxFQUFXc0csRUFBT3VCLEtBQU12QixFQUFPdUIsTUFDeEc0WSxFQUFXdmYsVUFBVThWLEdBQ3JCQSxFQUFTblYsSUFBSTJlLFFBR2JwakIsRUFBV08sWUFJdkI2aUIsd0JDeERSNWtCLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRd2xCLGNBQVcsRUFDbkIsSUFBSXZXLEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQWFuQ2hQLEVBQVF3bEIsU0FaUixXQUNJLE9BQU92VyxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUl1akIsRUFDQUMsR0FBVSxFQUNkdGYsRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVWLEdBQ2pGLElBQUlWLEVBQUkya0IsRUFDUkEsRUFBT2prQixFQUNQa2tCLEdBQVd4akIsRUFBV00sS0FBSyxDQUFDMUIsRUFBR1UsSUFDL0Jra0IsR0FBVSwwQkNadEJobEIsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVEybEIsZUFBWSxFQUNwQixJQUFJQyxFQUFRLEVBQVEsTUFDaEJ6RixFQUFXLEVBQVEsTUFNdkJuZ0IsRUFBUTJsQixVQUxSLFNBQW1CcEksRUFBV3hSLEdBQzFCLE9BQU8sU0FBVTNGLEdBQ2IsTUFBTyxDQUFDK1osRUFBU0ssT0FBT2pELEVBQVd4UixFQUEzQm9VLENBQW9DL1osR0FBUytaLEVBQVNLLE9BQU9vRixFQUFNQyxJQUFJdEksRUFBV3hSLEdBQXJDb1UsQ0FBK0MvWixzQkNONUcxRixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUThsQixXQUFRLEVBQ2hCLElBQUk5RSxFQUFRLEVBQVEsTUF3QnBCaGhCLEVBQVE4bEIsTUF2QlIsV0FFSSxJQURBLElBQUlDLEVBQWEsR0FDUnplLEVBQUssRUFBR0EsRUFBS3pGLFVBQVUwRixPQUFRRCxJQUNwQ3llLEVBQVd6ZSxHQUFNekYsVUFBVXlGLEdBRS9CLElBQUlDLEVBQVN3ZSxFQUFXeGUsT0FDeEIsR0FBZSxJQUFYQSxFQUNBLE1BQU0sSUFBSXllLE1BQU0sdUNBRXBCLE9BQU9oRixFQUFNcEosS0FBSSxTQUFVbFEsR0FFdkIsSUFEQSxJQUFJdWUsRUFBY3ZlLEVBQ1RxQixFQUFJLEVBQUdBLEVBQUl4QixFQUFRd0IsSUFBSyxDQUM3QixJQUFJakksRUFBSW1sQixNQUFBQSxPQUFpRCxFQUFTQSxFQUFZRixFQUFXaGQsSUFDekYsUUFBaUIsSUFBTmpJLEVBSVAsT0FIQW1sQixFQUFjbmxCLEVBTXRCLE9BQU9tbEIsc0JDdkJmdmxCLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRa21CLGFBQVUsRUFDbEIsSUFBSXBlLEVBQVksRUFBUSxNQUNwQnFlLEVBQWMsRUFBUSxNQUN0Qm5CLEVBQVksRUFBUSxNQUl4QmhsQixFQUFRa21CLFFBSFIsU0FBaUJ0SyxHQUNiLE9BQU9BLEVBQVcsU0FBVXhWLEdBQVUsT0FBTzRlLEVBQVV2VixRQUFRbU0sRUFBbEJvSixDQUE0QjVlLElBQWEsU0FBVUEsR0FBVSxPQUFPK2YsRUFBWXJCLFVBQVUsSUFBSWhkLEVBQVVwRixRQUFwQ3lqQixDQUErQy9mLG1CQ05wSzFGLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRb21CLHFCQUFrQixFQUMxQixJQUFJQyxFQUFvQixFQUFRLE1BQzVCdEIsRUFBMEIsRUFBUSxNQU90Qy9rQixFQUFRb21CLGdCQU5SLFNBQXlCRSxHQUNyQixPQUFPLFNBQVVsZ0IsR0FDYixJQUFJaUUsRUFBVSxJQUFJZ2MsRUFBa0IxakIsZ0JBQWdCMmpCLEdBQ3BELE9BQU8sSUFBSXZCLEVBQXdCalcsc0JBQXNCMUksR0FBUSxXQUFjLE9BQU9pRSx1QkNQOUYzSixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXVtQixpQkFBYyxFQUN0QixJQUFJQyxFQUFpQixFQUFRLEtBQ3pCekIsRUFBMEIsRUFBUSxNQU90Qy9rQixFQUFRdW1CLFlBTlIsV0FDSSxPQUFPLFNBQVVuZ0IsR0FDYixJQUFJaUUsRUFBVSxJQUFJbWMsRUFBZS9rQixhQUNqQyxPQUFPLElBQUlzakIsRUFBd0JqVyxzQkFBc0IxSSxHQUFRLFdBQWMsT0FBT2lFLHVCQ1A5RjNKLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFReW1CLG1CQUFnQixFQUN4QixJQUFJQyxFQUFrQixFQUFRLE1BQzFCUCxFQUFjLEVBQVEsTUFDdEJ6aUIsRUFBZSxFQUFRLE1BUTNCMUQsRUFBUXltQixjQVBSLFNBQXVCbE4sRUFBWW9OLEVBQVlDLEVBQXFCQyxHQUM1REQsSUFBd0JsakIsRUFBYVcsV0FBV3VpQixLQUNoREMsRUFBb0JELEdBRXhCLElBQUloTCxFQUFXbFksRUFBYVcsV0FBV3VpQixHQUF1QkEsT0FBc0I5aEIsRUFDcEYsT0FBTyxTQUFVc0IsR0FBVSxPQUFPK2YsRUFBWXJCLFVBQVUsSUFBSTRCLEVBQWdCN2UsY0FBYzBSLEVBQVlvTixFQUFZRSxHQUFvQmpMLEVBQXBHdUssQ0FBOEcvZiwyQkNWcEosSUFBSXdHLEVBQVVyTSxNQUFRQSxLQUFLcU0sUUFBVyxTQUFVbEQsRUFBR21ELEdBQy9DLElBQUkvQyxFQUFzQixtQkFBWEYsUUFBeUJGLEVBQUVFLE9BQU9DLFVBQ2pELElBQUtDLEVBQUcsT0FBT0osRUFDZixJQUFtQm9ELEVBQVlDLEVBQTNCaEUsRUFBSWUsRUFBRTdJLEtBQUt5SSxHQUFPc0QsRUFBSyxHQUMzQixJQUNJLFdBQWMsSUFBTkgsR0FBZ0JBLEtBQU0sTUFBUUMsRUFBSS9ELEVBQUV2RyxRQUFRdUgsTUFBTWlELEVBQUd2RSxLQUFLcUUsRUFBRXRMLE9BRXhFLE1BQU9lLEdBQVN3SyxFQUFJLENBQUV4SyxNQUFPQSxHQUM3QixRQUNJLElBQ1F1SyxJQUFNQSxFQUFFL0MsT0FBU0QsRUFBSWYsRUFBVSxTQUFJZSxFQUFFN0ksS0FBSzhILEdBRWxELFFBQVUsR0FBSWdFLEVBQUcsTUFBTUEsRUFBRXhLLE9BRTdCLE9BQU95SyxHQUVQQyxFQUFpQjFNLE1BQVFBLEtBQUswTSxlQUFrQixTQUFVQyxFQUFJQyxHQUM5RCxJQUFLLElBQUlwRSxFQUFJLEVBQUdxRSxFQUFLRCxFQUFLNUYsT0FBUThGLEVBQUlILEVBQUczRixPQUFRd0IsRUFBSXFFLEVBQUlyRSxJQUFLc0UsSUFDMURILEVBQUdHLEdBQUtGLEVBQUtwRSxHQUNqQixPQUFPbUUsR0FFWHhNLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFReVcsVUFBTyxFQUNmLElBQUlDLEVBQW1CLEVBQVEsTUFDM0JvUSxFQUFhLEVBQVEsS0FRekI5bUIsRUFBUXlXLEtBUFIsV0FFSSxJQURBLElBQUl0RixFQUFPLEdBQ0Y3SixFQUFLLEVBQUdBLEVBQUt6RixVQUFVMEYsT0FBUUQsSUFDcEM2SixFQUFLN0osR0FBTXpGLFVBQVV5RixHQUV6QixPQUFPd2YsRUFBV0MsU0FBU25sQixXQUFNLEVBQVFxTCxFQUFjLEdBQUlMLEVBQU84SixFQUFpQkcsZUFBZTFGLDRCQzlCdEcsSUFBSXZFLEVBQVVyTSxNQUFRQSxLQUFLcU0sUUFBVyxTQUFVbEQsRUFBR21ELEdBQy9DLElBQUkvQyxFQUFzQixtQkFBWEYsUUFBeUJGLEVBQUVFLE9BQU9DLFVBQ2pELElBQUtDLEVBQUcsT0FBT0osRUFDZixJQUFtQm9ELEVBQVlDLEVBQTNCaEUsRUFBSWUsRUFBRTdJLEtBQUt5SSxHQUFPc0QsRUFBSyxHQUMzQixJQUNJLFdBQWMsSUFBTkgsR0FBZ0JBLEtBQU0sTUFBUUMsRUFBSS9ELEVBQUV2RyxRQUFRdUgsTUFBTWlELEVBQUd2RSxLQUFLcUUsRUFBRXRMLE9BRXhFLE1BQU9lLEdBQVN3SyxFQUFJLENBQUV4SyxNQUFPQSxHQUM3QixRQUNJLElBQ1F1SyxJQUFNQSxFQUFFL0MsT0FBU0QsRUFBSWYsRUFBVSxTQUFJZSxFQUFFN0ksS0FBSzhILEdBRWxELFFBQVUsR0FBSWdFLEVBQUcsTUFBTUEsRUFBRXhLLE9BRTdCLE9BQU95SyxHQUVQQyxFQUFpQjFNLE1BQVFBLEtBQUswTSxlQUFrQixTQUFVQyxFQUFJQyxHQUM5RCxJQUFLLElBQUlwRSxFQUFJLEVBQUdxRSxFQUFLRCxFQUFLNUYsT0FBUThGLEVBQUlILEVBQUczRixPQUFRd0IsRUFBSXFFLEVBQUlyRSxJQUFLc0UsSUFDMURILEVBQUdHLEdBQUtGLEVBQUtwRSxHQUNqQixPQUFPbUUsR0FFWHhNLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRK21CLGNBQVcsRUFDbkIsSUFBSUMsRUFBUyxFQUFRLE1BQ2pCL1gsRUFBUyxFQUFRLE1BQ2pCaUIsRUFBYSxFQUFRLE1BWXpCbFEsRUFBUSttQixTQVhSLFdBRUksSUFEQSxJQUFJdkssRUFBZSxHQUNWbFYsRUFBSyxFQUFHQSxFQUFLekYsVUFBVTBGLE9BQVFELElBQ3BDa1YsRUFBYWxWLEdBQU16RixVQUFVeUYsR0FFakMsT0FBUWtWLEVBQWFqVixPQUVmMEgsRUFBTzBKLFNBQVEsU0FBVXZTLEVBQVFsRSxHQUMvQjhrQixFQUFPeFEsU0FBU3ZKLEVBQWMsQ0FBQzdHLEdBQVN3RyxFQUFPNFAsSUFBL0N3SyxDQUErRDlrQixNQUZqRWdPLEVBQVdRLHlCQ2hDckJoUSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXdkLFlBQVMsRUFDakIsSUFBSXlKLEVBQWtCLEVBQVEsTUFDMUJoWSxFQUFTLEVBQVEsTUFJckJqUCxFQUFRd2QsT0FIUixTQUFnQmlILEVBQWFDLEdBQ3pCLE9BQU96VixFQUFPMEosUUFBUXNPLEVBQWdCQyxjQUFjekMsRUFBYUMsRUFBTTdpQixVQUFVMEYsUUFBVSxHQUFHLEdBQU8scUJDTHpHN0csT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVE2UCxjQUFXLEVBQ25CLElBQUlaLEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQXdCbkNoUCxFQUFRNlAsU0F2QlIsV0FDSSxPQUFPWixFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUl3TixFQUFhLEtBQ2pCdEosRUFBT2dKLFlBQ1AsSUFBSStYLEVBQWFuWSxFQUFxQlkseUJBQXlCMU4sT0FBWTRDLE9BQVdBLE9BQVdBLEdBQVcsV0FDeEcsSUFBS3NCLEdBQVVBLEVBQU9nSixXQUFhLEdBQUssSUFBTWhKLEVBQU9nSixVQUNqRE0sRUFBYSxTQURqQixDQUlBLElBQUkwWCxFQUFtQmhoQixFQUFPaUosWUFDMUJnWSxFQUFPM1gsRUFDWEEsRUFBYSxNQUNUMFgsR0FBc0JDLEdBQVFELElBQXFCQyxHQUNuREQsRUFBaUJqZ0IsY0FFckJqRixFQUFXaUYsa0JBRWZmLEVBQU9KLFVBQVVtaEIsR0FDWkEsRUFBV2prQixTQUNad00sRUFBYXRKLEVBQU9xSiwrQkN2QmhDL08sT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFzbkIsWUFBUyxFQUNqQixJQUFJL2pCLEVBQVUsRUFBUSxNQUNsQjBMLEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQUMvQmdELEVBQWMsRUFBUSxNQUN0Qm9FLEVBQVUsRUFBUSxNQXVEdEJwVyxFQUFRc25CLE9BdERSLFNBQWdCQyxHQUNaLElBQUlwbEIsRUFFQW9ILEVBREFrUSxFQUFRdFIsRUFBQUEsRUFVWixPQVJxQixNQUFqQm9mLElBQzZCLGlCQUFsQkEsR0FDTnBsQixFQUFLb2xCLEVBQWM5TixNQUFPQSxPQUFlLElBQVB0WCxFQUFnQmdHLEVBQUFBLEVBQVdoRyxFQUFJb0gsRUFBUWdlLEVBQWNoZSxPQUd4RmtRLEVBQVE4TixHQUdUOU4sR0FBUyxFQUNWLFdBQWMsT0FBT2xXLEVBQVFtQixPQUM3QnVLLEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDL0IsSUFDSXNsQixFQURBQyxFQUFRLEVBRVJDLEVBQWMsV0FHZCxHQUZBRixNQUFBQSxHQUFzREEsRUFBVXJnQixjQUNoRXFnQixFQUFZLEtBQ0MsTUFBVGplLEVBQWUsQ0FDZixJQUFJb2UsRUFBNEIsaUJBQVZwZSxFQUFxQjZNLEVBQVFHLE1BQU1oTixHQUFTeUksRUFBWUcsVUFBVTVJLEVBQU1rZSxJQUMxRkcsRUFBdUI1WSxFQUFxQlkseUJBQXlCMU4sR0FBWSxXQUNqRjBsQixFQUFxQnpnQixjQUNyQjBnQixPQUVKRixFQUFTM2hCLFVBQVU0aEIsUUFHbkJDLEtBR0pBLEVBQW9CLFdBQ3BCLElBQUk5TCxHQUFZLEVBQ2hCeUwsRUFBWXBoQixFQUFPSixVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLE9BQVk0QyxHQUFXLGFBQ3hGMmlCLEVBQVFoTyxFQUNOK04sRUFDQUUsSUFHQTNMLEdBQVksRUFJaEI3WixFQUFXTyxlQUdmc1osR0FDQTJMLEtBR1JHLHdCQzFEWm5uQixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUThuQixnQkFBYSxFQUNyQixJQUFJaGdCLEVBQVksRUFBUSxNQUNwQm1ILEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQTBDbkNoUCxFQUFROG5CLFdBekNSLFNBQW9CSCxHQUNoQixPQUFPMVksRUFBTzBKLFNBQVEsU0FBVXZTLEVBQVFsRSxHQUNwQyxJQUFJNFosRUFFQWlNLEVBREFDLEdBQVksRUFFWkMsR0FBcUIsRUFDckJDLEdBQWlCLEVBQ2pCakUsRUFBZ0IsV0FBYyxPQUFPaUUsR0FBa0JELElBQXVCL2xCLEVBQVdPLFlBQVksSUFrQnJHMGxCLEVBQXlCLFdBQ3pCRCxHQUFpQixFQUNqQnBNLEVBQVcxVixFQUFPSixVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLE9BQVk0QyxHQUFXLFdBQzdGb2pCLEdBQWlCLEdBQ2hCakUsTUFwQkE4RCxJQUNEQSxFQUFlLElBQUlqZ0IsRUFBVXBGLFFBQzdCaWxCLEVBQVNJLEdBQWMvaEIsVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFdBQ25GNFosRUFDQXFNLElBR0FILEdBQVksS0FFakIsV0FDQ0MsR0FBcUIsRUFDckJoRSxTQUdEOEQsR0FNd0N2bEIsV0FFM0N3bEIsSUFDQWxNLEVBQVMzVSxjQUNUMlUsRUFBVyxLQUNYa00sR0FBWSxFQUNaRyxNQUdSQSxzQkMzQ1J6bkIsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFvb0IsV0FBUSxFQUNoQixJQUFJblosRUFBUyxFQUFRLE1BQ2pCRCxFQUF1QixFQUFRLE1BQy9Ca0IsRUFBYSxFQUFRLE1BQ3JCa0csRUFBVSxFQUFRLE1BQ2xCcEUsRUFBYyxFQUFRLE1BZ0UxQmhTLEVBQVFvb0IsTUEvRFIsU0FBZUMsR0FFWCxJQUFJMWdCLE9BRGtCLElBQWxCMGdCLElBQTRCQSxFQUFnQmxnQixFQUFBQSxHQVVoRCxJQUFJaEcsR0FQQXdGLEVBREEwZ0IsR0FBMEMsaUJBQWxCQSxFQUNmQSxFQUdBLENBQ0w1TyxNQUFPNE8sSUFHQzVPLE1BQU9BLE9BQWUsSUFBUHRYLEVBQWdCZ0csRUFBQUEsRUFBV2hHLEVBQUlvSCxFQUFRNUIsRUFBTzRCLE1BQU9yRSxFQUFLeUMsRUFBTzJnQixlQUFnQkEsT0FBd0IsSUFBUHBqQixHQUF3QkEsRUFDekosT0FBT3VVLEdBQVMsRUFDVnZKLEVBQVdRLFNBQ1h6QixFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQy9CLElBQ0k0WixFQURBMkwsRUFBUSxFQUVSYyxFQUFvQixXQUNwQixJQUFJeE0sR0FBWSxFQUNoQkQsRUFBVzFWLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVVixHQUN4RjhtQixJQUNBYixFQUFRLEdBRVp2bEIsRUFBV00sS0FBS2hCLFVBQ2pCc0QsR0FBVyxTQUFVRCxHQUNwQixHQUFJNGlCLElBQVVoTyxFQUFPLENBQ2pCLElBQUkrTyxFQUFVLFdBQ04xTSxHQUNBQSxFQUFTM1UsY0FDVDJVLEVBQVcsS0FDWHlNLEtBR0F4TSxHQUFZLEdBR3BCLEdBQWEsTUFBVHhTLEVBQWUsQ0FDZixJQUFJb2UsRUFBNEIsaUJBQVZwZSxFQUFxQjZNLEVBQVFHLE1BQU1oTixHQUFTeUksRUFBWUcsVUFBVTVJLEVBQU0xRSxFQUFLNGlCLElBQy9GRyxFQUF1QjVZLEVBQXFCWSx5QkFBeUIxTixHQUFZLFdBQ2pGMGxCLEVBQXFCemdCLGNBQ3JCcWhCLE9BQ0QsV0FDQ3RtQixFQUFXTyxjQUVma2xCLEVBQVMzaEIsVUFBVTRoQixRQUduQlksU0FJSnRtQixFQUFXSyxNQUFNc0MsT0FHckJrWCxJQUNBRCxFQUFTM1UsY0FDVDJVLEVBQVcsS0FDWHlNLE1BR1JBLHdCQ25FWjduQixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXlvQixlQUFZLEVBQ3BCLElBQUkzZ0IsRUFBWSxFQUFRLE1BQ3BCbUgsRUFBUyxFQUFRLE1BQ2pCRCxFQUF1QixFQUFRLE1BNEJuQ2hQLEVBQVF5b0IsVUEzQlIsU0FBbUJkLEdBQ2YsT0FBTzFZLEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEMsSUFBSTRaLEVBRUE0TSxFQURBVixHQUFZLEVBRVpXLEVBQXdCLFdBQ3hCN00sRUFBVzFWLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sT0FBWTRDLE9BQVdBLEdBQVcsU0FBVUQsR0FDN0c2akIsSUFDREEsRUFBVSxJQUFJNWdCLEVBQVVwRixRQUN4QmlsQixFQUFTZSxHQUFTMWlCLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxXQUNsRixPQUFPNFosRUFBVzZNLElBQTJCWCxHQUFZLE9BRzdEVSxHQUNBQSxFQUFRbG1CLEtBQUtxQyxPQUdqQm1qQixJQUNBbE0sRUFBUzNVLGNBQ1QyVSxFQUFXLEtBQ1hrTSxHQUFZLEVBQ1pXLE1BR1JBLHdCQzdCUmpvQixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTRvQixZQUFTLEVBQ2pCLElBQUkzWixFQUFTLEVBQVEsTUFDakI3RCxFQUFTLEVBQVEsTUFDakI0RCxFQUF1QixFQUFRLE1BbUJuQ2hQLEVBQVE0b0IsT0FsQlIsU0FBZ0JqQixHQUNaLE9BQU8xWSxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUkwQixHQUFXLEVBQ1hnVixFQUFZLEtBQ2hCeFMsRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVWLEdBQ2pGb0MsR0FBVyxFQUNYZ1YsRUFBWXBYLE1BRWhCbW1CLEVBQVMzaEIsVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFdBQ3pFLEdBQUkwQixFQUFVLENBQ1ZBLEdBQVcsRUFDWCxJQUFJcEMsRUFBUW9YLEVBQ1pBLEVBQVksS0FDWjFXLEVBQVdNLEtBQUtoQixNQUVyQjRKLEVBQU91QiwyQkNwQmxCak0sT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVE2b0IsZ0JBQWEsRUFDckIsSUFBSTFTLEVBQVUsRUFBUSxNQUNsQjJTLEVBQVcsRUFBUSxNQUNuQkMsRUFBYSxFQUFRLE1BS3pCL29CLEVBQVE2b0IsV0FKUixTQUFvQnhTLEVBQVE3RixHQUV4QixZQURrQixJQUFkQSxJQUF3QkEsRUFBWTJGLEVBQVFHLGdCQUN6Q3dTLEVBQVNGLE9BQU9HLEVBQVc3UyxTQUFTRyxFQUFRN0YscUJDUHZEOVAsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFncEIsVUFBTyxFQUNmLElBQUkvWixFQUFTLEVBQVEsTUFDakJnWSxFQUFrQixFQUFRLE1BSTlCam5CLEVBQVFncEIsS0FIUixTQUFjdkUsRUFBYUMsR0FDdkIsT0FBT3pWLEVBQU8wSixRQUFRc08sRUFBZ0JDLGNBQWN6QyxFQUFhQyxFQUFNN2lCLFVBQVUwRixRQUFVLEdBQUcscUJDTGxHN0csT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFrbkIsbUJBQWdCLEVBQ3hCLElBQUlsWSxFQUF1QixFQUFRLE1BcUJuQ2hQLEVBQVFrbkIsY0FwQlIsU0FBdUJ6QyxFQUFhQyxFQUFNdUUsRUFBU0MsRUFBWUMsR0FDM0QsT0FBTyxTQUFVL2lCLEVBQVFsRSxHQUNyQixJQUFJa25CLEVBQVdILEVBQ1h6ZixFQUFRa2IsRUFDUi9GLEVBQVEsRUFDWnZZLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVVixHQUNqRixJQUFJdUgsRUFBSTRWLElBQ1JuVixFQUFRNGYsRUFFQTNFLEVBQVlqYixFQUFPaEksRUFBT3VILElBRXhCcWdCLEdBQVcsRUFBTzVuQixHQUM1QjBuQixHQUFjaG5CLEVBQVdNLEtBQUtnSCxLQUMvQjJmLEdBQ0MsV0FDSUMsR0FBWWxuQixFQUFXTSxLQUFLZ0gsR0FDNUJ0SCxFQUFXTyxnQ0NuQjNCL0IsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFxcEIsbUJBQWdCLEVBQ3hCLElBQUlwYSxFQUFTLEVBQVEsTUFDakJELEVBQXVCLEVBQVEsTUErQm5DaFAsRUFBUXFwQixjQTlCUixTQUF1QkMsRUFBVzVKLEdBRTlCLFlBRG1CLElBQWZBLElBQXlCQSxFQUFhLFNBQVVELEVBQUdoZixHQUFLLE9BQU9nZixJQUFNaGYsSUFDbEV3TyxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUlxbkIsRUE2QkQsQ0FDSHZSLE9BQVEsR0FDUnZWLFVBQVUsR0E5Qk4rbUIsRUE0QkQsQ0FDSHhSLE9BQVEsR0FDUnZWLFVBQVUsR0E3Qk5pWSxFQUFPLFNBQVUrTyxHQUNqQnZuQixFQUFXTSxLQUFLaW5CLEdBQ2hCdm5CLEVBQVdPLFlBRVhpbkIsRUFBbUIsU0FBVUMsRUFBV0MsR0FDeEMsSUFBSUMsRUFBMEI3YSxFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVdWQsR0FDOUYsSUFBSXpILEVBQVM0UixFQUFXNVIsT0FBUXZWLEVBQVdtbkIsRUFBV25uQixTQUNoQyxJQUFsQnVWLEVBQU96USxPQUNQOUUsRUFBV2lZLEdBQUssR0FBU2lQLEVBQVUzUixPQUFPdlAsS0FBS2dYLElBRzlDQyxFQUFXRCxFQUFHekgsRUFBT3BOLFVBQVk4UCxHQUFLLE1BRTVDLFdBQ0NpUCxFQUFVbG5CLFVBQVcsRUFDckIsSUFBSUEsRUFBV21uQixFQUFXbm5CLFNBQVV1VixFQUFTNFIsRUFBVzVSLE9BQ3hEdlYsR0FBWWlZLEVBQXVCLElBQWxCMUMsRUFBT3pRLFFBQ3hCc2lCLE1BQUFBLEdBQWtGQSxFQUF3QjFpQixpQkFFOUcsT0FBTzBpQixHQUVYempCLEVBQU9KLFVBQVUwakIsRUFBaUJILEVBQVFDLElBQzFDRixFQUFVdGpCLFVBQVUwakIsRUFBaUJGLEVBQVFELDhCQy9CckQsSUFBSTNjLEVBQVVyTSxNQUFRQSxLQUFLcU0sUUFBVyxTQUFVbEQsRUFBR21ELEdBQy9DLElBQUkvQyxFQUFzQixtQkFBWEYsUUFBeUJGLEVBQUVFLE9BQU9DLFVBQ2pELElBQUtDLEVBQUcsT0FBT0osRUFDZixJQUFtQm9ELEVBQVlDLEVBQTNCaEUsRUFBSWUsRUFBRTdJLEtBQUt5SSxHQUFPc0QsRUFBSyxHQUMzQixJQUNJLFdBQWMsSUFBTkgsR0FBZ0JBLEtBQU0sTUFBUUMsRUFBSS9ELEVBQUV2RyxRQUFRdUgsTUFBTWlELEVBQUd2RSxLQUFLcUUsRUFBRXRMLE9BRXhFLE1BQU9lLEdBQVN3SyxFQUFJLENBQUV4SyxNQUFPQSxHQUM3QixRQUNJLElBQ1F1SyxJQUFNQSxFQUFFL0MsT0FBU0QsRUFBSWYsRUFBVSxTQUFJZSxFQUFFN0ksS0FBSzhILEdBRWxELFFBQVUsR0FBSWdFLEVBQUcsTUFBTUEsRUFBRXhLLE9BRTdCLE9BQU95SyxHQUVQQyxFQUFpQjFNLE1BQVFBLEtBQUswTSxlQUFrQixTQUFVQyxFQUFJQyxHQUM5RCxJQUFLLElBQUlwRSxFQUFJLEVBQUdxRSxFQUFLRCxFQUFLNUYsT0FBUThGLEVBQUlILEVBQUczRixPQUFRd0IsRUFBSXFFLEVBQUlyRSxJQUFLc0UsSUFDMURILEVBQUdHLEdBQUtGLEVBQUtwRSxHQUNqQixPQUFPbUUsR0FFWHhNLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFROHBCLFdBQVEsRUFDaEIsSUFBSTdaLEVBQVMsRUFBUSxNQUNqQm1PLEVBQVMsRUFBUSxNQUNqQnRXLEVBQVksRUFBUSxNQUNwQnBDLEVBQWUsRUFBUSxNQUN2QnVKLEVBQVMsRUFBUSxNQTREckIsU0FBUzhhLEVBQVlDLEVBQU9DLEdBRXhCLElBREEsSUFBSTlZLEVBQU8sR0FDRjdKLEVBQUssRUFBR0EsRUFBS3pGLFVBQVUwRixPQUFRRCxJQUNwQzZKLEVBQUs3SixFQUFLLEdBQUt6RixVQUFVeUYsR0FFN0IsT0FBVyxJQUFQMmlCLEdBQ0FELElBQ08sT0FFQSxJQUFQQyxFQUNPLEtBRUpBLEVBQUdyb0IsV0FBTSxFQUFRcUwsRUFBYyxHQUFJTCxFQUFPdUUsS0FBUS9KLEtBQUtnWCxFQUFPSyxLQUFLLElBQ3JFelksV0FBVSxXQUFjLE9BQU9na0IsT0FkeENocUIsRUFBUThwQixNQTFEUixTQUFlSSxRQUNLLElBQVpBLElBQXNCQSxFQUFVLElBQ3BDLElBQUkvbkIsRUFBSytuQixFQUFRN00sVUFBV0EsT0FBbUIsSUFBUGxiLEVBQWdCLFdBQWMsT0FBTyxJQUFJMkYsRUFBVXBGLFNBQWVQLEVBQUkrQyxFQUFLZ2xCLEVBQVFDLGFBQWNBLE9BQXNCLElBQVBqbEIsR0FBdUJBLEVBQUlDLEVBQUsra0IsRUFBUUUsZ0JBQWlCQSxPQUF5QixJQUFQamxCLEdBQXVCQSxFQUFJQyxFQUFLOGtCLEVBQVFHLG9CQUFxQkEsT0FBNkIsSUFBUGpsQixHQUF1QkEsRUFDN1UsT0FBTyxTQUFVa2xCLEdBQ2IsSUFBSTVhLEVBQWEsS0FDYjZhLEVBQWtCLEtBQ2xCbGdCLEVBQVUsS0FDVndGLEVBQVcsRUFDWDJhLEdBQWUsRUFDZkMsR0FBYSxFQUNiQyxFQUFjLFdBQ2RILE1BQUFBLEdBQWtFQSxFQUFnQnBqQixjQUNsRm9qQixFQUFrQixNQUVsQlAsRUFBUSxXQUNSVSxJQUNBaGIsRUFBYXJGLEVBQVUsS0FDdkJtZ0IsRUFBZUMsR0FBYSxHQUU1QkUsRUFBc0IsV0FDdEIsSUFBSXRELEVBQU8zWCxFQUNYc2EsSUFDQTNDLE1BQUFBLEdBQTRDQSxFQUFLbGdCLGVBRXJELE9BQU84SCxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDMk4sSUFDSzRhLEdBQWVELEdBQ2hCRSxJQUVKLElBQUlFLEVBQVF2Z0IsRUFBVUEsTUFBQUEsRUFBeUNBLEVBQVVnVCxJQUN6RW5iLEVBQVd5RSxLQUFJLFdBRU0sS0FEakJrSixHQUN1QjRhLEdBQWVELElBQ2xDRCxFQUFrQlIsRUFBWVksRUFBcUJOLE9BRzNETyxFQUFLNWtCLFVBQVU5RCxHQUNWd04sSUFDREEsRUFBYSxJQUFJaEssRUFBYWUsZUFBZSxDQUN6Q2pFLEtBQU0sU0FBVWhCLEdBQVMsT0FBT29wQixFQUFLcG9CLEtBQUtoQixJQUMxQ2UsTUFBTyxTQUFVc0MsR0FDYjRsQixHQUFhLEVBQ2JDLElBQ0FILEVBQWtCUixFQUFZQyxFQUFPRyxFQUFjdGxCLEdBQ25EK2xCLEVBQUtyb0IsTUFBTXNDLElBRWZwQyxTQUFVLFdBQ04rbkIsR0FBZSxFQUNmRSxJQUNBSCxFQUFrQlIsRUFBWUMsRUFBT0ksR0FDckNRLEVBQUtub0IsY0FHYndOLEVBQU85QyxLQUFLL0csR0FBUUosVUFBVTBKLE1BN0IvQlQsQ0ErQkpxYixxQkNuRlg1cEIsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVE2cUIsaUJBQWMsRUFDdEIsSUFBSW5FLEVBQWtCLEVBQVEsTUFDMUJvRSxFQUFVLEVBQVEsTUFxQnRCOXFCLEVBQVE2cUIsWUFwQlIsU0FBcUJFLEVBQW9CcEUsRUFBWW5XLEdBQ2pELElBQUlyTyxFQUFJK0MsRUFDSnFVLEVBQ0ExSixHQUFXLEVBVWYsT0FUSWtiLEdBQW9ELGlCQUF2QkEsR0FDN0J4UixFQUFzRCxRQUF4Q3BYLEVBQUs0b0IsRUFBbUJ4UixrQkFBK0IsSUFBUHBYLEVBQWdCQSxFQUFLZ0csRUFBQUEsRUFDbkZ3ZSxFQUFzRCxRQUF4Q3poQixFQUFLNmxCLEVBQW1CcEUsa0JBQStCLElBQVB6aEIsRUFBZ0JBLEVBQUtpRCxFQUFBQSxFQUNuRjBILElBQWFrYixFQUFtQmxiLFNBQ2hDVyxFQUFZdWEsRUFBbUJ2YSxXQUcvQitJLEVBQWF3UixNQUFBQSxFQUErREEsRUFBcUI1aUIsRUFBQUEsRUFFOUYyaUIsRUFBUWhCLE1BQU0sQ0FDakJ6TSxVQUFXLFdBQWMsT0FBTyxJQUFJcUosRUFBZ0I3ZSxjQUFjMFIsRUFBWW9OLEVBQVluVyxJQUMxRjJaLGNBQWMsRUFDZEMsaUJBQWlCLEVBQ2pCQyxvQkFBcUJ4YSxxQkNyQjdCblAsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFnckIsWUFBUyxFQUNqQixJQUFJbkosRUFBZSxFQUFRLE1BQ3ZCb0osRUFBa0IsRUFBUSxNQUMxQkMsRUFBa0IsRUFBUSxNQUMxQmpjLEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQXlCbkNoUCxFQUFRZ3JCLE9BeEJSLFNBQWdCek4sR0FDWixPQUFPdE8sRUFBTzBKLFNBQVEsU0FBVXZTLEVBQVFsRSxHQUNwQyxJQUNJaXBCLEVBREF2bkIsR0FBVyxFQUVYd25CLEdBQVksRUFDWnpNLEVBQVEsRUFDWnZZLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVVixHQUNqRjRwQixHQUFZLEVBQ1A3TixJQUFhQSxFQUFVL2IsRUFBT21kLElBQVN2WSxLQUN4Q3hDLEdBQVkxQixFQUFXSyxNQUFNLElBQUkwb0IsRUFBZ0JJLGNBQWMsNkJBQy9Eem5CLEdBQVcsRUFDWHVuQixFQUFjM3BCLE1BRW5CLFdBQ0tvQyxHQUNBMUIsRUFBV00sS0FBSzJvQixHQUNoQmpwQixFQUFXTyxZQUdYUCxFQUFXSyxNQUFNNm9CLEVBQVksSUFBSUYsRUFBZ0JJLGNBQWMsc0JBQXdCLElBQUl6SixFQUFhQyxvQ0MxQnhIcGhCLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRdXJCLFVBQU8sRUFDZixJQUFJcEwsRUFBVyxFQUFRLE1BSXZCbmdCLEVBQVF1ckIsS0FIUixTQUFjOVIsR0FDVixPQUFPMEcsRUFBU0ssUUFBTyxTQUFVcE4sRUFBR3VMLEdBQVMsT0FBT2xGLEdBQVNrRixzQkNKakVqZSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXdyQixjQUFXLEVBQ25CLElBQUl0YixFQUFhLEVBQVEsTUFDckJqQixFQUFTLEVBQVEsTUFDakJELEVBQXVCLEVBQVEsTUF5Qm5DaFAsRUFBUXdyQixTQXhCUixTQUFrQkMsR0FDZCxPQUFPQSxHQUFhLEVBRVp2YixFQUFXUSxTQUNiekIsRUFBTzBKLFNBQVEsU0FBVXZTLEVBQVFsRSxHQUMvQixJQUFJd3BCLEVBQU8sSUFBSTdxQixNQUFNNHFCLEdBQ2pCRSxFQUFPLEVBYVgsT0FaQXZsQixFQUFPSixVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLEdBQVksU0FBVVYsR0FDakYsSUFBSW9xQixFQUFhRCxJQUNqQixHQUFJQyxFQUFhSCxFQUNiQyxFQUFLRSxHQUFjcHFCLE1BRWxCLENBQ0QsSUFBSW1kLEVBQVFpTixFQUFhSCxFQUNyQkksRUFBV0gsRUFBSy9NLEdBQ3BCK00sRUFBSy9NLEdBQVNuZCxFQUNkVSxFQUFXTSxLQUFLcXBCLFFBR2pCLFdBQ0hILEVBQU8sMEJDekJ2QmhyQixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUThyQixlQUFZLEVBQ3BCLElBQUk3YyxFQUFTLEVBQVEsTUFDakJELEVBQXVCLEVBQVEsTUFDL0JnRCxFQUFjLEVBQVEsTUFDdEI1RyxFQUFTLEVBQVEsTUFZckJwTCxFQUFROHJCLFVBWFIsU0FBbUJuRSxHQUNmLE9BQU8xWSxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUk2cEIsR0FBUyxFQUNUQyxFQUFpQmhkLEVBQXFCWSx5QkFBeUIxTixHQUFZLFdBQzNFOHBCLE1BQUFBLEdBQWdFQSxFQUFlN2tCLGNBQy9FNGtCLEdBQVMsSUFDVjNnQixFQUFPdUIsTUFDVnFGLEVBQVlHLFVBQVV3VixHQUFVM2hCLFVBQVVnbUIsR0FDMUM1bEIsRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVWLEdBQVMsT0FBT3VxQixHQUFVN3BCLEVBQVdNLEtBQUtoQiwyQkNkdklkLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRaXNCLGVBQVksRUFDcEIsSUFBSWhkLEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQVFuQ2hQLEVBQVFpc0IsVUFQUixTQUFtQjFPLEdBQ2YsT0FBT3RPLEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEMsSUFBSTZwQixHQUFTLEVBQ1RwTixFQUFRLEVBQ1p2WSxFQUFPSixVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLEdBQVksU0FBVVYsR0FBUyxPQUFRdXFCLElBQVdBLEdBQVV4TyxFQUFVL2IsRUFBT21kLFFBQWN6YyxFQUFXTSxLQUFLaEIsMkJDUmxMZCxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUWtzQixlQUFZLEVBQ3BCLElBQUloUCxFQUFXLEVBQVEsTUFDbkI5TSxFQUFTLEVBQVEsTUFDakJuQixFQUFTLEVBQVEsTUFXckJqUCxFQUFRa3NCLFVBVlIsV0FFSSxJQURBLElBQUl0YixFQUFTLEdBQ0p0SixFQUFLLEVBQUdBLEVBQUt6RixVQUFVMEYsT0FBUUQsSUFDcENzSixFQUFPdEosR0FBTXpGLFVBQVV5RixHQUUzQixJQUFJa0osRUFBWUosRUFBT2dCLGFBQWFSLEdBQ3BDLE9BQU8zQixFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLElBQ25Dc08sRUFBWTBNLEVBQVN2TCxPQUFPZixFQUFReEssRUFBUW9LLEdBQWEwTSxFQUFTdkwsT0FBT2YsRUFBUXhLLElBQVNKLFVBQVU5RCxzQkNaN0d4QixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUW1zQixpQkFBYyxFQUN0QixJQUFJbGQsRUFBUyxFQUFRLE1BT3JCalAsRUFBUW1zQixZQU5SLFNBQXFCM2IsRUFBV2pILEdBRTVCLFlBRGMsSUFBVkEsSUFBb0JBLEVBQVEsR0FDekIwRixFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDQSxFQUFXeUUsSUFBSTZKLEVBQVVuSCxVQUFTLFdBQWMsT0FBT2pELEVBQU9KLFVBQVU5RCxLQUFnQnFILHdCQ05oRzdJLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRb3NCLGVBQVksRUFDcEIsSUFBSUMsRUFBYyxFQUFRLE1BQ3RCbmMsRUFBYSxFQUFRLE1BSXpCbFEsRUFBUW9zQixVQUhSLFdBQ0ksT0FBT0MsRUFBWUMsVUFBVXBjLEVBQVdRLDJCQ0w1Q2hRLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRc3NCLGVBQVksRUFDcEIsSUFBSXRhLEVBQWMsRUFBUSxNQUN0Qi9DLEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQXFCbkNoUCxFQUFRc3NCLFVBcEJSLFNBQW1CalEsRUFBU2hMLEdBQ3hCLE9BQU9wQyxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUlxcUIsRUFBa0IsS0FDbEI1TixFQUFRLEVBQ1I3RixHQUFhLEVBQ2JtTCxFQUFnQixXQUFjLE9BQU9uTCxJQUFleVQsR0FBbUJycUIsRUFBV08sWUFDdEYyRCxFQUFPSixVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLEdBQVksU0FBVVYsR0FDakYrcUIsTUFBQUEsR0FBa0VBLEVBQWdCcGxCLGNBQ2xGLElBQUlxbEIsRUFBYSxFQUNiQyxFQUFhOU4sSUFDakIzTSxFQUFZRyxVQUFVa0ssRUFBUTdhLEVBQU9pckIsSUFBYXptQixVQUFXdW1CLEVBQWtCdmQsRUFBcUJZLHlCQUF5QjFOLEdBQVksU0FBVW1pQixHQUFjLE9BQU9uaUIsRUFBV00sS0FBSzZPLEVBQWlCQSxFQUFlN1AsRUFBTzZpQixFQUFZb0ksRUFBWUQsS0FBZ0JuSSxNQUFnQixXQUNuUmtJLEVBQWtCLEtBQ2xCdEksV0FFTCxXQUNDbkwsR0FBYSxFQUNibUwsNEJDckJadmpCLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRMHNCLGlCQUFjLEVBQ3RCLElBQUlMLEVBQWMsRUFBUSxNQUN0QjNvQixFQUFlLEVBQVEsTUFJM0IxRCxFQUFRMHNCLFlBSFIsU0FBcUIxUCxFQUFpQjNMLEdBQ2xDLE9BQU8zTixFQUFhVyxXQUFXZ04sR0FBa0JnYixFQUFZQyxXQUFVLFdBQWMsT0FBT3RQLElBQW9CM0wsR0FBa0JnYixFQUFZQyxXQUFVLFdBQWMsT0FBT3RQLHNCQ0xqTHRjLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRMnNCLGdCQUFhLEVBQ3JCLElBQUlOLEVBQWMsRUFBUSxNQUN0QnBkLEVBQVMsRUFBUSxNQVVyQmpQLEVBQVEyc0IsV0FUUixTQUFvQmxJLEVBQWFDLEdBQzdCLE9BQU96VixFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUlzSCxFQUFRa2IsRUFFWixPQURBMkgsRUFBWUMsV0FBVSxTQUFVOXFCLEVBQU9tZCxHQUFTLE9BQU84RixFQUFZamIsRUFBT2hJLEVBQU9tZCxNQUFXLFNBQVV2TCxFQUFHaVIsR0FBYyxPQUFTN2EsRUFBUTZhLEVBQWFBLElBQXJKZ0ksQ0FBcUtqbUIsR0FBUUosVUFBVTlELEdBQ2hMLFdBQ0hzSCxFQUFRLDBCQ1RwQjlJLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFReWUsVUFBTyxFQUNmLElBQUlsYixFQUFVLEVBQVEsTUFDbEIwTCxFQUFTLEVBQVEsTUFDakJELEVBQXVCLEVBQVEsTUFpQm5DaFAsRUFBUXllLEtBaEJSLFNBQWNoRixHQUNWLE9BQU9BLEdBQVMsRUFFUixXQUFjLE9BQU9sVyxFQUFRbUIsT0FDL0J1SyxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQy9CLElBQUl5cEIsRUFBTyxFQUNYdmxCLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVVixLQUMzRW1xQixHQUFRbFMsSUFDVnZYLEVBQVdNLEtBQUtoQixHQUNaaVksR0FBU2tTLEdBQ1R6cEIsRUFBV08sMENDZm5DLElBQUlnSCxFQUFZbEosTUFBUUEsS0FBS2tKLFVBQWEsU0FBU0MsR0FDL0MsSUFBSUMsRUFBc0IsbUJBQVhDLFFBQXlCQSxPQUFPQyxTQUFVQyxFQUFJSCxHQUFLRCxFQUFFQyxHQUFJWixFQUFJLEVBQzVFLEdBQUllLEVBQUcsT0FBT0EsRUFBRTdJLEtBQUt5SSxHQUNyQixHQUFJQSxHQUF5QixpQkFBYkEsRUFBRW5DLE9BQXFCLE1BQU8sQ0FDMUMvRSxLQUFNLFdBRUYsT0FESWtILEdBQUtYLEdBQUtXLEVBQUVuQyxTQUFRbUMsT0FBSSxHQUNyQixDQUFFbEksTUFBT2tJLEdBQUtBLEVBQUVYLEtBQU1nQixNQUFPTCxLQUc1QyxNQUFNLElBQUl4SSxVQUFVeUksRUFBSSwwQkFBNEIsb0NBRXhEakosT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVF5akIsY0FBVyxFQUNuQixJQUFJbGdCLEVBQVUsRUFBUSxNQUNsQjBMLEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQThCbkNoUCxFQUFReWpCLFNBN0JSLFNBQWtCaEssR0FDZCxPQUFPQSxHQUFTLEVBQ1YsV0FBYyxPQUFPbFcsRUFBUW1CLE9BQzdCdUssRUFBTzBKLFNBQVEsU0FBVXZTLEVBQVFsRSxHQUMvQixJQUFJOFYsRUFBUyxHQUNiNVIsRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVWLEdBQ2pGd1csRUFBT3ZQLEtBQUtqSCxHQUNaaVksRUFBUXpCLEVBQU96USxRQUFVeVEsRUFBT3BOLFdBQ2pDLFdBQ0MsSUFBSUwsRUFBS3BJLEVBQ1QsSUFDSSxJQUFLLElBQUl5cUIsRUFBV25qQixFQUFTdU8sR0FBUzZVLEVBQWFELEVBQVNwcUIsUUFBU3FxQixFQUFXOWlCLEtBQU04aUIsRUFBYUQsRUFBU3BxQixPQUFRLENBQ2hILElBQUloQixFQUFRcXJCLEVBQVdyckIsTUFDdkJVLEVBQVdNLEtBQUtoQixJQUd4QixNQUFPa0osR0FBU0gsRUFBTSxDQUFFaEksTUFBT21JLEdBQy9CLFFBQ0ksSUFDUW1pQixJQUFlQSxFQUFXOWlCLE9BQVM1SCxFQUFLeXFCLEVBQVNqaUIsU0FBU3hJLEVBQUdsQixLQUFLMnJCLEdBRTFFLFFBQVUsR0FBSXJpQixFQUFLLE1BQU1BLEVBQUloSSxPQUVqQ0wsRUFBV08sa0JBQ1pxQyxHQUFXLFdBQ1ZrVCxFQUFTLDZCQ3pDekJ0WCxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUThzQixlQUFZLEVBQ3BCLElBQUk3ZCxFQUFTLEVBQVEsTUFDakJELEVBQXVCLEVBQVEsTUFDL0JnRCxFQUFjLEVBQVEsTUFDdEI1RyxFQUFTLEVBQVEsTUFPckJwTCxFQUFROHNCLFVBTlIsU0FBbUJuRixHQUNmLE9BQU8xWSxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDOFAsRUFBWUcsVUFBVXdWLEdBQVUzaEIsVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFdBQWMsT0FBT0EsRUFBV08sYUFBZTJJLEVBQU91QixRQUN6SnpLLEVBQVdnQixRQUFVa0QsRUFBT0osVUFBVTlELHVCQ1QvQ3hCLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRK3NCLGVBQVksRUFDcEIsSUFBSTlkLEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQVluQ2hQLEVBQVErc0IsVUFYUixTQUFtQnhQLEVBQVd5UCxHQUUxQixZQURrQixJQUFkQSxJQUF3QkEsR0FBWSxHQUNqQy9kLEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEMsSUFBSXljLEVBQVEsRUFDWnZZLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVVixHQUNqRixJQUFJK0MsRUFBU2daLEVBQVUvYixFQUFPbWQsTUFDN0JwYSxHQUFVeW9CLElBQWM5cUIsRUFBV00sS0FBS2hCLElBQ3hDK0MsR0FBVXJDLEVBQVdPLG1DQ1hsQy9CLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRaXRCLFNBQU0sRUFDZCxJQUFJdnBCLEVBQWUsRUFBUSxNQUN2QnVMLEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQUMvQmtCLEVBQWEsRUFBUSxNQW9DekJsUSxFQUFRaXRCLElBbkNSLFNBQWE1bUIsRUFBZ0I5RCxFQUFPRSxHQUNoQyxJQUFJeXFCLEVBQWN4cEIsRUFBYVcsV0FBV2dDLElBQW1COUQsR0FBU0UsRUFFOUQsQ0FBRUQsS0FBTTZELEVBQWdCOUQsTUFBT0EsRUFBT0UsU0FBVUEsR0FDbEQ0RCxFQUNOLE9BQU82bUIsRUFDRGplLEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDL0IsSUFBSUMsRUFDNkIsUUFBaENBLEVBQUsrcUIsRUFBWWxuQixpQkFBOEIsSUFBUDdELEdBQXlCQSxFQUFHbEIsS0FBS2lzQixHQUMxRSxJQUFJQyxHQUFVLEVBQ2QvbUIsRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVWLEdBQ2pGLElBQUlXLEVBQ3dCLFFBQTNCQSxFQUFLK3FCLEVBQVkxcUIsWUFBeUIsSUFBUEwsR0FBeUJBLEVBQUdsQixLQUFLaXNCLEVBQWExckIsR0FDbEZVLEVBQVdNLEtBQUtoQixNQUNqQixXQUNDLElBQUlXLEVBQ0pnckIsR0FBVSxFQUNzQixRQUEvQmhyQixFQUFLK3FCLEVBQVl6cUIsZ0JBQTZCLElBQVBOLEdBQXlCQSxFQUFHbEIsS0FBS2lzQixHQUN6RWhyQixFQUFXTyxjQUNaLFNBQVVvQyxHQUNULElBQUkxQyxFQUNKZ3JCLEdBQVUsRUFDbUIsUUFBNUJockIsRUFBSytxQixFQUFZM3FCLGFBQTBCLElBQVBKLEdBQXlCQSxFQUFHbEIsS0FBS2lzQixFQUFhcm9CLEdBQ25GM0MsRUFBV0ssTUFBTXNDLE1BQ2xCLFdBQ0MsSUFBSTFDLEVBQUkrQyxFQUNKaW9CLElBQ21DLFFBQWxDaHJCLEVBQUsrcUIsRUFBWS9sQixtQkFBZ0MsSUFBUGhGLEdBQXlCQSxFQUFHbEIsS0FBS2lzQixJQUVoRCxRQUEvQmhvQixFQUFLZ29CLEVBQVkzTCxnQkFBNkIsSUFBUHJjLEdBQXlCQSxFQUFHakUsS0FBS2lzQixVQUk3RWhkLEVBQVdRLDBCQ3ZDdkJoUSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUW90QixTQUFXcHRCLEVBQVFxdEIsMkJBQXdCLEVBQ25ELElBQUlwZSxFQUFTLEVBQVEsTUFDakJELEVBQXVCLEVBQVEsTUFDL0JnRCxFQUFjLEVBQVEsTUFDMUJoUyxFQUFRcXRCLHNCQUF3QixDQUM1QkMsU0FBUyxFQUNUQyxVQUFVLEdBNENkdnRCLEVBQVFvdEIsU0ExQ1IsU0FBa0IxVSxFQUFrQi9RLEdBRWhDLFlBRGUsSUFBWEEsSUFBcUJBLEVBQVMzSCxFQUFRcXRCLHVCQUNuQ3BlLEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEMsSUFBSW9yQixFQUFVM2xCLEVBQU8ybEIsUUFBU0MsRUFBVzVsQixFQUFPNGxCLFNBQzVDM3BCLEdBQVcsRUFDWDRwQixFQUFZLEtBQ1pDLEVBQVksS0FDWjNVLEdBQWEsRUFDYjRVLEVBQWdCLFdBQ2hCRCxNQUFBQSxHQUFzREEsRUFBVXRtQixjQUNoRXNtQixFQUFZLEtBQ1JGLElBQ0FJLElBQ0E3VSxHQUFjNVcsRUFBV08sYUFHN0JtckIsRUFBb0IsV0FDcEJILEVBQVksS0FDWjNVLEdBQWM1VyxFQUFXTyxZQUV6Qm9yQixFQUFnQixTQUFVcnNCLEdBQzFCLE9BQVFpc0IsRUFBWXpiLEVBQVlHLFVBQVV1RyxFQUFpQmxYLElBQVF3RSxVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLEVBQVl3ckIsRUFBZUUsS0FFdEpELEVBQU8sV0FDUCxHQUFJL3BCLEVBQVUsQ0FDVkEsR0FBVyxFQUNYLElBQUlwQyxFQUFRZ3NCLEVBQ1pBLEVBQVksS0FDWnRyQixFQUFXTSxLQUFLaEIsSUFDZnNYLEdBQWMrVSxFQUFjcnNCLEtBR3JDNEUsRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVWLEdBQ2pGb0MsR0FBVyxFQUNYNHBCLEVBQVloc0IsSUFDVmlzQixHQUFjQSxFQUFVdnFCLFVBQVlvcUIsRUFBVUssSUFBU0UsRUFBY3JzQixPQUN4RSxXQUNDc1gsR0FBYSxLQUNYeVUsR0FBWTNwQixHQUFZNnBCLElBQWNBLEVBQVV2cUIsU0FBV2hCLEVBQVdPLG1DQy9DcEYvQixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTh0QixrQkFBZSxFQUN2QixJQUFJM1gsRUFBVSxFQUFRLE1BQ2xCNFgsRUFBYSxFQUFRLE1BQ3JCM1gsRUFBVSxFQUFRLE1BT3RCcFcsRUFBUTh0QixhQU5SLFNBQXNCM1UsRUFBVTNJLEVBQVc3SSxRQUNyQixJQUFkNkksSUFBd0JBLEVBQVkyRixFQUFRRyxxQkFDakMsSUFBWDNPLElBQXFCQSxFQUFTb21CLEVBQVdWLHVCQUM3QyxJQUFJVyxFQUFZNVgsRUFBUUcsTUFBTTRDLEVBQVUzSSxHQUN4QyxPQUFPdWQsRUFBV1gsVUFBUyxXQUFjLE9BQU9ZLElBQWNybUIsb0JDVGxFakgsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVF5Z0Isa0JBQWUsRUFDdkIsSUFBSW9CLEVBQWUsRUFBUSxNQUN2QjVTLEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQVluQyxTQUFTaWYsSUFDTCxPQUFPLElBQUlwTSxFQUFhQyxXQUY1QjloQixFQUFReWdCLGFBVlIsU0FBc0IxSixHQUVsQixZQURxQixJQUFqQkEsSUFBMkJBLEVBQWVrWCxHQUN2Q2hmLEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEMsSUFBSTBCLEdBQVcsRUFDZndDLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVVixHQUNqRm9DLEdBQVcsRUFDWDFCLEVBQVdNLEtBQUtoQixNQUNqQixXQUFjLE9BQVFvQyxFQUFXMUIsRUFBV08sV0FBYVAsRUFBV0ssTUFBTXdVLDZCQ1pyRnJXLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRa3VCLGFBQWVsdUIsRUFBUW11QixrQkFBZSxFQUM5QyxJQUFJaFksRUFBVSxFQUFRLE1BQ2xCbEgsRUFBUyxFQUFRLE1BQ2pCRCxFQUF1QixFQUFRLE1BYW5DaFAsRUFBUW11QixhQVpSLFNBQXNCM2QsR0FFbEIsWUFEa0IsSUFBZEEsSUFBd0JBLEVBQVkyRixFQUFRRyxnQkFDekNySCxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUlnSCxFQUFPc0gsRUFBVTlILE1BQ3JCdEMsRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVWLEdBQ2pGLElBQUlrSCxFQUFNOEgsRUFBVTlILE1BQ2hCd04sRUFBV3hOLEVBQU1RLEVBQ3JCQSxFQUFPUixFQUNQeEcsRUFBV00sS0FBSyxJQUFJMHJCLEVBQWExc0IsRUFBTzBVLFlBS3BELElBQUlnWSxFQUNBLFNBQXNCMXNCLEVBQU8wVSxHQUN6QjNWLEtBQUtpQixNQUFRQSxFQUNiakIsS0FBSzJWLFNBQVdBLEdBSXhCbFcsRUFBUWt1QixhQUFlQSxrQkN6QnZCeHRCLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRb3VCLFFBQVVwdUIsRUFBUXF1QixrQkFBZSxFQUN6QyxJQUFJbFksRUFBVSxFQUFRLE1BQ2xCZSxFQUFXLEVBQVEsTUFDbkJqSSxFQUFTLEVBQVEsTUFDakIrQyxFQUFjLEVBQVEsTUFDdEJzYyxFQUFxQixFQUFRLE1BQzdCdGYsRUFBdUIsRUFBUSxNQUMvQnNCLEVBQW9CLEVBQVEsTUFrRGhDLFNBQVNpZSxFQUFvQkMsR0FDekIsTUFBTSxJQUFJeHVCLEVBQVFxdUIsYUFBYUcsR0FsRG5DeHVCLEVBQVFxdUIsYUFBZUMsRUFBbUJHLGtCQUFpQixTQUFVL3NCLEdBQ2pFLE9BQU8sU0FBMEI4c0IsUUFDaEIsSUFBVEEsSUFBbUJBLEVBQU8sTUFDOUI5c0IsRUFBT25CLE1BQ1BBLEtBQUttdUIsUUFBVSx1QkFDZm51QixLQUFLb3VCLEtBQU8sZUFDWnB1QixLQUFLaXVCLEtBQU9BLE1BMENwQnh1QixFQUFRb3VCLFFBdkNSLFNBQWlCem1CLEVBQVFpbkIsR0FDckIsSUFBSXpzQixFQUFNK1UsRUFBU08sWUFBWTlQLEdBQVUsQ0FBRWlZLE1BQU9qWSxHQUE2QixpQkFBWEEsRUFBc0IsQ0FBRWtuQixLQUFNbG5CLEdBQVdBLEVBQVNpWSxFQUFRemQsRUFBR3lkLE1BQU9pUCxFQUFPMXNCLEVBQUcwc0IsS0FBTTNwQixFQUFLL0MsRUFBRzJzQixLQUFNQyxPQUFlLElBQVA3cEIsRUFBZ0JxcEIsRUFBc0JycEIsRUFBSUMsRUFBS2hELEVBQUdxTyxVQUFXQSxPQUFtQixJQUFQckwsRUFBZ0J5cEIsTUFBQUEsRUFBbURBLEVBQWV6WSxFQUFRRyxlQUFpQm5SLEVBQUlDLEVBQUtqRCxFQUFHNnNCLEtBQU1BLE9BQWMsSUFBUDVwQixFQUFnQixLQUFPQSxFQUNsWixHQUFhLE1BQVR3YSxHQUF5QixNQUFSaVAsRUFDakIsTUFBTSxJQUFJM3RCLFVBQVUsd0JBRXhCLE9BQU8rTixFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUkrc0IsRUFDQUMsRUFDQXRXLEVBQVksS0FDWitTLEVBQU8sRUFDUHdELEVBQWEsU0FBVTVsQixHQUN2QjJsQixFQUFvQjVlLEVBQWtCWSxnQkFBZ0JoUCxFQUFZc08sR0FBVyxXQUN6RSxJQUNJeWUsRUFBMkI5bkIsY0FDM0I2SyxFQUFZRyxVQUFVNGMsRUFBTSxDQUN4QkMsS0FBTUEsRUFDTnBXLFVBQVdBLEVBQ1grUyxLQUFNQSxLQUNOM2xCLFVBQVU5RCxHQUVsQixNQUFPMkMsR0FDSDNDLEVBQVdLLE1BQU1zQyxNQUV0QjBFLElBRVAwbEIsRUFBNkI3b0IsRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVWLEdBQzlHMHRCLE1BQUFBLEdBQXNFQSxFQUFrQi9uQixjQUN4RndrQixJQUNBenBCLEVBQVdNLEtBQU1vVyxFQUFZcFgsR0FDN0JxdEIsRUFBTyxHQUFLTSxFQUFXTixVQUN4Qi9wQixPQUFXQSxHQUFXLFlBQ2ZvcUIsTUFBQUEsT0FBNkQsRUFBU0EsRUFBa0Joc0IsU0FDMUZnc0IsTUFBQUEsR0FBc0VBLEVBQWtCL25CLGNBRTVGeVIsRUFBWSxTQUVoQnVXLEVBQW9CLE1BQVR2UCxFQUFrQyxpQkFBVkEsRUFBcUJBLEdBQVNBLEVBQVFwUCxFQUFVOUgsTUFBU21tQix1QkN0RHBHbnVCLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRb3ZCLGlCQUFjLEVBQ3RCLElBQUlqWixFQUFVLEVBQVEsTUFDbEJlLEVBQVcsRUFBUSxNQUNuQm1ZLEVBQVksRUFBUSxNQTRCeEJydkIsRUFBUW92QixZQTNCUixTQUFxQjVYLEVBQUs4WCxFQUFnQjllLEdBQ3RDLElBQUlvUCxFQUNBaVAsRUFDQUUsRUFRSixHQVBBdmUsRUFBWUEsTUFBQUEsRUFBNkNBLEVBQVkyRixFQUFRa0IsTUFDekVILEVBQVNPLFlBQVlELEdBQ3JCb0ksRUFBUXBJLEVBRVksaUJBQVJBLElBQ1pxWCxFQUFPclgsSUFFUDhYLEVBSUEsTUFBTSxJQUFJcHVCLFVBQVUsdUNBRXhCLEdBTEk2dEIsRUFBUSxXQUFjLE9BQU9PLEdBS3BCLE1BQVQxUCxHQUF5QixNQUFSaVAsRUFDakIsTUFBTSxJQUFJM3RCLFVBQVUsd0JBRXhCLE9BQU9tdUIsRUFBVWpCLFFBQVEsQ0FDckJ4TyxNQUFPQSxFQUNQaVAsS0FBTUEsRUFDTnJlLFVBQVdBLEVBQ1hzZSxLQUFNQyxxQkM3QmRydUIsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVF1dkIsZUFBWSxFQUNwQixJQUFJeG5CLEVBQTBCLEVBQVEsTUFDbENpWixFQUFRLEVBQVEsTUFLcEJoaEIsRUFBUXV2QixVQUpSLFNBQW1CMUksR0FFZixZQUQwQixJQUF0QkEsSUFBZ0NBLEVBQW9COWUsRUFBd0JLLHVCQUN6RTRZLEVBQU1wSixLQUFJLFNBQVVwVyxHQUFTLE1BQU8sQ0FBR0EsTUFBT0EsRUFBTyt0QixVQUFXMUksRUFBa0JuZSx3QkNON0ZoSSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXVqQixhQUFVLEVBQ2xCLElBQUlqRyxFQUFXLEVBQVEsS0FDbkJyTyxFQUFTLEVBQVEsTUFDakJ1Z0IsRUFBYSxTQUFVQyxFQUFLanVCLEdBQVMsT0FBUWl1QixFQUFJaG5CLEtBQUtqSCxHQUFRaXVCLEdBTWxFenZCLEVBQVF1akIsUUFMUixXQUNJLE9BQU90VSxFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDb2IsRUFBU0UsT0FBT2dTLEVBQVksR0FBNUJsUyxDQUFnQ2xYLEdBQVFKLFVBQVU5RCx1QkNQMUR4QixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTB2QixZQUFTLEVBQ2pCLElBQUk1bkIsRUFBWSxFQUFRLE1BQ3BCbUgsRUFBUyxFQUFRLE1BQ2pCRCxFQUF1QixFQUFRLE1BQy9CNUQsRUFBUyxFQUFRLE1BdUJyQnBMLEVBQVEwdkIsT0F0QlIsU0FBZ0JDLEdBQ1osT0FBTzFnQixFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUkwdEIsRUFBZ0IsSUFBSTluQixFQUFVcEYsUUFDbENSLEVBQVdNLEtBQUtvdEIsRUFBYzVrQixnQkFDOUIsSUFBSS9HLEVBQWUsU0FBVVksR0FDekIrcUIsRUFBY3J0QixNQUFNc0MsR0FDcEIzQyxFQUFXSyxNQUFNc0MsSUFVckIsT0FSQXVCLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVVixHQUFTLE9BQU9vdUIsTUFBQUEsT0FBcUQsRUFBU0EsRUFBY3B0QixLQUFLaEIsTUFBVyxXQUM3TG91QixFQUFjbnRCLFdBQ2RQLEVBQVdPLGFBQ1p3QixJQUNIMHJCLEVBQWlCM3BCLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxXQUNqRjB0QixFQUFjbnRCLFdBQ2RQLEVBQVdNLEtBQU1vdEIsRUFBZ0IsSUFBSTluQixFQUFVcEYsV0FDaEQwSSxFQUFPdUIsS0FBTTFJLElBQ1QsV0FDSDJyQixNQUFBQSxHQUE4REEsRUFBY3pvQixjQUM1RXlvQixFQUFnQixnQ0N4QjVCLElBQUlubUIsRUFBWWxKLE1BQVFBLEtBQUtrSixVQUFhLFNBQVNDLEdBQy9DLElBQUlDLEVBQXNCLG1CQUFYQyxRQUF5QkEsT0FBT0MsU0FBVUMsRUFBSUgsR0FBS0QsRUFBRUMsR0FBSVosRUFBSSxFQUM1RSxHQUFJZSxFQUFHLE9BQU9BLEVBQUU3SSxLQUFLeUksR0FDckIsR0FBSUEsR0FBeUIsaUJBQWJBLEVBQUVuQyxPQUFxQixNQUFPLENBQzFDL0UsS0FBTSxXQUVGLE9BRElrSCxHQUFLWCxHQUFLVyxFQUFFbkMsU0FBUW1DLE9BQUksR0FDckIsQ0FBRWxJLE1BQU9rSSxHQUFLQSxFQUFFWCxLQUFNZ0IsTUFBT0wsS0FHNUMsTUFBTSxJQUFJeEksVUFBVXlJLEVBQUksMEJBQTRCLG9DQUV4RGpKLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRNnZCLGlCQUFjLEVBQ3RCLElBQUkvbkIsRUFBWSxFQUFRLE1BQ3BCbUgsRUFBUyxFQUFRLE1BQ2pCRCxFQUF1QixFQUFRLE1BaURuQ2hQLEVBQVE2dkIsWUFoRFIsU0FBcUJDLEVBQVlDLFFBQ0osSUFBckJBLElBQStCQSxFQUFtQixHQUN0RCxJQUFJQyxFQUFhRCxFQUFtQixFQUFJQSxFQUFtQkQsRUFDM0QsT0FBTzdnQixFQUFPMEosU0FBUSxTQUFVdlMsRUFBUWxFLEdBQ3BDLElBQUkrdEIsRUFBVSxDQUFDLElBQUlub0IsRUFBVXBGLFNBRXpCK1csRUFBUSxFQUNadlgsRUFBV00sS0FBS3l0QixFQUFRLEdBQUdqbEIsZ0JBQzNCNUUsRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVWLEdBQ2pGLElBQUkrSSxFQUFLcEksRUFDVCxJQUNJLElBQUssSUFBSSt0QixFQUFZem1CLEVBQVN3bUIsR0FBVUUsRUFBY0QsRUFBVTF0QixRQUFTMnRCLEVBQVlwbUIsS0FBTW9tQixFQUFjRCxFQUFVMXRCLE9BQ2hHMnRCLEVBQVkzdUIsTUFDbEJnQixLQUFLaEIsR0FHdEIsTUFBT2tKLEdBQVNILEVBQU0sQ0FBRWhJLE1BQU9tSSxHQUMvQixRQUNJLElBQ1F5bEIsSUFBZ0JBLEVBQVlwbUIsT0FBUzVILEVBQUsrdEIsRUFBVXZsQixTQUFTeEksRUFBR2xCLEtBQUtpdkIsR0FFN0UsUUFBVSxHQUFJM2xCLEVBQUssTUFBTUEsRUFBSWhJLE9BRWpDLElBQUk2dEIsRUFBSTNXLEVBQVFxVyxFQUFhLEVBSTdCLEdBSElNLEdBQUssR0FBS0EsRUFBSUosR0FBZSxHQUM3QkMsRUFBUXJsQixRQUFRbkksYUFFZGdYLEVBQVF1VyxHQUFlLEVBQUcsQ0FDNUIsSUFBSUssRUFBVyxJQUFJdm9CLEVBQVVwRixRQUM3QnV0QixFQUFReG5CLEtBQUs0bkIsR0FDYm51QixFQUFXTSxLQUFLNnRCLEVBQVNybEIsb0JBRTlCLFdBQ0MsS0FBT2lsQixFQUFRMW9CLE9BQVMsR0FDcEIwb0IsRUFBUXJsQixRQUFRbkksV0FFcEJQLEVBQVdPLGNBQ1osU0FBVW9DLEdBQ1QsS0FBT29yQixFQUFRMW9CLE9BQVMsR0FDcEIwb0IsRUFBUXJsQixRQUFRckksTUFBTXNDLEdBRTFCM0MsRUFBV0ssTUFBTXNDLE1BQ2xCLFdBRUNvckIsRUFBVSw2QkM1RHRCdnZCLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRMm1CLGdCQUFhLEVBQ3JCLElBQUk3ZSxFQUFZLEVBQVEsTUFDcEJxTyxFQUFVLEVBQVEsTUFDbEJ4USxFQUFpQixFQUFRLE1BQ3pCc0osRUFBUyxFQUFRLE1BQ2pCRCxFQUF1QixFQUFRLE1BQy9CN0UsRUFBYyxFQUFRLE1BQ3RCaUcsRUFBUyxFQUFRLE1BQ2pCRSxFQUFvQixFQUFRLE1BOERoQ3RRLEVBQVEybUIsV0E3RFIsU0FBb0IySixHQUdoQixJQUZBLElBQUludUIsRUFBSStDLEVBQ0ptVixFQUFZLEdBQ1AvUyxFQUFLLEVBQUdBLEVBQUt6RixVQUFVMEYsT0FBUUQsSUFDcEMrUyxFQUFVL1MsRUFBSyxHQUFLekYsVUFBVXlGLEdBRWxDLElBQUlrSixFQUFzRCxRQUF6Q3JPLEVBQUtpTyxFQUFPZ0IsYUFBYWlKLFVBQStCLElBQVBsWSxFQUFnQkEsRUFBS2dVLEVBQVFHLGVBQzNGaWEsRUFBaUQsUUFBdkJyckIsRUFBS21WLEVBQVUsVUFBdUIsSUFBUG5WLEVBQWdCQSxFQUFLLEtBQzlFc3JCLEVBQWdCblcsRUFBVSxJQUFNbFMsRUFBQUEsRUFDcEMsT0FBTzhHLEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEMsSUFBSXV1QixFQUFnQixHQUNoQkMsR0FBaUIsRUFDakJDLEVBQWMsU0FBVWhXLEdBQ3hCLElBQUkrVSxFQUFTL1UsRUFBTytVLE9BQVE5VSxFQUFPRCxFQUFPQyxLQUMxQzhVLEVBQU9qdEIsV0FDUG1ZLEVBQUt6VCxjQUNMZ0QsRUFBWVksVUFBVTBsQixFQUFlOVYsR0FDckMrVixHQUFrQkUsS0FFbEJBLEVBQWMsV0FDZCxHQUFJSCxFQUFlLENBQ2YsSUFBSTdWLEVBQU8sSUFBSWpWLEVBQWVtRixhQUM5QjVJLEVBQVd5RSxJQUFJaVUsR0FDZixJQUFJaVcsRUFBVyxJQUFJL29CLEVBQVVwRixRQUN6Qm9ZLEVBQVcsQ0FDWDRVLE9BQVFtQixFQUNSalcsS0FBTUEsRUFDTitRLEtBQU0sR0FFVjhFLEVBQWNob0IsS0FBS3FTLEdBQ25CNVksRUFBV00sS0FBS3F1QixFQUFTN2xCLGdCQUN6QnNGLEVBQWtCWSxnQkFBZ0IwSixFQUFNcEssR0FBVyxXQUFjLE9BQU9tZ0IsRUFBWTdWLEtBQWN3VixLQUczRSxPQUEzQkMsR0FBbUNBLEdBQTBCLEVBQzdEamdCLEVBQWtCWSxnQkFBZ0JoUCxFQUFZc08sRUFBV29nQixFQUFhTCxHQUF3QixHQUc5RkcsR0FBaUIsRUFFckJFLElBQ0EsSUFBSUUsRUFBTyxTQUFVeE8sR0FBTSxPQUFPbU8sRUFBYzNuQixRQUFRaEMsUUFBUXdiLElBQzVEeU8sRUFBWSxTQUFVek8sR0FDdEJ3TyxHQUFLLFNBQVUzdUIsR0FDWCxJQUFJdXRCLEVBQVN2dEIsRUFBR3V0QixPQUNoQixPQUFPcE4sRUFBR29OLE1BRWRwTixFQUFHcGdCLEdBQ0hBLEVBQVdpRixlQVFmLE9BTkFmLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVVixHQUNqRnN2QixHQUFLLFNBQVVuVyxHQUNYQSxFQUFPK1UsT0FBT2x0QixLQUFLaEIsR0FDbkJndkIsS0FBbUI3VixFQUFPZ1IsTUFBUWdGLEVBQVloVyxTQUVuRCxXQUFjLE9BQU9vVyxHQUFVLFNBQVV2TyxHQUFZLE9BQU9BLEVBQVMvZixpQkFBbUIsU0FBVW9DLEdBQU8sT0FBT2tzQixHQUFVLFNBQVV2TyxHQUFZLE9BQU9BLEVBQVNqZ0IsTUFBTXNDLFVBQ2xLLFdBQ0g0ckIsRUFBZ0IsZ0NDbkU1QixJQUFJaG5CLEVBQVlsSixNQUFRQSxLQUFLa0osVUFBYSxTQUFTQyxHQUMvQyxJQUFJQyxFQUFzQixtQkFBWEMsUUFBeUJBLE9BQU9DLFNBQVVDLEVBQUlILEdBQUtELEVBQUVDLEdBQUlaLEVBQUksRUFDNUUsR0FBSWUsRUFBRyxPQUFPQSxFQUFFN0ksS0FBS3lJLEdBQ3JCLEdBQUlBLEdBQXlCLGlCQUFiQSxFQUFFbkMsT0FBcUIsTUFBTyxDQUMxQy9FLEtBQU0sV0FFRixPQURJa0gsR0FBS1gsR0FBS1csRUFBRW5DLFNBQVFtQyxPQUFJLEdBQ3JCLENBQUVsSSxNQUFPa0ksR0FBS0EsRUFBRVgsS0FBTWdCLE1BQU9MLEtBRzVDLE1BQU0sSUFBSXhJLFVBQVV5SSxFQUFJLDBCQUE0QixvQ0FFeERqSixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUWd4QixrQkFBZSxFQUN2QixJQUFJbHBCLEVBQVksRUFBUSxNQUNwQm5DLEVBQWlCLEVBQVEsTUFDekJzSixFQUFTLEVBQVEsTUFDakIrQyxFQUFjLEVBQVEsTUFDdEJoRCxFQUF1QixFQUFRLE1BQy9CNUQsRUFBUyxFQUFRLE1BQ2pCakIsRUFBYyxFQUFRLE1BMEQxQm5LLEVBQVFneEIsYUF6RFIsU0FBc0I1VixFQUFVQyxHQUM1QixPQUFPcE0sRUFBTzBKLFNBQVEsU0FBVXZTLEVBQVFsRSxHQUNwQyxJQUFJK3RCLEVBQVUsR0FDVjFOLEVBQWMsU0FBVTFkLEdBQ3hCLEtBQU8sRUFBSW9yQixFQUFRMW9CLFFBQ2Ywb0IsRUFBUXJsQixRQUFRckksTUFBTXNDLEdBRTFCM0MsRUFBV0ssTUFBTXNDLElBRXJCbU4sRUFBWUcsVUFBVWlKLEdBQVVwVixVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLEdBQVksU0FBVW9aLEdBQzFHLElBQUlvVSxFQUFTLElBQUk1bkIsRUFBVXBGLFFBQzNCdXRCLEVBQVF4bkIsS0FBS2luQixHQUNiLElBTUl0VyxFQU5BbUMsRUFBc0IsSUFBSTVWLEVBQWVtRixhQU83QyxJQUNJc08sRUFBa0JwSCxFQUFZRyxVQUFVa0osRUFBZ0JDLElBRTVELE1BQU96VyxHQUVILFlBREEwZCxFQUFZMWQsR0FHaEIzQyxFQUFXTSxLQUFLa3RCLEVBQU8xa0IsZ0JBQ3ZCdVEsRUFBb0I1VSxJQUFJeVMsRUFBZ0JwVCxVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLEdBZDlFLFdBQ2RpSSxFQUFZWSxVQUFVa2xCLEVBQVNQLEdBQy9CQSxFQUFPanRCLFdBQ1A4WSxFQUFvQnBVLGdCQVdpR2lFLEVBQU91QixLQUFNNFYsT0FDdkluWCxFQUFPdUIsT0FDVnZHLEVBQU9KLFVBQVVnSixFQUFxQlkseUJBQXlCMU4sR0FBWSxTQUFVVixHQUNqRixJQUFJK0ksRUFBS3BJLEVBQ0w4dUIsRUFBY2hCLEVBQVFubkIsUUFDMUIsSUFDSSxJQUFLLElBQUlvb0IsRUFBZ0J6bkIsRUFBU3duQixHQUFjRSxFQUFrQkQsRUFBYzF1QixRQUFTMnVCLEVBQWdCcG5CLEtBQU1vbkIsRUFBa0JELEVBQWMxdUIsT0FDNUgydUIsRUFBZ0IzdkIsTUFDdEJnQixLQUFLaEIsR0FHdEIsTUFBT2tKLEdBQVNILEVBQU0sQ0FBRWhJLE1BQU9tSSxHQUMvQixRQUNJLElBQ1F5bUIsSUFBb0JBLEVBQWdCcG5CLE9BQVM1SCxFQUFLK3VCLEVBQWN2bUIsU0FBU3hJLEVBQUdsQixLQUFLaXdCLEdBRXpGLFFBQVUsR0FBSTNtQixFQUFLLE1BQU1BLEVBQUloSSxXQUVsQyxXQUNDLEtBQU8sRUFBSTB0QixFQUFRMW9CLFFBQ2Ywb0IsRUFBUXJsQixRQUFRbkksV0FFcEJQLEVBQVdPLGFBQ1o4ZixHQUFhLFdBQ1osS0FBTyxFQUFJME4sRUFBUTFvQixRQUNmMG9CLEVBQVFybEIsUUFBUXpELHNDQ3hFaEN6RyxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUW94QixnQkFBYSxFQUNyQixJQUFJdHBCLEVBQVksRUFBUSxNQUNwQm1ILEVBQVMsRUFBUSxNQUNqQkQsRUFBdUIsRUFBUSxNQUMvQmdELEVBQWMsRUFBUSxNQWtDMUJoUyxFQUFRb3hCLFdBakNSLFNBQW9CL1YsR0FDaEIsT0FBT3BNLEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEMsSUFBSXd0QixFQUNBalUsRUFDQThHLEVBQWMsU0FBVTFkLEdBQ3hCNnFCLEVBQU9udEIsTUFBTXNDLEdBQ2IzQyxFQUFXSyxNQUFNc0MsSUFFakJ3c0IsRUFBYSxXQUtiLElBQUlqWSxFQUpKcUMsTUFBQUEsR0FBc0VBLEVBQWtCdFUsY0FDeEZ1b0IsTUFBQUEsR0FBZ0RBLEVBQU9qdEIsV0FDdkRpdEIsRUFBUyxJQUFJNW5CLEVBQVVwRixRQUN2QlIsRUFBV00sS0FBS2t0QixFQUFPMWtCLGdCQUV2QixJQUNJb08sRUFBa0JwSCxFQUFZRyxVQUFVa0osS0FFNUMsTUFBT3hXLEdBRUgsWUFEQTBkLEVBQVkxZCxHQUdoQnVVLEVBQWdCcFQsVUFBV3lWLEVBQW9Cek0sRUFBcUJZLHlCQUF5QjFOLEVBQVltdkIsRUFBWUEsRUFBWTlPLEtBRXJJOE8sSUFDQWpyQixFQUFPSixVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLEdBQVksU0FBVVYsR0FBUyxPQUFPa3VCLEVBQU9sdEIsS0FBS2hCLE1BQVcsV0FDeEhrdUIsRUFBT2p0QixXQUNQUCxFQUFXTyxhQUNaOGYsR0FBYSxXQUNaOUcsTUFBQUEsR0FBc0VBLEVBQWtCdFUsY0FDeEZ1b0IsRUFBUyxtQ0NuQ3JCLElBQUk5aUIsRUFBVXJNLE1BQVFBLEtBQUtxTSxRQUFXLFNBQVVsRCxFQUFHbUQsR0FDL0MsSUFBSS9DLEVBQXNCLG1CQUFYRixRQUF5QkYsRUFBRUUsT0FBT0MsVUFDakQsSUFBS0MsRUFBRyxPQUFPSixFQUNmLElBQW1Cb0QsRUFBWUMsRUFBM0JoRSxFQUFJZSxFQUFFN0ksS0FBS3lJLEdBQU9zRCxFQUFLLEdBQzNCLElBQ0ksV0FBYyxJQUFOSCxHQUFnQkEsS0FBTSxNQUFRQyxFQUFJL0QsRUFBRXZHLFFBQVF1SCxNQUFNaUQsRUFBR3ZFLEtBQUtxRSxFQUFFdEwsT0FFeEUsTUFBT2UsR0FBU3dLLEVBQUksQ0FBRXhLLE1BQU9BLEdBQzdCLFFBQ0ksSUFDUXVLLElBQU1BLEVBQUUvQyxPQUFTRCxFQUFJZixFQUFVLFNBQUllLEVBQUU3SSxLQUFLOEgsR0FFbEQsUUFBVSxHQUFJZ0UsRUFBRyxNQUFNQSxFQUFFeEssT0FFN0IsT0FBT3lLLEdBRVBDLEVBQWlCMU0sTUFBUUEsS0FBSzBNLGVBQWtCLFNBQVVDLEVBQUlDLEdBQzlELElBQUssSUFBSXBFLEVBQUksRUFBR3FFLEVBQUtELEVBQUs1RixPQUFROEYsRUFBSUgsRUFBRzNGLE9BQVF3QixFQUFJcUUsRUFBSXJFLElBQUtzRSxJQUMxREgsRUFBR0csR0FBS0YsRUFBS3BFLEdBQ2pCLE9BQU9tRSxHQUVYeE0sT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFzeEIsb0JBQWlCLEVBQ3pCLElBQUlyaUIsRUFBUyxFQUFRLE1BQ2pCRCxFQUF1QixFQUFRLE1BQy9CZ0QsRUFBYyxFQUFRLE1BQ3RCOUIsRUFBYSxFQUFRLE1BQ3JCOUUsRUFBUyxFQUFRLE1BQ2pCZ0YsRUFBUyxFQUFRLE1BZ0NyQnBRLEVBQVFzeEIsZUEvQlIsV0FFSSxJQURBLElBQUlDLEVBQVMsR0FDSmpxQixFQUFLLEVBQUdBLEVBQUt6RixVQUFVMEYsT0FBUUQsSUFDcENpcUIsRUFBT2pxQixHQUFNekYsVUFBVXlGLEdBRTNCLElBQUkrVSxFQUFVak0sRUFBT2tCLGtCQUFrQmlnQixHQUN2QyxPQUFPdGlCLEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FjcEMsSUFiQSxJQUFJc3ZCLEVBQU1ELEVBQU9ocUIsT0FDYmtxQixFQUFjLElBQUk1d0IsTUFBTTJ3QixHQUN4QjV0QixFQUFXMnRCLEVBQU8zWixLQUFJLFdBQWMsT0FBTyxLQUMzQzhaLEdBQVEsRUFDUjNnQixFQUFVLFNBQVVoSSxHQUNwQmlKLEVBQVlHLFVBQVVvZixFQUFPeG9CLElBQUkvQyxVQUFVZ0osRUFBcUJZLHlCQUF5QjFOLEdBQVksU0FBVVYsR0FDM0dpd0IsRUFBWTFvQixHQUFLdkgsRUFDWmt3QixHQUFVOXRCLEVBQVNtRixLQUNwQm5GLEVBQVNtRixJQUFLLEdBQ2Iyb0IsRUFBUTl0QixFQUFTbVUsTUFBTTdILEVBQVdRLGFBQWU5TSxFQUFXLFNBRWxFd0gsRUFBT3VCLFFBRUw1RCxFQUFJLEVBQUdBLEVBQUl5b0IsRUFBS3pvQixJQUNyQmdJLEVBQVFoSSxHQUVaM0MsRUFBT0osVUFBVWdKLEVBQXFCWSx5QkFBeUIxTixHQUFZLFNBQVVWLEdBQ2pGLEdBQUlrd0IsRUFBTyxDQUNQLElBQUk5Z0IsRUFBUzNELEVBQWMsQ0FBQ3pMLEdBQVFvTCxFQUFPNmtCLElBQzNDdnZCLEVBQVdNLEtBQUs2WixFQUFVQSxFQUFRemEsV0FBTSxFQUFRcUwsRUFBYyxHQUFJTCxFQUFPZ0UsS0FBWUEsa0NDdkRyRyxJQUFJaEUsRUFBVXJNLE1BQVFBLEtBQUtxTSxRQUFXLFNBQVVsRCxFQUFHbUQsR0FDL0MsSUFBSS9DLEVBQXNCLG1CQUFYRixRQUF5QkYsRUFBRUUsT0FBT0MsVUFDakQsSUFBS0MsRUFBRyxPQUFPSixFQUNmLElBQW1Cb0QsRUFBWUMsRUFBM0JoRSxFQUFJZSxFQUFFN0ksS0FBS3lJLEdBQU9zRCxFQUFLLEdBQzNCLElBQ0ksV0FBYyxJQUFOSCxHQUFnQkEsS0FBTSxNQUFRQyxFQUFJL0QsRUFBRXZHLFFBQVF1SCxNQUFNaUQsRUFBR3ZFLEtBQUtxRSxFQUFFdEwsT0FFeEUsTUFBT2UsR0FBU3dLLEVBQUksQ0FBRXhLLE1BQU9BLEdBQzdCLFFBQ0ksSUFDUXVLLElBQU1BLEVBQUUvQyxPQUFTRCxFQUFJZixFQUFVLFNBQUllLEVBQUU3SSxLQUFLOEgsR0FFbEQsUUFBVSxHQUFJZ0UsRUFBRyxNQUFNQSxFQUFFeEssT0FFN0IsT0FBT3lLLEdBRVBDLEVBQWlCMU0sTUFBUUEsS0FBSzBNLGVBQWtCLFNBQVVDLEVBQUlDLEdBQzlELElBQUssSUFBSXBFLEVBQUksRUFBR3FFLEVBQUtELEVBQUs1RixPQUFROEYsRUFBSUgsRUFBRzNGLE9BQVF3QixFQUFJcUUsRUFBSXJFLElBQUtzRSxJQUMxREgsRUFBR0csR0FBS0YsRUFBS3BFLEdBQ2pCLE9BQU9tRSxHQUVYeE0sT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVEwWCxTQUFNLEVBQ2QsSUFBSWlhLEVBQVEsRUFBUSxNQUNoQjFpQixFQUFTLEVBQVEsTUFVckJqUCxFQUFRMFgsSUFUUixXQUVJLElBREEsSUFBSWYsRUFBVSxHQUNMclAsRUFBSyxFQUFHQSxFQUFLekYsVUFBVTBGLE9BQVFELElBQ3BDcVAsRUFBUXJQLEdBQU16RixVQUFVeUYsR0FFNUIsT0FBTzJILEVBQU8wSixTQUFRLFNBQVV2UyxFQUFRbEUsR0FDcEN5dkIsRUFBTWphLElBQUk5VixXQUFNLEVBQVFxTCxFQUFjLENBQUM3RyxHQUFTd0csRUFBTytKLEtBQVczUSxVQUFVOUQsdUJDL0JwRnhCLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRNHhCLFlBQVMsRUFDakIsSUFBSUQsRUFBUSxFQUFRLE1BQ2hCdlYsRUFBcUIsRUFBUSxNQUlqQ3BjLEVBQVE0eEIsT0FIUixTQUFnQnZWLEdBQ1osT0FBT0QsRUFBbUJFLGlCQUFpQnFWLEVBQU1qYSxJQUFLMkUsMEJDTDFELElBQUl6UCxFQUFVck0sTUFBUUEsS0FBS3FNLFFBQVcsU0FBVWxELEVBQUdtRCxHQUMvQyxJQUFJL0MsRUFBc0IsbUJBQVhGLFFBQXlCRixFQUFFRSxPQUFPQyxVQUNqRCxJQUFLQyxFQUFHLE9BQU9KLEVBQ2YsSUFBbUJvRCxFQUFZQyxFQUEzQmhFLEVBQUllLEVBQUU3SSxLQUFLeUksR0FBT3NELEVBQUssR0FDM0IsSUFDSSxXQUFjLElBQU5ILEdBQWdCQSxLQUFNLE1BQVFDLEVBQUkvRCxFQUFFdkcsUUFBUXVILE1BQU1pRCxFQUFHdkUsS0FBS3FFLEVBQUV0TCxPQUV4RSxNQUFPZSxHQUFTd0ssRUFBSSxDQUFFeEssTUFBT0EsR0FDN0IsUUFDSSxJQUNRdUssSUFBTUEsRUFBRS9DLE9BQVNELEVBQUlmLEVBQVUsU0FBSWUsRUFBRTdJLEtBQUs4SCxHQUVsRCxRQUFVLEdBQUlnRSxFQUFHLE1BQU1BLEVBQUV4SyxPQUU3QixPQUFPeUssR0FFUEMsRUFBaUIxTSxNQUFRQSxLQUFLME0sZUFBa0IsU0FBVUMsRUFBSUMsR0FDOUQsSUFBSyxJQUFJcEUsRUFBSSxFQUFHcUUsRUFBS0QsRUFBSzVGLE9BQVE4RixFQUFJSCxFQUFHM0YsT0FBUXdCLEVBQUlxRSxFQUFJckUsSUFBS3NFLElBQzFESCxFQUFHRyxHQUFLRixFQUFLcEUsR0FDakIsT0FBT21FLEdBRVh4TSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTZ4QixhQUFVLEVBQ2xCLElBQUlGLEVBQVEsRUFBUSxNQVFwQjN4QixFQUFRNnhCLFFBUFIsV0FFSSxJQURBLElBQUlDLEVBQWMsR0FDVHhxQixFQUFLLEVBQUdBLEVBQUt6RixVQUFVMEYsT0FBUUQsSUFDcEN3cUIsRUFBWXhxQixHQUFNekYsVUFBVXlGLEdBRWhDLE9BQU9xcUIsRUFBTWphLElBQUk5VixXQUFNLEVBQVFxTCxFQUFjLEdBQUlMLEVBQU9rbEIsc0JDN0I1RHB4QixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUSt4QixtQkFBZ0IsRUFDeEIsSUFBSTluQixFQUFlLEVBQVEsTUFpQjNCakssRUFBUSt4QixjQWhCUixTQUF1QjlmLEVBQU96QixHQUMxQixPQUFPLElBQUl2RyxFQUFheEUsWUFBVyxTQUFVdkQsR0FDekMsSUFBSTZHLEVBQUksRUFDUixPQUFPeUgsRUFBVW5ILFVBQVMsV0FDbEJOLElBQU1rSixFQUFNMUssT0FDWnJGLEVBQVdPLFlBR1hQLEVBQVdNLEtBQUt5UCxFQUFNbEosTUFDakI3RyxFQUFXZ0IsUUFDWjNDLEtBQUs4SSxtQ0NiekIzSSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUWd5QiwyQkFBd0IsRUFDaEMsSUFBSS9uQixFQUFlLEVBQVEsTUFDdkJxRyxFQUFvQixFQUFRLE1BcUJoQ3RRLEVBQVFneUIsc0JBcEJSLFNBQStCL2YsRUFBT3pCLEdBQ2xDLElBQUt5QixFQUNELE1BQU0sSUFBSStULE1BQU0sMkJBRXBCLE9BQU8sSUFBSS9iLEVBQWF4RSxZQUFXLFNBQVV2RCxHQUN6Q29PLEVBQWtCWSxnQkFBZ0JoUCxFQUFZc08sR0FBVyxXQUNyRCxJQUFJM0csRUFBV29JLEVBQU1ySSxPQUFPa0ssaUJBQzVCeEQsRUFBa0JZLGdCQUFnQmhQLEVBQVlzTyxHQUFXLFdBQ3JEM0csRUFBU3JILE9BQU9xUSxNQUFLLFNBQVV0TyxHQUN2QkEsRUFBT3dGLEtBQ1A3SCxFQUFXTyxXQUdYUCxFQUFXTSxLQUFLK0IsRUFBTy9DLFlBR2hDLEdBQUcsMEJDcEJsQmQsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFpeUIsc0JBQW1CLEVBQzNCLElBQUlob0IsRUFBZSxFQUFRLE1BQ3ZCaW9CLEVBQWEsRUFBUSxNQUNyQnh1QixFQUFlLEVBQVEsTUFDdkI0TSxFQUFvQixFQUFRLE1BNEJoQ3RRLEVBQVFpeUIsaUJBM0JSLFNBQTBCaGdCLEVBQU96QixHQUM3QixPQUFPLElBQUl2RyxFQUFheEUsWUFBVyxTQUFVdkQsR0FDekMsSUFBSTJILEVBc0JKLE9BckJBeUcsRUFBa0JZLGdCQUFnQmhQLEVBQVlzTyxHQUFXLFdBQ3JEM0csRUFBV29JLEVBQU1pZ0IsRUFBV3JvQixZQUM1QnlHLEVBQWtCWSxnQkFBZ0JoUCxFQUFZc08sR0FBVyxXQUNyRCxJQUFJck8sRUFDQVgsRUFDQXVJLEVBQ0osSUFDMkJ2SSxHQUF0QlcsRUFBSzBILEVBQVNySCxRQUFtQmhCLE1BQU91SSxFQUFPNUgsRUFBRzRILEtBRXZELE1BQU9sRixHQUVILFlBREEzQyxFQUFXSyxNQUFNc0MsR0FHakJrRixFQUNBN0gsRUFBV08sV0FHWFAsRUFBV00sS0FBS2hCLEtBRXJCLEdBQUcsTUFFSCxXQUFjLE9BQU9rQyxFQUFhVyxXQUFXd0YsTUFBQUEsT0FBMkMsRUFBU0EsRUFBU2MsU0FBV2QsRUFBU2MsOEJDOUI3SWpLLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRbXlCLHdCQUFxQixFQUM3QixJQUFJbmdCLEVBQWMsRUFBUSxNQUN0Qm9nQixFQUFjLEVBQVEsTUFDdEJDLEVBQWdCLEVBQVEsS0FJNUJyeUIsRUFBUW15QixtQkFIUixTQUE0QmxnQixFQUFPekIsR0FDL0IsT0FBT3dCLEVBQVlHLFVBQVVGLEdBQU83SyxLQUFLaXJCLEVBQWNsRyxZQUFZM2IsR0FBWTRoQixFQUFZbE4sVUFBVTFVLHFCQ056RzlQLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRc3lCLHFCQUFrQixFQUMxQixJQUFJdGdCLEVBQWMsRUFBUSxNQUN0Qm9nQixFQUFjLEVBQVEsTUFDdEJDLEVBQWdCLEVBQVEsS0FJNUJyeUIsRUFBUXN5QixnQkFIUixTQUF5QnJnQixFQUFPekIsR0FDNUIsT0FBT3dCLEVBQVlHLFVBQVVGLEdBQU83SyxLQUFLaXJCLEVBQWNsRyxZQUFZM2IsR0FBWTRoQixFQUFZbE4sVUFBVTFVLHFCQ056RzlQLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRdXlCLGdDQUE2QixFQUNyQyxJQUFJQyxFQUEwQixFQUFRLE1BQ2xDNWQsRUFBeUIsRUFBUSxNQUlyQzVVLEVBQVF1eUIsMkJBSFIsU0FBb0N0Z0IsRUFBT3pCLEdBQ3ZDLE9BQU9naUIsRUFBd0JSLHNCQUFzQnBkLEVBQXVCYyxtQ0FBbUN6RCxHQUFRekIsb0JDTDNIOVAsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFrUyxlQUFZLEVBQ3BCLElBQUl1Z0IsRUFBdUIsRUFBUSxNQUMvQkMsRUFBb0IsRUFBUSxNQUM1QkMsRUFBa0IsRUFBUSxNQUMxQkMsRUFBcUIsRUFBUSxNQUM3QkosRUFBMEIsRUFBUSxNQUNsQ2hlLEVBQXdCLEVBQVEsTUFDaENELEVBQWMsRUFBUSxNQUN0QkQsRUFBZ0IsRUFBUSxNQUN4QkssRUFBZSxFQUFRLE1BQ3ZCRixFQUFvQixFQUFRLE1BQzVCQyxFQUEyQixFQUFRLE1BQ25DRSxFQUF5QixFQUFRLE1BQ2pDaWUsRUFBK0IsRUFBUSxNQXdCM0M3eUIsRUFBUWtTLFVBdkJSLFNBQW1CRCxFQUFPekIsR0FDdEIsR0FBYSxNQUFUeUIsRUFBZSxDQUNmLEdBQUl1QyxFQUFzQm1CLG9CQUFvQjFELEdBQzFDLE9BQU93Z0IsRUFBcUJOLG1CQUFtQmxnQixFQUFPekIsR0FFMUQsR0FBSThELEVBQWNzQixZQUFZM0QsR0FDMUIsT0FBTzBnQixFQUFnQlosY0FBYzlmLEVBQU96QixHQUVoRCxHQUFJK0QsRUFBWXNCLFVBQVU1RCxHQUN0QixPQUFPeWdCLEVBQWtCSixnQkFBZ0JyZ0IsRUFBT3pCLEdBRXBELEdBQUlpRSxFQUFrQnFCLGdCQUFnQjdELEdBQ2xDLE9BQU91Z0IsRUFBd0JSLHNCQUFzQi9mLEVBQU96QixHQUVoRSxHQUFJbUUsRUFBYW9CLFdBQVc5RCxHQUN4QixPQUFPMmdCLEVBQW1CWCxpQkFBaUJoZ0IsRUFBT3pCLEdBRXRELEdBQUlvRSxFQUF1Qm9CLHFCQUFxQi9ELEdBQzVDLE9BQU80Z0IsRUFBNkJOLDJCQUEyQnRnQixFQUFPekIsR0FHOUUsTUFBTWtFLEVBQXlCdUIsaUNBQWlDaEUsMEJDcENwRSxJQUNRNVIsRUFESkMsRUFBYUMsTUFBUUEsS0FBS0QsWUFDdEJELEVBQWdCLFNBQVVHLEVBQUdDLEdBSTdCLE9BSEFKLEVBQWdCSyxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssS0FDekZULEVBQWNHLEVBQUdDLElBRXJCLFNBQVVELEVBQUdDLEdBQ2hCLEdBQWlCLG1CQUFOQSxHQUEwQixPQUFOQSxFQUMzQixNQUFNLElBQUlTLFVBQVUsdUJBQXlCQyxPQUFPVixHQUFLLGlDQUU3RCxTQUFTVyxJQUFPYixLQUFLYyxZQUFjYixFQURuQ0gsRUFBY0csRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9ZLE9BQU9iLElBQU1XLEVBQUdMLFVBQVlOLEVBQUVNLFVBQVcsSUFBSUssS0FHdkZWLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFROHlCLFlBQVMsRUFDakIsSUFDSUEsRUFBVSxTQUFVcHhCLEdBRXBCLFNBQVNveEIsRUFBT3RpQixFQUFXbEgsR0FDdkIsT0FBTzVILEVBQU9ULEtBQUtWLE9BQVNBLEtBTWhDLE9BUkFELEVBQVV3eUIsRUFBUXB4QixHQUlsQm94QixFQUFPL3hCLFVBQVVzSSxTQUFXLFNBQVVHLEVBQU9ELEdBRXpDLFlBRGMsSUFBVkEsSUFBb0JBLEVBQVEsR0FDekJoSixNQUVKdXlCLEVBVEUsQ0FEUSxFQUFRLE1BV1pob0IsY0FDakI5SyxFQUFROHlCLE9BQVNBLHdCQzdCakIsSUFDUXp5QixFQURKQyxFQUFhQyxNQUFRQSxLQUFLRCxZQUN0QkQsRUFBZ0IsU0FBVUcsRUFBR0MsR0FJN0IsT0FIQUosRUFBZ0JLLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxLQUN6RlQsRUFBY0csRUFBR0MsSUFFckIsU0FBVUQsRUFBR0MsR0FDaEIsR0FBaUIsbUJBQU5BLEdBQTBCLE9BQU5BLEVBQzNCLE1BQU0sSUFBSVMsVUFBVSx1QkFBeUJDLE9BQU9WLEdBQUssaUNBRTdELFNBQVNXLElBQU9iLEtBQUtjLFlBQWNiLEVBRG5DSCxFQUFjRyxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1ksT0FBT2IsSUFBTVcsRUFBR0wsVUFBWU4sRUFBRU0sVUFBVyxJQUFJSyxLQUd2RlYsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVEreUIsaUJBQWMsRUFDdEIsSUFBSUMsRUFBVyxFQUFRLE1BQ25CQyxFQUFxQixFQUFRLE1BQzdCOW9CLEVBQWMsRUFBUSxNQUN0QjRvQixFQUFlLFNBQVVyeEIsR0FFekIsU0FBU3F4QixFQUFZdmlCLEVBQVdsSCxHQUM1QixJQUFJM0gsRUFBUUQsRUFBT1QsS0FBS1YsS0FBTWlRLEVBQVdsSCxJQUFTL0ksS0FJbEQsT0FIQW9CLEVBQU02TyxVQUFZQSxFQUNsQjdPLEVBQU0ySCxLQUFPQSxFQUNiM0gsRUFBTXV4QixTQUFVLEVBQ1R2eEIsRUF3RVgsT0E5RUFyQixFQUFVeXlCLEVBQWFyeEIsR0FRdkJxeEIsRUFBWWh5QixVQUFVc0ksU0FBVyxTQUFVRyxFQUFPRCxHQUU5QyxRQURjLElBQVZBLElBQW9CQSxFQUFRLEdBQzVCaEosS0FBSzJDLE9BQ0wsT0FBTzNDLEtBRVhBLEtBQUtpSixNQUFRQSxFQUNiLElBQUkycEIsRUFBSzV5QixLQUFLNHlCLEdBQ1YzaUIsRUFBWWpRLEtBQUtpUSxVQU9yQixPQU5VLE1BQU4yaUIsSUFDQTV5QixLQUFLNHlCLEdBQUs1eUIsS0FBSzZ5QixlQUFlNWlCLEVBQVcyaUIsRUFBSTVwQixJQUVqRGhKLEtBQUsyeUIsU0FBVSxFQUNmM3lCLEtBQUtnSixNQUFRQSxFQUNiaEosS0FBSzR5QixHQUFLNXlCLEtBQUs0eUIsSUFBTTV5QixLQUFLOHlCLGVBQWU3aUIsRUFBV2pRLEtBQUs0eUIsR0FBSTVwQixHQUN0RGhKLE1BRVh3eUIsRUFBWWh5QixVQUFVc3lCLGVBQWlCLFNBQVU3aUIsRUFBVzhpQixFQUFLL3BCLEdBRTdELFlBRGMsSUFBVkEsSUFBb0JBLEVBQVEsR0FDekIwcEIsRUFBbUJNLGlCQUFpQkMsWUFBWWhqQixFQUFVaWpCLE1BQU01bkIsS0FBSzJFLEVBQVdqUSxNQUFPZ0osSUFFbEd3cEIsRUFBWWh5QixVQUFVcXlCLGVBQWlCLFNBQVVNLEVBQVlQLEVBQUk1cEIsR0FFN0QsUUFEYyxJQUFWQSxJQUFvQkEsRUFBUSxHQUNuQixNQUFUQSxHQUFpQmhKLEtBQUtnSixRQUFVQSxJQUEwQixJQUFqQmhKLEtBQUsyeUIsUUFDOUMsT0FBT0MsRUFFWEYsRUFBbUJNLGlCQUFpQkksY0FBY1IsSUFHdERKLEVBQVloeUIsVUFBVWtRLFFBQVUsU0FBVXpILEVBQU9ELEdBQzdDLEdBQUloSixLQUFLMkMsT0FDTCxPQUFPLElBQUk4aUIsTUFBTSxnQ0FFckJ6bEIsS0FBSzJ5QixTQUFVLEVBQ2YsSUFBSTN3QixFQUFRaEMsS0FBS3F6QixTQUFTcHFCLEVBQU9ELEdBQ2pDLEdBQUloSCxFQUNBLE9BQU9BLEdBRWUsSUFBakJoQyxLQUFLMnlCLFNBQWdDLE1BQVgzeUIsS0FBSzR5QixLQUNwQzV5QixLQUFLNHlCLEdBQUs1eUIsS0FBSzZ5QixlQUFlN3lCLEtBQUtpUSxVQUFXalEsS0FBSzR5QixHQUFJLFFBRy9ESixFQUFZaHlCLFVBQVU2eUIsU0FBVyxTQUFVcHFCLEVBQU9xcUIsR0FDOUMsSUFDSUMsRUFEQUMsR0FBVSxFQUVkLElBQ0l4ekIsS0FBSytJLEtBQUtFLEdBRWQsTUFBT3VELEdBQ0hnbkIsR0FBVSxFQUNWRCxFQUFhL21CLEdBQVEsSUFBSWlaLE1BQU0sc0NBRW5DLEdBQUkrTixFQUVBLE9BREF4ekIsS0FBSzRHLGNBQ0Uyc0IsR0FHZmYsRUFBWWh5QixVQUFVb0csWUFBYyxXQUNoQyxJQUFLNUcsS0FBSzJDLE9BQVEsQ0FDZCxJQUFlaXdCLEVBQU41eUIsS0FBYzR5QixHQUFJM2lCLEVBQWxCalEsS0FBaUNpUSxVQUN0Q3dqQixFQUFVeGpCLEVBQVV3akIsUUFDeEJ6ekIsS0FBSytJLEtBQU8vSSxLQUFLaUosTUFBUWpKLEtBQUtpUSxVQUFZLEtBQzFDalEsS0FBSzJ5QixTQUFVLEVBQ2Yvb0IsRUFBWVksVUFBVWlwQixFQUFTenpCLE1BQ3JCLE1BQU40eUIsSUFDQTV5QixLQUFLNHlCLEdBQUs1eUIsS0FBSzZ5QixlQUFlNWlCLEVBQVcyaUIsRUFBSSxPQUVqRDV5QixLQUFLZ0osTUFBUSxLQUNiN0gsRUFBT1gsVUFBVW9HLFlBQVlsRyxLQUFLVixRQUduQ3d5QixFQS9FTyxDQWdGaEJDLEVBQVNGLFFBQ1g5eUIsRUFBUSt5QixZQUFjQSx3QkNyR3RCLElBQ1ExeUIsRUFESkMsRUFBYUMsTUFBUUEsS0FBS0QsWUFDdEJELEVBQWdCLFNBQVVHLEVBQUdDLEdBSTdCLE9BSEFKLEVBQWdCSyxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssS0FDekZULEVBQWNHLEVBQUdDLElBRXJCLFNBQVVELEVBQUdDLEdBQ2hCLEdBQWlCLG1CQUFOQSxHQUEwQixPQUFOQSxFQUMzQixNQUFNLElBQUlTLFVBQVUsdUJBQXlCQyxPQUFPVixHQUFLLGlDQUU3RCxTQUFTVyxJQUFPYixLQUFLYyxZQUFjYixFQURuQ0gsRUFBY0csRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9ZLE9BQU9iLElBQU1XLEVBQUdMLFVBQVlOLEVBQUVNLFVBQVcsSUFBSUssS0FHdkZWLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRaTBCLG9CQUFpQixFQUN6QixJQUFJQyxFQUFjLEVBQVEsS0FDdEJELEVBQWtCLFNBQVV2eUIsR0FFNUIsU0FBU3V5QixFQUFlRSxFQUFpQnpyQixRQUN6QixJQUFSQSxJQUFrQkEsRUFBTXdyQixFQUFZL3FCLFVBQVVULEtBQ2xELElBQUkvRyxFQUFRRCxFQUFPVCxLQUFLVixLQUFNNHpCLEVBQWlCenJCLElBQVFuSSxLQUl2RCxPQUhBb0IsRUFBTXF5QixRQUFVLEdBQ2hCcnlCLEVBQU15eUIsU0FBVSxFQUNoQnp5QixFQUFNMHlCLGdCQUFhdnZCLEVBQ1puRCxFQXVCWCxPQTlCQXJCLEVBQVUyekIsRUFBZ0J2eUIsR0FTMUJ1eUIsRUFBZWx6QixVQUFVMHlCLE1BQVEsU0FBVWEsR0FDdkMsSUFBSU4sRUFBVXp6QixLQUFLeXpCLFFBQ25CLEdBQUl6ekIsS0FBSzZ6QixRQUNMSixFQUFRdnJCLEtBQUs2ckIsT0FEakIsQ0FJQSxJQUFJL3hCLEVBQ0poQyxLQUFLNnpCLFNBQVUsRUFDZixHQUNJLEdBQUs3eEIsRUFBUSt4QixFQUFPcmpCLFFBQVFxakIsRUFBTzlxQixNQUFPOHFCLEVBQU8vcUIsT0FDN0MsWUFFRStxQixFQUFTTixFQUFRcHBCLFNBRTNCLEdBREFySyxLQUFLNnpCLFNBQVUsRUFDWDd4QixFQUFPLENBQ1AsS0FBUSt4QixFQUFTTixFQUFRcHBCLFNBQ3JCMHBCLEVBQU9udEIsY0FFWCxNQUFNNUUsS0FHUDB4QixFQS9CVSxDQWdDbkJDLEVBQVkvcUIsV0FDZG5KLEVBQVFpMEIsZUFBaUJBLGtCQ25EekJ2ekIsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFxWCxNQUFRclgsRUFBUXNXLG9CQUFpQixFQUN6QyxJQUFJaWUsRUFBZ0IsRUFBUSxNQUN4QkMsRUFBbUIsRUFBUSxNQUMvQngwQixFQUFRc1csZUFBaUIsSUFBSWtlLEVBQWlCUCxlQUFlTSxFQUFjeEIsYUFDM0UveUIsRUFBUXFYLE1BQVFyWCxFQUFRc1csNkJDTHhCNVYsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFvSSwyQkFBd0IsRUFDaENwSSxFQUFRb0ksc0JBQXdCLENBQzVCTSxJQUFLLFdBQ0QsT0FBUTFJLEVBQVFvSSxzQkFBc0Jxc0IsVUFBWUMsTUFBTWhzQixPQUU1RCtyQixjQUFVM3ZCLHVCQ05kLElBQUk4SCxFQUFVck0sTUFBUUEsS0FBS3FNLFFBQVcsU0FBVWxELEVBQUdtRCxHQUMvQyxJQUFJL0MsRUFBc0IsbUJBQVhGLFFBQXlCRixFQUFFRSxPQUFPQyxVQUNqRCxJQUFLQyxFQUFHLE9BQU9KLEVBQ2YsSUFBbUJvRCxFQUFZQyxFQUEzQmhFLEVBQUllLEVBQUU3SSxLQUFLeUksR0FBT3NELEVBQUssR0FDM0IsSUFDSSxXQUFjLElBQU5ILEdBQWdCQSxLQUFNLE1BQVFDLEVBQUkvRCxFQUFFdkcsUUFBUXVILE1BQU1pRCxFQUFHdkUsS0FBS3FFLEVBQUV0TCxPQUV4RSxNQUFPZSxHQUFTd0ssRUFBSSxDQUFFeEssTUFBT0EsR0FDN0IsUUFDSSxJQUNRdUssSUFBTUEsRUFBRS9DLE9BQVNELEVBQUlmLEVBQVUsU0FBSWUsRUFBRTdJLEtBQUs4SCxHQUVsRCxRQUFVLEdBQUlnRSxFQUFHLE1BQU1BLEVBQUV4SyxPQUU3QixPQUFPeUssR0FFUEMsRUFBaUIxTSxNQUFRQSxLQUFLME0sZUFBa0IsU0FBVUMsRUFBSUMsR0FDOUQsSUFBSyxJQUFJcEUsRUFBSSxFQUFHcUUsRUFBS0QsRUFBSzVGLE9BQVE4RixFQUFJSCxFQUFHM0YsT0FBUXdCLEVBQUlxRSxFQUFJckUsSUFBS3NFLElBQzFESCxFQUFHRyxHQUFLRixFQUFLcEUsR0FDakIsT0FBT21FLEdBRVh4TSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXV6QixzQkFBbUIsRUFDM0J2ekIsRUFBUXV6QixpQkFBbUIsQ0FDdkJDLFlBQWEsV0FFVCxJQURBLElBQUlyaUIsRUFBTyxHQUNGN0osRUFBSyxFQUFHQSxFQUFLekYsVUFBVTBGLE9BQVFELElBQ3BDNkosRUFBSzdKLEdBQU16RixVQUFVeUYsR0FFekIsSUFBSW10QixFQUFXejBCLEVBQVF1ekIsaUJBQWlCa0IsU0FDeEMsUUFBU0EsTUFBQUEsT0FBMkMsRUFBU0EsRUFBU2pCLGNBQWdCQSxhQUFhNXhCLFdBQU0sRUFBUXFMLEVBQWMsR0FBSUwsRUFBT3VFLE1BRTlJd2lCLGNBQWUsU0FBVWdCLEdBQ3JCLElBQUlGLEVBQVd6MEIsRUFBUXV6QixpQkFBaUJrQixTQUN4QyxRQUFTQSxNQUFBQSxPQUEyQyxFQUFTQSxFQUFTZCxnQkFBa0JBLGVBQWVnQixJQUUzR0YsY0FBVTN2Qix1QkNwQ2QsSUFBSThILEVBQVVyTSxNQUFRQSxLQUFLcU0sUUFBVyxTQUFVbEQsRUFBR21ELEdBQy9DLElBQUkvQyxFQUFzQixtQkFBWEYsUUFBeUJGLEVBQUVFLE9BQU9DLFVBQ2pELElBQUtDLEVBQUcsT0FBT0osRUFDZixJQUFtQm9ELEVBQVlDLEVBQTNCaEUsRUFBSWUsRUFBRTdJLEtBQUt5SSxHQUFPc0QsRUFBSyxHQUMzQixJQUNJLFdBQWMsSUFBTkgsR0FBZ0JBLEtBQU0sTUFBUUMsRUFBSS9ELEVBQUV2RyxRQUFRdUgsTUFBTWlELEVBQUd2RSxLQUFLcUUsRUFBRXRMLE9BRXhFLE1BQU9lLEdBQVN3SyxFQUFJLENBQUV4SyxNQUFPQSxHQUM3QixRQUNJLElBQ1F1SyxJQUFNQSxFQUFFL0MsT0FBU0QsRUFBSWYsRUFBVSxTQUFJZSxFQUFFN0ksS0FBSzhILEdBRWxELFFBQVUsR0FBSWdFLEVBQUcsTUFBTUEsRUFBRXhLLE9BRTdCLE9BQU95SyxHQUVQQyxFQUFpQjFNLE1BQVFBLEtBQUswTSxlQUFrQixTQUFVQyxFQUFJQyxHQUM5RCxJQUFLLElBQUlwRSxFQUFJLEVBQUdxRSxFQUFLRCxFQUFLNUYsT0FBUThGLEVBQUlILEVBQUczRixPQUFRd0IsRUFBSXFFLEVBQUlyRSxJQUFLc0UsSUFDMURILEVBQUdHLEdBQUtGLEVBQUtwRSxHQUNqQixPQUFPbUUsR0FFWHhNLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFReU0scUJBQWtCLEVBQzFCek0sRUFBUXlNLGdCQUFrQixDQUN0QkMsV0FBWSxXQUVSLElBREEsSUFBSXlFLEVBQU8sR0FDRjdKLEVBQUssRUFBR0EsRUFBS3pGLFVBQVUwRixPQUFRRCxJQUNwQzZKLEVBQUs3SixHQUFNekYsVUFBVXlGLEdBRXpCLElBQUltdEIsRUFBV3owQixFQUFReU0sZ0JBQWdCZ29CLFNBQ3ZDLFFBQVNBLE1BQUFBLE9BQTJDLEVBQVNBLEVBQVMvbkIsYUFBZUEsWUFBWTlLLFdBQU0sRUFBUXFMLEVBQWMsR0FBSUwsRUFBT3VFLE1BRTVJeWpCLGFBQWMsU0FBVUQsR0FDcEIsSUFBSUYsRUFBV3owQixFQUFReU0sZ0JBQWdCZ29CLFNBQ3ZDLFFBQVNBLE1BQUFBLE9BQTJDLEVBQVNBLEVBQVNHLGVBQWlCQSxjQUFjRCxJQUV6R0YsY0FBVTN2QixpQkNsQ2QsU0FBUyt2QixJQUNMLE1BQXNCLG1CQUFYanJCLFFBQTBCQSxPQUFPQyxTQUdyQ0QsT0FBT0MsU0FGSCxhQUpmbkosT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVE2SixTQUFXN0osRUFBUTYwQix1QkFBb0IsRUFPL0M3MEIsRUFBUTYwQixrQkFBb0JBLEVBQzVCNzBCLEVBQVE2SixTQUFXZ3JCLGtCQ1RuQm4wQixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUW1HLGdCQUFhLEVBQ3JCbkcsRUFBUW1HLFdBQXNELG1CQUFYeUQsUUFBeUJBLE9BQU96RCxZQUFlLCtCQ0ZsR3pGLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRc2dCLDZCQUEwQixFQUNsQyxJQUFJZ08sRUFBcUIsRUFBUSxNQUNqQ3R1QixFQUFRc2dCLHdCQUEwQmdPLEVBQW1CRyxrQkFBaUIsU0FBVS9zQixHQUM1RSxPQUFPLFdBQ0hBLEVBQU9uQixNQUNQQSxLQUFLb3VCLEtBQU8sMEJBQ1pwdUIsS0FBS211QixRQUFVLDRDQ1B2Qmh1QixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUThoQixnQkFBYSxFQUNyQixJQUFJd00sRUFBcUIsRUFBUSxNQUNqQ3R1QixFQUFROGhCLFdBQWF3TSxFQUFtQkcsa0JBQWlCLFNBQVUvc0IsR0FBVSxPQUFPLFdBQ2hGQSxFQUFPbkIsTUFDUEEsS0FBS291QixLQUFPLGFBQ1pwdUIsS0FBS211QixRQUFVLDhDQ05uQmh1QixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXNyQixtQkFBZ0IsRUFDeEIsSUFBSWdELEVBQXFCLEVBQVEsTUFDakN0dUIsRUFBUXNyQixjQUFnQmdELEVBQW1CRyxrQkFBaUIsU0FBVS9zQixHQUNsRSxPQUFPLFNBQTJCZ3RCLEdBQzlCaHRCLEVBQU9uQixNQUNQQSxLQUFLb3VCLEtBQU8sZ0JBQ1pwdUIsS0FBS211QixRQUFVQSxzQkNQdkJodUIsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFzSyw2QkFBMEIsRUFDbEMsSUFBSWdrQixFQUFxQixFQUFRLE1BQ2pDdHVCLEVBQVFzSyx3QkFBMEJna0IsRUFBbUJHLGtCQUFpQixTQUFVL3NCLEdBQzVFLE9BQU8sV0FDSEEsRUFBT25CLE1BQ1BBLEtBQUtvdUIsS0FBTywwQkFDWnB1QixLQUFLbXVCLFFBQVUsMENDUHZCaHVCLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRcXJCLG1CQUFnQixFQUN4QixJQUFJaUQsRUFBcUIsRUFBUSxNQUNqQ3R1QixFQUFRcXJCLGNBQWdCaUQsRUFBbUJHLGtCQUFpQixTQUFVL3NCLEdBQ2xFLE9BQU8sU0FBMkJndEIsR0FDOUJodEIsRUFBT25CLE1BQ1BBLEtBQUtvdUIsS0FBTyxnQkFDWnB1QixLQUFLbXVCLFFBQVVBLHNCQ1B2Qmh1QixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUWlPLHlCQUFzQixFQUM5QixJQUFJcWdCLEVBQXFCLEVBQVEsTUFDakN0dUIsRUFBUWlPLG9CQUFzQnFnQixFQUFtQkcsa0JBQWlCLFNBQVUvc0IsR0FDeEUsT0FBTyxTQUFpQ2tNLEdBQ3BDbE0sRUFBT25CLE1BQ1BBLEtBQUttdUIsUUFBVTlnQixFQUNUQSxFQUFPckcsT0FBUyw0Q0FBOENxRyxFQUFPZ0ssS0FBSSxTQUFVL1MsRUFBS2tFLEdBQUssT0FBT0EsRUFBSSxFQUFJLEtBQU9sRSxFQUFJaXdCLGNBQWVDLEtBQUssUUFDM0ksR0FDTngwQixLQUFLb3VCLEtBQU8sc0JBQ1pwdUIsS0FBS3FOLE9BQVNBLHNCQ1Z0QmxOLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRNmpCLFVBQVk3akIsRUFBUW9SLGFBQWVwUixFQUFRc1IsdUJBQW9CLEVBQ3ZFLElBQUk1TixFQUFlLEVBQVEsTUFDdkJ1VCxFQUFnQixFQUFRLE1BQzVCLFNBQVMvTixFQUFLdW1CLEdBQ1YsT0FBT0EsRUFBSUEsRUFBSWxvQixPQUFTLEdBSzVCdkgsRUFBUXNSLGtCQUhSLFNBQTJCSCxHQUN2QixPQUFPek4sRUFBYVcsV0FBVzZFLEVBQUtpSSxJQUFTQSxFQUFLeUMsV0FBUTlPLEdBTTlEOUUsRUFBUW9SLGFBSFIsU0FBc0JELEdBQ2xCLE9BQU84RixFQUFjTSxZQUFZck8sRUFBS2lJLElBQVNBLEVBQUt5QyxXQUFROU8sR0FNaEU5RSxFQUFRNmpCLFVBSFIsU0FBbUIxUyxFQUFNOE0sR0FDckIsTUFBNkIsaUJBQWYvVSxFQUFLaUksR0FBcUJBLEVBQUt5QyxNQUFRcUssaUJDaEJ6RHZkLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRdVIsMEJBQXVCLEVBQy9CLElBQUkxRCxFQUFVaE4sTUFBTWdOLFFBQ2hCbW5CLEVBQWlCdDBCLE9BQU9zMEIsZUFBZ0JDLEVBQWN2MEIsT0FBT0ssVUFBV20wQixFQUFVeDBCLE9BQU84USxLQWlCN0Z4UixFQUFRdVIscUJBaEJSLFNBQThCSixHQUMxQixHQUFvQixJQUFoQkEsRUFBSzVKLE9BQWMsQ0FDbkIsSUFBSTR0QixFQUFVaGtCLEVBQUssR0FDbkIsR0FBSXRELEVBQVFzbkIsR0FDUixNQUFPLENBQUVoa0IsS0FBTWdrQixFQUFTM2pCLEtBQU0sTUFFbEMsSUFXUXFELEVBWEdzZ0IsSUFZYyxpQkFBUnRnQixHQUFvQm1nQixFQUFlbmdCLEtBQVNvZ0IsRUFaeEMsQ0FDakIsSUFBSXpqQixFQUFPMGpCLEVBQVFDLEdBQ25CLE1BQU8sQ0FDSGhrQixLQUFNSyxFQUFLb0csS0FBSSxTQUFVd0gsR0FBTyxPQUFPK1YsRUFBUS9WLE1BQy9DNU4sS0FBTUEsSUFPdEIsSUFBZ0JxRCxFQUhaLE1BQU8sQ0FBRTFELEtBQU1BLEVBQU1LLEtBQU0scUJDbEIvQjlRLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRNlcsb0JBQWlCLEVBQ3pCLElBQUloSixFQUFVaE4sTUFBTWdOLFFBSXBCN04sRUFBUTZXLGVBSFIsU0FBd0IxRixHQUNwQixPQUF1QixJQUFoQkEsRUFBSzVKLFFBQWdCc0csRUFBUXNELEVBQUssSUFBTUEsRUFBSyxHQUFLQSxpQkNKN0R6USxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUStLLGVBQVksRUFPcEIvSyxFQUFRK0ssVUFOUixTQUFtQjBrQixFQUFLMkYsR0FDcEIsR0FBSTNGLEVBQUssQ0FDTCxJQUFJOVEsRUFBUThRLEVBQUk0RixRQUFRRCxHQUN4QixHQUFLelcsR0FBUzhRLEVBQUl4bUIsT0FBTzBWLEVBQU8sbUJDTHhDamUsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVF5dUIsc0JBQW1CLEVBVzNCenVCLEVBQVF5dUIsaUJBVlIsU0FBMEI2RyxHQUN0QixJQUlJQyxFQUFXRCxHQUpGLFNBQVVFLEdBQ25CeFAsTUFBTS9rQixLQUFLdTBCLEdBQ1hBLEVBQVNDLE9BQVEsSUFBSXpQLE9BQVF5UCxTQUtqQyxPQUZBRixFQUFTeDBCLFVBQVlMLE9BQU9ZLE9BQU8wa0IsTUFBTWpsQixXQUN6Q3cwQixFQUFTeDBCLFVBQVVNLFlBQWNrMEIsRUFDMUJBLGdCQ1ZYNzBCLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFReVIsa0JBQWUsRUFJdkJ6UixFQUFReVIsYUFIUixTQUFzQkQsRUFBTVosR0FDeEIsT0FBT1ksRUFBS2dNLFFBQU8sU0FBVWpaLEVBQVE2YSxFQUFLclcsR0FBSyxPQUFTeEUsRUFBTzZhLEdBQU94TyxFQUFPN0gsR0FBS3hFLElBQVkscUJDSGxHN0QsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFzTSxhQUFldE0sRUFBUTBHLGtCQUFlLEVBQzlDLElBQUlaLEVBQVcsRUFBUSxNQUNuQjR2QixFQUFVLEtBb0JkMTFCLEVBQVEwRyxhQW5CUixTQUFzQjRiLEdBQ2xCLEdBQUl4YyxFQUFTNkIsT0FBTzBFLHNDQUF1QyxDQUN2RCxJQUFJc3BCLEdBQVVELEVBS2QsR0FKSUMsSUFDQUQsRUFBVSxDQUFFRSxhQUFhLEVBQU9yekIsTUFBTyxPQUUzQytmLElBQ0lxVCxFQUFRLENBQ1IsSUFBSXh6QixFQUFLdXpCLEVBQVNFLEVBQWN6ekIsRUFBR3l6QixZQUFhcnpCLEVBQVFKLEVBQUdJLE1BRTNELEdBREFtekIsRUFBVSxLQUNORSxFQUNBLE1BQU1yekIsUUFLZCtmLEtBVVJ0aUIsRUFBUXNNLGFBTlIsU0FBc0J6SCxHQUNkaUIsRUFBUzZCLE9BQU8wRSx1Q0FBeUNxcEIsSUFDekRBLEVBQVFFLGFBQWMsRUFDdEJGLEVBQVFuekIsTUFBUXNDLGtCQzNCeEJuRSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUWtSLHFCQUFrQixFQWtCMUJsUixFQUFRa1IsZ0JBakJSLFNBQXlCMmtCLEVBQW9CcmxCLEVBQVdsSCxFQUFNQyxFQUFPK2QsUUFDbkQsSUFBVi9kLElBQW9CQSxFQUFRLFFBQ2pCLElBQVgrZCxJQUFxQkEsR0FBUyxHQUNsQyxJQUFJd08sRUFBdUJ0bEIsRUFBVW5ILFVBQVMsV0FDMUNDLElBQ0lnZSxFQUNBdU8sRUFBbUJsdkIsSUFBSXBHLEtBQUs4SSxTQUFTLEtBQU1FLElBRzNDaEosS0FBSzRHLGdCQUVWb0MsR0FFSCxHQURBc3NCLEVBQW1CbHZCLElBQUltdkIsSUFDbEJ4TyxFQUNELE9BQU93TyxpQkNoQmZwMUIsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVEwUSxjQUFXLEVBSW5CMVEsRUFBUTBRLFNBSFIsU0FBa0JoSixHQUNkLE9BQU9BLGlCQ0hYaEgsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVE0VixpQkFBYyxFQUN0QjVWLEVBQVE0VixZQUFjLFNBQVdsTyxHQUFLLE9BQU9BLEdBQXlCLGlCQUFiQSxFQUFFSCxRQUFvQyxtQkFBTkcsbUJDRnpGaEgsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVE4VixxQkFBa0IsRUFDMUIsSUFBSXBTLEVBQWUsRUFBUSxNQUkzQjFELEVBQVE4VixnQkFIUixTQUF5QmpCLEdBQ3JCLE9BQU9qTCxPQUFPa0ssZUFBaUJwUSxFQUFhVyxXQUFXd1EsTUFBQUEsT0FBaUMsRUFBU0EsRUFBSWpMLE9BQU9rSywrQkNKaEhwVCxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXlYLGlCQUFjLEVBSXRCelgsRUFBUXlYLFlBSFIsU0FBcUJqVyxHQUNqQixPQUFPQSxhQUFpQmt6QixPQUFTcUIsTUFBTXYwQixrQkNIM0NkLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRcUUsZ0JBQWEsRUFJckJyRSxFQUFRcUUsV0FIUixTQUFvQjdDLEdBQ2hCLE1BQXdCLG1CQUFWQSxtQkNIbEJkLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRMlYseUJBQXNCLEVBQzlCLElBQUkvUCxFQUFlLEVBQVEsTUFDdkJsQyxFQUFlLEVBQVEsTUFJM0IxRCxFQUFRMlYsb0JBSFIsU0FBNkIxRCxHQUN6QixPQUFPdk8sRUFBYVcsV0FBVzROLEVBQU1yTSxFQUFhTyw4QkNMdER6RixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUStWLGdCQUFhLEVBQ3JCLElBQUltYyxFQUFhLEVBQVEsTUFDckJ4dUIsRUFBZSxFQUFRLE1BSTNCMUQsRUFBUStWLFdBSFIsU0FBb0I5RCxHQUNoQixPQUFPdk8sRUFBYVcsV0FBVzROLE1BQUFBLE9BQXFDLEVBQVNBLEVBQU1pZ0IsRUFBV3JvQiw0QkNMbEduSixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTZWLGVBQVksRUFDcEIsSUFBSW5TLEVBQWUsRUFBUSxNQUkzQjFELEVBQVE2VixVQUhSLFNBQW1CclUsR0FDZixPQUFPa0MsRUFBYVcsV0FBVzdDLE1BQUFBLE9BQXFDLEVBQVNBLEVBQU1xUiw2QkNKdkYsSUFBSUMsRUFBZXZTLE1BQVFBLEtBQUt1UyxhQUFnQixTQUFVL0csRUFBU2dILEdBQy9ELElBQXNHQyxFQUFHQyxFQUFHQyxFQUFHQyxFQUEzR0MsRUFBSSxDQUFFQyxNQUFPLEVBQUdDLEtBQU0sV0FBYSxHQUFXLEVBQVBKLEVBQUUsR0FBUSxNQUFNQSxFQUFFLEdBQUksT0FBT0EsRUFBRSxJQUFPSyxLQUFNLEdBQUlDLElBQUssSUFDaEcsT0FBT0wsRUFBSSxDQUFFM1EsS0FBTWlSLEVBQUssR0FBSSxNQUFTQSxFQUFLLEdBQUksT0FBVUEsRUFBSyxJQUF3QixtQkFBWDdKLFNBQTBCdUosRUFBRXZKLE9BQU9DLFVBQVksV0FBYSxPQUFPdEosT0FBVTRTLEVBQ3ZKLFNBQVNNLEVBQUs1RyxHQUFLLE9BQU8sU0FBVTZHLEdBQUssT0FDekMsU0FBY0MsR0FDVixHQUFJWCxFQUFHLE1BQU0sSUFBSTlSLFVBQVUsbUNBQzNCLEtBQU9rUyxPQUNILEdBQUlKLEVBQUksRUFBR0MsSUFBTUMsRUFBWSxFQUFSUyxFQUFHLEdBQVNWLEVBQVUsT0FBSVUsRUFBRyxHQUFLVixFQUFTLFNBQU9DLEVBQUlELEVBQVUsU0FBTUMsRUFBRWpTLEtBQUtnUyxHQUFJLEdBQUtBLEVBQUV6USxTQUFXMFEsRUFBSUEsRUFBRWpTLEtBQUtnUyxFQUFHVSxFQUFHLEtBQUs1SixLQUFNLE9BQU9tSixFQUUzSixPQURJRCxFQUFJLEVBQUdDLElBQUdTLEVBQUssQ0FBUyxFQUFSQSxFQUFHLEdBQVFULEVBQUUxUixRQUN6Qm1TLEVBQUcsSUFDUCxLQUFLLEVBQUcsS0FBSyxFQUFHVCxFQUFJUyxFQUFJLE1BQ3hCLEtBQUssRUFBYyxPQUFYUCxFQUFFQyxRQUFnQixDQUFFN1IsTUFBT21TLEVBQUcsR0FBSTVKLE1BQU0sR0FDaEQsS0FBSyxFQUFHcUosRUFBRUMsUUFBU0osRUFBSVUsRUFBRyxHQUFJQSxFQUFLLENBQUMsR0FBSSxTQUN4QyxLQUFLLEVBQUdBLEVBQUtQLEVBQUVJLElBQUlJLE1BQU9SLEVBQUVHLEtBQUtLLE1BQU8sU0FDeEMsUUFDSSxNQUFrQlYsR0FBWkEsRUFBSUUsRUFBRUcsTUFBWWhNLE9BQVMsR0FBSzJMLEVBQUVBLEVBQUUzTCxPQUFTLEtBQWtCLElBQVZvTSxFQUFHLElBQXNCLElBQVZBLEVBQUcsSUFBVyxDQUFFUCxFQUFJLEVBQUcsU0FDakcsR0FBYyxJQUFWTyxFQUFHLE1BQWNULEdBQU1TLEVBQUcsR0FBS1QsRUFBRSxJQUFNUyxFQUFHLEdBQUtULEVBQUUsSUFBTSxDQUFFRSxFQUFFQyxNQUFRTSxFQUFHLEdBQUksTUFDOUUsR0FBYyxJQUFWQSxFQUFHLElBQVlQLEVBQUVDLE1BQVFILEVBQUUsR0FBSSxDQUFFRSxFQUFFQyxNQUFRSCxFQUFFLEdBQUlBLEVBQUlTLEVBQUksTUFDN0QsR0FBSVQsR0FBS0UsRUFBRUMsTUFBUUgsRUFBRSxHQUFJLENBQUVFLEVBQUVDLE1BQVFILEVBQUUsR0FBSUUsRUFBRUksSUFBSS9LLEtBQUtrTCxHQUFLLE1BQ3ZEVCxFQUFFLElBQUlFLEVBQUVJLElBQUlJLE1BQ2hCUixFQUFFRyxLQUFLSyxNQUFPLFNBRXRCRCxFQUFLWixFQUFLOVIsS0FBSzhLLEVBQVNxSCxHQUMxQixNQUFPckcsR0FBSzRHLEVBQUssQ0FBQyxFQUFHNUcsR0FBSWtHLEVBQUksRUFBSyxRQUFVRCxFQUFJRSxFQUFJLEVBQ3RELEdBQVksRUFBUlMsRUFBRyxHQUFRLE1BQU1BLEVBQUcsR0FBSSxNQUFPLENBQUVuUyxNQUFPbVMsRUFBRyxHQUFLQSxFQUFHLFFBQUssRUFBUTVKLE1BQU0sR0FyQjlCNEksQ0FBSyxDQUFDOUYsRUFBRzZHLE9Bd0J6RHNpQixFQUFXejFCLE1BQVFBLEtBQUt5MUIsU0FBWSxTQUFVdGlCLEdBQUssT0FBT25ULGdCQUFnQnkxQixHQUFXejFCLEtBQUttVCxFQUFJQSxFQUFHblQsTUFBUSxJQUFJeTFCLEVBQVF0aUIsSUFDckh1aUIsRUFBb0IxMUIsTUFBUUEsS0FBSzAxQixrQkFBcUIsU0FBVWxxQixFQUFTd0csRUFBWUUsR0FDckYsSUFBSzdJLE9BQU9rSyxjQUFlLE1BQU0sSUFBSTVTLFVBQVUsd0NBQy9DLElBQW9ENkgsRUFBaERvSyxFQUFJVixFQUFVN1EsTUFBTW1LLEVBQVN3RyxHQUFjLElBQVEyakIsRUFBSSxHQUMzRCxPQUFPbnRCLEVBQUksR0FBSTBLLEVBQUssUUFBU0EsRUFBSyxTQUFVQSxFQUFLLFVBQVcxSyxFQUFFYSxPQUFPa0ssZUFBaUIsV0FBYyxPQUFPdlQsTUFBU3dJLEVBQ3BILFNBQVMwSyxFQUFLNUcsR0FBU3NHLEVBQUV0RyxLQUFJOUQsRUFBRThELEdBQUssU0FBVTZHLEdBQUssT0FBTyxJQUFJOUwsU0FBUSxTQUFVNlgsRUFBR2hmLEdBQUt5MUIsRUFBRXp0QixLQUFLLENBQUNvRSxFQUFHNkcsRUFBRytMLEVBQUdoZixJQUFNLEdBQUswMUIsRUFBT3RwQixFQUFHNkcsUUFDOUgsU0FBU3lpQixFQUFPdHBCLEVBQUc2RyxHQUFLLEtBQ1Y1RyxFQURxQnFHLEVBQUV0RyxHQUFHNkcsSUFDbkJsUyxpQkFBaUJ3MEIsRUFBVXB1QixRQUFRWCxRQUFRNkYsRUFBRXRMLE1BQU1rUyxHQUFHYixLQUFLdWpCLEVBQVNsdkIsR0FBVTZNLEVBQU9taUIsRUFBRSxHQUFHLEdBQUlwcEIsR0FEcEUsTUFBT0MsR0FBS2dILEVBQU9taUIsRUFBRSxHQUFHLEdBQUlucEIsR0FDM0UsSUFBY0QsRUFDZCxTQUFTc3BCLEVBQVE1MEIsR0FBUzIwQixFQUFPLE9BQVEzMEIsR0FDekMsU0FBUzBGLEVBQU8xRixHQUFTMjBCLEVBQU8sUUFBUzMwQixHQUN6QyxTQUFTdVMsRUFBT2YsRUFBR1UsR0FBU1YsRUFBRVUsR0FBSXdpQixFQUFFdHJCLFFBQVNzckIsRUFBRTN1QixRQUFRNHVCLEVBQU9ELEVBQUUsR0FBRyxHQUFJQSxFQUFFLEdBQUcsTUFFaEZ4MUIsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVFnVyxxQkFBdUJoVyxFQUFRMFYsd0NBQXFDLEVBQzVFLElBQUloUyxFQUFlLEVBQVEsTUFrQzNCMUQsRUFBUTBWLG1DQWpDUixTQUE0Q0QsR0FDeEMsT0FBT3dnQixFQUFpQjExQixLQUFNc0IsV0FBVyxXQUNyQyxJQUFJdzBCLEVBQVFsMEIsRUFBSVgsRUFDaEIsT0FBT3NSLEVBQVl2UyxNQUFNLFNBQVUyRSxHQUMvQixPQUFRQSxFQUFHbU8sT0FDUCxLQUFLLEVBQ0RnakIsRUFBUzVnQixFQUFlNmdCLFlBQ3hCcHhCLEVBQUdtTyxNQUFRLEVBQ2YsS0FBSyxFQUNEbk8sRUFBR3FPLEtBQUs5SyxLQUFLLENBQUMsRUFBRyxDQUFFLEVBQUcsS0FDdEJ2RCxFQUFHbU8sTUFBUSxFQUNmLEtBQUssRUFFRCxNQUFPLENBQUMsRUFBRzJpQixFQUFRSyxFQUFPRSxTQUM5QixLQUFLLEVBRUQsT0FEQXAwQixFQUFLK0MsRUFBR29PLE9BQVE5UixFQUFRVyxFQUFHWCxNQUFjVyxFQUFHNEgsS0FFckMsQ0FBQyxFQUFHaXNCLE9BQVEsSUFERCxDQUFDLEVBQUcsR0FFMUIsS0FBSyxFQUFHLE1BQU8sQ0FBQyxFQUFHOXdCLEVBQUdvTyxRQUN0QixLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQUcwaUIsRUFBUXgwQixJQUMzQixLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQUcwRCxFQUFHb08sUUFDdEIsS0FBSyxFQUVELE9BREFwTyxFQUFHb08sT0FDSSxDQUFDLEVBQUcsR0FDZixLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQUcsSUFDbkIsS0FBSyxFQUVELE9BREEraUIsRUFBT0csY0FDQSxDQUFDLEdBQ1osS0FBSyxHQUFJLE1BQU8sQ0FBQyxXQVNqQ3gyQixFQUFRZ1cscUJBSFIsU0FBOEJuQixHQUMxQixPQUFPblIsRUFBYVcsV0FBV3dRLE1BQUFBLE9BQWlDLEVBQVNBLEVBQUl5aEIsNEJDN0VqRjUxQixPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXVYLGlCQUFjLEVBQ3RCLElBQUk3VCxFQUFlLEVBQVEsTUFJM0IxRCxFQUFRdVgsWUFIUixTQUFxQi9WLEdBQ2pCLE9BQU9BLEdBQVNrQyxFQUFhVyxXQUFXN0MsRUFBTTZILDJCQ0psRDNJLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRMlksUUFBVTNZLEVBQVFzUCxhQUFVLEVBQ3BDLElBQUk1TCxFQUFlLEVBQVEsTUFDM0IsU0FBUzRMLEVBQVFsSixHQUNiLE9BQU8xQyxFQUFhVyxXQUFXK0IsTUFBQUEsT0FBdUMsRUFBU0EsRUFBT0gsTUFFMUZqRyxFQUFRc1AsUUFBVUEsRUFnQmxCdFAsRUFBUTJZLFFBZlIsU0FBaUIzQixHQUNiLE9BQU8sU0FBVTVRLEdBQ2IsR0FBSWtKLEVBQVFsSixHQUNSLE9BQU9BLEVBQU9ILE1BQUssU0FBVXd3QixHQUN6QixJQUNJLE9BQU96ZixFQUFLeWYsRUFBY2wyQixNQUU5QixNQUFPc0UsR0FDSHRFLEtBQUtnQyxNQUFNc0MsT0FJdkIsTUFBTSxJQUFJM0QsVUFBVSxrRUNuQjVCLElBQUkwTCxFQUFVck0sTUFBUUEsS0FBS3FNLFFBQVcsU0FBVWxELEVBQUdtRCxHQUMvQyxJQUFJL0MsRUFBc0IsbUJBQVhGLFFBQXlCRixFQUFFRSxPQUFPQyxVQUNqRCxJQUFLQyxFQUFHLE9BQU9KLEVBQ2YsSUFBbUJvRCxFQUFZQyxFQUEzQmhFLEVBQUllLEVBQUU3SSxLQUFLeUksR0FBT3NELEVBQUssR0FDM0IsSUFDSSxXQUFjLElBQU5ILEdBQWdCQSxLQUFNLE1BQVFDLEVBQUkvRCxFQUFFdkcsUUFBUXVILE1BQU1pRCxFQUFHdkUsS0FBS3FFLEVBQUV0TCxPQUV4RSxNQUFPZSxHQUFTd0ssRUFBSSxDQUFFeEssTUFBT0EsR0FDN0IsUUFDSSxJQUNRdUssSUFBTUEsRUFBRS9DLE9BQVNELEVBQUlmLEVBQVUsU0FBSWUsRUFBRTdJLEtBQUs4SCxHQUVsRCxRQUFVLEdBQUlnRSxFQUFHLE1BQU1BLEVBQUV4SyxPQUU3QixPQUFPeUssR0FFUEMsRUFBaUIxTSxNQUFRQSxLQUFLME0sZUFBa0IsU0FBVUMsRUFBSUMsR0FDOUQsSUFBSyxJQUFJcEUsRUFBSSxFQUFHcUUsRUFBS0QsRUFBSzVGLE9BQVE4RixFQUFJSCxFQUFHM0YsT0FBUXdCLEVBQUlxRSxFQUFJckUsSUFBS3NFLElBQzFESCxFQUFHRyxHQUFLRixFQUFLcEUsR0FDakIsT0FBT21FLEdBRVh4TSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUTBSLHNCQUFtQixFQUMzQixJQUFJc1AsRUFBUSxFQUFRLE1BQ2hCblQsRUFBVWhOLE1BQU1nTixRQU9wQjdOLEVBQVEwUixpQkFIUixTQUEwQjVGLEdBQ3RCLE9BQU9rVixFQUFNcEosS0FBSSxTQUFVekcsR0FBUSxPQUp2QyxTQUFxQnJGLEVBQUlxRixHQUNyQixPQUFPdEQsRUFBUXNELEdBQVFyRixFQUFHbEssV0FBTSxFQUFRcUwsRUFBYyxHQUFJTCxFQUFPdUUsS0FBVXJGLEVBQUdxRixHQUdwQ3VsQixDQUFZNXFCLEVBQUlxRixxQkM3QjlEelEsT0FBT2EsZUFBZXZCLEVBQVMsYUFBYyxDQUFFd0IsT0FBTyxJQUN0RHhCLEVBQVEyTSxVQUFPLEVBRWYzTSxFQUFRMk0sS0FEUiwyQkNGQWpNLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRNmxCLFNBQU0sRUFJZDdsQixFQUFRNmxCLElBSFIsU0FBYThRLEVBQU01cUIsR0FDZixPQUFPLFNBQVV2SyxFQUFPbWQsR0FBUyxPQUFRZ1ksRUFBSzExQixLQUFLOEssRUFBU3ZLLEVBQU9tZCxxQkNIdkVqZSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUXdILGNBQWdCeEgsRUFBUW9ILFVBQU8sRUFDdkMsSUFBSThJLEVBQWEsRUFBUSxNQVN6QixTQUFTMUksRUFBY292QixHQUNuQixPQUFtQixJQUFmQSxFQUFJcnZCLE9BQ0cySSxFQUFXUSxTQUVILElBQWZrbUIsRUFBSXJ2QixPQUNHcXZCLEVBQUksR0FFUixTQUFlM2tCLEdBQ2xCLE9BQU8ya0IsRUFBSXBaLFFBQU8sU0FBVWlJLEVBQU0zWixHQUFNLE9BQU9BLEVBQUcyWixLQUFVeFQsSUFUcEVqUyxFQUFRb0gsS0FQUixXQUVJLElBREEsSUFBSXd2QixFQUFNLEdBQ0R0dkIsRUFBSyxFQUFHQSxFQUFLekYsVUFBVTBGLE9BQVFELElBQ3BDc3ZCLEVBQUl0dkIsR0FBTXpGLFVBQVV5RixHQUV4QixPQUFPRSxFQUFjb3ZCLElBY3pCNTJCLEVBQVF3SCxjQUFnQkEsa0JDdEJ4QjlHLE9BQU9hLGVBQWV2QixFQUFTLGFBQWMsQ0FBRXdCLE9BQU8sSUFDdER4QixFQUFRdU0sMEJBQXVCLEVBQy9CLElBQUl6RyxFQUFXLEVBQVEsTUFDbkJ3RixFQUFvQixFQUFRLE1BWWhDdEwsRUFBUXVNLHFCQVhSLFNBQThCMUgsR0FDMUJ5RyxFQUFrQm1CLGdCQUFnQkMsWUFBVyxXQUN6QyxJQUFJbUMsRUFBbUIvSSxFQUFTNkIsT0FBT2tILGlCQUN2QyxJQUFJQSxFQUlBLE1BQU1oSyxFQUhOZ0ssRUFBaUJoSyxxQkNSN0JuRSxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLElBQ3REeEIsRUFBUWlXLHNDQUFtQyxFQUkzQ2pXLEVBQVFpVyxpQ0FIUixTQUEwQ2hFLEdBQ3RDLE9BQU8sSUFBSS9RLFVBQVUsaUJBQTZCLE9BQVYrUSxHQUFtQyxpQkFBVkEsRUFBcUIsb0JBQXNCLElBQU1BLEVBQVEsS0FBTyw2SUNEeVJqUyxFQUFRLFFBQTBpQixFQUVsOEIsRUFBUSxNQUVKLEVBQVEsTUFFWCxFQUFRLE1BRUgsRUFBUSxNQUVULEVBQVEsTUFFTixFQUFRLE1BRVYsRUFBUSxNQUVSLEVBQVEsTUFFUixFQUFRLE1BRUYsRUFBUSxNQUVYLEVBQVEsTUFFSixFQUFRLE1BRW5CLEVBQVEsTUFFTCxFQUFRLE1BRVIsRUFBUSxNQUVOLEVBQVEsTUFFVCxFQUFRLE1BRVgsRUFBUSxNQUVWLEVBQVEsS0FFTCxFQUFRLEtBRUosRUFBUSxNQUVOLEVBQVEsTUFFakIsRUFBUSxNQUVKLEVBQVEsTUFFSixFQUFRLE1BRWIsRUFBUSxNQUVJLEVBQVEsTUFFTCxFQUFRLE1BRXRCLEVBQVEsTUFFVixFQUFRLEtBRVYsRUFBUSxNQUVOLEVBQVEsSUFFTCxFQUFRLE1BRVIsRUFBUSxNQUVaLEVBQVEsTUFFUixFQUFRLE1BRU4sRUFBUSxNQUVaLEVBQVEsTUFFSCxFQUFRLE1BRVosRUFBUSxNQUVOLEVBQVEsTUFFRCxFQUFRLE1BRWYsRUFBUSxNQUVYLEVBQVEsTUFFVCxFQUFRLE1BRU4sRUFBUSxNQUVGLEVBQVEsTUFFaEIsRUFBUSxNQUVOLEVBQVEsTUFFTCxFQUFRLE1BRVQsRUFBUSxNQUVQLEVBQVEsTUFFTixFQUFRLE1BRVQsRUFBUSxNQUVSLEVBQVEsTUFFZCxFQUFRLE1BRUYsRUFBUSxNQUVSLEVBQVEsTUFFQSxFQUFRLE1BRWpCLEVBQVEsTUFFUCxFQUFRLE1BRVosRUFBUSxNQUVOLEVBQVEsTUFFQSxFQUFRLElBRVosRUFBUSxNQUVOLEVBQVEsTUFFakIsRUFBUSxNQUVKLEVBQVEsS0FFVixFQUFRLEtBRVIsRUFBUSxNQUVKLEVBQVEsTUFFYixFQUFRLElBRUosRUFBUSxNQUVULEVBQVEsTUFFVixFQUFRLE1BRUosRUFBUSxNQUVkLEVBQVEsTUFFQyxFQUFRLE1BMUo5QixJQTRKSThxQixFQUFVLEVBQVEsTUFDdEJwcUIsT0FBT2EsZUFBZXZCLEVBQVMsS0FBL0IsQ0FBMEM4QyxZQUFZLEVBQU1GLElBQUssV0FBYyxPQUFPa29CLEVBQVFoQixTQUMxRSxFQUFRLE1BRWIsRUFBUSxNQUVWLEVBQVEsTUFFSixFQUFRLE1BRVAsRUFBUSxNQUVSLEVBQVEsTUFFUixFQUFRLE1BRU4sRUFBUSxLQUVWLEVBQVEsTUFFUixFQUFRLE1BRU4sRUFBUSxNQUVULEVBQVEsTUFFZCxFQUFRLE1BRUosRUFBUSxNQUVQLEVBQVEsTUFFUixFQUFRLE1BRWQsRUFBUSxNQUVILEVBQVEsTUFFSixFQUFRLE1BRVIsRUFBUSxNQUVSLEVBQVEsTUFFYixFQUFRLE1BRUosRUFBUSxNQUVWLEVBQVEsTUFFVixFQUFRLEdBRVQsRUFBUSxNQUVILEVBQVEsTUFFVCxFQUFRLE1BRU4sRUFBUSxNQUVWLEVBQVEsTUFFSixFQUFRLE1BRW5CLEVBQVEsTUFFTCxFQUFRLE1BRVAsRUFBUSw0aEJDck94QixtQkFTQSxVQXNIT3pTLGVBQWV3ZixFQUFxQkMsRUFBcUNDLEVBQWlCQyxHQUU3RCxpQkFBckJGLElBQ1BBLEVBQW1CRyxLQUFLQyxNQUFNSixJQUVsQ0ssUUFBUUMsSUFBSSxrQ0FBbUNILEtBQUtJLFVBQVVQLElBQzlEQSxFQUFtQlEsRUFBd0JSLEdBQzNDSyxRQUFRQyxJQUFJLGlDQUFrQ0gsS0FBS0ksVUFBVVAsSUFDN0QsTUFBTVMsRUFBVyxJQUFJLFVBQUtSLEdBQ3BCUyxFQUE0QixHQUNsQyxJQUFJQyxFQUF5QixFQUN6QkMsRUFBb0IsRUFDeEIsTUFBTUMsRUFBcUIsR0FDM0IsSUFBSyxNQUFPQyxLQUFjbDNCLE9BQU9tM0IsUUFBUWYsRUFBaUJnQixhQUFjLENBR3BFLE1BQU1DLEVBQTJELENBQzdERCxZQUFhLENBQ1QsQ0FBQ0YsR0FBV1gsS0FBS0MsTUFBTUQsS0FBS0ksVUFBVVAsRUFBaUJnQixZQUFZRixjQUdwRUcsRUFBc0NELFlBQVlGLEdBQVVJLE1BQU1DLFVBQ3pFZCxRQUFRQyxJQUFJLDBCQUEyQkgsS0FBS0ksVUFBVVUsSUFDdEQsTUFBTUcsRUFBdUJYLEVBQVNZLElBQUlDLFNBQVNDLFFBQVFwQixLQUFLSSxVQUFVVSxHQUF3Q2pCLEVBQWlCZ0IsWUFBWUYsR0FBVUksTUFBTUMsV0FHL0osR0FGNkJLLEVBQTZCeEIsRUFBaUJnQixZQUFZRixHQUFVSSxNQUFNTyxPQUFRTCxHQUczRyxJQUFLLE1BQU8sQ0FBRU0sS0FBZTkzQixPQUFPbTNCLFFBQVFmLEVBQWlCZ0IsWUFBWUYsR0FBVUUsYUFBYyxDQUU3RixHQURBSixLQUNLYyxFQUFXQyxRQUFTLENBQ3JCZCxFQUFtQmx2QixLQUFLLENBQ3BCK3ZCLFdBQUFBLEVBQ0FFLEtBQU0sRUFDTmhLLFFBQVMseURBRWIsU0FFSixNQUFNaUssRUFBMkIsSUFBSWpFLEtBQUs4RCxFQUFXSSxnQkFDL0Nsd0IsRUFBTSxJQUFJZ3NCLEtBQ2hCLEdBQUloc0IsRUFBTWl3QixFQUNOaEIsRUFBbUJsdkIsS0FBSyxDQUNwQit2QixXQUFBQSxFQUNBRSxLQUFNLEVBQ05oSyxRQUFTLDhCQUE4QmlLLFdBTS9DLEdBRDBCRSxFQUEyQm53QixFQUR4QyxJQUFJZ3NCLEtBQUtvQyxFQUFpQmdCLFlBQVlGLEdBQVVJLE1BQU1jLFFBRTNDLEdBQUs5QixFQUN6QlcsRUFBbUJsdkIsS0FBSyxDQUNwQit2QixXQUFBQSxFQUNBRSxLQUFNLEVBQ05oSyxRQUFTLHVCQU1qQixHQUQrQnFLLEVBQStCUCxFQUFZakIsR0FDOUMsQ0FFeEIsTUFBTXlCLEVBQWtCUixFQUFXUixNQUFNTyxPQUNuQ1UsRUFBMkJULEVBQVdVLE9BQU8vRixHQUFHZ0csTUFBTSxLQUFLLEdBRWpFLFNBRCtCQyxFQUFvQjdCLEVBQVVSLEVBQVMsRUFBQXNDLGVBQWdCTCxFQUFpQkMsRUFBMEJ6QixHQUMzRyxDQUNsQixNQUFNOEIsRUFBZ0J4QyxFQUFpQmdCLFlBQVlGLEdBQVVJLE1BQU1PLE9BQzdEZ0IsRUFBeUJmLEVBQVdyRixHQUFHZ0csTUFBTSxLQUFLLFNBQzNCQyxFQUFvQjdCLEVBQVVSLEVBQVMsRUFBQXNDLGVBQWdCQyxFQUFlQyxFQUF3Qi9CLEdBRXZIQyxJQUVBRSxFQUFtQmx2QixLQUFLLENBQ3BCK3ZCLFdBQUFBLEVBQ0FFLEtBQU0sRUFDTmhLLFFBQVMsNEJBSWpCaUosRUFBbUJsdkIsS0FBSyxDQUNwQit2QixXQUFBQSxFQUNBRSxLQUFNLEVBQ05oSyxRQUFTLDhCQUlqQmlKLEVBQW1CbHZCLEtBQUssQ0FDcEIrdkIsV0FBQUEsRUFDQUUsS0FBTSxFQUNOaEssUUFBUyxvQ0FNckJpSixFQUFtQmx2QixLQUFLLENBQ3BCK3ZCLFdBQVkxQixFQUFpQmdCLFlBQVlGLEdBQ3pDYyxLQUFNLEVBQ05oSyxRQUFTLDZCQU9yQixPQUhBeUksUUFBUUMsSUFBSSxvQ0FBcUNLLEdBQ2pETixRQUFRQyxJQUFJLCtCQUFnQ00sR0FFeENBLEVBQW9CLEdBQUtELElBQTJCQyxFQUM3QyxDQUNISSxZQUFhaEIsRUFBaUJnQixZQUM5QjBCLE9BQU8sRUFDUGQsS0FBTSxFQUNOaEssUUFBUyxvQkFHTixDQUNIOEssT0FBTyxFQUNQZCxLQUFNLEVBQ05oSyxRQUFTLHFCQUNUaUosbUJBQUFBLEdBTVosU0FBZ0JXLEVBQTZCbUIsRUFBZ0JDLEdBQ3pELE9BQUlELElBQWNDLElBQ2R2QyxRQUFRNTBCLE1BQU0sZ0NBQWdDazNCLHFDQUE2Q0MsTUFDcEYsR0FNZixTQUFnQlgsRUFBK0JQLEVBQWlCakIsR0FDNUQsTUFBTW9DLEVBQWtCbkIsRUFBV1IsTUFBTUMsVUFDbkMyQixFQUFzQnBCLEVBQVdSLE1BQU1PLE9BQ3ZDc0IsRUFBK0I1QyxLQUFLQyxNQUFNRCxLQUFLSSxVQUFVbUIsV0FDeERxQixFQUE2QjdCLE1BQU1DLFVBQzFDLE1BQU15QixFQUFtQm5DLEVBQVNZLElBQUlDLFNBQVNDLFFBQVFwQixLQUFLSSxVQUFVd0MsR0FBK0JGLEdBQ3JHLE9BQUlDLElBQXdCRixJQUN4QnZDLFFBQVE1MEIsTUFBTSxrQ0FBa0NxM0IscUNBQXVERixNQUNoRyxHQUtScmlCLGVBQWUraEIsRUFBb0I3QixFQUFlUixFQUFpQnNDLEVBQXFCSSxFQUFtQkssRUFBb0J0QyxHQUNsSSxNQUFNdUMsRUFBYXZDLEVBQVc5VixNQUFLaGEsR0FBS0EsRUFBRXN5QixLQUFPRixHQUFjcHlCLEVBQUUreEIsWUFBY0EsSUFDL0UsR0FBSU0sRUFDQSxPQUFPQSxFQUFXeDFCLE9BQ2YsQ0FDSCxNQUFNMDFCLEVBQWlCLEdBRXZCLEdBQUlILElBQWVMLEVBRWYsT0FEQWpDLEVBQVcvdUIsS0FBSyxDQUFFdXhCLElBQUtGLEVBQVlMLFVBQUFBLEVBQVdsMUIsUUFBUSxLQUMvQyxFQUNKLENBQ0gsTUFBTTIxQixFQUFVQyxFQUFXVixFQUFXbEMsR0FFaEM2QyxFQUFxQixJQURkLElBQUksVUFBS3JELEdBQ2NvQixJQUFJa0MsVUFDcENoQixFQUNBUyxHQUVKLElBQUtRLEVBQXVCTCxFQUFnQkMsRUFBU0osR0FBYSxDQUM5RCxNQUFNUyxFQUFhQyxlQUFlQyxFQUFjTCxFQUFvQkYsR0FBVSxJQUs5RSxHQUFtQixJQUFmSyxHQUFvQkEsRUFBYSxFQUVqQyxPQURBL0MsRUFBVy91QixLQUFLLENBQUV1eEIsSUFBS0YsRUFBWUwsVUFBQUEsRUFBV2wxQixRQUFRLEtBQy9DLEVBRVgwMUIsRUFBZXh4QixLQUFLLENBQUV5eEIsUUFBQUEsRUFBU0osV0FBQUEsSUFHbkMsT0FEQXRDLEVBQVcvdUIsS0FBSyxDQUFFdXhCLElBQUtGLEVBQVlMLFVBQUFBLEVBQVdsMUIsUUFBUSxLQUMvQyxJQU1uQixTQUFnQisxQixFQUF1QkksRUFBYVIsRUFBaUJTLEdBQ2pFLElBQUssTUFBTUMsS0FBWUYsRUFDbkIsR0FBSUUsRUFBU1YsVUFBWUEsR0FBV1UsRUFBU0QscUJBQXVCQSxFQUNoRSxPQUFPLEVBTW5CLFNBQWdCUixFQUFXL2EsRUFBYW1ZLEdBQ3BDLE9BQU9BLEVBQVNzRCxNQUFNQyxVQUFVMWIsR0FHN0IvSCxlQUFlb2pCLEVBQWNMLEVBQXlCaGIsR0FFekQsT0FBMkMsT0FBdkNnYixFQUFtQmxRLFFBQVE2USxRQUNwQm56QixRQUFRWCxRQUFRLFlBRVZtekIsRUFBbUJZLFFBQVFQLGNBQWNyYixHQUFLbmUsT0FJbkUsU0FBZ0I0M0IsRUFBMkJvQyxFQUFXQyxHQUNsRCxJQUFJQyxHQUFRRixFQUFJRyxVQUFZRixFQUFJRSxXQUFhLElBRTdDLE9BREFELEdBQVEsR0FDRDV5QixLQUFLOHlCLElBQUk5eUIsS0FBSyt5QixNQUFNSCxJQUcvQixTQUFTN0QsRUFBd0JSLEdBQzdCSyxRQUFRQyxJQUFJLDJCQUE0Qk4sR0FDeENLLFFBQVFDLElBQUksaUJBQWtCMTJCLE9BQU84USxLQUFLc2xCLEVBQWlCZ0IsY0FFM0QsSUFBSyxNQUFNRixLQUFZbDNCLE9BQU84USxLQUFLc2xCLEVBQWlCZ0IsYUFBYyxDQUM5RFgsUUFBUUMsSUFBSSxvQ0FBcUNRLEdBQ2pELE1BQU0yRCxFQUFpQixHQUN2QnBFLFFBQVFDLElBQUksZ0NBQWlDTixFQUFpQmdCLGFBQzlEWCxRQUFRQyxJQUFJLDBDQUEyQ04sRUFBaUJnQixZQUFZRixJQUNwRlQsUUFBUUMsSUFBSSxzREFBdUROLEVBQWlCZ0IsWUFBWUYsR0FBVUUsYUFDMUdYLFFBQVFDLElBQUksbUVBQW9FMTJCLE9BQU84USxLQUFLc2xCLEVBQWlCZ0IsWUFBWUYsR0FBVUUsY0FFbkksSUFBSyxNQUFNMEQsS0FBaUI5NkIsT0FBTzhRLEtBQUtzbEIsRUFBaUJnQixZQUFZRixHQUFVRSxhQUMzRVgsUUFBUUMsSUFBSSxpQkFBa0JvRSxHQUM5QkQsRUFBZTl5QixLQUFLK3lCLEdBRXhCckUsUUFBUUMsSUFBSSw4QkFBK0JtRSxHQUMzQ0EsRUFBZUUsT0FDZnRFLFFBQVFDLElBQUksNkJBQThCbUUsR0FDMUMsTUFBTUcsRUFBdUIsR0FFN0IsSUFBSyxNQUFNRixLQUFpQkQsRUFBZ0IsQ0FDeEMsTUFBTUksRUFBc0JDLEVBQWtCOUUsRUFBaUJnQixZQUFZRixHQUFVRSxZQUFZMEQsSUFDakdyRSxRQUFRQyxJQUFJLHVCQUF3QnVFLEdBQ3BDRCxFQUFxQkYsR0FBaUJHLEVBRTFDeEUsUUFBUUMsSUFBSSx3QkFBeUJzRSxHQUNyQ3ZFLFFBQVFDLElBQUksc0RBQXVETixFQUFpQmdCLFlBQVlGLEdBQVVJLE9BQzFHbEIsRUFBaUJnQixZQUFZRixHQUFVSSxNQUFRNkQsRUFBdUIvRSxFQUFpQmdCLFlBQVlGLEdBQVVJLE9BQzdHbEIsRUFBaUJnQixZQUFZRixHQUFZLENBQ3JDRSxZQUFhNEQsRUFDYjFELE1BQU9sQixFQUFpQmdCLFlBQVlGLEdBQVVJLE9BR3RELE9BQU9sQixFQUdYLFNBQVM4RSxFQUFrQnBELEdBQ3ZCLE9BQU9zRCxFQUF5QnRELEdBR3BDLFNBQWdCc0QsRUFBeUJDLEdBQ3JDLE1BQU1DLEVBQVksR0FDWnhxQixFQUFPOVEsT0FBTzhRLEtBQUt1cUIsR0FFekJ2cUIsRUFBS2lxQixNQUFLLENBQUNRLEVBQU1DLEtBQ2JELEVBQU9BLEVBQUtFLGdCQUNaRCxFQUFPQSxFQUFLQyxnQkFFQSxFQUVSRixFQUFPQyxFQUNBLEVBR0osSUFHWCxJQUFLLE1BQU12ZCxLQUFTbk4sRUFBTSxDQUN0QixNQUFNNE4sRUFBTTVOLEVBQUttTixHQUVTLGlCQUFmb2QsRUFBTzNjLElBQXNCMmMsRUFBTzNjLGFBQWdCdmUsTUFHM0RtN0IsRUFBVTVjLEdBQU8yYyxFQUFPM2MsR0FGeEI0YyxFQUFVNWMsR0FBTzBjLEVBQXlCQyxFQUFPM2MsSUFNekQsT0FBTzRjLEVBR1gsU0FBZ0JILEVBQXVCN0QsR0FDbkMsTUFBTyxDQUNITyxPQUFRUCxFQUFNTyxPQUNkTyxNQUFPZCxFQUFNYyxNQUNiYixVQUFXRCxFQUFNQyxVQUNqQm1FLEtBQU1wRSxFQUFNb0UsTUEyQmIva0IsZUFBZWdsQixFQUFVQyxFQUE0QkMsRUFBeUJDLEdBQ2pGLE1BQU1DLEVBQVcsSUFBSUQsRUFBS3JFLElBQUlrQyxTQUFTLEVBQUFoQixlQUFnQmtELEdBQ2pERyxRQUFpQkQsRUFBU3pCLFFBQVEyQixrQkFBa0JMLEdBQVdyN0IsT0FDckUsS0FBSXk3QixFQUFTbjFCLE9BQVMsR0FXbEIsT0FBT0ssUUFBUVgsUUFBUSxNQVZ2QixJQUVJLE1BQU0yMUIsUUFBa0JILEVBQVN6QixRQUFRNkIsU0FBU0gsRUFBU0EsRUFBU24xQixPQUFTLElBQUl0RyxPQUUzRTY3QixFQUFlN0YsS0FBS0MsTUFBTXNGLEVBQUszQixNQUFNa0MsUUFBUUgsRUFBVUksT0FDN0QsT0FBT3AxQixRQUFRWCxRQUFRNjFCLEdBQ3pCLE1BQU92NkIsR0FDTCxPQUFPcUYsUUFBUVgsUUFBUSxPQWlCbkMsU0FBZ0JnMkIsRUFBbUJDLEdBQy9CLE9BQU9wQixFQUF5Qm9CLEdBeGNwQyxxQ0FBTzdsQixlQUFrRHlmLEVBQXFDQyxFQUFpQm9HLEVBQTZDQyxFQUF1QnBHLEdBQy9LLE1BQU13RixFQUFPLElBQUksVUFBS3pGLEdBQ2hCc0csRUF5Y1YsU0FBcUN2RixFQUFnQ3FGLEdBQ2pFLE1BQU1HLEVBQWdELENBQ2xEQyxTQUFTLEVBQ1RDLFlBQWEsSUFHakIsSUFBSyxNQUFNQyxLQUF1Qk4sRUFBcUJyRixZQUFhLENBQ2hFLElBQUk0RixHQUEwQixFQUs5QixHQUpJUCxFQUFxQlEsa0JBQ3JCRCxJQUE0QlAsRUFBcUJRLGdCQUFnQlgsS0FBS3RiLE1BQUtoYSxHQUFLQSxJQUFNKzFCLEVBQW9CcmUsT0FHMUdxZSxFQUFvQkcsV0FBYUYsRUFBeUIsQ0FDckQ3OEIsTUFBTWdOLFFBQVE0dkIsRUFBb0I3RixZQUNuQzZGLEVBQW9CN0YsU0FBVyxDQUFDNkYsRUFBb0I3RixXQUV4RCxJQUFJaUcsR0FBUSxFQUNaLElBQUssTUFBTWpHLEtBQVk2RixFQUFvQjdGLFNBQ25DRSxFQUFZQSxZQUFZRixJQUN4QkUsRUFBWUEsWUFBWUYsR0FBVUUsYUFDbENBLEVBQVlBLFlBQVlGLEdBQVVFLFlBQVkyRixFQUFvQnJlLE9BR2xFeWUsR0FBUSxHQUdYQSxJQUNEUCxFQUFZQyxTQUFVLEVBQ3RCRCxFQUFZRSxZQUFZLzBCLEtBQUtnMUIsS0FLekMsR0FBSU4sRUFBcUJRLGdCQUFpQixDQUN0QyxNQUFNRyxFQUFZcDlCLE9BQU84USxLQUFLc21CLEVBQVlBLGFBQ3BDeUQsRUFBaUI0QixFQUFxQlEsZ0JBQWdCWCxLQUM1RCxJQUFJZSxFQUFtQixFQUN2QixJQUFLLE1BQU1uRyxLQUFZa0csRUFDbkIsSUFBSyxNQUFNdEMsS0FBaUJELEVBQ3BCekQsRUFBWUEsWUFBWUYsSUFDeEJFLEVBQVlBLFlBQVlGLEdBQVVFLGFBQ2xDQSxFQUFZQSxZQUFZRixHQUFVRSxZQUFZMEQsSUFHOUN1QyxJQUlSQSxFQUFtQlosRUFBcUJRLGdCQUFnQkssU0FDeERWLEVBQVlDLFNBQVUsRUFDdEJELEVBQVlXLGVBQWlCLDBDQUEwQ0YsK0JBQThDWixFQUFxQlEsZ0JBQWdCSyxVQUdsSyxPQUFPVixFQTlmc0JZLENBQTRCcEgsRUFBa0JxRyxHQUMzRSxJQUFLRSxFQUFxQkUsUUFFdEIsT0FEQUYsRUFBcUJ2RixZQUFjaEIsRUFDNUJ1RyxFQUVYLE1BQU05NEIsUUFBZXN5QixFQUFxQkMsRUFBa0JDLEVBQVNDLEdBRXJFLElBQUt6eUIsRUFBT2kxQixNQUNSLE9BQU9qMUIsRUFHWCxJQUFLLE1BQU15MUIsS0FBT29ELEVBQ1RaLEVBQUszQixNQUFNc0QsVUFBVW5FLEtBQ3RCN0MsUUFBUTUwQixNQUFNLHFCQUFxQnkzQiw0Q0FDbkNvRCxFQUFjQSxFQUFZNWMsUUFBTzlZLEdBQUtBLElBQU1zeUIsS0FHcEQsR0FBSW9ELEVBQVk3MUIsT0FBUyxFQUFHLENBQ3hCLE1BQU1pd0IsRUFBYSxHQUNuQixJQUFJQyxFQUF5QixFQUN6QkMsRUFBb0IsRUFDeEIsTUFBTUMsRUFBcUIsR0FDM0IsSUFBSyxNQUFPQyxLQUFjbDNCLE9BQU9tM0IsUUFBUWYsRUFBaUJnQixhQUN0RCxJQUFLLE1BQU9zRyxFQUFzQjVGLEtBQWU5M0IsT0FBT20zQixRQUFRZixFQUFpQmdCLFlBQVlGLEdBQVVFLGFBQWMsQ0FDakhKLElBQ0EsTUFBTXVCLEVBQTJCVCxFQUFXVSxPQUFPL0YsR0FBR2dHLE1BQU0sS0FBSyxHQUNqRSxJQUFJa0YsR0FBYSxFQUNiQyxFQUFxQixLQUNyQkMsRUFBZ0MsS0FDaENDLEdBQXNCLEVBQzFCLElBQUssTUFBTXhFLEtBQU9vRCxFQUFhLENBQzNCLE1BQU1yRCxFQUFhdkMsRUFBVzlWLE1BQUtoYSxHQUFLQSxFQUFFdXhCLDJCQUE2QkEsR0FBNEJ2eEIsRUFBRXN5QixNQUFRQSxJQUM3RyxJQUFJeUUsRUFBUSxLQU9aLEdBTkkxRSxFQUNBMEUsRUFBUTFFLEVBQVcwRSxPQUVuQkEsUUFBY3BDLEVBQVVwRCxFQUEwQmUsRUFBS3dDLEdBQ3ZEaEYsRUFBVy91QixLQUFLLENBQUV3d0IseUJBQUFBLEVBQTBCZSxJQUFBQSxFQUFLeUUsTUFBQUEsS0FFakRBLEVBR0EsR0FGQUQsR0FBc0IsRUFDTSxJQUFJOUosS0FBSytKLEVBQU03RixnQkFDakIsSUFBSWxFLEtBQVEsQ0FDbEMsTUFBTWdLLEVBQTZCRCxFQUFNanRCLEtBQ3pDK3NCLEVBQWdDRyxFQUNoQyxNQUFNQyxFQUF3QixHQUFHbkcsRUFBV1osWUFBWXdHLElBQ3hELElBQUtNLEVBQTJCL3ZCLFNBQVNnd0IsR0FBd0IsQ0FDN0RMLEVBQXFCSyxFQUNyQnhILFFBQVFDLElBQUksWUFBWTRDLGtDQUFvQzJFLHdCQUM1RCxNQUVKLElBQUtMLEVBQW9CLENBQ3JCN0csSUFDQTRHLEdBQWEsRUFDYixZQUdKMUcsRUFBbUJsdkIsS0FBSyxDQUNwQit2QixXQUFBQSxFQUNBZ0IsT0FBTyxFQUNQZCxLQUFNLEdBQ05oSyxRQUFTLG1CQUtyQjhQLEVBQ0E3RyxFQUFtQmx2QixLQUFLLENBQ3BCK3ZCLFdBQUFBLEVBQ0FnQixPQUFPLEVBQ1BkLEtBQU0sR0FDTmhLLFFBQVMsMENBQTBDME8sT0FJdkRrQixHQUF1QkQsR0FDdkIxRyxFQUFtQmx2QixLQUFLLENBQ3BCK3ZCLFdBQUFBLEVBQ0FnQixPQUFPLEVBQ1BkLEtBQU0sR0FDTmhLLFFBQVMsK0JBQStCNFAsZ0VBQWlGQyxFQUE4QnhKLEtBQUssVUFRNUssT0FGQW9DLFFBQVFDLElBQUksd0NBQXlDSyxHQUNyRE4sUUFBUUMsSUFBSSxtQ0FBb0NNLEdBQzVDRCxJQUEyQkMsRUFDcEIsQ0FDSEksWUFBYWhCLEVBQWlCZ0IsWUFDOUIwQixPQUFPLEVBQ1BkLEtBQU0sRUFDTmhLLFFBQVMsbUJBQ1QyTyxxQkFBQUEsR0FHRyxDQUNIN0QsT0FBTyxFQUNQZCxLQUFNLEVBQ05oSyxRQUFTLHNCQUNUaUosbUJBQUFBLEdBSVIsTUFBTyxDQUNINkIsT0FBTyxFQUNQZCxLQUFNLEdBQ05oSyxRQUFTLGlDQU1yQix5QkEwSEEsaUNBU0EsbUNBYUEsd0JBb0NBLDJCQVNBLGVBSUEsa0JBU0EsK0JBK0NBLDZCQThCQSwyQkFTQSwwQkFBK0I4SixFQUF5Qm9HLEdBT3BELE1BTDBCLGlCQUFmcEcsSUFDUEEsRUFBYXZCLEtBQUtDLE1BQU1zQixJQUU1QkEsRUFBYW9ELEVBQWtCcEQsSUFDbEIsSUFBSSxXQUNMTCxJQUFJQyxTQUFTeUcsS0FBSzVILEtBQUtJLFVBQVVtQixHQUFhb0csR0FBWTNHLFdBRzFFLGdDQUFxQ25CLEVBQXFDOEgsR0FFdEMsaUJBQXJCOUgsSUFDUEEsRUFBbUJHLEtBQUtDLE1BQU1KLElBRWxDSyxRQUFRQyxJQUFJLCtCQUFnQ0gsS0FBS0ksVUFBVVAsSUFDM0RBLEVBQW1CUSxFQUF3QlIsR0FDM0NLLFFBQVFDLElBQUksOEJBQStCSCxLQUFLSSxVQUFVUCxJQUMxRCxNQUFNMEYsRUFBTyxJQUFJLFVBRWpCLE9BREFyRixRQUFRQyxJQUFJLHVCQUF3QkgsS0FBS0ksVUFBVVAsSUFDNUMwRixFQUFLckUsSUFBSUMsU0FBU3lHLEtBQUs1SCxLQUFLSSxVQUFVUCxHQUFtQjhILEdBQVkzRyxXQUdoRixjQWtCQSwyQkFBZ0NpRixFQUEyQjBCLEdBT3ZELE1BTDJCLGlCQUFoQjFCLElBQ1BBLEVBQWNqRyxLQUFLQyxNQUFNZ0csSUFFN0JBLEVBQWNELEVBQW1CQyxJQUNwQixJQUFJLFdBQ0wvRSxJQUFJQyxTQUFTeUcsS0FBSzVILEtBQUtJLFVBQVU2RixHQUFjMEIsR0FBWTNHLFdBRzNFLDZkQ2xkQSxnQkFHQSxVQU9BLElBQWE2RyxFQUFiLE1BRUN6bkIsdUJBQXVCeWYsRUFBcUNDLEVBQWlCQyxHQUN0RSxPQUFPLElBQUFILHNCQUFxQkMsRUFBa0JDLEVBQVNDLEdBRzlEM2YscUNBQXFDeWYsRUFBcUNDLEVBQWlCb0csRUFBNkNDLEVBQXVCcEcsR0FDeEosT0FBTyxJQUFBK0gsb0NBQW1DakksRUFBa0JDLEVBQVNvRyxFQUFzQkMsRUFBYXBHLEdBRzVHZ0ksZUFBZXhHLEVBQXlCb0csR0FDcEMsT0FBTyxJQUFBSSxnQkFBZXhHLEVBQVlvRyxHQUd0Q0sscUJBQXFCekcsRUFBK0JvRyxHQUNoRCxPQUFPLElBQUFLLHNCQUFxQnpHLEVBQVlvRyxHQUc1Q00sZ0JBQWdCaEMsRUFBMkIwQixHQUV2QyxPQURBekgsUUFBUUMsSUFBSSx5Q0FDTCxJQUFBOEgsaUJBQWdCaEMsRUFBYTBCLEtBcEIvQkUsRUFBb0IsSUFEaEMsSUFBQUssZUFDWUwsR0FBQSxFQUFBQSxxQkFBQUEsK25CQ1ZiLG1CQUNBLFVBQ0EsYUFJQSx3QkFDSU0sU0FDQUMsb0JBTUFDLHVCQUF1QkQsR0FDbkI5K0IsS0FBSzgrQixvQkFBc0JBLEVBTS9CRSx1QkFBdUJuRCxHQUduQixHQUZBakYsUUFBUUMsSUFBSSxzQ0FBdUM3MkIsS0FBSzgrQixvQkFBb0JHLGFBQzVFckksUUFBUUMsSUFBSSxzQ0FBdUM3MkIsS0FBSzgrQixvQkFBb0JJLGFBQ3hFbC9CLEtBQUs4K0Isb0JBQW9CRyxZQUFhLENBQ3RDckksUUFBUUMsSUFBSSxZQUNaLE1BRU1zSSxFQUFXLEdBRkpuM0IsS0FBS28zQixNQUFNakwsS0FBS2hzQixNQUFRLEtBQ2xCbkksS0FBSzgrQixvQkFBb0JPLGtCQUNIeEQsSUFDbkM1RCxFQUFhcUgsRUFBT0MsV0FBVyxPQUFRdi9CLEtBQUs4K0Isb0JBQW9CVSxZQUFZQyxPQUFPTixFQUFTNUssWUFBWW1MLE9BQU8sVUFHckgsT0FGQTlJLFFBQVFDLElBQUksWUFBYXNJLEdBQ3pCdkksUUFBUUMsSUFBSSxjQUFlb0IsR0FDcEIsQ0FDSDBILHFCQUFzQixFQUN0QkMsV0FBWSxDQUFDLENBQ1RDLEtBQU0sQ0FBQzcvQixLQUFLOCtCLG9CQUFvQmdCLFNBQ2hDN0gsV0FBQUEsRUFDQWtILFNBQUFBLEtBR0wsR0FBSW4vQixLQUFLOCtCLG9CQUFvQkksWUFFaEMsT0FEQXRJLFFBQVFDLElBQUksWUFDTCxDQUNIK0ksV0FBWSxDQUFDLENBQ1RDLEtBQU0sQ0FBQzcvQixLQUFLOCtCLG9CQUFvQmlCLFlBVXpDQyxZQUFZQyxHQUNmckosUUFBUUMsSUFBSSw4QkFDWjcyQixLQUFLNitCLFNBQVcsSUFBSXFCLEVBQVVDLE9BQU8sQ0FBRUYsT0FBQUEsSUFFdkMsTUFBTUcsRUFBUyxDQUFDQyxFQUE2QmxTLEtBQ3pDa1MsRUFBWWpULEtBQUtzSixLQUFLSSxVQUFVM0ksS0FHcENudUIsS0FBSzYrQixTQUFTblYsR0FBRyxjQUFlNFcsSUFDNUJBLEVBQUdDLE1BQU8sVUFDVkQsRUFBRzdHLElBQU0sS0FDVDZHLEVBQUdFLE1BQU8sRUFDVkYsRUFBR0csZUFBZ0IsRUFDbkJILEVBQUdJLFVBQVksS0FFZkosRUFBRzVXLEdBQUcsU0FBVXBsQixRQUtoQmc4QixFQUFHNVcsR0FBRyxXQUFZaVgsSUFDZCxJQUFJbEUsRUFHSixJQUNJQSxFQUFPL0YsS0FBS0MsTUFBTWdLLEdBQ3BCLE1BQU9uMEIsR0FDTG9xQixRQUFRQyxJQUFJLGdCQUNaNEYsRUFBTyxHQUVYLE1BQU0sS0FBRVosRUFBSSxNQUFFK0UsRUFBSyxLQUFFSixFQUFJLE1BQUVLLEVBQUssT0FBRUMsRUFBTSxVQUFFQyxHQUFjdEUsRUFDeEQsT0FBUVosR0FFSixJQUFLLE9BRUkrRSxHQVFETixFQUFHRyxlQUFnQixFQUNuQkwsRUFBT0UsRUFBSSxDQUNQekUsS0FBTSxPQUNObUIsU0FBUyxFQUNUN08sUUFBUywrQkFYYmlTLEVBQU9FLEVBQUksQ0FDUHpFLEtBQU0sT0FDTm1CLFNBQVMsRUFDVDdPLFFBQVMsNkJBV2pCLE1BQ0osSUFBSyxPQUVEbVMsRUFBR0UsTUFBTyxFQUNWSixFQUFPRSxFQUFJLENBQ1B6RSxLQUFNLE9BQ05tQixTQUFTLEVBQ1Q3TyxRQUFTLG9CQUFzQm1TLEVBQUdDLEtBQ2xDQSxLQUFNRCxFQUFHQyxLQUNUUyx1QkFBd0JoaEMsS0FBS2cvQix1QkFBdUIsVUFFeEQsTUFDSixJQUFLLE9BR0RvQixFQUFPRSxFQUFJLENBQ1B6RSxLQUFNLFNBRVYsTUFDSixJQUFLLFVBQVcsQ0FFWixNQUFNb0YsRUFBUSxJQUFJamhDLEtBQUs2K0IsU0FBU3FDLFNBQVNqaEIsUUFBUWtoQixHQUN0Q0EsRUFBT1osT0FBU0MsR0FBNkIsT0FBckJXLEVBQU9ULFlBQXNDLElBQWhCUyxFQUFPWCxPQUdsRCxJQUFqQlMsRUFBTWo2QixRQUVObzVCLEVBQU9hLEVBQU0sR0FBSSxDQUNicEYsS0FBTSxZQUNObUIsU0FBUyxFQUNUN08sUUFBUyxvQkFBc0JtUyxFQUFHQyxLQUNsQ0EsS0FBTUQsRUFBR0MsS0FDVFMsdUJBQXdCaGhDLEtBQUtnL0IsdUJBQXVCLFVBSXhEb0IsRUFBT0UsRUFBSSxDQUNQekUsS0FBTSxZQUNObUIsU0FBUyxFQUNUN08sUUFBUyxnQkFBa0JxUyxFQUMzQlEsdUJBQXdCaGhDLEtBQUtnL0IsdUJBQXVCLFlBSXhEc0IsRUFBR0ksVUFBWU8sRUFBTSxHQUFHVixLQUN4QlUsRUFBTSxHQUFHUCxVQUFZSixFQUFHQyxNQUV4QkgsRUFBT0UsRUFBSSxDQUNQekUsS0FBTSxZQUNObUIsU0FBUyxFQUNUN08sUUFBUyx3QkFBMEJxUyxJQUczQyxNQUVKLElBQUssUUFFRCxHQUFvQixNQUFoQkYsRUFBR0ksV0FBcUIxZ0MsS0FBSzYrQixTQUFTcUMsUUFBUUUsS0FBTyxFQUFHLENBRXhELE1BQU1DLEVBQWEsSUFBSXJoQyxLQUFLNitCLFNBQVNxQyxTQUFTamhCLFFBQVFraEIsR0FDM0NBLEVBQU9ULFlBQWNKLEVBQUdDLE9BR1QsSUFBdEJjLEVBQVdyNkIsUUFDWG81QixFQUFPaUIsRUFBVyxHQUFJLENBQ2xCeEYsS0FBTSxRQUNObUIsU0FBUyxFQUNUNkQsTUFBQUEsSUFFSlQsRUFBT0UsRUFBSSxDQUNQekUsS0FBTSxRQUNObUIsU0FBUyxFQUNUNkQsTUFBQUEsS0FHSlQsRUFBT0UsRUFBSSxDQUNQekUsS0FBTSxRQUNObUIsU0FBUyxFQUNUNkQsTUFBQUEsRUFDQTFTLFFBQVMsK0JBSWpCaVMsRUFBT0UsRUFBSSxDQUNQekUsS0FBTSxRQUNObUIsU0FBUyxFQUNUNkQsTUFBQUEsRUFDQTFTLFFBQVMsZ0JBR2pCLE1BQ0osSUFBSyxTQUVELEdBQW9CLE1BQWhCbVMsRUFBR0ksVUFBbUIsQ0FFdEIsTUFBTVcsRUFBYSxJQUFJcmhDLEtBQUs2K0IsU0FBU3FDLFNBQVNqaEIsUUFBUWtoQixHQUMzQ0EsRUFBT1QsWUFBY0osRUFBR0MsT0FHVCxJQUF0QmMsRUFBV3I2QixRQUNYbzVCLEVBQU9pQixFQUFXLEdBQUksQ0FDbEJ4RixLQUFNLFNBQ05tQixTQUFTLEVBQ1Q4RCxPQUFBQSxJQUVKVixFQUFPRSxFQUFJLENBQ1B6RSxLQUFNLFNBQ05tQixTQUFTLEVBQ1Q4RCxPQUFBQSxLQUdKVixFQUFPRSxFQUFJLENBQ1B6RSxLQUFNLFNBQ05tQixTQUFTLEVBQ1Q4RCxPQUFBQSxFQUNBM1MsUUFBUywrQkFJakJpUyxFQUFPRSxFQUFJLENBQ1B6RSxLQUFNLFNBQ05tQixTQUFTLEVBQ1Q4RCxPQUFBQSxFQUNBM1MsUUFBUyxnQkFHakIsTUFDSixJQUFLLFlBRUQsR0FBb0IsTUFBaEJtUyxFQUFHSSxVQUFtQixDQUV0QixNQUFNVyxFQUFhLElBQUlyaEMsS0FBSzYrQixTQUFTcUMsU0FBU2poQixRQUFRa2hCLEdBQzNDQSxFQUFPVCxZQUFjSixFQUFHQyxPQUdULElBQXRCYyxFQUFXcjZCLE9BQ1hvNUIsRUFBT2lCLEVBQVcsR0FBSSxDQUNsQnhGLEtBQU0sWUFDTm1CLFNBQVMsRUFDVCtELFVBQUFBLElBR0pYLEVBQU9FLEVBQUksQ0FDUHpFLEtBQU0sWUFDTm1CLFNBQVMsRUFDVCtELFVBQUFBLEVBQ0E1UyxRQUFTLCtCQUlqQmlTLEVBQU9FLEVBQUksQ0FDUHpFLEtBQU0sWUFDTm1CLFNBQVMsRUFDVCtELFVBQUFBLEVBQ0E1UyxRQUFTLGdCQUdqQixNQUNKLElBQUssUUFDRCxHQUFvQixNQUFoQm1TLEVBQUdJLFVBQW1CLENBQ3RCLE1BQU1RLEVBQVUsSUFBSWxoQyxLQUFLNitCLFNBQVNxQyxTQUFTamhCLFFBQVFraEIsR0FDeENBLEVBQU9ULFlBQWNKLEVBQUdDLE9BR25DRCxFQUFHQyxNQUFPLFVBRWEsSUFBbkJXLEVBQVFsNkIsUUFDUm81QixFQUFPYyxFQUFRLEdBQUksQ0FDZnJGLEtBQU0sUUFDTm1CLFNBQVMsRUFDVDdPLFFBQVMscUNBR2IrUyxFQUFRLEdBQUdSLFVBQVksS0FFdkJOLEVBQU9FLEVBQUksQ0FDUHpFLEtBQU0sUUFDTm1CLFNBQVMsRUFDVDdPLFFBQVMsbUJBQ1RvUyxLQUFNRCxFQUFHQyxRQUdiSCxFQUFPRSxFQUFJLENBQ1B6RSxLQUFNLFFBQ05tQixTQUFTLEVBQ1Q3TyxRQUFTLHdCQUNUb1MsS0FBTUQsRUFBR0MsT0FHakJELEVBQUdJLFVBQVksVUFFZkosRUFBR0MsTUFBTyxVQUNWSCxFQUFPRSxFQUFJLENBQ1B6RSxLQUFNLFFBQ05tQixTQUFTLEVBQ1Q3TyxRQUFTLGdDQUNUb1MsS0FBTUQsRUFBR0MsT0FHakIsTUFDSixRQUNJSCxFQUFPRSxFQUFJLENBQ1B6RSxLQUFNLFFBQ04xTixRQUFTLHNCQUF3QjBOLFFBTWpEeUUsRUFBRzVXLEdBQUcsU0FBUyxDQUFDNFgsRUFBWUMsRUFBY0osS0FDdEMsR0FBdUIsTUFBbkJHLEVBQU1aLFVBQW1CLENBQ3pCLE1BQU1RLEVBQVUsSUFBSWxoQyxLQUFLNitCLFNBQVNxQyxTQUFTamhCLFFBQVF1aEIsR0FDeENBLEVBQVVkLFlBQWNZLEVBQU1mLE9BR2xCLElBQW5CVyxFQUFRbDZCLFNBQ1JvNUIsRUFBT2MsRUFBUSxHQUFJLENBQ2ZyRixLQUFNLFFBQ05tQixTQUFTLEVBQ1Q3TyxRQUFTLHVDQUViK1MsRUFBUSxHQUFHUixVQUFZLE1BRTNCWSxFQUFNWixVQUFZLFNBSTFCSixFQUFHbFQsS0FDQ3NKLEtBQUtJLFVBQVUsQ0FDWCtFLEtBQU0sVUFDTjFOLFFBQVMsOENBQ1Q2TyxTQUFTLEtBR2pCcEcsUUFBUUMsSUFBSSw0QkFBNkJ5SixFQUFHQyxrR0NoVjNDLEVBQUF6SCxlQUE0QixDQUNyQyxDQUNJMkksVUFBVSxFQUNWelEsT0FBUSxDQUNKLENBQ0k1QyxLQUFNLE9BQ055TixLQUFNLFlBR2R6TixLQUFNLGdCQUNOc1QsUUFBUyxDQUNMLENBQ0l0VCxLQUFNLFVBQ055TixLQUFNLFlBR2Q4RixTQUFTLEVBQ1RDLGdCQUFpQixPQUNqQi9GLEtBQU0sWUFFVixDQUNJNEYsVUFBVSxFQUNWelEsT0FBUSxDQUNKLENBQ0k1QyxLQUFNLE9BQ055TixLQUFNLFlBR2R6TixLQUFNLFNBQ05zVCxRQUFTLENBQ0wsQ0FDSXRULEtBQU0sVUFDTnlOLEtBQU0sV0FFVixDQUNJek4sS0FBTSxVQUNOeU4sS0FBTSxXQUVWLENBQ0l6TixLQUFNLE1BQ055TixLQUFNLFlBR2Q4RixTQUFTLEVBQ1RDLGdCQUFpQixPQUNqQi9GLEtBQU0sWUFFVixDQUNJNEYsVUFBVSxFQUNWelEsT0FBUSxDQUNKLENBQ0k1QyxLQUFNLE9BQ055TixLQUFNLFdBRVYsQ0FDSXpOLEtBQU0sV0FDTnlOLEtBQU0sV0FFVixDQUNJek4sS0FBTSxRQUNOeU4sS0FBTSxZQUdkek4sS0FBTSxTQUNOc1QsUUFBUyxDQUNMLENBQ0l0VCxLQUFNLFVBQ055TixLQUFNLFNBR2Q4RixTQUFTLEVBQ1RDLGdCQUFpQixhQUNqQi9GLEtBQU0sWUFFVixDQUNJNEYsVUFBVSxFQUNWelEsT0FBUSxDQUNKLENBQ0k1QyxLQUFNLGFBQ055TixLQUFNLFlBR2R6TixLQUFNLG9CQUNOc1QsUUFBUyxDQUNMLENBQ0l0VCxLQUFNLFdBQ055TixLQUFNLGNBR2Q4RixTQUFTLEVBQ1RDLGdCQUFpQixPQUNqQi9GLEtBQU0sWUFFVixDQUNJNEYsVUFBVSxFQUNWelEsT0FBUSxDQUNKLENBQ0k1QyxLQUFNLFdBQ055TixLQUFNLFlBR2R6TixLQUFNLGNBQ05zVCxRQUFTLENBQ0wsQ0FDSXRULEtBQU0sVUFDTnlOLEtBQU0sU0FHZDhGLFNBQVMsRUFDVEMsZ0JBQWlCLGFBQ2pCL0YsS0FBTSxZQUVWLENBQ0k0RixVQUFVLEVBQ1Z6USxPQUFRLENBQ0osQ0FDSTVDLEtBQU0sTUFDTnlOLEtBQU0sV0FFVixDQUNJek4sS0FBTSxXQUNOeU4sS0FBTSxTQUdkek4sS0FBTSxVQUNOc1QsUUFBUyxDQUNMLENBQ0l0VCxLQUFNLFVBQ055TixLQUFNLFNBR2Q4RixTQUFTLEVBQ1RDLGdCQUFpQixhQUNqQi9GLEtBQU0sWUFFVixDQUNJNEYsVUFBVSxFQUNWelEsT0FBUSxDQUNKLENBQ0k1QyxLQUFNLE9BQ055TixLQUFNLFlBR2R6TixLQUFNLFlBQ05zVCxRQUFTLENBQ0wsQ0FDSXRULEtBQU0sVUFDTnlOLEtBQU0sU0FHZDhGLFNBQVMsRUFDVEMsZ0JBQWlCLGFBQ2pCL0YsS0FBTSxZQUVWLENBQ0k0RixVQUFVLEVBQ1Z6USxPQUFRLENBQ0osQ0FDSTVDLEtBQU0sV0FDTnlOLEtBQU0sWUFHZHpOLEtBQU0sbUJBQ05zVCxRQUFTLENBQ0wsQ0FDSXRULEtBQU0sUUFDTnlOLEtBQU0sY0FHZDhGLFNBQVMsRUFDVEMsZ0JBQWlCLE9BQ2pCL0YsS0FBTSxZQUVWLENBQ0k0RixVQUFVLEVBQ1Z6USxPQUFRLENBQ0osQ0FDSTVDLEtBQU0sYUFDTnlOLEtBQU0sV0FFVixDQUNJek4sS0FBTSxVQUNOeU4sS0FBTSxXQUVWLENBQ0l6TixLQUFNLFVBQ055TixLQUFNLFdBRVYsQ0FDSXpOLEtBQU0sYUFDTnlOLEtBQU0sU0FFVixDQUNJek4sS0FBTSxRQUNOeU4sS0FBTSxTQUVWLENBQ0l6TixLQUFNLE9BQ055TixLQUFNLFdBR2R6TixLQUFNLFdBQ05zVCxRQUFTLENBQ0wsQ0FDSXRULEtBQU0saUJBQ055TixLQUFNLFlBR2Q4RixTQUFTLEVBQ1RDLGdCQUFpQixhQUNqQi9GLEtBQU0sWUFFVixDQUNJNEYsVUFBVSxFQUNWelEsT0FBUSxDQUNKLENBQ0k1QyxLQUFNLE1BQ055TixLQUFNLFdBRVYsQ0FDSXpOLEtBQU0sU0FDTnlOLEtBQU0sV0FFVixDQUNJek4sS0FBTSxRQUNOeU4sS0FBTSxVQUdkek4sS0FBTSxVQUNOc1QsUUFBUyxDQUNMLENBQ0l0VCxLQUFNLGNBQ055TixLQUFNLFlBR2Q4RixTQUFTLEVBQ1RDLGdCQUFpQixhQUNqQi9GLEtBQU0sWUFFVixDQUNJNEYsVUFBVSxFQUNWelEsT0FBUSxDQUNKLENBQ0k1QyxLQUFNLFdBQ055TixLQUFNLFlBR2R6TixLQUFNLFdBQ05zVCxRQUFTLENBQ0wsQ0FDSXRULEtBQU0sWUFDTnlOLEtBQU0sV0FFVixDQUNJek4sS0FBTSxTQUNOeU4sS0FBTSxXQUVWLENBQ0l6TixLQUFNLFNBQ055TixLQUFNLFdBRVYsQ0FDSXpOLEtBQU0sWUFDTnlOLEtBQU0sU0FFVixDQUNJek4sS0FBTSxPQUNOeU4sS0FBTSxTQUVWLENBQ0l6TixLQUFNLE1BQ055TixLQUFNLFdBR2Q4RixTQUFTLEVBQ1RDLGdCQUFpQixPQUNqQi9GLEtBQU0sWUFFVixDQUNJNEYsVUFBVSxFQUNWelEsT0FBUSxDQUNKLENBQ0k1QyxLQUFNLE9BQ055TixLQUFNLFdBRVYsQ0FDSXpOLEtBQU0sV0FDTnlOLEtBQU0sWUFHZHpOLEtBQU0sZ0JBQ05zVCxRQUFTLENBQ0wsQ0FDSXRULEtBQU0sU0FDTnlOLEtBQU0sU0FHZDhGLFNBQVMsRUFDVEMsZ0JBQWlCLE9BQ2pCL0YsS0FBTSxZQUVWLENBQ0lnRyxXQUFXLEVBQ1g3USxPQUFRLENBQ0osQ0FDSThRLFNBQVMsRUFDVDFULEtBQU0saUJBQ055TixLQUFNLFdBRVYsQ0FDSWlHLFNBQVMsRUFDVDFULEtBQU0sWUFDTnlOLEtBQU0sV0FFVixDQUNJaUcsU0FBUyxFQUNUMVQsS0FBTSxTQUNOeU4sS0FBTSxXQUVWLENBQ0lpRyxTQUFTLEVBQ1QxVCxLQUFNLFNBQ055TixLQUFNLFdBRVYsQ0FDSWlHLFNBQVMsRUFDVDFULEtBQU0sWUFDTnlOLEtBQU0sU0FFVixDQUNJaUcsU0FBUyxFQUNUMVQsS0FBTSxPQUNOeU4sS0FBTSxTQUVWLENBQ0lpRyxTQUFTLEVBQ1QxVCxLQUFNLE1BQ055TixLQUFNLFdBR2R6TixLQUFNLGlCQUNOeU4sS0FBTSxTQUVWLENBQ0lnRyxXQUFXLEVBQ1g3USxPQUFRLENBQ0osQ0FDSThRLFNBQVMsRUFDVDFULEtBQU0sVUFDTnlOLEtBQU0sV0FFVixDQUNJaUcsU0FBUyxFQUNUMVQsS0FBTSxZQUNOeU4sS0FBTSxXQUVWLENBQ0lpRyxTQUFTLEVBQ1QxVCxLQUFNLFNBQ055TixLQUFNLFdBRVYsQ0FDSWlHLFNBQVMsRUFDVDFULEtBQU0sZ0JBQ055TixLQUFNLFdBRVYsQ0FDSWlHLFNBQVMsRUFDVDFULEtBQU0sWUFDTnlOLEtBQU0sV0FFVixDQUNJaUcsU0FBUyxFQUNUMVQsS0FBTSxRQUNOeU4sS0FBTSxTQUVWLENBQ0lpRyxTQUFTLEVBQ1QxVCxLQUFNLE1BQ055TixLQUFNLFdBR2R6TixLQUFNLGFBQ055TixLQUFNLFNBRVYsQ0FDSWdHLFdBQVcsRUFDWDdRLE9BQVEsQ0FDSixDQUNJOFEsU0FBUyxFQUNUMVQsS0FBTSxVQUNOeU4sS0FBTSxXQUVWLENBQ0lpRyxTQUFTLEVBQ1QxVCxLQUFNLFlBQ055TixLQUFNLFdBRVYsQ0FDSWlHLFNBQVMsRUFDVDFULEtBQU0sU0FDTnlOLEtBQU0sV0FFVixDQUNJaUcsU0FBUyxFQUNUMVQsS0FBTSxTQUNOeU4sS0FBTSxXQUVWLENBQ0lpRyxTQUFTLEVBQ1QxVCxLQUFNLFlBQ055TixLQUFNLFNBRVYsQ0FDSWlHLFNBQVMsRUFDVDFULEtBQU0sT0FDTnlOLEtBQU0sU0FFVixDQUNJaUcsU0FBUyxFQUNUMVQsS0FBTSxNQUNOeU4sS0FBTSxXQUdkek4sS0FBTSxhQUNOeU4sS0FBTSxTQUVWLENBQ0lnRyxXQUFXLEVBQ1g3USxPQUFRLENBQ0osQ0FDSThRLFNBQVMsRUFDVDFULEtBQU0sVUFDTnlOLEtBQU0sV0FFVixDQUNJaUcsU0FBUyxFQUNUMVQsS0FBTSxZQUNOeU4sS0FBTSxXQUVWLENBQ0lpRyxTQUFTLEVBQ1QxVCxLQUFNLFNBQ055TixLQUFNLFdBRVYsQ0FDSWlHLFNBQVMsRUFDVDFULEtBQU0sU0FDTnlOLEtBQU0sV0FFVixDQUNJaUcsU0FBUyxFQUNUMVQsS0FBTSxZQUNOeU4sS0FBTSxTQUVWLENBQ0lpRyxTQUFTLEVBQ1QxVCxLQUFNLE9BQ055TixLQUFNLFNBRVYsQ0FDSWlHLFNBQVMsRUFDVDFULEtBQU0sTUFDTnlOLEtBQU0sV0FHZHpOLEtBQU0sZUFDTnlOLEtBQU0sU0FFVixDQUNJZ0csV0FBVyxFQUNYN1EsT0FBUSxDQUNKLENBQ0k4USxTQUFTLEVBQ1QxVCxLQUFNLFVBQ055TixLQUFNLFdBRVYsQ0FDSWlHLFNBQVMsRUFDVDFULEtBQU0sWUFDTnlOLEtBQU0sV0FFVixDQUNJaUcsU0FBUyxFQUNUMVQsS0FBTSxTQUNOeU4sS0FBTSxXQUVWLENBQ0lpRyxTQUFTLEVBQ1QxVCxLQUFNLFNBQ055TixLQUFNLFdBRVYsQ0FDSWlHLFNBQVMsRUFDVDFULEtBQU0sWUFDTnlOLEtBQU0sU0FFVixDQUNJaUcsU0FBUyxFQUNUMVQsS0FBTSxPQUNOeU4sS0FBTSxTQUVWLENBQ0lpRyxTQUFTLEVBQ1QxVCxLQUFNLE1BQ055TixLQUFNLFdBR2R6TixLQUFNLGVBQ055TixLQUFNLFNBRVYsQ0FDSWdHLFdBQVcsRUFDWDdRLE9BQVEsQ0FDSixDQUNJOFEsU0FBUyxFQUNUMVQsS0FBTSxjQUNOeU4sS0FBTSxXQUVWLENBQ0lpRyxTQUFTLEVBQ1QxVCxLQUFNLEtBQ055TixLQUFNLFdBRVYsQ0FDSWlHLFNBQVMsRUFDVDFULEtBQU0sUUFDTnlOLEtBQU0sV0FFVixDQUNJaUcsU0FBUyxFQUNUMVQsS0FBTSxPQUNOeU4sS0FBTSxVQUdkek4sS0FBTSxrQkFDTnlOLEtBQU0sU0FFVixDQUNJZ0csV0FBVyxFQUNYN1EsT0FBUSxDQUNKLENBQ0k4USxTQUFTLEVBQ1QxVCxLQUFNLE1BQ055TixLQUFNLFdBRVYsQ0FDSWlHLFNBQVMsRUFDVDFULEtBQU0sVUFDTnlOLEtBQU0sV0FFVixDQUNJaUcsU0FBUyxFQUNUMVQsS0FBTSxVQUNOeU4sS0FBTSxZQUdkek4sS0FBTSxXQUNOeU4sS0FBTSxTQUVWLENBQ0lnRyxXQUFXLEVBQ1g3USxPQUFRLENBQ0osQ0FDSThRLFNBQVMsRUFDVDFULEtBQU0sTUFDTnlOLEtBQU0sV0FFVixDQUNJaUcsU0FBUyxFQUNUMVQsS0FBTSxVQUNOeU4sS0FBTSxXQUVWLENBQ0lpRyxTQUFTLEVBQ1QxVCxLQUFNLFVBQ055TixLQUFNLFlBR2R6TixLQUFNLGFBQ055TixLQUFNLFNBRVYsQ0FDSWdHLFdBQVcsRUFDWDdRLE9BQVEsQ0FDSixDQUNJOFEsU0FBUyxFQUNUMVQsS0FBTSxjQUNOeU4sS0FBTSxXQUVWLENBQ0lpRyxTQUFTLEVBQ1QxVCxLQUFNLEtBQ055TixLQUFNLFdBRVYsQ0FDSWlHLFNBQVMsRUFDVDFULEtBQU0sUUFDTnlOLEtBQU0sV0FFVixDQUNJaUcsU0FBUyxFQUNUMVQsS0FBTSxPQUNOeU4sS0FBTSxVQUdkek4sS0FBTSxxQkFDTnlOLEtBQU0sU0FFVixDQUNJZ0csV0FBVyxFQUNYN1EsT0FBUSxDQUNKLENBQ0k4USxTQUFTLEVBQ1QxVCxLQUFNLGNBQ055TixLQUFNLFdBRVYsQ0FDSWlHLFNBQVMsRUFDVDFULEtBQU0sS0FDTnlOLEtBQU0sV0FFVixDQUNJaUcsU0FBUyxFQUNUMVQsS0FBTSxRQUNOeU4sS0FBTSxXQUVWLENBQ0lpRyxTQUFTLEVBQ1QxVCxLQUFNLE9BQ055TixLQUFNLFVBR2R6TixLQUFNLFdBQ055TixLQUFNLFNBRVYsQ0FDSWdHLFdBQVcsRUFDWDdRLE9BQVEsQ0FDSixDQUNJOFEsU0FBUyxFQUNUMVQsS0FBTSxjQUNOeU4sS0FBTSxXQUVWLENBQ0lpRyxTQUFTLEVBQ1QxVCxLQUFNLFdBQ055TixLQUFNLFNBR2R6TixLQUFNLFdBQ055TixLQUFNLDBjQzdvQmQsZ0JBQ0EsVUFFQSxVQUNBLFNBR0EsSUFBYWtHLEVBQWIsTUFDSUMsYUFDQUMsU0FDQUMsZUFBb0MsS0FDcENDLFlBQThCLEtBQzlCQyxTQUF5QixLQUN6QkMsaUJBQW1CLElBQUksRUFBQWpnQyxnQkFBZ0IsTUFDdkNrZ0MsTUFBUSxJQUFJLEVBQUFsZ0MsZ0JBQWdCLE1BQzVCbWdDLDJCQUE2QixJQUFJLEVBQUFuZ0MsZ0JBQWdCLE1BQ2pEb2dDLHlCQUEyQixJQUFJLEVBQUFwZ0MsZ0JBQWdCLE1BQy9DcWdDLDBCQUE0QixJQUFJLEVBQUFyZ0MsZ0JBQWdCLE1BQ2hENCtCLHVCQUNBMEIsa0JBQW9DLEtBQ3BDQyxrQkFBb0MsS0FDcENDLFlBQThCLEtBQzlCQyw0QkFBOEIsSUFFOUJDLGlDQUFtQyxJQUtuQ0MsWUFDSSxPQUFPL2lDLEtBQUtnaUMsYUFPaEJnQixZQUFZZixHQUNSamlDLEtBQUtpaUMsU0FBV0EsRUFRcEJnQixTQUFTbFAsRUFBZ0IwSSxHQUNqQno4QixLQUFLbWlDLGFBQStDLFNBQWhDbmlDLEtBQUttaUMsWUFBWWUsV0FDckNsakMsS0FBS21pQyxZQUFZL1UsS0FBS3NKLEtBQUtJLFVBQVUsQ0FBRS9DLE9BQUFBLEtBQVcwSSxLQUVsRDdGLFFBQVFDLElBQUksc0NBQXNDOUMsa0NBUTFEb1AsUUFBUTVDLEdBQ0p2Z0MsS0FBS3NpQyxNQUFNcmdDLEtBQUtzK0IsR0FNcEI2QyxhQUNJeE0sUUFBUUMsSUFBSSxjQUNSNzJCLEtBQUtraUMsaUJBQ0x0TCxRQUFRQyxJQUFJLHlCQUNaNzJCLEtBQUtraUMsZUFBZW1CLFNBRXBCcmpDLEtBQUttaUMsY0FDTHZMLFFBQVFDLElBQUksc0JBQ1o3MkIsS0FBS21pQyxZQUFZa0IsU0FFakJyakMsS0FBS29pQyxXQUNMeEwsUUFBUUMsSUFBSSxvQkFDWjcyQixLQUFLb2lDLFNBQVNpQixRQUNkcmpDLEtBQUtvaUMsU0FBU2tCLFFBQVUsTUFFNUJ0akMsS0FBS2tpQyxlQUFpQixLQUN0QmxpQyxLQUFLbWlDLFlBQWMsS0FDbkJuaUMsS0FBS29pQyxTQUFXLEtBQ2hCcGlDLEtBQUt1aUMsMkJBQTJCdGdDLE1BQUssR0FDckNqQyxLQUFLd2lDLHlCQUF5QnZnQyxNQUFLLEdBT3ZDc2hDLG1CQUNJM00sUUFBUUMsSUFBSSxlQUFnQjcyQixLQUFLbWlDLGFBQzdCbmlDLEtBQUttaUMsYUFBK0MsU0FBaENuaUMsS0FBS21pQyxZQUFZZSxhQUNyQ3RNLFFBQVFDLElBQUksbUNBQ1o3MkIsS0FBS21pQyxZQUFZL1UsS0FBS3NKLEtBQUtJLFVBQVUsQ0FBRS9DLE9BQVEsaUJBRW5ENkMsUUFBUUMsSUFBSSwwQ0FFWjFxQixZQUFXLEtBQ1B5cUIsUUFBUUMsSUFBSSxxQkFDWjcyQixLQUFLb2pDLGVBQ04sS0FRUHRzQixnQkFBZ0JvckIsRUFBbUNFLEdBQy9DLE1BQU12QixRQUFjcUIsRUFBZXNCLG9CQUM3QnRCLEVBQWV1QixvQkFBb0I1QyxHQUN6Q3VCLEVBQVNoVixLQUFLc0osS0FBS0ksVUFBVSxDQUN6QitFLEtBQU0sUUFDTmdGLE1BQUFBLEtBT1IvcEIsNEJBQTRCa3JCLEdBQ3hCaGlDLEtBQUtnaUMsYUFBZUEsRUFFcEIsSUFBSTBCLEVBQW9CLEtBQ3hCMWpDLEtBQUtxaUMsaUJBQW1CLElBQUksRUFBQWpnQyxnQkFBZ0IsTUFDeENwQyxLQUFLMGlDLG1CQUNMck8sYUFBYXIwQixLQUFLMGlDLG1CQUV0QjFpQyxLQUFLc2lDLE1BQVEsSUFBSSxFQUFBbGdDLGdCQUFnQixNQUNqQ3BDLEtBQUt1aUMsMkJBQTZCLElBQUksRUFBQW5nQyxnQkFBZ0IsTUFDdERwQyxLQUFLd2lDLHlCQUEyQixJQUFJLEVBQUFwZ0MsZ0JBQWdCLE1BQ3BEcEMsS0FBS3lpQywwQkFBNEIsSUFBSSxFQUFBcmdDLGdCQUFnQixNQUVyRCxJQUFJdWhDLEVBQWUzakMsS0FBS2dpQyxhQUFhMkIsYUFDaENBLElBQ0QvTSxRQUFRQyxJQUFJLG1EQUNaOE0sRUFBZSx5QkFFbkIvTSxRQUFRQyxJQUFJLGtDQUFtQzhNLEdBQy9DM2pDLEtBQUtvaUMsU0FBVyxJQUFJLEVBQUF3QixhQUFhRCxHQUVqQzNqQyxLQUFLMGlDLGtCQUFvQnYyQixZQUFXLE1BQ04sSUFBdEJ1M0IsSUFDQTFqQyxLQUFLeWlDLDBCQUEwQnhnQyxNQUFLLEdBQ3BDakMsS0FBS29pQyxTQUFTaUIsV0FFbkIsS0FDSHJqQyxLQUFLb2lDLFNBQVN5QixRQUFXN2hDLElBQ3JCNDBCLFFBQVFDLElBQUksb0JBQXNCNzBCLEVBQU11eUIsWUFDeENtUCxHQUFvQixFQUNwQjFqQyxLQUFLdWlDLDJCQUEyQnRnQyxNQUFLLEdBQ3JDakMsS0FBS3dpQyx5QkFBeUJ2Z0MsTUFBSyxHQUNuQ2pDLEtBQUt5aUMsMEJBQTBCeGdDLE1BQUssSUFFeENqQyxLQUFLb2lDLFNBQVNrQixRQUFVLEtBQ3BCMU0sUUFBUUMsSUFBSSwrQkFDWjcyQixLQUFLdWlDLDJCQUEyQnRnQyxNQUFLLEdBQ3JDakMsS0FBS3dpQyx5QkFBeUJ2Z0MsTUFBSyxJQUV2Q2pDLEtBQUtvaUMsU0FBUzBCLE9BQVMsS0FDbkJsTixRQUFRQyxJQUFJLDZCQUNaNk0sR0FBb0IsRUFDcEIxakMsS0FBS3VpQywyQkFBMkJ0Z0MsTUFBSyxHQUNyQ2pDLEtBQUt3aUMseUJBQXlCdmdDLE1BQUssSUFFdkNqQyxLQUFLb2lDLFNBQVMyQixVQUFZLE1BQU9wRCxJQUM3QixHQUFJQSxFQUFJbEUsS0FBTSxDQUVWLElBQUlBLEVBRUosSUFDSUEsRUFBTy9GLEtBQUtDLE1BQU1nSyxFQUFJbEUsTUFDeEIsTUFBT2p3QixHQUNMb3FCLFFBQVFDLElBQUksMkNBQ1o0RixFQUFPLEdBRVgsTUFBTSxLQUFFWixFQUFJLFFBQUUxTixFQUFPLFFBQUU2TyxFQUFPLEtBQUV1RCxFQUFJLE1BQUVNLEVBQUssT0FBRUMsRUFBTSxVQUFFQyxFQUFTLHVCQUFFQyxHQUEyQnZFLEVBRTNGLE9BQVFaLEdBQ0osSUFBSyxRQUVEakYsUUFBUUMsSUFBSSw4QkFBK0IxSSxHQUM1QiwyQkFBWEEsSUFDQWtHLGFBQWFyMEIsS0FBSzJpQyxtQkFDbEIzaUMsS0FBSzJpQyxrQkFBb0J4MkIsWUFBVyxLQUNoQ3lxQixRQUFRQyxJQUFJLDRCQUE0QjcyQixLQUFLOGlDLHFEQUM3QzlpQyxLQUFLb2pDLGVBQ05wakMsS0FBSzhpQyxrQ0FDUjlpQyxLQUFLZ2tDLFlBRVQsTUFDSixJQUFLLFVBR0QsR0FGQXBOLFFBQVFDLElBQUksNkJBQThCbUcsR0FFdENBLEVBQ0EsR0FBSWg5QixLQUFLZ2lDLGFBQWFpQyxPQUFRLENBQzFCck4sUUFBUUMsSUFBSSw2QkFDWixNQUFNcU4sRUFBVyxJQUNqQixJQUFJQyxFQUFRLEVBQ1osTUFBTXh1QixFQUFXc2QsYUFBWSxLQUNwQmp6QixLQUFLb2lDLFVBQ05oUCxjQUFjemQsR0FFZDNWLEtBQUtvaUMsVUFBeUMsSUFBN0JwaUMsS0FBS29pQyxTQUFTYyxZQUFvQmlCLEVBQVFELElBQzNEOVEsY0FBY3pkLEdBRWQzVixLQUFLb2lDLFNBQVNoVixLQUFLc0osS0FBS0ksVUFBVSxDQUFFK0UsS0FBTSxXQUUxQ3NJLEdBQVNELEdBQ1Q5USxjQUFjemQsR0FFbEJ3dUIsTUFDRCxRQUNBLENBQ0h2TixRQUFRQyxJQUFJLGlDQUNaLE1BQU1xTixFQUFXLElBQ2pCLElBQUlDLEVBQVEsRUFDWixNQUFNeHVCLEVBQVdzZCxhQUFZbmMsVUFDcEI5VyxLQUFLb2lDLFVBQ05oUCxjQUFjemQsR0FFZDNWLEtBQUtvaUMsVUFBeUMsSUFBN0JwaUMsS0FBS29pQyxTQUFTYyxZQUFvQmlCLEVBQVFELElBQzNEOVEsY0FBY3pkLEdBRWQzVixLQUFLb2lDLFNBQVNoVixLQUFLc0osS0FBS0ksVUFBVSxDQUFFK0UsS0FBTSxVQUFXMkUsS0FBTXhnQyxLQUFLaWlDLGFBRWhFa0MsR0FBU0QsR0FDVDlRLGNBQWN6ZCxHQUVsQnd1QixNQUNELFNBR1B2TixRQUFRQyxJQUFJLHVDQUVoQixNQUNKLElBQUssWUFDREQsUUFBUUMsSUFBSSx5Q0FBMENtSyxHQUV0RDNNLGFBQWFyMEIsS0FBSzJpQyxtQkFDbEJ0TyxhQUFhcjBCLEtBQUs0aUMsYUFDZDVCLElBQ0FoaEMsS0FBS2doQyx1QkFBeUJBLEVBQ3pCaGhDLEtBQUtnaUMsYUFBYWlDLGNBQ2Jqa0MsS0FBS29rQyxvQkFBb0Jwa0MsS0FBS2lpQyxXQUl4QzFCLEdBQVF2Z0MsS0FBS2dpQyxhQUFhaUMsU0FDMUJyTixRQUFRQyxJQUFJLDBEQUEyRDBKLFNBQ2pFdmdDLEtBQUtxa0MsVUFBVXJrQyxLQUFLa2lDLGVBQWdCbGlDLEtBQUtvaUMsV0FFbkQsTUFDSixJQUFLLE9BRUQvTixhQUFhcjBCLEtBQUsyaUMsbUJBQ2xCM2lDLEtBQUsyaUMsa0JBQW9CeDJCLFlBQVcsS0FDaEN5cUIsUUFBUUMsSUFBSSw0QkFBNEI3MkIsS0FBSzhpQyxxREFDN0M5aUMsS0FBS29qQyxlQUNOcGpDLEtBQUs4aUMsa0NBQ1I5aUMsS0FBS2drQyxXQUNMLE1BQ0osSUFBSyxRQUtELEdBRkFwTixRQUFRQyxJQUFJLGtCQUFtQmdLLEdBQy9CakssUUFBUUMsSUFBSSx1Q0FBd0M3MkIsS0FBS2tpQyxlQUFlb0MsaUJBQ3BFekQsSUFBVTdnQyxLQUFLZ2lDLGFBQWFpQyxPQUFRLE9BQzlCamtDLEtBQUtraUMsZUFBZXFDLHFCQUFxQixJQUFJLEVBQUFDLHNCQUFzQjNELElBQ3pFLE1BQU00RCxRQUFtQnprQyxLQUFLa2lDLGVBQWV3QyxxQkFDdkMxa0MsS0FBS2tpQyxlQUFldUIsb0JBQW9CZ0IsR0FDOUN6a0MsS0FBS29pQyxTQUFTaFYsS0FBS3NKLEtBQUtJLFVBQVUsQ0FDOUIrRSxLQUFNLFNBQ05pRixPQUFRMkQsS0FHaEIsTUFDSixJQUFLLE9BQ0Q3TixRQUFRQyxJQUFJLGlCQUVSMEosR0FBUXZnQyxLQUFLZ2lDLGFBQWFpQyxTQUMxQnJOLFFBQVFDLElBQUksMERBQTREMEosR0FDeEV2Z0MsS0FBS21qQyxRQUFRNUMsR0FDVFMsSUFDQWhoQyxLQUFLZ2hDLHVCQUF5QkEsU0FFNUJoaEMsS0FBS29rQyxvQkFBb0I3RCxHQUMvQnZnQyxLQUFLZ2tDLFlBRVQsTUFDSixJQUFLLFFBRURwTixRQUFRQyxJQUFJLGtDQUNaNzJCLEtBQUttakMsUUFBUSxNQUNibmpDLEtBQUtvakMsYUFDTCxNQUNKLElBQUssU0FDRHhNLFFBQVFDLElBQUksbUJBQ1pELFFBQVFDLElBQUksdUNBQXdDNzJCLEtBQUtraUMsZUFBZW9DLGlCQUVwRXhELEdBQVU5Z0MsS0FBS2dpQyxhQUFhaUMsY0FDdEJqa0MsS0FBS2tpQyxlQUFlcUMscUJBQXFCLElBQUksRUFBQUMsc0JBQXNCMUQsSUFFN0UsTUFDSixJQUFLLFlBSUQsR0FIQWxLLFFBQVFDLElBQUksbUNBQ1pELFFBQVFDLElBQUksYUFBY2tLLEdBRXRCQSxFQUFXLENBQ1gsTUFBTTRELEVBQWtCLElBQUksRUFBQUMsZ0JBQWdCN0QsU0FDdEMvZ0MsS0FBS2tpQyxlQUFlMkMsZ0JBQWdCRixHQUU5QyxNQUNKLFFBRUkvTixRQUFRNTBCLE1BQU0sa0NBT2xDZ2lDLFdBRUloa0MsS0FBSzRpQyxZQUFjejJCLFlBQVcsS0FFTyxJQUE3Qm5NLEtBQUtvaUMsU0FBU2MsV0FFZGxqQyxLQUFLb2lDLFNBQVNoVixLQUFLc0osS0FBS0ksVUFBVSxDQUM5QitFLEtBQU0sVUFHVmpGLFFBQVFDLElBQUksMERBRWpCNzJCLEtBQUs2aUMsNkJBUVovckIsMEJBQTBCeXBCLEdBQ3RCM0osUUFBUUMsSUFBSSxpQ0FBa0MwSixHQUM5QzNKLFFBQVFDLElBQUksK0JBQWdDNzJCLEtBQUtnaEMsd0JBQ2pEaGhDLEtBQUtraUMsZUFBaUIsSUFBSTRDLGtCQUFrQjlrQyxLQUFLZ2hDLHdCQUNqRGhoQyxLQUFLbWlDLFlBQWNuaUMsS0FBS2tpQyxlQUFlNkMsa0JBQWtCeEUsR0FFekR2Z0MsS0FBS2tpQyxlQUFlOEMsaUJBQWlCLGVBQWVDLElBQ2hEQSxFQUFNQyxRQUFRbkIsVUFBWSxNQUFPb0IsSUFDN0IsSUFBSTFJLEVBR0osSUFDSUEsRUFBTy9GLEtBQUtDLE1BQU13TyxFQUFhMUksTUFHdEIsZUFEREEsRUFBSzFJLFNBRUw2QyxRQUFRQyxJQUFJLDZCQUNaNzJCLEtBQUtvakMsY0FHYnBqQyxLQUFLcWlDLGlCQUFpQnBnQyxLQUFLdzZCLEdBQzdCLE1BQU9qd0IsR0FDTG9xQixRQUFRQyxJQUFJLHNDQUNaNEYsRUFBTyxLQUdmd0ksRUFBTUMsUUFBUXBCLE9BQVMsS0FDbkJsTixRQUFRQyxJQUFJLDBCQUNaNzJCLEtBQUtxaUMsaUJBQWlCcGdDLEtBQUssQ0FBRTh4QixPQUFRLGVBQWdCcVIsY0FBYyxJQUNuRXhPLFFBQVFDLElBQUksbURBQ1o3MkIsS0FBS29pQyxTQUFTaUIsWUFJdEJyakMsS0FBS2tpQyxlQUFlOEMsaUJBQWlCLDRCQUE0QkMsSUFDN0RyTyxRQUFRQyxJQUFJLFNBQVVvTyxHQUN0QnJPLFFBQVFDLElBQUksMENBQTJDNzJCLEtBQUtraUMsZUFBZW1ELG9CQUM1QixpQkFBM0NybEMsS0FBS2tpQyxlQUFlbUQscUJBQ3BCcmxDLEtBQUtxaUMsaUJBQWlCcGdDLEtBQUssQ0FBRTh4QixPQUFRLGVBQWdCcVIsY0FBYyxJQUNuRXBsQyxLQUFLa2lDLGVBQWVtQixRQUNwQnJqQyxLQUFLb2lDLFNBQVNoVixLQUFLc0osS0FBS0ksVUFBVSxDQUFFK0UsS0FBTSxXQUMxQzc3QixLQUFLb2lDLFNBQVNpQixZQUl0QnJqQyxLQUFLa2lDLGVBQWU4QyxpQkFBaUIsZ0JBQWdCbHVCLE1BQU1tdUIsSUFDdkQsR0FBSUEsRUFBTWxFLFVBQVcsQ0FDakJuSyxRQUFRQyxJQUFJLHVFQUNaRCxRQUFRQyxJQUFJLFlBQWFvTyxFQUFNbEUsV0FDL0IsSUFDSSxNQUFNQSxFQUFZLElBQUksRUFBQTZELGdCQUFnQkssRUFBTWxFLGlCQUN0Qy9nQyxLQUFLa2lDLGVBQWUyQyxnQkFBZ0I5RCxHQUM1QyxNQUFPdjBCLEdBQ0xvcUIsUUFBUUMsSUFBSSxRQUFTcnFCLEdBRXpCeE0sS0FBS29pQyxTQUFTaFYsS0FBS3NKLEtBQUtJLFVBQVUsQ0FBRStFLEtBQU0sWUFBYWtGLFVBQVdrRSxFQUFNbEUsbUJBeFkzRWdCLEVBQWMsSUFEMUIsSUFBQW5ELGVBQ1ltRCxHQUFBLEVBQUFBLGVBQUFBLFlDUGJyaUMsRUFBT0QsUUFBVTZsQyxRQUFRLGtCQ0F6QjVsQyxFQUFPRCxRQUFVNmxDLFFBQVEsa0JDQXpCNWxDLEVBQU9ELFFBQVU2bEMsUUFBUSxpQkNBekI1bEMsRUFBT0QsUUFBVTZsQyxRQUFRLHVCQ0F6QjVsQyxFQUFPRCxRQUFVNmxDLFFBQVEsa0JDQXpCNWxDLEVBQU9ELFFBQVU2bEMsUUFBUSxnQkNBekI1bEMsRUFBT0QsUUFBVTZsQyxRQUFRLCt0UUNnQnpCLFNBQVNDLEVBQXVCQyxHQUM1QixJQUFLLElBQUkzbUIsS0FBTzJtQixFQUNaLEdBQUlBLEVBQXlCM21CLEtBQVMwbUIsRUFDbEMsT0FBTzFtQixFQUdmLE1BQU00RyxNQUFNLHFEQVFoQixTQUFTZ2dCLEVBQWVDLEVBQVE3L0IsR0FDNUIsSUFBSyxNQUFNZ1osS0FBT2haLEVBQ1ZBLEVBQU9wRixlQUFlb2UsS0FBUzZtQixFQUFPamxDLGVBQWVvZSxLQUNyRDZtQixFQUFPN21CLEdBQU9oWixFQUFPZ1osSUFZakMsU0FBU2lZLEVBQVU4SixHQUNmLEdBQXFCLGlCQUFWQSxFQUNQLE9BQU9BLEVBRVgsR0FBSXRnQyxNQUFNZ04sUUFBUXN6QixHQUNkLE1BQU8sSUFBTUEsRUFBTXZwQixJQUFJeWYsR0FBV3RDLEtBQUssTUFBUSxJQUVuRCxHQUFhLE1BQVRvTSxFQUNBLE1BQU8sR0FBS0EsRUFFaEIsR0FBSUEsRUFBTStFLGVBQ04sTUFBTyxHQUFHL0UsRUFBTStFLGlCQUVwQixHQUFJL0UsRUFBTXhTLEtBQ04sTUFBTyxHQUFHd1MsRUFBTXhTLE9BRXBCLE1BQU13WCxFQUFNaEYsRUFBTXJNLFdBQ2xCLEdBQVcsTUFBUHFSLEVBQ0EsTUFBTyxHQUFLQSxFQUVoQixNQUFNQyxFQUFlRCxFQUFJOVEsUUFBUSxNQUNqQyxPQUF5QixJQUFsQitRLEVBQXNCRCxFQUFNQSxFQUFJRSxVQUFVLEVBQUdELEdBVXhELFNBQVNFLEVBQXVCQyxFQUFRQyxHQUNwQyxPQUFrQixNQUFWRCxHQUE2QixLQUFYQSxFQUNYLE9BQVZDLEVBQWlCLEdBQUtBLEVBQ1osTUFBVEEsR0FBMkIsS0FBVkEsRUFBZ0JELEVBQVNBLEVBQVMsSUFBTUMsRUFVbkUsTUFBTUMsRUFBa0JYLEVBQXVCLENBQUVXLGdCQUFpQlgsSUFhbEUsU0FBU1ksRUFBV0MsR0FLaEIsT0FKQUEsRUFBYUYsZ0JBQWtCQyxFQUMvQkMsRUFBYTdSLFNBQVcsV0FDcEIsT0FBT3VDLEVBQVU5MkIsU0FFZG9tQyxFQWVYLFNBQVNDLEVBQWtCeEssR0FDdkIsT0FBT3lLLEVBQWF6SyxHQUFRQSxJQUFTQSxFQUd6QyxTQUFTeUssRUFBYS82QixHQUNsQixNQUFxQixtQkFBUEEsR0FBcUJBLEVBQUc5SyxlQUFleWxDLElBQ2pEMzZCLEVBQUcyNkIsa0JBQW9CQyxFQXlDL0IsTUFBTUksVUFBcUI5Z0IsTUFDdkIza0IsWUFBWXEzQixFQUFNaEssR0FDZHFZLE1BQU1DLEVBQW1CdE8sRUFBTWhLLElBQy9CbnVCLEtBQUttNEIsS0FBT0EsR0FPcEIsU0FBU3NPLEVBQW1CdE8sRUFBTWhLLEdBRzlCLE1BQU11WSxFQUFXLE1BQU0xK0IsS0FBSzh5QixJQUFJM0MsS0FDaEMsSUFBSXdPLEVBQWUsR0FBR0QsSUFBV3ZZLEVBQVUsS0FBT0EsRUFBVSxLQUk1RCxPQUhJeVksV0FBYXpPLEVBQU8sSUFDcEJ3TyxFQUFlLEdBQUdBLDZDQUE2REQsS0FFNUVDLEVBZ0JYLFNBQVNFLEVBQWdCNWxDLEdBQ3JCLE1BQXFCLGlCQUFWQSxFQUNBQSxFQUNFLE1BQVRBLEVBQ08sR0FHSkwsT0FBT0ssR0FPbEIsU0FBUzZsQyxFQUFrQjdsQyxHQUN2QixNQUFxQixtQkFBVkEsRUFDQUEsRUFBTW10QixNQUFRbnRCLEVBQU1zekIsV0FDVixpQkFBVnR6QixHQUErQixNQUFUQSxHQUF1QyxtQkFBZkEsRUFBTTQ2QixLQUNwRDU2QixFQUFNNDZCLEtBQUt6TixNQUFRbnRCLEVBQU00NkIsS0FBS3RILFdBRWxDc1MsRUFBZ0I1bEMsR0FXM0IsU0FBUzhsQyxFQUEyQm5HLEVBQU9vRyxHQUN2QyxNQUFNQyxFQUFVRCxFQUFPLHNCQUFzQkEsRUFBS3hTLEtBQUssWUFBWW9NLElBQVUsR0FDN0UsTUFBTSxJQUFJMkYsR0FBYyxJQUFnQywwQ0FBMEMzRixJQUFRcUcsS0FFOUcsU0FBU0MsSUFDTCxNQUFNLElBQUl6aEIsTUFBTSxvREFZcEIsU0FBUzBoQixFQUEyQnZHLEVBQU93RyxHQUN2QyxNQUFNQyxFQUFrQkQsRUFBZSxPQUFPQSxJQUFpQixHQUMvRCxNQUFNLElBQUliLEdBQWMsSUFBOEIsbUJBQW1CTyxFQUFrQmxHLFdBQWV5RyxLQVU5RyxTQUFTQyxFQUFhQyxFQUFRNUcsR0FDRixpQkFBWDRHLEdBQ1RyakMsRUFBV3k4QixTQUFZNEcsRUFBUSxTQUFVLE9BR2pELFNBQVNDLEVBQW9CRCxFQUFRRSxFQUFjQyxHQUMvQ0osRUFBYUMsRUFBUSxxQkFDckJJLEVBQXNCSixFQUFRRyxFQUFjLCtDQUM1Q0UsRUFBeUJMLEVBQVFFLEVBQWMsa0RBRW5ELFNBQVNJLEVBQWFOLEVBQVE1RyxHQUNGLGlCQUFYNEcsR0FDVHJqQyxFQUFXeThCLEVBQWdCLE9BQVg0RyxFQUFrQixjQUFnQkEsRUFBUSxTQUFVLE9BUTVFLFNBQVNPLEVBQVlQLEVBQVFRLEVBQVVwSCxHQUM3QjRHLEdBQVVRLEdBQ1o3akMsRUFBV3k4QixFQUFLNEcsRUFBUVEsRUFBVSxNQUcxQyxTQUFTQyxFQUFlVCxFQUFRUSxFQUFVcEgsR0FDaEM0RyxHQUFVUSxHQUNaN2pDLEVBQVd5OEIsRUFBSzRHLEVBQVFRLEVBQVUsTUFHMUMsU0FBU0UsRUFBV1YsRUFBUVEsRUFBVXBILEdBQzVCNEcsSUFBV1EsR0FDYjdqQyxFQUFXeThCLEVBQUs0RyxFQUFRUSxFQUFVLE9BRzFDLFNBQVNHLEVBQWNYLEVBQVFRLEVBQVVwSCxHQUMvQjRHLElBQVdRLEdBQ2I3akMsRUFBV3k4QixFQUFLNEcsRUFBUVEsRUFBVSxPQUcxQyxTQUFTSSxFQUFlWixFQUFRUSxFQUFVcEgsR0FDaEM0RyxFQUFTUSxHQUNYN2pDLEVBQVd5OEIsRUFBSzRHLEVBQVFRLEVBQVUsS0FHMUMsU0FBU0osRUFBc0JKLEVBQVFRLEVBQVVwSCxHQUN2QzRHLEdBQVVRLEdBQ1o3akMsRUFBV3k4QixFQUFLNEcsRUFBUVEsRUFBVSxNQUcxQyxTQUFTSyxFQUFrQmIsRUFBUVEsRUFBVXBILEdBQ25DNEcsRUFBU1EsR0FDWDdqQyxFQUFXeThCLEVBQUs0RyxFQUFRUSxFQUFVLEtBRzFDLFNBQVNILEVBQXlCTCxFQUFRUSxFQUFVcEgsR0FDMUM0RyxHQUFVUSxHQUNaN2pDLEVBQVd5OEIsRUFBSzRHLEVBQVFRLEVBQVUsTUFRMUMsU0FBU00sRUFBY2QsRUFBUTVHLEdBQ2IsTUFBVjRHLEdBQ0FyakMsRUFBV3k4QixFQUFLNEcsRUFBUSxLQUFNLE1BR3RDLFNBQVNyakMsRUFBV3k4QixFQUFLNEcsRUFBUVEsRUFBVU8sR0FDdkMsTUFBTSxJQUFJN2lCLE1BQU0sb0JBQW9Ca2IsS0FDakIsTUFBZDJILEVBQXFCLEdBQUssZ0JBQWdCUCxLQUFZTyxLQUFjZixnQkFFN0UsU0FBU2dCLEVBQWNDLEdBRUcsb0JBQVRDLE1BQXdCRCxhQUFnQkMsTUFDL0IsaUJBQVRELEdBQTZCLE1BQVJBLEdBQ0Esd0JBQTFCQSxFQUFLMW5DLFlBQVlzdEIsTUFDckJscUIsRUFBVyxnRUFBZ0U0eUIsRUFBVTBSLE1BRzdGLFNBQVNFLEVBQW1CeFosRUFBSzlRLEdBQzdCaXFCLEVBQWNuWixFQUFLLDBCQUNuQixNQUFNeVosRUFBU3paLEVBQUlsb0IsUUFDZm9YLEVBQVEsR0FBS0EsR0FBU3VxQixJQUN0QnprQyxFQUFXLGtDQUFrQ3lrQyxhQUFrQnZxQixLQUd2RSxTQUFTd3FCLEVBQVkzbkMsS0FBVTRuQyxHQUMzQixJQUFvQyxJQUFoQ0EsRUFBWS9ULFFBQVE3ekIsR0FDcEIsT0FBTyxFQUNYaUQsRUFBVywrQkFBK0J3eUIsS0FBS0ksVUFBVStSLGNBQXdCblMsS0FBS0ksVUFBVTcxQixPQTJCcEcsU0FBUyxFQUFtQjZuQyxHQUN4QixNQUFPLENBQ0hsSSxNQUFPa0ksRUFBS2xJLE1BQ1ptSSxXQUFZRCxFQUFLQyxZQUFjLEtBQy9CdnBDLFFBQVNzcEMsRUFBS3RwQyxRQUNkeUIsV0FBT3NELEdBUWYsTUFBTXlrQyxFQUFtQixFQWtCekIsU0FBUyxFQUFpQnJmLEdBQ3RCLE1BQU8sQ0FBRTRULFVBQVc1VCxFQUFRNFQsV0FBYSxHQUFJMEwsUUFBU3RmLEVBQVFzZixTQUFXLElBUTdFLFNBQVNDLEVBQWlCck4sR0FDdEIsT0FBT3NOLEVBQWlCdE4sRUFBTXVOLElBQWdCRCxFQUFpQnROLEVBQU13TixHQU16RSxTQUFTRixFQUFpQnROLEVBQU15TixHQUM1QixPQUFPek4sRUFBS3A3QixlQUFlNm9DLEdBQVN6TixFQUFLeU4sR0FBUyxLQTJDdEQsU0FBU0MsRUFBZTFOLEdBQ3BCLE9BQU9BLElBQVNBLEVBQUtwN0IsZUFBZStvQyxJQUFlM04sRUFBS3A3QixlQUFlZ3BDLElBQ25FNU4sRUFBSzJOLEdBQ0wsS0FFUixNQUFNSixFQUFjN0QsRUFBdUIsQ0FBRSxNQUFPQSxJQUM5Q2lFLEVBQWFqRSxFQUF1QixDQUFFLEtBQU1BLElBRTVDOEQsRUFBb0I5RCxFQUF1QixDQUFFbUUsZ0JBQWlCbkUsSUFDOURrRSxFQUFrQmxFLEVBQXVCLENBQUVvRSxjQUFlcEUsSUFjaEUsSUFBSXFFLEVBbUNKLElBQUlDLEVBT0osU0FBU0MsRUFBd0JDLEdBQzdCLE1BQU1DLEVBQVdILEVBRWpCLE9BREFBLEVBQXdCRSxFQUNqQkMsRUFTWCxTQUFTQyxFQUFtQnJKLEVBQU9zSixFQUFlQyxHQUM5QyxNQUFNQyxFQUFnQmxCLEVBQWlCdEksR0FDdkMsT0FBSXdKLEdBQTZDLFFBQTVCQSxFQUFjckIsZ0JBQ0F4a0MsSUFBeEI2bEMsRUFBY25wQyxNQUFzQm1wQyxFQUFjbnBDLE1BQVFtcEMsRUFBYzVxQyxVQUMzRTRxQyxFQUFjbnBDLE1BRWxCa3BDLEVBQVFQLEVBQVlTLFNBQ2IsVUFDVzlsQyxJQUFsQjJsQyxFQUNPQSxPQUNYL0MsRUFBMkJyUSxFQUFVOEosR0FBUSxZQThCakQsU0FBUzBKLEVBQWMvK0IsR0FDbkIsTUFBTyxDQUFFZ3BCLFNBQVVocEIsR0FBS2dwQixXQWtCNUIsSUFBSWdXLEVBbUJBQyxFQWlFQUMsRUF6QkosU0FBU0MsR0FBaUNDLEdBQ3RDLE9BQWtDLE1BQTNCQSxHQUNIQSxJQUE0QkosRUFBd0JLLFNBN0s1RCxTQUFXaEIsR0FJUEEsRUFBWUEsRUFBcUIsUUFBSSxHQUFLLFVBSzFDQSxFQUFZQSxFQUFrQixLQUFJLEdBQUssT0FFdkNBLEVBQVlBLEVBQWtCLEtBQUksR0FBSyxPQUV2Q0EsRUFBWUEsRUFBc0IsU0FBSSxHQUFLLFdBRTNDQSxFQUFZQSxFQUFzQixTQUFJLEdBQUssV0FmL0MsQ0FnQkdBLElBQWdCQSxFQUFjLEtBaUdqQyxTQUFXVyxHQU9QQSxFQUF3QkEsRUFBZ0MsT0FBSSxHQUFLLFNBS2pFQSxFQUF3QkEsRUFBaUMsUUFBSSxHQUFLLFVBWnRFLENBYUdBLElBQTRCQSxFQUEwQixLQU16RCxTQUFXQyxHQUtQQSxFQUFxQkEsRUFBZ0MsVUFBSSxHQUFLLFlBSzlEQSxFQUFxQkEsRUFBOEIsUUFBSSxHQUFLLFVBSzVEQSxFQUFxQkEsRUFBa0MsWUFBSSxHQUFLLGNBS2hFQSxFQUFxQkEsRUFBK0IsU0FBSSxHQUFLLFdBTTdEQSxFQUFxQkEsRUFBOEIsUUFBSSxHQUFLLFVBSTVEQSxFQUFxQkEsRUFBZ0MsVUFBSSxHQUFLLFlBOUJsRSxDQStCR0EsSUFBeUJBLEVBQXVCLEtBa0NuRCxTQUFXSyxHQVVQQSxFQUFrQkEsRUFBNEIsU0FBSSxHQUFLLFdBT3ZEQSxFQUFrQkEsRUFBd0IsS0FBSSxHQUFLLE9BTW5EQSxFQUFrQkEsRUFBNkIsVUFBSSxHQUFLLFlBdkI1RCxDQXdCR0osSUFBd0JBLEVBQXNCLEtBU2pELE1BQU1LLEdBQXFDLG9CQUFmQyxZQUE4QkEsV0FDcERDLEdBQTZCLG9CQUFYN2IsUUFBMEJBLE9BQzVDOGIsR0FBeUIsb0JBQVRDLE1BQXFELG9CQUF0QkMsbUJBQ2pERCxnQkFBZ0JDLG1CQUFxQkQsS0FDbkNFLEdBQTZCLG9CQUFYdnJDLFFBQTBCQSxPQUk1Q3dyQyxHQUFVUCxJQUFnQk0sSUFBWUosSUFBWUMsR0E4RHhELFNBQVNLLEtBS0wsUUFBeUIsb0JBQWQxRSxZQUE2QkEsWUFDWCxpQkFBZEEsV0EzRG5CLFdBQ0ksTUFBTTJFLEVBQXFDLG9CQUFiQyxTQUEyQkEsU0FBU2pYLFdBQWEsR0FDekVrWCxFQUFjLENBQ2hCQyxtQkFBNkUsR0FBMURILEVBQWV6VyxRQUFRLCtCQUMxQzZXLGdCQUFpQixFQUNqQkMsTUFBTyxFQUNQQyxNQUFPLEVBQ1BDLHVCQUF3QixFQUN4QkMsZ0JBQWlCLEVBQ2pCQyxzQkFBdUIsRUFDdkJDLHlCQUEwQixFQUMxQkMscUJBQXNCLEVBQ3RCQyx3QkFBeUIsRUFDekJDLG9CQUFxQixFQUNyQkMscUJBQXNCLEVBQ3RCQyxpQkFBa0IsRUFDbEJDLG9CQUFxQixFQUNyQkMsaUJBQWtCLEVBQ2xCQyxvQkFBcUIsRUFDckJDLGdCQUFpQixFQUNqQkMsb0JBQXFCLEVBQ3JCQyxpQkFBa0IsRUFDbEJDLG1CQUFvQixFQUNwQkMsb0JBQXFCLEVBQ3JCQyxxQkFBc0IsRUFDdEJDLHNCQUF1QixHQUdyQkMsR0FBb0UsSUFBL0MxQixFQUFlelcsUUFBUSxtQkFDbER1VyxHQUFtQixVQUFJNEIsR0FBc0J4QixFQStCckN5QixHQUV3QixvQkFBZHRHLFlBQStCQSxZQWtCckQsTUFBTXVHLEdBQVksR0FDWkMsR0FBYyxJQUVNLG9CQUFkeEcsV0FBNkJBLFlBQWMwRSxPQUluRG5yQyxPQUFPa3RDLE9BQU9GLElBRWRodEMsT0FBT2t0QyxPQUFPRCxLQVVsQixNQUFNRSxHQUFjL0gsRUFBdUIsQ0FBRSxLQUFNQSxJQUM3Q2dJLEdBQWFoSSxFQUF1QixDQUFFLEtBQU1BLElBQzVDaUksR0FBY2pJLEVBQXVCLENBQUUsTUFBT0EsSUFDOUNrSSxHQUFhbEksRUFBdUIsQ0FBRSxLQUFNQSxJQUM1Q21JLEdBQWlCbkksRUFBdUIsQ0FBRSxLQUFNQSxJQU9oRG9JLEdBQWdCcEksRUFBdUIsQ0FBRXFJLGtCQUFtQnJJLElBU2xFLElBQUlzSSxHQUFtQixFQWlCdkIsU0FBUyxHQUFrQkMsR0FDdkIsT0FBT3hELEdBQWMsTUFHSyxvQkFBZDFELFdBQTZCQSxZQUFjMEUsS0FDbkQsTUFDTXlDLEVBQWlCLEdBQ2pCQyxFQUFNLENBQ1JuUyxLQUhTaVMsRUFBb0JqUyxLQUk3Qm9TLGtCQUFtQixLQUNuQkMsTUFBT0osRUFBb0JJLE1BQzNCQyxLQUFNTCxFQUFvQkssS0FDMUIzdUMsUUFBUyxLQUNUNHVDLFNBQVVOLEVBQW9CTSxVQUFZLEtBQzFDQyxPQUFRUCxFQUFvQk8sUUFBVSxLQUN0Q0MsbUJBQW9CUixFQUFvQlEsbUJBQ3hDQyxhQUFjVCxFQUFvQlMsY0FBZ0IsS0FDbERDLFNBQVVWLEVBQW9CVSxVQUFZLEVBQzFDQyxVQUFXWCxFQUFvQlcsV0FBYSxLQUM1Q0MsZUFBZ0JaLEVBQW9CWSxnQkFBa0IsS0FDdERYLGVBQWdCQSxFQUNoQi9jLE9BQVEsS0FDUjBRLFFBQVMsS0FDVGlOLFNBQVViLEVBQW9CYSxVQUFZLEtBQzFDQyxPQUFRZCxFQUFvQmUsa0JBQW9CdEUsRUFBd0J1RSxPQUN4RUMsY0FBZSxLQUNmQyxTQUFVLEtBQ1ZDLFVBQVduQixFQUFvQm1CLFdBQWE3QixHQUM1QzhCLFVBQVdwQixFQUFvQm9CLFdBQWEsS0FDNUNDLFNBQVVyQixFQUFvQnFCLFVBQVksS0FDMUMxUyxLQUFNcVIsRUFBb0JyUixNQUFRLEdBQ2xDMlMsY0FBZXRCLEVBQW9Cc0IsZUFBaUIzRSxFQUFvQjRFLFNBQ3hFemMsR0FBSSxJQUNKMGMsT0FBUXhCLEVBQW9Cd0IsUUFBVWxDLEdBQ3RDdjZCLEVBQUcsS0FDSDA4QixTQUFVLEtBQ1ZDLFFBQVMxQixFQUFvQjBCLFNBQVcsS0FDeEMzRCxNQUFPLE1BRUw0RCxFQUFpQjNCLEVBQW9CNEIsV0FDckNDLEVBQVU3QixFQUFvQnFCLFNBQzlCUyxFQUFZOUIsRUFBb0IrQixNQVl0QyxPQVhBN0IsRUFBSXBiLElBQU1pYixLQUNWRyxFQUFJaGQsT0FBUzhlLEdBQWFoQyxFQUFvQjljLE9BQVErYyxHQUNsREMsRUFBSXRNLFFBQVVvTyxHQUFhaEMsRUFBb0JwTSxTQUMvQ2lPLEdBQVdBLEVBQVFwcEMsU0FBU2dGLEdBQU9BLEVBQUd5aUMsS0FDMUNBLEVBQUllLGNBQWdCVSxFQUNoQixLQUFpQyxtQkFBbkJBLEVBQWdDQSxJQUFtQkEsR0FDNURwNEIsSUFBSTA0QixJQUNULEtBQ0ovQixFQUFJZ0IsU0FBV1ksRUFDWCxLQUE0QixtQkFBZEEsRUFBMkJBLElBQWNBLEdBQVd2NEIsSUFBSTI0QixJQUN0RSxLQUNHaEMsS0FZZixTQUFTLEdBQW9CblMsRUFBTTZULEVBQVlHLEdBQzNDLE1BQU03QixFQUFNblMsRUFBSyxLQUNqQm1TLEVBQUllLGNBQWdCLElBQU1XLEVBQVdyNEIsSUFBSTA0QixJQUN6Qy9CLEVBQUlnQixTQUFXLElBQU1hLEVBQU14NEIsSUFBSTI0QixJQUVuQyxTQUFTRCxHQUFvQmxVLEdBQ3pCLE1BQU1tUyxFQUFNaUMsR0FBZ0JwVSxJQUFTcVUsR0FBZ0JyVSxHQUNyRCxHQUFJK0ssWUFBY29ILEVBQ2QsTUFBTSxJQUFJdm9CLE1BQU0sSUFBSW9XLEVBQUt6Tix3REFFN0IsT0FBTzRmLEVBRVgsU0FBU2dDLEdBQWVuVSxHQUNwQixNQUFNbVMsRUFBTW1DLEdBQWF0VSxHQUN6QixHQUFJK0ssWUFBY29ILEVBQ2QsTUFBTSxJQUFJdm9CLE1BQU0sSUFBSW9XLEVBQUt6Tiw4QkFFN0IsT0FBTzRmLEVBRVgsTUFBTW9DLEdBQXlCLEdBSS9CLFNBQVMsR0FBaUJwQyxHQUN0QixPQUFPMUQsR0FBYyxLQUNqQixNQUFNMUUsRUFBTSxDQUNSL0osS0FBTW1TLEVBQUluUyxLQUNWd1UsVUFBV3JDLEVBQUlxQyxXQUFhakQsR0FDNUJrRCxhQUFjdEMsRUFBSXNDLGNBQWdCbEQsR0FDbENuRSxRQUFTK0UsRUFBSS9FLFNBQVdtRSxHQUN4QjN0QyxRQUFTdXVDLEVBQUl2dUMsU0FBVzJ0QyxHQUN4Qm1ELHdCQUF5QixLQUN6QmYsUUFBU3hCLEVBQUl3QixTQUFXLEtBQ3hCNWMsR0FBSW9iLEVBQUlwYixJQUFNLE1BS2xCLE9BSGMsTUFBVm9iLEVBQUlwYixLQUNKd2QsR0FBdUJwQyxFQUFJcGIsSUFBTW9iLEVBQUluUyxNQUVsQytKLEtBYWYsU0FBUyxHQUFtQi9KLEVBQU0yVSxHQUM5QixPQUFPbEcsR0FBYyxLQUNqQixNQUFNbUcsRUFBY0MsR0FBZTdVLEdBQU0sR0FDekM0VSxFQUFZSCxhQUFlRSxFQUFNRixjQUFnQmxELEdBQ2pEcUQsRUFBWXhILFFBQVV1SCxFQUFNdkgsU0FBV21FLEdBQ3ZDcUQsRUFBWWh4QyxRQUFVK3dDLEVBQU0vd0MsU0FBVzJ0QyxNQTBEL0MsU0FBUzBDLEdBQWF4N0IsRUFBS3E4QixHQUN2QixHQUFXLE1BQVByOEIsRUFDQSxPQUFPNjRCLEdBQ1gsTUFBTXlELEVBQVksR0FDbEIsSUFBSyxNQUFNQyxLQUFldjhCLEVBQ3RCLEdBQUlBLEVBQUk3VCxlQUFlb3dDLEdBQWMsQ0FDakMsSUFBSUMsRUFBYXg4QixFQUFJdThCLEdBQ2pCRSxFQUFlRCxFQUNmeHdDLE1BQU1nTixRQUFRd2pDLEtBQ2RDLEVBQWVELEVBQVcsR0FDMUJBLEVBQWFBLEVBQVcsSUFFNUJGLEVBQVVFLEdBQWNELEVBQ3BCRixJQUNDQSxFQUFVRyxHQUFjQyxHQUlyQyxPQUFPSCxFQWtCWCxNQUFNLEdBQW9CLEdBaUIxQixTQUFTLEdBQWFJLEdBQ2xCLE1BQU8sQ0FDSG5WLEtBQU1tVixFQUFRblYsS0FDZHpOLEtBQU00aUIsRUFBUTVpQixLQUNkNXVCLFFBQVMsS0FDVHl4QyxNQUF1QixJQUFqQkQsRUFBUUMsS0FDZEMsVUFBV0YsRUFBUW5WLEtBQUtyN0IsVUFBVTJ3QyxhQUFlLE1BUXpELFNBQVNsQixHQUFnQnBVLEdBQ3JCLE9BQU9BLEVBQUt5UixLQUFnQixLQUVoQyxTQUFTNEMsR0FBZ0JyVSxHQUNyQixPQUFPQSxFQUFLMFIsS0FBZSxLQUUvQixTQUFTNEMsR0FBYXRVLEdBQ2xCLE9BQU9BLEVBQUsyUixLQUFnQixLQUVoQyxTQUFTa0QsR0FBZTdVLEVBQU11VixHQUMxQixNQUFNWCxFQUFjNVUsRUFBSzRSLEtBQWUsS0FDeEMsSUFBS2dELElBQWlDLElBQWxCVyxFQUNoQixNQUFNLElBQUkzckIsTUFBTSxRQUFRcVIsRUFBVStFLHFDQUV0QyxPQUFPNFUsRUFRWCxNQTRCTVksR0FBMEIsR0EyQzFCQyxHQUFnQixHQUtoQkMsR0FBb0IsQ0FDdEIsT0FDQSxZQUNBLFlBaUJKLFNBQVNDLEdBQVF2d0MsR0FDYixPQUFPWCxNQUFNZ04sUUFBUXJNLElBQWlDLGlCQUFoQkEsRUFqRzdCLEdBdUdiLFNBQVN3d0MsR0FBYXh3QyxHQUNsQixPQUFPWCxNQUFNZ04sUUFBUXJNLEtBQTBCLElBQWhCQSxFQXhHdEIsR0EwR2IsU0FBU3l3QyxHQUFtQjlGLEdBQ3hCLE9BQW1ELElBQTdCLEVBQWRBLEVBQU16QixPQUVsQixTQUFTd0gsR0FBZ0IvRixHQUNyQixPQUFtRCxJQUE3QixFQUFkQSxFQUFNekIsT0FFbEIsU0FBU3lILEdBQWdCaEcsR0FDckIsT0FBbUQsSUFBN0IsRUFBZEEsRUFBTXpCLE9BRWxCLFNBQVMwSCxHQUFlN0QsR0FDcEIsT0FBd0IsT0FBakJBLEVBQUlJLFNBZWYsU0FBUzBELEdBQW9CbEcsRUFBT21HLEdBQ2hDQyxHQUFvQnBHLEVBQU9tRyxFQXhGakIsSUEwRmQsU0FBU0MsR0FBb0JwRyxFQUFPQyxHQUNoQ29HLEdBQVlyRyxHQUNaQSxFQUFNbnJDLGVBQWUsV0FDakJxbkMsRUFBWThELEVBQU1zRyxPQUFRckcsRUFBTyw2Q0FFekMsU0FBU29HLEdBQVlyRyxHQUNqQnZELEVBQWN1RCxFQUFPLHlCQUNmQSxHQUEwQixpQkFBVkEsR0FBc0JBLEVBQU1uckMsZUFBZSx5QkFDN0R5RCxFQUFXLDJCQUE2QjBuQyxHQUdoRCxTQUFTdUcsR0FBV0MsR0FDaEIvSixFQUFjK0osRUFBTSwrQkFDd0IsaUJBQS9CQSxFQUFLQyx1QkFDZG51QyxFQUFXLCtCQUduQixTQUFTb3VDLEdBQW9CL0ssRUFBUTVHLEVBQU0sMEVBQ2xDc1AsR0FBZ0IxSSxJQUNqQnJqQyxFQUFXeThCLEdBV25CLFNBQVM0UixHQUFnQjNHLEdBQ3JCdkQsRUFBY3VELEVBQU8sOEJBQ3JCdkQsRUFBY3VELEVBQU16OUIsT0FBUSxxQ0FPaEMsU0FBU3FrQyxHQUFpQnZ4QyxHQUN0Qm9uQyxFQUFjcG5DLEVBQU8sOEJBQ3JCNm1DLEVBQVkySixHQUFheHdDLElBQVEsRUFBTSx3QkFFM0MsU0FBU3d4QyxHQUF1Qnh4QyxHQUM1QkEsR0FBUzZtQyxFQUFZMEosR0FBUXZ3QyxJQUFRLEVBQU0sd0NBRS9DLFNBQVN5eEMsR0FBWXp4QyxHQUNqQm9uQyxFQUFjcG5DLEVBQU8seUJBQ3JCNm1DLEVBQVkwSixHQUFRdndDLElBQVEsRUFBTSxtQkFFdEMsU0FBUzB4QyxHQUFzQjlHLEVBQU8rRyxHQUNsQzlLLEVBQVkrRCxFQUFNRixpQkFBaUIsRUFBTWlILEdBQWMsK0NBRTNELFNBQVNDLEdBQXNCaEgsRUFBTytHLEdBQ2xDOUssRUFBWStELEVBQU1pSCxpQkFBaUIsRUFBTUYsR0FBYywrQ0FtQjNELFNBQVNHLEdBQTBCaEIsRUFBTzN6QixHQUV0QzQwQixHQURjakIsRUFBTSxHQUNBa0Isa0JBQW1CbEIsRUFBTS9xQyxPQUFRb1gsR0FFekQsU0FBUzQwQixHQUFjRSxFQUFPQyxFQUFPLzBCLEdBQzNCODBCLEdBQVM5MEIsR0FBU0EsRUFBUSswQixHQUM1Qmp2QyxFQUFXLGlDQUFpQ2d2QyxRQUFZOTBCLE9BQVcrMEIsTUFRM0UsU0FBU0MsR0FBaUJyQixFQUFPYSxHQUM3QnZLLEVBQWMwSixFQUFPYSxHQUFjLDRFQVN2QyxTQUFTUyxHQUFtQnRCLEVBQU91QixHQUMvQlAsR0FBMEJoQixFQUFPdUIsR0FDakNQLEdBQTBCaEIsRUFBT3VCLEVBQWdCLEdBQ2pEaE0sRUFBYXlLLEVBQU11QixFQUFnQixHQUFJLGdEQUN2Q2hNLEVBQWF5SyxFQUFNdUIsRUFBZ0IsR0FBSSxnREFDdkNoTSxFQUFheUssRUFBTXVCLEVBQWdCLEdBQUksZ0RBQ3ZDaE0sRUFBYXlLLEVBQU11QixFQUFnQixHQUFJLGdEQUN2Q2hNLEVBQWF5SyxFQUFNdUIsRUFBZ0IsR0FBSSxnREFDdkNoTSxFQUFheUssRUFBTXVCLEVBQWdCLEdBQUksZ0RBQ3ZDaE0sRUFBYXlLLEVBQU11QixFQUFnQixHQUFJLGdEQUN2Q2hNLEVBQWF5SyxFQUFNdUIsRUFBZ0IsR0FBSSxnREFDdkNoTSxFQUFheUssRUFBTXVCLEVBQWdCLEdBQWlCLGlEQVV4RCxTQUFTQyxHQUFjMVgsRUFBTXVWLEdBQ3pCLE1BQU1vQyxFQUFnQjNYLEVBQUtwN0IsZUFBZWl0QyxJQUMxQyxJQUFLOEYsSUFBbUMsSUFBbEJwQyxHQUEwQnhLLFVBQzVDLE1BQU0sSUFBSW5oQixNQUFNLFFBQVFxUixFQUFVK0UscUNBRXRDLE9BQU8yWCxFQUFnQjNYLEVBQUs2UixJQUFrQixLQW1CbEQsTUFBTStGLEdBQ0YzeUMsWUFBWTR5QyxFQUFlQyxFQUFjQyxHQUNyQzV6QyxLQUFLMHpDLGNBQWdCQSxFQUNyQjF6QyxLQUFLMnpDLGFBQWVBLEVBQ3BCM3pDLEtBQUs0ekMsWUFBY0EsRUFLdkJDLGdCQUNJLE9BQU83ekMsS0FBSzR6QyxhQWlDcEIsU0FBUyxLQUNMLE9BQU9FLEdBRVgsU0FBU0EsR0FBdUJDLEdBSTVCLE9BSElBLEVBQVdsWSxLQUFLcjdCLFVBQVV3ekMsY0FDMUJELEVBQVd4RSxTQUFXMEUsSUFFbkJDLEdBaUJYLFNBQVNBLEtBQ0wsTUFBTUMsRUFBcUJDLEdBQXNCcDBDLE1BQzNDcTBDLEVBQVVGLE1BQUFBLE9BQStELEVBQVNBLEVBQW1CRSxRQUMzRyxHQUFJQSxFQUFTLENBQ1QsTUFBTXJLLEVBQVdtSyxFQUFtQm5LLFNBQ3BDLEdBQUlBLElBQWFtRCxHQUNiZ0gsRUFBbUJuSyxTQUFXcUssT0FLOUIsSUFBSyxJQUFJeDFCLEtBQU93MUIsRUFDWnJLLEVBQVNuckIsR0FBT3cxQixFQUFReDFCLEdBR2hDczFCLEVBQW1CRSxRQUFVLEtBQzdCcjBDLEtBQUtnMEMsWUFBWUssSUFHekIsU0FBU0osR0FBb0JoZixFQUFVaDBCLEVBQU82dkMsRUFBWXdELEdBQ3RELE1BQU1ILEVBQXFCQyxHQUFzQm5mLElBYXJELFNBQStCQSxFQUFVc2YsR0FDckMsT0FBT3RmLEVBQTZCLG9CQUFJc2YsRUFicENDLENBQXNCdmYsRUFBVSxDQUFFK1UsU0FBVW1ELEdBQVdrSCxRQUFTLE9BQzlEQSxFQUFVRixFQUFtQkUsVUFBWUYsRUFBbUJFLFFBQVUsSUFDdEVySyxFQUFXbUssRUFBbUJuSyxTQUM5QitHLEVBQWUvd0MsS0FBSyt0QyxlQUFlK0MsR0FDbkMyRCxFQUFpQnpLLEVBQVMrRyxHQUNoQ3NELEVBQVF0RCxHQUFnQixJQUFJMEMsR0FBYWdCLEdBQWtCQSxFQUFlZCxhQUFjMXlDLEVBQU8rb0MsSUFBYW1ELElBQzVHbFksRUFBU3FmLEdBQWVyekMsRUFHNUIsU0FBU216QyxHQUFzQm5mLEdBQzNCLE9BQU9BLEVBQTZCLHFCQUFLLEtBMUM3QyxHQUFxQnlmLFdBQVksRUF1RGpDLElBQUlDLEdBQW1CLEtBV3ZCLE1BQU1DLEdBQWVDLElBQ2pCRixHQUFtQkUsR0FXakJBLEdBQVcsU0FBVTVQLEVBQU9oUSxFQUFVNmYsR0FDaEIsTUFBcEJILElBQ0FBLEdBQWlCMVAsRUFBT2hRLEVBQVU2ZixJQVdwQ0MsR0FBZ0IsTUFFaEJDLEdBQW9CLE9BK0IxQixJQUFJQyxHQVFKLFNBQVNDLEdBQVlDLEdBQ2pCRixHQUFXRSxFQVFmLFNBQVNDLEtBQ0wsWUFBaUI3d0MsSUFBYjB3QyxHQUNPQSxHQUVrQixvQkFBYkUsU0FDTEEsY0FETixFQW1CVCxJQUFJRSxHQU1KLFNBQVNDLEdBQXFCQyxHQUMxQixRQUFVQSxFQUFlLFFBTjdCLFNBQVdGLEdBQ1BBLEVBQW9CQSxFQUErQixVQUFJLEdBQUssWUFDNURBLEVBQW9CQSxFQUE4QixTQUFJLEdBQUssV0FGL0QsQ0FHR0EsS0FBd0JBLEdBQXNCLEtBS2pELE1BQU1HLEdBQXNCLENBQ3hCQyxlQUFnQixDQUFDQyxFQUFhQyxJQUNuQlAsTUFrQ2YsU0FBU1EsR0FBWTMwQyxHQUNqQixLQUFPWCxNQUFNZ04sUUFBUXJNLElBQ2pCQSxFQUFRQSxFQXBmSCxHQXNmVCxPQUFPQSxFQWtDWCxTQUFTNDBDLEdBQWlCejNCLEVBQU8yekIsR0FHN0IsT0FGQW5MLFdBQWE4QixFQUFtQnFKLEVBQU8zekIsR0FDdkN3b0IsV0FBYWdCLEVBQXlCeHBCLEVBQU9rekIsR0FBZSxxQ0FDckRzRSxHQUFZN0QsRUFBTTN6QixJQVU3QixTQUFTMDNCLEdBQWlCbEssRUFBT21HLEdBQzdCbkwsV0FBYWtMLEdBQW9CbEcsRUFBT21HLEdBQ3hDbkwsV0FBYThCLEVBQW1CcUosRUFBT25HLEVBQU14dEIsT0FDN0MsTUFBTW9xQixFQUFPb04sR0FBWTdELEVBQU1uRyxFQUFNeHRCLFFBRXJDLE9BREF3b0IsWUFBYzBPLEdBQXFCdkQsRUFBTWdFLE1BQWN4TixFQUFjQyxHQUM5REEsRUFxQlgsU0FBU3dOLEdBQVNuSyxFQUFPenRCLEdBQ3JCd29CLFdBQWF3QixFQUFrQmhxQixHQUFRLEVBQUcseUJBQzFDd29CLFdBQWF1QixFQUFlL3BCLEVBQU95dEIsRUFBTXBQLEtBQUt6MUIsT0FBUSx5QkFDdEQsTUFBTTRrQyxFQUFRQyxFQUFNcFAsS0FBS3JlLEdBRXpCLE9BREF3b0IsV0FBdUIsT0FBVmdGLEdBQWtCcUcsR0FBWXJHLEdBQ3BDQSxFQUdYLFNBQVNxSyxHQUFLQyxFQUFNOTNCLEdBRWhCLE9BREF3b0IsV0FBYThCLEVBQW1Cd04sRUFBTTkzQixHQUMvQjgzQixFQUFLOTNCLEdBRWhCLFNBQVMrM0IsR0FBeUJDLEVBQVdDLEdBRXpDelAsV0FBYThCLEVBQW1CMk4sRUFBVUQsR0FDMUMsTUFBTUUsRUFBWUQsRUFBU0QsR0FFM0IsT0FEYzVFLEdBQVE4RSxHQUFhQSxFQUFZQSxFQS9rQnRDLEdBbWxCYixTQUFTQyxHQUFlTCxHQUNwQixPQUFnRCxJQUExQixFQUFkQSxFQWxsQkUsSUEwbEJkLFNBQVNNLEdBQTZCTixHQUNsQyxPQUE4QyxNQUF4QixJQUFkQSxFQTNsQkUsSUFpbUJkLFNBQVNPLEdBQVlwSSxFQUFRandCLEdBQ3pCLE9BQUlBLE1BQUFBLEVBQ08sTUFDWHdvQixXQUFhOEIsRUFBbUIyRixFQUFRandCLEdBQ2pDaXdCLEVBQU9qd0IsSUFNbEIsU0FBU3M0QixHQUF1QjNFLEdBQzVCQSxFQUFNNEUsSUFBdUIsRUFTakMsU0FBU0MsR0FBNEJDLEVBQVlwWixHQUM3Q29aLEVBbm5Ca0MsSUFtbkJXcFosRUFDN0MsSUFBSXFaLEVBQWtCRCxFQUNsQjFvQyxFQUFTMG9DLEVBdm5CRixHQXduQlgsS0FBa0IsT0FBWDFvQyxJQUNVLElBQVhzdkIsR0FBbUUsSUFBbkRxWixFQXZuQlksS0F3bkJiLElBQVpyWixHQUFvRSxJQUFuRHFaLEVBeG5CUSxLQXluQjlCM29DLEVBem5COEIsSUF5bkJXc3ZCLEVBQ3pDcVosRUFBa0Izb0MsRUFDbEJBLEVBQVNBLEVBN25CRixHQXdvQmYsTUFBTTRvQyxHQUFtQixDQUNyQkMsT0FBUUMsR0FBYSxNQUNyQkMsaUJBQWlCLEVBQ2pCQyx3QkFBd0IsR0FtQjVCLFNBQVNDLEtBQ0wsT0FBT0wsR0FBaUJHLGdCQXFCNUIsU0FBUyxLQUNMSCxHQUFpQkcsaUJBQWtCLEVBcUJ2QyxTQUFTLEtBQ0xILEdBQWlCRyxpQkFBa0IsRUFLdkMsU0FBU0csS0FDTCxPQUFPTixHQUFpQkMsT0FBT2pGLE1BS25DLFNBQVN1RixLQUNMLE9BQU9QLEdBQWlCQyxPQUFPbkwsTUFjbkMsU0FBUyxHQUFjMEwsR0FFbkIsT0FEQVIsR0FBaUJDLE9BQU9RLGFBQWVELEVBQ2hDQSxFQWx1QkssR0FvdUJoQixTQUFTRSxLQUNMLElBQUlDLEVBQWVDLEtBQ25CLEtBQXdCLE9BQWpCRCxHQUErQyxLQUF0QkEsRUFBYTdiLE1BQ3pDNmIsRUFBZUEsRUFBYXZwQyxPQUVoQyxPQUFPdXBDLEVBRVgsU0FBU0MsS0FDTCxPQUFPWixHQUFpQkMsT0FBT1UsYUFFbkMsU0FBU0UsS0FDTCxNQUFNWixFQUFTRCxHQUFpQkMsT0FDMUJVLEVBQWVWLEVBQU9VLGFBQzVCLE9BQU9WLEVBQU9hLFNBQVdILEVBQWVBLEVBQWF2cEMsT0FFekQsU0FBUzJwQyxHQUFnQmxNLEVBQU9pTSxHQUM1QmpSLFdBQWFnRixHQUFTb0csR0FBb0JwRyxFQUFPbUwsR0FBaUJDLE9BQU9uTCxPQUN6RSxNQUFNbUwsRUFBU0QsR0FBaUJDLE9BQ2hDQSxFQUFPVSxhQUFlOUwsRUFDdEJvTCxFQUFPYSxTQUFXQSxFQUV0QixTQUFTRSxLQUNMLE9BQU9oQixHQUFpQkMsT0FBT2EsU0FFbkMsU0FBU0csS0FDTGpCLEdBQWlCQyxPQUFPYSxVQUFXLEVBUXZDLFNBQVNWLEtBRUwsT0FBT0osR0FBaUJJLHVCQUU1QixTQUFTYyxHQUEwQkMsR0FDL0JuQixHQUFpQkksdUJBQXlCZSxFQUc5QyxTQUFTQyxLQUNMLE1BQU1uQixFQUFTRCxHQUFpQkMsT0FDaEMsSUFBSTU0QixFQUFRNDRCLEVBQU9vQixpQkFJbkIsT0FIZSxJQUFYaDZCLElBQ0FBLEVBQVE0NEIsRUFBT29CLGlCQUFtQnBCLEVBQU9uTCxNQUFNd00sbUJBRTVDajZCLEVBRVgsU0FBU2s2QixLQUNMLE9BQU92QixHQUFpQkMsT0FBT3VCLGFBRW5DLFNBQVNDLEdBQWdCdjNDLEdBQ3JCLE9BQU84MUMsR0FBaUJDLE9BQU91QixhQUFldDNDLEVBRWxELFNBQVN3M0MsS0FDTCxPQUFPMUIsR0FBaUJDLE9BQU91QixlQUVuQyxTQUFTRyxHQUFzQngvQixHQUMzQixNQUFNODlCLEVBQVNELEdBQWlCQyxPQUMxQjU0QixFQUFRNDRCLEVBQU91QixhQUVyQixPQURBdkIsRUFBT3VCLGFBQWV2QixFQUFPdUIsYUFBZXIvQixFQUNyQ2tGLEVBS1gsU0FBU3U2QixHQUFlQyxHQUNwQjdCLEdBQWlCQyxPQUFPNkIsT0FBU0QsRUFhckMsU0FBU0UsR0FBOEJWLEVBQWtCVyxHQUNyRCxNQUFNL0IsRUFBU0QsR0FBaUJDLE9BQ2hDQSxFQUFPdUIsYUFBZXZCLEVBQU9vQixpQkFBbUJBLEVBQ2hEWSxHQUF5QkQsR0FlN0IsU0FBU0MsR0FBeUJELEdBQzlCaEMsR0FBaUJDLE9BQU8rQixzQkFBd0JBLEVBUXBELFNBQVNFLEdBQXVCQyxHQUM1QixNQUFNSCxFQUF3QmhDLEdBQWlCQyxPQUFPK0Isc0JBQ3RELE9BQWtDLElBQTNCQSxFQUErQixLQUFPRyxFQUFNSCxHQUV2RCxTQUFTSSxLQUNMLE9BQU9wQyxHQUFpQkMsT0FBT29DLGtCQUVuQyxTQUFTQyxHQUFxQnA0QyxHQUMxQjgxQyxHQUFpQkMsT0FBT29DLGtCQUFvQm40QyxFQU9oRCxTQUFTcTRDLEdBQW9CdkgsR0FDekIsTUFBTWxHLEVBQVFrRyxFQXYyQkosR0F5MkJWLE9BQW1CLElBQWZsRyxFQUFNaFEsTUFDTitLLFdBQWF5QixFQUFjd0QsRUFBTTBOLFVBQVcsb0RBQ3JDMU4sRUFBTTBOLFdBS0UsSUFBZjFOLEVBQU1oUSxLQUNDa1csRUE1MkJBLEdBKzJCSixLQWVYLFNBQVN5SCxHQUFRekgsRUFBT25HLEVBQU96QixHQUUzQixHQURBdkQsV0FBYTZMLEdBQXVCVixHQUNoQzVILEVBQVFQLEVBQVk2UCxTQUFVLENBQzlCN1MsV0FBYW9MLEdBQW9CcEcsRUFBT21HLEVBdDRCbEMsSUF1NEJOLElBQUkySCxFQUFjOU4sRUFDZCtOLEVBQWM1SCxFQUNsQixLQUNJbkwsV0FBYXlCLEVBQWNxUixFQUFhLGtDQUN4Q0EsRUFBY0EsRUFBWXZyQyxTQUNOLE9BQWhCdXJDLEdBQTBCdlAsRUFBUVAsRUFBWWdRLE9BQzlDRixFQUFjSixHQUFvQkssR0FDZCxPQUFoQkQsS0FJSjlTLFdBQWF5QixFQUFjc1IsRUFBYSxrQ0FDeENBLEVBQWNBLEVBQVlFLElBSUgsR0FBbkJILEVBQVk3ZCxTQVF4QixHQUFvQixPQUFoQjZkLEVBRUEsT0FBTyxFQUdQOU4sRUFBUThOLEVBQ1IzSCxFQUFRNEgsRUFHaEIvUyxXQUFha0wsR0FBb0JsRyxFQUFPbUcsR0FDeEMsTUFBTWlGLEVBQVNELEdBQWlCQyxPQUFTOEMsS0FHekMsT0FGQTlDLEVBQU9VLGFBQWU5TCxFQUN0Qm9MLEVBQU9qRixNQUFRQSxHQUNSLEVBYVgsU0FBU2dJLEdBQVVDLEdBQ2ZwVCxXQUFhb0IsRUFBZWdTLEVBQVEsR0FBSUEsRUFBUSxHQUFJLFFBQ3BEcFQsV0FBYTZMLEdBQXVCdUgsR0FDcEMsTUFBTUMsRUFBWUgsS0FDZGxULFlBQ0FrQixFQUFZbVMsRUFBVXBDLFVBQVUsRUFBTSx5QkFDdEMvUCxFQUFZbVMsRUFBVWxJLE1BQU8sS0FBTSx5QkFDbkNqSyxFQUFZbVMsRUFBVXBPLE1BQU8sS0FBTSx5QkFDbkMvRCxFQUFZbVMsRUFBVUMsZUFBZ0IsRUFBRyx5QkFDekNwUyxFQUFZbVMsRUFBVUUsa0JBQW1CLEVBQUcseUJBQzVDclMsRUFBWW1TLEVBQVVsQix1QkFBd0IsRUFBRyx5QkFDakRqUixFQUFZbVMsRUFBVUcsaUJBQWtCLEtBQU0seUJBQzlDdFMsRUFBWW1TLEVBQVU3QixrQkFBbUIsRUFBRyx5QkFDNUN0USxFQUFZbVMsRUFBVWIsa0JBQW1CLEVBQUcsMEJBRWhELE1BQU12TixFQUFRbU8sRUF4OEJKLEdBeThCVmpELEdBQWlCQyxPQUFTaUQsRUFDMUJyVCxXQUFhaUYsRUFBTXdPLFlBQWNySSxHQUFvQm5HLEVBQU13TyxXQUFZeE8sR0FDdkVvTyxFQUFVdkMsYUFBZTdMLEVBQU13TyxXQUMvQkosRUFBVWxJLE1BQVFpSSxFQUNsQkMsRUFBVXBPLE1BQVFBLEVBQ2xCb08sRUFBVXpDLGFBQWV3QyxFQUN6QkMsRUFBVTFCLGFBQWUxTSxFQUFNd00sa0JBQy9CNEIsRUFBVXBCLFFBQVMsRUFLdkIsU0FBU2lCLEtBQ0wsTUFBTVEsRUFBZ0J2RCxHQUFpQkMsT0FDakN1RCxFQUFnQyxPQUFsQkQsRUFBeUIsS0FBT0EsRUFBY0UsTUFFbEUsT0FEa0MsT0FBaEJELEVBQXVCdEQsR0FBYXFELEdBQWlCQyxFQUczRSxTQUFTdEQsR0FBYTlvQyxHQUNsQixNQUFNNm9DLEVBQVMsQ0FDWFUsYUFBYyxLQUNkRyxVQUFVLEVBQ1Y5RixNQUFPLEtBQ1BsRyxNQUFPLEtBQ1BxTyxlQUFnQixFQUNoQjFDLGFBQWMsS0FDZDJDLGtCQUFtQixFQUNuQkMsaUJBQWtCLEtBQ2xCckIsdUJBQXdCLEVBQ3hCWCxrQkFBbUIsRUFDbkJHLGNBQWUsRUFDZmEsa0JBQW1CLEVBQ25CanJDLE9BQVFBLEVBQ1Jxc0MsTUFBTyxLQUNQM0IsUUFBUSxHQUdaLE9BRFcsT0FBWDFxQyxJQUFvQkEsRUFBT3FzQyxNQUFReEQsR0FDNUJBLEVBV1gsU0FBU3lELEtBQ0wsTUFBTUMsRUFBWTNELEdBQWlCQyxPQUluQyxPQUhBRCxHQUFpQkMsT0FBUzBELEVBQVV2c0MsT0FDcEN1c0MsRUFBVWhELGFBQWUsS0FDekJnRCxFQUFVM0ksTUFBUSxLQUNYMkksRUFRWCxNQUFNQyxHQUFVRixHQVNoQixTQUFTRyxLQUNMLE1BQU1GLEVBQVlELEtBQ2xCQyxFQUFVN0MsVUFBVyxFQUNyQjZDLEVBQVU3TyxNQUFRLEtBQ2xCNk8sRUFBVVIsZUFBaUIsRUFDM0JRLEVBQVVsRCxhQUFlLEtBQ3pCa0QsRUFBVVAsa0JBQW9CLEVBQzlCTyxFQUFVM0IsdUJBQXlCLEVBQ25DMkIsRUFBVU4saUJBQW1CLEtBQzdCTSxFQUFVdEMsa0JBQW9CLEVBQzlCc0MsRUFBVW5DLGNBQWdCLEVBQzFCbUMsRUFBVXRCLGtCQUFvQixFQXNCbEMsU0FBU3lCLEtBQ0wsT0FBTzlELEdBQWlCQyxPQUFPa0QsY0FXbkMsU0FBU1ksR0FBaUIxOEIsR0FDdEJ3b0IsWUFBd0IsSUFBWHhvQixHQUNUd3BCLEVBQXlCeHBCLEVBQU9rekIsR0FBZSw2Q0FDbkQxSyxXQUNJdUIsRUFBZS9wQixFQUFPMjRCLEdBQWlCQyxPQUFPakYsTUFBTS9xQyxPQUFRLHVDQUNoRSt2QyxHQUFpQkMsT0FBT2tELGNBQWdCOTdCLEVBSzVDLFNBQVMyOEIsS0FDTCxNQUFNL0QsRUFBU0QsR0FBaUJDLE9BQ2hDLE9BQU9oQixHQUFTZ0IsRUFBT25MLE1BQU9tTCxFQUFPa0QsZUFPekMsU0FBUyxLQUNMbkQsR0FBaUJDLE9BQU9vRCxpQkFBbUJyRixHQU8vQyxTQUFTLEtBQ0xnQyxHQUFpQkMsT0FBT29ELGlCQUFtQnBGLEdBUS9DLFNBQVMsS0FRTCtCLEdBQWlCQyxPQUFPb0QsaUJBQW1CLEtBNEQvQyxTQUFTWSxHQUF1Qm5QLEVBQU9ELEdBQ25DaEYsV0FBYStMLEdBQXNCOUcsR0FJbkMsSUFBSyxJQUFJcmpDLEVBQUlvakMsRUFBTXFQLGVBQWdCQyxFQUFNdFAsRUFBTXVQLGFBQWMzeUMsRUFBSTB5QyxFQUFLMXlDLElBQUssQ0FDdkUsTUFBTTR5QyxFQUFldlAsRUFBTXBQLEtBQUtqMEIsR0FDaENvK0IsV0FBYXlCLEVBQWMrUyxFQUFjLDBCQUN6QyxNQUFNQyxFQUFpQkQsRUFBYXZmLEtBQUtyN0IsV0FDbkMsbUJBQUU4NkMsRUFBa0Isc0JBQUVDLEVBQXFCLGdCQUFFQyxFQUFlLG1CQUFFQyxFQUFrQixZQUFFdEssR0FBZ0JrSyxFQUNwR0MsSUFDQ3pQLEVBQU02UCxlQUFpQjdQLEVBQU02UCxhQUFlLEtBQUt4ekMsTUFBTU0sRUFBRzh5QyxHQUUzREMsS0FDQzFQLEVBQU02UCxlQUFpQjdQLEVBQU02UCxhQUFlLEtBQUt4ekMsS0FBS00sRUFBRyt5QyxJQUN6RDFQLEVBQU04UCxvQkFBc0I5UCxFQUFNOFAsa0JBQW9CLEtBQUt6ekMsS0FBS00sRUFBRyt5QyxJQUVwRUMsSUFDQzNQLEVBQU0rUCxZQUFjL1AsRUFBTStQLFVBQVksS0FBSzF6QyxNQUFNTSxFQUFHZ3pDLEdBRXJEQyxLQUNDNVAsRUFBTStQLFlBQWMvUCxFQUFNK1AsVUFBWSxLQUFLMXpDLEtBQUtNLEVBQUdpekMsSUFDbkQ1UCxFQUFNZ1EsaUJBQW1CaFEsRUFBTWdRLGVBQWlCLEtBQUszekMsS0FBS00sRUFBR2l6QyxJQUUvQyxNQUFmdEssSUFDQ3RGLEVBQU1pUSxlQUFpQmpRLEVBQU1pUSxhQUFlLEtBQUs1ekMsS0FBS00sRUFBRzJvQyxJQW9DdEUsU0FBUzRLLEdBQWtCaEssRUFBT2lLLEVBQU81RixHQUNyQzZGLEdBQVVsSyxFQUFPaUssRUFBTyxFQUE0QjVGLEdBZXhELFNBQVM4RixHQUF5Qm5LLEVBQU9pSyxFQUFPRyxFQUFXL0YsR0FDdkR4UCxXQUNJb0IsRUFBZW1VLEVBQVcsRUFBNEIsNkRBQ3RDLEVBQWZwSyxFQW52Q0ssTUFtdkMwQ29LLEdBQ2hERixHQUFVbEssRUFBT2lLLEVBQU9HLEVBQVcvRixHQUczQyxTQUFTZ0csR0FBd0JySyxFQUFPb0ssR0FDcEN2VixXQUNJb0IsRUFBZW1VLEVBQVcsRUFBNEIsa0ZBQzFELElBQUloUyxFQUFRNEgsRUExdkNGLElBMnZDRyxFQUFSNUgsS0FBd0NnUyxJQUN6Q2hTLEdBQVMsS0FDVEEsR0FBUyxFQUNUNEgsRUE5dkNNLEdBOHZDUzVILEdBaUJ2QixTQUFTOFIsR0FBVUksRUFBYW50QixFQUFLaXRCLEVBQVdHLEdBQzVDMVYsV0FDSWtCLEVBQVlxUCxNQUEwQixFQUFPLDREQUNqRCxNQUFNb0YsT0FBa0NoNEMsSUFBckIrM0MsRUFDcUIsTUFBbkNELEVBQVkxRixJQUNiLEVBQ0U2RixFQUFxQyxNQUFwQkYsRUFBMkJBLEdBQW9CLEVBQ2hFcjBDLEVBQU1pbkIsRUFBSWxvQixPQUFTLEVBQ3pCLElBQUl5MUMsRUFBcUIsRUFDekIsSUFBSyxJQUFJajBDLEVBQUkrekMsRUFBWS96QyxFQUFJUCxFQUFLTyxJQUU5QixHQUFvQixpQkFEUDBtQixFQUFJMW1CLEVBQUksSUFHakIsR0FEQWkwQyxFQUFxQnZ0QixFQUFJMW1CLEdBQ0QsTUFBcEI4ekMsR0FBNEJHLEdBQXNCSCxFQUNsRCxXQUllcHRCLEVBQUkxbUIsR0FBSyxJQUV4QjZ6QyxFQUFZMUYsS0FBd0IsUUFDcEM4RixFQUFxQkQsSUFBcUMsR0FBbkJBLEtBQ3ZDRSxHQUFTTCxFQUFhRixFQUFXanRCLEVBQUsxbUIsR0FDdEM2ekMsRUFBWTFGLEtBQzRCLFdBQW5DMEYsRUFBWTFGLEtBQXVFbnVDLEVBQ2hGLEdBRVpBLElBWVosU0FBU2swQyxHQUFTTCxFQUFhRixFQUFXanRCLEVBQUsxbUIsR0FDM0MsTUFBTW0wQyxFQUFhenRCLEVBQUkxbUIsR0FBSyxFQUN0Qm8wQyxFQUFPMXRCLEVBQUkxbUIsRUFBSSxHQUVmcTBDLEVBQVlSLEVBREtNLEdBQWN6dEIsRUFBSTFtQixHQUFLMG1CLEVBQUkxbUIsSUFFbEQsR0FBSW0wQyxHQUdBLEdBRjhCTixFQTV6Q3hCLElBNHpDOEMsR0FHL0NBLEVBQVkxRixLQUF3QixLQUNmLEVBQXJCMEYsRUFoMENDLE1BZzBDb0RGLEVBQVcsQ0FDakVFLEVBajBDRSxJQWkwQ29CLEtBQ3RCeEgsR0FBUyxFQUE0QmdJLEVBQVdELEdBQ2hELElBQ0lBLEVBQUtsOEMsS0FBS204QyxHQUVkLFFBQ0loSSxHQUFTLEVBQTBCZ0ksRUFBV0QsU0FJckQsQ0FDRC9ILEdBQVMsRUFBNEJnSSxFQUFXRCxHQUNoRCxJQUNJQSxFQUFLbDhDLEtBQUttOEMsR0FFZCxRQUNJaEksR0FBUyxFQUEwQmdJLEVBQVdELEtBWTFELE1BQU1FLElBQXNCLEVBK0Y1QixNQUFNQyxHQUNGajhDLFlBSUF0QixFQUlBdzlDLEVBQWdCQyxHQUNaajlDLEtBQUtSLFFBQVVBLEVBS2ZRLEtBQUtrOUMsV0FBWSxFQUNqQnRXLFdBQWF5QixFQUFjN29DLEVBQVMseUJBQ3BDb25DLFdBQWFrQixTQUFtQnRvQyxFQUFTLFdBQVksOEJBQ3JEUSxLQUFLbTlDLG9CQUFzQkgsRUFDM0JoOUMsS0FBS285QyxXQUFhSCxHQWMxQixTQUFTSSxHQUFvQkMsR0FDekIsSUFBSUMsRUFBTyxHQVFYLE9BUGEsRUFBWkQsSUFBOEJDLEdBQVEsU0FDMUIsRUFBWkQsSUFBaUNDLEdBQVEsWUFDN0IsRUFBWkQsSUFBbUNDLEdBQVEsY0FDL0IsRUFBWkQsSUFBMENDLEdBQVEscUJBQ3RDLEdBQVpELElBQXFDQyxHQUFRLGVBQ2pDLEdBQVpELElBQThCQyxHQUFRLGlCQUMxQixHQUFaRCxJQUFzQ0MsR0FBUSxnQkFDeENBLEVBQUt2MkMsT0FBUyxFQUFJdTJDLEVBQUt6WCxVQUFVLEdBQUt5WCxFQTZEakQsU0FBU0MsR0FBZ0I1UixFQUFPNlIsRUFBZXR2QixHQUMzQ2thLEVBQWN1RCxFQUFPLGlDQUNnQixJQUFoQ0EsRUFBTS9QLEtBQU80aEIsSUFDZHY1QyxFQUFXaXFCLEdBQ1AsYUFBYWt2QixHQUFvQkksZUFBMkJKLEdBQW9CelIsRUFBTS9QLFVBMENsRyxTQUFTNmhCLEdBQWdCbkksRUFBVW9JLEVBQVFDLEdBQ3ZDLE1BQU1DLEVBQVN2SSxHQUFxQkMsR0FDcEMsSUFBSS9zQyxFQUFJLEVBQ1IsS0FBT0EsRUFBSW8xQyxFQUFNNTJDLFFBQVEsQ0FDckIsTUFBTS9GLEVBQVEyOEMsRUFBTXAxQyxHQUNwQixHQUFxQixpQkFBVnZILEVBQW9CLENBRzNCLEdBQWMsSUFBVkEsRUFDQSxNQUlKdUgsSUFDQSxNQUFNczFDLEVBQWVGLEVBQU1wMUMsS0FDckJ1MUMsRUFBV0gsRUFBTXAxQyxLQUNqQncxQyxFQUFVSixFQUFNcDFDLEtBQ3RCbytCLFdBQWFBLFVBQVVzRix1QkFDdkIyUixFQUNJdEksRUFBUzBJLGFBQWFOLEVBQVFJLEVBQVVDLEVBQVNGLEdBQ2pESCxFQUFPTyxlQUFlSixFQUFjQyxFQUFVQyxPQUVqRCxDQUVELE1BQU1ELEVBQVc5OEMsRUFDWCs4QyxFQUFVSixJQUFRcDFDLEdBRXhCbytCLFdBQWFBLFVBQVVzRix1QkFDbkJpUyxHQUFnQkosR0FDWkYsR0FDQXRJLEVBQVM2SSxZQUFZVCxFQUFRSSxFQUFVQyxHQUkzQ0gsRUFDSXRJLEVBQVMwSSxhQUFhTixFQUFRSSxFQUFVQyxHQUN4Q0wsRUFBT00sYUFBYUYsRUFBVUMsR0FFdEN4MUMsS0FPUixPQUFPQSxFQVNYLFNBQVM2MUMsR0FBMEJDLEdBQy9CLE9BQWtCLElBQVhBLEdBQTBDLElBQVhBLEdBQ3ZCLElBQVhBLEVBRVIsU0FBU0gsR0FBZ0IvdkIsR0FJckIsT0FBOEIsS0FBdkJBLEVBQUttd0IsV0FBVyxHQVUzQixTQUFTQyxHQUFlQyxFQUFLQyxHQUN6QixHQUFZLE9BQVJBLEdBQStCLElBQWZBLEVBQUkxM0MsYUFHbkIsR0FBWSxPQUFSeTNDLEdBQStCLElBQWZBLEVBQUl6M0MsT0FFekJ5M0MsRUFBTUMsRUFBSW4yQyxZQUVULENBQ0QsSUFBSW8yQyxHQUFhLEVBQ2pCLElBQUssSUFBSW4yQyxFQUFJLEVBQUdBLEVBQUlrMkMsRUFBSTEzQyxPQUFRd0IsSUFBSyxDQUNqQyxNQUFNcXNCLEVBQU82cEIsRUFBSWwyQyxHQUNHLGlCQUFUcXNCLEVBQ1A4cEIsRUFBWTlwQixFQUdNLElBQWQ4cEIsR0FNQUMsR0FBbUJILEVBQUtFLEVBQVc5cEIsRUFBTSxNQUhyQixJQUFmOHBCLEdBQ1MsSUFBZEEsRUFFK0NELElBQU1sMkMsR0FJTixPQUsvRCxPQUFPaTJDLEVBV1gsU0FBU0csR0FBbUJILEVBQUtILEVBQVE1aUIsRUFBTUMsRUFBTTE2QixHQUNqRCxJQUFJdUgsRUFBSSxFQUVKcTJDLEVBQXVCSixFQUFJejNDLE9BRS9CLElBQWdCLElBQVpzM0MsRUFDQU8sR0FBd0IsT0FHeEIsS0FBT3IyQyxFQUFJaTJDLEVBQUl6M0MsUUFBUSxDQUNuQixNQUFNODNDLEVBQVdMLEVBQUlqMkMsS0FDckIsR0FBd0IsaUJBQWJzMkMsRUFBdUIsQ0FDOUIsR0FBSUEsSUFBYVIsRUFBUSxDQUNyQk8sR0FBd0IsRUFDeEIsTUFFQyxHQUFJQyxFQUFXUixFQUFRLENBRXhCTyxFQUF1QnIyQyxFQUFJLEVBQzNCLFFBTWhCLEtBQU9BLEVBQUlpMkMsRUFBSXozQyxRQUFRLENBQ25CLE1BQU02dEIsRUFBTzRwQixFQUFJajJDLEdBQ2pCLEdBQW9CLGlCQUFUcXNCLEVBR1AsTUFFQyxHQUFJQSxJQUFTNkcsRUFBTSxDQUVwQixHQUFhLE9BQVRDLEVBSUEsWUFIYyxPQUFWMTZCLElBQ0F3OUMsRUFBSWoyQyxFQUFJLEdBQUt2SCxJQUloQixHQUFJMDZCLElBQVM4aUIsRUFBSWoyQyxFQUFJLEdBRXRCLFlBREFpMkMsRUFBSWoyQyxFQUFJLEdBQUt2SCxHQUtyQnVILElBQ2EsT0FBVG16QixHQUNBbnpCLElBQ1UsT0FBVnZILEdBQ0F1SCxLQUdzQixJQUExQnEyQyxJQUNBSixFQUFJLzFDLE9BQU9tMkMsRUFBc0IsRUFBR1AsR0FDcEM5MUMsRUFBSXEyQyxFQUF1QixHQUUvQkosRUFBSS8xQyxPQUFPRixJQUFLLEVBQUdrekIsR0FDTixPQUFUQyxHQUNBOGlCLEVBQUkvMUMsT0FBT0YsSUFBSyxFQUFHbXpCLEdBRVQsT0FBVjE2QixHQUNBdzlDLEVBQUkvMUMsT0FBT0YsSUFBSyxFQUFHdkgsR0FZM0IsU0FBUzg5QyxHQUFrQkMsR0FDdkIsT0FBT0EsSUFBbUJsQyxHQUU5QixTQUFTbUMsR0FBdUJELEdBTTVCLE9BTEFwWSxXQUFhVSxFQUFhMFgsRUFBZ0IsbUJBQzFDcFksV0FBYW9CLEVBQWVnWCxHQUFpQixFQUFHLHNCQUVoRHBZLFdBQ0l3QixFQUZ5QyxNQUFqQjRXLEVBRWUxTixHQUFlLHdEQUNsQyxNQUFqQjBOLEVBY1gsU0FBU0UsR0FBc0IxVCxFQUFVMlQsR0FDckMsSUFBSUMsRUFBeUM1VCxHQVpwQixHQWFyQjZULEVBQWFGLEVBS2pCLEtBQU9DLEVBQWEsR0FDaEJDLEVBQWFBLEVBQVd4RixJQUN4QnVGLElBRUosT0FBT0MsRUE4Q1gsSUFBSUMsSUFBdUIsRUFDM0IsU0FBU0MsR0FBd0Jwc0MsR0FDN0IsTUFBTW1ZLEVBQVdnMEIsR0FFakIsT0FEQUEsR0FBdUJuc0MsRUFDaEJtWSxFQWdCWCxJQUFJazBCLEdBQWtCLEVBMEN0QixTQUFTQyxHQUErQjdULEVBQU9tRyxHQUMzQyxNQUFNMk4sRUFBd0JDLEdBQWlCL1QsRUFBT21HLEdBQ3RELElBQStCLElBQTNCMk4sRUFDQSxPQUFPQSxFQUVYLE1BQU03VCxFQUFRa0csRUFqNkRKLEdBazZETmxHLEVBQU1GLGtCQUNOQyxFQUFNMEgsY0FBZ0J2QixFQUFNL3FDLE9BQzVCNDRDLEdBQVkvVCxFQUFNcFAsS0FBTW1QLEdBQ3hCZ1UsR0FBWTdOLEVBQU8sTUFDbkI2TixHQUFZL1QsRUFBTWdVLFVBQVcsT0FFakMsTUFBTUMsRUFBWUMsR0FBMEJuVSxFQUFPbUcsR0FDN0N1QixFQUFnQjFILEVBQU0wSCxjQUc1QixHQUFJeUwsR0FBa0JlLEdBQVksQ0FDOUIsTUFBTUUsRUFBY2YsR0FBdUJhLEdBQ3JDbkcsRUFBY3VGLEdBQXNCWSxFQUFXL04sR0FDL0NrTyxFQUFhdEcsRUEvNkRiLEdBKzZEZ0NsZCxLQUd0QyxJQUFLLElBQUlqMEIsRUFBSSxFQUFHQSxFQUFJLEVBQW9CQSxJQUNwQ3VwQyxFQUFNdUIsRUFBZ0I5cUMsR0FBS214QyxFQUFZcUcsRUFBY3gzQyxHQUFLeTNDLEVBQVdELEVBQWN4M0MsR0FJM0YsT0FEQXVwQyxFQUFNdUIsRUFBZ0IsR0FBa0J3TSxFQUNqQ3hNLEVBRVgsU0FBU3NNLEdBQVkxd0IsRUFBS2d4QixHQUN0Qmh4QixFQUFJaG5CLEtBQUssRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHZzRDLEdBRXJDLFNBQVNQLEdBQWlCL1QsRUFBT21HLEdBQzdCLE9BQTZCLElBQXpCbkcsRUFBTTBILGVBR0wxSCxFQUFNejlCLFFBQVV5OUIsRUFBTXo5QixPQUFPbWxDLGdCQUFrQjFILEVBQU0wSCxlQUdOLE9BQWhEdkIsRUFBTW5HLEVBQU0wSCxjQUFnQixJQUNwQixHQUdSMU0sV0FBYThCLEVBQW1CcUosRUFBT25HLEVBQU0wSCxlQUN0QzFILEVBQU0wSCxlQVVyQixTQUFTeU0sR0FBMEJuVSxFQUFPbUcsR0FDdEMsR0FBSW5HLEVBQU16OUIsU0FBMEMsSUFBaEN5OUIsRUFBTXo5QixPQUFPbWxDLGNBRzdCLE9BQU8xSCxFQUFNejlCLE9BQU9tbEMsY0FLeEIsSUFBSTZNLEVBQXdCLEVBQ3hCekcsRUFBYyxLQUNkMEcsRUFBY3JPLEVBSWxCLEtBQXVCLE9BQWhCcU8sR0FBc0IsQ0FFekIsTUFBTXZVLEVBQVF1VSxFQW4rRFIsR0FvK0RBQyxFQUFZeFUsRUFBTWhRLEtBZXhCLEdBZGtCLElBQWR3a0IsR0FDQXpaLFdBQ0l5QixFQUFjd0QsRUFBTTBOLFVBQVcsb0RBQ25DRyxFQUFjN04sRUFBTTBOLFdBRUQsSUFBZDhHLEVBR0wzRyxFQUFjMEcsRUF4K0RYLElBMitESHhaLFdBQWFrQixFQUFZK0QsRUFBTWhRLEtBQU0sRUFBYyxzQkFDbkQ2ZCxFQUFjLE1BRUUsT0FBaEJBLEVBRUEsT0FBT29ELEdBTVgsR0FKQWxXLFdBQWE4UyxHQUFlNUgsR0FBb0I0SCxFQUFhMEcsRUFBWXZHLEtBRXpFc0csSUFDQUMsRUFBY0EsRUFBWXZHLEtBQ1MsSUFBL0JILEVBQVlwRyxjQUVaLE9BQVFvRyxFQUFZcEcsY0FDZjZNLEdBQXlCLEdBR3RDLE9BQU9yRCxHQVNYLFNBQVN3RCxHQUFtQmhOLEVBQWV6SCxFQUFPakwsSUEvSWxELFNBQWtCMFMsRUFBZXpILEVBQU9oUSxHQUVwQyxJQUFJakosRUFESmdVLFdBQWFrQixFQUFZK0QsRUFBTUYsaUJBQWlCLEVBQU0sdUNBRWxDLGlCQUFUOVAsRUFDUGpKLEVBQUtpSixFQUFLMGlCLFdBQVcsSUFBTSxFQUV0QjFpQixFQUFLcDdCLGVBQWVrdEMsTUFDekIvYSxFQUFLaUosRUFBSzhSLEtBSUosTUFBTi9hLElBQ0FBLEVBQUtpSixFQUFLOFIsSUFBaUI2UixNQUkvQixNQUFNZSxFQWpDU0MsSUFpQ0c1dEIsRUFJWjZ0QixFQUFPLEdBQUtGLEVBSWxCMVUsRUFBTXBQLEtBQUs2VyxHQUFpQmlOLEdBbkNOLEtBbUMwQ0UsRUF3SGhFQyxDQUFTcE4sRUFBZXpILEVBQU9qTCxHQTRFbkMsU0FBUytmLEdBQXFCelcsRUFBZXRKLEVBQU91SixHQUNoRCxHQUFJQSxFQUFRUCxFQUFZUyxTQUNwQixPQUFPSCxFQUdQL0MsRUFBMkJ2RyxFQUFPLGdCQVkxQyxTQUFTZ2dCLEdBQStCN08sRUFBT25SLEVBQU91SixFQUFPRCxHQUt6RCxHQUpJQyxFQUFRUCxFQUFZUyxlQUE4QjlsQyxJQUFsQjJsQyxJQUVoQ0EsRUFBZ0IsTUFFb0MsSUFBbkRDLEdBQVNQLEVBQVlpWCxLQUFPalgsRUFBWWdRLE9BQWMsQ0FDdkQsTUFBTWtILEVBQWlCL08sRUF0bUVaLEdBMG1FTGdQLEVBQStCalgsT0FBd0J2bEMsR0FDN0QsSUFDSSxPQUFJdThDLEVBQ09BLEVBQWV6K0MsSUFBSXUrQixFQUFPc0osRUFBZUMsRUFBUVAsRUFBWVMsVUFHN0RKLEVBQW1CckosRUFBT3NKLEVBQWVDLEVBQVFQLEVBQVlTLFVBRzVFLFFBQ0lQLEVBQXdCaVgsSUFHaEMsT0FBT0osR0FBcUJ6VyxFQUFldEosRUFBT3VKLEdBa0J0RCxTQUFTNlcsR0FBc0JwVixFQUFPbUcsRUFBT25SLEVBQU91SixFQUFRUCxFQUFZZ0IsUUFBU1YsR0FDN0UsR0FBYyxPQUFWMEIsRUFBZ0IsQ0FDaEIsTUFBTTJVLEVBbU5kLFNBQStCM2YsR0FFM0IsR0FEQWdHLFdBQWF5QixFQUFjekgsRUFBTyx5QkFDYixpQkFBVkEsRUFDUCxPQUFPQSxFQUFNMmQsV0FBVyxJQUFNLEVBRWxDLE1BQU0wQyxFQUVOcmdCLEVBQU1uZ0MsZUFBZWt0QyxJQUFpQi9NLEVBQU0rTSxTQUFpQnBwQyxFQUU3RCxNQUF1QixpQkFBWjA4QyxFQUNIQSxHQUFXLEVBdGdCSlQsSUF1Z0JBUyxHQUdQcmEsV0FDSWtCLEVBQVltWixHQUFVLEVBQWtCLHdDQUNyQ0MsSUFJSkQsRUF2T1dFLENBQXNCdmdCLEdBR3hDLEdBQXlCLG1CQUFkMmYsRUFBMEIsQ0FDakMsSUFBSy9HLEdBQVF6SCxFQUFPbkcsRUFBT3pCLEdBR3ZCLE9BQVFBLEVBQVFQLEVBQVlnUSxLQUN4QitHLEdBQXFCelcsRUFBZXRKLEVBQU91SixHQUMzQ3lXLEdBQStCN08sRUFBT25SLEVBQU91SixFQUFPRCxHQUU1RCxJQUNJLE1BQU1qcEMsRUFBUXMvQyxFQUFVcFcsR0FDeEIsR0FBYSxNQUFUbHBDLEdBQW1Ca3BDLEVBQVFQLEVBQVlTLFNBSXZDLE9BQU9wcEMsRUFIUGttQyxFQUEyQnZHLEdBTW5DLFFBQ0krWixXQUdILEdBQXlCLGlCQUFkNEYsRUFBd0IsQ0FJcEMsSUFBSWEsRUFBZ0IsS0FDaEI5TixFQUFnQnFNLEdBQWlCL1QsRUFBT21HLEdBQ3hDaU4sRUFBaUJsQyxHQUNqQnVFLEVBQW1CbFgsRUFBUVAsRUFBWWdRLEtBQU83SCxFQUFNdVAsSUE3cUVyRCxHQTZxRTJGLEtBaUI5RixNQWR1QixJQUFuQmhPLEdBQXdCbkosRUFBUVAsRUFBWTZQLFlBQzVDdUYsR0FBb0MsSUFBbkIxTCxFQUF1QnlNLEdBQTBCblUsRUFBT21HLEdBQ3JFQSxFQUFNdUIsRUFBZ0IsR0FDdEIwTCxJQUFtQmxDLElBQXVCeUUsR0FBbUJwWCxHQUFPLElBSXBFaVgsRUFBZ0JyUCxFQTVyRXRCLEdBNnJFTXVCLEVBQWdCMkwsR0FBdUJELEdBQ3ZDak4sRUFBUW1OLEdBQXNCRixFQUFnQmpOLElBTDlDdUIsR0FBaUIsSUFVQyxJQUFuQkEsR0FBc0IsQ0FDekIxTSxXQUFheU0sR0FBbUJ0QixFQUFPdUIsR0FFdkMsTUFBTXpILEVBQVFrRyxFQXRzRWhCLEdBeXNFRSxHQUZBbkwsV0FDSWtMLEdBQW9CakcsRUFBTXBQLEtBQUs2VyxFQUFnQixHQUFnQnZCLEdBQy9EeVAsR0FBY2pCLEVBQVdqTixFQUFlekgsRUFBTXBQLE1BQU8sQ0FJckQsTUFBTXhILEVBQVd3c0IsR0FBdUJuTyxFQUFldkIsRUFBT25SLEVBQU93Z0IsRUFBZWpYLEVBQU9rWCxHQUMzRixHQUFJcHNCLElBQWF5c0IsR0FDYixPQUFPenNCLEVBR2YrcEIsRUFBaUJqTixFQUFNdUIsRUFBZ0IsR0FDbkMwTCxJQUFtQmxDLElBQ25CeUUsR0FBbUJwWCxFQUFPNEgsRUFwdEVoQyxHQW90RTZDdFYsS0FBSzZXLEVBQWdCLEtBQW1CK04sSUFDL0VHLEdBQWNqQixFQUFXak4sRUFBZXZCLElBR3hDcVAsRUFBZ0J2VixFQUNoQnlILEVBQWdCMkwsR0FBdUJELEdBQ3ZDak4sRUFBUW1OLEdBQXNCRixFQUFnQmpOLElBTTlDdUIsR0FBaUIsSUFLakMsT0FBT3NOLEdBQStCN08sRUFBT25SLEVBQU91SixFQUFPRCxHQUUvRCxNQUFNd1gsR0FBWSxHQUNsQixTQUFTUixLQUNMLE9BQU8sSUFBSVMsR0FBYWxLLEtBQW1CSixNQUUvQyxTQUFTb0ssR0FBdUJuTyxFQUFldkIsRUFBT25SLEVBQU93Z0IsRUFBZWpYLEVBQU9rWCxHQUMvRSxNQUFNTyxFQUFlN1AsRUE1dUVYLEdBNnVFSm5HLEVBQVFnVyxFQUFhbmxCLEtBQUs2VyxFQUFnQixHQXNCMUN1TyxFQUFnQkMsR0FBMEJsVyxFQUFPZ1csRUFBY2hoQixFQW5CckIsTUFBakJ3Z0IsRUFRMUJ6UCxHQUFnQi9GLElBQVUwVCxHQU8xQjhCLEdBQWlCUSxHQUFxRCxJQUF0QixFQUFiaFcsRUFBTS9QLE1BR25Cc08sRUFBUVAsRUFBWWdRLE1BQVN5SCxJQUFxQnpWLEdBRTdFLE9BQXNCLE9BQWxCaVcsRUFDT0UsR0FBa0JoUSxFQUFPNlAsRUFBY0MsRUFBZWpXLEdBR3REOFYsR0FhZixTQUFTSSxHQUEwQmxXLEVBQU9DLEVBQU9qTCxFQUFPb2hCLEVBQXdCQyxHQUM1RSxNQUFNQyxFQUFzQnRXLEVBQU11VyxnQkFDNUJDLEVBQWV2VyxFQUFNcFAsS0FDckI0bEIsRUFBeUMsUUFBdEJILEVBQ25CSSxFQUFrQjFXLEVBQU1xUCxlQUN4QkUsRUFBZXZQLEVBQU11UCxhQUNyQm9ILEVBQXdCTCxHQUF1QixHQUcvQ00sRUFBV1AsRUFBb0JJLEVBQW1CRSxFQUF3QnBILEVBQ2hGLElBQUssSUFBSTN5QyxFQUhhdzVDLEVBQXlCSyxFQUFtQkEsRUFBbUJFLEVBR3pELzVDLEVBQUlnNkMsRUFBVWg2QyxJQUFLLENBQzNDLE1BQU1pNkMsRUFBcUJMLEVBQWE1NUMsR0FDeEMsR0FBSUEsRUFBSTg1QyxHQUFtQjFoQixJQUFVNmhCLEdBQ2pDajZDLEdBQUs4NUMsR0FBbUJHLEVBQW1CNW1CLE9BQVMrRSxFQUNwRCxPQUFPcDRCLEVBR2YsR0FBSXk1QyxFQUFtQixDQUNuQixNQUFNUyxFQUFTTixFQUFhRSxHQUM1QixHQUFJSSxHQUFVN1EsR0FBZTZRLElBQVdBLEVBQU83bUIsT0FBUytFLEVBQ3BELE9BQU8waEIsRUFHZixPQUFPLEtBU1gsU0FBU1AsR0FBa0JoUSxFQUFPbEcsRUFBT3p0QixFQUFPd3RCLEdBQzVDLElBQUkzcUMsRUFBUTh3QyxFQUFNM3pCLEdBQ2xCLE1BQU04NkIsRUFBUXJOLEVBQU1wUCxLQUNwQixHQUFjeDdCLGFBcDJCUTg3QyxHQW8yQkEsQ0FDbEIsTUFBTXY5QyxFQUFVeUIsRUFDWnpCLEVBQVEwOUMsV0FDUm5XLEVBQTJCRCxFQUFrQm9TLEVBQU05NkIsS0FFdkQsTUFBTXVrQyxFQUErQnBELEdBQXdCLy9DLEVBQVEyOUMscUJBQ3JFMzlDLEVBQVEwOUMsV0FBWSxFQUNwQixNQUFNNkQsRUFBK0J2aEQsRUFBUTQ5QyxXQUFhdFQsRUFBd0J0cUMsRUFBUTQ5QyxZQUFjLEtBQ2xHcGdCLEVBQVV3YyxHQUFRekgsRUFBT25HLEVBQU9oQyxFQUFZZ0IsU0FDbERoRSxXQUNJa0IsRUFBWTlLLEdBQVMsRUFBTSw2RUFDL0IsSUFDSS83QixFQUFROHdDLEVBQU0zekIsR0FBUzVlLEVBQVFBLGFBQVErRSxFQUFXMjBDLEVBQU9uSCxFQUFPbkcsR0FPNURDLEVBQU1GLGlCQUFtQnZ0QixHQUFTd3RCLEVBQU1xUCxpQkFDeENyVSxpQkFyckVLcmlDLEtBRE8rUCxFQXNyRW9CNGtDLEVBQU05NkIsSUFyckUxQ3lkLE1BQXVDdDNCLE1BQWpCK1AsRUFBSTI2QixnQkFBeUMxcUMsSUFBZitQLEVBQUkwYyxRQUM1RDlzQixFQUFXLG1HQXkrQm5CLFNBQStCMCtDLEVBQWdCeEgsRUFBY3ZQLEdBQ3pEakYsV0FBYStMLEdBQXNCOUcsR0FDbkMsTUFBTSxZQUFFbUksRUFBVyxTQUFFNk8sRUFBUSxVQUFFQyxHQUFjMUgsRUFBYXZmLEtBQUtyN0IsVUFDL0QsR0FBSXd6QyxFQUFhLENBQ2IsTUFBTStPLEVBQW1CalAsR0FBdUJzSCxJQUMvQ3ZQLEVBQU1tWCxnQkFBa0JuWCxFQUFNbVgsY0FBZ0IsS0FBSzk2QyxLQUFLMDZDLEVBQWdCRyxJQUN4RWxYLEVBQU1vWCxxQkFBdUJwWCxFQUFNb1gsbUJBQXFCLEtBQ3BELzZDLEtBQUswNkMsRUFBZ0JHLEdBRTFCRixJQUNDaFgsRUFBTW1YLGdCQUFrQm5YLEVBQU1tWCxjQUFnQixLQUFLOTZDLEtBQUssRUFBSTA2QyxFQUFnQkMsR0FFN0VDLEtBQ0NqWCxFQUFNbVgsZ0JBQWtCblgsRUFBTW1YLGNBQWdCLEtBQUs5NkMsS0FBSzA2QyxFQUFnQkUsSUFDeEVqWCxFQUFNb1gscUJBQXVCcFgsRUFBTW9YLG1CQUFxQixLQUFLLzZDLEtBQUswNkMsRUFBZ0JFLElBOHJDM0VJLENBQXNCOWtDLEVBQU84NkIsRUFBTTk2QixHQUFReXRCLElBR25ELFFBQ3FDLE9BQWpDa1YsR0FDSWpYLEVBQXdCaVgsR0FDNUJ4QixHQUF3Qm9ELEdBQ3hCbmpELEVBQVEwOUMsV0FBWSxFQUNwQnZDLE1BL3JFWixJQUE0QnJtQyxFQWtzRXhCLE9BQU9yVCxFQXFDWCxTQUFTdWdELEdBQWNqQixFQUFXak4sRUFBZTZQLEdBSTdDLE1BQU0xQyxFQUFPLEdBQUtGLEVBT2xCLFNBSGM0QyxFQUFhN1AsR0FBaUJpTixHQXJoQnRCLElBd2hCSkUsR0FHdEIsU0FBU2MsR0FBbUJwWCxFQUFPaVosR0FDL0IsUUFBU2paLEVBQVFQLEVBQVlpWCxNQUFXMVcsRUFBUVAsRUFBWWdRLE1BQVF3SixHQUV4RSxNQUFNekIsR0FDRjdnRCxZQUFZdWlELEVBQVFDLEdBQ2hCdGpELEtBQUtxakQsT0FBU0EsRUFDZHJqRCxLQUFLc2pELE9BQVNBLEVBRWxCamhELElBQUl1K0IsRUFBT3NKLEVBQWVDLEdBQ3RCLE9BQU82VyxHQUFzQmhoRCxLQUFLcWpELE9BQVFyakQsS0FBS3NqRCxPQUFRMWlCLEVBQU91SixFQUFPRCxJQU03RSxTQUFTLEdBQXNCck8sR0FDM0IsT0FBT3lPLEdBQWMsS0FDakIsTUFBTWlaLEVBQWlCMW5CLEVBQUtyN0IsVUFBVU0sWUFDaEMwaUQsRUFBYUQsRUFBZTdWLEtBQW1CK1YsR0FBYUYsR0FDNURHLEVBQWtCdmpELE9BQU9LLFVBQy9CLElBQUkyTixFQUFTaE8sT0FBT3MwQixlQUFlb0gsRUFBS3I3QixXQUFXTSxZQUVuRCxLQUFPcU4sR0FBVUEsSUFBV3UxQyxHQUFpQixDQUN6QyxNQUFNbGtELEVBQVUyTyxFQUFPdS9CLEtBQW1CK1YsR0FBYXQxQyxHQU12RCxHQUFJM08sR0FBV0EsSUFBWWdrRCxFQUN2QixPQUFPaGtELEVBRVgyTyxFQUFTaE8sT0FBT3MwQixlQUFldG1CLEdBTW5DLE9BQU93RSxHQUFLLElBQUlBLEtBR3hCLFNBQVM4d0MsR0FBYTVuQixHQUNsQixPQUFJeUssRUFBYXpLLEdBQ04sS0FDSCxNQUFNcjhCLEVBQVVpa0QsR0FBYXBkLEVBQWtCeEssSUFDL0MsT0FBT3I4QixHQUFXQSxLQUduQit6QyxHQUFjMVgsR0FlekIsU0FBUyxHQUFrQjhuQixHQUN2QixPQS9aSixTQUE2Qi9YLEVBQU8rWCxHQUdoQyxHQUZBL2MsV0FBYTRXLEdBQWdCNVIsRUFBTyxJQUNwQ2hGLFdBQWF5QixFQUFjdUQsRUFBTyxtQkFDVCxVQUFyQitYLEVBQ0EsT0FBTy9YLEVBQU1nWSxRQUVqQixHQUF5QixVQUFyQkQsRUFDQSxPQUFPL1gsRUFBTTBELE9BRWpCLE1BQU1zTyxFQUFRaFMsRUFBTWdTLE1BQ3BCLEdBQUlBLEVBQU8sQ0FDUCxNQUFNaUcsRUFBY2pHLEVBQU01MkMsT0FDMUIsSUFBSXdCLEVBQUksRUFDUixLQUFPQSxFQUFJcTdDLEdBQWEsQ0FDcEIsTUFBTTVpRCxFQUFRMjhDLEVBQU1wMUMsR0FFcEIsR0FBSTYxQyxHQUEwQnA5QyxHQUMxQixNQUVKLEdBQWMsSUFBVkEsRUFLQXVILEdBQVEsT0FFUCxHQUFxQixpQkFBVnZILEVBR1osSUFEQXVILElBQ09BLEVBQUlxN0MsR0FBbUMsaUJBQWJqRyxFQUFNcDFDLElBQ25DQSxRQUdILElBQUl2SCxJQUFVMGlELEVBQ2YsT0FBTy9GLEVBQU1wMUMsRUFBSSxHQUdqQkEsR0FBUSxJQUlwQixPQUFPLEtBc1hBczdDLENBQW9Cck0sS0FBbUJrTSxHQVVsRCxNQUFNSSxHQUFjLGtCQUNkQyxHQUFhLGlCQUNiQyxHQUFnQixxQkFJdEIsU0FBU0MsR0FBYzkxQixFQUFNKzFCLEVBQU9DLEVBQWFDLEVBQXNCQyxHQUNuRSxPQUFPaGEsR0FBYyxLQUNqQixNQUFNaWEsRUFBV0MsR0FBaUJMLEdBQ2xDLFNBQVNNLEtBQW9CN3pDLEdBQ3pCLEdBQUk1USxnQkFBZ0J5a0QsRUFFaEIsT0FEQUYsRUFBUzdqRCxLQUFLVixRQUFTNFEsR0FDaEI1USxLQUVYLE1BQU0wa0QsRUFBcUIsSUFBSUQsS0FBb0I3ekMsR0FDbkQsT0FBTyxTQUF1Qit6QyxHQVcxQixPQVZJTCxHQUNBQSxFQUFPSyxLQUFRL3pDLElBR0MrekMsRUFBSWxrRCxlQUFlc2pELElBQ25DWSxFQUFJWixJQUNKNWpELE9BQU9hLGVBQWUyakQsRUFBS1osR0FBYSxDQUFFOWlELE1BQU8sS0FBTThpRCxLQUMvQzc3QyxLQUFLdzhDLEdBQ2JMLEdBQ0FBLEVBQXFCTSxHQUNsQkEsR0FRZixPQUxJUCxJQUNBSyxFQUFpQmprRCxVQUFZTCxPQUFPWSxPQUFPcWpELEVBQVk1akQsWUFFM0Rpa0QsRUFBaUJqa0QsVUFBVW9rRCxlQUFpQngyQixFQUM1Q3EyQixFQUFpQkksY0FBZ0JKLEVBQzFCQSxLQUdmLFNBQVNELEdBQWlCTCxHQUN0QixPQUFPLFlBQWlCdnpDLEdBQ3BCLEdBQUl1ekMsRUFBTyxDQUNQLE1BQU05ekMsRUFBUzh6QyxLQUFTdnpDLEdBQ3hCLElBQUssTUFBTWswQyxLQUFZejBDLEVBQ25CclEsS0FBSzhrRCxHQUFZejBDLEVBQU95MEMsS0FLeEMsU0FBU0MsR0FBbUIzMkIsRUFBTSsxQixFQUFPQyxHQUNyQyxPQUFPOVosR0FBYyxLQUNqQixNQUFNaWEsRUFBV0MsR0FBaUJMLEdBQ2xDLFNBQVNhLEtBQXlCcDBDLEdBQzlCLEdBQUk1USxnQkFBZ0JnbEQsRUFFaEIsT0FEQVQsRUFBU2xqRCxNQUFNckIsS0FBTTRRLEdBQ2Q1USxLQUVYLE1BQU0wa0QsRUFBcUIsSUFBSU0sS0FBeUJwMEMsR0FFeEQsT0FEQXEwQyxFQUFlQyxXQUFhUixFQUNyQk8sRUFDUCxTQUFTQSxFQUFlTixFQUFLUSxFQUFXL21DLEdBR3BDLE1BQU1nbkMsRUFBYVQsRUFBSWxrRCxlQUFldWpELElBQ2xDVyxFQUFJWCxJQUNKN2pELE9BQU9hLGVBQWUyakQsRUFBS1gsR0FBWSxDQUFFL2lELE1BQU8sS0FBTStpRCxJQUcxRCxLQUFPb0IsRUFBV3ArQyxRQUFVb1gsR0FDeEJnbkMsRUFBV2w5QyxLQUFLLE1BR3BCLE9BRENrOUMsRUFBV2huQyxHQUFTZ25DLEVBQVdobkMsSUFBVSxJQUFJbFcsS0FBS3c4QyxHQUM1Q0MsR0FRZixPQUxJUCxJQUNBWSxFQUFzQnhrRCxVQUFZTCxPQUFPWSxPQUFPcWpELEVBQVk1akQsWUFFaEV3a0QsRUFBc0J4a0QsVUFBVW9rRCxlQUFpQngyQixFQUNqRDQyQixFQUFzQkgsY0FBZ0JHLEVBQy9CQSxLQUdmLFNBQVNLLEdBQWtCajNCLEVBQU0rMUIsRUFBT0MsRUFBYUMsR0FDakQsT0FBTy9aLEdBQWMsS0FDakIsTUFBTWlhLEVBQVdDLEdBQWlCTCxHQUNsQyxTQUFTbUIsS0FBd0IxMEMsR0FDN0IsR0FBSTVRLGdCQUFnQnNsRCxFQUVoQixPQURBZixFQUFTbGpELE1BQU1yQixLQUFNNFEsR0FDZDVRLEtBRVgsTUFBTXVsRCxFQUFvQixJQUFJRCxLQUF3QjEwQyxHQWF0RCxPQVpBLFNBQXVCODBCLEVBQVF0WCxHQUMzQixNQUFNdHRCLEVBQWM0a0MsRUFBTzVrQyxZQUdyQjJ0QixFQUFPM3RCLEVBQVlMLGVBQWV3akQsSUFDcENuakQsRUFBWW1qRCxJQUNaOWpELE9BQU9hLGVBQWVGLEVBQWFtakQsR0FBZSxDQUFFaGpELE1BQU8sS0FBTWdqRCxJQUNyRXgxQixFQUFLTCxHQUFRSyxFQUFLaHVCLGVBQWUydEIsSUFBU0ssRUFBS0wsSUFBUyxHQUN4REssRUFBS0wsR0FBTW8zQixRQUFRRCxHQUNmbEIsR0FDQUEsRUFBcUIzZSxFQUFRdFgsS0FBU3hkLElBU2xELE9BTEl3ekMsSUFDQWtCLEVBQXFCOWtELFVBQVlMLE9BQU9ZLE9BQU9xakQsRUFBWTVqRCxZQUUvRDhrRCxFQUFxQjlrRCxVQUFVb2tELGVBQWlCeDJCLEVBQ2hEazNCLEVBQXFCVCxjQUFnQlMsRUFDOUJBLEtBaUJmLE1BQU1HLEdBQVlWLEdBQW1CLGFBQWNXLElBQWtCLENBQUdBLGNBQUFBLEVBQWU5WCxrQkFBbUIsSUFBTSxHQUFrQjhYLE9Ba0RsSSxNQUFNQyxHQU9GN2tELFlBQVk4a0QsRUFBT2o4QixHQUNmM3BCLEtBQUs0bEQsTUFBUUEsRUFFYjVsRCxLQUFLNGtELGVBQWlCLGlCQUN0QjVrRCxLQUFLLFdBQVF1RSxFQUNTLGlCQUFYb2xCLElBQ2Usb0JBQWRpZCxXQUE2QkEsWUFDakN1QixFQUFleGUsRUFBUyxFQUFHLDRDQUcvQjNwQixLQUFLNHRDLGtCQUFvQmprQixRQUVScGxCLElBQVpvbEIsSUFDTDNwQixLQUFLLE1BQVEsRUFBbUIsQ0FDNUI0Z0MsTUFBTzVnQyxLQUNQK29DLFdBQVlwZixFQUFRb2YsWUFBYyxPQUNsQ3ZwQyxRQUFTbXFCLEVBQVFucUIsV0FJN0IrMEIsV0FDSSxNQUFPLGtCQUFrQnYwQixLQUFLNGxELFNBZ0R0QyxNQUFNQyxHQUErQixJQUFJRixHQUFlLDZCQWN4RCxNQUFNRyxJQVNOLE1BQU1DLEdBQWtCVixHQUFrQixtQkFBbUIsQ0FBQ2hxQyxFQUFVb2hCLEVBQU8sS0FBUXQ4QixPQUFPNmxELE9BQU8sQ0FBRTNxQyxTQUFBQSxFQUFVZ0UsT0FBTyxFQUFPNG1DLGFBQWEsRUFBT0MsYUFBYSxFQUFPQyx5QkFwQjNILEdBb0IyTDFwQixJQUFRcXBCLElBU3pPTSxHQUFlZixHQUFrQixnQkFBZ0IsQ0FBQ2hxQyxFQUFVb2hCLEVBQU8sS0FBUXQ4QixPQUFPNmxELE9BQU8sQ0FBRTNxQyxTQUFBQSxFQUFVZ0UsT0FBTyxFQUFNNG1DLGFBQWEsRUFBT0MsYUFBYSxHQUFRenBCLElBQVFxcEIsSUFPbktPLEdBQWVoQixHQUFrQixnQkFBZ0IsQ0FBQ2hxQyxFQUFVb2hCLEVBQU8sS0FBUXQ4QixPQUFPNmxELE9BQU8sQ0FBRTNxQyxTQUFBQSxFQUFVZ0UsT0FBTyxFQUFPNG1DLGFBQWEsRUFBTUMsYUFBYSxFQUFNQyx5QkFwQ25ILEdBb0NtTDFwQixJQUFRcXBCLElBT2pPUSxHQUFZakIsR0FBa0IsYUFBYSxDQUFDaHFDLEVBQVVvaEIsSUFBVXQ4QixPQUFPNmxELE9BQU8sQ0FBRTNxQyxTQUFBQSxFQUFVZ0UsT0FBTyxFQUFNNG1DLGFBQWEsRUFBTUMsYUFBYSxHQUFRenBCLElBQVFxcEIsSUFTN0osSUFBSVMsR0FRQTFiLEdBZUosU0FBUzJiLEdBQWtCamxCLEdBQ3ZCLE1BQU1rbEIsRUFBV3BiLEdBQVksR0FDN0IsR0FBSW9iLEdBQVlBLEVBQVMsZ0JBQ3JCLE9BQU9BLEVBQVMsZ0JBRXBCLEdBQXlCLG9CQUFkN2YsV0FBNkJBLFVBQVcsQ0FHL0NoUSxRQUFRNTBCLE1BQU0sOEJBQThCdS9CLEVBQVFuK0IsT0FBUW0rQixFQUFRMUYsTUFDcEUsSUFBSTFOLEVBQVUsT0FBT29ULEVBQVFuK0IsU0FBU20rQixFQUNqQzFGLEtBQUt6TixtR0FpQlYsTUFoQnNCLElBQWxCbVQsRUFBUW1sQixPQUNSdjRCLEdBQVcsT0FBT29ULEVBQVFuK0IsZ0VBQzFCK3FCLEdBQ0ksNkdBQ0pBLEdBQVcsS0FDWEEsR0FDSSw4RkFHSkEsR0FDSSw4RkFFUkEsR0FDSSwrSUFDSkEsR0FDSSw4RkFDRSxJQUFJMUksTUFBTTBJLEdBR2hCLE1BQU0sSUFBSTFJLE1BQU0sNkJBcER4QixTQUFXOGdDLEdBQ1BBLEVBQWNBLEVBQXlCLFVBQUksR0FBSyxZQUNoREEsRUFBY0EsRUFBeUIsVUFBSSxHQUFLLFlBQ2hEQSxFQUFjQSxFQUEwQixXQUFJLEdBQUssYUFDakRBLEVBQWNBLEVBQW9CLEtBQUksR0FBSyxPQUMzQ0EsRUFBY0EsRUFBd0IsU0FBSSxHQUFLLFdBTG5ELENBTUdBLEtBQWtCQSxHQUFnQixLQUVyQyxTQUFXMWIsR0FDUEEsRUFBa0JBLEVBQTRCLFNBQUksR0FBSyxXQUV2REEsRUFBa0JBLEVBQXdCLEtBQUksR0FBSyxPQUNuREEsRUFBa0JBLEVBQTZCLFVBQUksR0FBSyxZQUo1RCxDQUtHQSxLQUFzQkEsR0FBb0IsS0E0RDdDLE1BQU04YixHQUFPdDdDLFNBQ2IsU0FBU3U3QyxHQUFPenpDLEdBQ1osTUFBb0IsbUJBQU5BLEVBZ0RsQixTQUFTMHpDLEdBQVExc0IsRUFBTXNrQixRQUNQbDZDLElBQVJrNkMsSUFDQUEsRUFBTXRrQixHQUNWLElBQUssSUFBSTN4QixFQUFJLEVBQUdBLEVBQUkyeEIsRUFBS256QixPQUFRd0IsSUFBSyxDQUNsQyxJQUFJcXNCLEVBQU9zRixFQUFLM3hCLEdBQ1psSSxNQUFNZ04sUUFBUXVuQixJQUVWNHBCLElBQVF0a0IsSUFHUnNrQixFQUFNdGtCLEVBQUs1eEIsTUFBTSxFQUFHQyxJQUV4QnErQyxHQUFRaHlCLEVBQU00cEIsSUFFVEEsSUFBUXRrQixHQUNic2tCLEVBQUl2MkMsS0FBSzJzQixHQUdqQixPQUFPNHBCLEVBRVgsU0FBU3FJLEdBQVlwMUMsRUFBT25HLEdBQ3hCbUcsRUFBTW5MLFNBQVF0RixHQUFTWCxNQUFNZ04sUUFBUXJNLEdBQVM2bEQsR0FBWTdsRCxFQUFPc0ssR0FBTUEsRUFBR3RLLEtBRTlFLFNBQVM4bEQsR0FBVzczQixFQUFLOVEsRUFBT25kLEdBRXhCbWQsR0FBUzhRLEVBQUlsb0IsT0FDYmtvQixFQUFJaG5CLEtBQUtqSCxHQUdUaXVCLEVBQUl4bUIsT0FBTzBWLEVBQU8sRUFBR25kLEdBRzdCLFNBQVMrbEQsR0FBZ0I5M0IsRUFBSzlRLEdBRTFCLE9BQUlBLEdBQVM4USxFQUFJbG9CLE9BQVMsRUFDZmtvQixFQUFJN2IsTUFHSjZiLEVBQUl4bUIsT0FBTzBWLEVBQU8sR0FBRyxHQUdwQyxTQUFTNm9DLEdBQVM3bEIsRUFBTW5nQyxHQUNwQixNQUFNazVCLEVBQU8sR0FDYixJQUFLLElBQUkzeEIsRUFBSSxFQUFHQSxFQUFJNDRCLEVBQU01NEIsSUFDdEIyeEIsRUFBS2p5QixLQUFLakgsR0FFZCxPQUFPazVCLEVBa0pYLFNBQVMrc0IsR0FBaUJDLEVBQWV0b0MsRUFBSzVkLEdBQzFDLElBQUltZCxFQUFRZ3BDLEdBQXFCRCxFQUFldG9DLEdBU2hELE9BUklULEdBQVMsRUFFVCtvQyxFQUFzQixFQUFSL29DLEdBQWFuZCxHQUczQm1kLEdBQVNBLEVBL0ZqQixTQUFzQjVKLEVBQU80SixFQUFPaXBDLEVBQVFDLEdBQ3hDMWdCLFdBQWFlLEVBQXNCdnBCLEVBQU81SixFQUFNeE4sT0FBUSxnQ0FDeEQsSUFBSWswQyxFQUFNMW1DLEVBQU14TixPQUNoQixHQUFJazBDLEdBQU85OEIsRUFFUDVKLEVBQU10TSxLQUFLbS9DLEVBQVFDLFFBRWxCLEdBQVksSUFBUnBNLEVBRUwxbUMsRUFBTXRNLEtBQUtvL0MsRUFBUTl5QyxFQUFNLElBQ3pCQSxFQUFNLEdBQUs2eUMsTUFFVixDQUdELElBRkFuTSxJQUNBMW1DLEVBQU10TSxLQUFLc00sRUFBTTBtQyxFQUFNLEdBQUkxbUMsRUFBTTBtQyxJQUMxQkEsRUFBTTk4QixHQUFPLENBQ2hCLE1BQU1tcEMsRUFBY3JNLEVBQU0sRUFDMUIxbUMsRUFBTTBtQyxHQUFPMW1DLEVBQU0reUMsR0FDbkJyTSxJQUVKMW1DLEVBQU00SixHQUFTaXBDLEVBQ2Y3eUMsRUFBTTRKLEVBQVEsR0FBS2twQyxHQTJFbkJFLENBQWFMLEVBQWUvb0MsRUFBT1MsRUFBSzVkLElBRXJDbWQsRUFTWCxTQUFTcXBDLEdBQWlCTixFQUFldG9DLEdBQ3JDLE1BQU1ULEVBQVFncEMsR0FBcUJELEVBQWV0b0MsR0FDbEQsR0FBSVQsR0FBUyxFQUVULE9BQU8rb0MsRUFBc0IsRUFBUi9vQyxHQWM3QixTQUFTZ3BDLEdBQXFCRCxFQUFldG9DLEdBQ3pDLE9BcUNKLFNBQTZCckssRUFBT3ZULEVBQU9vSixHQUN2Q3U4QixXQUFha0IsRUFBWXhuQyxNQUFNZ04sUUFBUWtILElBQVEsRUFBTSxzQkFDckQsSUFBSWt6QyxFQUFRLEVBQ1J4TSxFQUFNMW1DLEVBQU14TixRQUFVcUQsRUFDMUIsS0FBTzZ3QyxJQUFRd00sR0FBTyxDQUNsQixNQUFNQyxFQUFTRCxHQUFVeE0sRUFBTXdNLEdBQVUsR0FDbkNyVCxFQUFVNy9CLEVBQU1tekMsR0FBVXQ5QyxHQUNoQyxHQUFJcEosSUFBVW96QyxFQUNWLE9BQVFzVCxHQUFVdDlDLEVBRWJncUMsRUFBVXB6QyxFQUNmaTZDLEVBQU15TSxFQUdORCxFQUFRQyxFQUFTLEVBR3pCLFFBQVN6TSxHQUFPN3dDLEdBdERUdTlDLENBQW9CVCxFQUFldG9DLEVBQUssR0E4Rm5ELE1BQU1ncEMsR0FBb0IsdUdBRXBCQyxHQUF5Qiw0Q0FLekJDLEdBQW1DLG1FQUtuQ0MsR0FBNEMsc0dBY2xELE1BQU1DLEdBQ0ZubkQsWUFBWW9uRCxHQUNSbG9ELEtBQUttb0QsU0FBV0QsR0FBVzdjLEdBQWlCLFFBRWhEK2Msc0JBQ0ksT0FBTyxFQUVYNW9ELFFBQVFtVCxHQUNKLE1BQU8sSUFBSS9CLElBQVMsSUFBSStCLEtBQUsvQixHQUdqQ3kzQyx3QkFBd0JDLEVBQVlDLEdBQ2hDLElBQUl2a0QsRUFFQUEsRUFBU2lqRCxRQURhLElBQWZxQixFQUNXQyxFQUFpQnZoRCxPQUdqQnNoRCxFQUFXdGhELFFBRWpDLElBQUssSUFBSXdCLEVBQUksRUFBR0EsRUFBSXhFLEVBQU9nRCxPQUFRd0IsU0FJTCxJQUFmOC9DLEVBQ1B0a0QsRUFBT3dFLEdBQUssR0FFUDgvQyxFQUFXOS9DLElBQU04L0MsRUFBVzkvQyxJQUFNckksT0FDdkM2RCxFQUFPd0UsR0FBSyxDQUFDOC9DLEVBQVc5L0MsSUFHeEJ4RSxFQUFPd0UsR0FBSyxHQUVaKy9DLEdBQTJDLE1BQXZCQSxFQUFpQi8vQyxLQUNyQ3hFLEVBQU93RSxHQUFLeEUsRUFBT3dFLEdBQUc0SSxPQUFPbTNDLEVBQWlCLy9DLEtBR3RELE9BQU94RSxFQUVYd2tELGVBQWUzc0IsRUFBTTRzQixHQVNqQixHQXBEZ0JDLEVBNENBN3NCLEVBQUt0SCxXQTNDbEJzekIsR0FBa0JjLEtBQUtELElBQzFCVixHQUEwQ1csS0FBS0QsSUFDOUNaLEdBQXVCYSxLQUFLRCxLQUFhWCxHQUFpQ1ksS0FBS0QsR0FrRDVFLE9BQU8sS0FyRG5CLElBQXdCQSxFQXdEaEIsR0FBSTdzQixFQUFLdXBCLFlBQWN2cEIsRUFBS3VwQixhQUFlcUQsRUFBV3JELFdBQ2xELE9BQU92cEIsRUFBS3VwQixXQUdoQixNQUFNd0QsRUFBb0Ivc0IsRUFBS2d0QixlQUMvQixHQUFJRCxHQUFxQkEsSUFBc0JILEVBQVdJLGVBQWdCLENBR3RFLE1BQU1BLEVBQThDLG1CQUF0QkQsRUFBbUNBLElBQXNCQSxFQUNqRk4sRUFBYU8sRUFBZXh4QyxLQUFLeXhDLEdBQWNBLEdBQWFBLEVBQVVqdEIsT0FDdEUwc0IsRUFBbUJNLEVBQWV4eEMsS0FBS3l4QyxHQUFjQSxHQUFhQyxHQUFvQ0QsRUFBVUUsY0FDdEgsT0FBT2hwRCxLQUFLcW9ELHdCQUF3QkMsRUFBWUMsR0FHcEQsTUFBTUEsRUFBbUIxc0IsRUFBS3A3QixlQUFldWpELEtBQWVub0IsRUFBS21vQixJQUMzRHNFLEVBQWF0b0QsS0FBS21vRCxVQUFZbm9ELEtBQUttb0QsU0FBU2MsZ0JBQzlDanBELEtBQUttb0QsU0FBU2MsZUFBZSxvQkFBcUJwdEIsR0FDdEQsT0FBSXlzQixHQUFjQyxFQUNQdm9ELEtBQUtxb0Qsd0JBQXdCQyxFQUFZQyxHQU03Q3RCLEdBQVNwckIsRUFBSzcwQixRQUV6Qm8rQyxXQUFXdnBCLEdBR1AsSUFBSytxQixHQUFPL3FCLEdBQ1IsTUFBTyxHQUVYLE1BQU00c0IsRUFBYVMsR0FBY3J0QixHQUNqQyxJQUFJdXBCLEVBQWFwbEQsS0FBS3dvRCxlQUFlM3NCLEVBQU00c0IsR0FJM0MsT0FIS3JELEdBQWNxRCxJQUFldG9ELFNBQzlCaWxELEVBQWFwbEQsS0FBS29sRCxXQUFXcUQsSUFFMUJyRCxHQUFjLEdBRXpCK0QsZ0JBQWdCQyxFQUFZWCxHQUV4QixHQUFJVyxFQUFXQyxhQUFlRCxFQUFXQyxjQUFnQlosRUFBV1ksWUFBYSxDQUM3RSxJQUFJQSxFQUFjRCxFQUFXQyxZQUk3QixNQUgyQixtQkFBaEJBLEdBQThCQSxFQUFZQSxjQUNqREEsRUFBY0EsRUFBWUEsYUFFdkJBLEVBR1gsT0FBSUQsRUFBV0osWUFBY0ksRUFBV0osYUFBZVAsRUFBV08sV0FDdkRELEdBQW9DSyxFQUFXSixZQUd0REksRUFBVzNvRCxlQUFlc2pELElBQ25CcUYsRUFBV3JGLElBRWYsS0FFWHNGLFlBQVlELEdBQ1IsSUFBS3hDLEdBQU93QyxHQUNSLE1BQU8sR0FFWCxNQUFNWCxFQUFhUyxHQUFjRSxHQUMzQkUsRUFBaUJ0cEQsS0FBS21wRCxnQkFBZ0JDLEVBQVlYLElBQWUsR0FFdkUsT0FEMEJBLElBQWV0b0QsT0FBU0gsS0FBS3FwRCxZQUFZWixHQUFjLElBQ3hEcjNDLE9BQU9rNEMsR0FFcENDLGlCQUFpQkgsRUFBWVgsR0FFekIsR0FBSVcsRUFBV0ksY0FDWEosRUFBV0ksZUFBaUJmLEVBQVdlLGFBQWMsQ0FDckQsSUFBSUEsRUFBZUosRUFBV0ksYUFJOUIsTUFINEIsbUJBQWpCQSxHQUErQkEsRUFBYUEsZUFDbkRBLEVBQWVBLEVBQWFBLGNBRXpCQSxFQUdYLEdBQUlKLEVBQVdLLGdCQUNYTCxFQUFXSyxpQkFBbUJoQixFQUFXZ0IsZUFBZ0IsQ0FDekQsTUFBTUEsRUFBaUJMLEVBQVdLLGVBQzVCRCxFQUFlLEdBSXJCLE9BSEFycEQsT0FBTzhRLEtBQUt3NEMsR0FBZ0JsakQsU0FBUW1qRCxJQUNoQ0YsRUFBYUUsR0FBUVgsR0FBb0NVLEVBQWVDLE9BRXJFRixFQUdYLE9BQUlKLEVBQVczb0QsZUFBZXdqRCxJQUNuQm1GLEVBQVduRixJQUVmLEtBRVh1RixhQUFhSixHQUNULElBQUt4QyxHQUFPd0MsR0FDUixNQUFPLEdBRVgsTUFBTVgsRUFBYVMsR0FBY0UsR0FDM0JJLEVBQWUsR0FDckIsR0FBSWYsSUFBZXRvRCxPQUFRLENBQ3ZCLE1BQU13cEQsRUFBcUIzcEQsS0FBS3dwRCxhQUFhZixHQUM3Q3RvRCxPQUFPOFEsS0FBSzA0QyxHQUFvQnBqRCxTQUFTdStDLElBQ3JDMEUsRUFBYTFFLEdBQVk2RSxFQUFtQjdFLE1BR3BELE1BQU04RSxFQUFrQjVwRCxLQUFLdXBELGlCQUFpQkgsRUFBWVgsR0FXMUQsT0FWSW1CLEdBQ0F6cEQsT0FBTzhRLEtBQUsyNEMsR0FBaUJyakQsU0FBU3UrQyxJQUNsQyxNQUFNa0UsRUFBYSxHQUNmUSxFQUFhL29ELGVBQWVxa0QsSUFDNUJrRSxFQUFXOWdELFFBQVFzaEQsRUFBYTFFLElBRXBDa0UsRUFBVzlnRCxRQUFRMGhELEVBQWdCOUUsSUFDbkMwRSxFQUFhMUUsR0FBWWtFLEtBRzFCUSxFQUVYSSxnQkFBZ0JSLEdBQ1osT0FBS3hDLEdBQU93QyxJQUdMcHBELEtBQUt1cEQsaUJBQWlCSCxFQUFZRixHQUFjRSxLQUY1QyxHQUlmUyxpQkFBaUJodUIsRUFBTWl1QixHQUNuQixPQUFPanVCLGFBQWdCOHFCLElBQVFtRCxLQUFjanVCLEVBQUtyN0IsVUFFdER1cEQsT0FBT2x1QixHQUNILE1BQU8sR0FFWG11QixPQUFPNTdCLEdBQ0gsT0FBTyxJQUFJL2lCLFNBQVMsSUFBSyxZQUFjK2lCLEVBQU8sS0FFbEQ2N0IsT0FBTzc3QixHQUNILE9BQU8sSUFBSS9pQixTQUFTLElBQUssSUFBSyxZQUFjK2lCLEVBQU8sU0FFdkQ4N0IsT0FBTzk3QixHQUdILE9BQU8sSUFBSS9pQixTQUFTLElBQUssT0FGSixVQUFVK2lCLHdCQUEyQkEsd0NBQy9DQSxxQkFJZis3QixVQUFVdHVCLEdBRU4sTUFBb0IsaUJBQVRBLEdBQXFCQSxFQUFlLFNBQ3BDQSxFQUFlLFNBR25CLEtBQUsvRSxFQUFVK0UsS0FFMUJ1dUIsWUFBWXZ1QixHQUNSLE1BQU8sS0FBSy9FLEVBQVUrRSxLQUUxQnd1QixrQkFBa0JqOEIsRUFBTWs4QixFQUFXQyxFQUFTQyxHQUN4QyxPQUFPQSxFQUVYQyxZQUFZQyxFQUFnQnQ4QixHQUN4QixPQUFPczhCLEVBQWV0OEIsSUFHOUIsU0FBUzI2QixHQUFvQzRCLEdBQ3pDLE9BQUtBLEVBR0VBLEVBQXFCdHpDLEtBQUl1ekMsR0FJckIsSUFBSS9GLEVBSFcrRixFQUFvQi91QixLQUNOZ3BCLGtCQUNiK0YsRUFBb0JoNkMsS0FBT2c2QyxFQUFvQmg2QyxLQUFPLE1BTHRFLEdBU2YsU0FBU3M0QyxHQUFjMkIsR0FDbkIsTUFBTUMsRUFBY0QsRUFBS3JxRCxVQUFZTCxPQUFPczBCLGVBQWVvMkIsRUFBS3JxRCxXQUFhLEtBSTdFLE9BSG1Cc3FELEVBQWNBLEVBQVlocUQsWUFBYyxPQUd0Q1gsT0FVekIsTUFDTTRxRCxHQURzQixHQVV0QkMsR0FBVyxPQUVYQyxHQUFTLFdBQ1RDLEdBQWMzbEIsRUFBdUIsQ0FBRTRsQixRQUFTdnFELE9BQVF3cUQsU0FBVTdsQixJQU94RSxJQUFJOGxCLEdBQ0osU0FBU0MsR0FBbUJDLEdBQ3hCLE1BQU1DLEVBQVNILEdBRWYsT0FEQUEsR0FBbUJFLEVBQ1pDLEVBRVgsU0FBU0MsR0FBbUI3cUIsRUFBT3VKLEVBQVFQLEVBQVlnQixTQUNuRCxRQUF5QnJtQyxJQUFyQjhtRCxHQUFnQyxDQUNoQyxNQUFNMWtCLEVBQXFDLG9CQUFkQyxXQUE2QkEsVUFDdEQsb0RBQ0EsR0FDSixNQUFNLElBQUlMLEVBQWEsSUFBcUNJLEdBRTNELE9BQXlCLE9BQXJCMGtCLEdBQ0VwaEIsRUFBbUJySixPQUFPcjhCLEVBQVc0bEMsR0FHckNraEIsR0FBaUJocEQsSUFBSXUrQixFQUFPdUosRUFBUVAsRUFBWVMsU0FBVyxVQUFPOWxDLEVBQVc0bEMsR0FHNUYsU0FBUyxHQUFTdkosRUFBT3VKLEVBQVFQLEVBQVlnQixTQUN6QyxPQTNvSU9mLEdBMm9JOEI0aEIsSUFBb0JwbEIsRUFBa0J6RixHQUFRdUosR0FjdkYsU0FBUyxHQUFvQi9yQixHQUN6QixNQUFNdWlCLEVBQU1pRyxVQUNSLHdHQUF3R3hvQix5T0FHckRBLG1HQUNuRCxVQUNKLE1BQU0sSUFBSXFILE1BQU1rYixHQTBCcEIsTUFBTStxQixHQUFTLEdBQ2YsU0FBU0MsR0FBV0MsR0FDaEIsTUFBTWg3QyxFQUFPLEdBQ2IsSUFBSyxJQUFJcEksRUFBSSxFQUFHQSxFQUFJb2pELEVBQU01a0QsT0FBUXdCLElBQUssQ0FDbkMsTUFBTXFqRCxFQUFNeGxCLEVBQWtCdWxCLEVBQU1wakQsSUFDcEMsR0FBSWxJLE1BQU1nTixRQUFRdStDLEdBQU0sQ0FDcEIsR0FBbUIsSUFBZkEsRUFBSTdrRCxPQUFjLENBQ2xCLE1BQU0yL0IsRUFBcUMsb0JBQWRDLFdBQTZCQSxVQUN0RCx1Q0FDQSxHQUNKLE1BQU0sSUFBSUwsRUFBYSxJQUFnQ0ksR0FFM0QsSUFBSTlLLEVBQ0FzTyxFQUFRUCxFQUFZZ0IsUUFDeEIsSUFBSyxJQUFJOTlCLEVBQUksRUFBR0EsRUFBSSsrQyxFQUFJN2tELE9BQVE4RixJQUFLLENBQ2pDLE1BQU0yaEIsRUFBT285QixFQUFJLytDLEdBQ1hnL0MsRUFBcUJyOUIsRUEyQ1QsZUExQ0UsaUJBQVRxOUIsR0FFTyxJQUFWQSxFQUNBandCLEVBQU9wTixFQUFLbVMsTUFHWnVKLEdBQVMyaEIsRUFJYmp3QixFQUFPcE4sRUFHZjdkLEVBQUsxSSxLQUFLLEdBQVMyekIsRUFBTXNPLFNBR3pCdjVCLEVBQUsxSSxLQUFLLEdBQVMyakQsSUFHM0IsT0FBT2o3QyxFQVlYLFNBQVNtN0MsR0FBaUJDLEVBQVdGLEdBR2pDLE9BRkFFLEVBQTJCLGVBQUlGLEVBQy9CRSxFQUFVeHJELFVBQTJCLGVBQUlzckQsRUFDbENFLEVBb0RYLE1BQU1DLEdBQVNGLEdBR2ZoSCxHQUFtQixVQUFXbmtCLElBQVUsQ0FBR0EsTUFBQUEsT0FBWSxHQU9qRHlKLEdBR04waEIsR0FBaUJoSCxHQUFtQixZQUFhLEdBTzNDbEUsR0FHTmtMLEdBQWlCaEgsR0FBbUIsUUFBUyxHQU92Q3RMLEdBR05zUyxHQUFpQmhILEdBQW1CLFlBQWEsR0FPM0NuTCxHQUdObVMsR0FBaUJoSCxHQUFtQixRQUFTLEdBUzdDLElBQUlvRCxHQUFXLEtBQ2YsU0FBUytELEtBQ0wsT0FBUS9ELEdBQVdBLElBQVksSUFBSUYsR0FFdkMsU0FBU2tFLEdBQW9CdHdCLEdBQ3pCLE9BQU91d0IsR0FBb0JGLEtBQWE5RyxXQUFXdnBCLElBRXZELFNBQVN1d0IsR0FBb0JDLEdBQ3pCLE9BQU9BLEVBQUtoMUMsS0FBSWkxQyxHQUVwQixTQUEyQkEsR0FDdkIsTUFBTTc5QixFQUFPLENBQ1RtUyxNQUFPLEtBQ1AyckIsVUFBVyxLQUNYL3JCLE1BQU0sRUFDTmdzQixVQUFVLEVBQ1Z0aEIsTUFBTSxFQUNOdWhCLFVBQVUsR0FFZCxHQUFJbnNELE1BQU1nTixRQUFRZy9DLElBQVFBLEVBQUl0bEQsT0FBUyxFQUNuQyxJQUFLLElBQUk4RixFQUFJLEVBQUdBLEVBQUl3L0MsRUFBSXRsRCxPQUFROEYsSUFBSyxDQUNqQyxNQUFNNC9DLEVBQVFKLEVBQUl4L0MsR0FDbEIsUUFBY3ZJLElBQVZtb0QsRUFFQSxTQUVKLE1BQU1DLEVBQVF4c0QsT0FBT3MwQixlQUFlaTRCLEdBQ3BDLEdBQUlBLGFBQWlCcmlCLElBQXFDLGFBQXpCc2lCLEVBQU0vSCxlQUNuQ24yQixFQUFLKzlCLFVBQVcsT0FFZixHQUFJRSxhQUFpQmpULElBQXFDLGFBQXpCa1QsRUFBTS9ILGVBQ3hDbjJCLEVBQUtnK0IsVUFBVyxPQUVmLEdBQUlDLGFBQWlCN0wsSUFBaUMsU0FBekI4TCxFQUFNL0gsZUFDcENuMkIsRUFBS3ljLE1BQU8sT0FFWCxHQUFJd2hCLGFBQWlCOVMsSUFBaUMsU0FBekIrUyxFQUFNL0gsZUFDcENuMkIsRUFBSytSLE1BQU8sT0FFWCxHQUFJa3NCLGFBQWlCVCxHQUN0Qng5QixFQUFLbVMsTUFBUThyQixFQUFNOXJCLFdBRWxCLEdBQUk4ckIsYUFBaUJqSCxHQUFXLENBQ2pDLFFBQTRCbGhELElBQXhCbW9ELEVBQU1oSCxjQUNOLE1BQU0sSUFBSWpnQyxNQUFNLG1DQUVwQmdKLEVBQUs4OUIsVUFBWUcsRUFBTWhILG1CQUd2QmozQixFQUFLbVMsTUFBUThyQixZQUlSbm9ELElBQVIrbkQsR0FBc0Joc0QsTUFBTWdOLFFBQVFnL0MsSUFBdUIsSUFBZkEsRUFBSXRsRCxPQUNyRHluQixFQUFLbVMsTUFBUSxLQUdiblMsRUFBS21TLE1BQVEwckIsRUFFakIsT0FBTzc5QixFQW5EZ0JtK0IsQ0FBa0JOLEtBNkY3QyxTQUFTTyxHQUEwQkMsR0FFL0IsTUFBTUMsRUFBb0IsR0FFcEJDLEVBQVMsSUFBSW5yQyxJQUNuQixTQUFTb3JDLEVBQXNCQyxHQUMzQixJQUFJejRDLEVBQVV1NEMsRUFBTzNxRCxJQUFJNnFELEdBQ3pCLElBQUt6NEMsRUFBUyxDQUNWLE1BQU0wNEMsRUFBT0wsRUFBaUJJLEdBQzlCRixFQUFPenFDLElBQUkycUMsRUFBS3o0QyxFQUFVMDRDLEVBQUs3NkMsS0FBSzg2QyxLQUV4QyxPQUFPMzRDLEVBMEJYLE9BeEJBNDRDLEdBQWlDOW1ELFNBQVEsQ0FBQyttRCxFQUFXenhCLEtBQ2pELE1BQU0weEIsRUFBVyxHQUNiRCxFQUFVRSxhQUNWRCxFQUFTcmxELEtBQUsra0QsRUFBc0JLLEVBQVVFLGFBQWFsN0MsTUFBTTg3QixJQUM3RGtmLEVBQVVsZixTQUFXQSxNQUc3QixNQUFNcWYsRUFBWUgsRUFBVUcsVUFDdEJuZSxFQUFTZ2UsRUFBVWhlLFNBQVdnZSxFQUFVaGUsT0FBUyxJQUNqRG9lLEVBQWNKLEVBQVVoZSxPQUFPdG9DLE9BQ3JDeW1ELEdBQWFBLEVBQVVsbkQsU0FBUSxDQUFDb25ELEVBQVV2dkMsS0FDdENreEIsRUFBT3BuQyxLQUFLLElBQ1pxbEQsRUFBU3JsRCxLQUFLK2tELEVBQXNCVSxHQUFVcjdDLE1BQU1zN0MsSUFDaER0ZSxFQUFPb2UsRUFBY3R2QyxHQUFTd3ZDLEVBQzlCSCxFQUFVL2tELE9BQU8ra0QsRUFBVTM0QixRQUFRNjRCLEdBQVcsR0FDdEIsR0FBcEJGLEVBQVV6bUQsU0FDVnNtRCxFQUFVRyxlQUFZbHBELFVBSWxDLE1BQU1zcEQsRUFBZ0J4bUQsUUFBUXltRCxJQUFJUCxHQUFVajdDLE1BQUssSUFzQ3pELFNBQThCdXBCLEdBQzFCa3lCLEdBQThCbnJDLE9BQU9pWixHQXZDc0JteUIsQ0FBcUJueUIsS0FDNUVreEIsRUFBa0I3a0QsS0FBSzJsRCxNQUUzQkksS0FDTzVtRCxRQUFReW1ELElBQUlmLEdBQW1CejZDLE1BQUssU0FFL0MsSUFBSSs2QyxHQUFtQyxJQUFJeHJDLElBRTNDLE1BQU1rc0MsR0FBZ0MsSUFBSW52QyxJQVUxQyxTQUFTc3ZDLEdBQXlCWixHQUM5QixTQUFXQSxFQUFVRSxjQUFnQkYsRUFBVTdzRCxlQUFlLGFBQzFENnNELEVBQVVHLFdBQWFILEVBQVVHLFVBQVV6bUQsUUFFbkQsU0FBU2luRCxLQUNMLE1BQU1FLEVBQU1kLEdBRVosT0FEQUEsR0FBbUMsSUFBSXhyQyxJQUNoQ3NzQyxFQVVYLFNBQVNmLEdBQWVnQixHQUNwQixNQUEwQixpQkFBWkEsRUFBdUJBLEVBQVdBLEVBQVM3USxPQWlCN0QsSUFBSThRLEdBMkhBQyxHQXRISixTQUFTQyxLQUNMLFFBQWlCaHFELElBQWI4cEQsS0FDQUEsR0FBVyxLQUNQaGpCLEdBQVFtakIsY0FDUixJQUNJSCxHQUFXaGpCLEdBQVFtakIsYUFBYUMsYUFBYSxVQUFXLENBQ3BEQyxXQUFhdGxELEdBQU1BLEVBQ25CdWxELGFBQWV2bEQsR0FBTUEsRUFDckJ3bEQsZ0JBQWtCeGxELEdBQU1BLElBR2hDLE1BQU94SCxJQVFmLE9BQU95c0QsR0FXWCxTQUFTUSxHQUFzQkMsR0FDM0IsSUFBSWx0RCxFQUNKLE9BQWlDLFFBQXhCQSxFQUFLMnNELFlBQWtDLElBQVAzc0QsT0FBZ0IsRUFBU0EsRUFBRzhzRCxXQUFXSSxLQUFVQSxFQTJGOUYsU0FBU0MsS0FDTCxRQUFleHFELElBQVgrcEQsS0FDQUEsR0FBUyxLQUNMampCLEdBQVFtakIsY0FDUixJQUNJRixHQUFTampCLEdBQVFtakIsYUFDWkMsYUFBYSx3QkFBeUIsQ0FDdkNDLFdBQWF0bEQsR0FBTUEsRUFDbkJ1bEQsYUFBZXZsRCxHQUFNQSxFQUNyQndsRCxnQkFBa0J4bEQsR0FBTUEsSUFHaEMsTUFBT3hILElBUWYsT0FBTzBzRCxHQVVYLFNBQVNVLEdBQTRCRixHQUNqQyxJQUFJbHRELEVBQ0osT0FBK0IsUUFBdEJBLEVBQUttdEQsWUFBZ0MsSUFBUG50RCxPQUFnQixFQUFTQSxFQUFHOHNELFdBQVdJLEtBQVVBLEVBVTVGLFNBQVNHLEdBQThCQyxHQUNuQyxJQUFJdHRELEVBQ0osT0FBK0IsUUFBdEJBLEVBQUttdEQsWUFBZ0MsSUFBUG50RCxPQUFnQixFQUFTQSxFQUFHK3NELGFBQWFPLEtBQVlBLEVBVWhHLFNBQVNDLEdBQWlDakMsR0FDdEMsSUFBSXRyRCxFQUNKLE9BQStCLFFBQXRCQSxFQUFLbXRELFlBQWdDLElBQVBudEQsT0FBZ0IsRUFBU0EsRUFBR2d0RCxnQkFBZ0IxQixLQUFTQSxFQVVoRyxNQUFNa0MsR0FDRnR1RCxZQUFZdXVELEdBQ1JydkQsS0FBS3F2RCxzQ0FBd0NBLEVBRWpEOTZCLFdBQ0ksTUFBTywwQ0FBMEN2MEIsS0FBS3F2RCw0RUFJOUQsTUFBTUMsV0FBcUJGLEdBQ3ZCRyxjQUNJLE1BQU8sUUFHZixNQUFNQyxXQUFzQkosR0FDeEJHLGNBQ0ksTUFBTyxTQUdmLE1BQU1FLFdBQXVCTCxHQUN6QkcsY0FDSSxNQUFPLFVBR2YsTUFBTUcsV0FBb0JOLEdBQ3RCRyxjQUNJLE1BQU8sT0FHZixNQUFNSSxXQUE0QlAsR0FDOUJHLGNBQ0ksTUFBTyxlQUdmLFNBQVNLLEdBQWdCM3VELEdBQ3JCLE9BQU9BLGFBQWlCbXVELEdBQWdCbnVELEVBQU1vdUQsc0NBQzFDcHVELEVBRVIsU0FBUzR1RCxHQUFnQzV1RCxFQUFPNDZCLEdBQzVDLE1BQU1pMEIsRUFBYUMsR0FBMEI5dUQsR0FDN0MsR0FBa0IsTUFBZDZ1RCxHQUFzQkEsSUFBZWowQixFQUFNLENBRTNDLEdBQW1CLGdCQUFmaTBCLEdBQTJELFFBQVRqMEIsRUFDbEQsT0FBTyxFQUNYLE1BQU0sSUFBSXBXLE1BQU0sbUJBQW1Cb1csWUFBZWkwQix3Q0FFdEQsT0FBT0EsSUFBZWowQixFQUUxQixTQUFTazBCLEdBQTBCOXVELEdBQy9CLE9BQU9BLGFBQWlCbXVELElBQWlCbnVELEVBQU1zdUQsZUFBaUIsS0FXcEUsU0FBU1MsR0FBNEJDLEdBQ2pDLE9BQU8sSUFBSVgsR0FBYVcsR0FXNUIsU0FBU0MsR0FBNkJDLEdBQ2xDLE9BQU8sSUFBSVgsR0FBY1csR0FXN0IsU0FBU0MsR0FBOEJDLEdBQ25DLE9BQU8sSUFBSVosR0FBZVksR0FXOUIsU0FBU0MsR0FBMkJDLEdBQ2hDLE9BQU8sSUFBSWIsR0FBWWEsR0FXM0IsU0FBU0MsR0FBbUNDLEdBQ3hDLE9BQU8sSUFBSWQsR0FBb0JjLEdBaUJuQyxTQUFTQyxHQUFtQkMsR0FDeEIsTUFBTUMsRUFBc0IsSUFBSUMsR0FBb0JGLEdBQ3BELE9BNEdKLFdBQ0ksSUFDSSxTQUFTLElBQUl4aEMsT0FBTzJoQyxXQUFZQyxnQkFBZ0JsQyxHQUFzQixJQUFLLGFBRS9FLE1BQU9qdEQsR0FDSCxPQUFPLEdBakhKb3ZELEdBQXlCLElBQUlDLEdBQWdCTCxHQUF1QkEsRUFNL0UsTUFBTUssR0FDRm53RCxZQUFZOHZELEdBQ1I1d0QsS0FBSzR3RCxvQkFBc0JBLEVBRS9CTSxvQkFBb0JwQyxHQUtoQkEsRUFBTywwQkFBNEJBLEVBQ25DLElBQ0ksTUFBTXQ4QyxHQUFPLElBQUkyYyxPQUFPMmhDLFdBQ25CQyxnQkFBZ0JsQyxHQUFzQkMsR0FBTyxhQUM3Q3Q4QyxLQUNMLE9BQWEsT0FBVEEsRUFJT3hTLEtBQUs0d0Qsb0JBQW9CTSxvQkFBb0JwQyxJQUV4RHQ4QyxFQUFLMitDLFlBQVkzK0MsRUFBSzZuQyxZQUNmN25DLEdBRVgsTUFBTzVRLEdBQ0gsT0FBTyxPQVNuQixNQUFNaXZELEdBQ0YvdkQsWUFBWTZ2RCxHQUdSLEdBRkEzd0QsS0FBSzJ3RCxXQUFhQSxFQUNsQjN3RCxLQUFLb3hELGNBQWdCcHhELEtBQUsyd0QsV0FBV1UsZUFBZUMsbUJBQW1CLHNCQUN4QyxNQUEzQnR4RCxLQUFLb3hELGNBQWM1K0MsS0FBYyxDQUdqQyxNQUFNKytDLEVBQVl2eEQsS0FBS294RCxjQUFjSSxjQUFjLFFBQ25EeHhELEtBQUtveEQsY0FBY0ssWUFBWUYsR0FDL0IsTUFBTUcsRUFBbUIxeEQsS0FBS294RCxjQUFjSSxjQUFjLFFBQzFERCxFQUFVRSxZQUFZQyxJQUc5QlIsb0JBQW9CcEMsR0FFaEIsTUFBTTZDLEVBQWEzeEQsS0FBS294RCxjQUFjSSxjQUFjLFlBQ3BELEdBQUksWUFBYUcsRUFFYixPQURBQSxFQUFXQyxVQUFZL0MsR0FBc0JDLEdBQ3RDNkMsRUFTWCxNQUFNRSxFQUFZN3hELEtBQUtveEQsY0FBY0ksY0FBYyxRQU9uRCxPQU5BSyxFQUFVRCxVQUFZL0MsR0FBc0JDLEdBR3hDOXVELEtBQUsyd0QsV0FBV21CLGNBQ2hCOXhELEtBQUsreEQsbUJBQW1CRixHQUVyQkEsRUFVWEUsbUJBQW1CQyxHQUNmLE1BQU1DLEVBQVVELEVBQUdFLFdBRW5CLElBQUssSUFBSTFwRCxFQUFJeXBELEVBQVFqckQsT0FBUyxFQUFHLEVBQUl3QixFQUFHQSxJQUFLLENBQ3pDLE1BQ011MUMsRUFEU2tVLEVBQVFwOUIsS0FBS3JzQixHQUNKNGxCLEtBQ1AsY0FBYjJ2QixHQUF5RCxJQUE3QkEsRUFBU2pwQixRQUFRLFNBQzdDazlCLEVBQUdHLGdCQUFnQnBVLEdBRzNCLElBQUlxVSxFQUFZSixFQUFHM1gsV0FDbkIsS0FBTytYLEdBQ0NBLEVBQVVDLFdBQWE1cEIsS0FBSzZwQixjQUM1QnR5RCxLQUFLK3hELG1CQUFtQkssR0FDNUJBLEVBQVlBLEVBQVVHLGFBcURsQyxNQUFNQyxHQUFtQixrRUFJbkJDLEdBQW1CLHVJQUN6QixTQUFTQyxHQUFheEYsR0FFbEIsT0FEQUEsRUFBTXRzRCxPQUFPc3NELElBQ0x5RixNQUFNSCxLQUFxQnRGLEVBQUl5RixNQUFNRixJQUNsQ3ZGLElBQ2Msb0JBQWR0bUIsV0FBNkJBLFlBQ3BDaFEsUUFBUWc4QixLQUFLLHdDQUF3QzFGLHdDQUVsRCxVQUFZQSxHQUV2QixTQUFTMkYsR0FBZUMsR0FFcEIsT0FEQUEsRUFBU2x5RCxPQUFPa3lELElBQ0ZsNkIsTUFBTSxLQUFLdmhCLEtBQUt5N0MsR0FBV0osR0FBYUksRUFBT0MsVUFBU3YrQixLQUFLLE1BVS9FLFNBQVN3K0IsR0FBT0MsR0FDWixNQUFNcnRCLEVBQU0sR0FDWixJQUFLLE1BQU1qekIsS0FBS3NnRCxFQUFLcjZCLE1BQU0sS0FDdkJnTixFQUFJanpCLElBQUssRUFDYixPQUFPaXpCLEVBRVgsU0FBU3ZpQixNQUFTNnZDLEdBQ2QsTUFBTXR0QixFQUFNLEdBQ1osSUFBSyxNQUFNeDhCLEtBQUs4cEQsRUFDWixJQUFLLE1BQU0vL0MsS0FBSy9KLEVBQ1JBLEVBQUUzSSxlQUFlMFMsS0FDakJ5eUIsRUFBSXp5QixJQUFLLEdBR3JCLE9BQU95eUIsRUFPWCxNQUFNdXRCLEdBQWdCSCxHQUFPLDBCQUd2QkksR0FBa0NKLEdBQU8sa0RBQ3pDSyxHQUFtQ0wsR0FBTyxTQUMxQ00sR0FBNEJqd0MsR0FBTWd3QyxHQUFrQ0QsSUFFcEVHLEdBQWlCbHdDLEdBQU0rdkMsR0FBaUNKLEdBQU8sb01BSS9EUSxHQUFrQm53QyxHQUFNZ3dDLEdBQWtDTCxHQUFPLCtMQUdqRVMsR0FBaUJwd0MsR0FBTTh2QyxHQUFlSSxHQUFnQkMsR0FBaUJGLElBRXZFSSxHQUFZVixHQUFPLGdFQUVuQlcsR0FBZVgsR0FBTyxVQUN0QlksR0FBYVosR0FBTyxpZEFNcEJhLEdBQWFiLEdBQU8sNHFCQWFwQmMsR0FBY3p3QyxHQUFNcXdDLEdBQVdDLEdBQWNDLEdBQVlDLElBTXpERSxHQUE4Q2YsR0FBTyx5QkFLM0QsTUFBTWdCLEdBQ0ZsekQsY0FHSWQsS0FBS2kwRCxvQkFBcUIsRUFDMUJqMEQsS0FBS2swRCxJQUFNLEdBRWZDLGlCQUFpQm5DLEdBSWIsSUFBSTNkLEVBQVUyZCxFQUFHM1gsV0FDYitaLEdBQWtCLEVBQ3RCLEtBQU8vZixHQVdILEdBVklBLEVBQVFnZSxXQUFhNXBCLEtBQUs2cEIsYUFDMUI4QixFQUFrQnAwRCxLQUFLcTBELGFBQWFoZ0IsR0FFL0JBLEVBQVFnZSxXQUFhNXBCLEtBQUs2ckIsVUFDL0J0MEQsS0FBS3UwRCxNQUFNbGdCLEVBQVFtZ0IsV0FJbkJ4MEQsS0FBS2kwRCxvQkFBcUIsRUFFMUJHLEdBQW1CL2YsRUFBUWdHLFdBQzNCaEcsRUFBVUEsRUFBUWdHLGdCQUd0QixLQUFPaEcsR0FBUyxDQUVSQSxFQUFRZ2UsV0FBYTVwQixLQUFLNnBCLGNBQzFCdHlELEtBQUt5MEQsV0FBV3BnQixHQUVwQixJQUFJcHlDLEVBQU9qQyxLQUFLMDBELHNCQUFzQnJnQixFQUFTQSxFQUFRa2UsYUFDdkQsR0FBSXR3RCxFQUFNLENBQ05veUMsRUFBVXB5QyxFQUNWLE1BRUpveUMsRUFBVXIwQyxLQUFLMDBELHNCQUFzQnJnQixFQUFTQSxFQUFRc2dCLFlBRzlELE9BQU8zMEQsS0FBS2swRCxJQUFJMS9CLEtBQUssSUFVekI2L0IsYUFBYTF5QyxHQUNULE1BQU1pekMsRUFBVWp6QyxFQUFRa3pDLFNBQVNqNUIsY0FDakMsSUFBSzYzQixHQUFlaHpELGVBQWVtMEQsR0FFL0IsT0FEQTUwRCxLQUFLaTBELG9CQUFxQixHQUNsQkYsR0FBNEN0ekQsZUFBZW0wRCxHQUV2RTUwRCxLQUFLazBELElBQUloc0QsS0FBSyxLQUNkbEksS0FBS2swRCxJQUFJaHNELEtBQUswc0QsR0FDZCxNQUFNM0MsRUFBVXR3QyxFQUFRdXdDLFdBQ3hCLElBQUssSUFBSTFwRCxFQUFJLEVBQUdBLEVBQUl5cEQsRUFBUWpyRCxPQUFRd0IsSUFBSyxDQUNyQyxNQUFNc3NELEVBQVM3QyxFQUFRcDlCLEtBQUtyc0IsR0FDdEJ1MUMsRUFBVytXLEVBQU8xbUMsS0FDbEI4a0IsRUFBUTZLLEVBQVNuaUIsY0FDdkIsSUFBS2s0QixHQUFZcnpELGVBQWV5eUMsR0FBUSxDQUNwQ2x6QyxLQUFLaTBELG9CQUFxQixFQUMxQixTQUVKLElBQUloekQsRUFBUTZ6RCxFQUFPN3pELE1BRWZ5eUQsR0FBVXhnQixLQUNWanlDLEVBQVF5eEQsR0FBYXp4RCxJQUNyQjB5RCxHQUFhemdCLEtBQ2JqeUMsRUFBUTR4RCxHQUFlNXhELElBQzNCakIsS0FBS2swRCxJQUFJaHNELEtBQUssSUFBSzYxQyxFQUFVLEtBQU1nWCxHQUFlOXpELEdBQVEsS0FHOUQsT0FEQWpCLEtBQUtrMEQsSUFBSWhzRCxLQUFLLE1BQ1AsRUFFWHVzRCxXQUFXcGdCLEdBQ1AsTUFBTXVnQixFQUFVdmdCLEVBQVF3Z0IsU0FBU2o1QixjQUM3QjYzQixHQUFlaHpELGVBQWVtMEQsS0FBYXpCLEdBQWMxeUQsZUFBZW0wRCxLQUN4RTUwRCxLQUFLazBELElBQUloc0QsS0FBSyxNQUNkbEksS0FBS2swRCxJQUFJaHNELEtBQUswc0QsR0FDZDUwRCxLQUFLazBELElBQUloc0QsS0FBSyxNQUd0QnFzRCxNQUFNQSxHQUNGdjBELEtBQUtrMEQsSUFBSWhzRCxLQUFLNnNELEdBQWVSLElBRWpDRyxzQkFBc0Jsc0IsRUFBTXdzQixHQUN4QixHQUFJQSxJQUNDeHNCLEVBQUt5c0Isd0JBQXdCRCxHQUMxQnZzQixLQUFLeXNCLGtDQUFvQ3pzQixLQUFLeXNCLCtCQUNsRCxNQUFNLElBQUl6dkMsTUFBTSw2REFBNkQraUIsRUFBSzJzQixhQUV0RixPQUFPSCxHQUlmLE1BQU1JLEdBQXdCLGtDQUV4QkMsR0FBMEIsZ0JBT2hDLFNBQVNOLEdBQWU5ekQsR0FDcEIsT0FBT0EsRUFBTXEwRCxRQUFRLEtBQU0sU0FDdEJBLFFBQVFGLElBQXVCLFNBQVV6QyxHQUcxQyxNQUFPLE1BQXlCLE1BRnJCQSxFQUFNcFUsV0FBVyxHQUVOLFFBRFZvVSxFQUFNcFUsV0FBVyxHQUNtQixPQUFVLE9BQVcsT0FFcEUrVyxRQUFRRCxJQUF5QixTQUFVMUMsR0FDNUMsTUFBTyxLQUFPQSxFQUFNcFUsV0FBVyxHQUFLLE9BRW5DK1csUUFBUSxLQUFNLFFBQ2RBLFFBQVEsS0FBTSxRQUV2QixJQUFJQyxHQUtKLFNBQVNDLEdBQWM3RSxFQUFZOEUsR0FDL0IsSUFBSS9ELEVBQW1CLEtBQ3ZCLElBQ0k2RCxHQUFrQkEsSUFBbUI3RSxHQUFtQkMsR0FFeEQsSUFBSStFLEVBQWFELEVBQWtCNzBELE9BQU82MEQsR0FBbUIsR0FDN0QvRCxFQUFtQjZELEdBQWdCckUsb0JBQW9Cd0UsR0FHdkQsSUFBSUMsRUFBZSxFQUNmQyxFQUFhRixFQUNqQixFQUFHLENBQ0MsR0FBcUIsSUFBakJDLEVBQ0EsTUFBTSxJQUFJbHdDLE1BQU0seURBRXBCa3dDLElBQ0FELEVBQWFFLEVBQ2JBLEVBQWFsRSxFQUFpQkUsVUFDOUJGLEVBQW1CNkQsR0FBZ0JyRSxvQkFBb0J3RSxTQUNsREEsSUFBZUUsR0FDeEIsTUFBTUMsRUFBWSxJQUFJN0IsR0FDaEI4QixFQUFXRCxFQUFVMUIsaUJBQWlCNEIsR0FBbUJyRSxJQUFxQkEsR0FJcEYsT0FIMEIsb0JBQWQ5cUIsV0FBNkJBLFlBQWNpdkIsRUFBVTVCLG9CQUM3RHI5QixRQUFRZzhCLEtBQUssb0ZBRVYvRCxHQUFzQmlILEdBRWpDLFFBRUksR0FBSXBFLEVBQWtCLENBQ2xCLE1BQU12akQsRUFBUzRuRCxHQUFtQnJFLElBQXFCQSxFQUN2RCxLQUFPdmpELEVBQU9rc0MsWUFDVmxzQyxFQUFPZ2pELFlBQVloakQsRUFBT2tzQyxjQUsxQyxTQUFTMGIsR0FBbUIvRCxHQUN4QixNQUFPLFlBQWFBLEdBSXhCLFNBQTJCQSxHQUN2QixPQUFPQSxFQUFHSyxXQUFhNXBCLEtBQUs2cEIsY0FBZ0MsYUFBaEJOLEVBQUc2QyxTQUxhbUIsQ0FBa0JoRSxHQUMxRUEsRUFBR2lFLFFBQ0gsS0FzQlIsSUFBSUMsR0FnQ0osU0FBUyxHQUFlUixHQUNwQixNQUFNRyxFQUFZTSxLQUNsQixPQUFJTixFQUNPN0csR0FBNEI2RyxFQUFVTyxTQUFTRixHQUFnQkcsS0FBTVgsSUFBZSxJQUUzRjdGLEdBQWdDNkYsRUFBWSxRQUNyQzFHLEdBQTRCWSxHQUFnQjhGLElBRWhERixHQUFjcGdCLEtBQWV2TyxFQUFnQjZ1QixJQWF4RCxTQUFTLEdBQWdCWSxHQUNyQixNQUFNVCxFQUFZTSxLQUNsQixPQUFJTixFQUNPQSxFQUFVTyxTQUFTRixHQUFnQkssTUFBT0QsSUFBZ0IsR0FFakV6RyxHQUFnQ3lHLEVBQWEsU0FDdEMxRyxHQUFnQjBHLEdBRXBCenZCLEVBQWdCeXZCLEdBa0IzQixTQUFTLEdBQWNFLEdBQ25CLE1BQU1YLEVBQVlNLEtBQ2xCLE9BQUlOLEVBQ09BLEVBQVVPLFNBQVNGLEdBQWdCTyxJQUFLRCxJQUFjLEdBRTdEM0csR0FBZ0MyRyxFQUFXLE9BQ3BDNUcsR0FBZ0I0RyxHQUVwQjlELEdBQWE3ckIsRUFBZ0IydkIsSUFheEMsU0FBUyxHQUFzQkUsR0FDM0IsTUFBTWIsRUFBWU0sS0FDbEIsR0FBSU4sRUFDQSxPQUFPMUcsR0FBaUMwRyxFQUFVTyxTQUFTRixHQUFnQlMsYUFBY0QsSUFBc0IsSUFFbkgsR0FBSTdHLEdBQWdDNkcsRUFBbUIsZUFDbkQsT0FBT3ZILEdBQWlDUyxHQUFnQjhHLElBRTVELE1BQU0vdkIsRUFBcUMsb0JBQWRDLFdBQTZCQSxVQUN0RCxpRkFDQSxHQUNKLE1BQU0sSUFBSUwsRUFBYSxJQUF3Q0ksR0FjbkUsU0FBUyxHQUFpQml3QixHQUN0QixNQUFNZixFQUFZTSxLQUNsQixHQUFJTixFQUNBLE9BQU81RyxHQUE4QjRHLEVBQVVPLFNBQVNGLEdBQWdCVyxPQUFRRCxJQUFpQixJQUVyRyxHQUFJL0csR0FBZ0MrRyxFQUFjLFVBQzlDLE9BQU8zSCxHQUE4QlcsR0FBZ0JnSCxJQUV6RCxNQUFNandCLEVBQXFDLG9CQUFkQyxXQUE2QkEsVUFDdEQsd0NBQ0EsR0FDSixNQUFNLElBQUlMLEVBQWEsSUFBa0NJLEdBZTdELFNBQVMsR0FBb0Jtb0IsR0FPekIsR0FBSWxvQixhQUFldG1DLE1BQU1nTixRQUFRd2hELEtBQVV4dUQsTUFBTWdOLFFBQVF3aEQsRUFBS2dJLE1BQXdCLElBQWhCaEksRUFBSzluRCxRQUN2RSxNQUFNLElBQUl5ZSxNQUFNLHNEQUFzRHFwQyxFQUFLdDZCLEtBQUssUUFFcEYsT0FBT3E2QixHQUFzQkMsRUFBSyxJQWV0QyxTQUFTLEdBQTJCNUIsR0FPaEMsR0FBSXRtQixhQUFldG1DLE1BQU1nTixRQUFRNC9DLEtBQVM1c0QsTUFBTWdOLFFBQVE0L0MsRUFBSTRKLE1BQXVCLElBQWY1SixFQUFJbG1ELFFBQ3BFLE1BQU0sSUFBSXllLE1BQU0scURBQXFEeW5DLEVBQUkxNEIsS0FBSyxRQUVsRixPQXAzQkosU0FBb0MwNEIsR0FDaEMsSUFBSXRyRCxFQUNKLE9BQWlDLFFBQXhCQSxFQUFLMnNELFlBQWtDLElBQVAzc0QsT0FBZ0IsRUFBU0EsRUFBR2d0RCxnQkFBZ0IxQixLQUFTQSxFQWszQnZGNkosQ0FBMkI3SixFQUFJLElBaUMxQyxTQUFTLEdBQTJCc0osRUFBV1EsRUFBS3ROLEdBQ2hELE9BekJKLFNBQXlCc04sRUFBS3ROLEdBQzFCLE1BQWMsUUFBVEEsSUFDUSxVQUFSc04sR0FBMkIsVUFBUkEsR0FBMkIsV0FBUkEsR0FBNEIsVUFBUkEsR0FDL0MsV0FBUkEsSUFDTSxTQUFUdE4sSUFBNEIsU0FBUnNOLEdBQTBCLFNBQVJBLEdBQ2hDLEdBRUosR0FrQkFDLENBQWdCRCxFQUFLdE4sRUFBckJ1TixDQUEyQlQsR0FrQnRDLFNBQVNMLEtBQ0wsTUFBTXBrQixFQUFRc0YsS0FDZCxPQUFPdEYsR0FBU0EsRUF2MUpGLElBcTNKbEIsU0FBU21sQixHQUFZeHhCLEdBQ2pCLElBQUl5eEIsRUFBVUMsR0FBZ0IxeEIsR0FDOUIsR0FBSXl4QixHQUdBLEdBQUk3MkQsTUFBTWdOLFFBQVE2cEQsR0FBVSxDQUN4QixNQUFNcGxCLEVBQVFvbEIsRUFDZCxJQUFJL2dCLEVBQ0FrWCxFQUNBNWQsRUFDSixJQThJaUJ6YSxFQTlJT3lRLElBK0lielEsRUFBU24wQixhQUFlbTBCLEVBQVNuMEIsWUFBWSxLQS9JdkIsQ0FFN0IsR0FEQXMxQyxFQUFZaWhCLEdBQWlCdGxCLEVBQU9yTSxJQUNsQixHQUFkMFEsRUFDQSxNQUFNLElBQUkzd0IsTUFBTSwyREFFcEI2bkMsRUFBWTVuQixPQUVYLEdBMElqQixTQUE2QnpRLEdBQ3pCLE9BQU9BLEdBQVlBLEVBQVNuMEIsYUFBZW0wQixFQUFTbjBCLFlBQVksS0EzSS9DdzJELENBQW9CNXhCLEdBQVMsQ0FFbEMsR0FEQTBRLEVBd01oQixTQUEwQnJFLEVBQU93bEIsR0FNN0IsSUFBSTNyQixFQUFRbUcsRUFobUtGLEdBZ21LZXNJLFdBQ3pCLEtBQU96TyxHQUFPLENBQ1YsTUFBTTRyQixFQUFzQjVyQixFQUFNcVAsZUFDNUJ3YyxFQUFvQjdyQixFQUFNdVAsYUFDaEMsSUFBSyxJQUFJM3lDLEVBQUlndkQsRUFBcUJodkQsRUFBSWl2RCxFQUFtQmp2RCxJQUNyRCxHQUFJdXBDLEVBQU12cEMsS0FBTyt1RCxFQUNiLE9BQU8zckIsRUFBTXh0QixNQUdyQnd0QixFQUFROHJCLEdBQW9COXJCLEdBRWhDLE9BQVEsRUF6TmdCK3JCLENBQWlCNWxCLEVBQU9yTSxJQUNsQixHQUFkMFEsRUFDQSxNQUFNLElBQUkzd0IsTUFBTSwyREFFcEJpcUIsRUFBYWtvQixHQUF5QnhoQixFQUFXckUsR0FBTyxRQUl4RCxHQURBcUUsRUFBWXloQixHQUFxQjlsQixFQUFPck0sSUFDdEIsR0FBZDBRLEVBQ0EsT0FBTyxLQU9mLE1BQU11SCxFQUFTL0gsR0FBWTdELEVBQU1xRSxJQUMzQjBoQixFQUFjVixHQUFnQnpaLEdBQzlCeG9CLEVBQVcyaUMsSUFBZ0J4M0QsTUFBTWdOLFFBQVF3cUQsR0FDM0NBLEVBQ0FDLEdBQWVobUIsRUFBT3FFLEVBQVd1SCxHQU9yQyxHQUxJMlAsUUFBbUMvb0QsSUFBdEI0d0IsRUFBUW00QixZQUNyQm40QixFQUFRbTRCLFVBQVlBLEVBQ3BCMEssR0FBZ0I3aUMsRUFBUW00QixVQUFXbjRCLElBR25DdWEsUUFBcUNuckMsSUFBdkI0d0IsRUFBUXVhLFdBQTBCLENBQ2hEdmEsRUFBUXVhLFdBQWFBLEVBQ3JCLElBQUssSUFBSWxuQyxFQUFJLEVBQUdBLEVBQUlrbkMsRUFBVzFvQyxPQUFRd0IsSUFDbkN3dkQsR0FBZ0J0b0IsRUFBV2xuQyxHQUFJMnNCLEdBR3ZDNmlDLEdBQWdCN2lDLEVBQVF3b0IsT0FBUXhvQixHQUNoQ2dpQyxFQUFVaGlDLE9BR2IsQ0FDRCxNQUFNOGlDLEVBQVd2eUIsRUFDakJrQixXQUFhMkIsRUFBYzB2QixHQUczQixJQUFJOXBELEVBQVM4cEQsRUFDYixLQUFPOXBELEVBQVNBLEVBQU93bUQsWUFBWSxDQUMvQixNQUFNdUQsRUFBZ0JkLEdBQWdCanBELEdBQ3RDLEdBQUkrcEQsRUFBZSxDQUNmLElBQUlubUIsRUFTSixHQVBJQSxFQURBenhDLE1BQU1nTixRQUFRNHFELEdBQ05BLEVBR0FBLEVBQWNubUIsT0FJckJBLEVBQ0QsT0FBTyxLQUVYLE1BQU0zekIsRUFBUXk1QyxHQUFxQjlsQixFQUFPa21CLEdBQzFDLEdBQUk3NUMsR0FBUyxFQUFHLENBQ1osTUFBTXUvQixFQUFTL0gsR0FBWTdELEVBQU0zekIsSUFDM0IrVyxFQUFVNGlDLEdBQWVobUIsRUFBTzN6QixFQUFPdS9CLEdBQzdDcWEsR0FBZ0JyYSxFQUFReG9CLEdBQ3hCZ2lDLEVBQVVoaUMsRUFDVixTQXNFcEIsSUFBNkJGLEVBakV6QixPQUFPa2lDLEdBQVcsS0FLdEIsU0FBU1ksR0FBZWhtQixFQUFPcUUsRUFBV3VILEdBQ3RDLE1BQU8sQ0FDSDVMLE1BQUFBLEVBQ0FxRSxVQUFBQSxFQUNBdUgsT0FBQUEsRUFDQTJQLGVBQVcvb0QsRUFDWG1yQyxnQkFBWW5yQyxFQUNaNHpELGVBQVc1ekQsR0FTbkIsU0FBUzZ6RCxHQUEyQkMsR0FDaEMsSUFDSW5pQixFQURBbkUsRUFBUXFsQixHQUFnQmlCLEdBRTVCLEdBQUkvM0QsTUFBTWdOLFFBQVF5a0MsR0FBUSxDQUN0QixNQUFNcUUsRUFBWWloQixHQUFpQnRsQixFQUFPc21CLEdBQzFDbmlCLEVBQU9DLEdBQXlCQyxFQUFXckUsR0FDM0MsTUFBTTVjLEVBQVU0aUMsR0FBZWhtQixFQUFPcUUsRUFBV0YsRUFuL0o1QyxJQW8vSkwvZ0IsRUFBUW00QixVQUFZK0ssRUFDcEJMLEdBQWdCSyxFQUFtQmxqQyxHQUNuQzZpQyxHQUFnQjdpQyxFQUFRd29CLE9BQVF4b0IsT0FFL0IsQ0FDRCxNQUFNQSxFQUFVNGMsRUFDaEJtRSxFQUFPQyxHQUF5QmhoQixFQUFRaWhCLFVBQVdqaEIsRUFBUTRjLE9BRS9ELE9BQU9tRSxFQVVYLFNBQVM4aEIsR0FBZ0J0eUIsRUFBUWpKLEdBQzdCbUssV0FBYXlCLEVBQWMzQyxFQUFRLG1CQUNuQ0EsRUFBNEIsY0FBSWpKLEVBTXBDLFNBQVMyNkIsR0FBZ0IxeEIsR0FFckIsT0FEQWtCLFdBQWF5QixFQUFjM0MsRUFBUSxtQkFDNUJBLEVBQTRCLGVBQUssS0FFNUMsU0FBUzR5QixHQUFpQjV5QixHQUN0QixNQUFNemtDLEVBQVFtMkQsR0FBZ0IxeEIsR0FDOUIsT0FBSXprQyxFQUNPWCxNQUFNZ04sUUFBUXJNLEdBQVNBLEVBQVFBLEVBQU04d0MsTUFFekMsS0FXWCxTQUFTOGxCLEdBQXFCOWxCLEVBQU9yTSxHQUNqQyxNQUFNbUcsRUFBUWtHLEVBbGlLSixHQW1pS1YsSUFBSyxJQUFJdnBDLEVBQUk4b0MsR0FBZTlvQyxFQUFJcWpDLEVBQU13TSxrQkFBbUI3dkMsSUFDckQsR0FBSW90QyxHQUFZN0QsRUFBTXZwQyxNQUFRazlCLEVBQzFCLE9BQU9sOUIsRUFHZixPQUFRLEVBS1osU0FBU2t2RCxHQUFvQjlyQixHQUN6QixHQUFJQSxFQUFNNE8sTUFDTixPQUFPNU8sRUFBTTRPLE1BRVosR0FBSTVPLEVBQU0zcEMsS0FDWCxPQUFPMnBDLEVBQU0zcEMsS0FNYixLQUFPMnBDLEVBQU16OUIsU0FBV3k5QixFQUFNejlCLE9BQU9sTSxNQUNqQzJwQyxFQUFRQSxFQUFNejlCLE9BRWxCLE9BQU95OUIsRUFBTXo5QixRQUFVeTlCLEVBQU16OUIsT0FBT2xNLEtBTTVDLFNBQVNvMUQsR0FBaUJ0bEIsRUFBT3NtQixHQUM3QixNQUFNRSxFQUFtQnhtQixFQWxrS2YsR0Fra0s0QnltQixXQUN0QyxHQUFJRCxFQUNBLElBQUssSUFBSS92RCxFQUFJLEVBQUdBLEVBQUkrdkQsRUFBaUJ2eEQsT0FBUXdCLElBQUssQ0FDOUMsTUFBTWl3RCxFQUF3QkYsRUFBaUIvdkQsR0FFL0MsR0FEc0IydEMsR0FBeUJzaUIsRUFBdUIxbUIsR0EvaktsRSxLQWdrSzJCc21CLEVBQzNCLE9BQU9JLE9BT2YsR0FGMEJ0aUIsR0FBeUI3RSxHQUFlUyxHQXRrSzFELEtBd2tLY3NtQixFQUdsQixPQUFPL21CLEdBR2YsT0FBUSxFQWdDWixTQUFTc21CLEdBQXlCeGhCLEVBQVdyRSxFQUFPMm1CLEdBQ2hELE1BQU05c0IsRUFBUW1HLEVBdG5LSixHQXNuS2lCdFYsS0FBSzJaLEdBQ2hDLElBQUl1aUIsRUFBc0Ivc0IsRUFBTXFQLGVBQ2hDLEdBQTJCLEdBQXZCMGQsRUFDQSxPQUFPdnJCLEdBQ1gsTUFBTXdyQixFQUFvQmh0QixFQUFNdVAsYUFHaEMsT0FGS3VkLEdBQW1DLEVBQWQ5c0IsRUFBTXpCLE9BQzVCd3VCLElBQ0c1bUIsRUFBTXhwQyxNQUFNb3dELEVBQXFCQyxHQXdDNUMsU0FBU0MsR0FBaUI3MkQsR0FDdEIsT0FBT0EsRUFBMEIsZ0JBS3JDLFNBQVM4MkQsR0FBbUJsaUMsS0FBWXZtQixHQUNwQ3VtQixFQUFRNTBCLFNBQVNxTyxJQXpqQnJCLFNBQVc2bEQsR0FDUEEsRUFBZ0JBLEVBQXNCLEtBQUksR0FBSyxPQUMvQ0EsRUFBZ0JBLEVBQXNCLEtBQUksR0FBSyxPQUMvQ0EsRUFBZ0JBLEVBQXVCLE1BQUksR0FBSyxRQUNoREEsRUFBZ0JBLEVBQXdCLE9BQUksR0FBSyxTQUNqREEsRUFBZ0JBLEVBQXFCLElBQUksR0FBSyxNQUM5Q0EsRUFBZ0JBLEVBQThCLGFBQUksR0FBSyxlQU4zRCxDQU9HQSxLQUFvQkEsR0FBa0IsS0FxbEJ6QyxNQUFNNkMsR0FDRmo0RCxjQUlJZCxLQUFLZzVELFNBQVdwaUMsUUFFcEI1VSxZQUFZaGdCLEdBQ1IsTUFBTWkzRCxFQUFnQmo1RCxLQUFLazVELG1CQUFtQmwzRCxHQUd4Q20zRCxFQWxEZCxTQUF3Qm4zRCxHQUNwQixPQUFPQSxHQUFTQSxFQUFrQixlQUFLODJELEdBaURmTSxDQUFlcDNELEdBQ25DbTNELEVBQVluNUQsS0FBS2c1RCxTQUFVLFFBQVNoM0QsR0FDaENpM0QsR0FDQUUsRUFBWW41RCxLQUFLZzVELFNBQVUsaUJBQWtCQyxHQUlyREMsbUJBQW1CbDNELEdBQ2YsSUFBSXdLLEVBQUl4SyxHQUFTNjJELEdBQWlCNzJELEdBQ2xDLEtBQU93SyxHQUFLcXNELEdBQWlCcnNELElBQ3pCQSxFQUFJcXNELEdBQWlCcnNELEdBRXpCLE9BQU9BLEdBQUssTUFtQnBCLE1BQU02c0QsR0FBeUIsQ0FDM0JqckMsS0FBTSxtQkFXSmtyQyxHQUFtQixDQUNyQmxyQyxLQUFNLG9CQWVKbXJDLEdBQXFCLDZCQUlyQkMsR0FBb0IsUUE2QjFCLFNBQVNDLEdBQWtCeDRELEdBQ3ZCLE9BQU9BLEVBQU1xMEQsUUFBUWlFLElBQXFCaGMsR0FBU0EsRUFBSytYLFFBQVFrRSxHQTdCbEMsVUE0Q2xDLE1BQU1FLEdBQW9CLFdBcUJwQkMsSUFBNEQsb0JBQTFCQyx1QkFDcENBLHVCQUNBenRELFlBRUNiLEtBQUsrL0IsSUFLVixTQUFTLEdBQWdCMXBCLEdBQ3JCLE9BQU9BLEVBQVFrNEMsY0FBY0MsWUFNakMsU0FBUyxHQUFrQm40QyxHQUN2QixPQUFPQSxFQUFRazRDLGNBTW5CLFNBQVMsR0FBY2w0QyxHQUNuQixPQUFPQSxFQUFRazRDLGNBQWNybkQsS0FnQmpDLE1BQU11bkQsR0FBMEIsSUFJaEMsU0FBU0MsR0FBYy80RCxHQUNuQixPQUFJQSxhQUFpQm9LLFNBQ1ZwSyxJQUdBQSxFQVlmLFNBQVNnNUQsR0FBNEJydUIsR0FDakMsTUFBTSxJQUFJckYsR0FBYyxJQUFxQywrQ0FBK0NxRixFQUFNM3FDLFNBYXRILFNBQVNpNUQsR0FBaUNub0IsRUFBT29vQixFQUFXQyxFQUFpQjNyQyxFQUFNNHJDLEdBQy9FLE1BQU92VixFQUFVd1YsS0FBV0MsR0FBVTlyQyxFQUFLbUssTUFBTW1oQyxJQUNqRCxJQUFJenVDLEVBQVdndkMsRUFBUUUsRUFBV0YsRUFDbEMsSUFBSyxJQUFJOXhELEVBQUksRUFBR0EsRUFBSSt4RCxFQUFPdnpELE9BQVF3QixJQUFLLENBQ3BDLE1BQU1peUQsRUFBVU4sRUFBWTN4RCxFQUM1QjhpQixHQUFZLEdBQUd5bUIsRUFBTTBvQixLQUFXRixFQUFPL3hELEtBQ3ZDZ3lELEdBQVksR0FBR0MsSUFBWUwsRUFBa0JDLEVBQWV0b0IsRUFBTTBvQixLQUFXRixFQUFPL3hELEtBRXhGLE1BQU8sQ0FBRXM4QyxTQUFBQSxFQUFVeDVCLFNBQUFBLEVBQVVrdkMsU0FBQUEsR0FzRGpDLElBQUlFLEdBc0JKLElBQUlDLEdBSUosU0FBU0MsR0FBb0JDLEVBQW1COW9CLEdBQzVDLE9BQU80b0IsR0FBcUJFLEVBQW1COW9CLEdBdUNuRCxTQUFTK29CLEdBQWUvb0IsR0FDcEJuTCxXQUFhOEwsR0FBWVgsR0FDekIsTUFBTTVqQyxFQUFTNGpDLEVBdGlMSixHQXVpTFgsT0FBT04sR0FBYXRqQyxHQUFVQSxFQXZpTG5CLEdBdWlMb0NBLEVBd0JuRCxTQUFTNHNELEdBQWVDLEdBQ3BCLE1BQU1DLEVBakJWLFNBQXFCQyxHQUNqQnQwQixXQUFheUIsRUFBYzZ5QixFQUFrQixhQUM3QyxJQUFJbnBCLEVBQVFQLEdBQVEwcEIsR0FBb0JBLEVBQW1CNUMsR0FBaUI0QyxHQUM1RSxLQUFPbnBCLEtBQTBCLElBQWZBLEVBbmpMUixLQW9qTE5BLEVBQVErb0IsR0FBZS9vQixHQUczQixPQURBbkwsV0FBYThMLEdBQVlYLEdBQ2xCQSxFQVVVb3BCLENBQVlILEdBRzdCLE9BRkFwMEIsV0FDSXlCLEVBQWM0eUIsRUE3akxOLEdBNmpMeUIsd0RBQzlCQSxFQTlqTEssR0Fta0xoQixTQUFTRyxHQUFtQnJwQixHQUN4QixPQUFPc3BCLEdBQXFCdHBCLEVBQU11cEIsS0FLdEMsU0FBU0MsR0FBa0JDLEdBQ3ZCLE9BQU9ILEdBQXFCRyxFQTlrTG5CLElBZ2xMYixTQUFTSCxHQUFxQnZrQixHQUMxQixLQUEyQixPQUFwQkEsSUFBNkJyRixHQUFhcUYsSUFDN0NBLEVBQWtCQSxFQWxsTGIsR0FvbExULE9BQU9BLEVBZVgsU0FBUzJrQixHQUEwQjFuQyxFQUFRd2hCLEVBQVVwbkMsRUFBUXV0RCxFQUFlQyxHQUt4RSxHQUFxQixNQUFqQkQsRUFBdUIsQ0FDdkIsSUFBSTdrQixFQUNBK2tCLEdBQWMsRUFJZG5xQixHQUFhaXFCLEdBQ2I3a0IsRUFBYTZrQixFQUVSbHFCLEdBQVFrcUIsS0FDYkUsR0FBYyxFQUNkaDFCLFdBQWF5QixFQUFjcXpCLEVBdm5MMUIsR0F1bkwrQyw4Q0FDaERBLEVBQWdCQSxFQXhuTGYsSUEwbkxMLE1BQU1HLEVBQVFqbUIsR0FBWThsQixHQUMxQjkwQixZQUFjME8sR0FBcUJDLElBQWFoTixFQUFjc3pCLEdBQy9DLElBQVg5bkMsR0FBd0MsT0FBWDVsQixFQUNYLE1BQWR3dEQsRUFDQUcsR0FBa0J2bUIsRUFBVXBuQyxFQUFRMHRELEdBR3BDRSxHQUFtQnhtQixFQUFVcG5DLEVBQVEwdEQsRUFBT0YsR0FBYyxNQUFNLEdBR3BELElBQVg1bkMsR0FBd0MsT0FBWDVsQixFQUNsQzR0RCxHQUFtQnhtQixFQUFVcG5DLEVBQVEwdEQsRUFBT0YsR0FBYyxNQUFNLEdBRWhELElBQVg1bkMsRUFDTGlvQyxHQUFpQnptQixFQUFVc21CLEVBQU9ELEdBRWxCLElBQVg3bkMsSUFDTDZTLFdBQWFBLFVBQVUrRixzQkFDdkI0SSxFQUFTMG1CLFlBQVlKLElBRVAsTUFBZGhsQixHQTZ4QlosU0FBd0J0QixFQUFVeGhCLEVBQVE4aUIsRUFBWXFsQixFQUFnQlAsR0FDbEUvMEIsV0FBYTRMLEdBQWlCcUUsR0FDOUIsTUFBTXNsQixFQUFTdGxCLEVBcjhNSixHQTY4TVBzbEIsSUFQV3ZtQixHQUFZaUIsSUFZdkI0a0IsR0FBMEIxbkMsRUFBUXdoQixFQUFVMm1CLEVBQWdCQyxFQUFRUixHQUV4RSxJQUFLLElBQUluekQsRUFBSTZvQyxHQUF5QjdvQyxFQUFJcXVDLEVBQVc3dkMsT0FBUXdCLElBQUssQ0FDOUQsTUFBTXVwQyxFQUFROEUsRUFBV3J1QyxHQUN6QjR6RCxHQUFVcnFCLEVBNzdNSixHQTY3TWtCQSxFQUFPd0QsRUFBVXhoQixFQUFRbW9DLEVBQWdCQyxJQS95QjdERSxDQUFlOW1CLEVBQVV4aEIsRUFBUThpQixFQUFZMW9DLEVBQVF3dEQsSUFJakUsU0FBU1csR0FBZS9tQixFQUFVdDBDLEdBRzlCLE9BRkEybEMsV0FBYUEsVUFBVWtGLHlCQUN2QmxGLFdBQWFBLFVBQVVtRixrQkFDaEJ1SixHQUFxQkMsR0FBWUEsRUFBU2duQixXQUFXdDdELEdBQ3hEczBDLEVBQVMrbUIsZUFBZXI3RCxHQUVoQyxTQUFTdTdELEdBQWVqbkIsRUFBVXNtQixFQUFPNTZELEdBQ3JDMmxDLFdBQWFBLFVBQVVtRixrQkFDdkJ1SixHQUFxQkMsR0FBWUEsRUFBU2tuQixTQUFTWixFQUFPNTZELEdBQVM0NkQsRUFBTWEsWUFBY3o3RCxFQUUzRixTQUFTMDdELEdBQWtCcG5CLEVBQVV0MEMsR0FJakMsT0FIQTJsQyxXQUFhQSxVQUFVb0csd0JBR2hCdUksRUFBU3FuQixjQUFjbkQsR0FBa0J4NEQsSUFTcEQsU0FBUzQ3RCxHQUFrQnRuQixFQUFVbm5CLEVBQU0wdUMsR0FFdkMsR0FEQWwyQixXQUFhQSxVQUFVb0Ysd0JBQ25Cc0osR0FBcUJDLEdBQ3JCLE9BQU9BLEVBQVNpYyxjQUFjcGpDLEVBQU0wdUMsR0FFbkMsQ0FDRCxNQUFNQyxFQUE2QixPQUFkRCxFQWh6SzdCLFNBQXlCQSxHQUNyQixNQUFNMXVDLEVBQU8wdUMsRUFBVWxoQyxjQUN2QixPQUFPeE4sSUFBUzJtQixHQUxNLDZCQU1qQjNtQixJQUFTNG1CLEdBSlksaUNBSWdDLEtBNnlLWmdvQixDQUFnQkYsR0FBYSxLQUN2RSxPQUF3QixPQUFqQkMsRUFBd0J4bkIsRUFBU2ljLGNBQWNwakMsR0FDbERtbkIsRUFBUzBuQixnQkFBZ0JGLEVBQWMzdUMsSUF5S25ELFNBQVM4dUMsR0FBZ0JDLEVBQXNCcHJCLEdBQzNDbkwsV0FBYTRMLEdBQWlCMnFCLEdBQzlCdjJCLFdBQ0l5QixFQUFjODBCLEVBcDNMRixHQW8zTHFDLDRFQUNyRCxNQUFNQyxFQUFhRCxFQXIzTEgsR0FzM0xWRSxFQUF1QkQsRUFBV3RvQyxRQUFRaWQsR0FDMUN1ckIsRUFBc0J2ckIsRUE5MUxqQixHQSsxTFhuTCxXQUFhNEwsR0FBaUI4cUIsR0FJWCxLQUFmdnJCLEVBcDJMTSxLQXEyTE5BLEVBcjJMTSxLQXEyTFUsS0FDaEI2RSxHQUE0QjBtQixHQUFzQixJQUV0REYsRUFBVzEwRCxPQUFPMjBELEVBQXNCLEdBWTVDLFNBQVNFLEdBQVcxbUIsRUFBWTJtQixHQUM1QixHQUFJM21CLEVBQVc3dkMsUUFBVXFxQyxHQUNyQixPQUNKLE1BQU1vc0IsRUFBbUJwc0IsR0FBMEJtc0IsRUFDN0NFLEVBQWU3bUIsRUFBVzRtQixHQUNoQyxHQUFJQyxFQUFjLENBQ2QsTUFBTUMsRUFBd0JELEVBMTJMUCxJQTIyTE8sT0FBMUJDLEdBQWtDQSxJQUEwQjltQixHQUM1RHFtQixHQUFnQlMsRUFBdUJELEdBRXZDRixFQUFjLElBQ2QzbUIsRUFBVzRtQixFQUFtQixHQTczTDdCLEdBNjNMd0NDLEVBNzNMeEMsSUErM0xMLE1BQU1FLEVBQWU1VyxHQUFnQm5RLEVBQVl4RixHQUEwQm1zQixHQWxNL0VwQixHQW1NNEJzQixFQW40TGxCLEdBOHJMMEIzckIsRUFxTWEyckIsRUFwTWhDM3JCLEVBQU1nRSxJQUNXLEVBQWdCLEtBQU0sTUFDeERoRSxFQWxzTFMsR0Frc0xLLEtBQ2RBLEVBN3JMVyxHQTZyTEssS0FtTVosTUFBTThyQixFQUFXRCxFQUFhRSxJQUNiLE9BQWJELEdBQ0FBLEVBQVNOLFdBQVdLLEVBdjRMbEIsSUF5NExORixFQXY0TE8sR0F1NExnQixLQUN2QkEsRUF2NExLLEdBdTRMZ0IsS0FFckJBLEVBMzRMTSxLQTI0TGlCLElBOU0vQixJQUF3QzNyQixFQWdOcEMsT0FBTzJyQixFQVNYLFNBQVNLLEdBQWFseUIsRUFBT2tHLEdBQ3pCLEtBQXFCLElBQWZBLEVBdjVMSSxJQXU1TGlDLENBQ3ZDLE1BQU13RCxFQUFXeEQsRUFBTWdFLElBQ25CVCxHQUFxQkMsSUFBYUEsRUFBUzBtQixhQUMzQ0csR0FBVXZ3QixFQUFPa0csRUFBT3dELEVBQVUsRUFBaUIsS0FBTSxNQTlLckUsU0FBeUIwbEIsR0FFckIsSUFBSStDLEVBQW9CL0MsRUFBU0ssSUFDakMsSUFBSzBDLEVBQ0QsT0FBT0MsR0FBWWhELEVBanZMYixHQWl2TDhCQSxHQUV4QyxLQUFPK0MsR0FBbUIsQ0FDdEIsSUFBSS83RCxFQUFPLEtBQ1gsR0FBSXV2QyxHQUFRd3NCLEdBRVIvN0QsRUFBTys3RCxFQUFrQjFDLFFBRXhCLENBQ0QxMEIsV0FBYTRMLEdBQWlCd3JCLEdBRTlCLE1BQU1FLEVBQVlGLEVBQWtCM3NCLElBQ2hDNnNCLElBQ0FqOEQsRUFBT2k4RCxHQUVmLElBQUtqOEQsRUFBTSxDQUdQLEtBQU8rN0QsSUFBc0JBLEVBaHdMNUIsSUFnd0x1REEsSUFBc0IvQyxHQUN0RXpwQixHQUFRd3NCLElBQ1JDLEdBQVlELEVBcndMbEIsR0Fxd0w0Q0EsR0FFMUNBLEVBQW9CQSxFQXJ3THJCLEdBdXdMdUIsT0FBdEJBLElBQ0FBLEVBQW9CL0MsR0FDcEJ6cEIsR0FBUXdzQixJQUNSQyxHQUFZRCxFQTV3TGQsR0E0d0x3Q0EsR0FFMUMvN0QsRUFBTys3RCxHQUFxQkEsRUEzd0wzQixHQTZ3TExBLEVBQW9CLzdELEdBNklwQms4RCxDQUFnQnBzQixJQVd4QixTQUFTa3NCLEdBQVlweUIsRUFBT2tHLEdBQ3hCLEtBQXFCLElBQWZBLEVBeDZMSSxJQXc2TGlDLENBR3ZDQSxFQTM2TE0sS0EyNkxVLElBTWhCQSxFQWo3TE0sSUFpN0xVLElBMEV4QixTQUEyQmxHLEVBQU9rRyxHQUM5QixJQUFJK0osRUFDSixHQUFhLE1BQVRqUSxHQUF3RCxPQUF0Q2lRLEVBQWVqUSxFQUFNaVEsY0FDdkMsSUFBSyxJQUFJdHpDLEVBQUksRUFBR0EsRUFBSXN6QyxFQUFhOTBDLE9BQVF3QixHQUFLLEVBQUcsQ0FDN0MsTUFBTTJzQixFQUFVNGMsRUFBTStKLEVBQWF0ekMsSUFFbkMsS0FBTTJzQixhQUFtQjRuQixJQUFzQixDQUMzQyxNQUFNcWhCLEVBQVN0aUIsRUFBYXR6QyxFQUFJLEdBQ2hDLEdBQUlsSSxNQUFNZ04sUUFBUTh3RCxHQUNkLElBQUssSUFBSXR4RCxFQUFJLEVBQUdBLEVBQUlzeEQsRUFBT3AzRCxPQUFROEYsR0FBSyxFQUFHLENBQ3ZDLE1BQU11eEQsRUFBY2xwQyxFQUFRaXBDLEVBQU90eEQsSUFDN0I4dkMsRUFBT3doQixFQUFPdHhELEVBQUksR0FDeEIrbkMsR0FBUyxFQUE0QndwQixFQUFhemhCLEdBQ2xELElBQ0lBLEVBQUtsOEMsS0FBSzI5RCxHQUVkLFFBQ0l4cEIsR0FBUyxFQUEwQndwQixFQUFhemhCLFFBSXZELENBQ0QvSCxHQUFTLEVBQTRCMWYsRUFBU2lwQyxHQUM5QyxJQUNJQSxFQUFPMTlELEtBQUt5MEIsR0FFaEIsUUFDSTBmLEdBQVMsRUFBMEIxZixFQUFTaXBDLE9BcEc1REUsQ0FBa0J6eUIsRUFBT2tHLEdBdUJqQyxTQUF5QmxHLEVBQU9rRyxHQUM1QixNQUFNd3NCLEVBQVcxeUIsRUFBTTJ5QixRQUNqQkMsRUFBVzFzQixFQXQ4TEwsR0EwOExaLElBQUkyc0IsR0FBcUIsRUFDekIsR0FBaUIsT0FBYkgsRUFDQSxJQUFLLElBQUkvMUQsRUFBSSxFQUFHQSxFQUFJKzFELEVBQVN2M0QsT0FBUyxFQUFHd0IsR0FBSyxFQUMxQyxHQUEyQixpQkFBaEIrMUQsRUFBUy8xRCxHQUFpQixDQUVqQyxNQUFNbTJELEVBQW9CSixFQUFTLzFELEVBQUksR0FDakNrOUIsRUFBc0MsbUJBQXRCaTVCLEVBQ2xCQSxFQUFrQjVzQixHQUNsQjZELEdBQVk3RCxFQUFNNHNCLElBQ2hCQyxFQUFXSCxFQUFTQyxFQUFvQkgsRUFBUy8xRCxFQUFJLElBQ3JEcTJELEVBQXFCTixFQUFTLzFELEVBQUksR0FDTixrQkFBdkJxMkQsRUFFUG41QixFQUFPbzVCLG9CQUFvQlAsRUFBUy8xRCxHQUFJbzJELEVBQVVDLEdBRzlDQSxHQUFzQixFQUV0QkosRUFBU0MsRUFBb0JHLEtBSTdCSixFQUFTQyxHQUFxQkcsR0FBb0JqNEQsY0FHMUQ0QixHQUFLLE1BRUosQ0FFRCxNQUFNMnNCLEVBQVVzcEMsRUFBU0MsRUFBb0JILEVBQVMvMUQsRUFBSSxJQUMxRCsxRCxFQUFTLzFELEdBQUc5SCxLQUFLeTBCLEdBSTdCLEdBQWlCLE9BQWJzcEMsRUFBbUIsQ0FDbkIsSUFBSyxJQUFJajJELEVBQUlrMkQsRUFBb0IsRUFBR2wyRCxFQUFJaTJELEVBQVN6M0QsT0FBUXdCLElBQUssQ0FDMUQsTUFBTXUyRCxFQUFvQk4sRUFBU2oyRCxHQUNuQ28rQixZQXY0Tm9CakcsRUF1NE4yQix1Q0F0NE4vQixtQkFESjRHLEVBdTROZ0J3M0IsSUFyNE5oQzc2RCxFQUFXeThCLEVBQWdCLE9BQVg0RyxFQUFrQixjQUFnQkEsRUFBUSxXQUFZLFFBczRObEV3M0IsSUFFSmh0QixFQWwvTFEsR0FrL0xTLEtBMTROekIsSUFBd0J4SyxFQUFRNUcsRUFzME54QnErQixDQUFnQm56QixFQUFPa0csR0FFRyxJQUF0QkEsRUF0N0xFLEdBczdMV2xXLE1BQThCeVosR0FBcUJ2RCxFQUFNZ0UsT0FDdEVuUCxXQUFhQSxVQUFVOEYsa0JBQ3ZCcUYsRUFBTWdFLElBQVVrcEIsV0FFcEIsTUFBTTlCLEVBQXVCcHJCLEVBejZMTixJQTI2THZCLEdBQTZCLE9BQXpCb3JCLEdBQWlDMXJCLEdBQWFNLEVBMTdMM0MsSUEwN0wyRCxDQUUxRG9yQixJQUF5QnByQixFQTU3TDFCLElBNjdMQ21yQixHQUFnQkMsRUFBc0JwckIsR0FHMUMsTUFBTThyQixFQUFXOXJCLEVBQU0rckIsSUFDTixPQUFiRCxHQUNBQSxFQUFTTixXQUFXMXhCLEtBMEdwQyxTQUFTcXpCLEdBQWtCcnpCLEVBQU9ELEVBQU9tRyxHQUNyQyxPQUFPb3RCLEdBQW1CdHpCLEVBQU9ELEVBQU16OUIsT0FBUTRqQyxHQWlCbkQsU0FBU290QixHQUFtQnR6QixFQUFPRCxFQUFPbUcsR0FDdEMsSUFBSTJILEVBQWM5TixFQUdsQixLQUF1QixPQUFoQjhOLEdBQ2lCLEdBQW5CQSxFQUFZN2QsTUFFYjZkLEdBREE5TixFQUFROE4sR0FDWXZyQyxPQUl4QixHQUFvQixPQUFoQnVyQyxFQUdBLE9BQU8zSCxFQS9rTUYsR0FtbE1MLEdBREFuTCxXQUFhNFcsR0FBZ0I5RCxFQUFhLEdBQ2xCLEVBQXBCQSxFQUFZdlAsTUFBaUMsQ0FDN0N2RCxXQUFha0wsR0FBb0I0SCxFQUFhM0gsR0FDOUMsTUFBTTNDLEVBQWdCdkQsRUFBTXBQLEtBQUtpZCxFQUFZdUIsZ0JBQWdCN0wsY0FPN0QsR0FBSUEsSUFBa0IzRSxFQUFvQjIwQixNQUN0Q2h3QixJQUFrQjNFLEVBQW9CNEUsU0FDdEMsT0FBTyxLQUdmLE9BQU95RyxHQUFpQjRELEVBQWEzSCxHQVE3QyxTQUFTZ3FCLEdBQW1CeG1CLEVBQVVwbkMsRUFBUXFzQyxFQUFPbWhCLEVBQVkwRCxHQUM3RHo0QixXQUFhQSxVQUFVbUcsdUJBQ25CdUksR0FBcUJDLEdBQ3JCQSxFQUFTK3BCLGFBQWFueEQsRUFBUXFzQyxFQUFPbWhCLEVBQVkwRCxHQUdqRGx4RCxFQUFPbXhELGFBQWE5a0IsRUFBT21oQixFQUFZMEQsR0FHL0MsU0FBU3ZELEdBQWtCdm1CLEVBQVVwbkMsRUFBUXFzQyxHQUN6QzVULFdBQWFBLFVBQVVrRyxzQkFDdkJsRyxXQUFheUIsRUFBY2w2QixFQUFRLCtCQUMvQm1uQyxHQUFxQkMsR0FDckJBLEVBQVNrYyxZQUFZdGpELEVBQVFxc0MsR0FHN0Jyc0MsRUFBT3NqRCxZQUFZalgsR0FHM0IsU0FBUytrQixHQUEyQmhxQixFQUFVcG5DLEVBQVFxc0MsRUFBT21oQixFQUFZMEQsR0FDbEQsT0FBZjFELEVBQ0FJLEdBQW1CeG1CLEVBQVVwbkMsRUFBUXFzQyxFQUFPbWhCLEVBQVkwRCxHQUd4RHZELEdBQWtCdm1CLEVBQVVwbkMsRUFBUXFzQyxHQWU1QyxTQUFTZ2xCLEdBQWlCanFCLEVBQVUvTSxHQUNoQyxPQUFROE0sR0FBcUJDLEdBQVlBLEVBQVNvZixXQUFXbnNCLEdBQVFBLEVBQUttc0IsV0FrQjlFLFNBQVM4SyxHQUF3Qi9sQixFQUFhaEMsRUFBYzNGLEdBQ3hELE9BQU8ydEIsR0FBaUNobUIsRUFBYWhDLEVBQWMzRixHQWF2RSxTQUFTNHRCLEdBQWtDam1CLEVBQWFoQyxFQUFjM0YsR0FDbEUsT0FBdUIsR0FBbkIySCxFQUFZN2QsS0FDTGlhLEdBQWlCNEQsRUFBYTNILEdBRWxDLE1BL3NCWCxTQUFXMm9CLEdBT1BBLEVBQW9CQSxFQUErQixVQUFJLEdBQUssWUFJNURBLEVBQW9CQSxFQUE4QixTQUFJLEdBQUssV0FYL0QsQ0FZR0EsS0FBd0JBLEdBQXNCLEtBMHNCakQsSUFNSWtGLEdBTkFGLEdBQW1DQyxHQU92QyxTQUFTRSxHQUFnQkMsRUFBaUNDLEdBQ3RETCxHQUFtQ0ksRUFDbkNGLEdBQTJCRyxFQVUvQixTQUFTdE8sR0FBWTVsQixFQUFPa0csRUFBT2l1QixFQUFZQyxHQUMzQyxNQUFNQyxFQUFjaEIsR0FBa0JyekIsRUFBT28wQixFQUFZbHVCLEdBQ25Ed0QsRUFBV3hELEVBQU1nRSxJQUVqQm9xQixFQUFhVixHQURDUSxFQUFXOXhELFFBQVU0akMsRUE1c005QixHQTZzTTZDa3VCLEVBQVlsdUIsR0FDcEUsR0FBbUIsTUFBZm11QixFQUNBLEdBQUk1L0QsTUFBTWdOLFFBQVEweUQsR0FDZCxJQUFLLElBQUl4M0QsRUFBSSxFQUFHQSxFQUFJdzNELEVBQVdoNUQsT0FBUXdCLElBQ25DKzJELEdBQTJCaHFCLEVBQVUycUIsRUFBYUYsRUFBV3gzRCxHQUFJMjNELEdBQVksUUFJakZaLEdBQTJCaHFCLEVBQVUycUIsRUFBYUYsRUFBWUcsR0FBWSxRQUdyRDU3RCxJQUE3QnE3RCxJQUNJQSxHQUF5QnJxQixFQUFVMHFCLEVBQVlsdUIsRUFBT2l1QixFQUFZRSxHQU8xRSxTQUFTRSxHQUFtQnJ1QixFQUFPbkcsR0FDL0IsR0FBYyxPQUFWQSxFQUFnQixDQUNoQmhGLFdBQ0k0VyxHQUFnQjVSLEVBQU8sSUFDM0IsTUFBTTBSLEVBQVkxUixFQUFNL1AsS0FDeEIsR0FBZ0IsRUFBWnloQixFQUNBLE9BQU94SCxHQUFpQmxLLEVBQU9tRyxHQUU5QixHQUFnQixFQUFadUwsRUFDTCxPQUFPK2lCLElBQXNCLEVBQUd0dUIsRUFBTW5HLEVBQU14dEIsUUFFM0MsR0FBZ0IsRUFBWmsvQixFQUFzQyxDQUMzQyxNQUFNZ2pCLEVBQXNCMTBCLEVBQU00TyxNQUNsQyxHQUE0QixPQUF4QjhsQixFQUNBLE9BQU9GLEdBQW1CcnVCLEVBQU91dUIsR0FFaEMsQ0FDRCxNQUFNQyxFQUFvQnh1QixFQUFNbkcsRUFBTXh0QixPQUN0QyxPQUFJcXpCLEdBQWE4dUIsR0FDTkYsSUFBc0IsRUFBR0UsR0FHekIzcUIsR0FBWTJxQixJQUkxQixHQUFnQixHQUFaampCLEVBSUwsT0FIZ0JzZCxHQUFvQmh2QixFQUFPbUcsRUFDL0J5dUIsSUFFSTVxQixHQUFZN0QsRUFBTW5HLEVBQU14dEIsUUFFdkMsQ0FDRCxNQUFNcWlELEVBQWtCQyxHQUFtQjN1QixFQUFPbkcsR0FDbEQsR0FBd0IsT0FBcEI2MEIsRUFBMEIsQ0FDMUIsR0FBSW5nRSxNQUFNZ04sUUFBUW16RCxHQUNkLE9BQU9BLEVBQWdCLEdBRTNCLE1BQU1waEIsRUFBYXliLEdBQWUvb0IsRUFBTXVQLEtBRXhDLE9BREExYSxXQUFhd00sR0FBaUJpTSxHQUN2QitnQixHQUFtQi9nQixFQUFZb2hCLEdBR3RDLE9BQU9MLEdBQW1CcnVCLEVBQU9uRyxFQUFNM3BDLE9BSW5ELE9BQU8sS0FFWCxTQUFTeStELEdBQW1CM3VCLEVBQU9uRyxHQUMvQixHQUFjLE9BQVZBLEVBQWdCLENBQ2hCLE1BQ00rMEIsRUFEZ0I1dUIsRUFBTXVQLElBbnhNckIsR0FxeE1EbVosRUFBVTd1QixFQUFNZzFCLFdBRXRCLE9BREFoNkIsV0EvbU1SLFNBQStCbUwsRUFBT2EsR0FDbEN2SyxFQUFjMEosRUFBTXVQLElBQTZCLGlDQUNqRGpaLEVBQWMwSixFQUFNdVAsSUF6S1QsR0F5SzZDc2YsV0FDcEQsdUZBNG1NYUMsQ0FBc0I5dUIsR0FDNUI0dUIsRUFBY0MsV0FBV25HLEdBRXBDLE9BQU8sS0FFWCxTQUFTNEYsR0FBcUJTLEVBQXNCanFCLEdBQ2hELE1BQU1rcUIsRUFBZ0IxdkIsR0FBMEJ5dkIsRUFBdUIsRUFDdkUsR0FBSUMsRUFBZ0JscUIsRUFBVzd2QyxPQUFRLENBQ25DLE1BQU0rcUMsRUFBUThFLEVBQVdrcUIsR0FDbkJDLEVBQW1CanZCLEVBcHlNbkIsR0FveU1nQ3NJLFdBQ3RDLEdBQXlCLE9BQXJCMm1CLEVBQ0EsT0FBT1osR0FBbUJydUIsRUFBT2l2QixHQUd6QyxPQUFPbnFCLEVBbDBNSSxHQTYwTWYsU0FBU21sQixHQUFpQnptQixFQUFVc21CLEVBQU9vRixHQUN2Q3I2QixXQUFhQSxVQUFVaUcscUJBQ3ZCLE1BQU1xMEIsRUFBZTFCLEdBQWlCanFCLEVBQVVzbUIsR0FDNUNxRixHQW5MUixTQUEyQjNyQixFQUFVcG5DLEVBQVFxc0MsRUFBT3ltQixHQUM1QzNyQixHQUFxQkMsR0FDckJBLEVBQVM0YixZQUFZaGpELEVBQVFxc0MsRUFBT3ltQixHQUdwQzl5RCxFQUFPZ2pELFlBQVkzVyxHQStLbkIybUIsQ0FBa0I1ckIsRUFBVTJyQixFQUFjckYsRUFBT29GLEdBT3pELFNBQVNHLEdBQVc3ckIsRUFBVXhoQixFQUFRNlgsRUFBT21HLEVBQU9tcUIsRUFBZ0JQLEVBQVkwRixHQUM1RSxLQUFnQixNQUFUejFCLEdBQWUsQ0FDbEJoRixXQUFha0wsR0FBb0JsRyxFQUFPbUcsR0FDeENuTCxXQUNJNFcsR0FBZ0I1UixFQUFPLElBQzNCLE1BQU0wMUIsRUFBZXZ2QixFQUFNbkcsRUFBTXh0QixPQUMzQmsvQixFQUFZMVIsRUFBTS9QLEtBT3hCLEdBTkl3bEMsR0FDZSxJQUFYdHRDLElBQ0F1dEMsR0FBZ0J0SixHQUFnQnBpQixHQUFZMHJCLEdBQWV2dkIsR0FDM0RuRyxFQUFNekIsT0FBUyxHQUdxQixLQUF6QixHQUFkeUIsRUFBTXpCLE9BQ1AsR0FBZ0IsRUFBWm1ULEVBQ0E4akIsR0FBVzdyQixFQUFVeGhCLEVBQVE2WCxFQUFNNE8sTUFBT3pJLEVBQU9tcUIsRUFBZ0JQLEdBQVksR0FDN0VGLEdBQTBCMW5DLEVBQVF3aEIsRUFBVTJtQixFQUFnQm9GLEVBQWMzRixRQUV6RSxHQUFnQixHQUFacmUsRUFBMEIsQ0FDL0IsTUFBTWtqQixFQUFZNUYsR0FBb0JodkIsRUFBT21HLEdBQzdDLElBQUk4cEIsRUFDSixLQUFPQSxFQUFRMkUsS0FDWC9FLEdBQTBCMW5DLEVBQVF3aEIsRUFBVTJtQixFQUFnQkwsRUFBT0YsR0FFdkVGLEdBQTBCMW5DLEVBQVF3aEIsRUFBVTJtQixFQUFnQm9GLEVBQWMzRixRQUV6RCxHQUFacmUsRUFDTGlrQixHQUF5QmhzQixFQUFVeGhCLEVBQVFnZSxFQUFPbkcsRUFBT3N3QixFQUFnQlAsSUFHekUvMEIsV0FBYTRXLEdBQWdCNVIsRUFBTyxHQUNwQzZ2QixHQUEwQjFuQyxFQUFRd2hCLEVBQVUybUIsRUFBZ0JvRixFQUFjM0YsSUFHbEYvdkIsRUFBUXkxQixFQUFlejFCLEVBQU00MUIsZUFBaUI1MUIsRUFBTTNwQyxNQUc1RCxTQUFTbTZELEdBQVV2d0IsRUFBT2tHLEVBQU93RCxFQUFVeGhCLEVBQVFtb0MsRUFBZ0JQLEdBQy9EeUYsR0FBVzdyQixFQUFVeGhCLEVBQVE4WCxFQUFNd08sV0FBWXRJLEVBQU9tcUIsRUFBZ0JQLEdBQVksR0FpQ3RGLFNBQVM0RixHQUF5QmhzQixFQUFVeGhCLEVBQVFnZSxFQUFPMHZCLEVBQWlCdkYsRUFBZ0JQLEdBQ3hGLE1BQU0rRixFQUFpQjN2QixFQUFNdVAsSUFDdkJxZ0IsRUFBZ0JELEVBbjRNWCxHQW80TVg5NkIsV0FDSWtCLFNBQW1CMjVCLEVBQWdCYixXQUFZLFNBQVUsOEJBQzdELE1BQU1nQixFQUF3QkQsRUFBY2YsV0FBV2EsRUFBZ0JiLFlBQ3ZFLEdBQUl0Z0UsTUFBTWdOLFFBQVFzMEQsR0FNZCxJQUFLLElBQUlwNUQsRUFBSSxFQUFHQSxFQUFJbzVELEVBQXNCNTZELE9BQVF3QixJQUU5Q2l6RCxHQUEwQjFuQyxFQUFRd2hCLEVBQVUybUIsRUFEOUIwRixFQUFzQnA1RCxHQUMrQm16RCxRQU12RXlGLEdBQVc3ckIsRUFBVXhoQixFQUZENnRDLEVBQ1lGLEVBdjVNekIsR0F3NU04RHhGLEVBQWdCUCxHQUFZLEdBaUh6RyxTQUFTa0csR0FBaUJ0c0IsRUFBVTV6QixFQUFTNjRDLEdBQ3pDNXpCLFdBQWFpQixFQUFhMnlCLEVBQVUsaUNBQ2hDbGxCLEdBQXFCQyxHQUNyQkEsRUFBUzBJLGFBQWF0OEIsRUFBUyxRQUFTNjRDLEdBR3hDNzRDLEVBQVFpc0MsTUFBTWtVLFFBQVV0SCxFQUU1QjV6QixXQUFhQSxVQUFVNEYsbUJBWTNCLFNBQVN1MUIsR0FBaUJ4c0IsRUFBVTV6QixFQUFTNjRDLEdBQ3pDNXpCLFdBQWFpQixFQUFhMnlCLEVBQVUsaUNBQ2hDbGxCLEdBQXFCQyxHQUNKLEtBQWJpbEIsRUFFQWpsQixFQUFTNGMsZ0JBQWdCeHdDLEVBQVMsU0FHbEM0ekIsRUFBUzBJLGFBQWF0OEIsRUFBUyxRQUFTNjRDLEdBSTVDNzRDLEVBQVFxZ0QsVUFBWXhILEVBRXhCNXpCLFdBQWFBLFVBQVV5Rix1QkFvQjNCLFNBQVM0MUIsR0FBYUQsRUFBV0UsRUFBZUMsR0FDNUN2N0IsV0FBYW9CLEVBQWVrNkIsRUFBZSxHQUFJLCtCQUMvQyxJQUFJaG5CLEVBQU04bUIsRUFBVWg3RCxPQUNwQixPQUFhLENBQ1QsTUFBTW83RCxFQUFhSixFQUFVbHRDLFFBQVFvdEMsRUFBZUMsR0FDcEQsSUFBb0IsSUFBaEJDLEVBQ0EsT0FBT0EsRUFDWCxHQUFtQixJQUFmQSxHQUFvQkosRUFBVXpqQixXQUFXNmpCLEVBQWEsSUFBTSxHQUFnQixDQUU1RSxNQUFNcDdELEVBQVNrN0QsRUFBY2w3RCxPQUM3QixHQUFJbzdELEVBQWFwN0QsSUFBV2swQyxHQUN4QjhtQixFQUFVempCLFdBQVc2akIsRUFBYXA3RCxJQUFXLEdBRTdDLE9BQU9vN0QsRUFJZkQsRUFBZ0JDLEVBQWEsR0FXckMsTUFDTUMsR0FBdUIsY0FTN0IsU0FBU0MsR0FBbUIxa0IsRUFBTzJrQixFQUFpQkMsR0FLaEQ1N0IsV0FDSWtCLEVBQVl5NkIsRUFBaUJBLEVBQWdCM21DLGNBQWUsd0NBQ2hFLElBQUlwekIsRUFBSSxFQUNSLEtBQU9BLEVBQUlvMUMsRUFBTTUyQyxRQUFRLENBQ3JCLElBQUk2dEIsRUFBTytvQixFQUFNcDFDLEtBQ2pCLEdBQUlnNkQsR0FBNkIsVUFBVDN0QyxHQUVwQixHQURBQSxFQUFPK29CLEVBQU1wMUMsSUFDaUQsSUFBMUR5NUQsR0FBYXB0QyxFQUFLK0csY0FBZTJtQyxFQUFpQixHQUNsRCxPQUFPLE9BR1YsR0FBYSxJQUFUMXRDLEVBQTBCLENBRS9CLEtBQU9yc0IsRUFBSW8xQyxFQUFNNTJDLFFBQXdDLGlCQUF0QjZ0QixFQUFPK29CLEVBQU1wMUMsT0FFNUMsR0FBSXFzQixFQUFLK0csZ0JBQWtCMm1DLEVBQ3ZCLE9BQU8sRUFFZixPQUFPLEdBR2YsT0FBTyxFQU9YLFNBQVNFLEdBQWlCNzJCLEdBQ3RCLE9BQXNCLElBQWZBLEVBQU0vUCxNQUE4QitQLEVBQU0zcUMsUUFBVW9oRSxHQWEvRCxTQUFTSyxHQUFtQjkyQixFQUFPKzJCLEVBQWlCSCxHQUVoRCxPQUFPRyxLQURpQyxJQUFmLzJCLEVBQU0vUCxNQUErQjJtQyxFQUEwQzUyQixFQUFNM3FDLE1BQTdCb2hFLElBWXJGLFNBQVNPLEdBQXVCaDNCLEVBQU92d0IsRUFBVW1uRCxHQUM3QzU3QixXQUFheUIsRUFBY2h0QixFQUFTLEdBQUksbUNBQ3hDLElBQUk2OEIsRUFBTyxFQUNYLE1BQU0ycUIsRUFBWWozQixFQUFNZ1MsT0FBUyxHQUUzQmtsQixFQTBLVixTQUFnQ0QsR0FDNUIsSUFBSyxJQUFJcjZELEVBQUksRUFBR0EsRUFBSXE2RCxFQUFVNzdELE9BQVF3QixJQUVsQyxHQUFJNjFDLEdBRGF3a0IsRUFBVXI2RCxJQUV2QixPQUFPQSxFQUdmLE9BQU9xNkQsRUFBVTc3RCxPQWpMUys3RCxDQUF1QkYsR0FHakQsSUFBSUcsR0FBcUIsRUFDekIsSUFBSyxJQUFJeDZELEVBQUksRUFBR0EsRUFBSTZTLEVBQVNyVSxPQUFRd0IsSUFBSyxDQUN0QyxNQUFNNnJDLEVBQVVoNUIsRUFBUzdTLEdBQ3pCLEdBQXVCLGlCQUFaNnJDLEdBYVgsSUFBSTJ1QixFQUVKLEdBQVcsRUFBUDlxQixHQUVBLEdBREFBLEVBQU8sRUFBMkIsRUFBUEEsRUFDWCxLQUFaN0QsSUFBbUJxdUIsR0FBbUI5MkIsRUFBT3lJLEVBQVNtdUIsSUFDMUMsS0FBWm51QixHQUFzQyxJQUFwQmg1QixFQUFTclUsT0FBYyxDQUN6QyxHQUFJaThELEdBQVcvcUIsR0FDWCxPQUFPLEVBQ1g4cUIsR0FBcUIsT0FHeEIsQ0FDRCxNQUFNRSxFQUEyQixFQUFQaHJCLEVBQXVCN0QsRUFBVWg1QixJQUFXN1MsR0FHdEUsR0FBWSxFQUFQMHZDLEdBQXlDLE9BQWhCdE0sRUFBTWdTLE1BQWdCLENBQ2hELElBQUswa0IsR0FBbUIxMkIsRUFBTWdTLE1BQU9zbEIsRUFBbUJWLEdBQW1CLENBQ3ZFLEdBQUlTLEdBQVcvcUIsR0FDWCxPQUFPLEVBQ1g4cUIsR0FBcUIsRUFFekIsU0FFSixNQUNNRyxFQUFrQkMsR0FEQyxFQUFQbHJCLEVBQXdCLFFBQVU3RCxFQUNFd3VCLEVBQVdKLEdBQWlCNzJCLEdBQVE0MkIsR0FDMUYsSUFBeUIsSUFBckJXLEVBQXdCLENBQ3hCLEdBQUlGLEdBQVcvcUIsR0FDWCxPQUFPLEVBQ1g4cUIsR0FBcUIsRUFDckIsU0FFSixHQUEwQixLQUF0QkUsRUFBMEIsQ0FDMUIsSUFBSUcsRUFDQUYsRUFBa0JMLEVBQ2xCTyxFQUFnQixJQUdoQno4QixXQUNJb0IsRUFBZTY2QixFQUFVTSxHQUFrQixFQUFzQix1REFJckVFLEVBQWdCUixFQUFVTSxFQUFrQixHQUFHdm5DLGVBRW5ELE1BQU0wbkMsRUFBaUMsRUFBUHByQixFQUF1Qm1yQixFQUFnQixLQUN2RSxHQUFJQyxJQUNpRSxJQUFqRXJCLEdBQWFxQixFQUF5QkosRUFBbUIsSUFDbEQsRUFBUGhyQixHQUE0QmdyQixJQUFzQkcsRUFBZSxDQUNqRSxHQUFJSixHQUFXL3FCLEdBQ1gsT0FBTyxFQUNYOHFCLEdBQXFCLFNBL0RqQyxDQUVJLElBQUtBLElBQXVCQyxHQUFXL3FCLEtBQVUrcUIsR0FBVzV1QixHQUN4RCxPQUFPLEVBSVgsR0FBSTJ1QixHQUFzQkMsR0FBVzV1QixHQUNqQyxTQUNKMnVCLEdBQXFCLEVBQ3JCOXFCLEVBQU83RCxFQUFrQixFQUFQNkQsR0EwRDFCLE9BQU8rcUIsR0FBVy9xQixJQUFTOHFCLEVBRS9CLFNBQVNDLEdBQVcvcUIsR0FDaEIsT0FBZ0MsSUFBakIsRUFBUEEsR0ErQlosU0FBU2tyQixHQUFvQmgxQyxFQUFNd3ZCLEVBQU82a0IsRUFBa0JELEdBQ3hELEdBQWMsT0FBVjVrQixFQUNBLE9BQVEsRUFDWixJQUFJcDFDLEVBQUksRUFDUixHQUFJZzZELElBQXFCQyxFQUFrQixDQUN2QyxJQUFJYyxHQUFlLEVBQ25CLEtBQU8vNkQsRUFBSW8xQyxFQUFNNTJDLFFBQVEsQ0FDckIsTUFBTXc4RCxFQUFnQjVsQixFQUFNcDFDLEdBQzVCLEdBQUlnN0QsSUFBa0JwMUMsRUFDbEIsT0FBTzVsQixFQUVOLEdBQXNCLElBQWxCZzdELEdBQXdELElBQWxCQSxFQUMzQ0QsR0FBZSxNQUVkLElBQXNCLElBQWxCQyxHQUF1RCxJQUFsQkEsRUFBa0MsQ0FDNUUsSUFBSXZpRSxFQUFRMjhDLElBQVFwMUMsR0FHcEIsS0FBd0IsaUJBQVZ2SCxHQUNWQSxFQUFRMjhDLElBQVFwMUMsR0FFcEIsU0FFQyxHQUFzQixJQUFsQmc3RCxFQUVMLE1BRUMsR0FBc0IsSUFBbEJBLEVBQXdDLENBRTdDaDdELEdBQUssRUFDTCxVQUdKQSxHQUFLKzZELEVBQWUsRUFBSSxFQUc1QixPQUFRLEVBR1IsT0FnQ1IsU0FBZ0MzbEIsRUFBT3h2QixHQUNuQyxJQUFJNWxCLEVBQUlvMUMsRUFBTTlvQixRQUFRLEdBQ3RCLEdBQUl0c0IsR0FBSyxFQUVMLElBREFBLElBQ09BLEVBQUlvMUMsRUFBTTUyQyxRQUFRLENBQ3JCLE1BQU15OEQsRUFBTzdsQixFQUFNcDFDLEdBR25CLEdBQW9CLGlCQUFUaTdELEVBQ1AsT0FBUSxFQUNaLEdBQUlBLElBQVNyMUMsRUFDVCxPQUFPNWxCLEVBQ1hBLElBR1IsT0FBUSxFQS9DR2s3RCxDQUF1QjlsQixFQUFPeHZCLEdBRzdDLFNBQVN1MUMsR0FBMkIvM0IsRUFBT3Z3QixFQUFVbW5ELEdBQW1CLEdBQ3BFLElBQUssSUFBSWg2RCxFQUFJLEVBQUdBLEVBQUk2UyxFQUFTclUsT0FBUXdCLElBQ2pDLEdBQUlvNkQsR0FBdUJoM0IsRUFBT3Z3QixFQUFTN1MsR0FBSWc2RCxHQUMzQyxPQUFPLEVBR2YsT0FBTyxFQTZDWCxTQUFTb0IsR0FBeUJ2b0QsRUFBVThlLEdBQ3hDMHBDLEVBQWtCLElBQUssSUFBSXI3RCxFQUFJLEVBQUdBLEVBQUkyeEIsRUFBS256QixPQUFRd0IsSUFBSyxDQUNwRCxNQUFNczdELEVBQXdCM3BDLEVBQUszeEIsR0FDbkMsR0FBSTZTLEVBQVNyVSxTQUFXODhELEVBQXNCOThELE9BQTlDLENBR0EsSUFBSyxJQUFJOEYsRUFBSSxFQUFHQSxFQUFJdU8sRUFBU3JVLE9BQVE4RixJQUNqQyxHQUFJdU8sRUFBU3ZPLEtBQU9nM0QsRUFBc0JoM0QsR0FDdEMsU0FBUysyRCxFQUdqQixPQUFPLEdBRVgsT0FBTyxFQUVYLFNBQVNFLEdBQXVCQyxFQUFnQkMsR0FDNUMsT0FBT0QsRUFBaUIsUUFBVUMsRUFBTWxSLE9BQVMsSUFBTWtSLEVBRTNELFNBQVNDLEdBQXFCN29ELEdBQzFCLElBQUlyWCxFQUFTcVgsRUFBUyxHQUNsQjdTLEVBQUksRUFDSjB2QyxFQUFPLEVBQ1Bpc0IsRUFBZSxHQUNmSCxHQUFpQixFQUNyQixLQUFPeDdELEVBQUk2UyxFQUFTclUsUUFBUSxDQUN4QixJQUFJbzlELEVBQWdCL29ELEVBQVM3UyxHQUM3QixHQUE2QixpQkFBbEI0N0QsRUFDUCxHQUFXLEVBQVBsc0IsRUFBMEIsQ0FDMUIsTUFBTW1zQixFQUFZaHBELElBQVc3UyxHQUM3QjI3RCxHQUNJLElBQU1DLEdBQWlCQyxFQUFVcjlELE9BQVMsRUFBSSxLQUFPcTlELEVBQVksSUFBTSxJQUFNLFNBRXJFLEVBQVBuc0IsRUFDTGlzQixHQUFnQixJQUFNQyxFQUVWLEVBQVBsc0IsSUFDTGlzQixHQUFnQixJQUFNQyxPQXFCTCxLQUFqQkQsR0FBd0JsQixHQUFXbUIsS0FDbkNwZ0UsR0FBVSsvRCxHQUF1QkMsRUFBZ0JHLEdBQ2pEQSxFQUFlLElBRW5CanNCLEVBQU9rc0IsRUFHUEosRUFBaUJBLElBQW1CZixHQUFXL3FCLEdBRW5EMXZDLElBS0osTUFIcUIsS0FBakIyN0QsSUFDQW5nRSxHQUFVKy9ELEdBQXVCQyxFQUFnQkcsSUFFOUNuZ0UsRUFpRVgsTUFBTXNnRSxHQUFrQyxvQkFBZDE5QixXQUE2QkEsVUFBYSxDQUFFMjlCLFVBQVcsYUFBZ0IsR0FnQ2pHLFNBQVMsR0FBVUMsR0FDZjU5QixXQUFhd0IsRUFBa0JvOEIsRUFBTyxFQUFHLDRCQUN6Q0MsR0FBb0JudEIsS0FBWUQsS0FBWXdELEtBQXFCMnBCLEVBQU9ydEIsTUFFNUUsU0FBU3N0QixHQUFvQjU0QixFQUFPa0csRUFBTzN6QixFQUFPc21ELEdBSTlDLEdBSEE5OUIsV0FuNE5KLFNBQWdDbUwsRUFBTzN6QixHQUNuQyxNQUFNeXRCLEVBQVFrRyxFQUFNLEdBQ3BCaUIsR0FBYzFCLEdBQWV6RixFQUFNd00sa0JBQW1CajZCLEdBaTROekN1bUQsQ0FBdUI1eUIsRUFBTzN6QixJQUd0Q3NtRCxFQUVELEdBRGdGLElBQWhDLEVBQWYzeUIsRUFqaU8zQixJQWtpT3VCLENBQ3pCLE1BQU1rUixFQUFxQnBYLEVBQU1vWCxtQkFDTixPQUF2QkEsR0FDQWxILEdBQWtCaEssRUFBT2tSLEVBQW9CN2tDLE9BR2hELENBQ0QsTUFBTTRrQyxFQUFnQm5YLEVBQU1tWCxjQUNOLE9BQWxCQSxHQUNBOUcsR0FBeUJuSyxFQUFPaVIsRUFBZSxFQUE0QjVrQyxHQVF2RjA4QixHQUFpQjE4QixHQXNCckIsU0FBU3dtRCxHQUFxQngyQyxHQUUxQixJQUFJd1ksVUFhQSxNQUFNLElBQUluaEIsTUFBTSw2R0FaaEIsSUFJSSxPQTVvR1osWUFBcUM3VSxHQUNqQyxHQUF5QixvQkFBZGcyQixVQUNQLE1BQU0sSUFBSW5oQixNQUFNLGlFQUVwQixJQUFLNGxCLEdBQVFtakIsYUFHVCxPQUFPLElBQUluakQsWUFBWXVGLEdBTTNCLE1BRU00QixFQUFPLHVCQUZFNUIsRUFBS3JJLE1BQU0sR0FBSSxHQUFHaXNCLEtBQUssYUFDdkI1akIsRUFBS0EsRUFBSzVKLE9BQVMsU0FPNUJ1RSxFQUFLOC9CLEdBQWMsTUEvQ0k2akIsRUErQ3NCMThDLEdBN0NsQixRQUF4QjVRLEVBQUsyc0QsWUFBa0MsSUFBUDNzRCxPQUFnQixFQUFTQSxFQUFHK3NELGFBQWFPLEtBQVlBLElBRmxHLElBQWlDQSxFQUN6QnR0RCxFQStDSixZQUFnQjJDLElBQVpnSCxFQUFHRCxLQUtJLElBQUlELFlBQVl1RixJQUszQnJGLEVBQUdncEIsU0FBVyxJQUFNL2hCLEVBRWJqSCxFQUFHRCxLQUFLKy9CLEtBMG1HQSxDQUEwQixRQUFTLGdCQUFnQmpkLG9CQUFuRCxDQUE0RTl0QixPQUV2RixNQUFPa00sR0FFSCxPQUFPbE0sT0FlbkIsU0FBU3VrRSxHQUFnQjMvQyxFQUFNampCLEdBRzNCLE9BRkEya0MsV0FBYVksRUFBb0J0aUIsRUFBTSxFQUFHLE9BQzFDMGhCLFdBQWFZLEVBQW9CdmxDLEVBQU0sRUFBRyxPQUNsQ2lqQixHQUFRLEdBQXNCampCLEdBQVEsRUFFbEQsU0FBUzZpRSxHQUFxQkMsR0FFMUIsT0FEQW4rQixXQUFhVSxFQUFheTlCLEVBQWUsbUJBQ2pDQSxHQUFpQixHQUF1QixNQUVwRCxTQUFTQyxHQUE4QkQsR0FFbkMsT0FEQW4rQixXQUFhVSxFQUFheTlCLEVBQWUsbUJBRXJDLElBRG9CLEVBQWhCQSxHQVNaLFNBQVNFLEdBQThCRixHQUVuQyxPQURBbitCLFdBQWFVLEVBQWF5OUIsRUFBZSxtQkFDakIsRUFBaEJBLEVBRVosU0FBU0csR0FBcUJILEdBRTFCLE9BREFuK0IsV0FBYVUsRUFBYXk5QixFQUFlLG9CQUNqQixPQUFoQkEsSUFBMkMsRUFFdkQsU0FBU0ksR0FBcUJKLEVBQWU5aUUsR0FHekMsT0FGQTJrQyxXQUFhVSxFQUFheTlCLEVBQWUsbUJBQ3pDbitCLFdBQWFZLEVBQW9CdmxDLEVBQU0sRUFBRyxRQUNqQixPQUFoQjhpRSxFQUNMOWlFLEdBQVEsRUFFaEIsU0FBU21qRSxHQUE4QkwsR0FFbkMsT0FEQW4rQixXQUFhVSxFQUFheTlCLEVBQWUsbUJBRXJDLElBRG9CLEVBQWhCQSxHQUdaLFNBQVNNLEdBQThCTixHQUVuQyxPQURBbitCLFdBQWFVLEVBQWF5OUIsRUFBZSxtQkFDakIsRUFBaEJBLEVBdUJaLFNBQVNPLEdBQWtCaHhELEVBQUtpeEQsR0FDNUIsSUFBSTMrQixVQUlBLE1BQU0sSUFBSW5oQixNQUFNLCtGQUhoQnRsQixPQUFPYSxlQUFlc1QsRUFBSyxRQUFTLENBQUVyVCxNQUFPc2tFLEVBQU9oakUsWUFBWSxJQWN4RSxTQUFTaWpFLEdBQWtCbHhELEVBQUtteEQsR0FDNUIsSUFBSTcrQixVQUlBLE1BQU0sSUFBSW5oQixNQUFNLCtGQUhoQnRsQixPQUFPYSxlQUFlc1QsRUFBSyxRQUFTLENBQUVqUyxJQUFLb2pFLEVBQWFsakUsWUFBWSxJQTBDNUUsSUFBSW1qRSxHQUNBQyxHQUNBQyxHQUNBQyxHQUNBQyxHQVdKLE1BQU1DLFdBQWtCemxFLE9BRXhCLE1BQU0wbEUsV0FBdUIxbEUsT0FFN0IsTUFBTTJsRSxXQUFzQjNsRSxPQXNDNUIsU0FBUzRsRSxHQUFXM29CLEdBQ2hCLEdBQVksTUFBUkEsRUFDQSxNQUFPLEdBQ1gsTUFBTW4vQixFQUFRbS9CLEVBQUs0b0IsWUFBWSxhQUMvQixNQUFPLE1BQWtCLElBQVgvbkQsRUFBZW0vQixFQUFPQSxFQUFLNm9CLE9BQU8sRUFBR2hvRCxJQStOdkQsU0FBU2lvRCxHQUFvQno2QixFQUFPMDZCLEdBQ2hDLE1BQU1wdEIsRUFBUXROLEVBQU1zRyxPQUFPelYsS0FDckI4cEMsRUFBVyxHQUNYQyxFQUFRRixFQUFlMTZCLEVBQU02NkIsY0FBZ0I3NkIsRUFBTTg2QixjQUNuRHhoRCxFQUFPNC9DLEdBQXFCMEIsR0FDNUJ2a0UsRUFBT2lqRSxHQUFxQnNCLEdBQ2xDLElBQUlHLEVBQXNCLElBQVQxa0UsRUFDYjJrRSxFQUFTRCxFQUFhMWtFLEVBQU9pakIsRUFDakMsS0FBa0IsSUFBWDBoRCxHQUFjLENBQ2pCLE1BQU1DLEVBQVUzdEIsRUFBTTB0QixHQUNoQkUsRUFBWTV0QixFQUFNMHRCLEVBQVMsR0FDakNMLEVBQVMvZ0IsUUFBUSxDQUNiM21DLElBQUtnb0QsRUFDTHpvRCxNQUFPd29ELEVBQ1BELFdBQVlBLEVBQ1pJLGNBQWUvQixHQUE4QjhCLEdBQzdDRSxjQUFlNUIsR0FBOEIwQixHQUM3Q0csVUFBVy9CLEdBQXFCNEIsR0FDaENJLFVBQVdwQyxHQUFxQmdDLEtBRWhDRixJQUFXMWhELElBQ1h5aEQsR0FBYSxHQUNqQkMsRUFBUzlCLEdBQXFCZ0MsR0FHbEMsT0FEQVAsRUFBU3IrRCxNQUFNbytELEVBQWUxNkIsRUFBTXU3QixnQkFBa0J2N0IsRUFBTXc3QixpQkFBbUIsTUFDeEViLEVBRVgsU0FBU2MsR0FBcUJ6N0IsRUFBT3NvQixHQUNqQyxLQUFPdG9CLEdBQ0hzb0IsRUFBSWhzRCxLQUFLMGpDLEVBQU0wN0IsV0FDZjE3QixFQUFRQSxFQUFNM3BDLEtBR3RCLE1BQU1zbEUsV0FBa0JqbkUsT0FFeEIsSUFBSWtuRSxHQVlKLE1BQU1DLFdBQXVCbm5FLE9BRTdCLE1BQU1vbkUsV0FBcUJwbkUsT0FFM0IsTUFBTXFuRSxXQUF3QnJuRSxPQUU5QixNQUFNc25FLFdBQXdCdG5FLE9BRTlCLE1BQU11bkUsV0FBMkJ2bkUsT0FFakMsTUFBTXduRSxXQUFpQnhuRSxPQUV2QixNQUFNeW5FLFdBQWlCem5FLE9BUXZCLFNBQVMwbkUsR0FBUTF6RCxHQUNiLEdBQUlBLEVBQUssQ0FDTCxNQUFNaXhELEVBQVFqeEQsRUFBSWl4RCxNQUVsQixPQURBbDlCLEVBQWNrOUIsRUFBTyxnREFDZEEsRUFHUCxPQUFPanhELEVBY2YsU0FBUzJ6RCxHQUFPaG5FLEVBQU9pbkUsR0FBa0IsR0FDckMsTUFBTTEvQixFQUFPb04sR0FBWTMwQyxHQUN6QixHQUFJdW5DLEVBQ0EsT0FBUUEsRUFBSzZwQixVQUNULEtBQUs1cEIsS0FBSzZyQixVQUNOLE9BQU85ckIsRUFBS2swQixZQUNoQixLQUFLajBCLEtBQUswL0IsYUFDTixNQUFPLFVBQU8zL0IsRUFBS2swQixvQkFDdkIsS0FBS2owQixLQUFLNnBCLGFBQ04sTUFBTTZDLEVBQVkzc0IsRUFBSzJzQixVQUN2QixHQUFJK1MsRUFDQSxPQUFPL1MsRUFFTixDQUNELE1BQU12RCxFQUFZLElBQU1wcEIsRUFBS29wQixVQUFZLElBQ3pDLE9BQVF1RCxFQUFVdjhCLE1BQU1nNUIsR0FBVyxHQUFNLEtBSXpELE9BQU8sS0FFWCxNQUFNd1csR0FDRnRuRSxZQUFZdW5FLEdBQ1Jyb0UsS0FBS3FvRSxXQUFhQSxFQUtsQmwrQixZQUNBLE1BQU1BLEVBQVFucUMsS0FBS3FvRSxXQWhuUGIsR0FpblBOLE1BQU8sQ0FDSEMsZUFBZ0JuK0IsRUFDaEJvK0IsZUFBd0IsRUFBUnArQixFQUNoQnErQixnQkFBeUIsRUFBUnIrQixHQUNqQnMrQixpQkFBMEIsRUFBUnQrQixHQUNsQnUrQixlQUF3QixHQUFSditCLEdBQ2hCdytCLFNBQWtCLEdBQVJ4K0IsR0FDVnkrQixZQUFxQixJQUFSeitCLEdBQ2IwK0IsYUFBc0IsSUFBUjErQixHQUNkL1UsVUFBbUIsSUFBUitVLEdBQ1gyK0IscUJBQXNCMytCLEdBQVMsSUFHbkNoOEIsYUFDQSxPQUFPNjVELEdBQVFob0UsS0FBS3FvRSxXQTluUGIsSUFnb1BQVSxlQUNBLE9BQU9kLEdBQU9qb0UsS0FBS3FvRSxXQXBvUGQsSUFvb1BnQyxHQUVyQ3ZaLFdBQ0EsT0FBUTl1RCxLQUFLZ3BFLE9BQVMsSUFBSTN4RCxJQUFJNHhELElBQVd6MEMsS0FBSyxJQUU5Q1csY0FDQSxPQUFPbjFCLEtBQUtxb0UsV0Fsb1BKLEdBd29QUlcsWUFDQSxNQUFNajNCLEVBQVEveEMsS0FBS3FvRSxXQUVuQixPQUFPYSxHQURPbjNCLEVBanBQUixHQWlwUHFCc0ksV0FDQXRJLEdBRTNCM0QsZUFDQSxPQUFPcHVDLEtBQUs2ckMsTUFBTXk3QixVQUVsQno3QixZQUNBLE9BQU83ckMsS0FBS3FvRSxXQXhwUE4sR0EwcFBON0osY0FDQSxPQUFPeCtELEtBQUtxb0UsV0FycFBKLEdBdXBQUjljLGVBQ0EsT0FBT3ZyRCxLQUFLcW9FLFdBdHBQRCxHQXdwUFhjLHNCQUNBLE9BQU9ucEUsS0FBS3FvRSxXQUFXZSxJQUV2Qjd6QixlQUNBLE9BQU92MUMsS0FBS3FvRSxXQUFXdHlCLElBRXZCOGYsZ0JBQ0EsT0FBTzcxRCxLQUFLcW9FLFdBNXBQRixJQThwUFZnQixnQkFDQSxPQUFPckIsR0FBUWhvRSxLQUFLcW9FLFdBQVcvTSxLQUUvQnI1RCxXQUNBLE9BQU8rbEUsR0FBUWhvRSxLQUFLcW9FLFdBMXFQZixJQTRxUExpQixnQkFDQSxPQUFPdEIsR0FBUWhvRSxLQUFLcW9FLFdBbnFQVCxLQXFxUFhrQixzQkFDQSxPQUFPdkIsR0FBUWhvRSxLQUFLcW9FLFdBQVd4dUIsS0FFL0IydkIsY0FDQSxPQUFPeHBFLEtBQUtxb0UsV0FBV3ZLLElBRXZCMkwsWUFDQSxPQUFPenBFLEtBQUtxb0UsV0FwclBMLEdBc3JQUG42QixZQUNBLE9BQU93N0IsR0FBYTFwRSxLQUFLNnJDLE1BQU83ckMsS0FBS3FvRSxXQUFZLzJCLEdBQWV0eEMsS0FBSzZyQyxNQUFNd00sbUJBRTNFbEssV0FDQSxPQUFPdTdCLEdBQWExcEUsS0FBSzZyQyxNQUFPN3JDLEtBQUtxb0UsV0FBWXJvRSxLQUFLNnJDLE1BQU13TSxrQkFBbUJyNEMsS0FBSzZyQyxNQUFNb0gsbUJBRTFGMDJCLGNBQ0EsT0FBT0QsR0FBYTFwRSxLQUFLNnJDLE1BQU83ckMsS0FBS3FvRSxXQUFZcm9FLEtBQUs2ckMsTUFBTW9ILGtCQUFtQmp6QyxLQUFLcW9FLFdBQVdyaEUsUUFLL0Y0aUUsaUJBQ0EsTUFBTUEsRUFBYSxHQUNuQixJQUFJcHZCLEVBQVF4NkMsS0FBS3FwRSxVQUNqQixLQUFPN3VCLEdBQ0hvdkIsRUFBVzFoRSxLQUFLc3lDLEdBQ2hCQSxFQUFRQSxFQUFNdjRDLEtBRWxCLE9BQU8ybkUsR0FHZixTQUFTWCxHQUFVemdDLEdBQ2YsR0FBa0IscUJBQWRBLEVBQUszTSxLQUNMLE9BQVEyTSxFQUFLcWhDLFVBQVksSUFBSXh5RCxJQUFJNHhELElBQVd6MEMsS0FBSyxJQUVoRCxHQUFrQixpQkFBZGdVLEVBQUszTSxLQUNWLE1BQU0sSUFBSXBXLE1BQU0sbUJBR2hCLE9BQU93aUQsR0FBT3ovQixFQUFLbVYsUUFBUSxJQUFTLEdBRzVDLFNBQVMrckIsR0FBYTc5QixFQUFPa0csRUFBTzJWLEVBQU94TSxHQUN2QyxJQUFJK2EsRUFBVSxHQUNkLElBQUssSUFBSTczQyxFQUFRc3BDLEVBQU90cEMsRUFBUTg4QixFQUFLOThCLElBQ2pDNjNDLEVBQVEvdEQsS0FBSyxDQUFFa1csTUFBT0EsRUFBT3pMLEVBQUdrNUIsRUFBTXBQLEtBQUtyZSxHQUFRMHJELEVBQUcvM0IsRUFBTTN6QixLQUVoRSxNQUFPLENBQUVzcEMsTUFBT0EsRUFBT3hNLElBQUtBLEVBQUtsMEMsT0FBUWswQyxFQUFNd00sRUFBT3VPLFFBQVNBLEdBUW5FLFNBQVNpVCxHQUFhdDlCLEVBQU9tRyxHQUN6QixHQUFJbkcsRUFBTyxDQUNQLE1BQU1tK0IsRUFBYSxHQUNuQixJQUFJQyxFQUFjcCtCLEVBQ2xCLEtBQU9vK0IsR0FDSEQsRUFBVzdoRSxLQUFLK2hFLEdBQWVELEVBQWFqNEIsSUFDNUNpNEIsRUFBY0EsRUFBWS9uRSxLQUU5QixPQUFPOG5FLEVBR1AsTUFBTyxHQUdmLFNBQVNFLEdBQWVyK0IsRUFBT21HLEdBQzNCLE1BQ000TCxFQUFTL0gsR0FERTdELEVBQU1uRyxFQUFNeHRCLFFBRXZCOHJELEVBQVksR0FDWkMsRUFBWSxHQUNadCtCLEVBQVFrRyxFQTV2UEosR0E2dlBWLElBQUssSUFBSXZwQyxFQUFJb2pDLEVBQU1xUCxlQUFnQnp5QyxFQUFJb2pDLEVBQU11UCxhQUFjM3lDLElBQUssQ0FDNUQsTUFBTXdsQyxFQUFNbkMsRUFBTXBQLEtBQUtqMEIsR0FDdkIwaEUsRUFBVWhpRSxLQUFLOGxDLEVBQUluUyxNQUNuQnN1QyxFQUFVamlFLEtBQUs2cEMsRUFBTXZwQyxJQUV6QixNQUFPLENBQ0hzbUQsS0FBTW1aLEdBQU90cUIsR0FDYjloQixLQUFNd2hCLEdBQW9CelIsRUFBTS9QLE1BQ2hDK1AsTUFBQUEsRUFDQStSLE9BQVFBLEVBQ1Jrc0IsU0FBVVgsR0FBYXQ5QixFQUFNNE8sTUFBT3pJLEdBQ3BDbTRCLFVBQUFBLEVBQ0FDLFVBQUFBLEVBQ0E1ZSxTQUFVNmUsR0FBdUJ4K0IsRUFBT0MsRUFBT2tHLEdBQzNDczRCLDZCQUNBLE9BQU96K0IsRUFBTTArQixzQkFBc0J2NEIsS0FJL0MsU0FBU3E0QixHQUF1QngrQixFQUFPQyxFQUFPa0csR0FDMUMsTUFBTXc0QixFQUFnQixHQUN0QixJQUFLLElBQUkvaEUsRUFBSW9qQyxFQUFNNCtCLG9CQUFxQmhpRSxFQUFJb2pDLEVBQU02K0Isa0JBQW1CamlFLElBQ2pFK2hFLEVBQWNyaUUsS0FBSzJqQyxFQUFNcFAsS0FBS2owQixJQUVsQyxNQUFNKzBCLEVBQVksR0FDbEIsSUFBSyxJQUFJLzBCLEVBQUlvakMsRUFBTTYrQixrQkFBbUJqaUUsRUFBSW9qQyxFQUFNdVAsYUFBYzN5QyxJQUMxRCswQixFQUFVcjFCLEtBQUsyakMsRUFBTXBQLEtBQUtqMEIsSUFTOUIsTUFQMEIsQ0FDdEJraUUsTUFBT0MsR0FBUTU0QixFQUFPbkcsRUFBTTBILGVBQzVCczNCLGdCQUFpQkQsR0FBUTkrQixFQUFNcFAsS0FBTW1QLEVBQU0wSCxlQUMzQy9WLFVBQUFBLEVBQ0FndEMsY0FBQUEsRUFDQU0sb0JBQXFCOTRCLEVBQU1uRyxFQUFNNCtCLG9CQUFzQixJQVUvRCxTQUFTTSxHQUFPdDJELEVBQU91MkQsR0FDbkIsTUFBTTlwRSxFQUFRdVQsRUFBTXUyRCxHQUdwQixHQUFxQixpQkFBVjlwRSxFQUNQLE1BQU8sV0FFWCxNQUFNczhDLEVBQU8sV0FBYXQ4QyxFQUFNc3pCLFNBQVMsR0FDekMsT0FBT2dwQixFQUFLelgsVUFBVXlYLEVBQUt2MkMsT0FBUyxHQVF4QyxTQUFTMmpFLEdBQVFuMkQsRUFBT3UyRCxHQUNwQixPQUFJQSxFQUFNLEVBQ0MsbUJBRUosR0FBR0QsR0FBT3QyRCxFQUFPdTJELEVBQU0sTUFBTUQsR0FBT3QyRCxFQUFPdTJELEVBQU0sTUFBTUQsR0FBT3QyRCxFQUFPdTJELEVBQU0sTUFBTUQsR0FBT3QyRCxFQUFPdTJELEVBQU0sTUFBTUQsR0FBT3QyRCxFQUFPdTJELEVBQU0sTUFBTUQsR0FBT3QyRCxFQUFPdTJELEVBQU0sTUFBTUQsR0FBT3QyRCxFQUFPdTJELEVBQU0sTUFBTUQsR0FBT3QyRCxFQUFPdTJELEVBQU0sS0FFeE4sTUFBTUMsR0FDRmxxRSxZQUFZbXFFLEdBQ1JqckUsS0FBS2lyRSxnQkFBa0JBLEVBRXZCQywyQkFDQSxPQUFPbHJFLEtBQUtpckUsZ0JBajJQVyxHQW0yUHZCRSxZQUNBLE9BQU9uckUsS0FBS2lyRSxnQkFBZ0IxaUUsTUFBTThvQyxJQUM3Qmg2QixJQUFJMndELElBRVQ3NUQsYUFDQSxPQUFPNjVELEdBQVFob0UsS0FBS2lyRSxnQkF4MFBiLElBMDBQUDdOLGlCQUNBLE9BQU9wOUQsS0FBS2lyRSxnQkFwMlBBLEdBczJQWnpxQyxXQUNBLE9BQU94Z0MsS0FBS2lyRSxnQkFqMVBQLEdBbTFQTHR0QixhQUNBLE9BQU8zOUMsS0FBS2lyRSxnQkE1MlBMLEdBODJQUGhwRSxXQUNBLE9BQU8rbEUsR0FBUWhvRSxLQUFLaXJFLGdCQW4xUGYsS0EyMVBiLE1BQU1HLEdBQXdCL2pFLFFBQVFYLFFBQVEsTUFxQzlDLFNBQVMya0UsR0FBc0J4L0IsRUFBT2tHLEdBQ2xDLE1BQU1yRCxFQUFpQjdDLEVBQU02QyxlQUM3QixHQUF1QixPQUFuQkEsRUFDQSxJQUFLLElBQUlsbUMsRUFBSSxFQUFHQSxFQUFJa21DLEVBQWUxbkMsT0FBUXdCLEdBQUssRUFBRyxDQUMvQyxNQUFNOGlFLEVBQWdCNThCLEVBQWVsbUMsR0FDL0IraUUsRUFBa0I3OEIsRUFBZWxtQyxFQUFJLEdBQzNDLElBQXlCLElBQXJCK2lFLEVBQXdCLENBQ3hCLE1BQU1ud0IsRUFBZXZQLEVBQU1wUCxLQUFLOHVDLEdBQ2hDM2tDLFdBQWF5QixFQUFjK1MsRUFBYywyQkFDekN4VSxXQUNJeUIsRUFBYytTLEVBQWExTSxlQUFnQiw2Q0FDL0MySyxHQUFxQml5QixHQUNyQmx3QixFQUFhMU0sZUFBZSxFQUFnQnFELEVBQU13NUIsR0FBa0JBLEtBaUJwRixTQUFTQyxHQUFZN3hCLEVBQWE5TixFQUFPMVcsRUFBU2dWLEVBQU8zSixFQUFNaXJDLEVBQVd0QyxFQUFpQjV6QixFQUFVc2dCLEVBQVd0SyxHQUM1RyxNQUFNeFosRUFBUW5MLFVBdnJCbEIsU0FBd0NpRixHQUdwQyxPQVFKLFNBQXlCaFEsRUFBTXpOLEdBQzNCLE9BQVF5TixHQUNKLEtBQUssRUFHRCxZQUZtQnQzQixJQUFmcWhFLEtBQ0FBLEdBQWEsSUFBSUcsSUFDZEgsR0FDWCxLQUFLLEVBQ0QsSUFBS2gvQixZQUFjQSxVQUFVOEUsa0JBR3pCLFlBRndCbm5DLElBQXBCc2hFLEtBQ0FBLEdBQWtCLElBQUlHLElBQ25CSCxRQUVtQnRoRSxJQUExQm1oRSxLQUNBQSxHQUF3QixJQUFJN2pELEtBQ2hDLElBQUk2cEQsRUFBaUJoRyxHQUFzQnJqRSxJQUFJK3JCLEdBSy9DLFlBSnVCN3BCLElBQW5CbW5FLElBQ0FBLEVBQWlCLElBQUs5RyxHQUFxQixpQkFBbUJzQixHQUFXOTNDLEtBQ3pFczNDLEdBQXNCbmpELElBQUk2TCxFQUFNczlDLElBRTdCQSxFQUNYLEtBQUssRUFDRCxJQUFLOWtDLFlBQWNBLFVBQVU4RSxrQkFHekIsWUFGdUJubkMsSUFBbkJ1aEUsS0FDQUEsR0FBaUIsSUFBSUcsSUFDbEJILFFBRWtCdmhFLElBQXpCb2hFLEtBQ0FBLEdBQXVCLElBQUk5akQsS0FDL0IsSUFBSThwRCxFQUFnQmhHLEdBQXFCdGpFLElBQUkrckIsR0FLN0MsWUFKc0I3cEIsSUFBbEJvbkUsSUFDQUEsRUFBZ0IsSUFBSy9HLEdBQXFCLGdCQUFrQnNCLEdBQVc5M0MsS0FDdkV1M0MsR0FBcUJwakQsSUFBSTZMLEVBQU11OUMsSUFFNUJBLEdBMUNEQyxDQURLLy9CLEVBQ3NCaFEsS0FBTWdRLEVBQU11QyxVQUFZdkMsRUFBTXVDLFNBQVNoZ0IsTUFDbkVoZCxPQUFPeTZCLEVBQU1nVSxXQW9yQkFnc0IsQ0FBK0JoZ0MsR0FBU0EsRUFBTWdVLFVBQVV0M0MsUUFtQmxGLE9BbEJBd3BDLEVBbjZQUyxHQW02UEt2UixFQUNkdVIsRUFsNlBVLEdBazZQYSxJQUFSNUgsRUFDZnVNLEdBQXVCM0UsR0FDdkJuTCxXQUFhaUYsRUFBTTBOLFdBQWFJLEdBQWU3SCxHQUFvQmpHLEVBQU0wTixVQUFXSSxHQUNwRjVILEVBcDZQVyxHQW82UEtBLEVBQU04SCxJQUFvQkYsRUFDMUM1SCxFQWg2UFksR0FnNlBLNWMsRUFDakI0YyxFQUFNcTNCLElBQXFCRCxHQUFtQnh2QixHQUFlQSxFQUFZeXZCLElBQ3pFeGlDLFdBQWF5QixFQUFjMEosRUFBTXEzQixJQUFtQiwrQkFDcERyM0IsRUFBTWdFLElBQWFSLEdBQVlvRSxHQUFlQSxFQUFZNUQsSUFDMURuUCxXQUFheUIsRUFBYzBKLEVBQU1nRSxJQUFXLHdCQUM1Q2hFLEVBajZQYyxJQWk2UEs4akIsR0FBYWxjLEdBQWVBLEVBajZQakMsS0FpNlAyRCxLQUN6RTVILEVBcjZQZSxHQXE2UEt3WixHQUFZNVIsR0FBZUEsRUFyNlBoQyxJQXE2UDJELEtBQzFFNUgsRUF6NlBXLEdBeTZQSzA1QixFQUNoQjdrQyxXQUNJa0IsRUFBMEIsR0FBZCtELEVBQU1oUSxNQUEyQyxPQUFoQjhkLEdBQTZCLEVBQU0sd0NBQ3BGNUgsRUFBTXVQLElBQ1ksR0FBZHpWLEVBQU1oUSxLQUEyQjhkLEVBQVkySCxJQUE4QnZQLEVBQy9FbkwsV0ExWEosU0FBMEJtTCxHQUN0QnV6QixHQUFrQnZ6QixFQUFPLElBQUlxMkIsR0FBV3IyQixJQXlYM0IrNUIsQ0FBaUIvNUIsR0FDdkJBLEVBRVgsU0FBU2c2QixHQUFpQmxnQyxFQUFPenRCLEVBQU95ZCxFQUFNek4sRUFBTXd2QixHQUNoRGhYLFdBQXVCLElBQVZ4b0IsR0FFVHdwQixFQUF5QnhwQixFQUFPa3pCLEdBQWUsd0NBRW5EMUssV0FoNU1KLFNBQTZCL0ssR0FDVixJQUFUQSxHQUNPLElBQVRBLEdBQ1MsSUFBVEEsR0FDUyxJQUFUQSxHQUNTLEtBQVRBLEdBQ1MsS0FBVEEsR0FDUyxLQUFUQSxHQUNBMzNCLEVBQVcsbUVBQW1FbTVDLEdBQW9CeGhCLE9BdzRNekZtd0MsQ0FBb0Jud0MsR0FDakMsSUFBSStQLEVBQVFDLEVBQU1wUCxLQUFLcmUsR0FDdkIsR0FBYyxPQUFWd3RCLEVBQ0FBLEVBQVFxZ0MsR0FBbUJwZ0MsRUFBT3p0QixFQUFPeWQsRUFBTXpOLEVBQU13dkIsR0FscE9sRDdHLEdBQWlCQyxPQUFPNkIsU0F3cE92QmpOLEVBQU16QixPQUFTLFNBR2xCLEdBQWlCLEdBQWJ5QixFQUFNL1AsS0FBNkIsQ0FDeEMrUCxFQUFNL1AsS0FBT0EsRUFDYitQLEVBQU0zcUMsTUFBUW10QixFQUNkd2QsRUFBTWdTLE1BQVFBLEVBQ2QsTUFBTXp2QyxFQUFTeXBDLEtBQ2ZoTSxFQUFNMEgsY0FBMkIsT0FBWG5sQyxHQUFtQixFQUFJQSxFQUFPbWxDLGNBQ3BEMU0sV0FBYW9MLEdBQW9CcEcsRUFBT0MsR0FDeENqRixXQUFha0IsRUFBWTFwQixFQUFPd3RCLEVBQU14dEIsTUFBTyx3QkFHakQsT0FEQTA1QixHQUFnQmxNLEdBQU8sR0FDaEJBLEVBRVgsU0FBU3FnQyxHQUFtQnBnQyxFQUFPenRCLEVBQU95ZCxFQUFNek4sRUFBTXd2QixHQUNsRCxNQUFNbEcsRUFBZUMsS0FDZkUsRUFBV0UsS0FDWDVwQyxFQUFTMHBDLEVBQVdILEVBQWVBLEdBQWdCQSxFQUFhdnBDLE9BRWhFeTlCLEVBQVFDLEVBQU1wUCxLQUFLcmUsR0ErZjdCLFNBQXFCeXRCLEVBQU9xZ0MsRUFBU3J3QyxFQUFNemQsRUFBT25kLEVBQU8yOEMsR0FDckRoWCxXQUF1QixJQUFWeG9CLEdBRVR3cEIsRUFBeUJ4cEIsRUFBT2t6QixHQUFlLHdDQUNuRDFLLFdBQWFzQixFQUFjMFYsT0FBT3I1QyxFQUFXLDhDQUM3Q3FpQyxXQUFhQSxVQUFVZ0YsUUFDdkJoRixXQUFhc2xDLEdBQVdsNkIsR0FBb0JrNkIsRUFBU3JnQyxHQUNyRCxJQUFJeUgsRUFBZ0I0NEIsRUFBVUEsRUFBUTU0QixlQUFpQixFQUN2RCxNQUFNMUgsRUFBUWhGLFVBQ1YsSUFocENSLE1BQ0k5bEMsWUFBWW94QyxFQUNaclcsRUFDQXpkLEVBQ0ErdEQsRUFDQTc0QixFQUNBMkgsRUFDQUUsRUFDQWl4QixFQUNBQyxFQUNBbGlDLEVBQ0FnWSxFQUNBbGhELEVBQ0EyOEMsRUFDQTB1QixFQUNBQyxFQUNBQyxFQUNBeDdDLEVBQ0EwUSxFQUNBK3FDLEVBQ0F4cUUsRUFDQXUvRCxFQUNBaG5CLEVBQ0Fyc0MsRUFDQXl5RCxFQUNBdHhCLEVBQ0FvOUIsRUFDQXRGLEVBQ0F4akIsRUFDQStvQixFQUNBeEYsRUFDQVYsRUFDQUMsR0FDSTFtRSxLQUFLa3lDLE9BQVNBLEVBQ2RseUMsS0FBSzY3QixLQUFPQSxFQUNaNzdCLEtBQUtvZSxNQUFRQSxFQUNicGUsS0FBS21zRSxrQkFBb0JBLEVBQ3pCbnNFLEtBQUtzekMsY0FBZ0JBLEVBQ3JCdHpDLEtBQUtpN0MsZUFBaUJBLEVBQ3RCajdDLEtBQUttN0MsYUFBZUEsRUFDcEJuN0MsS0FBS29zRSxxQkFBdUJBLEVBQzVCcHNFLEtBQUtxc0UsaUJBQW1CQSxFQUN4QnJzRSxLQUFLbXFDLE1BQVFBLEVBQ2JucUMsS0FBS21pRCxnQkFBa0JBLEVBQ3ZCbmlELEtBQUtpQixNQUFRQSxFQUNiakIsS0FBSzQ5QyxNQUFRQSxFQUNiNTlDLEtBQUtzc0UsWUFBY0EsRUFDbkJ0c0UsS0FBS3VzRSxXQUFhQSxFQUNsQnZzRSxLQUFLd3NFLGNBQWdCQSxFQUNyQnhzRSxLQUFLZ3hCLE9BQVNBLEVBQ2RoeEIsS0FBSzBoQyxRQUFVQSxFQUNmMWhDLEtBQUt5c0UsT0FBU0EsRUFDZHpzRSxLQUFLaUMsS0FBT0EsRUFDWmpDLEtBQUt3aEUsZUFBaUJBLEVBQ3RCeGhFLEtBQUt3NkMsTUFBUUEsRUFDYng2QyxLQUFLbU8sT0FBU0EsRUFDZG5PLEtBQUs0Z0UsV0FBYUEsRUFDbEI1Z0UsS0FBS3N2QyxPQUFTQSxFQUNkdHZDLEtBQUswc0Usa0JBQW9CQSxFQUN6QjFzRSxLQUFLb25FLGVBQWlCQSxFQUN0QnBuRSxLQUFLNGpELFFBQVVBLEVBQ2Y1akQsS0FBSzJzRSxtQkFBcUJBLEVBQzFCM3NFLEtBQUttbkUsZ0JBQWtCQSxFQUN2Qm5uRSxLQUFLeW1FLGNBQWdCQSxFQUNyQnptRSxLQUFLMG1FLGNBQWdCQSxFQWV6QjRELHNCQUFzQnY0QixHQUNsQixNQUFNL0ssRUFBTyxHQUNiLElBQUlzTSxFQUFnQnFNLEdBQWlCMy9DLEtBQU0reEMsR0FDM0MsSUFBdUIsSUFBbkJ1QixFQUFzQixDQUd0QixNQUFNMEwsRUFBaUJlLEdBQTBCLy9DLEtBQU0reEMsR0FDbkRpTixJQUFtQmxDLEtBRW5CeEosRUFBZ0IyTCxHQUF1QkQsR0FDdkNqTixFQUFRbU4sR0FBc0JGLEVBQWdCak4sSUFNdEQsTUFBMEIsSUFBbkJ1QixHQUFzQixDQUN6QjFNLFdBQWF5TSxHQUFtQnRCLEVBQU91QixHQUN2QyxNQUFNMUgsRUFBUW1HLEVBajdPWixHQWk3T3lCdFYsS0FBSzZXLEVBQWdCLEdBQ2hEdE0sRUFBSzkrQixLQUFLK2hFLEdBQWVyK0IsRUFBT21HLElBQ2hDLE1BQU1pTixFQUFpQmpOLEVBQU11QixFQUFnQixHQUN6QzBMLElBQW1CbEMsR0FDbkJ4SixHQUFpQixHQUdqQkEsRUFBZ0IyTCxHQUF1QkQsR0FDdkNqTixFQUFRbU4sR0FBc0JGLEVBQWdCak4sSUFHdEQsT0FBTy9LLEVBRVA0bEMsWUFDQSxPQUFPdnZCLEdBQW9CcjlDLEtBQUs2N0IsT0FBUyxjQUFjNzdCLEtBQUs2N0IsUUFFNURneEMsYUFDQSxNQUFNMWlDLEVBQVEsR0FpQmQsT0FoQmlCLEdBQWJucUMsS0FBS21xQyxPQUNMQSxFQUFNamlDLEtBQUssNEJBQ0UsRUFBYmxJLEtBQUttcUMsT0FDTEEsRUFBTWppQyxLQUFLLDhCQUNFLEdBQWJsSSxLQUFLbXFDLE9BQ0xBLEVBQU1qaUMsS0FBSyw0QkFDRSxJQUFibEksS0FBS21xQyxPQUNMQSxFQUFNamlDLEtBQUssOEJBQ0UsRUFBYmxJLEtBQUttcUMsT0FDTEEsRUFBTWppQyxLQUFLLDhCQUNFLEVBQWJsSSxLQUFLbXFDLE9BQ0xBLEVBQU1qaUMsS0FBSyw4QkFDRSxHQUFibEksS0FBS21xQyxPQUNMQSxFQUFNamlDLEtBQUsseUJBQ0UsRUFBYmxJLEtBQUttcUMsT0FDTEEsRUFBTWppQyxLQUFLLDBCQUNSaWlDLEVBQU0zVixLQUFLLEtBRWxCOHlDLGdCQUNBLEdBQWdCLEVBQVp0bkUsS0FBSzY3QixLQUNMLE9BQU83N0IsS0FBS2lCLE1BQ2hCLE1BQU1pekQsRUFBTSxHQUNOVSxFQUFnQyxpQkFBZjUwRCxLQUFLaUIsT0FBc0JqQixLQUFLaUIsT0FBU2pCLEtBQUs0c0UsTUFLckUsR0FKQTFZLEVBQUloc0QsS0FBSyxJQUFLMHNELEdBQ1Y1MEQsS0FBS21xQyxPQUNMK3BCLEVBQUloc0QsS0FBSyxJQUFLbEksS0FBSzZzRSxRQUVuQjdzRSxLQUFLNDlDLE1BQ0wsSUFBSyxJQUFJcDFDLEVBQUksRUFBR0EsRUFBSXhJLEtBQUs0OUMsTUFBTTUyQyxRQUFTLENBQ3BDLE1BQU0rMkMsRUFBVy85QyxLQUFLNDlDLE1BQU1wMUMsS0FDNUIsR0FBdUIsaUJBQVp1MUMsRUFDUCxNQUVKLE1BQU1zbUIsRUFBWXJrRSxLQUFLNDlDLE1BQU1wMUMsS0FDN0IwckQsRUFBSWhzRCxLQUFLLElBQUs2MUMsRUFBVSxLQUFNc21CLEVBQVcsS0FNakQsT0FIQW5RLEVBQUloc0QsS0FBSyxLQUNUbS9ELEdBQXFCcm5FLEtBQUt3NkMsTUFBTzBaLEdBQ2pDQSxFQUFJaHNELEtBQUssS0FBTTBzRCxFQUFTLEtBQ2pCVixFQUFJMS9CLEtBQUssSUFFaEJzNEMscUJBQ0EsT0FBT3pHLEdBQW9Ccm1FLE1BQU0sR0FFakMrc0UscUJBQ0EsT0FBTzFHLEdBQW9Ccm1FLE1BQU0sR0FFakN3cUUsMEJBQ0EsT0FBOEIsUUFBdkJ4cUUsS0FBS21pRCxnQkFFWnNvQix3QkFDQSxPQUFPenFFLEtBQUt3cUUscUJBQ1B4cUUsS0FBS21pRCxrQkFBb0IsTUF3K0JmdFcsRUFDZmhRLEVBQ0F6ZCxFQUNBLEtBQ0FrMUIsR0FDQyxHQUNBLEdBQ0EsRUFDRCxLQUNBLEVBQ0EsRUFDQXJ5QyxFQUNBMjhDLEVBQ0EsS0FDQSxVQUNBcjVDLEVBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EybkUsRUFDQSxLQUNBLEtBQ0EsVUFDQTNuRSxFQUNBLEtBQ0EsVUFDQUEsRUFDQSxFQUNBLEdBQ0EsQ0FDSXMzQixLQUFBQSxFQUNBemQsTUFBQUEsRUFDQSt0RCxrQkFBbUIsS0FDbkI3NEIsY0FBQUEsRUFDQTJILGdCQUFpQixFQUNqQkUsY0FBZSxFQUNmaXhCLHNCQUF1QixFQUN2QkMsaUJBQWtCLEtBQ2xCbGlDLE1BQU8sRUFDUGdZLGdCQUFpQixFQUNqQmxoRCxNQUFPQSxFQUNQMjhDLE1BQU9BLEVBQ1AwdUIsWUFBYSxLQUNiQyxXQUFZLEtBQ1pDLG1CQUFlam9FLEVBQ2Z5c0IsT0FBUSxLQUNSMFEsUUFBUyxLQUNUK3FDLE9BQVEsS0FDUnhxRSxLQUFNLEtBQ051L0QsZUFBZ0IsS0FDaEJobkIsTUFBTyxLQUNQcnNDLE9BQVErOUQsRUFDUnRMLFdBQVksS0FDWnR4QixPQUFRLEtBQ1JvOUIsa0JBQW1CLEtBQ25CdEYsb0JBQWdCN2lFLEVBQ2hCcS9DLFFBQVMsS0FDVCtvQixtQkFBb0IsS0FDcEJ4RixxQkFBaUI1aUUsRUFDakJraUUsY0FBZSxFQUNmQyxjQUFlLEdBUXZCLE9BTkk5L0IsV0FJQXptQyxPQUFPNnNFLEtBQUtwaEMsR0FFVEEsRUE5a0JIcWhDLENBQVlwaEMsRUFBTzE5QixFQUFRMHRCLEVBQU16ZCxFQUFPZ1EsRUFBTXd2QixHQXVCbEQsT0FuQnlCLE9BQXJCL1IsRUFBTXdPLGFBQ054TyxFQUFNd08sV0FBYXpPLEdBRUYsT0FBakI4TCxJQUNJRyxFQUUwQixNQUF0QkgsRUFBYThDLE9BQWtDLE9BQWpCNU8sRUFBTXo5QixTQUVwQ3VwQyxFQUFhOEMsTUFBUTVPLEdBSUMsT0FBdEI4TCxFQUFhejFDLE9BR2J5MUMsRUFBYXoxQyxLQUFPMnBDLElBSXpCQSxFQVlYLFNBQVNzaEMsR0FBYXJoQyxFQUFPa0csRUFBT283QixFQUFpQnBuRCxHQUNqRCxHQUF3QixJQUFwQm9uRCxFQUNBLE9BQVEsRUFDUnZtQyxZQUNBK0wsR0FBc0I5RyxHQUN0QjVELEVBQVc0RCxFQUFPa0csRUFqZ1FaLEdBaWdRMEIsNENBQ2hDakssRUFBWStELEVBQU1wUCxLQUFLejFCLE9BQVErcUMsRUFBTS9xQyxPQUFRLDRDQUM3QzhnQyxFQUFZK0QsRUFBTXBQLEtBQUt6MUIsT0FBUTZrQyxFQUFNZ1UsVUFBVTc0QyxPQUFRLGdEQUN2RDZyQyxHQUFzQmhILElBRTFCLE1BQU11aEMsRUFBV3I3QixFQUFNL3FDLE9BQ3ZCLElBQUssSUFBSXdCLEVBQUksRUFBR0EsRUFBSTJrRSxFQUFpQjNrRSxJQUNqQ3VwQyxFQUFNN3BDLEtBQUs2ZCxHQUNYOGxCLEVBQU1nVSxVQUFVMzNDLEtBQUs2ZCxHQUNyQjhsQixFQUFNcFAsS0FBS3YwQixLQUFLLE1BRXBCLE9BQU9rbEUsRUFZWCxTQUFTQyxHQUFXeGhDLEVBQU9rRyxFQUFPNWMsR0FDOUJ5UixXQUFha0IsRUFBWXlPLEdBQWV4RSxJQUFRLEVBQU0sa0NBQ3REZ0ksR0FBVWhJLEdBQ1YsSUFDSSxNQUFNN0MsRUFBWXJELEVBQU1xRCxVQUNOLE9BQWRBLEdBQ0FvK0IsR0FBbUIsRUFBZ0JwK0IsRUFBVy9aLEdBSWxELE1BQU1vNEMsRUFBYTFoQyxFQUFNdUMsU0FDTixPQUFmbS9CLEdBQ0FDLEdBQWdCM2hDLEVBQU9rRyxFQUFPdzdCLEVBQVksRUFBZ0JwNEMsR0FPMUQwVyxFQUFNRixrQkFDTkUsRUFBTUYsaUJBQWtCLEdBS3hCRSxFQUFNNGhDLHNCQUNOcEMsR0FBc0J4L0IsRUFBT2tHLEdBSzdCbEcsRUFBTTZoQyxtQkFDTkosR0FBbUIsRUFBZ0J6aEMsRUFBTXFELFVBQVcvWixHQUd4RCxNQUFNcWpDLEVBQWEzc0IsRUFBTTJzQixXQUNOLE9BQWZBLEdBaktaLFNBQStCbVYsRUFBV25WLEdBQ3RDLElBQUssSUFBSWh3RCxFQUFJLEVBQUdBLEVBQUlnd0QsRUFBV3h4RCxPQUFRd0IsSUFDbkNvbEUsR0FBa0JELEVBQVduVixFQUFXaHdELElBZ0twQ3FsRSxDQUFzQjk3QixFQUFPeW1CLEdBR3JDLE1BQU94MkQsR0FPSCxNQUpJNnBDLEVBQU1GLGtCQUNORSxFQUFNaWlDLHFCQUFzQixFQUM1QmppQyxFQUFNRixpQkFBa0IsR0FFdEIzcEMsRUFFVixRQUNJK3ZDLEVBemtRTSxLQXlrUVUsRUFDaEI2SSxNQVdSLFNBQVNtekIsR0FBWWxpQyxFQUFPa0csRUFBT3c3QixFQUFZcDRDLEdBQzNDeVIsV0FBYWtCLEVBQVl5TyxHQUFleEUsSUFBUSxFQUFPLGdDQUN2RCxNQUFNNUgsRUFBUTRILEVBdmxRSixHQXdsUVYsR0FBc0MsTUFBekIsSUFBUjVILEdBQ0QsT0FDSjRQLEdBQVVoSSxHQUdWLE1BQU1pOEIsRUFBeUI3MkIsS0FDL0IsSUFDSVQsR0FBdUIzRSxHQUN2QnlHLEdBQWdCM00sRUFBTXdNLG1CQUNILE9BQWZrMUIsR0FDQUMsR0FBZ0IzaEMsRUFBT2tHLEVBQU93N0IsRUFBWSxFQUFnQnA0QyxHQUU5RCxNQUFNODRDLEVBQW1FLElBQWhDLEVBQVI5akMsR0FHakMsSUFBSzZqQyxFQUNELEdBQUlDLEVBQXlCLENBQ3pCLE1BQU1ockIsRUFBcUJwWCxFQUFNb1gsbUJBQ04sT0FBdkJBLEdBQ0FsSCxHQUFrQmhLLEVBQU9rUixFQUFvQixVQUdoRCxDQUNELE1BQU1ELEVBQWdCblgsRUFBTW1YLGNBQ04sT0FBbEJBLEdBQ0E5RyxHQUF5Qm5LLEVBQU9pUixFQUFlLEVBQTRCLE1BRS9FNUcsR0FBd0JySyxFQUFPLEdBY3ZDLEdBZ2xDUixTQUF5Q0EsR0FDckMsSUFBSyxJQUFJOEUsRUFBYXVrQixHQUFtQnJwQixHQUF1QixPQUFmOEUsRUFBcUJBLEVBQWEwa0IsR0FBa0Ixa0IsR0FBYSxDQUM5RyxJQUFLQSxFQWx2U2tCLEdBbXZTbkIsU0FDSixNQUFNdW1CLEVBQWF2bUIsRUE3dVNQLEdBOHVTWmpRLFdBQWF5QixFQUFjKzBCLEVBQVksdURBQ3ZDLElBQUssSUFBSTUwRCxFQUFJLEVBQUdBLEVBQUk0MEQsRUFBV3AyRCxPQUFRd0IsSUFBSyxDQUN4QyxNQUFNMGxFLEVBQWE5USxFQUFXNTBELEdBQ3hCODBELEVBQXNCNFEsRUF4dFN6QixHQXl0U0h0bkMsV0FBYTRMLEdBQWlCOHFCLEdBR21DLElBQXhDLEtBQXBCNFEsRUE3dFNILEtBOHRTRXQzQixHQUE0QjBtQixFQUFxQixHQU1yRDRRLEVBcHVTRSxJQW91U21CLE9BM21DekJDLENBQWdDcDhCLEdBdWtDeEMsU0FBOEJBLEdBQzFCLElBQUssSUFBSThFLEVBQWF1a0IsR0FBbUJycEIsR0FBdUIsT0FBZjhFLEVBQXFCQSxFQUFhMGtCLEdBQWtCMWtCLEdBQ2pHLElBQUssSUFBSXJ1QyxFQUFJNm9DLEdBQXlCN29DLEVBQUlxdUMsRUFBVzd2QyxPQUFRd0IsSUFBSyxDQUM5RCxNQUFNNGxFLEVBQWdCdjNCLEVBQVdydUMsR0FDM0I2bEUsRUFBZ0JELEVBcnNTcEIsR0Fzc1NGeG5DLFdBQWF5QixFQUFjZ21DLEVBQWUsMkJBQ3RDNzNCLEdBQTZCNDNCLElBQzdCTCxHQUFZTSxFQUFlRCxFQUFlQyxFQUFjamdDLFNBQVVnZ0MsRUFqc1NsRSxLQW9uUVJFLENBQXFCdjhCLEdBRVEsT0FBekJsRyxFQUFNNkMsZ0JBQ04yOEIsR0FBc0J4L0IsRUFBT2tHLElBSTVCaThCLEVBQ0QsR0FBSUMsRUFBeUIsQ0FDekIsTUFBTXR5QixFQUFvQjlQLEVBQU04UCxrQkFDTixPQUF0QkEsR0FDQUksR0FBa0JoSyxFQUFPNEosT0FHNUIsQ0FDRCxNQUFNRCxFQUFlN1AsRUFBTTZQLGFBQ04sT0FBakJBLEdBQ0FRLEdBQXlCbkssRUFBTzJKLEVBQWMsR0FFbERVLEdBQXdCckssRUFBTyxJQXRTL0MsU0FBbUNsRyxFQUFPa0csR0FDdEMsTUFBTXc4QixFQUFxQjFpQyxFQUFNMGlDLG1CQUNqQyxHQUEyQixPQUF2QkEsRUFFSixJQUNJLElBQUssSUFBSS9sRSxFQUFJLEVBQUdBLEVBQUkrbEUsRUFBbUJ2bkUsT0FBUXdCLElBQUssQ0FDaEQsTUFBTWdtRSxFQUFTRCxFQUFtQi9sRSxHQUNsQyxHQUFJZ21FLEVBQVMsRUFFVDF6QixJQUFrQjB6QixPQUVqQixDQUVELE1BQU1DLEVBQWVELEVBQ2ZFLEVBQWtCSCxJQUFxQi9sRSxHQUN2Q21tRSxFQUFnQkosSUFBcUIvbEUsR0FDM0Nzd0MsR0FBOEI0MUIsRUFBaUJELEdBRS9DRSxFQUFjLEVBREU1OEIsRUFBTTA4QixNQUtsQyxRQUNJM3pCLElBQWtCLElBa1JsQjh6QixDQUEwQi9pQyxFQUFPa0csR0FFakMsTUFBTXltQixFQUFhM3NCLEVBQU0yc0IsV0FDTixPQUFmQSxHQS9QWixTQUFnQ21WLEVBQVduVixHQUN2QyxJQUFLLElBQUlod0QsRUFBSSxFQUFHQSxFQUFJZ3dELEVBQVd4eEQsT0FBUXdCLElBQ25DcW1FLEdBQWlCbEIsRUFBV25WLEVBQVdod0QsSUE4UG5Dc21FLENBQXVCLzhCLEVBQU95bUIsR0FLbEMsTUFBTXRwQixFQUFZckQsRUFBTXFELFVBTXhCLEdBTGtCLE9BQWRBLEdBQ0FvK0IsR0FBbUIsRUFBZ0JwK0IsRUFBVy9aLElBSTdDNjRDLEVBQ0QsR0FBSUMsRUFBeUIsQ0FDekIsTUFBTXB5QixFQUFpQmhRLEVBQU1nUSxlQUNOLE9BQW5CQSxHQUNBRSxHQUFrQmhLLEVBQU84SixPQUc1QixDQUNELE1BQU1ELEVBQVkvUCxFQUFNK1AsVUFDTixPQUFkQSxHQUNBTSxHQUF5Qm5LLEVBQU82SixFQUFXLEdBRS9DUSxHQUF3QnJLLEVBQU8sSUFHVCxJQUExQmxHLEVBQU1pSCxrQkFPTmpILEVBQU1pSCxpQkFBa0IsR0FRdkJrN0IsSUFDRGo4QixFQTlyUUUsS0E4clFjLElBRUQsS0FBZkEsRUFoc1FFLEtBaXNRRkEsRUFqc1FFLEtBaXNRYyxLQUNoQjZFLEdBQTRCN0UsRUFqc1F6QixJQWlzUXlDLElBR3BELFFBQ0k2SSxNQUdSLFNBQVNtMEIsR0FBMEJsakMsRUFBT2tHLEVBQU93N0IsRUFBWXA0QyxHQUN6RCxNQUFNZzBDLEVBQWtCcDNCLEVBQU1xM0IsSUFDeEI0RixHQUF1QjczQixLQUN2QjgzQixFQUF1QjE0QixHQUFleEUsR0FDNUMsSUFDUWk5QixJQUF3QkMsR0FBd0I5RixFQUFnQitGLE9BQ2hFL0YsRUFBZ0IrRixRQUVoQkQsR0FDQTVCLEdBQVd4aEMsRUFBT2tHLEVBQU81YyxHQUU3QjQ0QyxHQUFZbGlDLEVBQU9rRyxFQUFPdzdCLEVBQVlwNEMsR0FFMUMsUUFDUTY1QyxJQUF3QkMsR0FBd0I5RixFQUFnQmp1QixLQUNoRWl1QixFQUFnQmp1QixPQUk1QixTQUFTc3lCLEdBQWdCM2hDLEVBQU9rRyxFQUFPdzdCLEVBQVk0QixFQUFJaDZDLEdBQ25ELE1BQU1pNkMsRUFBb0J2MEIsS0FDcEJ3MEIsRUFBcUIsRUFBTEYsRUFDdEIsSUFDSXIwQixJQUFrQixHQUNkdTBCLEdBQWlCdDlCLEVBQU0vcUMsT0FBU3NxQyxJQUdoQ216QixHQUFvQjU0QixFQUFPa0csRUFBT1QsR0FBZTZGLE1BR3JEdEMsR0FEb0J3NkIsRUFBZ0IsRUFBOEIsRUFDNUNsNkMsR0FDdEJvNEMsRUFBVzRCLEVBQUloNkMsR0FFbkIsUUFDSTJsQixHQUFpQnMwQixHQUVqQnY2QixHQURxQnc2QixFQUFnQixFQUE0QixFQUMxQ2w2QyxJQU0vQixTQUFTbTZDLEdBQXNCempDLEVBQU9ELEVBQU9tRyxHQUN6QyxHQUFJTCxHQUFtQjlGLEdBQVEsQ0FDM0IsTUFBTThiLEVBQVE5YixFQUFNcVAsZUFDZEMsRUFBTXRQLEVBQU11UCxhQUNsQixJQUFLLElBQUl5SCxFQUFpQjhFLEVBQU85RSxFQUFpQjFILEVBQUswSCxJQUFrQixDQUNyRSxNQUFNNVUsRUFBTW5DLEVBQU1wUCxLQUFLbW1CLEdBQ25CNVUsRUFBSVUsZ0JBQ0pWLEVBQUlVLGVBQWUsRUFBZ0JxRCxFQUFNNlEsR0FBaUJBLEtBUTFFLFNBQVMyc0IsR0FBMEIxakMsRUFBT2tHLEVBQU9uRyxHQUN4Q3dMLE9BOG5CVCxTQUFrQ3ZMLEVBQU9rRyxFQUFPbkcsRUFBTytSLEdBQ25ELE1BQU0rSixFQUFROWIsRUFBTXFQLGVBQ2RDLEVBQU10UCxFQUFNdVAsYUFDYnRQLEVBQU1GLGlCQUNQOFQsR0FBK0I3VCxFQUFPbUcsR0FFMUNpbUIsR0FBZ0JyYSxFQUFRNUwsR0FDeEIsTUFBTXk2QixFQUFnQjVnQyxFQUFNNGdDLGNBQzVCLElBQUssSUFBSWhrRSxFQUFJay9DLEVBQU9sL0MsRUFBSTB5QyxFQUFLMXlDLElBQUssQ0FDOUIsTUFBTXdsQyxFQUFNbkMsRUFBTXBQLEtBQUtqMEIsR0FDakJvekQsRUFBYy9wQixHQUFlN0QsR0FDL0I0dEIsSUFDQWgxQixXQUFhNFcsR0FBZ0I1UixFQUFPLEdBQ3BDNGpDLEdBQWtCejlCLEVBQU9uRyxFQUFPb0MsSUFFcEMsTUFBTTZPLEVBQVlrRixHQUFrQmhRLEVBQU9sRyxFQUFPcmpDLEVBQUdvakMsR0FDckRvc0IsR0FBZ0JuYixFQUFXOUssR0FDTCxPQUFsQnk2QixHQUNBaUQsR0FBbUIxOUIsRUFBT3ZwQyxFQUFJay9DLEVBQU83SyxFQUFXN08sRUFBS3BDLEVBQU80Z0MsR0FFNUQ1USxJQUNzQnpsQixHQUF5QnZLLEVBQU14dEIsTUFBTzJ6QixHQWg1UnhELEdBaTVScUI4SyxJQWxwQmpDNnlCLENBQXlCN2pDLEVBQU9rRyxFQUFPbkcsRUFBT2tLLEdBQWlCbEssRUFBT21HLElBQ3BCLE1BQS9CLElBQWRuRyxFQUFNekIsUUFxcEJmLFNBQXNDMEIsRUFBT2tHLEVBQU9uRyxHQUNoRCxNQUFNOGIsRUFBUTliLEVBQU1xUCxlQUNkQyxFQUFNdFAsRUFBTXVQLGFBRVp3MEIsR0FEa0I5akMsRUFBTUYsZ0JBQ1RDLEVBQU14dEIsT0FDckIyNkIsRUExbFFDaEMsR0FBaUJDLE9BQU8rQixzQkEybFEvQixJQUNJK0IsR0FBaUI2MEIsR0FDakIsSUFBSyxJQUFJQyxFQUFXbG9CLEVBQU9rb0IsRUFBVzEwQixFQUFLMDBCLElBQVksQ0FDbkQsTUFBTTVoQyxFQUFNbkMsRUFBTXBQLEtBQUttekMsR0FDakIveUIsRUFBWTlLLEVBQU02OUIsR0FDeEI1MkIsR0FBeUI0MkIsR0FDQSxPQUFyQjVoQyxFQUFJTyxjQUEwQyxJQUFqQlAsRUFBSVEsVUFBb0MsT0FBbEJSLEVBQUlTLFdBQ3ZEb2hDLEdBQWlDN2hDLEVBQUs2TyxJQUlsRCxRQUNJL0IsSUFBa0IsR0FDbEI5QixHQUF5QkQsSUF2cUJ6QisyQixDQUE2QmprQyxFQUFPa0csRUFBT25HLElBT25ELFNBQVNta0MsR0FBeUJDLEVBQVVwa0MsRUFBT3FrQyxFQUFvQm42QixJQUNuRSxNQUFNeTJCLEVBQWEzZ0MsRUFBTTJnQyxXQUN6QixHQUFtQixPQUFmQSxFQUFxQixDQUNyQixJQUFJMkQsRUFBYXRrQyxFQUFNeHRCLE1BQVEsRUFDL0IsSUFBSyxJQUFJNVYsRUFBSSxFQUFHQSxFQUFJK2pFLEVBQVd2bEUsT0FBUXdCLEdBQUssRUFBRyxDQUMzQyxNQUFNNFYsRUFBUW11RCxFQUFXL2pFLEVBQUksR0FDdkJ2SCxHQUFtQixJQUFYbWQsRUFDVjZ4RCxFQUFrQnJrQyxFQUFPb2tDLEdBQ3pCQSxFQUFTNXhELEdBQ2I0eEQsRUFBU0UsS0FBZ0JqdkUsSUFXckMsU0FBU2t2RSxHQUEwQm5pQyxHQUMvQixNQUFNbkMsRUFBUW1DLEVBQUluQyxNQUdsQixHQUFjLE9BQVZBLEdBQWtCQSxFQUFNaWlDLG9CQUFxQixDQUc3QyxNQUFNdjBCLEVBQVksS0FDbEIsT0FBT3ZMLEVBQUluQyxNQUFRdWtDLEdBQVksRUFBbUI3MkIsRUFBV3ZMLEVBQUlJLFNBQVVKLEVBQUlFLE1BQU9GLEVBQUlHLEtBQU1ILEVBQUllLGNBQWVmLEVBQUlnQixTQUFVaEIsRUFBSWtCLFVBQVdsQixFQUFJd0IsUUFBU3hCLEVBQUlLLFFBRXJLLE9BQU94QyxFQWVYLFNBQVN1a0MsR0FBWXYwQyxFQUFNMGQsRUFBV2cwQixFQUFZci9CLEVBQU9DLEVBQU11QixFQUFZRyxFQUFPWCxFQUFXTSxFQUFTNmdDLEdBQ2xHenBDLFdBQWFBLFVBQVVpRixRQUN2QixNQUFNd00sRUFBb0IvRyxHQUFnQnBELEVBSXBDb2lDLEVBQW9CajRCLEVBQW9CbEssRUFDeEMwUixFQTZFVixTQUE2QnhILEVBQW1CaTRCLEdBQzVDLE1BQU16d0IsRUFBWWpaLFVBQVksSUFBSTZnQyxHQUFtQixHQUNyRCxJQUFLLElBQUlqL0QsRUFBSSxFQUFHQSxFQUFJOG5FLEVBQW1COW5FLElBQ25DcTNDLEVBQVUzM0MsS0FBS00sRUFBSTZ2QyxFQUFvQixLQUFPaXNCLElBRWxELE9BQU96a0IsRUFsRlcwd0IsQ0FBb0JsNEIsRUFBbUJpNEIsR0FDbkRqaUMsRUFBb0MsbUJBQXBCZ2lDLEVBQWlDQSxJQUFvQkEsRUFDckV4a0MsRUFBUWdVLEVBcjBRSixHQXEwUXVCalosVUFDN0IsSUFsaUNpQixNQUNyQjlsQyxZQUFZKzZCLEVBQU1na0IsRUFBV3pSLEVBQVVvN0IsRUFBU3Q2QixFQUFXcUssRUFBVzljLEVBQU00YixFQUFtQnBGLEVBQW1CczdCLEVBQW9CNWlDLEVBQWlCbUgsRUFBaUI0NkIsRUFBbUJELEVBQXNCenFCLEVBQWVDLEVBQW9CdkgsRUFBY0MsRUFBbUJDLEVBQVdDLEVBQWdCQyxFQUFjMGlCLEVBQVM5dkIsRUFBZ0I4cEIsRUFBWWdZLEVBQW1CQyxFQUFjcDJCLEVBQVk3SyxFQUFTbkIsRUFBUXkvQixFQUFxQjRDLEVBQVFDLEdBQzFiM3dFLEtBQUs2N0IsS0FBT0EsRUFDWjc3QixLQUFLNi9DLFVBQVlBLEVBQ2pCNy9DLEtBQUtvdUMsU0FBV0EsRUFDaEJwdUMsS0FBS3dwRSxRQUFVQSxFQUNmeHBFLEtBQUtrdkMsVUFBWUEsRUFDakJsdkMsS0FBS3U1QyxVQUFZQSxFQUNqQnY1QyxLQUFLeThCLEtBQU9BLEVBQ1p6OEIsS0FBS3E0QyxrQkFBb0JBLEVBQ3pCcjRDLEtBQUtpekMsa0JBQW9CQSxFQUN6Qmp6QyxLQUFLdXVFLG1CQUFxQkEsRUFDMUJ2dUUsS0FBSzJyQyxnQkFBa0JBLEVBQ3ZCM3JDLEtBQUs4eUMsZ0JBQWtCQSxFQUN2Qjl5QyxLQUFLMHRFLGtCQUFvQkEsRUFDekIxdEUsS0FBS3l0RSxxQkFBdUJBLEVBQzVCenRFLEtBQUtnakQsY0FBZ0JBLEVBQ3JCaGpELEtBQUtpakQsbUJBQXFCQSxFQUMxQmpqRCxLQUFLMDdDLGFBQWVBLEVBQ3BCMTdDLEtBQUsyN0Msa0JBQW9CQSxFQUN6QjM3QyxLQUFLNDdDLFVBQVlBLEVBQ2pCNTdDLEtBQUs2N0MsZUFBaUJBLEVBQ3RCNzdDLEtBQUs4N0MsYUFBZUEsRUFDcEI5N0MsS0FBS3crRCxRQUFVQSxFQUNmeCtELEtBQUswdUMsZUFBaUJBLEVBQ3RCMXVDLEtBQUt3NEQsV0FBYUEsRUFDbEJ4NEQsS0FBS3d3RSxrQkFBb0JBLEVBQ3pCeHdFLEtBQUt5d0UsYUFBZUEsRUFDcEJ6d0UsS0FBS3E2QyxXQUFhQSxFQUNsQnI2QyxLQUFLd3ZDLFFBQVVBLEVBQ2Z4dkMsS0FBS3F1QyxPQUFTQSxFQUNkcnVDLEtBQUs4dEUsb0JBQXNCQSxFQUMzQjl0RSxLQUFLMHdFLE9BQVNBLEVBQ2Qxd0UsS0FBSzJ3RSxNQUFRQSxFQUVickosZ0JBQ0EsTUFBTXBULEVBQU0sR0FFWixPQURBbVQsR0FBcUJybkUsS0FBS3E2QyxXQUFZNlosR0FDL0JBLEVBQUkxL0IsS0FBSyxJQUVoQm80QyxZQUNBLE9BQU9yN0IsR0FBa0J2eEMsS0FBSzY3QixPQUFTLGNBQWM3N0IsS0FBSzY3QixVQXkvQnJDQSxFQUNyQmdrQixFQUNBMHRCLEVBQ0EsS0FDQXIrQixFQUNBcUssR0FyeUJrQnBmLEVBc3lCRDBsQixPQXJ5Qkd0N0MsSUFBcEJpakUsS0FDQUEsR0FBa0IsSUFBSUQsSUFDbkJDLEdBQWdCcDJELE9BQU8rb0IsSUFteUJFeTJDLEtBQUssS0FBTXY0QixHQUN2Q0EsRUFDQWk0QixFQUNBLE1BQ0EsR0FDQSxHQUNBLEdBQ0EsRUFDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNzQixtQkFBZjVnQyxFQUNIQSxJQUNBQSxFQUNhLG1CQUFWRyxFQUF1QkEsSUFBVUEsRUFDeEMsS0FDQUwsRUFDQW5CLEdBQ0EsRUFDQUgsRUFDQUMsR0FDQSxDQUNJdFMsS0FBTUEsRUFDTmdrQixVQUFXQSxFQUNYelIsU0FBVW0vQixFQUNWL0QsUUFBUyxLQUNUdDZCLFVBQVdBLEVBQ1hxSyxVQUFXQSxFQUNYOWMsS0FBTW9qQixFQUFVdDNDLFFBQVFxb0UsS0FBSyxLQUFNdjRCLEdBQ25DQSxrQkFBbUJBLEVBQ25CcEYsa0JBQW1CcTlCLEVBQ25CL0IsbUJBQW9CLEtBQ3BCNWlDLGlCQUFpQixFQUNqQm1ILGlCQUFpQixFQUNqQjQ2QixtQkFBbUIsRUFDbkJELHNCQUFzQixFQUN0QnpxQixjQUFlLEtBQ2ZDLG1CQUFvQixLQUNwQnZILGFBQWMsS0FDZEMsa0JBQW1CLEtBQ25CQyxVQUFXLEtBQ1hDLGVBQWdCLEtBQ2hCQyxhQUFjLEtBQ2QwaUIsUUFBUyxLQUNUOXZCLGVBQWdCLEtBQ2hCOHBCLFdBQVksS0FDWmdZLGtCQUF5QyxtQkFBZjlnQyxFQUE0QkEsSUFBZUEsRUFDckUrZ0MsYUFBK0IsbUJBQVY1Z0MsRUFBdUJBLElBQVVBLEVBQ3REd0ssV0FBWSxLQUNaN0ssUUFBU0EsRUFDVG5CLE9BQVFBLEVBQ1J5L0IscUJBQXFCLEdBaDJCakMsSUFBMEIzekMsRUF3MkJ0QixPQU5JeU0sV0FJQXptQyxPQUFPNnNFLEtBQUtuaEMsR0FFVEEsRUE2QlgsU0FBU2dsQyxHQUFrQnQ3QixFQUFVdTdCLEVBQW1CMWhDLEdBQ3BELEdBQUlrRyxHQUFxQkMsR0FBVyxDQUVoQyxNQUFNdzdCLEVBQWtCM2hDLElBQWtCM0UsRUFBb0J1bUMsVUFDOUQsT0FBT3o3QixFQUFTMDdCLGtCQUFrQkgsRUFBbUJDLEdBRXpELElBQUk5WSxFQUF3QyxpQkFBdEI2WSxFQUNsQnY3QixFQUFTMjdCLGNBQWNKLEdBQ3ZCQSxFQU9KLE9BTkFscUMsV0ExQkosU0FBOEJxeEIsRUFBVTZZLEdBQ3BDLElBQUs3WSxFQUNELE1BSkcsSUFBSXh5QyxNQUFNLGFBSW9CLGlCQUF0QnFyRCxFQUNXLHFDQUdBLDZCQVJhaHFDLEVBS3lCZ3FDLE9BdUJuREssQ0FBcUJsWixFQUFVNlksR0FLNUM3WSxFQUFTeUUsWUFBYyxHQUNoQnpFLEVBWVgsU0FBU21aLEdBQXdCdmxDLEVBQU9rRyxFQUFPNWMsRUFBU2s4QyxHQUNwRCxNQUFNNVMsRUFBVzZTLEdBQXdCdi9CLEdBQ3pCLE9BQVo1YyxHQUdJeVIsV0FDQXptQyxPQUFPa3RDLE9BQU9ra0MsR0FBd0IxbEMsSUFFMUM0eUIsRUFBU3YyRCxLQUFLbXBFLEtBR2Q1UyxFQUFTdjJELEtBQUtpdEIsR0FDVjBXLEVBQU1GLGlCQUNONGxDLEdBQXdCMWxDLEdBQU8zakMsS0FBS21wRSxFQUFXNVMsRUFBU3ozRCxPQUFTLElBc0Y3RSxTQUFTd3FFLEdBQXdCQyxFQUFlbEcsRUFBaUJtRyxHQUM3RCxJQUFLLElBQUk1Z0MsS0FBYzJnQyxFQUNuQixHQUFJQSxFQUFjaHhFLGVBQWVxd0MsR0FBYSxDQUMxQzRnQyxFQUEwQixPQUFkQSxFQUFxQixHQUFLQSxFQUN0QyxNQUFNQyxFQUFlRixFQUFjM2dDLEdBQy9CNGdDLEVBQVVqeEUsZUFBZXF3QyxHQUN6QjRnQyxFQUFVNWdDLEdBQVk1b0MsS0FBS3FqRSxFQUFpQm9HLEdBRzNDRCxFQUFVNWdDLEdBQWMsQ0FBQ3k2QixFQUFpQm9HLEdBSXZELE9BQU9ELEVBa0VYLFNBQVNFLEdBQXdCL2xDLEVBQU9ELEVBQU9tRyxFQUFPK1MsRUFBVTdqRCxFQUFPczBDLEVBQVVzZ0IsRUFBV2djLEdBQ3hGanJDLFdBQWFzQixFQUFjam5DLEVBQU9xakUsR0FBVyw2Q0FDN0MsTUFBTTNpRCxFQUFVbTBCLEdBQWlCbEssRUFBT21HLEdBQ3hDLElBQ0krL0IsRUFEQUMsRUFBWW5tQyxFQUFNNWEsT0FFdEIsSUFBSzZnRCxHQUEyQixNQUFiRSxJQUFzQkQsRUFBWUMsRUFBVWp0QixJQUMzRGt0QixHQUFxQm5tQyxFQUFPa0csRUFBTysvQixFQUFXaHRCLEVBQVU3akQsR0FDcEQwd0MsR0FBZ0IvRixJQXFDNUIsU0FBMkJtRyxFQUFPa2dDLEdBQzlCcnJDLFdBQWE4TCxHQUFZWCxHQUN6QixNQUFNbWdDLEVBQXNCLzdCLEdBQXlCODdCLEVBQVdsZ0MsR0FDN0IsR0FBN0JtZ0MsRUF0cVJJLEtBdXFSTkEsRUF2cVJNLElBdXFSd0IsSUF4QzFCQyxDQUFrQnBnQyxFQUFPbkcsRUFBTXh0QixPQUMvQndvQixXQW1FWixTQUFnQ21MLEVBQU9wd0IsRUFBU2thLEVBQU1pMkMsRUFBVzd3RSxHQUM3RCxHQUFXLEVBQVA0NkIsRUFTQSxJQUFLLElBQUlyekIsRUFBSSxFQUFHQSxFQUFJc3BFLEVBQVU5cUUsT0FBUXdCLEdBQUssRUFDdkM0cEUsR0FBcUJyZ0MsRUFBT3B3QixFQUFTa2EsRUFBTWkyQyxFQUFVdHBFLEVBQUksR0FBSXZILEdBN0U3RG94RSxDQUF1QnRnQyxFQUFPcHdCLEVBQVNpcUIsRUFBTS9QLEtBQU1pMkMsRUFBVzd3RSxRQUdqRSxHQUFpQixFQUFiMnFDLEVBQU0vUCxLQUF5QixDQUVwQyxHQURBaXBCLEVBNUJTLFdBREkxMkIsRUE2QlUwMkIsR0EzQmhCLFlBQ0UsUUFBVDEyQixFQUNPLFVBQ0UsZUFBVEEsRUFDTyxhQUNFLGNBQVRBLEVBQ08sWUFDRSxhQUFUQSxFQUNPLFdBQ0UsYUFBVEEsRUFDTyxXQUNKQSxFQWlCQ3dZLFVBQVcsQ0FFWCxHQXp6SFosU0FBd0N4WSxHQUNwQyxHQUFJQSxFQUFLd04sY0FBYzAyQyxXQUFXLE1BQU8sQ0FDckMsTUFBTTNyQyxFQUFlLDhCQUE4QnZZLHNEQUNoQ0EsRUFBSzdsQixNQUFNLGdCQUNqQjZsQixzRkFFYixNQUFNLElBQUltWSxFQUFhLElBQWlDSSxJQWt6SHBENHJDLENBQStCenRCLElBMkUzQyxTQUEwQmpaLEVBQU9scUIsRUFBU21qQyxFQUFVbFosR0FLaEQsT0FBc0IsT0FBbEJDLEVBQU0yRCxhQUlOZ2pDLEdBQWdCM21DLEVBQU9ELEVBQU0zcUMsUUFBVTZqRCxLQUFZbmpDLEdBQVd3OEIsR0FBZ0IyRyxNQUszRCxvQkFBVHJjLE1BQWlDLE9BQVRBLFFBQW1COW1CLGFBQW1COG1CLFFBeEYvRGdxQyxDQUFpQjVtQyxFQUFPbHFCLEVBQVNtakMsRUFBVWxaLEdBRzVDLFlBREE4bUMsR0FBd0I1dEIsRUFBVWxaLEdBR3RDaEYsVUFBVXdGLHNCQUlkbnJDLEVBQXFCLE1BQWI0MEQsRUFBb0JBLEVBQVU1MEQsRUFBTzJxQyxFQUFNM3FDLE9BQVMsR0FBSTZqRCxHQUFZN2pELEVBQ3hFcTBDLEdBQXFCQyxHQUNyQkEsRUFBUzZJLFlBQVl6OEIsRUFBU21qQyxFQUFVN2pELEdBRWxDazlDLEdBQWdCMkcsS0FDdEJuakMsRUFBUXk4QixZQUFjejhCLEVBQVF5OEIsWUFBWTBHLEVBQVU3akQsR0FDaEQwZ0IsRUFBUW1qQyxHQUFZN2pELFFBR1YsR0FBYjJxQyxFQUFNL1AsTUFHUCtLLFlBQWM0ckMsR0FBZ0IzbUMsRUFBT0QsRUFBTTNxQyxRQUMzQ3l4RSxHQUF3QjV0QixFQUFVbFosR0F0RDlDLElBQXFCeGQsRUFrRXJCLFNBQVNna0QsR0FBcUJyZ0MsRUFBT3B3QixFQUFTa2EsRUFBTWtpQixFQUFVOThDLEdBQzFELE1BQU1zMEMsRUFBV3hELEVBQU1nRSxJQTMyRzNCLElBTTZCcmtDLEVBQUFBLEVBczJHWXFzQyxFQTEyR0x1WCxRQUFRLFFBQVMsS0EwMkdqRHZYLEVBejJHTyxjQUlBcnNDLEVBQU00akQsUUFBUW9FLElBQW1CLElBQUlud0QsSUFBTSxJQUFNQSxFQUFFLEdBQUdxeUIsa0JBczJHN0QsTUFBTSsyQyxFQXAyR1YsU0FBb0MxeEUsR0FDaEMsSUFFSSxPQUFnQixNQUFUQSxFQUFnQkEsRUFBTXN6QixXQUFXaHNCLE1BQU0sRUFBRyxJQUFNdEgsRUFFM0QsTUFBT3VMLEdBQ0gsTUFBTyx5REE4MUdRb21FLENBQTJCM3hFLEdBQzlDLEdBQVcsRUFBUDQ2QixFQUNhLE1BQVQ1NkIsRUFDQXEwQyxHQUFxQkMsR0FBWUEsRUFBUzRjLGdCQUFnQnh3QyxFQUFTbzhCLEdBQy9EcDhCLEVBQVF3d0MsZ0JBQWdCcFUsR0FHNUJ6SSxHQUFxQkMsR0FDakJBLEVBQVMwSSxhQUFhdDhCLEVBQVNvOEIsRUFBVTQwQixHQUN6Q2h4RCxFQUFRczhCLGFBQWFGLEVBQVU0MEIsT0FHdEMsQ0FDRCxNQUFNalcsRUFBY2pELEdBQWtCLFlBQVkvaUMsS0FBS0ksVUFBVSxDQUFFLENBQUNpbkIsR0FBVzQwQixHQUFjLEtBQU0sTUFDL0ZyOUIsR0FBcUJDLEdBQ3JCQSxFQUFTa25CLFNBQVM5NkMsRUFBUys2QyxHQUczQi82QyxFQUFRKzZDLFlBQWNBLEdBbUNsQyxTQUFTOFYsR0FBZ0IzbUMsRUFBTytvQixHQUM1QixNQUFNcGxCLEVBQVUzRCxFQUFNMkQsUUFDdEIsR0FBZ0IsT0FBWkEsRUFDQSxJQUFLLElBQUlobkMsRUFBSSxFQUFHQSxFQUFJZ25DLEVBQVF4b0MsT0FBUXdCLElBQUssQ0FDckMsTUFBTXFxRSxFQUFTcmpDLEVBQVFobkMsR0FDdkIsR0FBSXFxRSxJQUFXdlosSUFDWHVaLElBQVd4WixJQUEwQnpFLEdBQVdBLEVBQVE5L0IsUUFBUSxNQUFRLEVBQ3hFLE9BQU8sRUFJbkIsT0FBTyxFQU9YLFNBQVM0OUMsR0FBd0I1dEIsRUFBVWxaLEdBQ3ZDLElBQUl6ZCxFQUFVLGtCQUFrQjIyQiwwQ0FBaURsWixFQUFNM3FDLFVBQ3ZGMjFCLFFBQVE1MEIsTUFBTXlrQyxFQUFtQixJQUEyQnRZLElBMEJoRSxTQUFTMmtELEdBQWtCam5DLEVBQU9rRyxFQUFPbkcsRUFBT3VzQixHQUc1Q3Z4QixXQUFhK0wsR0FBc0I5RyxHQUNuQyxJQUFJa25DLEdBQWdCLEVBQ3BCLEdBQUkzN0IsS0FBc0IsQ0FDdEIsTUFBTXJJLEVBMEtkLFNBQWlDbEQsRUFBT21rQyxFQUFVcGtDLEdBQzlDaEYsV0FBYStMLEdBQXNCOUcsR0FDbkNqRixXQUFhNFcsR0FBZ0I1UixFQUFPLElBQ3BDLE1BQU1vbkMsRUFBV25uQyxFQUFNMmtDLGtCQUN2QixJQUFJeUMsRUFBVSxLQUNkLEdBQUlELEVBQ0EsSUFBSyxJQUFJeHFFLEVBQUksRUFBR0EsRUFBSXdxRSxFQUFTaHNFLE9BQVF3QixJQUFLLENBQ3RDLE1BQU13bEMsRUFBTWdsQyxFQUFTeHFFLEdBQ2pCbTdELEdBQTJCLzNCLEVBQU9vQyxFQUFJaUIsV0FBa0MsS0FDeEVna0MsSUFBWUEsRUFBVXJzQyxVQUFZLElBQUk4Z0MsR0FBaUIsSUFDdkRwbkIsR0FBbUJiLEdBQStCN1QsRUFBT29rQyxHQUFXbmtDLEVBQU9tQyxFQUFJblMsTUFDM0VnVyxHQUFlN0QsSUFDWHBILFlBQ0E0VyxHQUFnQjVSLEVBQU8sRUFBaUIsSUFBSUEsRUFBTTNxQyw2RkFDQTYxQixFQUFVa1gsRUFBSW5TLG9CQUM5QyxFQUFkK1AsRUFBTXpCLE9BQ044dkIsR0FBNEJydUIsSUFFcENzbkMsR0FBb0JybkMsRUFBT0QsR0FFM0JxbkMsRUFBUXp0QixRQUFReFgsSUFHaEJpbEMsRUFBUS9xRSxLQUFLOGxDLElBSzdCLE9BQU9pbEMsRUF0TW1CRSxDQUF3QnRuQyxFQUFPa0csRUFBT25HLEdBQ3REd25DLEVBQTJCLE9BQWRqYixFQUFxQixLQUFPLENBQUUsSUFBSyxHQUN0RCxHQUFzQixPQUFsQnBwQixFQUF3QixDQUN4QmdrQyxHQUFnQixFQUNoQk0sR0FBZXpuQyxFQUFPQyxFQUFNcFAsS0FBS3oxQixPQUFRK25DLEVBQWMvbkMsUUFPdkQsSUFBSyxJQUFJd0IsRUFBSSxFQUFHQSxFQUFJdW1DLEVBQWMvbkMsT0FBUXdCLElBQUssQ0FDM0MsTUFBTXdsQyxFQUFNZSxFQUFjdm1DLEdBQ3RCd2xDLEVBQUlDLG1CQUNKRCxFQUFJQyxrQkFBa0JELEdBRTlCLElBQUlzbEMsR0FBcUIsRUFDckJDLEdBQTBCLEVBQzFCOUUsRUFBZXZCLEdBQWFyaEMsRUFBT2tHLEVBQU9oRCxFQUFjL25DLE9BQVEsTUFDcEU0L0IsV0FDSXFCLEVBQVd3bUMsRUFBYzdpQyxFQUFNcVAsZUFBZ0IsNkRBQ25ELElBQUssSUFBSXp5QyxFQUFJLEVBQUdBLEVBQUl1bUMsRUFBYy9uQyxPQUFRd0IsSUFBSyxDQUMzQyxNQUFNd2xDLEVBQU1lLEVBQWN2bUMsR0FHMUJvakMsRUFBTTBnQyxZQUFjOXRCLEdBQWU1UyxFQUFNMGdDLFlBQWF0K0IsRUFBSVMsV0FDMUQra0MsR0FBMkIzbkMsRUFBT0QsRUFBT21HLEVBQU8wOEIsRUFBY3pnQyxHQUM5RHlsQyxHQUFvQmhGLEVBQWN6Z0MsRUFBS29sQyxHQUNaLE9BQXZCcGxDLEVBQUlVLGlCQUNKOUMsRUFBTXpCLE9BQVMsR0FDTSxPQUFyQjZELEVBQUlPLGNBQTJDLE9BQWxCUCxFQUFJUyxXQUF1QyxJQUFqQlQsRUFBSVEsV0FDM0Q1QyxFQUFNekIsT0FBUyxLQUNuQixNQUFNdXBDLEVBQWlCMWxDLEVBQUluUyxLQUFLcjdCLFdBRzNCOHlFLElBQ0FJLEVBQWUxL0IsYUFBZTAvQixFQUFlN3dCLFVBQVk2d0IsRUFBZTV3QixjQUl4RWpYLEVBQU1tWCxnQkFBa0JuWCxFQUFNbVgsY0FBZ0IsS0FBSzk2QyxLQUFLMGpDLEVBQU14dEIsT0FDL0RrMUQsR0FBcUIsR0FFcEJDLElBQTRCRyxFQUFlMS9CLGNBQWUwL0IsRUFBZTV3QixhQUN6RWpYLEVBQU1vWCxxQkFBdUJwWCxFQUFNb1gsbUJBQXFCLEtBQUsvNkMsS0FBSzBqQyxFQUFNeHRCLE9BQ3pFbTFELEdBQTBCLEdBRTlCOUUsS0ExUWhCLFNBQXlDNWlDLEVBQU9ELEdBQzVDaEYsV0FBYStMLEdBQXNCOUcsR0FDbkMsTUFBTTZiLEVBQVE5YixFQUFNcVAsZUFDZEMsRUFBTXRQLEVBQU11UCxhQUNadzRCLEVBQVk5bkMsRUFBTXBQLEtBQ2xCbTNDLEVBQWFob0MsRUFBTWdTLE1BQ25CaTJCLEVBQWtCanRDLFVBQVksSUFBSWloQyxHQUF1QixHQUMvRCxJQUFJaU0sRUFBYyxLQUNkQyxFQUFlLEtBQ25CLElBQUssSUFBSXZyRSxFQUFJay9DLEVBQU9sL0MsRUFBSTB5QyxFQUFLMXlDLElBQUssQ0FDOUIsTUFBTTR5QyxFQUFldTRCLEVBQVVuckUsR0FDekJ3ckUsRUFBa0I1NEIsRUFBYXBxQixPQUsvQnc3QyxFQUFnQyxPQUFmb0gsR0FBd0JuUixHQUFpQjcyQixHQUU1RCxLQURBcW9DLEdBQXNCRCxFQUFpQkosR0FFM0NDLEVBQWdCM3JFLEtBQUtza0UsR0FDckJzSCxFQUFjdEMsR0FBd0J3QyxFQUFpQnhyRSxFQUFHc3JFLEdBQzFEQyxFQUFldkMsR0FBd0JwMkIsRUFBYTFaLFFBQVNsNUIsRUFBR3VyRSxHQUVoRCxPQUFoQkQsSUFDSUEsRUFBWXJ6RSxlQUFlLFdBQzNCbXJDLEVBQU16QixPQUFTLElBRWYycEMsRUFBWXJ6RSxlQUFlLFdBQzNCbXJDLEVBQU16QixPQUFTLEtBR3ZCeUIsRUFBTTRnQyxjQUFnQnFILEVBQ3RCam9DLEVBQU01YSxPQUFTOGlELEVBQ2Zsb0MsRUFBTWxLLFFBQVVxeUMsRUEyT1JHLENBQWdDcm9DLEVBQU9ELEdBRXZDd25DLEdBaUtaLFNBQWlDeG5DLEVBQU91c0IsRUFBV2liLEdBQy9DLEdBQUlqYixFQUFXLENBQ1gsTUFBTW9VLEVBQWEzZ0MsRUFBTTJnQyxXQUFhM2xDLFVBQVksSUFBSWdoQyxHQUFvQixHQUkxRSxJQUFLLElBQUlwL0QsRUFBSSxFQUFHQSxFQUFJMnZELEVBQVVueEQsT0FBUXdCLEdBQUssRUFBRyxDQUMxQyxNQUFNNFYsRUFBUWcxRCxFQUFXamIsRUFBVTN2RCxFQUFJLElBQ3ZDLEdBQWEsTUFBVDRWLEVBQ0EsTUFBTSxJQUFJbW9CLEdBQWMsSUFBNEJLLFdBQWEsbUJBQW1CdXhCLEVBQVUzdkQsRUFBSSxrQkFDdEcrakUsRUFBV3JrRSxLQUFLaXdELEVBQVUzdkQsR0FBSTRWLEtBMUs5QisxRCxDQUF3QnZvQyxFQUFPdXNCLEVBQVdpYixHQUlsRCxPQURBeG5DLEVBQU0wZ0MsWUFBYzl0QixHQUFlNVMsRUFBTTBnQyxZQUFhMWdDLEVBQU1nUyxPQUNyRG0xQixFQVlYLFNBQVNxQixHQUEyQnZvQyxFQUFPRCxFQUFPbUcsRUFBTzA4QixFQUFjNEYsRUFBa0JybUMsR0FDckZwSCxXQUFhK0wsR0FBc0I5RyxHQUNuQyxNQUFNMEMsRUFBZVAsRUFBSU8sYUFDekIsR0FBSUEsRUFBYyxDQUNkLElBQUlnZ0MsRUFBcUIxaUMsRUFBTTBpQyxtQkFDSixPQUF2QkEsSUFDQUEsRUFBcUIxaUMsRUFBTTBpQyxtQkFBcUIsSUFFcEQsTUFBTStGLEdBQWUxb0MsRUFBTXh0QixPQWtCbkMsU0FBZ0Ntd0QsR0FDNUIsSUFBSS9sRSxFQUFJK2xFLEVBQW1Cdm5FLE9BQzNCLEtBQU93QixFQUFJLEdBQUcsQ0FDVixNQUFNdkgsRUFBUXN0RSxJQUFxQi9sRSxHQUNuQyxHQUFxQixpQkFBVnZILEdBQXNCQSxFQUFRLEVBQ3JDLE9BQU9BLEVBR2YsT0FBTyxHQXpCQ3N6RSxDQUF1QmhHLElBQXVCK0YsR0FJOUMvRixFQUFtQnJtRSxLQUFLb3NFLEdBRTVCL0YsRUFBbUJybUUsS0FBS3VtRSxFQUFjNEYsRUFBa0I5bEMsSUE4RWhFLFNBQVNzaEMsR0FBaUM3aEMsRUFBSzZPLEdBQ2xCLE9BQXJCN08sRUFBSU8sY0FDSlAsRUFBSU8sYUFBYSxFQUFnQnNPLEdBMEN6QyxTQUFTcTJCLEdBQW9Ccm5DLEVBQU8yb0MsR0FDaEM1dEMsV0FBYStMLEdBQXNCOUcsR0FDbkMyb0MsRUFBVXJxQyxPQUFTLEdBQ2xCMEIsRUFBTTJzQixhQUFlM3NCLEVBQU0yc0IsV0FBYTV4QixVQUFZLElBQUkrZ0MsR0FBb0IsS0FDeEV6L0QsS0FBS3NzRSxFQUFVcDJELE9BcUJ4QixTQUFTcTFELEdBQW9CaEYsRUFBY3pnQyxFQUFLb2xDLEdBQzVDLEdBQUlBLEVBQVksQ0FDWixHQUFJcGxDLEVBQUlXLFNBQ0osSUFBSyxJQUFJbm1DLEVBQUksRUFBR0EsRUFBSXdsQyxFQUFJVyxTQUFTM25DLE9BQVF3QixJQUNyQzRxRSxFQUFXcGxDLEVBQUlXLFNBQVNubUMsSUFBTWltRSxFQUdsQzU4QixHQUFlN0QsS0FDZm9sQyxFQUFXLElBQU0zRSxJQVE3QixTQUFTNEUsR0FBZXpuQyxFQUFPeHRCLEVBQU9xMkQsR0FDbEM3dEMsV0FDSW9CLEVBQWV5c0MsRUFBb0I3b0MsRUFBTXVQLGFBQWV2UCxFQUFNcVAsZUFBZ0Isd0NBQ2xGclAsRUFBTXpCLE9BQVMsRUFFZnlCLEVBQU1xUCxlQUFpQjc4QixFQUN2Qnd0QixFQUFNdVAsYUFBZS84QixFQUFRcTJELEVBQzdCN29DLEVBQU11VyxnQkFBa0IvakMsRUFjNUIsU0FBU28xRCxHQUEyQjNuQyxFQUFPRCxFQUFPbUcsRUFBTzZRLEVBQWdCNVUsR0FDckVwSCxXQUNJZ0IsRUFBeUJnYixFQUFnQnRSLEdBQWUsOEJBQzVEekYsRUFBTXBQLEtBQUttbUIsR0FBa0I1VSxFQUM3QixNQUFNMG1DLEVBQW1CMW1DLEVBQUl4dUMsVUFBWXd1QyxFQUFJeHVDLFFBQVUrekMsR0FBY3ZGLEVBQUluUyxNQUFNLElBQ3pFODRDLEVBQXNCLElBQUk1M0IsR0FBb0IyM0IsRUFBa0I3aUMsR0FBZTdELEdBQU0sTUFDM0ZuQyxFQUFNZ1UsVUFBVStDLEdBQWtCK3hCLEVBQ2xDNWlDLEVBQU02USxHQUFrQit4QixFQUN4QlAsR0FBMkJ2b0MsRUFBT0QsRUFBT21HLEVBQU82USxFQUFnQnNxQixHQUFhcmhDLEVBQU9rRyxFQUFPL0QsRUFBSVEsU0FBVTgxQixJQUFZdDJCLEdBRXpILFNBQVN3aEMsR0FBa0J6OUIsRUFBT3lpQyxFQUFXeG1DLEdBQ3pDLE1BQU0yUCxFQUFTN0gsR0FBaUIwK0IsRUFBV3ppQyxHQUNyQ2xHLEVBQVFza0MsR0FBMEJuaUMsR0FHbENtN0IsRUFBa0JwM0IsRUFBTXEzQixJQUN4QndMLEVBQWdCQyxHQUFjOWlDLEVBQU95NUIsR0FBWXo1QixFQUFPbEcsRUFBTyxLQUFNbUMsRUFBSVksT0FBUyxHQUFpQixHQUFzQitPLEVBQVE2MkIsRUFBV3JMLEVBQWlCQSxFQUFnQjF6QixlQUFla0ksRUFBUTNQLEdBQU0sS0FBTSxPQUd0TitELEVBQU15aUMsRUFBVXAyRCxPQUFTdzJELEVBRTdCLFNBQVNFLEdBQXlCbHBDLEVBQU9tRyxFQUFPM2pCLEVBQU1udEIsRUFBTzQwRCxFQUFXaUgsR0FDaEVsMkIsWUFDQXNCLEVBQWNqbkMsRUFBT3FqRSxHQUFXLDZDQWh1SXhDLFNBQXdDbDJDLEdBQ3BDLEdBQUlBLEVBQUt3TixjQUFjMDJDLFdBQVcsTUFBTyxDQUNyQyxNQUFNM3JDLEVBQWUsK0JBQStCdlksc0RBQ2pDQSxFQUFLN2xCLE1BQU0sVUFDOUIsTUFBTSxJQUFJZytCLEVBQWEsSUFBaUNJLElBNnRJeERvdUMsQ0FBK0IzbUQsR0FDL0JvdkIsR0FBZ0I1UixFQUFPLEVBQWlCLGdDQUFnQ3hkLHlGQUc1RSxNQUFNek0sRUFBVW0wQixHQUFpQmxLLEVBQU9tRyxHQUN4Q2lqQyxHQUFvQmpqQyxFQUFNZ0UsSUFBV3AwQixFQUFTbTdDLEVBQVdseEIsRUFBTTNxQyxNQUFPbXRCLEVBQU1udEIsRUFBTzQwRCxHQUV2RixTQUFTbWYsR0FBb0J6L0IsRUFBVTV6QixFQUFTbTdDLEVBQVdsSSxFQUFTeG1DLEVBQU1udEIsRUFBTzQwRCxHQUM3RSxHQUFhLE1BQVQ1MEQsRUFDQTJsQyxXQUFhQSxVQUFVdUYsMEJBQ3ZCbUosR0FBcUJDLEdBQVlBLEVBQVM0YyxnQkFBZ0J4d0MsRUFBU3lNLEVBQU0wdUMsR0FDckVuN0MsRUFBUXd3QyxnQkFBZ0IvakMsT0FFM0IsQ0FDRHdZLFdBQWFBLFVBQVVzRix1QkFDdkIsTUFBTStvQyxFQUF3QixNQUFicGYsRUFBb0JodkIsRUFBZ0I1bEMsR0FBUzQwRCxFQUFVNTBELEVBQU8yekQsR0FBVyxHQUFJeG1DLEdBQzFGa25CLEdBQXFCQyxHQUNyQkEsRUFBUzBJLGFBQWF0OEIsRUFBU3lNLEVBQU02bUQsRUFBVW5ZLEdBRy9DQSxFQUFZbjdDLEVBQVF1OEIsZUFBZTRlLEVBQVcxdUMsRUFBTTZtRCxHQUNoRHR6RCxFQUFRczhCLGFBQWE3dkIsRUFBTTZtRCxJQWEzQyxTQUFTeEYsR0FBbUIxOUIsRUFBTzZRLEVBQWdCM3RCLEVBQVUrWSxFQUFLcEMsRUFBT3NwQyxHQUNyRSxNQUFNMUksRUFBZ0IwSSxFQUFpQnR5QixHQUN2QyxHQUFzQixPQUFsQjRwQixFQUF3QixDQUN4QixNQUFNajlCLEVBQVd2QixFQUFJdUIsU0FDckIsSUFBSyxJQUFJL21DLEVBQUksRUFBR0EsRUFBSWdrRSxFQUFjeGxFLFFBQVMsQ0FDdkMsTUFBTThwQyxFQUFhMDdCLEVBQWNoa0UsS0FDM0I4ckMsRUFBY2s0QixFQUFjaGtFLEtBQzVCdkgsRUFBUXVyRSxFQUFjaGtFLEtBQ1gsT0FBYittQyxFQUNBdkIsRUFBSXVCLFNBQVN0YSxFQUFVaDBCLEVBQU82dkMsRUFBWXdELEdBRzFDcmYsRUFBU3FmLEdBQWVyekMsRUFFeEIybEMsV0FFQXdyQyxHQUFxQnJnQyxFQURDK0QsR0FBaUJsSyxFQUFPbUcsR0FDSG5HLEVBQU0vUCxLQUFNeVksRUFBYXJ6QyxLQW1CcEYsU0FBU2d6RSxHQUFzQmpqRCxFQUFRNHNCLEdBQ25DLElBQUl1M0IsRUFBZ0IsS0FDaEIzc0UsRUFBSSxFQUNSLEtBQU9BLEVBQUlvMUMsRUFBTTUyQyxRQUFRLENBQ3JCLE1BQU0rMkMsRUFBV0gsRUFBTXAxQyxHQUN2QixHQUFpQixJQUFidTFDLEVBS0MsR0FBaUIsSUFBYkEsRUFBSixDQU1MLEdBQXdCLGlCQUFiQSxFQUNQLE1BQ0Evc0IsRUFBT3Z3QixlQUFlczlDLEtBQ0EsT0FBbEJvM0IsSUFDQUEsRUFBZ0IsSUFDcEJBLEVBQWNqdEUsS0FBSzYxQyxFQUFVL3NCLEVBQU8rc0IsR0FBV0gsRUFBTXAxQyxFQUFJLEtBRTdEQSxHQUFLLE9BWERBLEdBQUssT0FMTEEsR0FBSyxFQWtCYixPQUFPMnNFLEVBTVgsTUFBTUMsR0FBa0IsY0FBeUI5MEUsUUFZakQsU0FBUyswRSxHQUFpQkMsRUFBWWo1QixFQUFhc0IsRUFBUS9SLEdBQ3ZEaEYsV0FBYThMLEdBQVkySixHQUN6QnpWLFlBQWMwTyxHQUFxQitHLEVBQVl0RyxNQUFjeE4sRUFBY29WLEdBRTNFLE1BQU05RyxFQUFhLElBQUtqUSxVQUFZd3VDLEdBQWtCOTBFLE9BQU9nMUUsR0FDN0QsR0FDQSxFQUNBajVCLEVBQ0EsS0FDQSxFQUNBelEsRUFDQStSLEVBQ0EsS0FDQSxNQUlBLE9BSEEvVyxXQUNJa0IsRUFBWStPLEVBQVc3dkMsT0FBUXFxQyxHQUF5QixrRUFDNUR6SyxXQTluREosU0FBK0JpUSxHQUMzQnl1QixHQUFrQnp1QixFQUFZLElBQUltMEIsR0FBZ0JuMEIsSUE2bkRyQzArQixDQUFzQjErQixHQUM1QkEsRUFvRFgsU0FBU2c0QixHQUFpQmxCLEVBQVc2SCxHQUNqQzV1QyxXQUFha0IsRUFBWXlPLEdBQWVvM0IsSUFBWSxFQUFPLGdDQUMzRCxNQUFNaUgsRUFBZ0J6K0IsR0FBeUJxL0IsRUFBa0I3SCxHQUVqRSxHQUFJbjNCLEdBQTZCbytCLEdBQWdCLENBQzdDLE1BQU0vb0MsRUFBUStvQyxFQXB2U1IsR0FxdlNxQixHQUF2QkEsRUFwdlNFLEdBcXZTRjdHLEdBQVlsaUMsRUFBTytvQyxFQUFlL29DLEVBQU11QyxTQUFVd21DLEVBL3VTOUMsSUFpdlNDQSxFQXB2U3FCLEdBb3ZTMEIsR0FFcERhLEdBQXlCYixJQVVyQyxTQUFTYSxHQUF5QjFqQyxHQUM5QixJQUFLLElBQUk4RSxFQUFhdWtCLEdBQW1CcnBCLEdBQXVCLE9BQWY4RSxFQUFxQkEsRUFBYTBrQixHQUFrQjFrQixHQUNqRyxJQUFLLElBQUlydUMsRUFBSTZvQyxHQUF5QjdvQyxFQUFJcXVDLEVBQVc3dkMsT0FBUXdCLElBQUssQ0FDOUQsTUFBTTRsRSxFQUFnQnYzQixFQUFXcnVDLEdBQ2pDLEdBQTJCLEtBQXZCNGxFLEVBdndTRixHQXV3UzZELENBQzNELE1BQU1DLEVBQWdCRCxFQXp3U3hCLEdBMHdTRXhuQyxXQUFheUIsRUFBY2dtQyxFQUFlLDJCQUMxQ04sR0FBWU0sRUFBZUQsRUFBZUMsRUFBY2pnQyxTQUFVZ2dDLEVBcHdTbEUsU0Fzd1NLQSxFQXp3U2lCLEdBeXdTOEIsR0FDcERxSCxHQUF5QnJILEdBSXJDLE1BRU01VixFQUZRem1CLEVBbHhTSixHQW94U2V5bUIsV0FDekIsR0FBbUIsT0FBZkEsRUFDQSxJQUFLLElBQUlod0QsRUFBSSxFQUFHQSxFQUFJZ3dELEVBQVd4eEQsT0FBUXdCLElBQUssQ0FDeEMsTUFBTW9zRSxFQUFnQnorQixHQUF5QnFpQixFQUFXaHdELEdBQUl1cEMsR0FFMUR5RSxHQUE2Qm8rQixJQUM3QkEsRUF0eFNzQixHQXN4U3lCLEdBQy9DYSxHQUF5QmIsSUFLekMsU0FBU2hILEdBQWtCRCxFQUFXNkgsR0FDbEM1dUMsV0FBYWtCLEVBQVl5TyxHQUFlbzNCLElBQVksRUFBTSxrQ0FDMUQsTUFBTWlILEVBQWdCeitCLEdBQXlCcS9CLEVBQWtCN0gsR0FDM0QrSCxFQUFpQmQsRUFueVNiLElBazBTZCxTQUErQi9vQyxFQUFPa0csR0FDbEMsSUFBSyxJQUFJdnBDLEVBQUl1cEMsRUFBTS9xQyxPQUFRd0IsRUFBSXFqQyxFQUFNZ1UsVUFBVTc0QyxPQUFRd0IsSUFDbkR1cEMsRUFBTTdwQyxLQUFLMmpDLEVBQU1nVSxVQUFVcjNDLElBaEMvQm10RSxDQUFzQkQsRUFBZ0JkLEdBQ3RDdkgsR0FBV3FJLEVBQWdCZCxFQUFlQSxFQTl4UzlCLElBMjBTaEIsU0FBU0MsR0FBYzlpQyxFQUFPaXNCLEdBWTFCLE9BUElqc0IsRUFBTXVwQixJQUNOdnBCLEVBMzBTVyxJQVZOLEdBcTFTcUJpc0IsRUFHMUJqc0IsRUFBTXVwQixJQUFjMEMsRUFFeEJqc0IsRUFoMVNlLElBZzFTS2lzQixFQUNiQSxFQWdCWCxTQUFTNFgsR0FBYzdqQyxHQUNuQixLQUFPQSxHQUFPLENBQ1ZBLEVBLzJTTSxJQSsyU1UsR0FDaEIsTUFBTTVqQyxFQUFTMnNELEdBQWUvb0IsR0FFOUIsR0F4eVMwQyxJQUF0QixJQXd5U0xBLEVBbDNTVCxNQWszU29CNWpDLEVBQ3RCLE9BQU80akMsRUFHWEEsRUFBUTVqQyxFQUVaLE9BQU8sS0FzQ1gsU0FBUzBuRSxHQUFnQkMsR0FDckIsSUFBSyxJQUFJdHRFLEVBQUksRUFBR0EsRUFBSXN0RSxFQUFZdGQsV0FBV3h4RCxPQUFRd0IsSUFBSyxDQUNwRCxNQUFNdXRFLEVBQWdCRCxFQUFZdGQsV0FBV2h3RCxHQUN2Q3VwQyxFQUFRdW1CLEdBQWlCeWQsR0FDekJscUMsRUFBUWtHLEVBbjZTUixHQW82U05nOUIsR0FBMEJsakMsRUFBT2tHLEVBQU9sRyxFQUFNdUMsU0FBVTJuQyxJQUdoRSxTQUFTQyxHQUFzQm5xQyxFQUFPa0csRUFBTzVjLEdBQ3pDLE1BQU1nMEMsRUFBa0JwM0IsRUFBTXEzQixJQUMxQkQsRUFBZ0IrRixPQUNoQi9GLEVBQWdCK0YsUUFDcEIsSUFDSW5CLEdBQVlsaUMsRUFBT2tHLEVBQU9sRyxFQUFNdUMsU0FBVWpaLEdBRTlDLE1BQU9uekIsR0FFSCxNQURBZ2dCLEdBQVkrdkIsRUFBTy92QyxHQUNiQSxFQUVWLFFBQ1FtbkUsRUFBZ0JqdUIsS0FDaEJpdUIsRUFBZ0JqdUIsT0FRNUIsU0FBUys2QixHQUF3QmxrQyxHQUM3QjhqQyxHQUFnQjlqQyxFQXQ3U0osSUFtOVNoQixTQUFTdTdCLEdBQW1CbmpDLEVBQU8rckMsRUFBYTVvQixHQUM1QzFtQixXQUFheUIsRUFBYzZ0QyxFQUFhLHFEQUN4Qzc4QixHQUFxQixHQUNyQjY4QixFQUFZL3JDLEVBQU9takIsR0EwQnZCLFNBQVM2b0IsR0FBNkJqOUIsRUFBT3ROLEVBQU93cUMsRUFBYzc5QixLQUFpQjg5QixHQUkvRSxHQUE0QixPQUF4Qm45QixFQUFNWCxLQUNjLE1BQWhCM00sRUFBTTVhLFNBQW1CNGEsRUFBTTVhLE9BQU9vbEQsSUFBZSxFQUM3QnhxQyxFQUFNeWdDLG1CQUFxQnpnQyxFQUFNeWdDLGlCQUFtQixLQUM1RG5rRSxLQUFLcXdDLEdBQ3JCLElBQUkrOUIsRUFBa0JGLEVBQ2xCQyxFQUFtQnJ2RSxPQUFTLElBQzVCc3ZFLEdBQ0l2YyxHQUEwQnNjLEVBQW1CN2hELEtBQUt1bEMsS0FFMUQ3Z0IsRUFBTVgsR0FBZ0IrOUIsR0FJbEMsTUFBTUMsR0FBZ0JuTCxHQUN0QixTQUFTa0csR0FBd0JwN0IsR0FFN0IsT0FBT0EsRUFyZ1RLLEtBcWdUYUEsRUFyZ1RiLEdBcWdUNkJ0UCxVQUFZLElBQUlraEMsR0FBYSxJQUUxRSxTQUFTeUosR0FBd0IxbEMsR0FDN0IsT0FBT0EsRUFBTTJ5QixVQUFZM3lCLEVBQU0yeUIsUUFBVTUzQixVQUFZLElBQUltaEMsR0FBYSxJQU0xRSxTQUFTeU8sR0FBc0JDLEVBQVk3cUMsRUFBT21HLEdBVTlDLE9BSG1CLE9BQWYwa0MsR0FBdUI1a0MsR0FBZTRrQyxNQUN0QzFrQyxFQWppU1IsU0FBcUI5d0MsR0FDakIsS0FBT1gsTUFBTWdOLFFBQVFyTSxJQUFRLENBR3pCLEdBQTJCLGlCQUFoQkEsRUEzaUJOLEdBNGlCRCxPQUFPQSxFQUNYQSxFQUFRQSxFQWxnQkgsR0FvZ0JULE9BQU8sS0F5aFNLeTFFLENBQVkza0MsRUFBTW5HLEVBQU14dEIsU0FFN0IyekIsRUFBTWdFLElBR2pCLFNBQVMvekIsR0FBWSt2QixFQUFPL3ZDLEdBQ3hCLE1BQU11cEQsRUFBV3haLEVBMWhURixHQTJoVFRydUMsRUFBZTZuRCxFQUFXQSxFQUFTbHBELElBQUkwMkQsR0FBYyxNQUFRLEtBQ25FcjFELEdBQWdCQSxFQUFhc2UsWUFBWWhnQixHQVc3QyxTQUFTZ3dFLEdBQXFCbm1DLEVBQU9rRyxFQUFPL2dCLEVBQVE4ZixFQUFZN3ZDLEdBQzVELElBQUssSUFBSXVILEVBQUksRUFBR0EsRUFBSXdvQixFQUFPaHFCLFFBQVMsQ0FDaEMsTUFBTW9YLEVBQVE0UyxFQUFPeG9CLEtBQ2Y4ckMsRUFBY3RqQixFQUFPeG9CLEtBQ3JCeXNCLEVBQVc4YyxFQUFNM3pCLEdBQ3ZCd29CLFdBQWE4QixFQUFtQnFKLEVBQU8zekIsR0FDdkMsTUFBTTR2QixFQUFNbkMsRUFBTXBQLEtBQUtyZSxHQUNGLE9BQWpCNHZCLEVBQUl1QixTQUNKdkIsRUFBSXVCLFNBQVN0YSxFQUFVaDBCLEVBQU82dkMsRUFBWXdELEdBRzFDcmYsRUFBU3FmLEdBQWVyekMsR0FPcEMsU0FBUzAxRSxHQUFvQjVrQyxFQUFPM3pCLEVBQU9uZCxHQUN2QzJsQyxXQUFhaUIsRUFBYTVtQyxFQUFPLDRCQUNqQzJsQyxXQUFhc0IsRUFBY2puQyxFQUFPcWpFLEdBQVcsaUNBQzdDMTlCLFdBQWE4QixFQUFtQnFKLEVBQU8zekIsR0FDdkMsTUFBTXVELEVBQVVrMEIsR0FBaUJ6M0IsRUFBTzJ6QixHQUN4Q25MLFdBQWF5QixFQUFjMW1CLEVBQVMsK0JBQ3BDNjZDLEdBQWV6cUIsRUFBTWdFLElBQVdwMEIsRUFBUzFnQixHQXFCN0MsU0FBUzIxRSxHQUFxQmhyQyxFQUFPZ1MsRUFBT2k1QixHQUN4Q2p3QyxXQUNJK0wsR0FBc0IyRSxLQUFZLHNEQUN0QyxJQUFJaEksRUFBU3VuQyxFQUFjanJDLEVBQU0wRCxPQUFTLEtBQ3RDc1UsRUFBVWl6QixFQUFjanJDLEVBQU1nWSxRQUFVLEtBQ3hDMUwsRUFBTyxFQUNYLEdBQWMsT0FBVjBGLEVBQ0EsSUFBSyxJQUFJcDFDLEVBQUksRUFBR0EsRUFBSW8xQyxFQUFNNTJDLE9BQVF3QixJQUFLLENBQ25DLE1BQU12SCxFQUFRMjhDLEVBQU1wMUMsR0FDQyxpQkFBVnZILEVBQ1BpM0MsRUFBT2ozQyxFQUVNLEdBQVJpM0MsRUFDTDBMLEVBQVU3ZCxFQUF1QjZkLEVBQVMzaUQsR0FFN0IsR0FBUmkzQyxJQUdMNUksRUFBU3ZKLEVBQXVCdUosRUFGbEJydUMsRUFFa0MsS0FEN0IyOEMsSUFBUXAxQyxHQUN5QyxNQUloRnF1RSxFQUFjanJDLEVBQU0wRCxPQUFTQSxFQUFTMUQsRUFBTThnQyxrQkFBb0JwOUIsRUFDaEV1bkMsRUFBY2pyQyxFQUFNZ1ksUUFBVUEsRUFBVWhZLEVBQU0rZ0MsbUJBQXFCL29CLEVBaUJ2RSxTQUFTa3pCLEdBQWN4cEIsR0FDbkIsTUFBTXBYLEVBQU9raUIsR0FBMkI5SyxHQUN4QzBvQixHQUFzQjkvQixFQXRvVFosR0Fzb1R5QkEsRUFBTW9YLEdBVzdDLFNBQVN5cEIsR0FBVXpwQixHQUNmMW1CLFdBQWF5QixFQUFjaWxCLEVBQVcsYUFDdEMsTUFBTTJOLEVBQVcyYSxHQUFjeGQsR0FBMkI5SyxJQUMxRDFtQixXQUFheUIsRUFBYzR5QixFQTdvVGYsR0E2b1RrQyxpQ0E5UWxELFNBQXNCNmEsRUFBYTNyQyxHQUUvQixHQUQrQyxJQUF0QjJyQyxFQUFZM3JDLE9BQ2IyckMsRUFBWWtCLE9BQVM1TCxHQUFnQixDQUl6RCxJQUFJeGxDLEVBREprd0MsRUFBWTNyQyxPQTBRZ0IsRUF4UTVCMnJDLEVBQVlrQixNQUFRLElBQUkzdkUsU0FBU2tGLEdBQU1xNUIsRUFBTXI1QixJQUM3Q3VwRSxFQUFZN2xFLFdBQVUsS0FLbEIsR0FKd0IsRUFBcEI2bEUsRUFBWTNyQyxRQUNaMnJDLEVBQVkzckMsUUFBUyxFQUNyQjByQyxHQUFnQkMsSUFFSSxFQUFwQkEsRUFBWTNyQyxNQUE4QixDQUMxQzJyQyxFQUFZM3JDLFFBQVMsRUFDckIsTUFBTThzQyxFQUFnQm5CLEVBQVltQixjQUM5QkEsR0FDQUEsRUFBY0MsZUFHdEJwQixFQUFZa0IsTUFBUTVMLEdBQ3BCeGxDLEVBQUksVUEwUFp1eEMsQ0FBYWxjLEVBOW9URCxJQWlyVGhCLE1BQU1tYyxHQUFXLElBQUl6eEIsR0FBZSxZQUduQyxHQVNELE1BQU0weEIsR0FDRmgxRSxJQUFJdStCLEVBQU9zSixFQUFnQjZnQixJQUN2QixHQUFJN2dCLElBQWtCNmdCLEdBQW9CLENBQ3RDLE1BQU0vb0QsRUFBUSxJQUFJeWpCLE1BQU0sc0NBQXNDcVIsRUFBVThKLE9BRXhFLE1BREE1K0IsRUFBTW9zQixLQUFPLG9CQUNQcHNCLEVBRVYsT0FBT2tvQyxHQWdCZixNQUFNb3RDLEdBQWlCLElBQUkzeEIsR0FBZSx1QkFZcEM0eEIsR0FBVSxHQVFWQyxHQUFXLEdBSWpCLElBQUlDLEdBQ0osU0FBU0MsS0FJTCxZQUh3Qm56RSxJQUFwQmt6RSxLQUNBQSxHQUFrQixJQUFJSixJQUVuQkksR0FPWCxTQUFTRSxHQUFlQyxFQUFTenBFLEVBQVMsS0FBTTBwRSxFQUFzQixLQUFNenBELEdBQ3hFLE1BQU1tOUIsRUFBV3VzQixHQUF1Q0YsRUFBU3pwRSxFQUFRMHBFLEVBQXFCenBELEdBRTlGLE9BREFtOUIsRUFBU3dzQiwyQkFDRnhzQixFQU9YLFNBQVN1c0IsR0FBdUNGLEVBQVN6cEUsRUFBUyxLQUFNMHBFLEVBQXNCLEtBQU16cEQsR0FDaEcsT0FBTyxJQUFJNHBELEdBQVdKLEVBQVNDLEVBQXFCMXBFLEdBQVV1cEUsS0FBbUJ0cEQsR0FFckYsTUFBTTRwRCxHQUNGbDNFLFlBQVlrdEMsRUFBSzZwQyxFQUFxQjFwRSxFQUFRdEksRUFBUyxNQUNuRDdGLEtBQUttTyxPQUFTQSxFQU1kbk8sS0FBS2k0RSxRQUFVLElBQUlwMkQsSUFJbkI3aEIsS0FBS2s0RSxpQkFBbUIsSUFBSXQ1RCxJQUk1QjVlLEtBQUtreEMsVUFBWSxJQUFJdHlCLElBQ3JCNWUsS0FBS200RSxZQUFhLEVBQ2xCLE1BQU1DLEVBQWEsR0FJbkJQLEdBQ0kvd0IsR0FBWSt3QixHQUFxQnhnRCxHQUFZcjNCLEtBQUtxNEUsZ0JBQWdCaGhELEVBQVUyVyxFQUFLNnBDLEtBQ3JGL3dCLEdBQVksQ0FBQzlZLElBQU1zcUMsR0FBZXQ0RSxLQUFLdTRFLG9CQUFvQkQsRUFBYSxHQUFJRixLQUU1RXA0RSxLQUFLaTRFLFFBQVExMUQsSUFBSTYwRCxHQUFVb0IsUUFBV2owRSxFQUFXdkUsT0FHakQsTUFBTW9hLEVBQVNwYSxLQUFLaTRFLFFBQVE1MUUsSUFBSWkxRSxJQUNoQ3QzRSxLQUFLd3dDLE1BQWtCLE1BQVZwMkIsRUFBaUJBLEVBQU9uWixNQUFRLEtBRTdDakIsS0FBSzZGLE9BQVNBLElBQTBCLGlCQUFSbW9DLEVBQW1CLEtBQU9sWCxFQUFVa1gsSUFLcEU2NkIsZ0JBQ0EsT0FBTzdvRSxLQUFLbTRFLFdBUWhCbFosVUFDSWovRCxLQUFLeTRFLHFCQUVMejRFLEtBQUttNEUsWUFBYSxFQUNsQixJQUVJbjRFLEtBQUtreEMsVUFBVTNxQyxTQUFRbXlFLEdBQVdBLEVBQVF2bkMsZ0JBRTlDLFFBRUlueEMsS0FBS2k0RSxRQUFRbDVELFFBQ2IvZSxLQUFLa3hDLFVBQVVueUIsUUFDZi9lLEtBQUtrNEUsaUJBQWlCbjVELFNBRzlCMWMsSUFBSXUrQixFQUFPc0osRUFBZ0I2Z0IsR0FBb0I1Z0IsRUFBUVAsRUFBWWdCLFNBQy9ENXFDLEtBQUt5NEUscUJBRUwsTUFBTUUsRUFBbUJydEIsR0FBbUJ0ckQsTUFDdEMrZ0QsRUFBK0JqWCxPQUF3QnZsQyxHQUM3RCxJQUVJLEtBQU00bEMsRUFBUVAsRUFBWTZQLFVBQVcsQ0FFakMsSUFBSXIvQixFQUFTcGEsS0FBS2k0RSxRQUFRNTFFLElBQUl1K0IsR0FDOUIsUUFBZXI4QixJQUFYNlYsRUFBc0IsQ0FHdEIsTUFBTTR6QixHQXlVRyxtQkFERS9zQyxFQXhVdUIyL0IsSUEwVTVCLGlCQUFWMy9CLEdBQXNCQSxhQUFpQjBrRCxLQTFVU3pjLEVBQWlCdEksR0FJekR4bUIsRUFIQTR6QixHQUFPaHVDLEtBQUs0NEUscUJBQXFCNXFDLEdBR3hCd3FDLEdBQVdLLEdBQWtDajRDLEdBQVEyMkMsSUFHckQsS0FFYnYzRSxLQUFLaTRFLFFBQVExMUQsSUFBSXFlLEVBQU94bUIsR0FHNUIsR0FBYyxNQUFWQSxFQUNBLE9BQU9wYSxLQUFLODRFLFFBQVFsNEMsRUFBT3htQixHQUtuQyxNQUFNMitELEVBQWlCNXVDLEVBQVFQLEVBQVlpWCxLQUFzQjYyQixLQUFkMTNFLEtBQUttTyxPQU14RCxPQUhBKzdCLEVBQWlCQyxFQUFRUCxFQUFZUyxVQUFhSCxJQUFrQjZnQixHQUNoRSxLQUNBN2dCLEVBQ0c2dUMsRUFBYTEyRSxJQUFJdStCLEVBQU9zSixHQUVuQyxNQUFPMTlCLEdBQ0gsR0FBZSxzQkFBWEEsRUFBRTRoQixLQUE4QixDQUdoQyxJQUZhNWhCLEVBQW9CLGdCQUFJQSxFQUFvQixpQkFBSyxJQUN6RGc1QyxRQUFRMXVCLEVBQVU4SixJQUNuQiszQyxFQUVBLE1BQU1uc0UsRUFJTixPQXR4TXBCLFNBQTRCQSxFQUFHbzBCLEVBQU9vNEMsRUFBbUJuekUsR0FDckQsTUFBTW96RSxFQUFZenNFLEVBQW9CLGdCQU90QyxNQU5JbzBCLEVBQU1xcUIsS0FDTmd1QixFQUFVenpCLFFBQVE1a0IsRUFBTXFxQixLQUU1QnorQyxFQUFFMmhCLFFBS04sU0FBcUJvdkIsRUFBTWpwQyxFQUFLMGtFLEVBQW1CbnpFLEVBQVMsTUFDeEQwM0MsRUFBT0EsR0FBMkIsT0FBbkJBLEVBQUsyN0IsT0FBTyxJQXJKWCxLQXFKMEIzN0IsRUFBSzI3QixPQUFPLEdBQW9CMzdCLEVBQUs2b0IsT0FBTyxHQUFLN29CLEVBQzNGLElBQUlwb0IsRUFBVTJCLEVBQVV4aUIsR0FDeEIsR0FBSWhVLE1BQU1nTixRQUFRZ0gsR0FDZDZnQixFQUFVN2dCLEVBQUkrQyxJQUFJeWYsR0FBV3RDLEtBQUssYUFFakMsR0FBbUIsaUJBQVJsZ0IsRUFBa0IsQ0FDOUIsSUFBSTZrRSxFQUFRLEdBQ1osSUFBSyxJQUFJdDZELEtBQU92SyxFQUNaLEdBQUlBLEVBQUk3VCxlQUFlb2UsR0FBTSxDQUN6QixJQUFJNWQsRUFBUXFULEVBQUl1SyxHQUNoQnM2RCxFQUFNanhFLEtBQUsyVyxFQUFNLEtBQXdCLGlCQUFWNWQsRUFBcUJ5MUIsS0FBS0ksVUFBVTcxQixHQUFTNjFCLEVBQVU3MUIsS0FHOUZrMEIsRUFBVSxJQUFJZ2tELEVBQU0za0QsS0FBSyxTQUU3QixNQUFPLEdBQUd3a0QsSUFBb0JuekUsRUFBUyxJQUFNQSxFQUFTLElBQU0sTUFBTXN2QixPQUFhb29CLEVBQUsrWCxRQUFRdEssR0FBVSxVQXJCMUZvdUIsQ0FBWSxLQUFPNXNFLEVBQUUyaEIsUUFBUzhxRCxFQUFXRCxFQUFtQm56RSxHQUN4RTJHLEVBQWUsWUFBSXlzRSxFQUNuQnpzRSxFQUFvQixnQkFBSSxLQUNsQkEsRUE4d01pQjZzRSxDQUFtQjdzRSxFQUFHbzBCLEVBQU8sa0JBQW1CNWdDLEtBQUs2RixRQUloRSxNQUFNMkcsRUFHZCxRQUVJczlCLEVBQXdCaVgsR0FDeEJ1SyxHQUFtQnF0QixHQTBSL0IsSUFBK0IxM0UsRUF0UjNCODJFLDJCQUNJLzNFLEtBQUtrNEUsaUJBQWlCM3hFLFNBQVFxeEUsR0FBVzUzRSxLQUFLcUMsSUFBSXUxRSxLQUV0RHJqRCxXQUNJLE1BQU0ra0QsRUFBUyxHQUVmLE9BRjZCdDVFLEtBQUtpNEUsUUFDMUIxeEUsU0FBUSxDQUFDNE0sRUFBR3l0QixJQUFVMDRDLEVBQU9weEUsS0FBSzR1QixFQUFVOEosTUFDN0MsY0FBYzA0QyxFQUFPOWtELEtBQUssU0FFckNpa0QscUJBQ0ksR0FBSXo0RSxLQUFLbTRFLFdBQ0wsTUFBTSxJQUFJNXhDLEVBQWEsSUFBc0NLLFdBQWEsd0NBWWxGMnhDLG9CQUFvQmdCLEVBQWlCQyxFQUFTcEIsR0FFMUMsS0FEQW1CLEVBQWtCbHpDLEVBQWtCa3pDLElBRWhDLE9BQU8sRUFLWCxJQUFJdnJDLEVBQU16RSxFQUFlZ3dDLEdBRXpCLE1BQU1FLEVBQW1CLE1BQVB6ckMsR0FBZ0J1ckMsRUFBZ0JFLGVBQVlsMUUsRUFJeERxekUsT0FBd0JyekUsSUFBYmsxRSxFQUEwQkYsRUFBa0JFLEVBRXpEN3lDLFlBQTJDLElBQTlCNHlDLEVBQVExa0QsUUFBUThpRCxJQUc3Qjd3QyxFQUZnQmpRLEVBQVU4Z0QsR0FDYjRCLEVBQVFuaUUsSUFBSXlmLElBSTdCLE1BQU00aUQsR0FBK0MsSUFBakN0QixFQUFXdGpELFFBQVE4aUQsR0FPdkMsUUFKaUJyekUsSUFBYmsxRSxJQUNBenJDLEVBQU16RSxFQUFla3dDLElBR2QsTUFBUHpyQyxFQUNBLE9BQU8sRUFJWCxHQUFtQixNQUFmQSxFQUFJL0UsVUFBb0J5d0MsRUFBYSxDQU1yQyxJQUFJQyxFQUhKL3lDLFdBQWE0eUMsRUFBUXR4RSxLQUFLMHZFLEdBRTFCUSxFQUFXbHdFLEtBQUswdkUsR0FFaEIsSUFDSTl3QixHQUFZOVksRUFBSS9FLFNBQVMyd0MsSUFDakI1NUUsS0FBS3U0RSxvQkFBb0JxQixFQUFVSixFQUFTcEIsVUFDWDd6RSxJQUE3Qm8xRSxJQUNBQSxFQUEyQixJQUcvQkEsRUFBeUJ6eEUsS0FBSzB4RSxPQUkxQyxRQUVJaHpDLFdBQWE0eUMsRUFBUW5tRSxNQUt6QixRQUFpQzlPLElBQTdCbzFFLEVBQ0EsSUFBSyxJQUFJbnhFLEVBQUksRUFBR0EsRUFBSW14RSxFQUF5QjN5RSxPQUFRd0IsSUFBSyxDQUN0RCxNQUFNLFNBQUVpeEUsRUFBUSxVQUFFbDhDLEdBQWNvOEMsRUFBeUJueEUsR0FDekRzK0MsR0FBWXZwQixHQUFXbEcsR0FBWXIzQixLQUFLcTRFLGdCQUFnQmhoRCxFQUFVb2lELEVBQVVsOEMsR0FBYTZQLE9BTXJHcHRDLEtBQUtrNEUsaUJBQWlCOXhFLElBQUl3eEUsR0FDMUIsTUFBTXA0RSxFQUFVK3pDLEdBQWNxa0MsSUFBWSxLQUFPLElBQUlBLEdBQ3JENTNFLEtBQUtpNEUsUUFBUTExRCxJQUFJcTFELEVBQVNZLEdBQVdoNUUsRUFBUyszRSxLQUU5QyxNQUFNc0MsRUFBZTdyQyxFQUFJelEsVUFDekIsR0FBb0IsTUFBaEJzOEMsSUFBeUJILEVBQWEsQ0FDdEMsTUFBTUksRUFBZVAsRUFDckJ6eUIsR0FBWSt5QixHQUFjeGlELEdBQVlyM0IsS0FBS3E0RSxnQkFBZ0JoaEQsRUFBVXlpRCxFQUFjRCxLQUV2RixZQUFxQnQxRSxJQUFiazFFLFFBQzBCbDFFLElBQTlCZzFFLEVBQWdCaDhDLFVBS3hCODZDLGdCQUFnQmhoRCxFQUFVMGlELEVBQWN4OEMsR0FJcEMsSUFBSXFELEVBQVFvNUMsR0FEWjNpRCxFQUFXZ1AsRUFBa0JoUCxJQUNVQSxFQUFXZ1AsRUFBa0JoUCxHQUFZQSxFQUFTOHpCLFNBRXpGLE1BQU0vd0MsRUE0RmQsU0FBMEJpZCxFQUFVMGlELEVBQWN4OEMsR0FDOUMsT0FBSTA4QyxHQUFnQjVpRCxHQUNUbWhELFFBQVdqMEUsRUFBVzh5QixFQUFTK3pCLFVBSS9Cb3RCLEdBRFMwQixHQUFrQjdpRCxFQUFVMGlELEVBQWN4OEMsR0FDL0JnNkMsSUFsR1o0QyxDQUFpQjlpRCxFQUFVMGlELEVBQWN4OEMsR0FDeEQsR0FBS3k4QyxHQUFlM2lELEtBQWdDLElBQW5CQSxFQUFTK2lELE1Ba0JyQyxDQUNELE1BQU1DLEVBQVdyNkUsS0FBS2k0RSxRQUFRNTFFLElBQUl1K0IsR0FDOUJnRyxXQUFheXpDLFFBQStCOTFFLElBQW5CODFFLEVBQVNELE9BQ2xDbHpDLFFBckJrRCxDQUd0RCxJQUFJb3pDLEVBQWN0NkUsS0FBS2k0RSxRQUFRNTFFLElBQUl1K0IsR0FDL0IwNUMsRUFFSTF6QyxnQkFBbUNyaUMsSUFBdEIrMUUsRUFBWUYsT0FDekJsekMsS0FJSm96QyxFQUFjOUIsUUFBV2owRSxFQUFXZ3pFLElBQVMsR0FDN0MrQyxFQUFZOTZFLFFBQVUsSUFBTW1zRCxHQUFXMnVCLEVBQVlGLE9BQ25EcDZFLEtBQUtpNEUsUUFBUTExRCxJQUFJcWUsRUFBTzA1QyxJQUU1QjE1QyxFQUFRdkosRUFDUmlqRCxFQUFZRixNQUFNbHlFLEtBQUttdkIsR0FRM0JyM0IsS0FBS2k0RSxRQUFRMTFELElBQUlxZSxFQUFPeG1CLEdBRTVCMCtELFFBQVFsNEMsRUFBT3htQixHQXdJbkIsSUFBc0JuWixFQTdIZCxPQVZJMmxDLFdBQWF4c0IsRUFBT25aLFFBQVV1MkUsR0FDOUJ6d0MsRUFBMkJqUSxFQUFVOEosSUFFaEN4bUIsRUFBT25aLFFBQVVzMkUsS0FDdEJuOUQsRUFBT25aLE1BQVF1MkUsR0FDZnA5RCxFQUFPblosTUFBUW1aLEVBQU81YSxXQUVFLGlCQUFqQjRhLEVBQU9uWixPQUFzQm1aLEVBQU9uWixPQWlJbEMsUUFEQ0EsRUFoSXVEbVosRUFBT25aLFFBaUl0QyxpQkFBVkEsR0FDQyxtQkFBdEJBLEVBQU1rd0MsYUFqSVRueEMsS0FBS2t4QyxVQUFVOXFDLElBQUlnVSxFQUFPblosT0FFdkJtWixFQUFPblosTUFFbEIyM0UscUJBQXFCNXFDLEdBQ2pCLElBQUtBLEVBQUlqRixXQUNMLE9BQU8sRUFFWCxNQUFNQSxFQUFhMUMsRUFBa0IySCxFQUFJakYsWUFDekMsTUFBMEIsaUJBQWZBLEVBQ2UsUUFBZkEsR0FBeUJBLElBQWUvb0MsS0FBS3d3QyxNQUc3Q3h3QyxLQUFLazRFLGlCQUFpQnA1RCxJQUFJaXFCLElBSTdDLFNBQVM4dkMsR0FBa0NqNEMsR0FFdkMsTUFBTXdKLEVBQWdCbEIsRUFBaUJ0SSxHQUNqQ3BoQyxFQUE0QixPQUFsQjRxQyxFQUF5QkEsRUFBYzVxQyxRQUFVK3pDLEdBQWMzUyxHQUMvRSxHQUFnQixPQUFacGhDLEVBQ0EsT0FBT0EsRUFJWCxHQUFJb2hDLGFBQWlCK2tCLEdBQ2pCLE1BQU0sSUFBSXBmLEVBQWEsSUFBbUNLLFdBQWEsU0FBUzlQLEVBQVU4SixxQ0FHOUYsR0FBSUEsYUFBaUJ2MUIsU0FDakIsT0FLUixTQUF5Q3UxQixHQUVyQyxNQUFNMjVDLEVBQWMzNUMsRUFBTTU1QixPQUMxQixHQUFJdXpFLEVBQWMsRUFBRyxDQUNqQixNQUFNM3BFLEVBQU9xMkMsR0FBU3N6QixFQUFhLEtBQ25DLE1BQU0sSUFBSWgwQyxFQUFhLElBQW1DSyxXQUFhLG9DQUFvQzlQLEVBQVU4SixRQUFZaHdCLEVBQUs0akIsS0FBSyxXQU8vSSxNQUFNZ21ELEVBM3pWVixTQUFtQzMrQyxHQUMvQixNQUFNbVMsRUFBTW5TLElBQVNBLEVBQUt1TixJQUFnQnZOLEVBQUt3TixJQUMvQyxHQUFJMkUsRUFBSyxDQUNMLE1BQU15c0MsRUFZZCxTQUFxQjUrQyxHQU9qQixHQUFJQSxFQUFLcDdCLGVBQWUsUUFDcEIsT0FBT283QixFQUFLek4sS0FFaEIsTUFBTXVrQyxHQUFTLEdBQUs5MkIsR0FBTTgyQixNQUFNLHlCQUNoQyxPQUFpQixPQUFWQSxFQUFpQixHQUFLQSxFQUFNLEdBdkJkcEQsQ0FBWTF6QixHQUs3QixPQUZBakYsUUFBUWc4QixLQUFLLDRDQUE0QzZuQiwyS0FDeUNBLGFBQzNGenNDLEVBR1AsT0FBTyxLQWd6Vm9CMHNDLENBQTBCOTVDLEdBQ3pELE9BQStCLE9BQTNCNDVDLEVBQ08sSUFBTUEsRUFBdUJoN0UsUUFBUW9oQyxHQUdyQyxJQUFNLElBQUlBLEVBdEJWKzVDLENBQWdDLzVDLEdBRzNDLE1BQU0sSUFBSTJGLEVBQWEsSUFBbUNLLFdBQWEsZUFvQzNFLFNBQVNzekMsR0FBa0I3aUQsRUFBVTBpRCxFQUFjeDhDLEdBQy9DLElBQUkvOUIsRUFDSixHQUFJdzZFLEdBQWUzaUQsR0FBVyxDQUMxQixNQUFNdWpELEVBQW9CdjBDLEVBQWtCaFAsR0FDNUMsT0FBT2tjLEdBQWNxbkMsSUFBc0IvQixHQUFrQytCLEdBRzdFLEdBQUlYLEdBQWdCNWlELEdBQ2hCNzNCLEVBQVUsSUFBTTZtQyxFQUFrQmhQLEVBQVMrekIsZUFFMUMsSUFtQ2NucUQsRUFuQ1FvMkIsSUFvQ1pwMkIsRUFBTTQ1RSxXQW5DakJyN0UsRUFBVSxJQUFNNjNCLEVBQVN3akQsY0FBY2x2QixHQUFXdDBCLEVBQVNnMUIsTUFBUSxVQUVsRSxHQTZCYixTQUE0QnByRCxHQUN4QixTQUFVQSxJQUFTQSxFQUFNNjVFLGFBOUJaQyxDQUFtQjFqRCxHQUN4QjczQixFQUFVLElBQU0sR0FBUzZtQyxFQUFrQmhQLEVBQVN5akQsa0JBRW5ELENBQ0QsTUFBTUUsRUFBVzMwQyxFQUFrQmhQLElBQzlCQSxFQUFTNGpELFVBQVk1akQsRUFBUzh6QixVQUluQyxHQUhJdmtCLFlBQWNvMEMsR0EzaVc5QixTQUFtQ2pCLEVBQWN4OEMsRUFBV2xHLEdBQ3hELElBQUk2akQsRUFBaUIsR0FNckIsTUFMSW5CLEdBQWdCeDhDLElBRWhCMjlDLEVBQ0ksNkRBRm1CMzlDLEVBQVVsbUIsS0FBSWxFLEdBQUtBLEdBQUtra0IsRUFBVyxJQUFNQSxFQUFXLElBQU0sUUFFRDdDLEtBQUssVUFFbkYsSUFBSS9PLE1BQU0sc0NBQXNDcVIsRUFBVWlqRCxNQUFtQm1CLEdBcWlXdkVDLENBQTBCcEIsRUFBY3g4QyxFQUFXbEcsSUFrQ25FLFNBQWlCcDJCLEdBQ2IsUUFBU0EsRUFBTW9yRCxLQWpDSCt1QixDQUFRL2pELEdBSVIsT0FBT2tjLEdBQWN5bkMsSUFBYW5DLEdBQWtDbUMsR0FIcEV4N0UsRUFBVSxJQUFNLElBQUksS0FBY21zRCxHQUFXdDBCLEVBQVNnMUIsT0FzQnRFLElBQTJCcHJELEVBZnZCLE9BQU96QixFQUVYLFNBQVNnNUUsR0FBV2g1RSxFQUFTeUIsRUFBT201RSxHQUFRLEdBQ3hDLE1BQU8sQ0FDSDU2RSxRQUFTQSxFQUNUeUIsTUFBT0EsRUFDUG01RSxNQUFPQSxFQUFRLFFBQUs3MUUsR0FHNUIsU0FBUzAxRSxHQUFnQmg1RSxHQUNyQixPQUFpQixPQUFWQSxHQUFrQyxpQkFBVEEsR0FBcUJpcUQsTUFBZWpxRCxFQVF4RSxTQUFTKzRFLEdBQWUvNEUsR0FDcEIsTUFBd0IsbUJBQVZBLEVBZ0RsQixNQUFNbzZFLEdBQ0ZDLGNBQWMzeEQsRUFBU3hiLEdBQ25CLElBQUl2TSxFQUNKLEdBQUl0QixNQUFNZ04sUUFBUXFjLEdBQ2QsT0FBT2d1RCxHQUFlLENBQUV2cEQsS0FBTSxJQUFNamdCLEVBQVF3YixFQUFTLElBRXBELENBQ0QsTUFBTXlFLEVBQStCLFFBQXZCeHNCLEVBQUsrbkIsRUFBUXlFLFlBQXlCLElBQVB4c0IsRUFBZ0JBLEVBQUssR0FDbEUsT0FBTysxRSxHQUFlLENBQUV2cEQsS0FBQUEsR0FBUXpFLEVBQVF4YixPQUFRd2IsRUFBUTRULFVBQVduUCxLQW9EL0UsU0FBU210RCxHQUFlNTVELEdBQ3BCNjVELEdBQWlCNzVELEdBQ2pCLE1BQU13VCxFQUFVK2hDLEdBQVl2MUMsR0FDNUIsT0FBZ0IsT0FBWndULEVBQ08sV0FDZTV3QixJQUF0QjR3QixFQUFRbTRCLFlBQ1JuNEIsRUFBUW00QixVQXJvS2hCLFNBQWlDbFgsRUFBV3JFLEdBQ3hDLE1BQU1uRyxFQUFRbUcsRUFob0tKLEdBZ29LaUJ0VixLQUFLMlosR0FDaEMsSUFBSXVpQixFQUFzQi9zQixFQUFNcVAsZUFDaEMsT0FBcUIsRUFBZHJQLEVBQU16QixNQUFrQzRILEVBQU00bUIsR0FBdUIsS0Frb0twRDhpQixDQUF3QnRtRCxFQUFRaWhCLFVBQVdqaEIsRUFBUTRjLFFBRXBFNWMsRUFBUW00QixXQWNuQixTQUFTb3VCLEdBQVcvNUQsR0FDaEI2NUQsR0FBaUI3NUQsR0FDakIsTUFBTXdULEVBQVUraEMsR0FBWXYxQyxHQUM1QixPQUFtQixPQUFad1QsRUFBbUIsS0FBT0EsRUFBUTRjLE1BaHhVN0IsR0FpeVVoQixTQUFTNHBDLEdBQW1CQyxHQUN4QixNQUFNem1ELEVBQVUraEMsR0FBWTBrQixHQUM1QixHQUFnQixPQUFaem1ELEVBQ0EsT0FBTyxLQUNYLElBQ0lobkIsRUFEQTRqQyxFQUFRNWMsRUFBUTRjLE1BR3BCLElBREFuTCxXQUFhOEwsR0FBWVgsR0FDSSxJQUF0QkEsRUEveVVHLEdBK3lVVWxXLE9BQThCMXRCLEVBQVMyc0QsR0FBZS9vQixLQUN0RUEsRUFBUTVqQyxFQUVaLE9BQXNCLElBQWY0akMsRUFqelVHLEdBaXpVK0IsS0FBT0EsRUEzeVVwQyxHQXd6VWhCLFNBQVM4cEMsR0FBa0JELEdBQ3ZCLE1BQU8sSUFBSTdnQixHQUFlNmdCLEdBQWNwakIsWUFZNUMsU0FBU3NqQixHQUFZRixHQUNqQixNQUFNem1ELEVBQVUraEMsR0FBWTBrQixHQUM1QixHQUFnQixPQUFaem1ELEVBQ0EsT0FBT2ttRCxHQUFTVSxLQUNwQixNQUFNbndDLEVBQVF6VyxFQUFRNGMsTUFoMVVaLEdBZzFVeUJ0VixLQUFLdEgsRUFBUWloQixXQUNoRCxPQUFPLElBQUl1TCxHQUFhL1YsRUFBT3pXLEVBQVE0YyxPQXVEM0MsU0FBU2lxQyxHQUFjeHpDLEdBRW5CLEdBQUlBLGFBQWdCeXpDLEtBQ2hCLE1BQU8sR0FFWCxNQUFNOW1ELEVBQVUraEMsR0FBWTF1QixHQUM1QixHQUFnQixPQUFaclQsRUFDQSxNQUFPLEdBRVgsTUFBTTRjLEVBQVE1YyxFQUFRNGMsTUFDaEJsRyxFQUFRa0csRUFsNVVKLEdBbTVVSnFFLEVBQVlqaEIsRUFBUWloQixVQUMxQixPQUFNdkssTUFBQUEsT0FBcUMsRUFBU0EsRUFBTXBQLEtBQUsyWixVQUdwQzd4QyxJQUF2QjR3QixFQUFRdWEsYUFDUnZhLEVBQVF1YSxXQUFha29CLEdBQXlCeGhCLEVBQVdyRSxHQUFPLElBSXRDLE9BQXZCNWMsRUFBUXVhLFdBQXNCLEdBQUssSUFBSXZhLEVBQVF1YSxhQVAzQyxHQW9CZixTQUFTd3NDLEdBQXVCQyxHQUM1QixNQUFNLFlBQUVyN0UsR0FBZ0JxN0UsRUFDeEIsSUFBS3I3RSxFQUNELE1BQU0sSUFBSTJrQixNQUFNLDJDQUlwQixNQUFNMjJELEVBQWVuc0MsR0FBZ0JudkMsR0FDckMsR0FBSXM3RSxFQUNBLE1BQU8sQ0FDSHByRCxPQUFRb3JELEVBQWFwckQsT0FDckIwUSxRQUFTMDZDLEVBQWExNkMsUUFDdEIwTixjQUFlZ3RDLEVBQWFodEMsY0FDNUJQLGdCQUFpQnV0QyxFQUFheHRDLE9BQVNyRSxFQUF3QnVFLE9BQzNEdkUsRUFBd0JLLFNBR3BDLE1BQU13USxFQUFlbEwsR0FBZ0JwdkMsR0FDckMsT0FBSXM2QyxFQUNPLENBQUVwcUIsT0FBUW9xQixFQUFhcHFCLE9BQVEwUSxRQUFTMFosRUFBYTFaLFNBRXpELEtBOEJYLFNBQVMyNkMsR0FBZUMsR0FDcEIsT0FBT3BsQixHQUFZb2xCLEdBQXNCMytCLE9BK0M3QyxTQUFTNCtCLEdBQWE1NkQsR0FDbEI2NUQsR0FBaUI3NUQsR0FDakIsTUFBTTY2RCxFQUFXdGxCLEdBQVl2MUMsR0FDN0IsR0FBaUIsT0FBYjY2RCxFQUNBLE1BQU8sR0FDWCxNQUFNenFDLEVBQVF5cUMsRUFBU3pxQyxNQUNqQmxHLEVBQVFrRyxFQWxoVkosR0FtaFZKMHNCLEVBQVcxc0IsRUE3Z1ZMLEdBOGdWTndzQixFQUFXMXlCLEVBQU0yeUIsUUFDakJpZSxFQUFZLEdBQ2xCLEdBQUlsZSxHQUFZRSxFQUNaLElBQUssSUFBSWoyRCxFQUFJLEVBQUdBLEVBQUkrMUQsRUFBU3YzRCxRQUFTLENBQ2xDLE1BQU0wMUUsRUFBYW5lLEVBQVMvMUQsS0FDdEJtMEUsRUFBY3BlLEVBQVMvMUQsS0FDN0IsR0FBMEIsaUJBQWZrMEUsRUFBeUIsQ0FDaEMsTUFBTXR1RCxFQUFPc3VELEVBQ1BFLEVBQWtCaG5DLEdBQVk3RCxFQUFNNHFDLElBQ3BDMTdELEVBQVd3OUMsRUFBU0YsRUFBUy8xRCxNQUM3QnEwRSxFQUFtQnRlLEVBQVMvMUQsS0FJNUJxekIsRUFBb0Msa0JBQXJCZ2hELEdBQWtDQSxHQUFvQixFQUFLLE1BQVEsU0FDbEZDLEVBQXlDLGtCQUFyQkQsR0FBaUNBLEVBQ3ZEbDdELEdBQVdpN0QsR0FDWEgsRUFBVXYwRSxLQUFLLENBQUV5WixRQUFBQSxFQUFTeU0sS0FBQUEsRUFBTW5OLFNBQUFBLEVBQVU2N0QsV0FBQUEsRUFBWWpoRCxLQUFBQSxLQU10RSxPQURBNGdELEVBQVV2aEQsS0FBSzZoRCxJQUNSTixFQUVYLFNBQVNNLEdBQWM3OUQsRUFBR2hmLEdBQ3RCLE9BQUlnZixFQUFFa1AsTUFBUWx1QixFQUFFa3VCLEtBQ0wsRUFDSmxQLEVBQUVrUCxLQUFPbHVCLEVBQUVrdUIsTUFBUSxFQUFJLEVBcURsQyxTQUFTb3RELEdBQWlCdjZFLEdBQ3RCLEdBQXVCLG9CQUFaKzdFLFdBQTZCLzdFLGFBQWlCKzdFLFNBQ3JELE1BQU0sSUFBSXYzRCxNQUFNLHFDQW9CeEIsU0FBU3czRCxHQUFhM3ZCLEdBQ2xCeXBCLEdBQVV6cEIsR0FDVnV1QixHQUFrQnZ1QixHQUFXL21ELFNBQVF3dkUsR0FBaUJlLEdBQWNmLEtBL2F4RXNGLEdBQVN0d0IsbUJBQXFCQSxHQUM5QnN3QixHQUFTVSxLQUFPLElBQXFCMUUsR0FFckNnRSxHQUFTLE1BQVEsRUFBbUIsQ0FDaEN6NkMsTUFBT3k2QyxHQUNQdHlDLFdBQVksTUFDWnZwQyxRQUFTLElBQU0sR0FBUzQzRSxNQU01QmlFLEdBQVN6dEMsbUJBQXFCLEVBNGI5QixJQUFJc3ZDLElBQWEsRUFPakIsU0FBU0MsS0FDQUQsS0FDREEsSUFBYSxFQU1iRSxHQUFrQixlQUFnQnhvQyxJQUNsQ3dvQyxHQUFrQix1QkFBd0JsQixJQUMxQ2tCLEdBQWtCLGVBQWdCN0IsSUFDbEM2QixHQUFrQixhQUFjMUIsSUFDaEMwQixHQUFrQixlQUFnQmIsSUFDbENhLEdBQWtCLHFCQUFzQnpCLElBQ3hDeUIsR0FBa0IsaUJBQWtCZixJQUNwQ2UsR0FBa0IsY0FBZXRCLElBQ2pDc0IsR0FBa0Isb0JBQXFCdkIsSUFDdkN1QixHQUFrQixnQkFBaUJwQixJQUNuQ29CLEdBQWtCLGVBQWdCSCxLQU8xQyxTQUFTRyxHQUFrQmh2RCxFQUFNN2lCLEdBQzdCLEdBQXdCLG9CQUFiOHhFLFdBQTZCQSxTQUFVLENBSzlDLE1BQU1DLEVBQUlqeUMsR0FFVixHQURBekUsV0FBYXlCLEVBQWM5OEIsRUFBSSx3QkFDM0IreEUsRUFBRyxDQUNILElBQUk5aEIsRUFBWThoQixFQUE0QixHQUN2QzloQixJQUNEQSxFQUFZOGhCLEVBQTRCLEdBQUksSUFFaEQ5aEIsRUFBVXB0QyxHQUFRN2lCLElBK0I5QixTQUFTZ3lFLEdBQWdCQyxFQUE4RTEwQyxFQUFPLElBQzFHbEMsV0FBYXUyQyxLQUNidjJDLFdBQWEwTCxHQUFvQmtyQyxHQUNqQyxNQUFNclUsRUFBa0JyZ0MsRUFBS3FnQyxpQkFBbUIzekIsR0FDMUNxZ0IsRUFBWS9zQixFQUFLK3NCLFdBQWEsS0FDOUJ1bUIsRUFBZW5zQyxHQUFnQnV0QyxHQUNqQ3BCLEVBQWF2Z0QsTUFBUTJoRCxJQUNyQnBCLEVBQWF2Z0QsS0FBTzJoRCxHQUV4QixNQUFNQyxFQUFlckIsRUFBYW50QyxVQUFVLEdBQUcsR0FFekN5dUMsRUFBWTdNLEdBREcxSCxFQUFnQjF6QixlQUFlLEtBQU0sTUFDUjNNLEVBQUt0SSxNQUFRaTlDLEVBQWNyQixFQUFhaHRDLGVBQ3BGdXVDLEVBQVl2QixFQUFheHRDLE9BQVMsSUFDcEMsSUFDRWtuQyxFQUFjOEgsR0FBa0I5MEMsRUFBSzc0QixVQUFXNjRCLEVBQUttdUMsZUFDckQxaEMsRUFBVzR6QixFQUFnQjF6QixlQUFlaW9DLEVBQVd0QixHQUNyRHlCLEVBQVl6TixHQUFZLEVBQWMsS0FBTSxLQUFNLEVBQUcsRUFBRyxLQUFNLEtBQU0sS0FBTSxLQUFNLE1BQ2hGblYsRUFBV3VRLEdBQVksS0FBTXFTLEVBQVcvSCxFQUFhNkgsRUFBVyxLQUFNLEtBQU14VSxFQUFpQjV6QixFQUFVLEtBQU16TSxFQUFLeWlCLFVBQVksTUFFcEksSUFBSStCLEVBREp2VCxHQUFVa2hCLEdBRVYsSUFDUWtPLEVBQWdCK0YsT0FDaEIvRixFQUFnQitGLFFBRXBCNWhCLEVBQVl3d0IsR0FEVUMsR0FBd0JMLEVBQVd0QixFQUFjbmhCLEVBQVVrTyxFQUFpQjV6QixFQUFVc2dCLEdBQzdEdW1CLEVBQWNuaEIsRUFBVTZhLEVBQWFodEMsRUFBS2sxQyxjQUFnQixNQUV6RzNRLEdBQVd3USxFQUFXNWlCLEVBQVUsTUFFaEM4UyxHQUFZOFAsRUFBVzVpQixFQUFVLEtBQU0sTUFFM0MsUUFDSXJnQixLQUNJdXVCLEVBQWdCanVCLEtBQ2hCaXVCLEVBQWdCanVCLE1BRXhCLE9BQU9vUyxFQWNYLFNBQVN5d0IsR0FBd0JsaUIsRUFBTzd0QixFQUFLaXRCLEVBQVVrTyxFQUFpQjhVLEVBQWNwb0IsR0FDbEYsTUFBTWhxQixFQUFRb3ZCLEVBcHhWSixHQXN4VlZyMEIsV0FBYThCLEVBQW1CdXlCLEVBRGxCM3BCLElBRWQycEIsRUFGYzNwQixJQUVJdXFCLEVBSWxCLE1BQU1qd0IsRUFBUW1nQyxHQUFpQmxnQyxFQU5qQnlGLEdBTStCLEVBQWlCLFFBQVMsTUFDakVnN0IsRUFBYzFnQyxFQUFNMGdDLFlBQWN0K0IsRUFBSVMsVUFDeEIsT0FBaEI2OUIsSUFDQXNLLEdBQXFCaHJDLEVBQU8wZ0MsR0FBYSxHQUMzQixPQUFWelEsSUFDQW5lLEdBQWdCdWdDLEVBQWNwaUIsRUFBT3lRLEdBQ2YsT0FBbEIxZ0MsRUFBTWdZLFNBQ05tZSxHQUFpQmtjLEVBQWNwaUIsRUFBT2p3QixFQUFNZ1ksU0FFM0IsT0FBakJoWSxFQUFNMEQsUUFDTnV5QixHQUFpQm9jLEVBQWNwaUIsRUFBT2p3QixFQUFNMEQsVUFJeEQsTUFBTTR1QyxFQUFlL1UsRUFBZ0IxekIsZUFBZW9tQixFQUFPN3RCLEdBQ3JENG1DLEVBQWdCcEosR0FBWXZRLEVBQVVrVixHQUEwQm5pQyxHQUFNLEtBQU1BLEVBQUlZLE9BQVMsR0FBaUIsR0FBc0Jxc0IsRUFyQnhIM3BCLElBcUJ5STFGLEVBQU91OUIsRUFBaUIrVSxFQUFjcm9CLEdBQWEsS0FBTSxNQVFoTixPQVBJaHFCLEVBQU1GLGtCQUNOMlUsR0FBbUJiLEdBQStCN1QsRUFBT3F2QixHQUFXcHZCLEVBQU9tQyxFQUFJblMsTUFDL0VxM0MsR0FBb0JybkMsRUFBT0QsR0FDM0J5bkMsR0FBZXpuQyxFQUFPcXZCLEVBQVNqMEQsT0FBUSxJQUUzQzZ0RSxHQUFjNVosRUFBVTJaLEdBRWpCM1osRUE3Qk8zcEIsSUE2QldzakMsRUFNN0IsU0FBU2tKLEdBQW9CbEosRUFBZXdILEVBQWMrQixFQUFXckksRUFBYWtJLEdBQzlFLE1BQU1ueUMsRUFBUXN5QyxFQXp6VkosR0EyelZKN3dCLEVBL2pFVixTQUFrQ3poQixFQUFPa0csRUFBTy9ELEdBQzVDLE1BQU1vd0MsRUFBWTNtQyxLQUNsQixHQUFJNUwsRUFBTUYsZ0JBQWlCLENBQ25CcUMsRUFBSUMsbUJBQ0pELEVBQUlDLGtCQUFrQkQsR0FDMUIsTUFBTTRVLEVBQWlCc3FCLEdBQWFyaEMsRUFBT2tHLEVBQU8sRUFBRyxNQUNyRG5MLFdBQ0lrQixFQUFZOGEsRUFBZ0J3N0IsRUFBVW5qQyxlQUFnQiw0RkFDMUR1NEIsR0FBMkIzbkMsRUFBT3V5QyxFQUFXcnNDLEVBQU82USxFQUFnQjVVLEdBRXhFLE1BQU02TyxFQUFZa0YsR0FBa0JoUSxFQUFPbEcsRUFBT3V5QyxFQUFVbmpDLGVBQWdCbWpDLEdBQzVFcG1CLEdBQWdCbmIsRUFBVzlLLEdBQzNCLE1BQU00TCxFQUFTN0gsR0FBaUJzb0MsRUFBV3JzQyxHQUkzQyxPQUhJNEwsR0FDQXFhLEdBQWdCcmEsRUFBUTVMLEdBRXJCOEssRUEraUVXd2hDLENBQXlCeHlDLEVBQU9zeUMsRUFBVy9CLEdBTTdELEdBTEF0RyxFQUFZdGQsV0FBV3R3RCxLQUFLb2xELEdBQzVCc25CLEVBdHpWWSxHQXN6VmF0bkIsRUFDekIwd0IsR0FBZ0JBLEVBQWF6M0UsU0FBU29wQyxHQUFZQSxFQUFRMmQsRUFBVzh1QixLQUdqRUEsRUFBYTF0QyxlQUFnQixDQUM3QixNQUFNOUMsRUFBUTZMLEtBQ2Q3USxXQUFheUIsRUFBY3VELEVBQU8sa0JBQ2xDd3dDLEVBQWExdEMsZUFBZSxFQUFnQjRlLEVBQVcxaEIsRUFBTXFQLGdCQUVqRSxNQUFNbWpDLEVBQVkzbUMsS0FTbEIsT0FSQTdRLFdBQWF5QixFQUFjKzFDLEVBQVcsMkNBQ2xDdnlDLEVBQU1GLGlCQUN5QixPQUE5Qnl3QyxFQUFhN3RDLGNBQW9ELE9BQTNCNnRDLEVBQWEzdEMsWUFDcERxTSxHQUFpQnNqQyxFQUFVaGdFLE9BRTNCZzJELEdBRGtCK0osRUEzMFZaLEdBNDBWZ0NDLEVBQVdELEVBQVdDLEVBQVVuakMsZUFBZ0JtakMsRUFBVWpqQyxhQUFjaWhDLEdBQzlHdk0sR0FBaUN1TSxFQUFjOXVCLElBRTVDQSxFQUVYLFNBQVNzd0IsR0FBa0IzdEUsRUFBV2duRSxHQUNsQyxNQUFPLENBQ0h6ZSxXQUFZLEdBQ1p2b0QsVUFBV0EsR0FBYTBwRCxHQUN4QnFkLE1BQU9ULEdBQ1BVLGNBQWVBLEdBQWlCLEtBQ2hDOXNDLE1BQU8sR0FnQmYsU0FBU20wQyxHQUFzQmh4QixFQUFXdGYsR0FDdEMsTUFBTStELEVBQVF1bUIsR0FBaUJoTCxHQUMvQjFtQixXQUFheUIsRUFBYzBKLEVBQU8scUJBQ2xDLE1BQU1sRyxFQUFRa0csRUExMlZKLEdBMjJWSm5HLEVBQVE2TCxLQUNkN1EsV0FBYXlCLEVBQWN1RCxFQUFPLHFCQUNsQ29QLEdBQXVCblAsRUFBT0QsR0FrQmxDLFNBQVMyeUMsR0FBYWp4QixHQUNsQixPQUFPeU4sR0FBZXpOLEdBQVcwcEIsTUFVckMsU0FBU3dILEdBQWEzaUQsR0FDbEIsT0FBTzE3QixPQUFPczBCLGVBQWVvSCxFQUFLcjdCLFdBQVdNLFlBUWpELFNBQVMsR0FBMkJpekMsR0FDaEMsSUFBSTBxQyxFQUFZRCxHQUFhenFDLEVBQVdsWSxNQUNwQzZpRCxHQUFzQixFQUMxQixNQUFNQyxFQUFtQixDQUFDNXFDLEdBQzFCLEtBQU8wcUMsR0FBVyxDQUNkLElBQUlHLEVBQ0osR0FBSS9zQyxHQUFla0MsR0FFZjZxQyxFQUFXSCxFQUFVLE1BQVFBLEVBQVUsU0FFdEMsQ0FDRCxHQUFJQSxFQUFVLEtBQU0sQ0FDaEIsTUFBTTkzQyxFQUFxQyxvQkFBZEMsV0FBNkJBLFVBQ3RELHVDQUNBLEdBQ0osTUFBTSxJQUFJTCxFQUFhLElBQStCSSxHQUcxRGk0QyxFQUFXSCxFQUFVLEtBRXpCLEdBQUlHLEVBQVUsQ0FDVixHQUFJRixFQUFxQixDQUNyQkMsRUFBaUJ6MkUsS0FBSzAyRSxHQUd0QixNQUFNQyxFQUFlOXFDLEVBQ3JCOHFDLEVBQWE3dEQsT0FBUzh0RCxHQUFpQi9xQyxFQUFXL2lCLFFBQ2xENnRELEVBQWE5d0MsZUFBaUIrd0MsR0FBaUIvcUMsRUFBV2hHLGdCQUMxRDh3QyxFQUFhbjlDLFFBQVVvOUMsR0FBaUIvcUMsRUFBV3JTLFNBRW5ELE1BQU1xOUMsRUFBb0JILEVBQVNyd0MsYUFDbkN3d0MsR0FBcUJDLEdBQW9CanJDLEVBQVlnckMsR0FFckQsTUFBTUUsRUFBaUJMLEVBQVMxdkMsVUFDMUJnd0MsRUFBc0JOLEVBQVNsd0MsZUFTckMsR0FSQXV3QyxHQUFrQkUsR0FBaUJwckMsRUFBWWtyQyxHQUMvQ0MsR0FBdUJFLEdBQXNCcnJDLEVBQVltckMsR0FFekR6NUMsRUFBZXNPLEVBQVcvaUIsT0FBUTR0RCxFQUFTNXRELFFBQzNDeVUsRUFBZXNPLEVBQVdoRyxlQUFnQjZ3QyxFQUFTN3dDLGdCQUNuRHRJLEVBQWVzTyxFQUFXclMsUUFBU2s5QyxFQUFTbDlDLFNBR3hDbVEsR0FBZStzQyxJQUFhQSxFQUFTbmlELEtBQUs0aUQsVUFBVyxDQUdyRCxNQUFNQyxFQUFVdnJDLEVBQVd0WCxLQUMzQjZpRCxFQUFRRCxXQUFhQyxFQUFRRCxXQUFhLElBQUlqdUUsT0FBT3d0RSxFQUFTbmlELEtBQUs0aUQsWUFJM0UsTUFBTWx3QyxFQUFXeXZDLEVBQVN6dkMsU0FDMUIsR0FBSUEsRUFDQSxJQUFLLElBQUkzbUMsRUFBSSxFQUFHQSxFQUFJMm1DLEVBQVNub0MsT0FBUXdCLElBQUssQ0FDdEMsTUFBTW1uQyxFQUFVUixFQUFTM21DLEdBQ3JCbW5DLEdBQVdBLEVBQVErRSxXQUNuQi9FLEVBQVFvRSxHQVNScEUsSUFBWSxLQUNaK3VDLEdBQXNCLElBS3RDRCxFQUFZdCtFLE9BQU9zMEIsZUFBZWdxRCxJQVcxQyxTQUF5Q0UsR0FDckMsSUFBSW53QyxFQUFXLEVBQ1hDLEVBQVksS0FFaEIsSUFBSyxJQUFJam1DLEVBQUltMkUsRUFBaUIzM0UsT0FBUyxFQUFHd0IsR0FBSyxFQUFHQSxJQUFLLENBQ25ELE1BQU13bEMsRUFBTTJ3QyxFQUFpQm4yRSxHQUU3QndsQyxFQUFJUSxTQUFZQSxHQUFZUixFQUFJUSxTQUVoQ1IsRUFBSVMsVUFDQStQLEdBQWV4USxFQUFJUyxVQUFXQSxFQUFZK1AsR0FBZS9QLEVBQVdULEVBQUlTLGFBbkJoRjh3QyxDQUFnQ1osR0FzQnBDLFNBQVNHLEdBQWlCNzlFLEdBQ3RCLE9BQUlBLElBQVVrc0MsR0FDSCxHQUVGbHNDLElBQVVtc0MsR0FDUixHQUdBbnNDLEVBR2YsU0FBU2srRSxHQUFpQnByQyxFQUFZa3JDLEdBQ2xDLE1BQU1PLEVBQWdCenJDLEVBQVc3RSxVQUU3QjZFLEVBQVc3RSxVQURYc3dDLEVBQ3VCLENBQUNyUSxFQUFJc1EsS0FDeEJSLEVBQWU5UCxFQUFJc1EsR0FDbkJELEVBQWNyUSxFQUFJc1EsSUFJQ1IsRUFHL0IsU0FBU0csR0FBc0JyckMsRUFBWW1yQyxHQUN2QyxNQUFNUSxFQUFxQjNyQyxFQUFXckYsZUFFbENxRixFQUFXckYsZUFEWGd4QyxFQUM0QixDQUFDdlEsRUFBSXNRLEVBQUs3OEIsS0FDbENzOEIsRUFBb0IvUCxFQUFJc1EsRUFBSzc4QixHQUM3Qjg4QixFQUFtQnZRLEVBQUlzUSxFQUFLNzhCLElBSUpzOEIsRUFHcEMsU0FBU0YsR0FBb0JqckMsRUFBWWdyQyxHQUNyQyxNQUFNWSxFQUFtQjVyQyxFQUFXeEYsYUFFaEN3RixFQUFXeEYsYUFEWG94QyxFQUMwQixDQUFDeFEsRUFBSXNRLEtBQzNCVixFQUFrQjVQLEVBQUlzUSxHQUN0QkUsRUFBaUJ4USxFQUFJc1EsSUFJQ1YsRUFlbEMsTUFBTWEsR0FBd0IsQ0FFMUIscUJBV0VDLEdBQXdCLENBRzFCLFdBQ0EsUUFDQSxTQUNBLE9BQ0EsU0FDQSxxQkFFQSxTQUNBLGdCQUVBLFdBa0JKLFNBQVMsR0FBd0I5ckMsR0FDN0IsSUFDSTZxQyxFQURBSCxFQUFZRCxHQUFhenFDLEVBQVdsWSxNQUlwQytpRCxFQUZBL3NDLEdBQWVrQyxHQUVKMHFDLEVBQVUsS0FJVkEsRUFBVSxLQUd6QixNQUFNcUIsRUFBUy9yQyxFQUVmLElBQUssTUFBTXpLLEtBQVNzMkMsR0FDaEJFLEVBQU94MkMsR0FBU3MxQyxFQUFTdDFDLEdBRTdCLEdBQUl1SSxHQUFlK3NDLEdBRWYsSUFBSyxNQUFNdDFDLEtBQVN1MkMsR0FDaEJDLEVBQU94MkMsR0FBU3MxQyxFQUFTdDFDLEdBWXJDLElBQUl5MkMsR0FBa0IsS0FDdEIsU0FBU3pyRCxLQUNMLElBQUt5ckQsR0FBaUIsQ0FDbEIsTUFBTTEyRSxFQUFTZ2lDLEdBQWdCLE9BQy9CLEdBQUloaUMsR0FBVUEsRUFBT0MsU0FDakJ5MkUsR0FBa0IxMkUsRUFBT0MsYUFFeEIsQ0FFRCxNQUFNMkgsRUFBTzlRLE9BQU82L0Usb0JBQW9CbitELElBQUlyaEIsV0FDNUMsSUFBSyxJQUFJZ0ksRUFBSSxFQUFHQSxFQUFJeUksRUFBS2pLLFNBQVV3QixFQUFHLENBQ2xDLE1BQU1xVyxFQUFNNU4sRUFBS3pJLEdBQ0wsWUFBUnFXLEdBQTZCLFNBQVJBLEdBQ3JCZ0QsSUFBSXJoQixVQUFVcWUsS0FBU2dELElBQUlyaEIsVUFBbUIsVUFDOUN1L0UsR0FBa0JsaEUsS0FLbEMsT0FBT2toRSxHQVVYLFNBQVNFLEdBQWEvZ0UsRUFBR2hmLEdBQ3JCLE1BQU1nZ0YsRUFBc0JDLEdBQW1CamhFLEdBQ3pDa2hFLEVBQXNCRCxHQUFtQmpnRixHQUMvQyxHQUFJZ2dGLEdBQXVCRSxFQUN2QixPQW9CUixTQUEyQmxoRSxFQUFHaGYsRUFBR2lmLEdBQzdCLE1BQU1raEUsRUFBWW5oRSxFQUFFb1YsUUFDZGdzRCxFQUFZcGdGLEVBQUVvMEIsUUFDcEIsT0FBYSxDQUNULE1BQU1pc0QsRUFBUUYsRUFBVXArRSxPQUNsQnUrRSxFQUFRRixFQUFVcitFLE9BQ3hCLEdBQUlzK0UsRUFBTS8yRSxNQUFRZzNFLEVBQU1oM0UsS0FDcEIsT0FBTyxFQUNYLEdBQUkrMkUsRUFBTS8yRSxNQUFRZzNFLEVBQU1oM0UsS0FDcEIsT0FBTyxFQUNYLElBQUsyVixFQUFXb2hFLEVBQU10L0UsTUFBT3UvRSxFQUFNdi9FLE9BQy9CLE9BQU8sR0EvQkp3L0UsQ0FBa0J2aEUsRUFBR2hmLEVBQUcrL0UsSUFFOUIsQ0FDRCxNQUFNUyxFQUFZeGhFLElBQW1CLGlCQUFOQSxHQUErQixtQkFBTkEsR0FDbER5aEUsRUFBWXpnRixJQUFtQixpQkFBTkEsR0FBK0IsbUJBQU5BLEdBQ3hELFFBQUtnZ0YsSUFBdUJRLEdBQWNOLElBQXVCTyxJQUl0RHhnRixPQUFPeWdGLEdBQUcxaEUsRUFBR2hmLElBSWhDLFNBQVNpZ0YsR0FBbUI3ckUsR0FDeEIsUUFBS3VzRSxHQUFXdnNFLEtBRVRoVSxNQUFNZ04sUUFBUWdILE1BQ2RBLGFBQWV1TixNQUNkeVMsT0FBdUJoZ0IsR0E4Qm5DLFNBQVN1c0UsR0FBVzEzRSxHQUNoQixPQUFhLE9BQU5BLElBQTRCLG1CQUFOQSxHQUFpQyxpQkFBTkEsR0FZNUQsU0FBUzIzRSxHQUFjL3VDLEVBQU93RyxFQUFjdDNDLEdBQ3hDLE9BQU84d0MsRUFBTXdHLEdBQWdCdDNDLEVBR2pDLFNBQVM4L0UsR0FBV2h2QyxFQUFPd0csR0FJdkIsT0FIQTNSLFdBQWE4QixFQUFtQnFKLEVBQU93RyxHQUN2QzNSLFdBQ0lzQixFQUFjNkosRUFBTXdHLEdBQWUrckIsR0FBVywyQ0FDM0N2eUIsRUFBTXdHLEdBZWpCLFNBQVN5b0MsR0FBZWp2QyxFQUFPd0csRUFBY3QzQyxHQUN6QzJsQyxXQUFhc0IsRUFBY2puQyxFQUFPcWpFLEdBQVcsNkNBQzdDMTlCLFdBQ0l1QixFQUFlb1EsRUFBY3hHLEVBQU0vcUMsT0FBUSxrREFDL0MsTUFBTXNrQixFQUFXeW1CLEVBQU13RyxHQUN2QixHQUFJcDRDLE9BQU95Z0YsR0FBR3QxRCxFQUFVcnFCLEdBQ3BCLE9BQU8sRUFHUCxHQUFJMmxDLFdBQWF1USxLQUEwQixDQUd2QyxNQUFNOHBDLEVBQW9CMzFELElBQWFnNUMsR0FBWWg1QyxPQUFXL21CLEVBQzlELElBQUswN0UsR0FBYWdCLEVBQW1CaGdGLEdBQVEsQ0FDekMsTUFBTWlnRixFQXAwTHRCLFNBQTBDbnZDLEVBQU93RyxFQUFjanRCLEVBQVVrdkMsR0FDckUsTUFBTXRoQixFQUFRbkgsRUF6N0tKLEdBeTdLaUJ0VixLQUNyQjBrRCxFQUFXam9DLEVBQU1YLEdBQ3ZCLEdBQXdCLGlCQUFiNG9DLEVBRVAsT0FBSUEsRUFBU3JzRCxRQUFRaWxDLEtBQTRCLEVBQ3RDRyxHQUFpQ25vQixFQUFPd0csRUFBY0EsRUFBYzRvQyxFQUFVM21CLEdBR2xGLENBQUUxVixTQUFVcThCLEVBQVU3MUQsU0FBQUEsRUFBVWt2QyxTQUFBQSxHQU0zQyxHQUFpQixPQUFiMm1CLEVBQW1CLENBQ25CLElBQUlwVyxFQUFNeHlCLEVBQWUsRUFDekIsS0FBNkIsaUJBQWZXLEVBQU02eEIsSUFBd0MsT0FBbkI3eEIsRUFBTTZ4QixFQUFNLElBQ2pEQSxJQUVKLE1BQU10OEMsRUFBT3lxQixFQUFNNnhCLEdBQ25CLEdBQW9CLGlCQUFUdDhDLEVBQW1CLENBQzFCLE1BQU13a0QsRUFBVXhrRCxFQUFLa2tDLE1BQU0sSUFBSXl1QixPQUFPcm5CLEdBQXlCLE1BRy9ELEdBQUlrWixHQUFZQSxFQUFRanNFLE9BQVMsRUFBS3V4QyxFQUFld3lCLEVBQ2pELE9BQU83USxHQUFpQ25vQixFQUFPZzVCLEVBQUt4eUIsRUFBYzlwQixFQUFNK3JDLElBSXBGLE1BQU8sQ0FBRTFWLGNBQVV2Z0QsRUFBVyttQixTQUFBQSxFQUFVa3ZDLFNBQUFBLEdBc3lMWjZtQixDQUFpQ3R2QyxFQUFPd0csRUFBYzBvQyxFQUFtQmhnRixJQWgyTHpHLFNBQW1DdW5FLEVBQWNsOUMsRUFBVWcyRCxFQUFXeDhCLEdBRWxFLElBQUlua0IsRUFBTSwyR0FESW1rQixFQUFXLFNBQVNBLEtBQWMsUUFDZ0Z4NUIsdUJBQThCZzJELE1BTTlKLE1BTEk5WSxJQUNBN25DLEdBQ0ksdUpBR0YsSUFBSTRGLEdBQWMsSUFBNEM1RixHQXkxTHhENGdELENBQTBCajJELElBQWFnNUMsR0FBVzRjLEVBQVE1MUQsU0FBVTQxRCxFQUFRMW1CLFNBQVUwbUIsRUFBUXA4QixVQU1sRyxPQUFPLEVBR1gsT0FEQS9TLEVBQU13RyxHQUFnQnQzQyxHQUNmLEVBSWYsU0FBU3VnRixHQUFnQnp2QyxFQUFPd0csRUFBY2twQyxFQUFNQyxHQUNoRCxNQUFNQyxFQUFZWCxHQUFlanZDLEVBQU93RyxFQUFja3BDLEdBQ3RELE9BQU9ULEdBQWVqdkMsRUFBT3dHLEVBQWUsRUFBR21wQyxJQUFTQyxFQUc1RCxTQUFTQyxHQUFnQjd2QyxFQUFPd0csRUFBY2twQyxFQUFNQyxFQUFNRyxHQUN0RCxNQUFNRixFQUFZSCxHQUFnQnp2QyxFQUFPd0csRUFBY2twQyxFQUFNQyxHQUM3RCxPQUFPVixHQUFlanZDLEVBQU93RyxFQUFlLEVBQUdzcEMsSUFBU0YsRUFHNUQsU0FBU0csR0FBZ0IvdkMsRUFBT3dHLEVBQWNrcEMsRUFBTUMsRUFBTUcsRUFBTUUsR0FDNUQsTUFBTUosRUFBWUgsR0FBZ0J6dkMsRUFBT3dHLEVBQWNrcEMsRUFBTUMsR0FDN0QsT0FBT0YsR0FBZ0J6dkMsRUFBT3dHLEVBQWUsRUFBR3NwQyxFQUFNRSxJQUFTSixFQXVCbkUsU0FBUyxHQUFZdnpELEVBQU1udEIsRUFBTzQwRCxFQUFXaUgsR0FDekMsTUFBTS9xQixFQUFRc0YsS0FDUmtCLEVBQWVFLEtBQ3JCLEdBQUl1b0MsR0FBZWp2QyxFQUFPd0csRUFBY3QzQyxHQUFRLENBQzVDLE1BQU00cUMsRUFBUXlMLEtBQ1IxTCxFQUFRbVAsS0FDZCs1QixHQUF5QmxwQyxFQUFPbUcsRUFBTzNqQixFQUFNbnRCLEVBQU80MEQsRUFBV2lILEdBQy9EbDJCLFdBQWF1dkMsR0FBNkJ0cUMsRUFBTXBQLEtBQU1tUCxFQUFPLFFBQVV4ZCxFQUFNbXFCLEdBRWpGLE9BQU8sR0FzQlgsU0FBU3lwQyxHQUFlandDLEVBQU8xaEMsR0FDM0J1MkIsV0FBYXVCLEVBQWUsRUFBRzkzQixFQUFPckosT0FBUSxpQ0FDOUM0L0IsV0FBYWtCLEVBQVl6M0IsRUFBT3JKLE9BQVMsRUFBRyxFQUFHLHVDQUMvQyxJQUFJaTdFLEdBQW1CLEVBQ25CMXBDLEVBQWVELEtBQ25CLElBQUssSUFBSTl2QyxFQUFJLEVBQUdBLEVBQUk2SCxFQUFPckosT0FBUXdCLEdBQUssRUFFcEN5NUUsRUFBbUJqQixHQUFlanZDLEVBQU93RyxJQUFnQmxvQyxFQUFPN0gsS0FBT3k1RSxFQUczRSxHQURBenBDLEdBQWdCRCxJQUNYMHBDLEVBQ0QsT0FBTzNkLEdBR1gsSUFBSXJPLEVBQVU1bEQsRUFBTyxHQUNyQixJQUFLLElBQUk3SCxFQUFJLEVBQUdBLEVBQUk2SCxFQUFPckosT0FBUXdCLEdBQUssRUFDcEN5dEQsR0FBV3B2QixFQUFnQngyQixFQUFPN0gsSUFBTTZILEVBQU83SCxFQUFJLEdBRXZELE9BQU95dEQsRUFTWCxTQUFTaXNCLEdBQWVud0MsRUFBT3VvQixFQUFRNm5CLEVBQUlDLEdBRXZDLE9BRGtCcEIsR0FBZWp2QyxFQUFPMEcsS0FBb0IwcEMsR0FDekM3bkIsRUFBU3p6QixFQUFnQnM3QyxHQUFNQyxFQUFTOWQsR0FLL0QsU0FBUytkLEdBQWV0d0MsRUFBT3VvQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlILEdBQy9DLE1BQ01ULEVBQVlILEdBQWdCenZDLEVBRGJ1RyxLQUNrQzZwQyxFQUFJSSxHQUUzRCxPQURBN3BDLEdBQXNCLEdBQ2ZpcEMsRUFBWXJuQixFQUFTenpCLEVBQWdCczdDLEdBQU1HLEVBQUt6N0MsRUFBZ0IwN0MsR0FBTUgsRUFBUzlkLEdBSzFGLFNBQVNrZSxHQUFlendDLEVBQU91b0IsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJTixHQUN2RCxNQUNNVCxFQUFZQyxHQUFnQjd2QyxFQURidUcsS0FDa0M2cEMsRUFBSUksRUFBSUcsR0FFL0QsT0FEQWhxQyxHQUFzQixHQUNmaXBDLEVBQ0hybkIsRUFBU3p6QixFQUFnQnM3QyxHQUFNRyxFQUFLejdDLEVBQWdCMDdDLEdBQU1FLEVBQUs1N0MsRUFBZ0I2N0MsR0FBTU4sRUFDckY5ZCxHQUtSLFNBQVNxZSxHQUFlNXdDLEVBQU91b0IsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJVCxHQUMvRCxNQUNNVCxFQUFZRyxHQUFnQi92QyxFQURidUcsS0FDa0M2cEMsRUFBSUksRUFBSUcsRUFBSUcsR0FFbkUsT0FEQW5xQyxHQUFzQixHQUNmaXBDLEVBQVlybkIsRUFBU3p6QixFQUFnQnM3QyxHQUFNRyxFQUFLejdDLEVBQWdCMDdDLEdBQU1FLEVBQ3pFNTdDLEVBQWdCNjdDLEdBQU1FLEVBQUsvN0MsRUFBZ0JnOEMsR0FBTVQsRUFDakQ5ZCxHQUtSLFNBQVN3ZSxHQUFlL3dDLEVBQU91b0IsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJWixHQUN2RSxNQUFNN3BDLEVBQWVELEtBQ3JCLElBQUlxcEMsRUFBWUcsR0FBZ0IvdkMsRUFBT3dHLEVBQWM0cEMsRUFBSUksRUFBSUcsRUFBSUcsR0FHakUsT0FGQWxCLEVBQVlYLEdBQWVqdkMsRUFBT3dHLEVBQWUsRUFBR3lxQyxJQUFPckIsRUFDM0RqcEMsR0FBc0IsR0FDZmlwQyxFQUFZcm5CLEVBQVN6ekIsRUFBZ0JzN0MsR0FBTUcsRUFBS3o3QyxFQUFnQjA3QyxHQUFNRSxFQUN6RTU3QyxFQUFnQjY3QyxHQUFNRSxFQUFLLzdDLEVBQWdCZzhDLEdBQU1FLEVBQUtsOEMsRUFBZ0JtOEMsR0FBTVosRUFDNUU5ZCxHQUtSLFNBQVMyZSxHQUFlbHhDLEVBQU91b0IsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJZixHQUMvRSxNQUFNN3BDLEVBQWVELEtBQ3JCLElBQUlxcEMsRUFBWUcsR0FBZ0IvdkMsRUFBT3dHLEVBQWM0cEMsRUFBSUksRUFBSUcsRUFBSUcsR0FHakUsT0FGQWxCLEVBQVlILEdBQWdCenZDLEVBQU93RyxFQUFlLEVBQUd5cUMsRUFBSUcsSUFBT3hCLEVBQ2hFanBDLEdBQXNCLEdBQ2ZpcEMsRUFDSHJuQixFQUFTenpCLEVBQWdCczdDLEdBQU1HLEVBQUt6N0MsRUFBZ0IwN0MsR0FBTUUsRUFBSzU3QyxFQUFnQjY3QyxHQUFNRSxFQUNqRi83QyxFQUFnQmc4QyxHQUFNRSxFQUFLbDhDLEVBQWdCbThDLEdBQU1FLEVBQUtyOEMsRUFBZ0JzOEMsR0FBTWYsRUFDaEY5ZCxHQUtSLFNBQVM4ZSxHQUFlcnhDLEVBQU91b0IsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJbEIsR0FDdkYsTUFBTTdwQyxFQUFlRCxLQUNyQixJQUFJcXBDLEVBQVlHLEdBQWdCL3ZDLEVBQU93RyxFQUFjNHBDLEVBQUlJLEVBQUlHLEVBQUlHLEdBR2pFLE9BRkFsQixFQUFZQyxHQUFnQjd2QyxFQUFPd0csRUFBZSxFQUFHeXFDLEVBQUlHLEVBQUlHLElBQU8zQixFQUNwRWpwQyxHQUFzQixHQUNmaXBDLEVBQVlybkIsRUFBU3p6QixFQUFnQnM3QyxHQUFNRyxFQUFLejdDLEVBQWdCMDdDLEdBQU1FLEVBQ3pFNTdDLEVBQWdCNjdDLEdBQU1FLEVBQUsvN0MsRUFBZ0JnOEMsR0FBTUUsRUFBS2w4QyxFQUFnQm04QyxHQUFNRSxFQUM1RXI4QyxFQUFnQnM4QyxHQUFNRSxFQUFLeDhDLEVBQWdCeThDLEdBQU1sQixFQUNqRDlkLEdBS1IsU0FBU2lmLEdBQWV4eEMsRUFBT3VvQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlyQixHQUMvRixNQUFNN3BDLEVBQWVELEtBQ3JCLElBQUlxcEMsRUFBWUcsR0FBZ0IvdkMsRUFBT3dHLEVBQWM0cEMsRUFBSUksRUFBSUcsRUFBSUcsR0FHakUsT0FGQWxCLEVBQVlHLEdBQWdCL3ZDLEVBQU93RyxFQUFlLEVBQUd5cUMsRUFBSUcsRUFBSUcsRUFBSUcsSUFBTzlCLEVBQ3hFanBDLEdBQXNCLEdBQ2ZpcEMsRUFBWXJuQixFQUFTenpCLEVBQWdCczdDLEdBQU1HLEVBQUt6N0MsRUFBZ0IwN0MsR0FBTUUsRUFDekU1N0MsRUFBZ0I2N0MsR0FBTUUsRUFBSy83QyxFQUFnQmc4QyxHQUFNRSxFQUFLbDhDLEVBQWdCbThDLEdBQU1FLEVBQzVFcjhDLEVBQWdCczhDLEdBQU1FLEVBQUt4OEMsRUFBZ0J5OEMsR0FBTUUsRUFBSzM4QyxFQUFnQjQ4QyxHQUFNckIsRUFDNUU5ZCxHQTJCUixTQUFTLEdBQXdCdm1CLEVBQVV1YyxFQUFRNm5CLEVBQUlDLEVBQVF2c0IsRUFBV2lILEdBQ3RFLE1BQU0vcUIsRUFBUXNGLEtBQ1Jxc0MsRUFBb0J4QixHQUFlbndDLEVBQU91b0IsRUFBUTZuQixFQUFJQyxHQUM1RCxHQUFJc0IsSUFBc0JwZixHQUFXLENBQ2pDLE1BQU0xNEIsRUFBUW1QLEtBQ2QrNUIsR0FBeUJscEMsRUFBT21HLEVBQU9nTSxFQUFVMmxDLEVBQW1CN3RCLEVBQVdpSCxHQUMvRWwyQixXQUNJdXZDLEdBQTZCNytCLEtBQVc3YSxLQUFNbVAsRUFBTyxRQUFVbVMsRUFBVXpGLEtBQW9CLEVBQUdnaUIsRUFBUThuQixHQUVoSCxPQUFPLEdBNEJYLFNBQVMsR0FBd0Jya0MsRUFBVXVjLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUgsRUFBUXZzQixFQUFXaUgsR0FDOUUsTUFBTS9xQixFQUFRc0YsS0FDUnFzQyxFQUFvQnJCLEdBQWV0d0MsRUFBT3VvQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlILEdBQ3BFLEdBQUlzQixJQUFzQnBmLEdBQVcsQ0FDakMsTUFBTTE0QixFQUFRbVAsS0FDZCs1QixHQUF5QmxwQyxFQUFPbUcsRUFBT2dNLEVBQVUybEMsRUFBbUI3dEIsRUFBV2lILEdBQy9FbDJCLFdBQ0l1dkMsR0FBNkI3K0IsS0FBVzdhLEtBQU1tUCxFQUFPLFFBQVVtUyxFQUFVekYsS0FBb0IsRUFBR2dpQixFQUFRZ29CLEVBQUlGLEdBRXBILE9BQU8sR0ErQlgsU0FBUyxHQUF3QnJrQyxFQUFVdWMsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJTixFQUFRdnNCLEVBQVdpSCxHQUN0RixNQUFNL3FCLEVBQVFzRixLQUNScXNDLEVBQW9CbEIsR0FBZXp3QyxFQUFPdW9CLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSU4sR0FDNUUsR0FBSXNCLElBQXNCcGYsR0FBVyxDQUNqQyxNQUFNMTRCLEVBQVFtUCxLQUNkKzVCLEdBQXlCbHBDLEVBQU9tRyxFQUFPZ00sRUFBVTJsQyxFQUFtQjd0QixFQUFXaUgsR0FDL0VsMkIsV0FDSXV2QyxHQUE2QjcrQixLQUFXN2EsS0FBTW1QLEVBQU8sUUFBVW1TLEVBQVV6RixLQUFvQixFQUFHZ2lCLEVBQVFnb0IsRUFBSUcsRUFBSUwsR0FFeEgsT0FBTyxHQWlDWCxTQUFTLEdBQXdCcmtDLEVBQVV1YyxFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlULEVBQVF2c0IsRUFBV2lILEdBQzlGLE1BQU0vcUIsRUFBUXNGLEtBQ1Jxc0MsRUFBb0JmLEdBQWU1d0MsRUFBT3VvQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlULEdBQ3BGLEdBQUlzQixJQUFzQnBmLEdBQVcsQ0FDakMsTUFBTTE0QixFQUFRbVAsS0FDZCs1QixHQUF5QmxwQyxFQUFPbUcsRUFBT2dNLEVBQVUybEMsRUFBbUI3dEIsRUFBV2lILEdBQy9FbDJCLFdBQ0l1dkMsR0FBNkI3K0IsS0FBVzdhLEtBQU1tUCxFQUFPLFFBQVVtUyxFQUFVekYsS0FBb0IsRUFBR2dpQixFQUFRZ29CLEVBQUlHLEVBQUlHLEVBQUlSLEdBRTVILE9BQU8sR0FtQ1gsU0FBUyxHQUF3QnJrQyxFQUFVdWMsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJWixFQUFRdnNCLEVBQVdpSCxHQUN0RyxNQUFNL3FCLEVBQVFzRixLQUNScXNDLEVBQW9CWixHQUFlL3dDLEVBQU91b0IsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJWixHQUM1RixHQUFJc0IsSUFBc0JwZixHQUFXLENBQ2pDLE1BQU0xNEIsRUFBUW1QLEtBQ2QrNUIsR0FBeUJscEMsRUFBT21HLEVBQU9nTSxFQUFVMmxDLEVBQW1CN3RCLEVBQVdpSCxHQUMvRWwyQixXQUNJdXZDLEdBQTZCNytCLEtBQVc3YSxLQUFNbVAsRUFBTyxRQUFVbVMsRUFBVXpGLEtBQW9CLEVBQUdnaUIsRUFBUWdvQixFQUFJRyxFQUFJRyxFQUFJRyxFQUFJWCxHQUVoSSxPQUFPLEdBcUNYLFNBQVMsR0FBd0Jya0MsRUFBVXVjLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSWYsRUFBUXZzQixFQUFXaUgsR0FDOUcsTUFBTS9xQixFQUFRc0YsS0FDUnFzQyxFQUFvQlQsR0FBZWx4QyxFQUFPdW9CLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSWYsR0FDcEcsR0FBSXNCLElBQXNCcGYsR0FBVyxDQUNqQyxNQUFNMTRCLEVBQVFtUCxLQUNkKzVCLEdBQXlCbHBDLEVBQU9tRyxFQUFPZ00sRUFBVTJsQyxFQUFtQjd0QixFQUFXaUgsR0FDL0VsMkIsV0FDSXV2QyxHQUE2QjcrQixLQUFXN2EsS0FBTW1QLEVBQU8sUUFBVW1TLEVBQVV6RixLQUFvQixFQUFHZ2lCLEVBQVFnb0IsRUFBSUcsRUFBSUcsRUFBSUcsRUFBSUcsRUFBSWQsR0FFcEksT0FBTyxHQXVDWCxTQUFTLEdBQXdCcmtDLEVBQVV1YyxFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlsQixFQUFRdnNCLEVBQVdpSCxHQUN0SCxNQUFNL3FCLEVBQVFzRixLQUNScXNDLEVBQW9CTixHQUFlcnhDLEVBQU91b0IsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJbEIsR0FDNUcsR0FBSXNCLElBQXNCcGYsR0FBVyxDQUNqQyxNQUFNMTRCLEVBQVFtUCxLQUNkKzVCLEdBQXlCbHBDLEVBQU9tRyxFQUFPZ00sRUFBVTJsQyxFQUFtQjd0QixFQUFXaUgsR0FDL0VsMkIsV0FDSXV2QyxHQUE2QjcrQixLQUFXN2EsS0FBTW1QLEVBQU8sUUFBVW1TLEVBQVV6RixLQUFvQixFQUFHZ2lCLEVBQVFnb0IsRUFBSUcsRUFBSUcsRUFBSUcsRUFBSUcsRUFBSUcsRUFBSWpCLEdBRXhJLE9BQU8sR0F5Q1gsU0FBUyxHQUF3QnJrQyxFQUFVdWMsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJckIsRUFBUXZzQixFQUFXaUgsR0FDOUgsTUFBTS9xQixFQUFRc0YsS0FDUnFzQyxFQUFvQkgsR0FBZXh4QyxFQUFPdW9CLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSXJCLEdBQ3BILEdBQUlzQixJQUFzQnBmLEdBQVcsQ0FDakMsTUFBTTE0QixFQUFRbVAsS0FDZCs1QixHQUF5QmxwQyxFQUFPbUcsRUFBT2dNLEVBQVUybEMsRUFBbUI3dEIsRUFBV2lILEdBQy9FbDJCLFdBQ0l1dkMsR0FBNkI3K0IsS0FBVzdhLEtBQU1tUCxFQUFPLFFBQVVtUyxFQUFVekYsS0FBb0IsRUFBR2dpQixFQUFRZ29CLEVBQUlHLEVBQUlHLEVBQUlHLEVBQUlHLEVBQUlHLEVBQUlHLEVBQUlwQixHQUU1SSxPQUFPLEdBNEJYLFNBQVMsR0FBd0Jya0MsRUFBVTF0QyxFQUFRd2xELEVBQVdpSCxHQUMxRCxNQUFNL3FCLEVBQVFzRixLQUNSc3NDLEVBQWUzQixHQUFlandDLEVBQU8xaEMsR0FDM0MsR0FBSXN6RSxJQUFpQnJmLEdBQVcsQ0FDNUIsTUFBTTE0QixFQUFRbVAsS0FFZCxHQURBKzVCLEdBQXlCbHBDLEVBQU9tRyxFQUFPZ00sRUFBVTRsQyxFQUFjOXRCLEVBQVdpSCxHQUN0RWwyQixVQUFXLENBQ1gsTUFBTWc5QyxFQUF5QixDQUFDdnpFLEVBQU8sSUFDdkMsSUFBSyxJQUFJN0gsRUFBSSxFQUFHQSxFQUFJNkgsRUFBT3JKLE9BQVF3QixHQUFLLEVBQ3BDbzdFLEVBQXVCMTdFLEtBQUttSSxFQUFPN0gsSUFFdkMydEUsR0FBNkI3K0IsS0FBVzdhLEtBQU1tUCxFQUFPLFFBQVVtUyxFQUFVekYsS0FBb0JzckMsRUFBdUI1OEUsT0FBUyxLQUFNNDhFLElBRzNJLE9BQU8sR0E0Q1gsU0FBUyxHQUFXeGxFLEVBQU9tdkQsRUFBWXIvQixFQUFPQyxFQUFNeW1CLEVBQVNpdkIsRUFBWUMsRUFBZ0I3VCxHQUNyRixNQUFNbCtCLEVBQVFzRixLQUNSeEwsRUFBUXlMLEtBQ1J5c0MsRUFBZ0IzbEUsRUFBUWt6QixHQUN4QjFGLEVBQVFDLEVBQU1GLGdCQXRDeEIsU0FBaUN2dEIsRUFBT3l0QixFQUFPa0csRUFBT3c3QixFQUFZci9CLEVBQU9DLEVBQU15bUIsRUFBU2l2QixFQUFZQyxHQUNoR2w5QyxXQUFhK0wsR0FBc0I5RyxHQUNuQ2pGLFdBQWFBLFVBQVUrRSxrQkFDdkIsTUFBTXE0QyxFQUFjbjRDLEVBQU13QyxPQUVwQnpDLEVBQVFtZ0MsR0FBaUJsZ0MsRUFBT3p0QixFQUFPLEVBQW1CdzJDLEdBQVcsS0FBTW5lLEdBQVl1dEMsRUFBYUgsSUFDMUcvUSxHQUFrQmpuQyxFQUFPa0csRUFBT25HLEVBQU82SyxHQUFZdXRDLEVBQWFGLElBQ2hFOW9DLEdBQXVCblAsRUFBT0QsR0FDOUIsTUFBTXlpQyxFQUFnQnppQyxFQUFNNmdDLE9BQVMyRCxHQUFZLEVBQWtCeGtDLEVBQU8yaEMsRUFBWXIvQixFQUFPQyxFQUFNdEMsRUFBTTJrQyxrQkFBbUIza0MsRUFBTTRrQyxhQUFjLEtBQU01a0MsRUFBTTJELFFBQVN3MEMsR0FLckssT0FKc0IsT0FBbEJuNEMsRUFBTTI5QixVQUNOMzlCLEVBQU0yOUIsUUFBUXA3QixTQUFTdkMsRUFBT0QsR0FDOUJ5aUMsRUFBYzdFLFFBQVUzOUIsRUFBTTI5QixRQUFRNkUsY0FBY3ppQyxJQUVqREEsRUF5QitCcTRDLENBQXdCRixFQUFlbDRDLEVBQU9rRyxFQUFPdzdCLEVBQVlyL0IsRUFBT0MsRUFBTXltQixFQUFTaXZCLEVBQVlDLEdBQ3JJajRDLEVBQU1wUCxLQUFLc25ELEdBQ2Zqc0MsR0FBZ0JsTSxHQUFPLEdBQ3ZCLE1BQU1zNEMsRUFBVW55QyxFQUFNZ0UsSUFBVTZtQixjQUFjaDJCLFVBQVksWUFBYyxJQUN4RTZxQixHQUFZNWxCLEVBQU9rRyxFQUFPbXlDLEVBQVN0NEMsR0FDbkNvc0IsR0FBZ0Jrc0IsRUFBU255QyxHQUN6QjhpQyxHQUFjOWlDLEVBQU9BLEVBQU1neUMsR0FBaUIxTyxHQUFpQjZPLEVBQVNueUMsRUFBT215QyxFQUFTdDRDLElBQ2xGZ0csR0FBZ0JoRyxJQUNoQjJqQyxHQUEwQjFqQyxFQUFPa0csRUFBT25HLEdBRXRCLE1BQWxCazRDLEdBQ0EvVCxHQUF5QmgrQixFQUFPbkcsRUFBT3FrQyxHQVkvQyxTQUFTMTdCLEdBQU0xSSxFQUFPa0csRUFBTzN6QixFQUFPbmQsR0FHNUJtZCxHQUFTeXRCLEVBQU1wUCxLQUFLejFCLFNBQ3BCNmtDLEVBQU1wUCxLQUFLcmUsR0FBUyxLQUNwQnl0QixFQUFNZ1UsVUFBVXpoQyxHQUFTLE1BRTdCMnpCLEVBQU0zekIsR0FBU25kLEVBWW5CLFNBQVMsR0FBWW1kLEdBRWpCLE9BQU82M0IsR0E5b1dBYyxHQUFpQkMsT0FBT1EsYUE4b1dMbEcsR0FBZ0JsekIsR0FlOUMsTUFBTStsRSxHQUFtQixDQUNyQixtQkFBc0IsRUFDdEIsaUJBQW9CLEVBQ3BCLFNBQVksR0FDWixvQkFBdUIsR0FDdkIsa0JBQXFCOTlDLEdBa0R6QixNQUFNKzlDLEdBQVk3K0MsRUFBdUIsQ0FBRTRsQixRQUFTdnFELE9BQVF3cUQsU0FBVTdsQixJQUN0RSxTQUFTOCtDLEdBQW1CNTFELEdBQ3hCLFlBQXlCbHFCLElBQWxCa3FCLEVBQUt3c0QsU0FLaEIsU0FBU3FKLEdBQXFCNzFELEdBQzFCLFlBQTJCbHFCLElBQXBCa3FCLEVBQUtvc0QsV0E4Q2hCLE1BQU1qOEMsR0FBYXNsQixHQUFjLGtCQUFjMy9DLE9BQVdBLE9BQVdBLEdBQVcsQ0FBQ3MzQixFQUFNcE4sSUExRnZGLFNBQTJCb04sRUFBTXBOLEdBQzdCLElBQUlpYixFQUFrQixLQUNsQjY2QyxFQUFlLEtBRWQxb0QsRUFBS3A3QixlQUFlMm9DLElBQ3JCanBDLE9BQU9hLGVBQWU2NkIsRUFBTXVOLEVBQWEsQ0FDckMvbUMsSUFBSyxLQUNELEdBQXdCLE9BQXBCcW5DLEVBQTBCLENBQzFCLE1BQU04NkMsRUFBV2grQixHQUFrQixDQUFFRSxNQUFPLEVBQW1CdGpELEtBQU0sYUFBY3k0QixLQUFBQSxJQUNuRjZOLEVBQWtCODZDLEVBQVNDLGtCQUFrQk4sR0FBa0IsU0FBU3RvRCxFQUFLek4sZ0JBd0NqRyxTQUErQnlOLEVBQU02b0QsR0FFakMsTUFBTWoyRCxFQUFPaTJELEdBQVcsQ0FBRTM3QyxXQUFZLE1BQ2hDNDdDLEVBQWUsQ0FDakJ2MkQsS0FBTXlOLEVBQUt6TixLQUNYeU4sS0FBTUEsRUFDTitvRCxrQkFBbUIsRUFDbkI3N0MsV0FBWXRhLEVBQUtzYSxZQWtCckIsT0FoQktzN0MsR0FBbUI1MUQsSUFBUzYxRCxHQUFxQjcxRCxVQUF3QmxxQixJQUFka3FCLEVBQUs0OUIsT0FDakVzNEIsRUFBYXQ0QixLQUFPRCxHQUFvQjM5QixFQUFLNDlCLE9BRzdDZzRCLEdBQW1CNTFELEdBQ25CazJELEVBQWExSixTQUFXeHNELEVBQUt3c0QsU0F2QnJDLFNBQTRCeHNELEdBQ3hCLE9BQU8yMUQsTUFBYTMxRCxFQXdCWG8yRCxDQUFtQnAyRCxHQUN4QmsyRCxFQUFhdjVCLFNBQVczOEIsRUFBSzI4QixTQUV4Qms1QixHQUFxQjcxRCxHQUMxQmsyRCxFQUFhOUosV0FBYXBzRCxFQUFLb3NELFdBdkJ2QyxTQUErQnBzRCxHQUMzQixZQUE0QmxxQixJQUFyQmtxQixFQUFLcXNELFlBd0JIZ0ssQ0FBc0JyMkQsS0FDM0JrMkQsRUFBYTdKLFlBQWNyc0QsRUFBS3FzRCxhQUU3QjZKLEVBakV1R0ksQ0FBc0JscEQsRUFBTXBOLElBRTlILE9BQU9pYixLQUtkN04sRUFBS3A3QixlQUFlaXRDLEtBQ3JCdnRDLE9BQU9hLGVBQWU2NkIsRUFBTTZSLEdBQWdCLENBQ3hDcnJDLElBQUssS0FDRCxHQUFxQixPQUFqQmtpRixFQUF1QixDQUN2QixNQUFNQyxFQUFXaCtCLEdBQWtCLENBQUVFLE1BQU8sRUFBbUJ0akQsS0FBTSxhQUFjeTRCLEtBQUFBLElBQ25GMG9ELEVBQWVDLEVBQVNRLGVBQWViLEdBQWtCLFNBQVN0b0QsRUFBS3pOLGVBQWdCLENBQ25GQSxLQUFNeU4sRUFBS3pOLEtBQ1h5TixLQUFBQSxFQUNBK29ELGtCQUFtQixFQUNuQnY0QixLQUFNRixHQUFvQnR3QixHQUMxQjZKLE9BQVE4K0MsRUFBU2orQixjQUFjM25CLGFBR3ZDLE9BQU8ybEQsR0FHWC9oRixjQUFjLElBMERzRWlpRixDQUFrQjVvRCxFQUFNcE4sS0FvQnhILFNBQVN3MkQsR0FBdUJoMEUsR0FDNUIsT0FBSUEsRUFBS2pLLE9BQVMsRUFHUCxLQWZmLFNBQThCaUssR0FDMUIsTUFBTTIwQixFQUFNLEdBQ1osSUFBSyxJQUFJcDlCLEVBQUksRUFBR0EsRUFBSXlJLEVBQUtqSyxTQUFVd0IsRUFBRyxDQUNsQyxHQUFJbzlCLEVBQUk5USxRQUFRN2pCLEVBQUt6SSxLQUFPLEVBRXhCLE9BREFvOUIsRUFBSTE5QixLQUFLK0ksRUFBS3pJLElBQ1BvOUIsRUFFWEEsRUFBSTE5QixLQUFLK0ksRUFBS3pJLElBRWxCLE9BQU9vOUIsRUFJY3MvQyxDQUFxQmowRSxFQUFLMUksUUFBUTQ4RSxXQUN4Qjl0RSxLQUFJK3RFLEdBQUt0dUQsRUFBVXN1RCxFQUFFeGtELFNBQ3hCcE0sS0FBSyxRQUFVLElBRXBDLEdBRVgsU0FBUzZ3RCxHQUFlOTVCLEVBQVUxc0MsRUFBS3ltRSxFQUEyQnJzQixHQUM5RCxNQUFNaG9ELEVBQU8sQ0FBQzROLEdBQ1IwbUUsRUFBU0QsRUFBMEJyMEUsR0FDbkNqUCxFQUFTaTNELEVBcDVObkIsU0FBc0I5cUMsRUFBUzhxQyxHQUMzQixNQUFNdDRCLEVBQU0sR0FBR3hTLGdCQUFzQjhxQyxhQUF5Qnh6QyxNQUFRd3pDLEVBQWM5cUMsUUFBVThxQyxJQUN4RmozRCxFQUFReWpCLE1BQU1rYixHQUVwQixPQURBMytCLEVBQTBCLGdCQUFJaTNELEVBQ3ZCajNELEVBZzVOd0J3akYsQ0FBYUQsRUFBUXRzQixHQUFpQnh6QyxNQUFNOC9ELEdBTTNFLE9BTEF2akYsRUFBTXlqRixPQUFTQSxHQUNmempGLEVBQU1pUCxLQUFPQSxFQUNialAsRUFBTTBqRixVQUFZLENBQUNuNkIsR0FDbkJ2cEQsRUFBTXNqRiwwQkFBNEJBLEVBQ2xDdGpGLEVBQTBCLGdCQUFJaTNELEVBQ3ZCajNELEVBRVgsU0FBU3lqRixHQUFPbDZCLEVBQVUxc0MsR0FDdEI3ZSxLQUFLMGxGLFVBQVV4OUUsS0FBS3FqRCxHQUNwQnZyRCxLQUFLaVIsS0FBSy9JLEtBQUsyVyxHQUVmN2UsS0FBS211QixRQUFVbnVCLEtBQUtzbEYsMEJBQTBCdGxGLEtBQUtpUixNQTBIdkQsU0FBUzAwRSxHQUFrQnY4QixFQUFZdzhCLEdBQ25DLE1BQU1sdUQsRUFBWSxHQUNsQixJQUFLLElBQUlsdkIsRUFBSSxFQUFHa1ksRUFBS2tsRSxFQUFPNStFLE9BQVF3QixFQUFJa1ksRUFBSWxZLElBQUssQ0FDN0MsTUFBTXE5RSxFQUFZRCxFQUFPcDlFLEdBQ3BCcTlFLEdBQWlDLEdBQXBCQSxFQUFVNytFLE9BSXhCMHdCLEVBQVV4dkIsS0FBSzI5RSxFQUFVeHVFLElBQUl5ZixHQUFXdEMsS0FBSyxNQUg3Q2tELEVBQVV4dkIsS0FBSyxLQU12QixPQUFPdWQsTUFBTSxzQ0FBeUNxUixFQUFVc3lCLEdBQWMsS0FDMUUxeEIsRUFBVWxELEtBQUssTUFETiwyR0FHVHNDLEVBQVVzeUIsR0FBYyxtQ0ErRGhDLE1BQU0wOEIsR0FJRmhsRixZQUFZOC9CLEVBQU9oTyxHQUdmLEdBRkE1eUIsS0FBSzRnQyxNQUFRQSxFQUNiNWdDLEtBQUs0eUIsR0FBS0EsR0FDTGdPLEVBQ0QsTUFBTSxJQUFJbmIsTUFBTSwwQkFFcEJ6bEIsS0FBSytsRixZQUFjanZELEVBQVU5MkIsS0FBSzRnQyxPQUt0QzA2QyxXQUFXMTZDLEdBQ1AsT0FBT29sRCxHQUFtQjNqRixJQUFJZ2tDLEVBQWtCekYsSUFLekNxbEQsMEJBQ1AsT0FBT0QsR0FBbUJDLGNBcUJsQyxNQUFNRCxHQUFxQixJQWxCM0IsTUFDSWxsRixjQUNJZCxLQUFLa21GLFNBQVcsSUFBSXJrRSxJQUV4QnhmLElBQUl1K0IsR0FDQSxHQUFJQSxhQUFpQmtsRCxHQUNqQixPQUFPbGxELEVBQ1gsR0FBSTVnQyxLQUFLa21GLFNBQVNwbkUsSUFBSThoQixHQUNsQixPQUFPNWdDLEtBQUtrbUYsU0FBUzdqRixJQUFJdStCLEdBRTdCLE1BQU11bEQsRUFBUyxJQUFJTCxHQUFjbGxELEVBQU9rbEQsR0FBY0csY0FFdEQsT0FEQWptRixLQUFLa21GLFNBQVMzakUsSUFBSXFlLEVBQU91bEQsR0FDbEJBLEVBRVBGLG1CQUNBLE9BQU9qbUYsS0FBS2ttRixTQUFTOWtELE9Bd0V2QmdsRCxHQUFZLElBeERsQixNQUNJdGxGLFlBQVl1bEYsR0FDUnJtRixLQUFLcW1GLHVCQUF5QkEsRUFFbENDLG1CQUFtQkMsR0FDZnZtRixLQUFLcW1GLHVCQUF5QkUsRUFFbEMvbUYsUUFBUXE4QixHQUNKLE9BQU83N0IsS0FBS3FtRix1QkFBdUI3bUYsUUFBUXE4QixHQUUvQ3VwQixXQUFXZ0UsR0FDUCxPQUFPcHBELEtBQUtxbUYsdUJBQXVCamhDLFdBQVdnRSxHQUVsREMsWUFBWUQsR0FDUixPQUFPcHBELEtBQUtxbUYsdUJBQXVCaDlCLFlBQVlELEdBRW5ESSxhQUFhSixHQUNULE9BQU9wcEQsS0FBS3FtRix1QkFBdUI3OEIsYUFBYUosR0FFcERTLGlCQUFpQmh1QixFQUFNaXVCLEdBQ25CLE9BQU85cEQsS0FBS3FtRix1QkFBdUJ4OEIsaUJBQWlCaHVCLEVBQU1pdUIsR0FFOURFLE9BQU81N0IsR0FDSCxPQUFPcHVCLEtBQUtxbUYsdUJBQXVCcjhCLE9BQU81N0IsR0FFOUM2N0IsT0FBTzc3QixHQUNILE9BQU9wdUIsS0FBS3FtRix1QkFBdUJwOEIsT0FBTzc3QixHQUU5Qzg3QixPQUFPOTdCLEdBQ0gsT0FBT3B1QixLQUFLcW1GLHVCQUF1Qm44QixPQUFPOTdCLEdBRTlDKzdCLFVBQVV0dUIsR0FDTixPQUFPNzdCLEtBQUtxbUYsdUJBQXVCbDhCLFVBQVV0dUIsR0FFakR1dUIsWUFBWXZ1QixHQUNSLE9BQU83N0IsS0FBS3FtRix1QkFBdUJqOEIsWUFBWXZ1QixHQUVuRHd1QixrQkFBa0JqOEIsRUFBTWs4QixFQUFXQyxFQUFTQyxHQUN4QyxPQUFPeHFELEtBQUtxbUYsdUJBQXVCaDhCLGtCQUFrQmo4QixFQUFNazhCLEVBQVdDLEVBQVNDLEdBRW5GQyxZQUFZKzdCLEVBQVlwNEQsR0FDcEIsT0FBT3B1QixLQUFLcW1GLHVCQUF1QjU3QixZQUFZKzdCLEVBQVlwNEQsS0FlbkMsSUFBSTY1QixJQWFwQyxNQUFNdytCLEdBQ0YzbEYsWUFBWStkLEVBQUsydEMsRUFBVWs2QixHQUN2QjFtRixLQUFLNmUsSUFBTUEsRUFDWDdlLEtBQUt3c0QsU0FBV0EsRUFDaEJ4c0QsS0FBSzBtRixXQUFhQSxFQUV0QnBMLGVBQWV6OEQsR0FDWCxPQUFPLElBQUk0bkUsR0FBcUI1bkUsR0FBSyxFQUFPLE9BR3BELE1BQU04bkUsR0FBYyxHQUNwQixNQUFNQyxHQUNGOWxGLFlBQVkrZCxFQUFLZ29FLEVBQW1CQyxHQUNoQzltRixLQUFLNmUsSUFBTUEsRUFDWDdlLEtBQUs2bUYsa0JBQW9CQSxFQUN6QjdtRixLQUFLOG1GLGNBQWdCQSxFQUNyQjltRixLQUFLK21GLGdCQUFrQi9tRixLQUFLNm1GLGtCQUFrQixJQU90RCxNQUFNRyxHQUNGbG1GLFlBSUF0QixFQUlBeW5GLEdBQ0lqbkYsS0FBS1IsUUFBVUEsRUFDZlEsS0FBS2luRixhQUFlQSxHQU01QixTQUFTQyxHQUF5Qjd2RCxHQUM5QixJQUFJOHZELEVBQ0FDLEVBQ0osR0FBSS92RCxFQUFTNGpELFNBQVUsQ0FDbkIsTUFBTUEsRUFBVzUwQyxFQUFrQmhQLEVBQVM0akQsVUFDNUNrTSxFQUFZZixHQUFVNW1GLFFBQVF5N0UsR0FDOUJtTSxFQUFlQyxHQUFpQnBNLFFBRTNCNWpELEVBQVN5akQsYUFDZHFNLEVBQWFHLEdBQWtCQSxFQUMvQkYsRUFBZSxDQUFDWCxHQUFxQmMsUUFBUXpCLEdBQWN6akYsSUFBSWcxQixFQUFTeWpELGdCQUVuRXpqRCxFQUFTd2pELFlBQ2RzTSxFQUFZOXZELEVBQVN3akQsV0FDckJ1TSxFQTZFUixTQUErQmgrQixFQUFZNjlCLEdBQ3ZDLEdBQUtBLEVBR0EsQ0FDRCxNQUFNckIsRUFBU3FCLEVBQWE1dkUsS0FBSTFFLEdBQUssQ0FBQ0EsS0FDdEMsT0FBT3MwRSxFQUFhNXZFLEtBQUkxRSxHQUFLNjBFLEdBQWNwK0IsRUFBWXoyQyxFQUFHaXpFLEtBSjFELE9BQU95QixHQUFpQmorQixHQS9FVHErQixDQUFzQnB3RCxFQUFTd2pELFdBQVl4akQsRUFBU2cxQixRQUduRTg2QixFQUFZLElBQU05dkQsRUFBUyt6QixTQUMzQmc4QixFQUFlVCxJQUVuQixPQUFPLElBQUlLLEdBQTBCRyxFQUFXQyxHQVFwRCxTQUFTTSxHQUEwQnJ3RCxHQUMvQixPQUFPLElBQUl1dkQsR0FBNEJkLEdBQWN6akYsSUFBSWcxQixFQUFTOHpCLFNBQVUsQ0FBQys3QixHQUF5Qjd2RCxJQUFZQSxFQUFTK2lELFFBQVMsR0FLeEksU0FBU3VOLEdBQTJCcHFELEdBQ2hDLE1BRU1xcUQsRUFPVixTQUEwQ3JxRCxFQUFXc3FELEdBQ2pELElBQUssSUFBSXIvRSxFQUFJLEVBQUdBLEVBQUkrMEIsRUFBVXYyQixPQUFRd0IsSUFBSyxDQUN2QyxNQUFNNnVCLEVBQVdrRyxFQUFVLzBCLEdBQ3JCNnhFLEVBQVd3TixFQUF1QnhsRixJQUFJZzFCLEVBQVN4WSxJQUFJK1QsSUFDekQsR0FBSXluRCxFQUFVLENBQ1YsR0FBSWhqRCxFQUFTeXZELGdCQUFrQnpNLEVBQVN5TSxjQUNwQyxNQW5QTHJoRSxNQUFNLDBEQW1QbUQ0MEQsS0FBVWhqRCxLQUVsRSxHQUFJQSxFQUFTeXZELGNBQ1QsSUFBSyxJQUFJaDZFLEVBQUksRUFBR0EsRUFBSXVxQixFQUFTd3ZELGtCQUFrQjcvRSxPQUFROEYsSUFDbkR1dEUsRUFBU3dNLGtCQUFrQjMrRSxLQUFLbXZCLEVBQVN3dkQsa0JBQWtCLzVFLFNBSS9EKzZFLEVBQXVCdGxFLElBQUk4VSxFQUFTeFksSUFBSStULEdBQUl5RSxPQUcvQyxDQUNELElBQUl5d0QsRUFFQUEsRUFEQXp3RCxFQUFTeXZELGNBQ1UsSUFBSUYsR0FBNEJ2dkQsRUFBU3hZLElBQUt3WSxFQUFTd3ZELGtCQUFrQnQrRSxRQUFTOHVCLEVBQVN5dkQsZUFHM0Z6dkQsRUFFdkJ3d0QsRUFBdUJ0bEUsSUFBSThVLEVBQVN4WSxJQUFJK1QsR0FBSWsxRCxJQUdwRCxPQUFPRCxFQW5DcUJFLENBRlRDLEdBQW9CenFELEVBQVcsSUFDdEJsbUIsSUFBSXF3RSxJQUN1QyxJQUFJN2xFLEtBQzNFLE9BQU92aEIsTUFBTXNNLEtBQUtnN0UsRUFBb0J2M0UsVUFvQzFDLFNBQVMyM0UsR0FBb0J6cUQsRUFBV3FJLEdBZXBDLE9BZEFySSxFQUFVaDNCLFNBQVFyRyxJQUNkLEdBQUlBLGFBQWF5bUQsR0FDYi9nQixFQUFJMTlCLEtBQUssQ0FBRWlqRCxRQUFTanJELEVBQUcrNkUsU0FBVS82RSxTQUVoQyxHQUFJQSxHQUFpQixpQkFBTEEsUUFBK0JxRSxJQUFkckUsRUFBRWlyRCxRQUNwQ3ZsQixFQUFJMTlCLEtBQUtoSSxPQUVSLEtBQUlJLE1BQU1nTixRQUFRcE4sR0FJbkIsTUF4V0R1bEIsTUFBTSw0RUF3V3NCdmxCLEtBSDNCOG5GLEdBQW9COW5GLEVBQUcwbEMsT0FNeEJBLEVBV1gsU0FBU3loRCxHQUFpQmorQixHQUN0QixNQUFNdzhCLEVBQVNRLEdBQVVoaEMsV0FBV2dFLEdBQ3BDLElBQUt3OEIsRUFDRCxNQUFPLEdBQ1gsR0FBSUEsRUFBT2x1RSxNQUFLblgsR0FBVSxNQUFMQSxJQUNqQixNQUFNb2xGLEdBQWtCdjhCLEVBQVl3OEIsR0FFeEMsT0FBT0EsRUFBT3Z1RSxLQUFJOVcsR0FBS2luRixHQUFjcCtCLEVBQVk3b0QsRUFBR3FsRixLQUV4RCxTQUFTNEIsR0FBY3ArQixFQUFZKzNCLEVBQVV5RSxHQUN6QyxJQUFJaGxELEVBQVEsS0FDUjRyQixHQUFXLEVBQ2YsSUFBS2xzRCxNQUFNZ04sUUFBUTZ6RSxHQUNmLE9BQ1c4RyxHQURQOUcsYUFBb0JsMUIsR0FDS2sxQixFQUFTdmdELE1BR1R1Z0QsRUFIZ0IzMEIsRUFBVSxNQU0zRCxJQUFJazZCLEVBQWEsS0FDakIsSUFBSyxJQUFJbCtFLEVBQUksRUFBR0EsRUFBSTI0RSxFQUFTbjZFLFNBQVV3QixFQUFHLENBQ3RDLE1BQU0wL0UsRUFBZ0IvRyxFQUFTMzRFLEdBQzNCMC9FLGFBQXlCdmhDLEdBQ3pCL2xCLEVBQVFzbkQsRUFFSEEsYUFBeUJqOEIsR0FDOUJyckIsRUFBUXNuRCxFQUFjdG5ELE1BRWpCc25ELGFBQXlCNzlDLEdBQzlCbWlCLEdBQVcsRUFFTjA3QixhQUF5QnJuQyxJQUFRcW5DLGFBQXlCenVDLEdBQy9EaXRDLEVBQWF3QixFQUVSQSxhQUF5QnZpQyxLQUM5Qi9rQixFQUFRc25ELEdBSWhCLEdBREF0bkQsRUFBUXlGLEVBQWtCekYsR0FDYixNQUFUQSxFQUNBLE9BQU9xbkQsR0FBa0JybkQsRUFBTzRyQixFQUFVazZCLEdBRzFDLE1BQU1mLEdBQWtCdjhCLEVBQVl3OEIsR0FHNUMsU0FBU3FDLEdBQWtCcm5ELEVBQU80ckIsRUFBVWs2QixHQUN4QyxPQUFPLElBQUlELEdBQXFCWCxHQUFjempGLElBQUl1K0IsR0FBUTRyQixFQUFVazZCLEdBV3hFLE1BQU15QixHQUFZLEdBd0NsQixNQUFNQyxHQWtDRjlNLGVBQWUvOUMsR0FDWCxPQUFPb3FELEdBQTJCcHFELEdBeUJ0Qys5Qyx3QkFBd0IvOUMsRUFBV3B2QixHQUMvQixNQUFNazZFLEVBQThCRCxHQUFtQjFoRixRQUFRNjJCLEdBQy9ELE9BQU82cUQsR0FBbUJFLHNCQUFzQkQsRUFBNkJsNkUsR0F5QmpGbXRFLDZCQUE2Qi85QyxFQUFXcHZCLEdBQ3BDLE9BQU8sSUFBSW82RSxHQUFvQmhyRCxFQUFXcHZCLElBR2xELE1BQU1vNkUsR0FJRnpuRixZQUFZMG5GLEVBQVlDLEdBRXBCem9GLEtBQUswb0YscUJBQXVCLEVBQzVCMW9GLEtBQUt3b0YsV0FBYUEsRUFDbEJ4b0YsS0FBS21PLE9BQVNzNkUsR0FBVyxLQUN6QixNQUFNeDNELEVBQU11M0QsRUFBV3hoRixPQUN2QmhILEtBQUsyb0YsT0FBUyxHQUNkM29GLEtBQUs0b0YsS0FBTyxHQUNaLElBQUssSUFBSXBnRixFQUFJLEVBQUdBLEVBQUl5b0IsRUFBS3pvQixJQUNyQnhJLEtBQUsyb0YsT0FBT25nRixHQUFLZ2dGLEVBQVdoZ0YsR0FBR3FXLElBQUkrVCxHQUNuQzV5QixLQUFLNG9GLEtBQUtwZ0YsR0FBSzIvRSxHQUd2QjlsRixJQUFJdStCLEVBQU9zSixFQUFnQjZnQixJQUN2QixPQUFPL3FELEtBQUs2b0YsVUFBVS9DLEdBQWN6akYsSUFBSXUrQixHQUFRLEtBQU1zSixHQUUxRDQrQyxzQkFBc0J2ckQsR0FDbEIsTUFBTThxRCxFQUE4QkQsR0FBbUIxaEYsUUFBUTYyQixHQUMvRCxPQUFPdjlCLEtBQUsrb0Ysd0JBQXdCVixHQUV4Q1Usd0JBQXdCeHJELEdBQ3BCLE1BQU15ckQsRUFBTSxJQUFJVCxHQUFvQmhyRCxHQUVwQyxPQURBeXJELEVBQUk3NkUsT0FBU25PLEtBQ05ncEYsRUFFWEMsc0JBQXNCNXhELEdBQ2xCLE9BQU9yM0IsS0FBS2twRixvQkFBb0JkLEdBQW1CMWhGLFFBQVEsQ0FBQzJ3QixJQUFXLElBRTNFNnhELG9CQUFvQjd4RCxHQUNoQixPQUFPcjNCLEtBQUttcEYscUJBQXFCOXhELEdBRXJDK3hELG1CQUFtQmhyRSxHQUNmLEdBQUlBLEVBQVEsR0FBS0EsR0FBU3BlLEtBQUt3b0YsV0FBV3hoRixPQUN0QyxNQTFoQlosU0FBMEJvWCxHQUN0QixPQUFPcUgsTUFBTSxTQUFTckgsdUJBeWhCUmlyRSxDQUFpQmpyRSxHQUUzQixPQUFPcGUsS0FBS3dvRixXQUFXcHFFLEdBRzNCa3JFLEtBQUtqeUQsR0FDRCxHQUFJcjNCLEtBQUswb0YsdUJBQXlCMW9GLEtBQUt1cEYseUJBQ25DLE1BQTRCdnBGLEtBanBCN0JxbEYsR0FpcEI2QnJsRixLQUFNcTNCLEVBQVN4WSxLQWpwQmQsU0FBVTVOLEdBQzNDLE1BQU8sd0NBQXdDZzBFLEdBQXVCaDBFLFFBa3BCdEUsT0FBT2pSLEtBQUttcEYscUJBQXFCOXhELEdBRXJDa3lELHlCQUNJLE9BQU92cEYsS0FBSzRvRixLQUFLNWhGLE9BRXJCbWlGLHFCQUFxQjl4RCxHQUNqQixHQUFJQSxFQUFTeXZELGNBQWUsQ0FDeEIsTUFBTWxoRCxFQUFNLEdBQ1osSUFBSyxJQUFJcDlCLEVBQUksRUFBR0EsRUFBSTZ1QixFQUFTd3ZELGtCQUFrQjcvRSxTQUFVd0IsRUFDckRvOUIsRUFBSXA5QixHQUFLeEksS0FBS3dwRixhQUFhbnlELEVBQVVBLEVBQVN3dkQsa0JBQWtCcitFLElBRXBFLE9BQU9vOUIsRUFHUCxPQUFPNWxDLEtBQUt3cEYsYUFBYW55RCxFQUFVQSxFQUFTd3ZELGtCQUFrQixJQUd0RTJDLGFBQWFueUQsRUFBVTJ2RCxHQUNuQixNQUFNeG5GLEVBQVV3bkYsRUFBMEJ4bkYsUUFDMUMsSUFBSTZzRCxFQVdBLzNDLEVBVkosSUFDSSszQyxFQUNJMjZCLEVBQTBCQyxhQUFhNXZFLEtBQUlpMUMsR0FBT3RzRCxLQUFLeXBGLDJCQUEyQm45QixLQUUxRixNQUFPOS9DLEdBSUgsTUFISUEsRUFBRWk1RSxRQUNGajVFLEVBQUVpNUUsT0FBT3psRixLQUFNcTNCLEVBQVN4WSxLQUV0QnJTLEVBR1YsSUFDSThILEVBQU05VSxLQUFXNnNELEdBRXJCLE1BQU83L0MsR0FDSCxNQUF5QnhNLEtBdnBCQzBwRixFQXVwQktsOUUsRUFBR0EsRUFBRTBvQixNQXRwQnJDbXdELEdBc3BCMEJybEYsS0FBa0JxM0IsRUFBU3hZLEtBdHBCdkIsU0FBVTVOLEdBQzNDLE1BQU1vTyxFQUFReVgsRUFBVTdsQixFQUFLLEdBQUcydkIsT0FDaEMsTUFBTyxHQUFHOG9ELEVBQWtCdjdELDBDQUEwQzlPLEtBQVM0bEUsR0FBdUJoMEUsUUFDdkd5NEUsR0FKUCxJQUFzQ0EsRUF5cEI5QixPQUFPcDFFLEVBRVhtMUUsMkJBQTJCbjlCLEdBQ3ZCLE9BQU90c0QsS0FBSzZvRixVQUFVdjhCLEVBQUl6dEMsSUFBS3l0QyxFQUFJbzZCLFdBQVlwNkIsRUFBSUUsU0FBVyxLQUFPekIsSUFFekU4OUIsVUFBVWhxRSxFQUFLNm5FLEVBQVl4OEMsR0FDdkIsT0FBSXJyQixJQUFRMHBFLEdBQW9Cb0IsYUFDckIzcEYsS0FFUDBtRixhQUFzQjdsQyxHQUNmN2dELEtBQUs0cEYsY0FBYy9xRSxFQUFLcXJCLEdBR3hCbHFDLEtBQUs2cEYsaUJBQWlCaHJFLEVBQUtxckIsRUFBZXc4QyxHQUd6RG9ELGVBQWVDLEdBQ1gsSUFBSyxJQUFJdmhGLEVBQUksRUFBR0EsRUFBSXhJLEtBQUsyb0YsT0FBTzNoRixPQUFRd0IsSUFDcEMsR0FBSXhJLEtBQUsyb0YsT0FBT25nRixLQUFPdWhGLEVBSW5CLE9BSEkvcEYsS0FBSzRvRixLQUFLcGdGLEtBQU8yL0UsS0FDakJub0YsS0FBSzRvRixLQUFLcGdGLEdBQUt4SSxLQUFLc3BGLEtBQUt0cEYsS0FBS3dvRixXQUFXaGdGLEtBRXRDeEksS0FBSzRvRixLQUFLcGdGLEdBR3pCLE9BQU8yL0UsR0FHWDZCLGFBQWFuckUsRUFBS3FyQixHQUNkLEdBQUlBLElBQWtCNmdCLEdBQ2xCLE9BQU83Z0IsRUFHUCxNQWp2QlosU0FBeUJxaEIsRUFBVTFzQyxHQUMvQixPQUFPd21FLEdBQWU5NUIsRUFBVTFzQyxHQUFLLFNBQVU1TixHQUUzQyxNQUFPLG1CQURPNmxCLEVBQVU3bEIsRUFBSyxHQUFHMnZCLFVBQ0dxa0QsR0FBdUJoMEUsUUE4dUJoRGc1RSxDQUFnQmpxRixLQUFNNmUsR0FJcEMrcUUsY0FBYy9xRSxFQUFLcXJCLEdBQ2YsTUFBTTUxQixFQUFNdFUsS0FBSzhwRixlQUFlanJFLEVBQUkrVCxJQUNwQyxPQUFRdGUsSUFBUTZ6RSxHQUFhN3pFLEVBQU10VSxLQUFLZ3FGLGFBQWFuckUsRUFBS3FyQixHQUc5RDIvQyxpQkFBaUJockUsRUFBS3FyQixFQUFldzhDLEdBQ2pDLElBQUlzQyxFQU9KLElBTElBLEVBREF0QyxhQUFzQmp0QyxHQUNoQno1QyxLQUFLbU8sT0FHTG5PLEtBRUhncEYsYUFBZVQsSUFBcUIsQ0FDdkMsTUFBTTJCLEVBQU9sQixFQUNQMTBFLEVBQU00MUUsRUFBS0osZUFBZWpyRSxFQUFJK1QsSUFDcEMsR0FBSXRlLElBQVE2ekUsR0FDUixPQUFPN3pFLEVBQ1gwMEUsRUFBTWtCLEVBQUsvN0UsT0FFZixPQUFZLE9BQVI2NkUsRUFDT0EsRUFBSTNtRixJQUFJd2MsRUFBSStoQixNQUFPc0osR0FHbkJscUMsS0FBS2dxRixhQUFhbnJFLEVBQUtxckIsR0FHbEM2N0Msa0JBR0EsTUFBTyxrQ0FPZixTQUF1Qng2QixFQUFVaGdELEdBQzdCLE1BQU1xNkIsRUFBTSxHQUNaLElBQUssSUFBSXA5QixFQUFJLEVBQUdBLEVBQUkraUQsRUFBU2k5QixXQUFXeGhGLFNBQVV3QixFQUM5Q285QixFQUFJcDlCLEdBWnlDLEtBWWpDK2lELEVBQVM2OUIsbUJBQW1CNWdGLEdBWmNxVyxJQUFJa25FLFlBQWMsS0FjNUUsT0FBT25nRCxFQWRldWtELENBQWNucUYsTUFDM0J3MEIsS0FBSyxVQUdkRCxXQUNJLE9BQU92MEIsS0FBSytsRixhQW1DcEIsU0FBUyxHQUFrQm5sRCxFQUFPdUosRUFBUVAsRUFBWWdCLFNBQ2xELE1BQU1tSCxFQUFRc0YsS0FHZCxPQUFjLE9BQVZ0RixHQUVBbkwsWUE3L2FKQSxXQUNJb0IsRUFBZTZCLEVBNC9haUMsR0E1L2FOLG9EQTYvYW5DLEdBQVNqSixFQUFPdUosSUFHcEI2VyxHQURPdkosS0FDc0IxRixFQUFPMUwsRUFBa0J6RixHQUFRdUosR0FjekUsU0FBUyxLQUNMLE1BQU14SixFQUFNaUcsVUFBWSxpRUFBbUUsVUFDM0YsTUFBTSxJQUFJbmhCLE1BQU1rYixHQTRCcEIsU0FBUyxHQUFXbWtCLEVBQVU3akQsRUFBTzQwRCxHQUNqQyxNQUFNOWpCLEVBQVFzRixLQUNSa0IsRUFBZUUsS0FDckIsR0FBSXVvQyxHQUFlanZDLEVBQU93RyxFQUFjdDNDLEdBQVEsQ0FDNUMsTUFBTTRxQyxFQUFReUwsS0FDUjFMLEVBQVFtUCxLQUNkNjJCLEdBQXdCL2xDLEVBQU9ELEVBQU9tRyxFQUFPK1MsRUFBVTdqRCxFQUFPOHdDLEVBQU1nRSxJQUFXOGYsR0FBVyxHQUMxRmp2QixXQUFhdXZDLEdBQTZCdHFDLEVBQU1wUCxLQUFNbVAsRUFBT2taLEVBQVV2TSxHQUUzRSxPQUFPLEdBTVgsU0FBUzZ4QyxHQUFzQ3YrQyxFQUFPRCxFQUFPbUcsRUFBTzl3QyxFQUFPcWxFLEdBQ3ZFLE1BQ00rakIsRUFBVy9qQixFQUFlLFFBQVUsUUFFMUMwTCxHQUFxQm5tQyxFQUFPa0csRUFIYm5HLEVBQU01YSxPQUdxQnE1RCxHQUFXQSxFQUFVcHBGLEdBMkNuRSxTQUFTLEdBQWVtZCxFQUFPZ1EsRUFBTXkxRCxFQUFZQyxHQUM3QyxNQUFNL3hDLEVBQVFzRixLQUNSeEwsRUFBUXlMLEtBQ1J5c0MsRUFBZ0J6eUMsR0FBZ0JsekIsRUFDdEN3b0IsV0FDSWtCLEVBQVl3USxLQUFtQnpNLEVBQU13TSxrQkFBbUIsa0RBQzVEelIsV0FBYThCLEVBQW1CcUosRUFBT2d5QyxHQUN2QyxNQUFNeHVDLEVBQVd4RCxFQUFNZ0UsSUFDakI0SCxFQUFTNUwsRUFBTWd5QyxHQUFpQmxuQixHQUFrQnRuQixFQUFVbm5CLEVBMTVYM0Qyb0IsR0FBaUJDLE9BQU9vRCxrQkEyNVh6QnhPLEVBQVFDLEVBQU1GLGdCQTFDeEIsU0FBcUN2dEIsRUFBT3l0QixFQUFPa0csRUFBTzRMLEVBQVF2dkIsRUFBTXkxRCxFQUFZQyxHQUNoRmw5QyxXQUFhK0wsR0FBc0I5RyxHQUNuQ2pGLFdBQWFBLFVBQVUrRSxrQkFDdkIsTUFBTXE0QyxFQUFjbjRDLEVBQU13QyxPQUVwQnpDLEVBQVFtZ0MsR0FBaUJsZ0MsRUFBT3p0QixFQUFPLEVBQWlCZ1EsRUFEaERxb0IsR0FBWXV0QyxFQUFhSCxJQUVqQzlRLEVBQWdCRCxHQUFrQmpuQyxFQUFPa0csRUFBT25HLEVBQU82SyxHQUFZdXRDLEVBQWFGLElBV3RGLE9BVkFsOUMsV0FzSEosU0FBZ0NpRixFQUFPbHFCLEVBQVNpcUIsRUFBT21uQyxHQU1uRCxHQUFnQixPQUxBbG5DLEVBQU0yRCxRQU1sQixPQUNKLE1BQU1vbEIsRUFBVWhwQixFQUFNM3FDLE1BRXRCLElBQUs4eEUsR0FBNkIsT0FBWm5lLElBT2Esb0JBQXZCMDFCLG9CQUFzQ0Esb0JBQzFDM29FLGFBQW1CMm9FLG9CQUNRLG9CQUFuQkMsZ0JBQWtDMzFCLEVBQVE5L0IsUUFBUSxNQUFRLElBQzdEeTFELGVBQWVsb0YsSUFBSXV5RCxNQUNWNGQsR0FBZ0IzbUMsRUFBTytvQixHQUFVLENBQy9DLElBQUl6bUMsRUFBVSxJQUFJeW1DLCtCQUNsQnptQyxHQUFXLFVBQVV5bUMsNEVBQ2pCQSxHQUFXQSxFQUFROS9CLFFBQVEsTUFBUSxFQUNuQzNHLEdBQVcsVUFBVXltQyxpSUFHckJ6bUMsR0FDSSwrRkFFUnlJLFFBQVE1MEIsTUFBTXlrQyxFQUFtQixJQUEyQnRZLEtBckp2RHE4RCxDQUF1QjMrQyxFQUFPOFIsRUFBUS9SLEVBQU9tbkMsR0FDdEMsT0FBaEJubkMsRUFBTWdTLE9BQ05nNUIsR0FBcUJockMsRUFBT0EsRUFBTWdTLE9BQU8sR0FFbkIsT0FBdEJoUyxFQUFNMGdDLGFBQ05zSyxHQUFxQmhyQyxFQUFPQSxFQUFNMGdDLGFBQWEsR0FFN0IsT0FBbEJ6Z0MsRUFBTTI5QixTQUNOMzlCLEVBQU0yOUIsUUFBUWloQixhQUFhNStDLEVBQU9ELEdBRS9CQSxFQTBCSDgrQyxDQUE0QjNHLEVBQWVsNEMsRUFBT2tHLEVBQU80TCxFQUFRdnZCLEVBQU15MUQsRUFBWUMsR0FDbkZqNEMsRUFBTXBQLEtBQUtzbkQsR0FDZmpzQyxHQUFnQmxNLEdBQU8sR0FDdkIsTUFBTTBnQyxFQUFjMWdDLEVBQU0wZ0MsWUFDTixPQUFoQkEsR0FDQTV1QixHQUFnQm5JLEVBQVVvSSxFQUFRMnVCLEdBRXRDLE1BQU0xb0IsRUFBVWhZLEVBQU1nWSxRQUNOLE9BQVpBLEdBQ0FtZSxHQUFpQnhzQixFQUFVb0ksRUFBUWlHLEdBRXZDLE1BQU10VSxFQUFTMUQsRUFBTTBELE9BQ04sT0FBWEEsR0FDQXV5QixHQUFpQnRzQixFQUFVb0ksRUFBUXJPLEdBRUssS0FBekIsR0FBZDFELEVBQU16QixRQUdQc25CLEdBQVk1bEIsRUFBT2tHLEVBQU80TCxFQUFRL1IsR0FLUCxJQXQ0WXhCbUwsR0FBaUJDLE9BQU9tRCxtQkF1NFkzQjZkLEdBQWdCcmEsRUFBUTVMLEdBcDRZNUJnRixHQUFpQkMsT0FBT21ELG9CQXU0WXBCdkksR0FBZ0JoRyxLQUNoQjJqQyxHQUEwQjFqQyxFQUFPa0csRUFBT25HLEdBQ3hDMGpDLEdBQXNCempDLEVBQU9ELEVBQU9tRyxJQUVqQixPQUFuQit4QyxHQUNBL1QsR0FBeUJoK0IsRUFBT25HLEdBUXhDLFNBQVMsS0FDTCxJQUFJOEwsRUFBZUQsS0FDbkI3USxXQUFheUIsRUFBY3FQLEVBQWMsNEJBQ3JDSyxLQUNBQyxNQUdBcFIsV0FBYTJMLEdBQWdCa0YsTUFDN0JDLEVBQWVBLEVBQWF2cEMsT0FDNUIycEMsR0FBZ0JKLEdBQWMsSUFFbEMsTUFBTTlMLEVBQVE4TCxFQUNkOVEsV0FBYTRXLEdBQWdCNVIsRUFBTyxHQTc1WXBDbUwsR0FBaUJDLE9BQU9tRCxvQkErNVl4QixNQUFNdE8sRUFBUXlMLEtBQ1Z6TCxFQUFNRixrQkFDTnFQLEdBQXVCblAsRUFBTzZMLEdBQzFCaEcsR0FBbUJnRyxJQUNuQjdMLEVBQU0yOUIsUUFBUW1oQixXQUFXanpDLElBR0QsTUFBNUI5TCxFQUFNK2dDLG9CQW5rWGQsU0FBdUIvZ0MsR0FDbkIsT0FBa0QsSUFBNUIsR0FBZEEsRUFBTXpCLE9Ba2tYMEJ5Z0QsQ0FBY2gvQyxJQUNsRHcrQyxHQUFzQ3YrQyxFQUFPRCxFQUFPeUwsS0FBWXpMLEVBQU0rZ0Msb0JBQW9CLEdBRS9ELE1BQTNCL2dDLEVBQU04Z0MsbUJBOWlYZCxTQUF1QjlnQyxHQUNuQixPQUFrRCxJQUE1QixHQUFkQSxFQUFNekIsT0E2aVh5QjBnRCxDQUFjai9DLElBQ2pEdytDLEdBQXNDditDLEVBQU9ELEVBQU95TCxLQUFZekwsRUFBTThnQyxtQkFBbUIsR0FhakcsU0FBUyxHQUFVdHVELEVBQU9nUSxFQUFNeTFELEVBQVlDLEdBQ3hDLEdBQWUxbEUsRUFBT2dRLEVBQU15MUQsRUFBWUMsR0FDeEMsS0E0RUosU0FBUyxHQUF3QjFsRSxFQUFPeWxFLEVBQVlDLEdBQ2hELE1BQU0veEMsRUFBUXNGLEtBQ1J4TCxFQUFReUwsS0FDUnlzQyxFQUFnQjNsRSxFQUFRa3pCLEdBQzlCMUssV0FBYThCLEVBQW1CcUosRUFBT2d5QyxHQUN2Q245QyxXQUNJa0IsRUFBWXdRLEtBQW1Cek0sRUFBTXdNLGtCQUFtQiw0REFDNUQsTUFBTXpNLEVBQVFDLEVBQU1GLGdCQXRDeEIsU0FBOEN2dEIsRUFBT3l0QixFQUFPa0csRUFBTzh4QyxFQUFZQyxHQUMzRWw5QyxXQUFhQSxVQUFVK0Usa0JBQ3ZCLE1BQU1xNEMsRUFBY240QyxFQUFNd0MsT0FDcEJ1UCxFQUFRbkgsR0FBWXV0QyxFQUFhSCxHQUNqQ2o0QyxFQUFRbWdDLEdBQWlCbGdDLEVBQU96dEIsRUFBTyxFQUEwQixlQUFnQncvQixHQVd2RixPQVJjLE9BQVZBLEdBQ0FnNUIsR0FBcUJockMsRUFBT2dTLEdBQU8sR0FHdkNrMUIsR0FBa0JqbkMsRUFBT2tHLEVBQU9uRyxFQURkNkssR0FBWXV0QyxFQUFhRixJQUVyQixPQUFsQmo0QyxFQUFNMjlCLFNBQ04zOUIsRUFBTTI5QixRQUFRaWhCLGFBQWE1K0MsRUFBT0QsR0FFL0JBLEVBd0JIay9DLENBQXFDL0csRUFBZWw0QyxFQUFPa0csRUFBTzh4QyxFQUFZQyxHQUM5RWo0QyxFQUFNcFAsS0FBS3NuRCxHQUNmanNDLEdBQWdCbE0sR0FBTyxHQUN2QmhGLFdBQWFBLFVBQVVvRyx3QkFDdkIsTUFBTTJRLEVBQVM1TCxFQUFNZ3lDLEdBQ2pCaHlDLEVBQU1nRSxJQUFVNm1CLGNBQWNoMkIsVUFBWSxlQUFpQixJQUMvRDZxQixHQUFZNWxCLEVBQU9rRyxFQUFPNEwsRUFBUS9SLEdBQ2xDb3NCLEdBQWdCcmEsRUFBUTVMLEdBQ3BCSCxHQUFnQmhHLEtBQ2hCMmpDLEdBQTBCMWpDLEVBQU9rRyxFQUFPbkcsR0FDeEMwakMsR0FBc0J6akMsRUFBT0QsRUFBT21HLElBRWxCLE1BQWxCK3hDLEdBQ0EvVCxHQUF5QmgrQixFQUFPbkcsR0FReEMsU0FBUyxLQUNMLElBQUk4TCxFQUFlRCxLQUNuQixNQUFNNUwsRUFBUXlMLEtBQ1ZTLEtBQ0FDLE1BR0FwUixXQUFhMkwsR0FBZ0JtRixHQUM3QkEsRUFBZUEsRUFBYXZwQyxPQUM1QjJwQyxHQUFnQkosR0FBYyxJQUVsQzlRLFdBQWE0VyxHQUFnQjlGLEVBQWMsR0FDdkM3TCxFQUFNRixrQkFDTnFQLEdBQXVCblAsRUFBTzZMLEdBQzFCaEcsR0FBbUJnRyxJQUNuQjdMLEVBQU0yOUIsUUFBUW1oQixXQUFXanpDLElBY3JDLFNBQVMsR0FBbUJ0NUIsRUFBT3lsRSxFQUFZQyxHQUMzQyxHQUF3QjFsRSxFQUFPeWxFLEVBQVlDLEdBQzNDLEtBWUosU0FBUyxLQUNMLE9BQU96c0MsS0FhWCxTQUFTL2hDLEdBQVVoQixHQUdmLFFBQVNBLEdBQTJCLG1CQUFiQSxFQUFJaEMsS0FLL0IsU0FBU3k0RSxHQUFlejJFLEdBQ3BCLFFBQVNBLEdBQWdDLG1CQUFsQkEsRUFBSTdPLFVBelovQjhpRixHQUFvQm9CLGFBQWdDN0QsR0FBY3pqRixJQUFJZzVFLElBb2F0RSxNQUFNMlAsR0FBZUQsR0F1QnJCLFNBQVMsR0FBV0UsRUFBV0MsRUFBWXBPLEVBQVlxTyxHQUNuRCxNQUFNcDVDLEVBQVFzRixLQUNSeEwsRUFBUXlMLEtBQ1IxTCxFQUFRNkwsS0FFZCxPQURBMnpDLEdBQWlCdi9DLEVBQU9rRyxFQUFPQSxFQUFNZ0UsSUFBV25LLEVBQU9xL0MsRUFBV0MsSUFBY3BPLEVBQVlxTyxHQUNyRixHQXVCWCxTQUFTLEdBQXdCRixFQUFXQyxHQUN4QyxNQUFNdC9DLEVBQVE2TCxLQUNSMUYsRUFBUXNGLEtBQ1J4TCxFQUFReUwsS0FJZCxPQURBOHpDLEdBQWlCdi9DLEVBQU9rRyxFQURQeWtDLEdBREV2OUIsR0FBdUJwTixFQUFNcFAsTUFDR21QLEVBQU9tRyxHQUNqQm5HLEVBQU9xL0MsRUFBV0MsR0FBWSxHQUNoRSxHQWdDWCxTQUFTRSxHQUFpQnYvQyxFQUFPa0csRUFBT3dELEVBQVUzSixFQUFPcS9DLEVBQVdDLEVBQVlwTyxFQUFZcU8sR0FDeEYsTUFBTUUsRUFBdUJ6NUMsR0FBZ0JoRyxHQUV2QzJ5QixFQURrQjF5QixFQUFNRixpQkFDTTRsQyxHQUF3QjFsQyxHQUN0RDFXLEVBQVU0YyxFQXAyYUosR0F3MmFOMHNCLEVBQVc2UyxHQUF3QnYvQixHQUN6Q25MLFdBQWE0VyxHQUFnQjVSLEVBQU8sSUFDcEMsSUFBSTAvQyxHQUFpQixFQUtyQixHQUFrQixFQUFiMS9DLEVBQU0vUCxNQUE0QnN2RCxFQUFxQixDQUN4RCxNQUFNeHRDLEVBQVM3SCxHQUFpQmxLLEVBQU9tRyxHQUNqQ3JNLEVBQVN5bEQsRUFBc0JBLEVBQW9CeHRDLEdBQVVBLEVBQzdENHRDLEVBQWdCOXNCLEVBQVN6M0QsT0FDekIyM0QsRUFBb0J3c0IsRUFDckI3bkMsR0FBVzZuQyxFQUFvQnYxQyxHQUFZME4sRUFBTzFYLEVBQU14dEIsU0FDekR3dEIsRUFBTXh0QixNQUdWLEdBQUlrM0IsR0FBcUJDLEdBQVcsQ0FXaEMsSUFBSWkyQyxFQUFtQixLQVV2QixJQUhLTCxHQUF1QkUsSUFDeEJHLEVBcEVoQixTQUE4QjMvQyxFQUFPa0csRUFBT2s1QyxFQUFXUSxHQUNuRCxNQUFNbHRCLEVBQVcxeUIsRUFBTTJ5QixRQUN2QixHQUFnQixNQUFaRCxFQUNBLElBQUssSUFBSS8xRCxFQUFJLEVBQUdBLEVBQUkrMUQsRUFBU3YzRCxPQUFTLEVBQUd3QixHQUFLLEVBQUcsQ0FDN0MsTUFBTWtqRixFQUFtQm50QixFQUFTLzFELEdBQ2xDLEdBQUlrakYsSUFBcUJULEdBQWExc0IsRUFBUy8xRCxFQUFJLEtBQU9pakYsRUFBVSxDQUloRSxNQUFNaHRCLEVBQVcxc0IsRUFqMWFqQixHQWsxYU00NUMsRUFBd0JwdEIsRUFBUy8xRCxFQUFJLEdBQzNDLE9BQU9pMkQsRUFBU3ozRCxPQUFTMmtGLEVBQXdCbHRCLEVBQVNrdEIsR0FBeUIsS0FPdkQsaUJBQXJCRCxJQUNQbGpGLEdBQUssR0FJakIsT0FBTyxLQTZDd0JvakYsQ0FBcUIvL0MsRUFBT2tHLEVBQU9rNUMsRUFBV3IvQyxFQUFNeHRCLFFBRWxELE9BQXJCb3RFLEdBS3VCQSxFQUFpQkssc0JBQXdCTCxHQUNqRE0scUJBQXVCWixFQUN0Q00sRUFBaUJLLHFCQUF1QlgsRUFDeENJLEdBQWlCLE1BRWhCLENBQ0RKLEVBQWFhLEdBQWFuZ0QsRUFBT21HLEVBQU81YyxFQUFTKzFELEdBQVksR0FDN0QsTUFBTTdaLEVBQVk5N0IsRUFBU3kyQyxPQUFPdG1ELEVBQVF1bEQsRUFBV0MsR0FDckR0a0QsV0FBYUEsVUFBVXFGLDJCQUN2Qnd5QixFQUFTdjJELEtBQUtnakYsRUFBWTdaLEdBQzFCOVMsR0FBWUEsRUFBU3IyRCxLQUFLK2lGLEVBQVd0c0IsRUFBbUI0c0IsRUFBZUEsRUFBZ0IsU0FJM0ZMLEVBQWFhLEdBQWFuZ0QsRUFBT21HLEVBQU81YyxFQUFTKzFELEdBQVksR0FDN0R4bEQsRUFBT1YsaUJBQWlCaW1ELEVBQVdDLEVBQVlwTyxHQUMvQ2wyQyxXQUFhQSxVQUFVcUYsMkJBQ3ZCd3lCLEVBQVN2MkQsS0FBS2dqRixHQUNkM3NCLEdBQVlBLEVBQVNyMkQsS0FBSytpRixFQUFXdHNCLEVBQW1CNHNCLEVBQWV6TyxRQU0zRW9PLEVBQWFhLEdBQWFuZ0QsRUFBT21HLEVBQU81YyxFQUFTKzFELEdBQVksR0FHakUsTUFBTXhwRCxFQUFVa0ssRUFBTWxLLFFBQ3RCLElBQUl5aUIsRUFDSixHQUFJbW5DLEdBQThCLE9BQVo1cEQsSUFBcUJ5aUIsRUFBUXppQixFQUFRdXBELElBQWEsQ0FDcEUsTUFBTWdCLEVBQWM5bkMsRUFBTW45QyxPQUMxQixHQUFJaWxGLEVBQ0EsSUFBSyxJQUFJempGLEVBQUksRUFBR0EsRUFBSXlqRixFQUFhempGLEdBQUssRUFBRyxDQUNyQyxNQUFNNFYsRUFBUStsQyxFQUFNMzdDLEdBQ3BCbytCLFdBQWE4QixFQUFtQnFKLEVBQU8zekIsR0FDdkMsTUFBTTh0RSxFQUFlL25DLEVBQU0zN0MsRUFBSSxHQUN6Qit1RCxFQUFvQnhsQixFQUFNM3pCLEdBQzFCK3RFLEVBQVM1MEIsRUFBa0IyMEIsR0FDakMsR0FBSXRsRCxZQUFjb2tELEdBQWFtQixHQUMzQixNQUFNLElBQUkxbUUsTUFBTSxXQUFXeW1FLHlCQUFvQzMwQixFQUFrQnoyRCxZQUFZc3RCLFVBRWpHLE1BQU0xckIsRUFBZXlwRixFQUFPMW1GLFVBQVV5bEYsR0FDaENuZ0IsRUFBTXRNLEVBQVN6M0QsT0FDckJ5M0QsRUFBU3YyRCxLQUFLZ2pGLEVBQVl4b0YsR0FDMUI2N0QsR0FBWUEsRUFBU3IyRCxLQUFLK2lGLEVBQVdyL0MsRUFBTXh0QixNQUFPMnNELElBQU9BLEVBQU0sTUFLL0UsU0FBU3FoQixHQUFpQ3I2QyxFQUFPNWMsRUFBUysxRCxFQUFZMStFLEdBQ2xFLElBR0ksT0FGQXFvQyxHQUFTLEVBQXFCMWYsRUFBUysxRCxJQUVkLElBQWxCQSxFQUFXMStFLEdBRXRCLE1BQU94SyxHQUVILE9BREFnZ0IsR0FBWSt2QixFQUFPL3ZDLElBQ1osRUFFWCxRQUNJNnlDLEdBQVMsRUFBbUIxZixFQUFTKzFELElBYTdDLFNBQVNhLEdBQWFuZ0QsRUFBT21HLEVBQU81YyxFQUFTKzFELEVBQVltQixHQUdyRCxPQUFPLFNBQVNDLEVBQTBDOS9FLEdBR3RELEdBQUlBLElBQU1uQixTQUNOLE9BQU82L0UsRUFJWCxNQUFNL3JDLEVBQTBCLEVBQWR2VCxFQUFNekIsTUFDcEJnTSxHQUF5QnZLLEVBQU14dEIsTUFBTzJ6QixHQUN0Q0EsRUFFMkMsSUFBM0IsR0FBZkEsRUFoL2FDLEtBaS9hRjZqQyxHQUFjejJCLEdBRWxCLElBQUluN0MsRUFBU29vRixHQUFpQ3I2QyxFQUFPNWMsRUFBUysxRCxFQUFZMStFLEdBR3RFKy9FLEVBQWlCRCxFQUEwQ1IscUJBQy9ELEtBQU9TLEdBRUh2b0YsRUFBU29vRixHQUFpQ3I2QyxFQUFPNWMsRUFBU28zRCxFQUFnQi8vRSxJQUFNeEksRUFDaEZ1b0YsRUFBaUJBLEVBQWVULHFCQU9wQyxPQUxJTyxJQUFxQyxJQUFYcm9GLElBQzFCd0ksRUFBRWdnRixpQkFFRmhnRixFQUFFaWdGLGFBQWMsR0FFYnpvRixHQStCZixTQUFTLEdBQWMwb0YsRUFBUSxHQUMzQixPQXRnWkosU0FBeUJBLEdBR3JCLE9BRnFCMzFDLEdBQWlCQyxPQUFPUSxhQUlqRCxTQUFxQm0xQyxFQUFjdHdDLEdBQy9CLEtBQU9zd0MsRUFBZSxHQUNsQi9sRCxXQUNJeUIsRUFBY2dVLEVBQVl4QyxJQUFtQiwwRUFDakR3QyxFQUFjQSxFQUFZeEMsSUFDMUI4eUMsSUFFSixPQUFPdHdDLEVBVkh1d0MsQ0FBWUYsRUFBTzMxQyxHQUFpQkMsT0FBT1EsZUF2aENuQyxHQTJoYkxxMUMsQ0FBZ0JILEdBa0IzQixTQUFTSSxHQUE0QmxoRCxFQUFPbWhELEdBQ3hDLElBQUlDLEVBQXlCLEtBQzdCLE1BQU1DLEVBaHZOVixTQUErQnJoRCxHQUMzQixNQUFNaTNCLEVBQVlqM0IsRUFBTWdTLE1BQ3hCLEdBQWlCLE1BQWJpbEIsRUFBbUIsQ0FDbkIsTUFBTXFxQixFQUFxQnJxQixFQUFVL3RDLFFBQVEsR0FHN0MsR0FBaUMsSUFBUCxFQUFyQm80RCxHQUNELE9BQU9ycUIsRUFBVXFxQixFQUFxQixHQUc5QyxPQUFPLEtBc3VOb0JDLENBQXNCdmhELEdBQ2pELElBQUssSUFBSXBqQyxFQUFJLEVBQUdBLEVBQUl1a0YsRUFBZ0IvbEYsT0FBUXdCLElBQUssQ0FDN0MsTUFBTTh0QyxFQUFZeTJDLEVBQWdCdmtGLEdBR2xDLEdBQWtCLE1BQWQ4dEMsR0FNSixHQUEyQixPQUF2QjIyQyxFQUNBdHBCLEdBQTJCLzNCLEVBQU8wSyxHQUFrQyxHQUNwRXN0QixHQUF5QnFwQixFQUFvQjMyQyxHQUM3QyxPQUFPOXRDLE9BUlB3a0YsRUFBeUJ4a0YsRUFXakMsT0FBT3drRixFQTJCWCxTQUFTLEdBQWdCRCxHQUNyQixNQUFNcHJCLEVBQWdCdHFCLEtBQVdpSyxJQTlsYnRCLEdBK2xiWCxJQUFLcWdCLEVBQWNmLFdBQVksQ0FHM0IsTUFBTXdzQixFQUFxQkwsRUFBa0JBLEVBQWdCL2xGLE9BQVMsRUFDaEVxbUYsRUFBa0IxckIsRUFBY2YsV0FDbEMzWixHQUFTbW1DLEVBQW9CLE1BQzNCRSxFQUFRRCxFQUFnQjlrRixRQUM5QixJQUFJZ2xGLEVBQWlCNXJCLEVBQWNubkIsTUFDbkMsS0FBMEIsT0FBbkIreUMsR0FBeUIsQ0FDNUIsTUFBTUMsRUFBWVQsRUFBa0JELEdBQTRCUyxFQUFnQlIsR0FBbUIsRUFDakYsT0FBZFMsSUFDSUYsRUFBTUUsR0FDTkYsRUFBTUUsR0FBV2hzQixlQUFpQityQixFQUdsQ0YsRUFBZ0JHLEdBQWFELEVBRWpDRCxFQUFNRSxHQUFhRCxHQUV2QkEsRUFBaUJBLEVBQWV0ckYsT0FlNUMsU0FBUyxHQUFhbTBDLEVBQVdxM0MsRUFBZ0IsRUFBRzd2QyxHQUNoRCxNQUFNN0wsRUFBUXNGLEtBQ1J4TCxFQUFReUwsS0FDUm1xQixFQUFrQnNLLEdBQWlCbGdDLEVBQU95RixHQUFnQjhFLEVBQVcsR0FBcUIsS0FBTXdILEdBQVMsTUFFNUUsT0FBL0I2akIsRUFBZ0JiLGFBQ2hCYSxFQUFnQmIsV0FBYTZzQixHQUVqQ3oxQyxLQUNzRCxLQUF6QixHQUF4QnlwQixFQUFnQnQzQixRQTl4T3pCLFNBQXlCMEIsRUFBT2tHLEVBQU8wdkIsR0FLbkNGLEdBSmlCeHZCLEVBQU1nRSxJQUlZLEVBQWdCaEUsRUFBTzB2QixFQUh0Q3ZDLEdBQWtCcnpCLEVBQU80MUIsRUFBaUIxdkIsR0FFN0MwdEIsR0FER2dDLEVBQWdCdHpELFFBQVU0akMsRUEvMk1uQyxHQWczTTJDMHZCLEVBQWlCMXZCLElBNHhPbkUyN0MsQ0FBZ0I3aEQsRUFBT2tHLEVBQU8wdkIsR0FpQ3RDLFNBQVMsR0FBc0IzYyxFQUFVcTlCLEVBQUl0c0IsR0FFekMsT0FEQSxHQUF1Qi9RLEVBQVUsR0FBSXE5QixFQUFJLEdBQUl0c0IsR0FDdEMsR0E4QlgsU0FBUyxHQUF1Qi9RLEVBQVV3VixFQUFRNm5CLEVBQUlDLEVBQVF2c0IsR0FDMUQsTUFBTTlqQixFQUFRc0YsS0FDUnFzQyxFQUFvQnhCLEdBQWVud0MsRUFBT3VvQixFQUFRNm5CLEVBQUlDLEdBQzVELEdBQUlzQixJQUFzQnBmLEdBQVcsQ0FDakMsTUFBTXo0QixFQUFReUwsS0FDUjFMLEVBQVFtUCxLQUNkNjJCLEdBQXdCL2xDLEVBQU9ELEVBQU9tRyxFQUFPK1MsRUFBVTQrQixFQUFtQjN4QyxFQUFNZ0UsSUFBVzhmLEdBQVcsR0FDdEdqdkIsV0FDSXV2QyxHQUE2QnRxQyxFQUFNcFAsS0FBTW1QLEVBQU9rWixFQUFVeE0sS0FBb0IsRUFBR2dpQixFQUFROG5CLEdBRWpHLE9BQU8sR0FnQ1gsU0FBUyxHQUF1QnQ5QixFQUFVd1YsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJSCxFQUFRdnNCLEdBQ2xFLE1BQU05akIsRUFBUXNGLEtBQ1Jxc0MsRUFBb0JyQixHQUFldHdDLEVBQU91b0IsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJSCxHQUNwRSxHQUFJc0IsSUFBc0JwZixHQUFXLENBQ2pDLE1BQU16NEIsRUFBUXlMLEtBQ1IxTCxFQUFRbVAsS0FDZDYyQixHQUF3Qi9sQyxFQUFPRCxFQUFPbUcsRUFBTytTLEVBQVU0K0IsRUFBbUIzeEMsRUFBTWdFLElBQVc4ZixHQUFXLEdBQ3RHanZCLFdBQ0l1dkMsR0FBNkJ0cUMsRUFBTXBQLEtBQU1tUCxFQUFPa1osRUFBVXhNLEtBQW9CLEVBQUdnaUIsRUFBUWdvQixFQUFJRixHQUVyRyxPQUFPLEdBbUNYLFNBQVMsR0FBdUJ0OUIsRUFBVXdWLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSU4sRUFBUXZzQixHQUMxRSxNQUFNOWpCLEVBQVFzRixLQUNScXNDLEVBQW9CbEIsR0FBZXp3QyxFQUFPdW9CLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSU4sR0FDNUUsR0FBSXNCLElBQXNCcGYsR0FBVyxDQUNqQyxNQUFNejRCLEVBQVF5TCxLQUNSMUwsRUFBUW1QLEtBQ2Q2MkIsR0FBd0IvbEMsRUFBT0QsRUFBT21HLEVBQU8rUyxFQUFVNCtCLEVBQW1CM3hDLEVBQU1nRSxJQUFXOGYsR0FBVyxHQUN0R2p2QixXQUNJdXZDLEdBQTZCdHFDLEVBQU1wUCxLQUFNbVAsRUFBT2taLEVBQVV4TSxLQUFvQixFQUFHZ2lCLEVBQVFnb0IsRUFBSUcsRUFBSUwsR0FFekcsT0FBTyxHQXFDWCxTQUFTLEdBQXVCdDlCLEVBQVV3VixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlULEVBQVF2c0IsR0FDbEYsTUFBTTlqQixFQUFRc0YsS0FDUnFzQyxFQUFvQmYsR0FBZTV3QyxFQUFPdW9CLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSVQsR0FDcEYsR0FBSXNCLElBQXNCcGYsR0FBVyxDQUNqQyxNQUFNejRCLEVBQVF5TCxLQUNSMUwsRUFBUW1QLEtBQ2Q2MkIsR0FBd0IvbEMsRUFBT0QsRUFBT21HLEVBQU8rUyxFQUFVNCtCLEVBQW1CM3hDLEVBQU1nRSxJQUFXOGYsR0FBVyxHQUN0R2p2QixXQUNJdXZDLEdBQTZCdHFDLEVBQU1wUCxLQUFNbVAsRUFBT2taLEVBQVV4TSxLQUFvQixFQUFHZ2lCLEVBQVFnb0IsRUFBSUcsRUFBSUcsRUFBSVIsR0FFN0csT0FBTyxHQXVDWCxTQUFTLEdBQXVCdDlCLEVBQVV3VixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlaLEVBQVF2c0IsR0FDMUYsTUFBTTlqQixFQUFRc0YsS0FDUnFzQyxFQUFvQlosR0FBZS93QyxFQUFPdW9CLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSVosR0FDNUYsR0FBSXNCLElBQXNCcGYsR0FBVyxDQUNqQyxNQUFNejRCLEVBQVF5TCxLQUNSMUwsRUFBUW1QLEtBQ2Q2MkIsR0FBd0IvbEMsRUFBT0QsRUFBT21HLEVBQU8rUyxFQUFVNCtCLEVBQW1CM3hDLEVBQU1nRSxJQUFXOGYsR0FBVyxHQUN0R2p2QixXQUNJdXZDLEdBQTZCdHFDLEVBQU1wUCxLQUFNbVAsRUFBT2taLEVBQVV4TSxLQUFvQixFQUFHZ2lCLEVBQVFnb0IsRUFBSUcsRUFBSUcsRUFBSUcsRUFBSVgsR0FFakgsT0FBTyxHQXlDWCxTQUFTLEdBQXVCdDlCLEVBQVV3VixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlmLEVBQVF2c0IsR0FDbEcsTUFBTTlqQixFQUFRc0YsS0FDUnFzQyxFQUFvQlQsR0FBZWx4QyxFQUFPdW9CLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSWYsR0FDcEcsR0FBSXNCLElBQXNCcGYsR0FBVyxDQUNqQyxNQUFNejRCLEVBQVF5TCxLQUNSMUwsRUFBUW1QLEtBQ2Q2MkIsR0FBd0IvbEMsRUFBT0QsRUFBT21HLEVBQU8rUyxFQUFVNCtCLEVBQW1CM3hDLEVBQU1nRSxJQUFXOGYsR0FBVyxHQUN0R2p2QixXQUNJdXZDLEdBQTZCdHFDLEVBQU1wUCxLQUFNbVAsRUFBT2taLEVBQVV4TSxLQUFvQixFQUFHZ2lCLEVBQVFnb0IsRUFBSUcsRUFBSUcsRUFBSUcsRUFBSUcsRUFBSWQsR0FFckgsT0FBTyxHQTJDWCxTQUFTLEdBQXVCdDlCLEVBQVV3VixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlsQixFQUFRdnNCLEdBQzFHLE1BQU05akIsRUFBUXNGLEtBQ1Jxc0MsRUFBb0JOLEdBQWVyeEMsRUFBT3VvQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlsQixHQUM1RyxHQUFJc0IsSUFBc0JwZixHQUFXLENBQ2pDLE1BQU16NEIsRUFBUXlMLEtBQ1IxTCxFQUFRbVAsS0FDZDYyQixHQUF3Qi9sQyxFQUFPRCxFQUFPbUcsRUFBTytTLEVBQVU0K0IsRUFBbUIzeEMsRUFBTWdFLElBQVc4ZixHQUFXLEdBQ3RHanZCLFdBQ0l1dkMsR0FBNkJ0cUMsRUFBTXBQLEtBQU1tUCxFQUFPa1osRUFBVXhNLEtBQW9CLEVBQUdnaUIsRUFBUWdvQixFQUFJRyxFQUFJRyxFQUFJRyxFQUFJRyxFQUFJRyxFQUFJakIsR0FFekgsT0FBTyxHQTZDWCxTQUFTLEdBQXVCdDlCLEVBQVV3VixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlyQixFQUFRdnNCLEdBQ2xILE1BQU05akIsRUFBUXNGLEtBQ1Jxc0MsRUFBb0JILEdBQWV4eEMsRUFBT3VvQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlyQixHQUNwSCxHQUFJc0IsSUFBc0JwZixHQUFXLENBQ2pDLE1BQU16NEIsRUFBUXlMLEtBQ1IxTCxFQUFRbVAsS0FDZDYyQixHQUF3Qi9sQyxFQUFPRCxFQUFPbUcsRUFBTytTLEVBQVU0K0IsRUFBbUIzeEMsRUFBTWdFLElBQVc4ZixHQUFXLEdBQ3RHanZCLFdBQ0l1dkMsR0FBNkJ0cUMsRUFBTXBQLEtBQU1tUCxFQUFPa1osRUFBVXhNLEtBQW9CLEVBQUdnaUIsRUFBUWdvQixFQUFJRyxFQUFJRyxFQUFJRyxFQUFJRyxFQUFJRyxFQUFJRyxFQUFJcEIsR0FFN0gsT0FBTyxHQWdDWCxTQUFTLEdBQXVCdDlCLEVBQVV6MEMsRUFBUXdsRCxHQUM5QyxNQUFNOWpCLEVBQVFzRixLQUNScXNDLEVBQW9CMUIsR0FBZWp3QyxFQUFPMWhDLEdBQ2hELEdBQUlxekUsSUFBc0JwZixHQUFXLENBQ2pDLE1BQU16NEIsRUFBUXlMLEtBQ1IxTCxFQUFRbVAsS0FFZCxHQURBNjJCLEdBQXdCL2xDLEVBQU9ELEVBQU9tRyxFQUFPK1MsRUFBVTQrQixFQUFtQjN4QyxFQUFNZ0UsSUFBVzhmLEdBQVcsR0FDbEdqdkIsVUFBVyxDQUNYLE1BQU1nOUMsRUFBeUIsQ0FBQ3Z6RSxFQUFPLElBQ3ZDLElBQUssSUFBSTdILEVBQUksRUFBR0EsRUFBSTZILEVBQU9ySixPQUFRd0IsR0FBSyxFQUNwQ283RSxFQUF1QjE3RSxLQUFLbUksRUFBTzdILElBRXZDMnRFLEdBQTZCdHFDLEVBQU1wUCxLQUFNbVAsRUFBT2taLEVBQVV4TSxLQUFvQnNyQyxFQUF1QjU4RSxPQUFTLEtBQU00OEUsSUFHNUgsT0FBTyxHQXVWWCxTQUFTK0osR0FBZXowQyxFQUFPMDBDLEVBQWF4dkUsRUFBT3l2RSxFQUFXQyxHQUMxRCxNQUFNQyxFQUFrQjcwQyxFQUFNOTZCLEVBQVEsR0FDaEM0dkUsRUFBd0IsT0FBaEJKLEVBQ2QsSUFBSWhuQixFQUFTaW5CLEVBQVkvb0IsR0FBcUJpcEIsR0FBbUI3b0IsR0FBcUI2b0IsR0FDbEZFLEdBQWlCLEVBTXJCLEtBQWtCLElBQVhybkIsS0FBb0MsSUFBbkJxbkIsR0FBNEJELElBQVEsQ0FDeERwbkQsV0FBYThCLEVBQW1Cd1EsRUFBTzB0QixHQUN2QyxNQUFNc25CLEVBQXdCaDFDLEVBQU0wdEIsR0FDOUJ1bkIsRUFBc0JqMUMsRUFBTTB0QixFQUFTLEdBQ3ZDd25CLEdBQWVGLEVBQXVCTixLQUN0Q0ssR0FBaUIsRUFDakIvMEMsRUFBTTB0QixFQUFTLEdBQUtpbkIsRUFBWXhvQixHQUE4QjhvQixHQUMxRGxwQixHQUE4QmtwQixJQUV0Q3ZuQixFQUFTaW5CLEVBQVkvb0IsR0FBcUJxcEIsR0FDdENqcEIsR0FBcUJpcEIsR0FFekJGLElBRUEvMEMsRUFBTTk2QixFQUFRLEdBQUt5dkUsRUFBWTVvQixHQUE4QjhvQixHQUN6RDFvQixHQUE4QjBvQixJQXFCMUMsU0FBU0ssR0FBZUMsRUFBbUJULEdBR3ZDLE9BRkFobkQsV0FDSW9CLEVBQWUxbkMsTUFBTWdOLFFBQVFzZ0YsSUFBYyxFQUFNLGtEQUMzQixPQUF0QlMsR0FFZSxNQUFmVCxJQUVDdHRGLE1BQU1nTixRQUFRK2dGLEdBQXFCQSxFQUFrQixHQUFLQSxLQUN2RFQsTUFJQ3R0RixNQUFNZ04sUUFBUStnRixJQUE2QyxpQkFBaEJULElBR3pDeG1DLEdBQXFCaW5DLEVBQW1CVCxJQUMzQyxFQWFaLE1BQU1VLEdBQWMsQ0FDaEJDLFFBQVMsRUFDVDF2RSxJQUFLLEVBQ0wydkUsT0FBUSxFQUNSdnRGLE1BQU8sRUFDUHd0RixTQUFVLEdBTWQsU0FBU0MsR0FBaUJueEMsR0FDdEIsT0FBT0EsRUFBS3pYLFVBQVV3b0QsR0FBWXp2RSxJQUFLeXZFLEdBQVlFLFFBTXZELFNBQVNHLEdBQW1CcHhDLEdBQ3hCLE9BQU9BLEVBQUt6WCxVQUFVd29ELEdBQVlydEYsTUFBT3F0RixHQUFZRyxVQWtDekQsU0FBU0csR0FBbUJyeEMsRUFBTW4vQixHQUM5QixNQUFNODhCLEVBQU1vekMsR0FBWUMsUUFDeEIsT0FBSXJ6QyxJQUFROThCLEdBQ0EsR0FFWkEsRUFBUWt3RSxHQUFZRSxPQW1GeEIsU0FBMkJqeEMsRUFBTWhCLEVBQVlpRyxHQUN6QyxLQUFPakcsRUFBYWlHLEdBQVlqRixFQUFLZ0IsV0FBV2hDLEdBQWMsSUFDMURBLElBRUosT0FBT0EsRUF2RnNCc3lDLENBQWtCdHhDLEVBQU0rd0MsR0FBWXp2RSxJQUFNVCxFQUFPODhCLEdBQ3ZFNHpDLEdBQWtCdnhDLEVBQU1uL0IsRUFBTzg4QixJQW1DMUMsU0FBUzZ6QyxHQUFleHhDLEVBQU1oQixHQUMxQixNQUFNckIsRUFBTW96QyxHQUFZQyxRQUN4QixJQUFJbndFLEVBQVFrd0UsR0FBWXp2RSxJQUFNaXdFLEdBQWtCdnhDLEVBQU1oQixFQUFZckIsR0FDbEUsT0FBSUEsSUFBUTk4QixHQUVBLEdBRVpBLEVBQVFrd0UsR0FBWUUsT0FzRHhCLFNBQXlCanhDLEVBQU1oQixFQUFZaUcsR0FDdkMsSUFBSXdzQyxFQUNKLEtBQU96eUMsRUFBYWlHLElBQ3dCLE1BQXRDd3NDLEVBQUt6eEMsRUFBS2dCLFdBQVdoQyxLQUF5QyxLQUFQeXlDLEtBQzdDLEdBQU5BLElBQThCLE1BQXFCLEdBQU5BLElBQThCLElBQzVFQSxHQUFNLElBQWlCQSxHQUFNLEtBQ2xDenlDLElBRUosT0FBT0EsRUE5RHNCMHlDLENBQWdCMXhDLEVBQU1uL0IsRUFBTzg4QixHQUMxRDk4QixFQUFROHdFLEdBQWlCM3hDLEVBQU1uL0IsRUFBTzg4QixFQUFLLElBQzNDOThCLEVBQVFrd0UsR0FBWXJ0RixNQUFRNnRGLEdBQWtCdnhDLEVBQU1uL0IsRUFBTzg4QixHQUMzRDk4QixFQUFRa3dFLEdBQVlHLFNBdUZ4QixTQUEyQmx4QyxFQUFNaEIsRUFBWWlHLEdBQ3pDLElBQUkyc0MsR0FBTyxFQUNQQyxHQUFPLEVBQ1BDLEdBQU8sRUFDUDdtRixFQUFJK3pDLEVBQ0oreUMsRUFBYzltRixFQUNsQixLQUFPQSxFQUFJZzZDLEdBQVUsQ0FDakIsTUFBTXdzQyxFQUFLenhDLEVBQUtnQixXQUFXLzFDLEtBQzNCLEdBQVcsS0FBUHdtRixFQUNBLE9BQU9NLEVBRUssS0FBUE4sR0FBdUMsS0FBUEEsRUFDckNNLEVBQWM5bUYsRUFBSSttRixHQUFrQmh5QyxFQUFNeXhDLEVBQUl4bUYsRUFBR2c2QyxHQUU1Q2pHLElBQ0wvekMsRUFBSSxHQUNJLEtBQVI2bUYsR0FDUSxLQUFSRCxHQUE4QixLQUFSRCxHQUE2QixLQUFQSCxFQUM1Q00sRUFBYzltRixFQUFJK21GLEdBQWtCaHlDLEVBQU0sR0FBc0IvMEMsRUFBR2c2QyxHQUU5RHdzQyxFQUFLLEtBRVZNLEVBQWM5bUYsR0FFbEI2bUYsRUFBTUQsRUFDTkEsRUFBTUQsRUFDTkEsR0FBWSxHQUFOSCxFQUVWLE9BQU9NLEVBbkh3QkUsQ0FBa0JqeUMsRUFBTW4vQixFQUFPODhCLEdBQ3ZEZzBDLEdBQWlCM3hDLEVBQU1uL0IsRUFBTzg4QixFQUFLLEtBTTlDLFNBQVN1MEMsR0FBaUJseUMsR0FDdEIrd0MsR0FBWXp2RSxJQUFNLEVBQ2xCeXZFLEdBQVlFLE9BQVMsRUFDckJGLEdBQVlydEYsTUFBUSxFQUNwQnF0RixHQUFZRyxTQUFXLEVBQ3ZCSCxHQUFZQyxRQUFVaHhDLEVBQUt2MkMsT0FXL0IsU0FBUzhuRixHQUFrQnZ4QyxFQUFNaEIsRUFBWWlHLEdBQ3pDLEtBQU9qRyxFQUFhaUcsR0FBWWpGLEVBQUtnQixXQUFXaEMsSUFBZSxJQUMzREEsSUFFSixPQUFPQSxFQTBDWCxTQUFTMnlDLEdBQWlCM3hDLEVBQU1oQixFQUFZaUcsRUFBVWt0QyxHQVFsRCxPQVBBbnpDLEVBQWF1eUMsR0FBa0J2eEMsRUFBTWhCLEVBQVlpRyxJQUNoQ0EsSUFDVDViLFdBQWEyVyxFQUFLZ0IsV0FBV2hDLEtBQWdCbXpDLEdBQzdDQyxHQUFvQnB5QyxFQUFNMzhDLE9BQU9ndkYsYUFBYUYsR0FBWW56QyxHQUU5REEsS0FFR0EsRUFpRFgsU0FBU2d6QyxHQUFrQmh5QyxFQUFNc3lDLEVBQWV0ekMsRUFBWWlHLEdBQ3hELElBQUkyc0MsR0FBTyxFQUNQL3dFLEVBQVFtK0IsRUFDWixLQUFPbitCLEVBQVFva0MsR0FBVSxDQUNyQixNQUFNd3NDLEVBQUt6eEMsRUFBS2dCLFdBQVduZ0MsS0FDM0IsR0FBSTR3RSxHQUFNYSxHQUF5QixLQUFSVixFQUN2QixPQUFPL3dFLEVBS1Ard0UsRUFITSxJQUFOSCxHQUFxQyxLQUFSRyxFQUd2QixFQUdBSCxFQUdkLE1BQU1wb0QsVUFBWStvRCxHQUFvQnB5QyxFQUFNMzhDLE9BQU9ndkYsYUFBYUMsR0FBZ0JydEMsR0FDNUUsSUFBSS84QixNQUVaLFNBQVNrcUUsR0FBb0JweUMsRUFBTXV5QyxFQUFXMXhFLEdBRTFDLE1BREF3b0IsV0FBYWtCLEVBQTRCLGlCQUFUeVYsR0FBbUIsRUFBTSx3QkFDbkRyNUMsRUFBVywrQkFBK0JrYSxnQkFBc0JtL0IsRUFBS3pYLFVBQVUsRUFBRzFuQixHQUFTLE1BQzdGbS9CLEVBQUt6WCxVQUFVMW5CLEVBQU9BLEVBQVEsR0FBSyxNQUFRbS9CLEVBQUs2b0IsT0FBT2hvRCxFQUFRLEdBQy9ELGlCQUFpQjB4RSxPQTZCekIsU0FBUyxHQUFZcG1DLEVBQU16b0QsRUFBT21oRixHQUU5QixPQURBMk4sR0FBcUJybUMsRUFBTXpvRCxFQUFPbWhGLEdBQVEsR0FDbkMsR0FpQlgsU0FBUyxHQUFZcGdCLEVBQVcvZ0UsR0FFNUIsT0FEQTh1RixHQUFxQi90QixFQUFXL2dFLEVBQU8sTUFBTSxHQUN0QyxHQXFCWCxTQUFTLEdBQVdxdUMsR0FDaEIwZ0QsR0FBZ0JDLEdBQXVCQyxHQUFtQjVnRCxHQUFRLEdBV3RFLFNBQVM0Z0QsR0FBa0Ivb0MsRUFBZTVKLEdBQ3RDLElBQUssSUFBSS8wQyxFQXZRYixTQUFvQiswQyxHQUVoQixPQURBa3lDLEdBQWlCbHlDLEdBQ1Z3eEMsR0FBZXh4QyxFQUFNdXhDLEdBQWtCdnhDLEVBQU0sRUFBRyt3QyxHQUFZQyxVQXFRdEQ0QixDQUFXNXlDLEdBQU8vMEMsR0FBSyxFQUFHQSxFQUFJdW1GLEdBQWV4eEMsRUFBTS8wQyxHQUM1RHluRixHQUFzQjlvQyxFQUFldW5DLEdBQWlCbnhDLEdBQU9veEMsR0FBbUJweEMsSUFxQnhGLFNBQVMsR0FBV3FHLEdBQ2hCb3NDLEdBQWdCOW9DLEdBQWtCa3BDLEdBQW1CeHNDLEdBQVMsR0FXbEUsU0FBU3dzQyxHQUFrQmpwQyxFQUFlNUosR0FDdEMsSUFBSyxJQUFJLzBDLEVBblZiLFNBQXdCKzBDLEdBRXBCLE9BREFreUMsR0FBaUJseUMsR0FDVnF4QyxHQUFtQnJ4QyxFQUFNdXhDLEdBQWtCdnhDLEVBQU0sRUFBRyt3QyxHQUFZQyxVQWlWMUQ4QixDQUFlOXlDLEdBQU8vMEMsR0FBSyxFQUFHQSxFQUFJb21GLEdBQW1CcnhDLEVBQU0vMEMsR0FDcEUwK0MsR0FBaUJDLEVBQWV1bkMsR0FBaUJueEMsSUFBTyxHQVdoRSxTQUFTd3lDLEdBQXFCcm1DLEVBQU16b0QsRUFBT21oRixFQUFROWIsR0FDL0MsTUFBTXYwQixFQUFRc0YsS0FDUnhMLEVBQVF5TCxLQUlSaUIsRUFBZUcsR0FBc0IsR0FDdkM3TSxFQUFNaUgsaUJBQ053OUMsR0FBdUJ6a0QsRUFBTzZkLEVBQU1uUixFQUFjK3RCLEdBRWxEcmxFLElBQVVxakUsSUFBYTBjLEdBQWVqdkMsRUFBT3dHLEVBQWN0M0MsSUFFM0RzdkYsR0FBYzFrRCxFQURBQSxFQUFNcFAsS0FBS29lLE1BQ0c5SSxFQUFPQSxFQUFNZ0UsSUFBVzJULEVBQU0zWCxFQUFNd0csRUFBZSxHQW1tQnZGLFNBQXlCdDNDLEVBQU9taEYsR0FVNUIsT0FUYSxNQUFUbmhGLElBR3VCLGlCQUFYbWhGLEVBQ1puaEYsR0FBZ0JtaEYsRUFFTSxpQkFBVm5oRixJQUNaQSxFQUFRNjFCLEVBQVU4NEIsR0FBZ0IzdUQsTUFFL0JBLEVBN21CaUZ1dkYsQ0FBZ0J2dkYsRUFBT21oRixHQUFTOWIsRUFBYy90QixHQWExSSxTQUFTeTNDLEdBQWdCOW9DLEVBQWtCdXBDLEVBQWN4dkYsRUFBT3FsRSxHQUM1RCxNQUFNejZCLEVBQVF5TCxLQUNSaUIsRUFBZUcsR0FBc0IsR0FDdkM3TSxFQUFNaUgsaUJBQ053OUMsR0FBdUJ6a0QsRUFBTyxLQUFNME0sRUFBYyt0QixHQUV0RCxNQUFNdjBCLEVBQVFzRixLQUNkLEdBQUlwMkMsSUFBVXFqRSxJQUFhMGMsR0FBZWp2QyxFQUFPd0csRUFBY3QzQyxHQUFRLENBR25FLE1BQU0ycUMsRUFBUUMsRUFBTXBQLEtBQUtvZSxNQUN6QixHQUFJNjFDLEdBQXNCOWtELEVBQU8wNkIsS0FBa0JxcUIsR0FBaUI5a0QsRUFBTzBNLEdBQWUsQ0FDdEYsR0FBSTNSLFVBQVcsQ0FHWCxNQUFNZ25ELEVBQWMvaEQsRUFBTXBQLEtBQUs4YixHQUMvQnpRLEVBQVl4bkMsTUFBTWdOLFFBQVFzZ0YsR0FBZUEsRUFBWSxHQUFLQSxHQUFhLEVBQU8sZ0VBU2xGLElBQUlnRCxFQUFldHFCLEVBQWUxNkIsRUFBTStnQyxtQkFBcUIvZ0MsRUFBTThnQyxrQkFDbkU5bEMsWUFBOEIsSUFBakIwL0IsR0FBMkMsT0FBakJzcUIsR0FDbkM5b0QsRUFBWThvRCxFQUFhQyxTQUFTLE1BQU0sRUFBTSw0Q0FDN0IsT0FBakJELElBRUEzdkYsRUFBUThrQyxFQUF1QjZxRCxFQUFjM3ZGLEdBQWdCLEtBSWpFbXBGLEdBQXNDditDLEVBQU9ELEVBQU9tRyxFQUFPOXdDLEVBQU9xbEUsUUF5WDlFLFNBQTBCejZCLEVBQU9ELEVBQU9tRyxFQUFPd0QsRUFBVXU3QyxFQUFrQkMsRUFBa0J6cUIsRUFBYy90QixHQUNuR3U0QyxJQUFxQnhzQixLQUVyQndzQixFQUFtQjFqRCxJQUV2QixJQUFJNGpELEVBQVcsRUFDWEMsRUFBVyxFQUNYQyxFQUFTLEVBQUlKLEVBQWlCOXBGLE9BQVM4cEYsRUFBaUIsR0FBSyxLQUM3RDNLLEVBQVMsRUFBSTRLLEVBQWlCL3BGLE9BQVMrcEYsRUFBaUIsR0FBSyxLQUNqRSxLQUFrQixPQUFYRyxHQUE4QixPQUFYL0ssR0FBaUIsQ0FDdkN2L0MsV0FBYXVCLEVBQWU2b0QsRUFBVSxJQUFLLGtDQUMzQ3BxRCxXQUFhdUIsRUFBZThvRCxFQUFVLElBQUssa0NBQzNDLE1BQU0zbEUsRUFBVzBsRSxFQUFXRixFQUFpQjlwRixPQUFTOHBGLEVBQWlCRSxFQUFXLFFBQUt6c0YsRUFDakZpMkQsRUFBV3kyQixFQUFXRixFQUFpQi9wRixPQUFTK3BGLEVBQWlCRSxFQUFXLFFBQUsxc0YsRUFDdkYsSUFDSWs0RCxFQURBMDBCLEVBQVMsS0FFVEQsSUFBVy9LLEdBRVg2SyxHQUFZLEVBQ1pDLEdBQVksRUFDUjNsRSxJQUFha3ZDLElBQ2IyMkIsRUFBU2hMLEVBQ1QxcEIsRUFBV2pDLElBR0MsT0FBWDJyQixHQUE4QixPQUFYK0ssR0FBbUJBLEVBQVMvSyxHQUtwRDZLLEdBQVksRUFDWkcsRUFBU0QsSUFNVHRxRCxXQUFheUIsRUFBYzg5QyxFQUFRLGlDQUNuQzhLLEdBQVksRUFDWkUsRUFBU2hMLEVBQ1QxcEIsRUFBV2pDLEdBRUEsT0FBWDIyQixHQUNBWixHQUFjMWtELEVBQU9ELEVBQU9tRyxFQUFPd0QsRUFBVTQ3QyxFQUFRMTBCLEVBQVU2SixFQUFjL3RCLEdBRWpGMjRDLEVBQVNGLEVBQVdGLEVBQWlCOXBGLE9BQVM4cEYsRUFBaUJFLEdBQVksS0FDM0U3SyxFQUFTOEssRUFBV0YsRUFBaUIvcEYsT0FBUytwRixFQUFpQkUsR0FBWSxNQXBhdkVHLENBQWlCdmxELEVBQU9ELEVBQU9tRyxFQUFPQSxFQUFNZ0UsSUFBV2hFLEVBQU13RyxFQUFlLEdBQUl4RyxFQUFNd0csRUFBZSxHQThUakgsU0FBZ0MyTyxFQUFrQnVwQyxFQUFjeHZGLEdBQzVELEdBQWEsTUFBVEEsR0FBdUQsS0FBVkEsRUFDN0MsT0FBT21zQyxHQUNYLE1BQU1pa0QsRUFBcUIsR0FDckJDLEVBQWlCMWhDLEdBQWdCM3VELEdBQ3ZDLEdBQUlYLE1BQU1nTixRQUFRZ2tGLEdBQ2QsSUFBSyxJQUFJOW9GLEVBQUksRUFBR0EsRUFBSThvRixFQUFldHFGLE9BQVF3QixJQUN2QzArQyxFQUFpQm1xQyxFQUFvQkMsRUFBZTlvRixJQUFJLFFBRzNELEdBQThCLGlCQUFuQjhvRixFQUNaLElBQUssTUFBTXp5RSxLQUFPeXlFLEVBQ1ZBLEVBQWU3d0YsZUFBZW9lLElBQzlCcW9DLEVBQWlCbXFDLEVBQW9CeHlFLEVBQUt5eUUsRUFBZXp5RSxRQUlsQyxpQkFBbkJ5eUUsRUFDWmIsRUFBYVksRUFBb0JDLEdBR2pDMXFELFdBQ0kxaUMsRUFBVyxtQ0FBcUNvdEYsRUFBaUIsS0FBT0EsR0FFaEYsT0FBT0QsRUF0VjJHRSxDQUF1QnJxQyxFQUFrQnVwQyxFQUFjeHZGLEdBQVFxbEUsRUFBYy90QixJQVVuTSxTQUFTbzRDLEdBQWlCOWtELEVBQU8wTSxHQUU3QixPQUFPQSxHQUFnQjFNLEVBQU1vSCxrQkFXakMsU0FBU3E5QyxHQUF1QnprRCxFQUFPK2hELEVBQWFyMUMsRUFBYyt0QixHQUM5RDEvQixXQUFhaU0sR0FBc0JoSCxHQUNuQyxNQUFNcU4sRUFBUXJOLEVBQU1wUCxLQUNwQixHQUFnQyxPQUE1QnljLEVBQU1YLEVBQWUsR0FBYSxDQU1sQyxNQUFNM00sRUFBUXNOLEVBQU0yQixNQUNwQmpVLFdBQWF5QixFQUFjdUQsRUFBTyxrQkFDbEMsTUFBTTRsRCxFQUFpQmIsR0FBaUI5a0QsRUFBTzBNLEdBQzNDbTRDLEdBQXNCOWtELEVBQU8wNkIsSUFBaUMsT0FBaEJzbkIsSUFBeUI0RCxJQUt2RTVELEdBQWMsR0FFbEJBLEVBa0JSLFNBQWdDMTBDLEVBQU90TixFQUFPNmxELEVBQVluckIsR0FDdEQsTUFBTW9yQixFQUFtQno0QyxHQUF1QkMsR0FDaEQsSUFBSXk0QyxFQUFXcnJCLEVBQWUxNkIsRUFBTXU3QixnQkFBa0J2N0IsRUFBTXc3QixlQUM1RCxHQUF5QixPQUFyQnNxQixFQUsyRyxLQUE5RHByQixFQUFlMTZCLEVBQU02NkIsY0FBZ0I3NkIsRUFBTTg2QixpQkFNcEYrcUIsRUFBYUcsR0FEYkgsRUFBYUksR0FBNkIsS0FBTTM0QyxFQUFPdE4sRUFBTzZsRCxFQUFZbnJCLEdBQ3hCMTZCLEVBQU1nUyxNQUFPMG9CLEdBRS9EcXJCLEVBQVcsVUFHZCxDQUdELE1BQU12bEIsRUFBdUJ4Z0MsRUFBTXdnQyxxQkFFbkMsSUFEeUUsSUFBMUJBLEdBQStCbHpCLEVBQU1rekIsS0FBMEJzbEIsRUFJMUcsR0FGQUQsRUFDSUksR0FBNkJILEVBQWtCeDRDLEVBQU90TixFQUFPNmxELEVBQVluckIsR0FDNUQsT0FBYnFyQixFQUFtQixDQU9uQixJQUFJRyxFQXVDcEIsU0FBb0M1NEMsRUFBT3ROLEVBQU8wNkIsR0FDOUMsTUFBTUMsRUFBV0QsRUFBZTE2QixFQUFNNjZCLGNBQWdCNzZCLEVBQU04NkIsY0FDNUQsR0FBdUMsSUFBbkN4QixHQUFxQnFCLEdBSXpCLE9BQU9ydEIsRUFBTTRyQixHQUFxQnlCLElBN0NHd3JCLENBQTJCNzRDLEVBQU90TixFQUFPMDZCLFFBQ3ZDL2hFLElBQXZCdXRGLEdBQW9DeHhGLE1BQU1nTixRQUFRd2tGLEtBSWxEQSxFQUFxQkQsR0FBNkIsS0FBTTM0QyxFQUFPdE4sRUFBT2ttRCxFQUFtQixHQUFrQ3hyQixHQUMzSHdyQixFQUNJRixHQUF5QkUsRUFBb0JsbUQsRUFBTWdTLE1BQU8wb0IsR0E0RmxGLFNBQW9DcHRCLEVBQU90TixFQUFPMDZCLEVBQWNzbkIsR0FDNUQsTUFBTXJuQixFQUFXRCxFQUFlMTZCLEVBQU02NkIsY0FBZ0I3NkIsRUFBTTg2QixjQUM1RDkvQixXQUNJb0IsRUFBZWs5QixHQUFxQnFCLEdBQVcsRUFBRyw0REFDdERydEIsRUFBTTRyQixHQUFxQnlCLElBQWFxbkIsRUEvRnhCb0UsQ0FBMkI5NEMsRUFBT3ROLEVBQU8wNkIsRUFBY3dyQixTQVMzREgsRUFrR2hCLFNBQXlCejRDLEVBQU90TixFQUFPMDZCLEdBQ25DLElBQUlxckIsRUFDSixNQUFNeDJDLEVBQWV2UCxFQUFNdVAsYUFDM0J2VSxXQUNJb0IsRUFBZTRELEVBQU13Z0Msc0JBQXVCLEVBQUcsZ0hBR25ELElBQUssSUFBSTVqRSxFQUFJLEVBQUlvakMsRUFBTXdnQyxxQkFBc0I1akUsRUFBSTJ5QyxFQUFjM3lDLElBRTNEbXBGLEVBQVdDLEdBQXlCRCxFQUR0Qno0QyxFQUFNMXdDLEdBQUdpbUMsVUFDOEI2M0IsR0FFekQsT0FBT3NyQixHQUF5QkQsRUFBVS9sRCxFQUFNZ1MsTUFBTzBvQixHQTdHaEMyckIsQ0FBZ0IvNEMsRUFBT3ROLEVBQU8wNkIsR0FPckQsWUFIaUIvaEUsSUFBYm90RixJQUNBcnJCLEVBQWdCMTZCLEVBQU11N0IsZ0JBQWtCd3FCLEVBQWEvbEQsRUFBTXc3QixlQUFpQnVxQixHQUV6RUYsRUE1RVdTLENBQXVCaDVDLEVBQU90TixFQUFPZ2lELEVBQWF0bkIsR0FudEJ4RSxTQUErQnB0QixFQUFPdE4sRUFBT3VtRCxFQUF1Qi96RSxFQUFPZzBFLEVBQWV0RSxHQUN0RmxuRCxXQUFhaU0sR0FBc0J5RSxNQUNuQyxJQUFJKzZDLEVBQVl2RSxFQUFpQmxpRCxFQUFNNjZCLGNBQWdCNzZCLEVBQU04NkIsY0FDekQ0ckIsRUFBV3h0QixHQUFxQnV0QixHQUNoQ0UsRUFBV3J0QixHQUFxQm10QixHQUNwQ241QyxFQUFNOTZCLEdBQVMrekUsRUFDZixJQUNJdkUsRUFEQTRFLEdBQXlCLEVBRTdCLEdBQUlseUYsTUFBTWdOLFFBQVE2a0YsR0FBd0IsQ0FFdEMsTUFBTU0sRUFBc0JOLEVBQzVCdkUsRUFBYzZFLEVBQW9CLElBRWQsT0FBaEI3RSxHQUNBeG1DLEdBQXFCcXJDLEVBQXFCN0UsR0FBZSxLQUV6RDRFLEdBQXlCLFFBSTdCNUUsRUFBY3VFLEVBRWxCLEdBQUlDLEVBTUEsR0FIeUMsSUFBYkcsRUFHSCxDQUVyQixNQUFNRyxFQUFlNXRCLEdBQXFCNXJCLEVBQU1vNUMsRUFBVyxJQUMzRHA1QyxFQUFNOTZCLEVBQVEsR0FBS3ltRCxHQUFnQjZ0QixFQUFjSixHQUc1QixJQUFqQkksSUFFQXg1QyxFQUFNdzVDLEVBQWUsR0FDakJ2dEIsR0FBcUJqc0IsRUFBTXc1QyxFQUFlLEdBQUl0MEUsSUFHdEQ4NkIsRUFBTW81QyxFQUFXLElBL3NPQ3Z0QixFQStzT3lCN3JCLEVBQU1vNUMsRUFBVyxHQS9zTzNCdG9ELEVBK3NPK0I1ckIsRUE5c094RXdvQixXQUFhVSxFQUFheTlCLEVBQWUsbUJBQ3pDbitCLFdBQWFZLEVBQW9Cd0MsRUFBVSxFQUFHLE9BQ3JCLE9BQWhCKzZCLEVBQ0ovNkIsR0FBWSxTQThzT1RrUCxFQUFNOTZCLEVBQVEsR0FBS3ltRCxHQUFnQnl0QixFQUFVLEdBRzVCLElBQWJBLElBRUFwNUMsRUFBTW81QyxFQUFXLEdBQUtudEIsR0FBcUJqc0IsRUFBTW81QyxFQUFXLEdBQUlsMEUsSUFHcEVrMEUsRUFBV2wwRSxPQU1mODZCLEVBQU05NkIsRUFBUSxHQUFLeW1ELEdBQWdCMHRCLEVBQVUsR0FDN0MzckQsV0FDSWtCLEVBQXlCLElBQWJ3cUQsR0FBK0IsSUFBYkMsR0FBZ0IsRUFBTywrREFDeEMsSUFBYkQsRUFDQUEsRUFBV2wwRSxFQUlYODZCLEVBQU1xNUMsRUFBVyxHQUFLcHRCLEdBQXFCanNCLEVBQU1xNUMsRUFBVyxHQUFJbjBFLEdBRXBFbTBFLEVBQVduMEUsRUExdU9uQixJQUE4QjJtRCxFQUFlLzZCLEVBOHVPckN3b0QsSUFDQXQ1QyxFQUFNOTZCLEVBQVEsR0FBSzZtRCxHQUE4Qi9yQixFQUFNOTZCLEVBQVEsS0FFbkV1dkUsR0FBZXowQyxFQUFPMDBDLEVBQWF4dkUsR0FBTyxHQUMxQ3V2RSxHQUFlejBDLEVBQU8wMEMsRUFBYXh2RSxHQUFPLEdBb0I5QyxTQUF3Q3d0QixFQUFPZ2lELEVBQWExMEMsRUFBTzk2QixFQUFPMHZFLEdBQ3RFLE1BQU02RCxFQUFXN0QsRUFBaUJsaUQsRUFBTXU3QixnQkFBa0J2N0IsRUFBTXc3QixlQUNoRCxNQUFadXFCLEdBQTZELGlCQUFmL0QsR0FDOUN4bUMsR0FBcUJ1cUMsRUFBVS9ELElBQWdCLElBRS9DMTBDLEVBQU05NkIsRUFBUSxHQUFLaW5ELEdBQThCbnNCLEVBQU05NkIsRUFBUSxLQXhCbkV1MEUsQ0FBK0IvbUQsRUFBT2dpRCxFQUFhMTBDLEVBQU85NkIsRUFBTzB2RSxHQUNqRXVFLEVBQVl4dEIsR0FBZ0J5dEIsRUFBVUMsR0FDbEN6RSxFQUNBbGlELEVBQU02NkIsY0FBZ0I0ckIsRUFHdEJ6bUQsRUFBTTg2QixjQUFnQjJyQixFQWtvQnRCTyxDQUFzQjE1QyxFQUFPdE4sRUFBT2dpRCxFQUFhcjFDLEVBQWNpNUMsRUFBZ0JsckIsSUErTHZGLFNBQVN1ckIsR0FBNkJILEVBQWtCeDRDLEVBQU90TixFQUFPNmxELEVBQVluckIsR0FHOUUsSUFBSXVzQixFQUFtQixLQUN2QixNQUFNMTNDLEVBQWV2UCxFQUFNdVAsYUFDM0IsSUFBSWl4QixFQUF1QnhnQyxFQUFNd2dDLHFCQU9qQyxLQU44QixJQUExQkEsRUFDQUEsRUFBdUJ4Z0MsRUFBTXFQLGVBRzdCbXhCLElBRUdBLEVBQXVCanhCLElBQzFCMDNDLEVBQW1CMzVDLEVBQU1rekIsR0FDekJ4bEMsV0FBYXlCLEVBQWN3cUQsRUFBa0IsMEJBQzdDcEIsRUFBYUcsR0FBeUJILEVBQVlvQixFQUFpQnBrRCxVQUFXNjNCLEdBQzFFdXNCLElBQXFCbkIsSUFFekJ0bEIsSUFRSixPQU55QixPQUFyQnNsQixJQUlBOWxELEVBQU13Z0MscUJBQXVCQSxHQUUxQnFsQixFQVNYLFNBQVNHLEdBQXlCSCxFQUFZN3pDLEVBQU8wb0IsR0FDakQsTUFBTXdzQixFQUFnQnhzQixFQUFlLEVBQWtCLEVBQ3ZELElBQUl5c0IsR0FBaUIsRUFDckIsR0FBYyxPQUFWbjFDLEVBQ0EsSUFBSyxJQUFJcDFDLEVBQUksRUFBR0EsRUFBSW8xQyxFQUFNNTJDLE9BQVF3QixJQUFLLENBQ25DLE1BQU1xc0IsRUFBTytvQixFQUFNcDFDLEdBQ0MsaUJBQVRxc0IsRUFDUGsrRCxFQUFnQmwrRCxFQUdaaytELElBQWtCRCxJQUNieHlGLE1BQU1nTixRQUFRbWtGLEtBQ2ZBLE9BQTRCbHRGLElBQWZrdEYsRUFBMkIsR0FBSyxDQUFDLEdBQUlBLElBRXREdnFDLEdBQWlCdXFDLEVBQVk1OEQsSUFBTXl4QyxHQUFzQjFvQixJQUFRcDFDLEtBS2pGLFlBQXNCakUsSUFBZmt0RixFQUEyQixLQUFPQSxFQWlFN0MsU0FBU3hCLEdBQXNCOW9DLEVBQWV0b0MsRUFBSzVkLEdBQy9DaW1ELEdBQWlCQyxFQUFldG9DLEVBQUsrd0MsR0FBZ0IzdUQsSUFzRnpELFNBQVNzdkYsR0FBYzFrRCxFQUFPRCxFQUFPbUcsRUFBT3dELEVBQVVtVSxFQUFNem9ELEVBQU9xbEUsRUFBYy90QixHQUM3RSxLQUFtQixFQUFiM00sRUFBTS9QLE1BR1IsT0FFSixNQUFNcWQsRUFBUXJOLEVBQU1wUCxLQUNkdTJELEVBQVM5NUMsRUFBTVgsRUFBZSxHQUkvQjA2QyxHQUh1Qjd0QixHQUE4QjR0QixHQUN0REUsR0FBaUJoNkMsRUFBT3ROLEVBQU9tRyxFQUFPMlgsRUFBTXdiLEdBQXFCOHRCLEdBQVMxc0IsUUFDMUUvaEUsS0FHSzB1RixHQUFzQmh5RixJQUVuQitqRSxHQUE4Qmd1QixLQUU5Qi94RixFQUFRaXlGLEdBQWlCaDZDLEVBQU8sS0FBTW5ILEVBQU8yWCxFQUFNblIsRUFBYyt0QixJQWo4UmpGLFNBQXNCL3dCLEVBQVUrd0IsRUFBY3pLLEVBQU9uUyxFQUFNem9ELEdBQ3ZELE1BQU1reUYsRUFBZTc5QyxHQUFxQkMsR0FDMUMsR0FBSSt3QixFQUVLcmxFLEdBVUQybEMsV0FBYUEsVUFBVTBGLG1CQUNuQjZtRCxFQUNBNTlDLEVBQVM2OUMsU0FBU3YzQixFQUFPblMsSUFHekI5aUIsV0FBYXlCLEVBQWN3ekIsRUFBTXczQixVQUFXLHdCQUM1Q3gzQixFQUFNdzNCLFVBQVVqdEYsSUFBSXNqRCxNQWZ4QjlpQixXQUFhQSxVQUFVMkYsc0JBQ25CNG1ELEVBQ0E1OUMsRUFBUys5QyxZQUFZejNCLEVBQU9uUyxHQUc1Qm1TLEVBQU13M0IsVUFBVTVsRixPQUFPaThDLFFBYzlCLENBQ0QsSUFBSXZmLEdBQStCLElBQXZCdWYsRUFBSzUwQixRQUFRLFVBQWN2d0IsRUFBWW0yRCxHQUFvQjY0QixTQUN2RSxHQUFhLE1BQVR0eUYsRUFDQTJsQyxXQUFhQSxVQUFVNkYsc0JBQ25CMG1ELEVBQ0E1OUMsRUFBU2krQyxZQUFZMzNCLEVBQU9uUyxFQUFNdmYsR0FHbEMweEIsRUFBTWpPLE1BQU02bEMsZUFBZS9wQyxPQUc5QixDQUdELE1BQU1ncUMsRUFBK0IsaUJBQVZ6eUYsR0FBcUJBLEVBQU00dkYsU0FBUyxjQUMzRDZDLElBRUF6eUYsRUFBUUEsRUFBTXNILE1BQU0sR0FBSSxJQUN4QjRoQyxHQUFTdXdCLEdBQW9CaTVCLFdBRWpDL3NELFdBQWFBLFVBQVU0RixtQkFDbkIybUQsRUFDQTU5QyxFQUFTcStDLFNBQVMvM0IsRUFBT25TLEVBQU16b0QsRUFBT2twQyxJQUd0Q3ZELFdBQWF5QixFQUFjd3pCLEVBQU1qTyxNQUFPLHdCQUN4Q2lPLEVBQU1qTyxNQUFNeFAsWUFBWXNMLEVBQU16b0QsRUFBT3l5RixFQUFjLFlBQWMsT0FtNVJ6RUcsQ0FBYXQrQyxFQUFVK3dCLEVBRFR6d0IsR0FBaUJnRixLQUFvQjlJLEdBQ1AyWCxFQUFNem9ELElBK0IxRCxTQUFTaXlGLEdBQWlCaDZDLEVBQU90TixFQUFPbUcsRUFBTzJYLEVBQU10ckMsRUFBT2tvRCxHQU14RCxNQUFNd3RCLEVBQTRCLE9BQVZsb0QsRUFDeEIsSUFBSTNxQyxFQUNKLEtBQU9tZCxFQUFRLEdBQUcsQ0FDZCxNQUFNMjFFLEVBQVM3NkMsRUFBTTk2QixHQUNmNDFFLEVBQWtCMXpGLE1BQU1nTixRQUFReW1GLEdBRWhDbDFFLEVBQU1tMUUsRUFBa0JELEVBQU8sR0FBS0EsRUFDcENFLEVBQXVCLE9BQVJwMUUsRUFDckIsSUFBSXExRSxFQUFvQm5pRCxFQUFNM3pCLEVBQVEsR0FDbEM4MUUsSUFBc0I1dkIsS0FRdEI0dkIsRUFBb0JELEVBQWU3bUQsUUFBYzdvQyxHQUVyRCxJQUFJb3ZDLEVBQWVzZ0QsRUFBZXhzQyxHQUFpQnlzQyxFQUFtQnhxQyxHQUNsRTdxQyxJQUFRNnFDLEVBQU93cUMsT0FBb0IzdkYsRUFJdkMsR0FISXl2RixJQUFvQmYsR0FBc0J0L0MsS0FDMUNBLEVBQWU4VCxHQUFpQnNzQyxFQUFRcnFDLElBRXhDdXBDLEdBQXNCdC9DLEtBQ3RCMXlDLEVBQVEweUMsRUFDSm1nRCxHQUNBLE9BQU83eUYsRUFHZixNQUFNK3hGLEVBQVM5NUMsRUFBTTk2QixFQUFRLEdBQzdCQSxFQUFRMDFFLEVBQWtCaHZCLEdBQXFCa3VCLEdBQVU5dEIsR0FBcUI4dEIsR0FFbEYsR0FBYyxPQUFWcG5ELEVBQWdCLENBR2hCLElBQUkrbEQsRUFBV3JyQixFQUFlMTZCLEVBQU11N0IsZ0JBQWtCdjdCLEVBQU13N0IsZUFDNUMsTUFBWnVxQixJQUNBMXdGLEVBQVF3bUQsR0FBaUJrcUMsRUFBVWpvQyxJQUczQyxPQUFPem9ELEVBUVgsU0FBU2d5RixHQUFzQmh5RixHQUszQixZQUFpQnNELElBQVZ0RCxFQThCWCxTQUFTeXZGLEdBQXNCOWtELEVBQU8wNkIsR0FDbEMsT0FBNEYsSUFBcEYxNkIsRUFBTXpCLE9BQVNtOEIsRUFBZSxHQUF5QixLQWtCbkUsU0FBUyxHQUFPbG9ELEVBQU9uZCxFQUFRLElBQzNCLE1BQU04d0MsRUFBUXNGLEtBQ1J4TCxFQUFReUwsS0FDUnlzQyxFQUFnQjNsRSxFQUFRa3pCLEdBQzlCMUssV0FDSWtCLEVBQVl3USxLQUFtQnpNLEVBQU13TSxrQkFBbUIsb0RBQzVEelIsV0FBYThCLEVBQW1CcUosRUFBT2d5QyxHQUN2QyxNQUFNbjRDLEVBQVFDLEVBQU1GLGdCQUNoQm9nQyxHQUFpQmxnQyxFQUFPazRDLEVBQWUsRUFBYzlpRixFQUFPLE1BQzVENHFDLEVBQU1wUCxLQUFLc25ELEdBQ1RvUSxFQUFhcGlELEVBQU1neUMsR0FBaUJ6bkIsR0FBZXZxQixFQUFNZ0UsSUFBVzkwQyxHQUMxRXd3RCxHQUFZNWxCLEVBQU9rRyxFQUFPb2lELEVBQVl2b0QsR0FFdENrTSxHQUFnQmxNLEdBQU8sR0E4QjNCLFNBQVMsR0FBa0J1MkMsR0FFdkIsT0FEQSxHQUFtQixHQUFJQSxFQUFJLElBQ3BCLEdBcUJYLFNBQVMsR0FBbUI3bkIsRUFBUTZuQixFQUFJQyxHQUNwQyxNQUFNcndDLEVBQVFzRixLQUNSc3NDLEVBQWV6QixHQUFlbndDLEVBQU91b0IsRUFBUTZuQixFQUFJQyxHQUl2RCxPQUhJdUIsSUFBaUJyZixJQUNqQnFTLEdBQW9CNWtDLEVBQU84SSxLQUFvQjhvQyxHQUU1QyxHQXFCWCxTQUFTLEdBQW1CcnBCLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUgsR0FDNUMsTUFBTXJ3QyxFQUFRc0YsS0FDUnNzQyxFQUFldEIsR0FBZXR3QyxFQUFPdW9CLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUgsR0FJL0QsT0FISXVCLElBQWlCcmYsSUFDakJxUyxHQUFvQjVrQyxFQUFPOEksS0FBb0I4b0MsR0FFNUMsR0FzQlgsU0FBUyxHQUFtQnJwQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlOLEdBQ3BELE1BQU1yd0MsRUFBUXNGLEtBQ1Jzc0MsRUFBZW5CLEdBQWV6d0MsRUFBT3VvQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlOLEdBSXZFLE9BSEl1QixJQUFpQnJmLElBQ2pCcVMsR0FBb0I1a0MsRUFBTzhJLEtBQW9COG9DLEdBRTVDLEdBc0JYLFNBQVMsR0FBbUJycEIsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJVCxHQUM1RCxNQUFNcndDLEVBQVFzRixLQUNSc3NDLEVBQWVoQixHQUFlNXdDLEVBQU91b0IsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJVCxHQUkvRSxPQUhJdUIsSUFBaUJyZixJQUNqQnFTLEdBQW9CNWtDLEVBQU84SSxLQUFvQjhvQyxHQUU1QyxHQXNCWCxTQUFTLEdBQW1CcnBCLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSVosR0FDcEUsTUFBTXJ3QyxFQUFRc0YsS0FDUnNzQyxFQUFlYixHQUFlL3dDLEVBQU91b0IsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJWixHQUl2RixPQUhJdUIsSUFBaUJyZixJQUNqQnFTLEdBQW9CNWtDLEVBQU84SSxLQUFvQjhvQyxHQUU1QyxHQXdCWCxTQUFTLEdBQW1CcnBCLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSWYsR0FDNUUsTUFBTXJ3QyxFQUFRc0YsS0FDUnNzQyxFQUFlVixHQUFlbHhDLEVBQU91b0IsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJZixHQUkvRixPQUhJdUIsSUFBaUJyZixJQUNqQnFTLEdBQW9CNWtDLEVBQU84SSxLQUFvQjhvQyxHQUU1QyxHQXNCWCxTQUFTLEdBQW1CcnBCLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSWxCLEdBQ3BGLE1BQU1yd0MsRUFBUXNGLEtBQ1Jzc0MsRUFBZVAsR0FBZXJ4QyxFQUFPdW9CLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSWxCLEdBSXZHLE9BSEl1QixJQUFpQnJmLElBQ2pCcVMsR0FBb0I1a0MsRUFBTzhJLEtBQW9COG9DLEdBRTVDLEdBc0JYLFNBQVMsR0FBbUJycEIsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJckIsR0FDNUYsTUFBTXJ3QyxFQUFRc0YsS0FDUnNzQyxFQUFlSixHQUFleHhDLEVBQU91b0IsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJckIsR0FJL0csT0FISXVCLElBQWlCcmYsSUFDakJxUyxHQUFvQjVrQyxFQUFPOEksS0FBb0I4b0MsR0FFNUMsR0EwQlgsU0FBUyxHQUFtQnR6RSxHQUN4QixNQUFNMGhDLEVBQVFzRixLQUNSc3NDLEVBQWUzQixHQUFlandDLEVBQU8xaEMsR0FJM0MsT0FISXN6RSxJQUFpQnJmLElBQ2pCcVMsR0FBb0I1a0MsRUFBTzhJLEtBQW9COG9DLEdBRTVDLEdBK0JYLFNBQVMsR0FBdUJycEIsRUFBUTZuQixFQUFJQyxHQUd4QzROLEdBQWdCOW9DLEdBQWtCa3BDLEdBRFJsTyxHQURaN3FDLEtBQ2tDaWpCLEVBQVE2bkIsRUFBSUMsSUFDWSxHQXlCNUUsU0FBUyxHQUF1QjluQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlILEdBR2hENE4sR0FBZ0I5b0MsR0FBa0JrcEMsR0FEUi9OLEdBRFpockMsS0FDa0NpakIsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJSCxJQUNJLEdBNEI1RSxTQUFTLEdBQXVCOW5CLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSU4sR0FHeEQ0TixHQUFnQjlvQyxHQUFrQmtwQyxHQURSNU4sR0FEWm5yQyxLQUNrQ2lqQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlOLElBQ0osR0E4QjVFLFNBQVMsR0FBdUI5bkIsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJVCxHQUdoRTROLEdBQWdCOW9DLEdBQWtCa3BDLEdBRFJ6TixHQURadHJDLEtBQ2tDaWpCLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSVQsSUFDWixHQWdDNUUsU0FBUyxHQUF1QjluQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlaLEdBR3hFNE4sR0FBZ0I5b0MsR0FBa0JrcEMsR0FEUnROLEdBRFp6ckMsS0FDa0NpakIsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJWixJQUNwQixHQWtDNUUsU0FBUyxHQUF1QjluQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlmLEdBR2hGNE4sR0FBZ0I5b0MsR0FBa0JrcEMsR0FEUm5OLEdBRFo1ckMsS0FDa0NpakIsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJZixJQUM1QixHQW9DNUUsU0FBUyxHQUF1QjluQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlsQixHQUd4RjROLEdBQWdCOW9DLEdBQWtCa3BDLEdBRFJoTixHQURaL3JDLEtBQ2tDaWpCLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSWxCLElBQ3BDLEdBc0M1RSxTQUFTLEdBQXVCOW5CLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSXJCLEdBR2hHNE4sR0FBZ0I5b0MsR0FBa0JrcEMsR0FEUjdNLEdBRFpsc0MsS0FDa0NpakIsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJckIsSUFDNUMsR0F5QjVFLFNBQVMsR0FBdUIveEUsR0FHNUIyL0UsR0FBZ0I5b0MsR0FBa0JrcEMsR0FEUnBPLEdBRFozcUMsS0FDa0NobkMsSUFDd0IsR0ErQjVFLFNBQVMsR0FBdUJpcUQsRUFBUTZuQixFQUFJQyxHQUd4QyxHQUQwQkYsR0FEWjdxQyxLQUNrQ2lqQixFQUFRNm5CLEVBQUlDLElBMEJoRSxTQUFTLEdBQXVCOW5CLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUgsR0FHaEQsR0FEMEJDLEdBRFpockMsS0FDa0NpakIsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJSCxJQTZCeEUsU0FBUyxHQUF1QjluQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlOLEdBR3hELEdBRDBCSSxHQURabnJDLEtBQ2tDaWpCLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSU4sSUErQmhGLFNBQVMsR0FBdUI5bkIsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJVCxHQUdoRSxHQUQwQk8sR0FEWnRyQyxLQUNrQ2lqQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlULElBaUN4RixTQUFTLEdBQXVCOW5CLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSVosR0FHeEUsR0FEMEJVLEdBRFp6ckMsS0FDa0NpakIsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJWixJQXFDaEcsU0FBUyxHQUF1QjluQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlmLEdBR2hGLEdBRDBCYSxHQURaNXJDLEtBQ2tDaWpCLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSWYsSUF1Q3hHLFNBQVMsR0FBdUI5bkIsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJbEIsR0FHeEYsR0FEMEJnQixHQURaL3JDLEtBQ2tDaWpCLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSWxCLElBeUNoSCxTQUFTLEdBQXVCOW5CLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSXJCLEdBR2hHLEdBRDBCbUIsR0FEWmxzQyxLQUNrQ2lqQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlyQixJQTJCeEgsU0FBUyxHQUF1Qi94RSxHQUc1QixHQUQwQjJ4RSxHQURaM3FDLEtBQ2tDaG5DLElBcUNwRCxTQUFTLEdBQXdCcTVDLEVBQU00USxFQUFRNm5CLEVBQUlDLEVBQVFnUyxHQUl2RCxPQURBckUsR0FBcUJybUMsRUFES3c0QixHQURaN3FDLEtBQ2tDaWpCLEVBQVE2bkIsRUFBSUMsR0FDZGdTLEdBQWEsR0FDcEQsR0E4QlgsU0FBUyxHQUF3QjFxQyxFQUFNNFEsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJSCxFQUFRZ1MsR0FJL0QsT0FEQXJFLEdBQXFCcm1DLEVBREsyNEIsR0FEWmhyQyxLQUNrQ2lqQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlILEdBQ3RCZ1MsR0FBYSxHQUNwRCxHQWdDWCxTQUFTLEdBQXdCMXFDLEVBQU00USxFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlOLEVBQVFnUyxHQUl2RSxPQURBckUsR0FBcUJybUMsRUFESzg0QixHQURabnJDLEtBQ2tDaWpCLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSU4sR0FDOUJnUyxHQUFhLEdBQ3BELEdBa0NYLFNBQVMsR0FBd0IxcUMsRUFBTTRRLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSVQsRUFBUWdTLEdBSS9FLE9BREFyRSxHQUFxQnJtQyxFQURLaTVCLEdBRFp0ckMsS0FDa0NpakIsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJVCxHQUN0Q2dTLEdBQWEsR0FDcEQsR0FvQ1gsU0FBUyxHQUF3QjFxQyxFQUFNNFEsRUFBUTZuQixFQUFJRyxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJRSxFQUFJQyxFQUFJWixFQUFRZ1MsR0FJdkYsT0FEQXJFLEdBQXFCcm1DLEVBREtvNUIsR0FEWnpyQyxLQUNrQ2lqQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlaLEdBQzlDZ1MsR0FBYSxHQUNwRCxHQXNDWCxTQUFTLEdBQXdCMXFDLEVBQU00USxFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlmLEVBQVFnUyxHQUkvRixPQURBckUsR0FBcUJybUMsRUFES3U1QixHQURaNXJDLEtBQ2tDaWpCLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSWYsR0FDdERnUyxHQUFhLEdBQ3BELEdBeUNYLFNBQVMsR0FBd0IxcUMsRUFBTTRRLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSWxCLEVBQVFnUyxHQUl2RyxPQURBckUsR0FBcUJybUMsRUFESzA1QixHQURaL3JDLEtBQ2tDaWpCLEVBQVE2bkIsRUFBSUcsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSUUsRUFBSUMsRUFBSWxCLEdBQzlEZ1MsR0FBYSxHQUNwRCxHQTJDWCxTQUFTLEdBQXdCMXFDLEVBQU00USxFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlyQixFQUFRZ1MsR0FJL0csT0FEQXJFLEdBQXFCcm1DLEVBREs2NUIsR0FEWmxzQyxLQUNrQ2lqQixFQUFRNm5CLEVBQUlHLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlFLEVBQUlDLEVBQUlyQixHQUN0RWdTLEdBQWEsR0FDcEQsR0FnQ1gsU0FBUyxHQUF3QjFxQyxFQUFNcjVDLEVBQVErakYsR0FJM0MsT0FEQXJFLEdBQXFCcm1DLEVBREtzNEIsR0FEWjNxQyxLQUNrQ2huQyxHQUNGK2pGLEdBQWEsR0FDcEQsR0F3QlgsU0FBUyxHQUFldHZDLEVBQVU3akQsRUFBTzQwRCxHQUNyQyxNQUFNOWpCLEVBQVFzRixLQUNSa0IsRUFBZUUsS0FDckIsR0FBSXVvQyxHQUFlanZDLEVBQU93RyxFQUFjdDNDLEdBQVEsQ0FDNUMsTUFBTTRxQyxFQUFReUwsS0FDUjFMLEVBQVFtUCxLQUNkNjJCLEdBQXdCL2xDLEVBQU9ELEVBQU9tRyxFQUFPK1MsRUFBVTdqRCxFQUFPOHdDLEVBQU1nRSxJQUFXOGYsR0FBVyxHQUMxRmp2QixXQUFhdXZDLEdBQTZCdHFDLEVBQU1wUCxLQUFNbVAsRUFBT2taLEVBQVV2TSxHQUUzRSxPQUFPLEdBdUJYLFNBQVMsR0FBd0J1TSxFQUFVN2pELEVBQU80MEQsR0FDOUMsTUFBTTlqQixFQUFRc0YsS0FDUmtCLEVBQWVFLEtBQ3JCLEdBQUl1b0MsR0FBZWp2QyxFQUFPd0csRUFBY3QzQyxHQUFRLENBQzVDLE1BQU00cUMsRUFBUXlMLEtBQ1IxTCxFQUFRbVAsS0FHZDYyQixHQUF3Qi9sQyxFQUFPRCxFQUFPbUcsRUFBTytTLEVBQVU3akQsRUFEdEN1MUUsR0FERXY5QixHQUF1QnBOLEVBQU1wUCxNQUNHbVAsRUFBT21HLEdBQ2M4akIsR0FBVyxHQUNuRmp2QixXQUFhdXZDLEdBQTZCdHFDLEVBQU1wUCxLQUFNbVAsRUFBT2taLEVBQVV2TSxHQUUzRSxPQUFPLEdBYXNCLG9CQUF0Qjg3QyxvQkFPSGhwRCxHQUEyQixrQkFHUCxvQkFBVGlwRCxNQUErQyxtQkFBaEJBLEtBQUtDLFFBWXZELE1BQU1DLFFBQUlqd0YsRUFPVixJQUFJa3dGLEdBQVcsQ0FBQyxLQUFNLENBQUMsQ0FBQyxJQUFLLEtBQU0sQ0FBQyxLQUFNLE1BQU9ELElBQUksQ0FBQyxDQUFDLEtBQU0sTUFBT0EsR0FBR0EsSUFBSSxDQUFDLENBQUMsSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FBTSxDQUFDLE1BQU8sTUFBTyxNQUFPLE1BQU8sTUFBTyxNQUFPLE9BQVEsQ0FBQyxTQUFVLFNBQVUsVUFBVyxZQUFhLFdBQVksU0FBVSxZQUFhLENBQUMsS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sT0FBUUEsR0FBRyxDQUFDLENBQUMsSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLEtBQU0sQ0FBQyxNQUFPLE1BQU8sTUFBTyxNQUFPLE1BQU8sTUFBTyxNQUFPLE1BQU8sTUFBTyxNQUFPLE1BQU8sT0FBUSxDQUFDLFVBQVcsV0FBWSxRQUFTLFFBQVMsTUFBTyxPQUFRLE9BQVEsU0FBVSxZQUFhLFVBQVcsV0FBWSxhQUFjQSxHQUFHLENBQUMsQ0FBQyxJQUFLLEtBQU0sQ0FBQyxLQUFNLE1BQU8sQ0FBQyxnQkFBaUIsZ0JBQWlCLEVBQUcsQ0FBQyxFQUFHLEdBQUksQ0FBQyxTQUFVLFdBQVksWUFBYSxtQkFBb0IsQ0FBQyxTQUFVLFlBQWEsY0FBZSxrQkFBbUIsQ0FBQyxXQUFZQSxHQUFHLGVBQWdCQSxJQUFJLENBQUMsSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxNQUFPLEtBQU0sQ0FBQyxZQUFhLFNBQVUsWUFBYSxPQUFRLE1BQU8sSUFBSyxZQUFhLEdBQUksTUFObDZCLFNBQWdCRSxHQUNaLE1BQWVsc0YsRUFBSVIsS0FBS28zQixNQUFNcDNCLEtBQUs4eUIsSUFBSTQ1RCxJQUFPdmhGLEVBQUl1aEYsRUFBSW5nRSxXQUFXK2dDLFFBQVEsWUFBYSxJQUFJdHVELE9BQzFGLE9BQVUsSUFBTndCLEdBQWlCLElBQU4ySyxFQUNKLEVBQ0osSUFjWCxJQUFJd2hGLEdBQWMsR0FRbEIsU0FBU0MsR0FBbUJuNEQsRUFBTW80RCxFQUFVQyxHQUNoQixpQkFBYkQsSUFDUEMsRUFBWUQsRUFDWkEsRUFBV3A0RCxFQUFLczRELEdBQWdCQyxXQUVwQ0gsRUFBV0EsRUFBU2o1RCxjQUFjMDVCLFFBQVEsS0FBTSxLQUNoRHEvQixHQUFZRSxHQUFZcDRELEVBQ3BCcTRELElBQ0FILEdBQVlFLEdBQVVFLEdBQWdCRSxXQUFhSCxHQVUzRCxTQUFTSSxHQUFlQyxHQUNwQixNQUFNQyxFQXlGVixTQUF5QkQsR0FDckIsT0FBT0EsRUFBT3Y1RCxjQUFjMDVCLFFBQVEsS0FBTSxLQTFGakIrL0IsQ0FBZ0JGLEdBQ3pDLElBQUl4aUMsRUFBUTJpQyxHQUFjRixHQUMxQixHQUFJemlDLEVBQ0EsT0FBT0EsRUFHWCxNQUFNNGlDLEVBQWVILEVBQWlCeDhELE1BQU0sS0FBSyxHQUVqRCxHQURBKzVCLEVBQVEyaUMsR0FBY0MsR0FDbEI1aUMsRUFDQSxPQUFPQSxFQUVYLEdBQXFCLE9BQWpCNGlDLEVBQ0EsT0FBT2QsR0FFWCxNQUFNLElBQUlodkUsTUFBTSx1Q0FBdUMwdkUsT0FXM0QsU0FBU0ssR0FBc0JMLEdBRTNCLE9BRGFELEdBQWVDLEdBQ2hCSixHQUFnQlUsZUFBaUIsS0FVakQsU0FBU0MsR0FBb0JQLEdBRXpCLE9BRGFELEdBQWVDLEdBQ2hCSixHQUFnQlksWUFNaEMsU0FBU0wsR0FBY0YsR0FLbkIsT0FKTUEsS0FBb0JULEtBQ3RCQSxHQUFZUyxHQUFvQi9wRCxHQUFRdXFELElBQU12cUQsR0FBUXVxRCxHQUFHQyxRQUFVeHFELEdBQVF1cUQsR0FBR0MsT0FBT0MsU0FDakZ6cUQsR0FBUXVxRCxHQUFHQyxPQUFPQyxRQUFRVixJQUUzQlQsR0FBWVMsR0FLdkIsU0FBU1csS0FDTHBCLEdBQWMsR0FLbEIsSUFBSUksSUFDSixTQUFXQSxHQUNQQSxFQUFnQkEsRUFBMEIsU0FBSSxHQUFLLFdBQ25EQSxFQUFnQkEsRUFBa0MsaUJBQUksR0FBSyxtQkFDM0RBLEVBQWdCQSxFQUFzQyxxQkFBSSxHQUFLLHVCQUMvREEsRUFBZ0JBLEVBQTRCLFdBQUksR0FBSyxhQUNyREEsRUFBZ0JBLEVBQWdDLGVBQUksR0FBSyxpQkFDekRBLEVBQWdCQSxFQUE4QixhQUFJLEdBQUssZUFDdkRBLEVBQWdCQSxFQUFrQyxpQkFBSSxHQUFLLG1CQUMzREEsRUFBZ0JBLEVBQXNCLEtBQUksR0FBSyxPQUMvQ0EsRUFBZ0JBLEVBQWdDLGVBQUksR0FBSyxpQkFDekRBLEVBQWdCQSxFQUE4QixhQUFJLEdBQUssZUFDdkRBLEVBQWdCQSxFQUE0QixXQUFJLElBQU0sYUFDdERBLEVBQWdCQSxFQUE0QixXQUFJLElBQU0sYUFDdERBLEVBQWdCQSxFQUFnQyxlQUFJLElBQU0saUJBQzFEQSxFQUFnQkEsRUFBK0IsY0FBSSxJQUFNLGdCQUN6REEsRUFBZ0JBLEVBQStCLGNBQUksSUFBTSxnQkFDekRBLEVBQWdCQSxFQUE4QixhQUFJLElBQU0sZUFDeERBLEVBQWdCQSxFQUFnQyxlQUFJLElBQU0saUJBQzFEQSxFQUFnQkEsRUFBOEIsYUFBSSxJQUFNLGVBQ3hEQSxFQUFnQkEsRUFBNEIsV0FBSSxJQUFNLGFBQ3REQSxFQUFnQkEsRUFBZ0MsZUFBSSxJQUFNLGlCQUMxREEsRUFBZ0JBLEVBQTRCLFdBQUksSUFBTSxhQUN0REEsRUFBZ0JBLEVBQTJCLFVBQUksSUFBTSxZQXRCekQsQ0F1QkdBLEtBQW9CQSxHQUFrQixLQWV6QyxNQUFNaUIsR0FBZ0IsQ0FBQyxPQUFRLE1BQU8sTUFBTyxNQUFPLFFBWTlDQyxHQUFvQixRQW1CcEJDLEdBQWlCLENBQ25CNTNDLE9BQVEsV0FPTjYzQyxHQUFhLENBQ2Y3M0MsT0FBUSxPQUtaLElBQUk4M0MsSUFDSixTQUFXQSxHQUtQQSxFQUFpQkEsRUFBd0IsTUFBSSxHQUFLLFFBSWxEQSxFQUFpQkEsRUFBaUMsZUFBSSxHQUFLLGlCQUkzREEsRUFBaUJBLEVBQTBCLFFBQUksR0FBSyxVQWJ4RCxDQWNHQSxLQUFxQkEsR0FBbUIsS0FpQjNDLElBQUlDLEdBQWNKLEdBUWxCLFNBQVNLLEdBQVl6QixHQUNqQnhzRCxFQUFjd3NELEVBQVUsbUNBQ0EsaUJBQWJBLElBQ1B3QixHQUFjeEIsRUFBU2o1RCxjQUFjMDVCLFFBQVEsS0FBTSxNQTZCM0QsU0FBU3dLLEdBQWdDcG1CLEVBQWFoQyxFQUFjM0YsR0FDaEUsTUFBTXdrRCxFQUF5QjcrQyxFQUFheTBCLGtCQUN0Q0EsRUFBb0I3ckUsTUFBTWdOLFFBQVFpcEYsR0FBMEJBLEVBQXVCLEdBQUtBLEVBQzlGLE9BQTBCLE9BQXRCcHFCLEVBQ094TSxHQUFrQ2ptQixFQUFhaEMsRUFBYzNGLElBR3BFbkwsV0FBYThCLEVBQW1CcUosRUFBT282QixHQUNoQ3YyQixHQUFZN0QsRUFBTW82QixLQVFqQyxTQUFTcE0sR0FBd0J4cUIsRUFBVTBxQixFQUFZbHVCLEVBQU9pdUIsRUFBWTlELEdBQ3RFLE1BQU1xNkIsRUFBeUJ0MkIsRUFBV2tNLGtCQUMxQyxHQUFJN3JFLE1BQU1nTixRQUFRaXBGLEdBQXlCLENBTXZDM3ZELFdBQWEyQixFQUFjeTNCLEdBQzNCLElBQUl3MkIsRUFBYXgyQixFQUNieTJCLEVBQWMsS0FLbEIsR0FKd0IsRUFBbEJ4MkIsRUFBV3BrQyxPQUNiNDZELEVBQWNELEVBQ2RBLEVBQWF0NkIsR0FFRSxPQUFmczZCLEdBQXdFLElBQTdCLEVBQW5CdjJCLEVBQVc5MUIsT0FDbkMsSUFBSyxJQUFJM2hDLEVBQUksRUFBR0EsRUFBSSt0RixFQUF1QnZ2RixPQUFRd0IsSUFJL0N1ekQsR0FBbUJ4bUIsRUFBVWloRCxFQURYemtELEVBQU13a0QsRUFBdUIvdEYsSUFDS2l1RixHQUFhLElBMkNqRixTQUFTQyxHQUFtQ0MsRUFBZ0JDLEdBS3hELEdBSEFod0QsV0FDSWtCLEVBQVk4dUQsRUFBU3pxQixrQkFBbUIsS0FBTSwrQ0FDbER3cUIsRUFBZXp1RixLQUFLMHVGLEdBQ2hCRCxFQUFlM3ZGLE9BQVMsRUFDeEIsSUFBSyxJQUFJd0IsRUFBSW11RixFQUFlM3ZGLE9BQVMsRUFBR3dCLEdBQUssRUFBR0EsSUFBSyxDQUNqRCxNQUFNcXVGLEVBQWdCRixFQUFlbnVGLEdBR2hDc3VGLEdBQVdELElBQ1JFLEdBQXdCRixFQUFlRCxJQUNDLE9BQXhDSSxHQUFxQkgsSUFHckJJLEdBQXFCSixFQUFlRCxFQUFTeDRFLFFBTWpFLFNBQVMwNEUsR0FBV2xyRCxHQUNoQixRQUFzQixHQUFiQSxFQUFNL1AsTUFFbkIsU0FBU2s3RCxHQUF3QkYsRUFBZUQsR0FDNUMsT0FBT0UsR0FBV0YsSUFBYUMsRUFBY3o0RSxNQUFRdzRFLEVBQVN4NEUsTUFFbEUsU0FBUzQ0RSxHQUFxQnByRCxHQUMxQixNQUFNeHRCLEVBQVF3dEIsRUFBTXVnQyxrQkFDcEIsT0FBTzdyRSxNQUFNZ04sUUFBUThRLEdBQVNBLEVBQU0sR0FBS0EsRUFFN0MsU0FBUzY0RSxHQUFxQnJyRCxFQUFPM3FDLEdBQ2pDLE1BQU1tZCxFQUFRd3RCLEVBQU11Z0Msa0JBQ2hCN3JFLE1BQU1nTixRQUFROFEsR0FFZEEsRUFBTSxHQUFLbmQsR0FHWDQrRCxHQUFnQkMsR0FBaUNDLElBQ2pEbjBCLEVBQU11Z0Msa0JBQW9CbHJFLEdBd0JsQyxTQUFTaTJGLEdBQVFyckQsRUFBT3p0QixHQUNwQixNQUFNbmQsRUFBUTRxQyxFQUFNcFAsS0FBS3JlLEdBQ3pCLEdBQWMsT0FBVm5kLEdBQW1DLGlCQUFWQSxFQUN6QixPQUFPLE1BQ1AybEMsV0FDRTNsQyxFQUFNUixlQUFlLFdBQWFRLEVBQU1SLGVBQWUsMEJBQ3pEeUQsRUFBVyw0REFBb0VqRCxHQU1uRixNQUFNbXhDLEVBQU9ueEMsRUFBTVIsZUFBZSx5QkFBMkJRLEVBQ3pEQSxFQUFNQSxNQUVWLE9BREEybEMsV0FBYXVMLEdBQVdDLEdBQ2pCQSxFQW1EWCxTQUFTK2tELEdBQXVCdHJELEVBQU84cUQsRUFBZ0J2NEUsR0FDbkQsTUFBTXd0QixFQUFRcWdDLEdBQW1CcGdDLEVBQU96dEIsRUFBTyxHQUFzQixLQUFNLE1BRTNFLE9BREFzNEUsR0FBbUNDLEVBQWdCL3FELEdBQzVDQSxFQVVYLFNBQVN3ckQsR0FBdUJobEQsRUFBTUwsR0FDbEMsTUFBTXNsRCxFQUFjdGxELEVBQU1LLEVBQUtDLHVCQUMvQixPQUF1QixPQUFoQmdsRCxFQUF1QkEsRUFBZUEsRUFBYyxHQUFLQSxFQUFjQSxFQUVsRixTQUFTQyxHQUE2QkMsR0FDbEMsT0FBT0EsSUFBZSxHQUUxQixTQUFTQyxHQUEwQkQsR0FDL0IsT0FBcUIsT0FBYkEsS0FBd0MsRUFFcEQsU0FBU0UsR0FBa0NGLEdBQ3ZDLE9BQW9CLEVBQWJBLEVBNEJYLElBQUlHLEdBQWEsRUFNYkMsR0FBb0IsRUFrRXhCLFNBQVNDLEdBQW9CL3JELEVBQU9nc0QsRUFBZ0I5bEQsRUFBTzBrRCxHQUN2RDd2RCxXQUFhMkIsRUFBY2t1RCxHQUMzQixNQUFNbGhELEVBQVd4RCxFQUFNZ0UsSUFFdkIsSUFNSStoRCxFQU5BQyxFQUFVLEtBT2QsSUFBSyxJQUFJdnZGLEVBQUksRUFBR0EsRUFBSXF2RixFQUFlN3dGLE9BQVF3QixJQUFLLENBQzVDLE1BQU1nbUUsRUFBU3FwQixFQUFlcnZGLEdBQzlCLEdBQXFCLGlCQUFWZ21FLEVBQW9CLENBQzNCLE1BQU13cEIsRUFBZ0JILElBQWlCcnZGLEdBQ1YsT0FBekJ1cEMsRUFBTWltRCxLQUNOcHhELFdBQWFBLFVBQVVrRix5QkFDdkJsRixXQUFhOEIsRUFBbUJxSixFQUFPaW1ELEdBQ3ZDam1ELEVBQU1pbUQsR0FBaUIxN0IsR0FBZS9tQixFQUFVaTVCLFNBR25ELEdBQXFCLGlCQUFWQSxFQUNaLE9BQWlCLEVBQVRBLEdBQ0osS0FBSyxFQUNELE1BQU15cEIsRUFBWVgsR0FBNkI5b0IsR0FRL0MsSUFBSTBwQixFQUNBaDRCLEVBVUosR0FsQmdCLE9BQVo2M0IsSUFJQUEsRUFBVUUsRUFDVkgsRUFBWXQ0QixHQUFpQmpxQixFQUFVa2hELElBSXZDd0IsSUFBY0YsR0FDZEcsRUFBa0J6QixFQUNsQnYyQixFQUFjNDNCLElBR2RJLEVBQWtCLEtBQ2xCaDRCLEVBQWN0cUIsR0FBWTdELEVBQU1rbUQsS0FHaEIsT0FBaEIvM0IsRUFBc0IsQ0FLdEJ0NUIsV0FBYTJCLEVBQWMyM0IsR0FDM0IsTUFBTWk0QixFQUFTWCxHQUEwQmhwQixHQUN6QzVuQyxXQUFhd0IsRUFBa0IrdkQsRUFBUTdtRCxHQUFlLGVBR3RELE1BQU1rSixFQUFRekksRUFBTW9tRCxHQUNwQnZ4RCxXQUFhMkIsRUFBY2lTLEdBQzNCdWhCLEdBQW1CeG1CLEVBQVUycUIsRUFBYTFsQixFQUFPMDlDLEdBQWlCLEdBQ2xFLE1BQU05bEQsRUFBTzhrRCxHQUFRcnJELEVBQU9zc0QsR0FDNUIsR0FBYSxPQUFUL2xELEdBQWlDLGlCQUFUQSxFQUFtQixDQUczQ3hMLFdBQWF1TCxHQUFXQyxHQUN4QixNQUFNZ21ELEVBQVloQixHQUF1QmhsRCxFQUFNTCxHQUM3QixPQUFkcW1ELEdBQ0FSLEdBQW9CL3JELEVBQU91RyxFQUFLcnhDLE9BQU9xM0YsR0FBWXJtRCxFQUFPQSxFQUFNSyxFQUFLaW1ELGFBSWpGLE1BQ0osS0FBSyxFQUNELE1BQU1DLEVBQW1COXBCLElBQVcsRUFDOUJ6d0IsRUFBVzg1QyxJQUFpQnJ2RixHQUM1QjY3RCxFQUFZd3pCLElBQWlCcnZGLEdBR25Dd3NFLEdBQW9Cei9CLEVBQVVNLEdBQWlCeWlELEVBQWtCdm1ELEdBQVEsS0FBTSxLQUFNZ00sRUFBVXNtQixFQUFXLE1BQzFHLE1BQ0osUUFDSSxHQUFJejlCLFVBQ0EsTUFBTSxJQUFJTCxFQUFhLElBQWtDLHlEQUF5RGlvQyxXQUs5SCxPQUFRQSxHQUNKLEtBQUsybkIsR0FDRCxNQUFNb0MsRUFBZVYsSUFBaUJydkYsR0FDaENnd0YsRUFBbUJYLElBQWlCcnZGLEdBQ1YsT0FBNUJ1cEMsRUFBTXltRCxLQUNONXhELFdBQ0lrQixTQUFtQnl3RCxFQUFjLFNBQVUsYUFBYUEsaUNBQzVEM3hELFdBQWFBLFVBQVVvRyx3QkFDdkJwRyxXQUFhbU0sR0FBMEJoQixFQUFPeW1ELEdBSTlDeGdDLEdBSHFCam1CLEVBQU15bUQsR0FDdkI3N0IsR0FBa0JwbkIsRUFBVWdqRCxHQUVGeG1ELElBRWxDLE1BQ0osS0FBS21rRCxHQUNELE1BQU10aEMsRUFBVWlqQyxJQUFpQnJ2RixHQUMzQjh2RixFQUFtQlQsSUFBaUJydkYsR0FDVixPQUE1QnVwQyxFQUFNdW1ELEtBQ04xeEQsV0FDSWtCLFNBQW1COHNCLEVBQVMsU0FBVSxhQUFhQSxxQ0FDdkRodUIsV0FBYUEsVUFBVW9GLHdCQUN2QnBGLFdBQWFtTSxHQUEwQmhCLEVBQU91bUQsR0FJOUN0Z0MsR0FIcUJqbUIsRUFBTXVtRCxHQUN2Qno3QixHQUFrQnRuQixFQUFVcWYsRUFBUyxNQUVYN2lCLElBRWxDLE1BQ0osUUFDSW5MLFdBQ0kxaUMsRUFBVyx5REFBeURzcUUsUUFlNUYsU0FBU2lxQixHQUFtQjVzRCxFQUFPa0csRUFBTzJtRCxFQUFlQyxFQUFvQmpCLEdBQ3pFLElBQUssSUFBSWx2RixFQUFJLEVBQUdBLEVBQUlrd0YsRUFBYzF4RixPQUFRd0IsSUFBSyxDQUUzQyxNQUFNb3dGLEVBQVdGLEVBQWNsd0YsR0FFekJxd0YsRUFBWUgsSUFBZ0Jsd0YsR0FDbEMsR0FBSW93RixFQUFXbEIsRUFBWSxDQUV2QixJQUFJejJGLEVBQVEsR0FDWixJQUFLLElBQUk2TCxFQUFJdEUsRUFBSSxFQUFHc0UsR0FBTXRFLEVBQUlxd0YsRUFBWS9yRixJQUFLLENBQzNDLE1BQU0waEUsRUFBU2txQixFQUFjNXJGLEdBQzdCLEdBQXFCLGlCQUFWMGhFLEVBQ1B2dEUsR0FBU3V0RSxPQUVSLEdBQXFCLGlCQUFWQSxFQUNaLEdBQUlBLEVBQVMsRUFFVHZ0RSxHQUFTNGxDLEVBQWdCa0wsRUFBTTRtRCxFQUFxQm5xQixRQUVuRCxDQUNELE1BQU1wNEIsRUFBYW80QixJQUFXLEVBQzlCLE9BQWlCLEVBQVRBLEdBQ0osS0FBSyxFQUNELE1BQU0xcEIsRUFBVzR6QyxJQUFnQjVyRixHQUMzQmdzRixFQUFhSixJQUFnQjVyRixHQUM3QmlzRixFQUFpQmx0RCxFQUFNcFAsS0FBSzJaLEdBQ2xDeFAsV0FBYXlCLEVBQWMwd0QsRUFBZ0IsNkJBQ2IsaUJBQW5CQSxFQUlQL2pCLEdBQW9CampDLEVBQU1nRSxJQUFXaEUsRUFBTXFFLEdBQVksS0FBTTJpRCxFQUFnQmowQyxFQUFVN2pELEVBQU82M0YsR0FHOUZsbkIsR0FBd0IvbEMsRUFBT2t0RCxFQUFnQmhuRCxFQUFPK1MsRUFBVTdqRCxFQUFPOHdDLEVBQU1nRSxJQUFXK2lELEdBQVksR0FFeEcsTUFDSixLQUFLLEVBQ0QsTUFBTUUsRUFBUWpuRCxFQUFNcUUsR0FDVixPQUFWNGlELEdBQWtCeDhCLEdBQWV6cUIsRUFBTWdFLElBQVdpakQsRUFBTy8zRixHQUN6RCxNQUNKLEtBQUssRUFDRGc0RixHQUFtQnB0RCxFQUFPcXJELEdBQVFyckQsRUFBT3VLLEdBQVlyRSxFQUFPOXdDLEdBQzVELE1BQ0osS0FBSyxFQUNEaTRGLEdBQW1CcnRELEVBQU9xckQsR0FBUXJyRCxFQUFPdUssR0FBWXVpRCxFQUFvQjVtRCxVQU81RixDQUNELE1BQU15OEIsRUFBU2txQixFQUFjbHdGLEVBQUksR0FDakMsR0FBSWdtRSxFQUFTLEdBQXdDLElBQXpCLEVBQVRBLEdBQXFELENBS3BFLE1BQ01wOEIsRUFBTzhrRCxHQUFRcnJELEVBREYyaUMsSUFBVyxHQUVUejhCLEVBQU1LLEVBQUtDLHVCQUNiLEdBQ2Y2bUQsR0FBbUJydEQsRUFBT3VHLEVBQU11bUQsRUFBb0I1bUQsSUFJaEV2cEMsR0FBS3F3RixHQVdiLFNBQVNLLEdBQW1CcnRELEVBQU91RyxFQUFNdW1ELEVBQW9CNW1ELEdBQ3pEbkwsV0FBYThCLEVBQW1CcUosRUFBT0ssRUFBS0MsdUJBQzVDLElBQUk4bUQsRUFBa0JwbkQsRUFBTUssRUFBS0MsdUJBQ2pDLEdBQXdCLE9BQXBCOG1ELEVBQTBCLENBQzFCLElBQUkxNEMsRUFBT2kzQyxHQUNQeUIsRUFBa0IsSUFHbEJBLEVBQWtCcG5ELEVBQU1LLEVBQUtDLHdCQUEwQjhtRCxFQUV2RDE0QyxHQUFRLEdBRVpnNEMsR0FBbUI1c0QsRUFBT2tHLEVBQU9LLEVBQUszUyxPQUFPMDVELEdBQWtCUixFQUFvQmw0QyxJQWEzRixTQUFTdzRDLEdBQW1CcHRELEVBQU91RyxFQUFNTCxFQUFPOXdDLEdBRTVDLE1BQU1tM0YsRUFnRFYsU0FBc0JnQixFQUFlQyxHQUNqQyxJQUFJajdFLEVBQVFnN0UsRUFBY0UsTUFBTXhrRSxRQUFRdWtFLEdBQ3hDLElBQWUsSUFBWGo3RSxFQUNBLE9BQVFnN0UsRUFBY3Y5RCxNQUNsQixLQUFLLEVBQWdCLENBQ2pCLE1BQU0wOUQsRUE1dEJ0QixTQUF1QnQ0RixFQUFPazBGLEdBQzFCLE1BQU1xRSxFQUFTOUQsR0FBb0JQLEVBQXBCTyxDQUE0Qno3RCxTQUFTaDVCLEVBQU8sS0FDckQrQyxFQUFTZ3lGLEdBQWN3RCxHQUM3QixZQUFtQmoxRixJQUFYUCxFQUF3QkEsRUFBUyxRQXl0QlJ5MUYsQ0FBY0osRUEvbkJ4Q2hELElBZ29CS2o0RSxFQUFRZzdFLEVBQWNFLE1BQU14a0UsUUFBUXlrRSxJQUNyQixJQUFYbjdFLEdBQWlDLFVBQWpCbTdFLElBQ2hCbjdFLEVBQVFnN0UsRUFBY0UsTUFBTXhrRSxRQUFRLFVBRXhDLE1BRUosS0FBSyxFQUNEMVcsRUFBUWc3RSxFQUFjRSxNQUFNeGtFLFFBQVEsU0FLaEQsT0FBa0IsSUFBWDFXLEVBQWUsS0FBT0EsRUFsRVhzN0UsQ0FBYXRuRCxFQUFNbnhDLEdBRXJDLEdBRHNCbTJGLEdBQXVCaGxELEVBQU1MLEtBQzNCcW1ELElBQ3BCdUIsR0FBeUI5dEQsRUFBT3VHLEVBQU1MLEdBQ3RDQSxFQUFNSyxFQUFLQyx1QkFBdUMsT0FBZCtsRCxFQUFxQixNQUFRQSxFQUMvQyxPQUFkQSxHQUFvQixDQUVwQixNQUFNM0IsRUFBYzFrRCxFQUFNSyxFQUFLaW1ELFdBQzNCNUIsSUFDQTd2RCxXQUFhMkIsRUFBY2t1RCxHQUMzQm1CLEdBQW9CL3JELEVBQU91RyxFQUFLcnhDLE9BQU9xM0YsR0FBWXJtRCxFQUFPMGtELEtBYzFFLFNBQVNrRCxHQUF5Qjl0RCxFQUFPdUcsRUFBTUwsR0FDM0MsSUFBSW9uRCxFQUFrQi9CLEdBQXVCaGxELEVBQU1MLEdBQ25ELEdBQXdCLE9BQXBCb25ELEVBQTBCLENBQzFCLE1BQU1TLEVBQWN4bkQsRUFBSzNrQyxPQUFPMHJGLEdBQ2hDLElBQUssSUFBSTN3RixFQUFJLEVBQUdBLEVBQUlveEYsRUFBWTV5RixPQUFRd0IsSUFBSyxDQUN6QyxNQUFNcXhGLEVBQWlCRCxFQUFZcHhGLEdBQ25DLEdBQUlxeEYsRUFBaUIsRUFBRyxDQUVwQixNQUFNaCtCLEVBQVFobUIsR0FBaUJna0QsRUFBZ0I5bkQsR0FDckMsT0FBVjhwQixHQUFrQkcsR0FBaUJqcUIsRUFBTWdFLElBQVc4bEIsUUFJcEQ4OUIsR0FBeUI5dEQsRUFBT3FyRCxHQUFRcnJELEdBQVFndUQsR0FBaUI5bkQsS0F1Q2pGLFNBQVMrbkQsS0FDTCxNQUFNQyxFQUFTLEdBQ2YsSUFDSXoyQyxFQUNBMDJDLEVBRkFDLEdBQVUsRUEyQmQsU0FBU0MsRUFBUzluRCxFQUFNTCxHQUNwQmtvRCxFQUFTLEVBQ1QsTUFBTTVDLEVBQWNELEdBQXVCaGxELEVBQU1MLEdBQzdCLE9BQWhCc2xELEdBQ0F6d0QsV0FBYVksRUFBb0I2dkQsRUFBYSxFQUFHamxELEVBQUtrbkQsTUFBTXR5RixPQUFTLEdBQ3JFZ3pGLEVBQVc1bkQsRUFBSzNrQyxPQUFPNHBGLElBR3ZCMkMsRUFBVzVzRCxHQUduQixTQUFTK3NELElBQ0wsR0FBSUYsRUFBU0QsRUFBU2h6RixPQUFRLENBQzFCLE1BQU1vekYsRUFBZUosRUFBU0MsS0FFOUIsR0FEQXJ6RCxXQUFhVSxFQUFhOHlELEVBQWMsMkJBQ3BDQSxFQUFlLEVBQUcsQ0FDbEIsTUFBTXYrQixFQUFRdlksRUFBTzgyQyxHQUVyQixPQURBeHpELFdBQWEyQixFQUFjc3pCLEdBQ3BCQSxFQUVOLENBQ0RrK0IsRUFBTzd4RixLQUFLK3hGLEVBQVFELEdBRXBCLE1BQU1LLEdBQWFELEVBQ2Job0QsRUFBT2tSLEVBN3pqQmYsR0E2empCNkI3bUIsS0FBSzQ5RCxHQUdoQyxPQUZBenpELFdBQWF1TCxHQUFXQyxHQUN4QjhuRCxFQUFTOW5ELEVBQU1rUixHQUNSNjJDLEtBSVgsT0FBc0IsSUFBbEJKLEVBQU8veUYsT0FDQSxNQUdQZ3pGLEVBQVdELEVBQU8xbUYsTUFDbEI0bUYsRUFBU0YsRUFBTzFtRixNQUNUOG1GLEtBSW5CLE9BakRBLFNBQW1DdC9CLEVBQW1COW9CLEdBRWxELElBREF1UixFQUFTdlIsRUFDRmdvRCxFQUFPL3lGLFFBQ1YreUYsRUFBTzFtRixNQUdYLE9BRkF1ekIsV0FBYWtMLEdBQW9CK29CLEVBQW1COW9CLEdBQ3BEbW9ELEVBQVNyL0IsRUFBa0I1NUQsTUFBTzh3QyxHQUMzQm9vRCxHQStEZixTQUFTRyxHQUEwQkMsR0FDL0IsTUFBTUMsRUFBZ0JELElBQVlqNkYsTUFBTWdOLFFBQVF0TixNQUFRQSxLQUFPLElBQy9ELElBQUl5NkYsRUFBUSxHQUNaLElBQUssSUFBSWp5RixFQUFJLEVBQUdBLEVBQUlneUYsRUFBY3h6RixPQUFRd0IsSUFBSyxDQUMzQyxNQUFNZ21FLEVBQVNnc0IsRUFBY2h5RixLQUN2QiswQyxFQUFPaTlDLEVBQWNoeUYsR0FDckJreUYsR0FBYWxzQixFQUFTNG5CLEdBQWlCdUUsV0FBYXZFLEdBQWlCdUUsUUFDckVDLEdBQWFwc0IsRUFBUzRuQixHQUFpQnlFLGtCQUFvQnpFLEdBQWlCeUUsZUFDNUV6OEUsRUFBUW93RCxJQUFXNG5CLEdBQWlCMEUsTUFDMUNMLEVBQU12eUYsS0FBSyxTQUFTa1csaUJBQXFCczhFLEVBQVksZ0JBQWtCLGdCQUFnQmhrRSxLQUFLSSxVQUFVeW1CLFFBQ2xHcTlDLEdBQ0FILEVBQU12eUYsS0FBSyw0QkFBNEJrVyxRQUcvQyxPQUFPcThFLEVBWVgsU0FBU00sR0FBMEJSLEdBQy9CLE1BQU1TLEVBQVMsSUFBSUMsR0FBYVYsSUFBWWo2RixNQUFNZ04sUUFBUXROLE1BQVFBLEtBQU8sS0FDekUsSUFBSXk2RixFQUFRLEdBQ1osU0FBU1MsRUFBY2o2RixHQUNuQixNQUFNazZGLEVBQU1sNkYsSUFBVSxFQUV0QixPQUR1QixFQUFSQSxHQUVYLEtBQUssRUFDRCxNQUFPLFVBQVVrNkYsZ0NBQ3JCLEtBQUssRUFDRCxNQUFNcDlDLEVBQVdpOUMsRUFBT0ksZ0JBQ2xCQyxFQUFpQkwsRUFBT00sa0JBRTlCLE1BQU8sVUFBVUgsZ0NBQWtDcDlDLE9BRHJDczlDLEVBQWlCLElBQUlBLFVBQXlCLFNBRWhFLEtBQUssRUFDRCxNQUFPLGlCQUFpQkYsVUFDNUIsS0FBSyxFQUNELE1BQU8saUJBQWlCQSxLQUVoQyxNQUFNLElBQUkxMUUsTUFBTSxxQkFFcEIsS0FBT3UxRSxFQUFPTyxXQUFXLENBQ3JCLElBQUk5NkMsRUFBT3U2QyxFQUFPUSxnQkFDZHA2RCxFQUFPNDVELEVBQU9RLGdCQUNsQixNQUFNdGdELEVBQU04L0MsRUFBT3h5RixFQUFJNDRCLEVBQ2pCcTZELEVBQWEsR0FDbkIsSUFBSUMsRUFBWSxHQUNoQixLQUFPVixFQUFPeHlGLEVBQUkweUMsR0FBSyxDQUNuQixJQUFJajZDLEVBQVErNUYsRUFBT1csd0JBQ25CLEdBQXFCLGlCQUFWMTZGLEVBQ1B5NkYsR0FBYXo2RixPQUVaLEdBQUlBLEVBQVEsRUFJYnk2RixHQUFhLFlBQWN6NkYsRUFBUSxTQUVsQyxDQUVELE1BQU0yNkYsRUFBYVYsRUFBY2o2RixHQUNqQ3c2RixFQUFXdnpGLEtBQUswekYsRUFBV3RtQyxRQUFRLE1BQU8sSUFBTW9tQyxFQUFZLEtBQU8sS0FDbkVBLEVBQVksSUFHcEJqQixFQUFNdnlGLEtBQUssZ0JBQWdCdTRDLEVBQUtsc0IsU0FBUyxTQUFTa25FLEVBQVdqbkUsS0FBSyxVQUV0RSxPQUFPaW1FLEVBWVgsU0FBU29CLEdBQXlCdEIsR0FDOUIsTUFBTVMsRUFBUyxJQUFJQyxHQUFhVixJQUFZajZGLE1BQU1nTixRQUFRdE4sTUFBUUEsS0FBTyxLQUN6RSxJQUFJeTZGLEVBQVEsR0FDWixTQUFTUyxFQUFjMXNCLEdBQ25CLE1BQU1yZ0UsRUFBU21wRixHQUE2QjlvQixHQUN0QzJzQixFQUFNM0QsR0FBMEJocEIsR0FDdEMsT0FBUWlwQixHQUFrQ2pwQixJQUN0QyxLQUFLLEVBQ0QsTUFBTyxVQUFVcmdFLG9DQUF5QzJ0RixNQUM5RCxLQUFLLEVBQ0QsTUFBTyxVQUFVWCxnQ0FBa0NILEVBQU9JLHNCQUFzQkosRUFBT0ksb0JBRS9GLE1BQU0sSUFBSTMxRSxNQUFNLHNCQUF3Qmd5RSxHQUFrQ2pwQixJQUU5RSxJQUFJc3RCLEdBQVcsRUFDZixLQUFPZCxFQUFPTyxXQUFXLENBQ3JCLElBQUl0NkYsRUFBUSs1RixFQUFPZSw4QkFDbkIsR0FBSTk2RixJQUFVazFGLEdBQVksQ0FDdEIsTUFBTTU0QyxFQUFPeTlDLEVBQU9JLGdCQUNwQlUsRUFBVWQsRUFBT1EsZ0JBQ2pCZixFQUFNdnlGLEtBQUssU0FBUzR6RixnQ0FBc0N2K0MsWUFFekQsR0FBSXQ4QyxJQUFVaTFGLEdBQWdCLENBQy9CLE1BQU0zNEMsRUFBT3k5QyxFQUFPSSxnQkFDcEJVLEVBQVVkLEVBQU9RLGdCQUNqQmYsRUFBTXZ5RixLQUFLLFNBQVM0ekYsZ0NBQXNDditDLFlBRXpELEdBQXFCLGlCQUFWdDhDLEVBQ1o2NkYsRUFBVWQsRUFBT1EsZ0JBQ2pCZixFQUFNdnlGLEtBQUssU0FBUzR6RixpQ0FBdUM3NkYsV0FFMUQsSUFBcUIsaUJBQVZBLEVBS1osTUFBTSxJQUFJd2tCLE1BQU0sb0JBTGdCLENBQ2hDLE1BQU11MkUsRUFBT2QsRUFBY2o2RixHQUMzQis2RixHQUFRdkIsRUFBTXZ5RixLQUFLOHpGLEtBTTNCLE9BQU92QixFQVlYLFNBQVN3QixHQUEwQjFCLEdBQy9CLE1BQU1YLEVBQWNXLElBQVlqNkYsTUFBTWdOLFFBQVF0TixNQUFRQSxLQUFPLElBQzdELElBQUl5NkYsRUFBUSxHQUNaLElBQUssSUFBSWp5RixFQUFJLEVBQUdBLEVBQUlveEYsRUFBWTV5RixPQUFRd0IsSUFBSyxDQUN6QyxNQUFNcXhGLEVBQWlCRCxFQUFZcHhGLEdBQy9CcXhGLEVBQWlCLEVBRWpCWSxFQUFNdnlGLEtBQUssZ0JBQWdCMnhGLE9BSTNCWSxFQUFNdnlGLEtBQUssb0JBQW9CMnhGLE1BR3ZDLE9BQU9ZLEVBRVgsTUFBTVEsR0FDRm42RixZQUFZbzdGLEdBQ1JsOEYsS0FBS3dJLEVBQUksRUFDVHhJLEtBQUtrOEYsTUFBUUEsRUFFakJYLFVBQ0ksT0FBT3Y3RixLQUFLd0ksRUFBSXhJLEtBQUtrOEYsTUFBTWwxRixPQUUvQncwRixnQkFDSSxJQUFJdjZGLEVBQVFqQixLQUFLazhGLE1BQU1sOEYsS0FBS3dJLEtBRTVCLE9BREE4K0IsRUFBYXJtQyxFQUFPLDhCQUNiQSxFQUVYbTZGLGdCQUNJLElBQUluNkYsRUFBUWpCLEtBQUtrOEYsTUFBTWw4RixLQUFLd0ksS0FFNUIsT0FEQXEvQixFQUFhNW1DLEVBQU8sOEJBQ2JBLEVBRVhxNkYsa0JBQ0ksSUFBSXI2RixFQUFRakIsS0FBS2s4RixNQUFNbDhGLEtBQUt3SSxLQUM1QixHQUFjLE9BQVZ2SCxHQUFtQyxtQkFBVkEsRUFDekIsT0FBT0EsRUFFWCxNQUFNLElBQUl3a0IsTUFBTSxnQ0FFcEJrMkUsd0JBQ0ksSUFBSTE2RixFQUFRakIsS0FBS2s4RixNQUFNbDhGLEtBQUt3SSxLQUM1QixNQUFxQixpQkFBVnZILEdBR1hxbUMsRUFBYXJtQyxFQUFPLHdDQUZUQSxFQUtmODZGLDhCQUNJLElBQUk5NkYsRUFBUWpCLEtBQUtrOEYsTUFBTWw4RixLQUFLd0ksS0FDNUIsTUFBcUIsaUJBQVZ2SCxHQUF1QyxpQkFBVkEsR0FBc0JBLEdBQVNrMUYsSUFDbkVsMUYsR0FBU2kxRixJQUdiNXVELEVBQWFybUMsRUFBTyxvRUFGVEEsR0FjbkIsTUFBTWs3RixHQUFpQixpQkFDakJDLEdBQWEsNkNBQ2JDLEdBQWEsVUFDYkMsR0FBbUIsNkNBRW5CQyxHQUFxQixxQkFDckJDLEdBQVksd0JBUVpDLEdBQXNCLFVBbUc1QixTQUFTQyxHQUF3Qjd3RCxFQUFPdXlDLEVBQVd1ZSxFQUFnQjVxRCxFQUFPeW9ELEVBQWVqOUMsRUFBTXEvQyxHQUMzRixNQUFNQyxFQUFjM3ZCLEdBQWFyaEMsRUFBT2tHLEVBQU8sRUFBRyxNQUNsRCxJQUFJeThCLEVBQVNxdUIsR0FBZXpHLEdBQWlCMEUsTUFDekNwaEQsRUFBYzlCLEtBQ2R3bUMsSUFBYzFrQyxJQUlkQSxFQUFjLE1BRUUsT0FBaEJBLElBS0E4MEIsR0FBVTRuQixHQUFpQnlFLGdCQUUzQitCLElBQ0FwdUIsR0FBVTRuQixHQUFpQnVFLGFBeHFaRnAyRixJQUF6Qm8yRCxLQUdBQSxHQXNxWmdDbS9CLE9BRXBDVSxFQUFjdHlGLEtBQUtzbUUsRUFBaUIsT0FBVGp4QixFQUFnQixHQUFLQSxHQUdoRCxNQUFNM1IsRUFBUXFnQyxHQUFtQnBnQyxFQUFPZ3hELEVBQWFELEVBQVEsR0FBZSxFQUF1QixPQUFUci9DLEVBQWlCM1csVUFBWSxRQUFVLEdBQU0yVyxFQUFNLE1BQzdJbTVDLEdBQW1DaUcsRUFBZ0Ivd0QsR0FDbkQsTUFBTTYvQyxFQUFXNy9DLEVBQU14dEIsTUFPdkIsT0FOQTA1QixHQUFnQmxNLEdBQU8sR0FDSCxPQUFoQjhOLEdBQXdCMGtDLElBQWMxa0MsR0F0M0I5QyxTQUFtQzlOLEVBQU94dEIsR0FDdEN3b0IsV0FBYXFMLEdBQVlyRyxHQUN6QixJQUFJdWdDLEVBQW9CdmdDLEVBQU11Z0Msa0JBQ0osT0FBdEJBLEdBQ0F0TSxHQUFnQkMsR0FBaUNDLElBQ2pEb00sRUFBb0J2Z0MsRUFBTXVnQyxrQkFDdEIsQ0FBQyxLQUEyQy90RCxLQUdoRDBwQixFQUFZeG5DLE1BQU1nTixRQUFRNitELElBQW9CLEVBQU0sd0JBQ3BEQSxFQUFrQmprRSxLQUFLa1csSUErMkJ2QjArRSxDQUEwQnBqRCxFQUFhK3hDLEdBRXBDNy9DLEVBcUJYLFNBQVNteEQsR0FBd0NseEQsRUFBT3V5QyxFQUFXdWUsRUFBZ0JuQyxFQUFlOUIsRUFBZTNtRCxFQUFPd0wsR0FDcEgsTUFBTXkvQyxFQUFhei9DLEVBQUtvVixNQUFNd3BDLElBQ3hCdndELEVBQVE4d0QsR0FBd0I3d0QsRUFBT3V5QyxFQUFXdWUsRUFBZ0I1cUQsRUFBT3lvRCxFQUFld0MsRUFBYSxLQUFPei9DLEdBQU0sR0FDcEh5L0MsR0FDQUMsR0FBNkJ2RSxFQUFlbjdDLEVBQU0zUixFQUFNeHRCLE1BQU8sS0FBTSxFQUFHLE1BK0NoRixTQUFTNitFLEdBQTZCdkUsRUFBZXdFLEVBQUtDLEVBQWlCcC9DLEVBQVVxL0MsRUFBY3RFLEdBQy9GbHlELFdBQ0lnQixFQUF5QnUxRCxFQUFpQjdyRCxHQUFlLDBDQUM3RCxNQUFNK3JELEVBQVkzRSxFQUFjMXhGLE9BQzFCczJGLEVBQVlELEVBQVksRUFDOUIzRSxFQUFjeHdGLEtBQUssS0FBTSxNQUN6QixNQUFNcTBDLEVBQWE4Z0QsRUFBWSxFQUMzQnoyRCxXQUNBNCtCLEdBQWtCa3pCLEVBQWVxQyxJQUVyQyxNQUFNd0MsRUFBWUwsRUFBSXRrRSxNQUFNdWpFLElBQzVCLElBQUkxN0MsRUFBTyxFQUNYLElBQUssSUFBSTN6QyxFQUFJLEVBQUdBLEVBQUl5d0YsRUFBVXYyRixPQUFROEYsSUFBSyxDQUN2QyxNQUFNMHdGLEVBQVlELEVBQVV6d0YsR0FDNUIsR0FBUSxFQUFKQSxFQUFPLENBRVAsTUFBTXlyQyxFQUFlNmtELEVBQWVuakUsU0FBU3VqRSxFQUFXLElBQ3hEOUUsRUFBY3h3RixNQUFNLEVBQUlxd0MsR0FDeEJrSSxHQUFjZzlDLEdBQVVsbEQsT0FFTCxLQUFkaWxELEdBRUw5RSxFQUFjeHdGLEtBQUtzMUYsR0FVM0IsT0FQQTlFLEVBQWN4d0YsS0FBS2kxRixHQUFtQixHQUNqQ3AvQyxFQUFXLEVBQWUsSUFDM0JBLEdBQ0EyNkMsRUFBY3h3RixLQUFLNjFDLEVBQVUrNkMsR0FFakNKLEVBQWMyRSxHQUFhNThDLEVBQzNCaTRDLEVBQWM0RSxHQUFhNUUsRUFBYzF4RixPQUFTdTFDLEVBQzNDa0UsRUFhWCxTQUFTaTlDLEdBQWNDLEdBQ25CLElBQUl6a0YsRUFBUSxFQUNaLElBQUssSUFBSTFRLEVBQUksRUFBR0EsRUFBSW0xRixFQUFRMzJGLE9BQVF3QixJQUFLLENBQ3JDLE1BQU1nbUUsRUFBU212QixFQUFRbjFGLEdBRUQsaUJBQVhnbUUsR0FBdUJBLEVBQVMsR0FDdkN0MUQsSUFHUixPQUFPQSxFQVVYLFNBQVN1a0YsR0FBVWxsRCxHQUNmLE9BQU8sR0FBS3Z3QyxLQUFLc2MsSUFBSWkwQixFQUFjLElBUXZDLFNBQVNxbEQsR0FBK0J6dkUsR0FDcEMsSUFBSXdrQyxFQUlBa3JDLEVBSEFqNEQsRUFBTSxHQUNOeG5CLEVBQVEsRUFDUjAvRSxHQUFhLEVBRWpCLEtBQXNELFFBQTlDbnJDLEVBQVE0cEMsR0FBbUJ3QixLQUFLNXZFLEtBQy9CMnZFLEVBTUduckMsRUFBTSxLQUFPLE1BQWNrckMsT0FDM0J6L0UsRUFBUXUwQyxFQUFNdjBDLE1BQ2QwL0UsR0FBYSxJQVBqQmw0RCxHQUFPelgsRUFBUTJYLFVBQVUxbkIsRUFBT3UwQyxFQUFNdjBDLE1BQVF1MEMsRUFBTSxHQUFHM3JELFFBQ3ZENjJGLEVBQWFsckMsRUFBTSxHQUNuQm1yQyxHQUFhLEdBWXJCLE9BSEFsM0QsV0FDSWtCLEVBQVlnMkQsR0FBWSxFQUFPLGdGQUFnRjN2RSxNQUNuSHlYLEdBQU96WCxFQUFRaTRDLE9BQU9ob0QsR0FDZnduQixFQXFDWCxTQUFTbzRELEdBQVNueUQsRUFBT2tHLEVBQU8ybUQsRUFBZVQsRUFBV21CLEVBQWVmLEdBQ3JFenhELFdBQWF5QixFQUFjK3dELEVBQWUsa0NBQzFDLElBQUk2RSxFQUFjLEVBQ2xCLE1BQU03ckQsRUFBTyxDQUNUdlcsS0FBTXU5RCxFQUFjdjlELEtBQ3BCd1csc0JBQXVCNjZCLEdBQWFyaEMsRUFBT2tHLEVBQU8sRUFBRyxNQUNyRHNtRCxVQUFBQSxFQUNBaUIsTUFBTyxHQUNQdjRGLE9BQVEsR0FDUjBNLE9BQVEsR0FDUmd5QixPQUFRLEtBcU9oQixTQUE0QkEsRUFBUTI1RCxFQUFlaDdFLEdBQy9DcWhCLEVBQU92M0IsS0FBS3UxRixHQUFVckUsRUFBYzhFLGFBQWMsR0FBSSxFQUFJOUUsRUFBYzhFLFlBQWE5L0UsR0FBUyxFQUFvQixHQXBPbEgrL0UsQ0FBbUJ6RixFQUFlVSxFQUFlZixHQXBtQ3JELFNBQWlCeHNELEVBQU96dEIsRUFBT2cwQixHQUMzQixNQUFNeEcsRUFBUUMsRUFBTXBQLEtBQUtyZSxHQUN6QndvQixXQUNJa0IsRUFBc0IsT0FBVjhELEdBQWtCQSxFQUFNbnJDLGVBQWUsV0FBVyxFQUFNLDJDQUMxRCxPQUFWbXJDLEVBQ0FDLEVBQU1wUCxLQUFLcmUsR0FBU2cwQixHQUdwQnhMLFdBQWE0VyxHQUFnQjVSLEVBQU8sSUFDcENBLEVBQU0zcUMsTUFBUW14QyxHQTRsQ2xCZ3NELENBQVF2eUQsRUFBT3dzRCxFQUFXam1ELEdBQzFCLE1BQU0vaEMsRUFBUytvRixFQUFjL29GLE9BQzdCLElBQUssSUFBSTdILEVBQUksRUFBR0EsRUFBSTZILEVBQU9ySixPQUFRd0IsSUFBSyxDQUVwQyxNQUFNNjFGLEVBQVdodUYsRUFBTzdILEdBQ2xCODFGLEVBQWEsR0FDbkIsSUFBSyxJQUFJeHhGLEVBQUksRUFBR0EsRUFBSXV4RixFQUFTcjNGLE9BQVE4RixJQUFLLENBQ3RDLE1BQU03TCxFQUFRbzlGLEVBQVN2eEYsR0FDdkIsR0FBcUIsaUJBQVY3TCxFQUFvQixDQUUzQixNQUFNczlGLEVBQVdELEVBQVdwMkYsS0FBS2pILEdBQVMsRUFFMUNvOUYsRUFBU3Z4RixHQUFLLFdBQVF5eEYsWUFHOUJOLEVBQWNPLEdBQWEzeUQsRUFBT3VHLEVBQU1MLEVBQU8ybUQsRUFBZVQsRUFBV21CLEVBQWNFLE1BQU05d0YsR0FBSTYxRixFQUFTN3BFLEtBQUssSUFBSzhwRSxHQUNoSEwsRUFFSkEsR0FtTlIsU0FBNEJ4K0QsRUFBUXcrRCxFQUFhNy9FLEdBQzdDcWhCLEVBQU92M0IsS0FBSysxRixFQUFhLEVBQUc3L0UsR0FBUyxFQUFvQixHQW5OckRxZ0YsQ0FBbUIvRixFQUFldUYsRUFBYTVGLEdBVXZELFNBQVNxRyxHQUFjQyxHQUNuQixNQUFNckYsRUFBUSxHQUNSanBGLEVBQVMsR0FDZixJQUFJdXVGLEVBQVUsRUFDVlYsRUFBYyxFQVdsQixNQUFNL2tCLEVBQVEwbEIsR0FWZEYsRUFBVUEsRUFBUXJwQyxRQUFRZ25DLElBQWtCLFNBQVVZLEVBQUs0QixFQUFTampFLEdBUWhFLE9BTkkraUUsRUFEUyxXQUFUL2lFLEVBQ1UsRUFHQSxFQUVkcWlFLEVBQWNqa0UsU0FBUzZrRSxFQUFRMTRCLE9BQU8sR0FBSSxJQUNuQyxPQUlYLElBQUssSUFBSTI0QixFQUFNLEVBQUdBLEVBQU01bEIsRUFBTW55RSxRQUFTLENBQ25DLElBQUk2WCxFQUFNczZELEVBQU00bEIsS0FBT2hzQyxPQUNQLElBQVo2ckMsSUFFQS8vRSxFQUFNQSxFQUFJeTJDLFFBQVEsb0JBQXFCLE9BRXZDejJDLEVBQUk3WCxRQUNKc3lGLEVBQU1weEYsS0FBSzJXLEdBRWYsTUFBTW1nRixFQUFTSCxHQUE2QjFsQixFQUFNNGxCLE1BQzlDekYsRUFBTXR5RixPQUFTcUosRUFBT3JKLFFBQ3RCcUosRUFBT25JLEtBQUs4MkYsR0FJcEIsTUFBTyxDQUFFbmpFLEtBQU0raUUsRUFBU1YsWUFBYUEsRUFBYTVFLE1BQUFBLEVBQU9qcEYsT0FBQUEsR0FZN0QsU0FBU3d1RixHQUE2QkYsR0FDbEMsSUFBS0EsRUFDRCxNQUFPLEdBRVgsSUFBSU0sRUFBVSxFQUNkLE1BQU1DLEVBQWEsR0FDYkMsRUFBVSxHQUNWQyxFQUFTLFFBR2YsSUFBSXpzQyxFQUNKLElBRkF5c0MsRUFBT0MsVUFBWSxFQUVaMXNDLEVBQVF5c0MsRUFBT3JCLEtBQUtZLElBQVUsQ0FDakMsTUFBTUksRUFBTXBzQyxFQUFNdjBDLE1BQ2xCLEdBQWdCLEtBQVp1MEMsRUFBTSxJQUVOLEdBREF1c0MsRUFBVzdyRixNQUNjLEdBQXJCNnJGLEVBQVdsNEYsT0FBYSxDQUV4QixNQUFNczRGLEVBQVFYLEVBQVE3NEQsVUFBVW01RCxFQUFTRixHQUNyQ3pDLEdBQWlCM3pDLEtBQUsyMkMsR0FDdEJILEVBQVFqM0YsS0FBS3cyRixHQUFjWSxJQUczQkgsRUFBUWozRixLQUFLbzNGLEdBRWpCTCxFQUFVRixFQUFNLE9BR25CLENBQ0QsR0FBeUIsR0FBckJHLEVBQVdsNEYsT0FBYSxDQUN4QixNQUFNOCtCLEVBQVk2NEQsRUFBUTc0RCxVQUFVbTVELEVBQVNGLEdBQzdDSSxFQUFRajNGLEtBQUs0OUIsR0FDYm01RCxFQUFVRixFQUFNLEVBRXBCRyxFQUFXaDNGLEtBQUssTUFHeEIsTUFBTTQ5QixFQUFZNjRELEVBQVE3NEQsVUFBVW01RCxHQUVwQyxPQURBRSxFQUFRajNGLEtBQUs0OUIsR0FDTnE1RCxFQU1YLFNBQVNYLEdBQWEzeUQsRUFBT3VHLEVBQU1MLEVBQU8ybUQsRUFBZVQsRUFBV3NILEVBQVVDLEVBQWdCbEIsR0FDMUYsTUFBTXY5RixFQUFTLEdBQ1QwTSxFQUFTLEdBQ1RneUIsRUFBUyxHQUNYbUgsWUFDQTQrQixHQUFrQnprRSxFQUFRODZGLElBQzFCcjJCLEdBQWtCLzNELEVBQVF3dUYsSUFDMUJ6MkIsR0FBa0IvbEMsRUFBUXM3RCxLQUU5QjNvRCxFQUFLa25ELE1BQU1weEYsS0FBS3EzRixHQUNoQm50RCxFQUFLcnhDLE9BQU9tSCxLQUFLbkgsR0FDakJxeEMsRUFBSzNrQyxPQUFPdkYsS0FBS3VGLEdBQ2pCMmtDLEVBQUszUyxPQUFPdjNCLEtBQUt1M0IsR0FDakIsTUFDTWl5QixFQURrQmhCLEdBQW1CdGIsTUFDRjhiLG9CQUFvQnN1QyxHQUM3RDU0RCxXQUFheUIsRUFBY3FwQixFQUFrQix5Q0FDN0MsTUFBTSt0QyxFQUFnQjFwQyxHQUFtQnJFLElBQXFCQSxFQUM5RCxPQUFJK3RDLEVBQ09DLEdBQVk3ekQsRUFBT3VHLEVBQU1MLEVBQU8ybUQsRUFBZTMzRixFQUFRME0sRUFBUWd5QixFQUFRZ2dFLEVBQWV4SCxFQUFXcUcsRUFBWSxHQUc3RyxFQUdmLFNBQVNvQixHQUFZN3pELEVBQU91RyxFQUFNTCxFQUFPNHRELEVBQXFCNStGLEVBQVEwTSxFQUFRZ3lCLEVBQVFrMUIsRUFBWXNqQyxFQUFXcUcsRUFBWXNCLEdBQ3JILElBQUkzQixFQUFjLEVBQ2Q0QixFQUFjbHJDLEVBQVd0YSxXQUM3QixLQUFPd2xELEdBQWEsQ0FDaEIsTUFBTTVPLEVBQVcvakIsR0FBYXJoQyxFQUFPa0csRUFBTyxFQUFHLE1BQy9DLE9BQVE4dEQsRUFBWXh0QyxVQUNoQixLQUFLNXBCLEtBQUs2cEIsYUFDTixNQUFNM3dDLEVBQVVrK0UsRUFDVmpyQyxFQUFVanpDLEVBQVFpekMsUUFBUWg1QixjQUNoQyxHQUFJNjNCLEdBQWVoekQsZUFBZW0wRCxHQUFVLENBQ3hDa3JDLEdBQXVCLytGLEVBQVFtMUYsR0FBZ0J0aEMsRUFBU3FqQyxFQUFXaEgsR0FDbkVwbEQsRUFBTXBQLEtBQUt3MEQsR0FBWXI4QixFQUN2QixNQUFNM0MsRUFBVXR3QyxFQUFRdXdDLFdBQ3hCLElBQUssSUFBSTFwRCxFQUFJLEVBQUdBLEVBQUl5cEQsRUFBUWpyRCxPQUFRd0IsSUFBSyxDQUNyQyxNQUFNaTdELEVBQU94UixFQUFRcDlCLEtBQUtyc0IsR0FDcEJ1M0YsRUFBZ0J0OEIsRUFBS3IxQyxLQUFLd04sY0FDWDZuQyxFQUFLeGlFLE1BQU0weEQsTUFBTXdwQyxJQUc5QnJvQyxHQUFZcnpELGVBQWVzL0YsR0FDdkJyc0MsR0FBVXFzQyxHQUNWOUMsR0FBNkJ4OUQsRUFBUWdrQyxFQUFLeGlFLE1BQU9nd0YsRUFBVXh0QixFQUFLcjFDLEtBQU0sRUFBR3NrQyxJQUVwRWlCLEdBQWFvc0MsR0FDbEI5QyxHQUE2Qng5RCxFQUFRZ2tDLEVBQUt4aUUsTUFBT2d3RixFQUFVeHRCLEVBQUtyMUMsS0FBTSxFQUFHeWtDLElBR3pFb3FDLEdBQTZCeDlELEVBQVFna0MsRUFBS3hpRSxNQUFPZ3dGLEVBQVV4dEIsRUFBS3IxQyxLQUFNLEVBQUcsTUFJN0V3WSxXQUNJaFEsUUFBUWc4QixLQUNKLDRDQUFHbXRDLGdCQUE0Qm5yQyx3Q0FLM0NvckMsR0FBbUJqL0YsRUFBUWt3RixFQUFVeHRCLEdBSTdDdzZCLEVBQWN5QixHQUFZN3pELEVBQU91RyxFQUFNTCxFQUFPNHRELEVBQXFCNStGLEVBQVEwTSxFQUFRZ3lCLEVBQVFvZ0UsRUFBYTVPLEVBQVVxTixFQUFZc0IsRUFBUSxHQUNsSTNCLEVBQ0pnQyxHQUFjeHlGLEVBQVF3akYsRUFBVTJPLEdBRXBDLE1BQ0osS0FBS24zRCxLQUFLNnJCLFVBQ04sTUFBTXJ6RCxFQUFRNCtGLEVBQVluakMsYUFBZSxHQUNuQ3NnQyxFQUFhLzdGLEVBQU0weEQsTUFBTXdwQyxJQUMvQjJELEdBQXVCLytGLEVBQVEsS0FBTWk4RixFQUFhLEdBQUsvN0YsRUFBT2czRixFQUFXaEgsR0FDekVnUCxHQUFjeHlGLEVBQVF3akYsRUFBVTJPLEdBQzVCNUMsSUFDQWlCLEVBQ0loQixHQUE2Qng5RCxFQUFReCtCLEVBQU9nd0YsRUFBVSxLQUFNLEVBQUcsTUFBUWdOLEdBRS9FLE1BQ0osS0FBS3gxRCxLQUFLMC9CLGFBRU4sTUFBTSszQixFQUFjN0QsR0FBVzBCLEtBQUs4QixFQUFZbmpDLGFBQWUsSUFDL0QsR0FBSXdqQyxFQUFhLENBQ2IsTUFBTUMsRUFBaUJsbUUsU0FBU2ltRSxFQUFZLEdBQUksSUFDMUM5RyxFQUFnQmtGLEVBQVc2QixHQUVqQ0wsR0FBdUIvK0YsRUFBUW8xRixHQUFZdnZELFVBQVksY0FBY3U1RCxJQUFtQixHQUFJbEksRUFBV2hILEdBQ3ZHK00sR0FBU255RCxFQUFPa0csRUFBTzR0RCxFQUFxQjFILEVBQVdtQixFQUFlbkksR0FDdEVtUCxHQUFtQjN5RixFQUFRd2pGLEVBQVUyTyxJQUlqREMsRUFBY0EsRUFBWXR0QyxZQUU5QixPQUFPMHJDLEVBRVgsU0FBU2dDLEdBQWN4eUYsRUFBUTJRLEVBQU93aEYsR0FDcEIsSUFBVkEsR0FDQW55RixFQUFPdkYsS0FBS2tXLEdBR3BCLFNBQVNnaUYsR0FBbUIzeUYsRUFBUTJRLEVBQU93aEYsR0FDekIsSUFBVkEsSUFDQW55RixFQUFPdkYsTUFBTWtXLEdBQ2IzUSxFQUFPdkYsS0FBS2tXLElBU3BCLFNBQVMwaEYsR0FBdUIvK0YsRUFBUXU5QyxFQUFRZixFQUFNOGlELEVBQW1CQyxHQWh4Q3pFLElBQWlDckksRUFBV0UsRUFpeEN6QixPQUFYNzVDLEdBQ0F2OUMsRUFBT21ILEtBQUtvMkMsR0FFaEJ2OUMsRUFBT21ILEtBQUtxMUMsRUFBTStpRCxHQUE2QixFQXB4Q2xCckksRUFveEN1Q29JLEVBcHhDNUJsSSxFQW94QytDbUksRUFueEN2RjE1RCxXQUFhZ0IsRUFBeUJxd0QsRUFBVyxFQUFHLHdCQUNwRHJ4RCxXQUFhd0IsRUFBa0IrdkQsRUFBUSxFQUFHLHFCQWt4Q0ssRUFqeEMvQkYsR0FBYSxHQUF3QkUsR0FBVSxJQW14Q25FLFNBQVM2SCxHQUFtQmovRixFQUFRa3dGLEVBQVV4dEIsR0FDMUMxaUUsRUFBT21ILEtBQUsrb0YsR0FBWSxFQUFvQixFQUFjeHRCLEVBQUtyMUMsS0FBTXExQyxFQUFLeGlFLE9BVzlFLE1BQ01zL0YsR0FBcUMsZUFDckNDLEdBQXlCLGlDQUN6QkMsR0FBcUIsNENBQ3JCQyxHQUE2QixrQkFDN0JDLEdBQWlCLDJCQUNqQkMsR0FBMkIsT0FDM0JDLEdBQXdCLGFBMEk5QixTQUFTLEdBQVl6aUYsRUFBTzBpRixFQUFjQyxHQUFtQixHQUN6RCxNQUFNbDFELEVBQVF5TCxLQUNSdkYsRUFBUXNGLEtBQ1Iwc0MsRUFBZ0J6eUMsR0FBZ0JsekIsRUFDdEN3b0IsV0FBYXlCLEVBQWN3RCxFQUFPLDJCQUNsQyxNQUFNMWQsRUFBVXNvQixHQUFZNUssRUFBTXdDLE9BQVF5eUQsR0FDcENwbkQsRUFBYzlCLEtBQ2hCL0wsRUFBTUYsaUJBN3RCZCxTQUFrQ0UsRUFBT20xRCxFQUFrQmp2RCxFQUFPM3pCLEVBQU8rUCxFQUFTNHlFLEdBQzlFLE1BQU0zaUIsRUFBWXhtQyxLQUNaNGlELEVBQWdCLEdBQ2hCOUIsRUFBZ0IsR0FDaEJ1SSxFQUFxQixDQUFDLElBQ3hCcjZELFlBQ0E0K0IsR0FBa0JnMUIsRUFBZUYsSUFDakM5MEIsR0FBa0JrekIsRUFBZXFDLEtBRXJDNXNFLEVBaVNKLFNBQW1DQSxFQUFTNHlFLEdBQ3hDLEdBOUNKLFNBQStCQSxHQUMzQixPQUE2QixJQUF0QkEsRUE2Q0hHLENBQXNCSCxHQUV0QixPQUFPbkQsR0FBK0J6dkUsR0FFckMsQ0FFRCxNQUFNdTVCLEVBQVF2NUIsRUFBUTJHLFFBQVEsSUFBSWlzRSxNQUErQixFQUFJQSxFQUFpQnhzRSxXQUFXdnRCLE9BQzNGazBDLEVBQU0vc0IsRUFBUWd6RSxPQUFPLElBQUkvZixPQUFPLGVBQXVCMmYsT0FDN0QsT0FBT25ELEdBQStCenZFLEVBQVEyWCxVQUFVNGhCLEVBQU94TSxLQTFTekRrbUQsQ0FBMEJqekUsRUFBUzR5RSxHQUM3QyxNQUFNTSxHQTNCV3BnRyxFQTJCWWt0QixFQTFCdEJsdEIsRUFBTXEwRCxRQUFRbW5DLEdBQXFCLE1BMEJKN2pFLE1BQU00akUsSUEzQmhELElBQXFCdjdGLEVBNEJqQixJQUFLLElBQUl1SCxFQUFJLEVBQUdBLEVBQUk2NEYsRUFBU3I2RixPQUFRd0IsSUFBSyxDQUN0QyxJQUFJdkgsRUFBUW9nRyxFQUFTNzRGLEdBQ3JCLEdBQWdCLElBQVAsRUFBSkEsR0FBYyxDQUVmLE1BQU0yd0UsRUFBUTBsQixHQUE2QjU5RixHQUMzQyxJQUFLLElBQUk2TCxFQUFJLEVBQUdBLEVBQUlxc0UsRUFBTW55RSxPQUFROEYsSUFBSyxDQUNuQyxJQUFJdzBGLEVBQU9ub0IsRUFBTXJzRSxHQUNqQixHQUFnQixJQUFQLEVBQUpBLEdBQWMsQ0FFZixNQUFNeXdDLEVBQU8rakQsRUFDYjE2RCxXQUFhaUIsRUFBYTBWLEVBQU0sb0NBQ25CLEtBQVRBLEdBQ0F3L0MsR0FBd0NseEQsRUFBT3V5QyxFQUFXNmlCLEVBQW1CLEdBQUl6RyxFQUFlOUIsRUFBZTNtRCxFQUFPd0wsT0FHekgsQ0FFRCxNQUFNNjdDLEVBQWdCa0ksRUFPdEIsR0FBNkIsaUJBQWxCbEksRUFDUCxNQUFNLElBQUkzekUsTUFBTSxzQ0FBc0MwSSxlQUUxRCxNQUNNb3pFLEVBRG9CN0UsR0FBd0I3d0QsRUFBT3V5QyxFQUFXNmlCLEVBQW1CLEdBQUlsdkQsRUFBT3lvRCxFQUFlNXpELFVBQVksT0FBT3hvQixLQUFTZzdFLEVBQWM4RSxjQUFnQixJQUFJLEdBQ3hJOS9FLE1BQ3ZDd29CLFdBQ0lnQixFQUF5QjI1RCxFQUFjandELEdBQWUsMENBQzFEMHNELEdBQVNueUQsRUFBT2tHLEVBQU8ybUQsRUFBZXNJLEVBQWtCNUgsRUFBZW1JLFNBSTlFLENBR0QsTUFBTUMsRUFBb0MsS0FBeEJ2Z0csRUFBTXM5QyxXQUFXLEdBQzdCMWlCLEVBQU81NkIsRUFBTXM5QyxXQUFXaWpELEVBQVksRUFBSSxHQUM5QzU2RCxXQUFhZ0MsRUFBWS9NLEVBQU0sR0FBZSxJQUM5QyxNQUFNemQsRUFBUWt6QixHQUFnQm13RCxPQUFPeG5FLFNBQVNoNUIsRUFBTTZrQyxVQUFXMDdELEVBQVksRUFBSSxJQUMvRSxHQUFJQSxFQUNBUCxFQUFtQjUyRixRQUNuQnl0QyxHQUFnQkYsTUFBeUIsT0FFeEMsQ0FDRCxNQUFNaE0sRUFBUXVyRCxHQUF1QnRyRCxFQUFPbzFELEVBQW1CLEdBQUk3aUYsR0FDbkU2aUYsRUFBbUJ6N0MsUUFBUSxJQUMzQjFOLEdBQWdCbE0sR0FBTyxLQUluQ0MsRUFBTXBQLEtBQUtyZSxHQUFTLENBQ2hCcmQsT0FBUXk1RixFQUNSLzZELE9BQVFpNUQsR0E0cEJSZ0osQ0FBeUI3MUQsRUFBdUIsT0FBaEI2TixFQUF1QixFQUFJQSxFQUFZdDdCLE1BQU8yekIsRUFBT2d5QyxFQUFlNTFELEVBQVM0eUUsR0FFakgsTUFBTVksRUFBUTkxRCxFQUFNcFAsS0FBS3NuRCxHQUVuQjdqQixFQUFjZixHQUFtQnR6QixFQURYNk4sSUFBZ0IzSCxFQXp5bEJqQyxHQXl5bEJpRCxLQUFPMkgsRUFDQTNILEdBRzdEbW1ELEVBQWtCeCtDLEdBQW1DLEVBQW5CQSxFQUFZN2QsS0FDaERrVyxFQUFNMkgsRUFBWXQ3QixPQUNsQixNQTkzQ1IsU0FBNEIyekIsRUFBT3lvRCxFQUFldDZCLEVBQWFnNEIsR0FDM0QsTUFBTTNpRCxFQUFXeEQsRUFBTWdFLElBQ3ZCLElBQUssSUFBSXZ0QyxFQUFJLEVBQUdBLEVBQUlneUYsRUFBY3h6RixPQUFRd0IsSUFBSyxDQUMzQyxNQUFNZ21FLEVBQVNnc0IsRUFBY2h5RixLQUN2QiswQyxFQUFPaTlDLEVBQWNoeUYsR0FDckJreUYsR0FBYWxzQixFQUFTNG5CLEdBQWlCdUUsV0FBYXZFLEdBQWlCdUUsUUFDckVDLEdBQWFwc0IsRUFBUzRuQixHQUFpQnlFLGtCQUFvQnpFLEdBQWlCeUUsZUFDNUV6OEUsRUFBUW93RCxJQUFXNG5CLEdBQWlCMEUsTUFDMUMsSUFBSWovQixFQUFROXBCLEVBQU0zekIsR0FDSixPQUFWeTlDLElBR0FBLEVBQVE5cEIsRUFBTTN6QixHQUNWczhFLEVBQVlubEQsRUFBU3FuQixjQUFjcmYsR0FBUStlLEdBQWUvbUIsRUFBVWdJLElBRXhFcTlDLEdBQTZCLE9BQWhCMTZCLEdBQ2JuRSxHQUFtQnhtQixFQUFVMnFCLEVBQWFyRSxFQUFPcThCLEdBQWlCLElBKzJDMUUwSixDQUFtQjd2RCxFQUFPNHZELEVBQU01Z0csT0FBUW0vRCxFQUFhZzRCLEdBQ3JEdi9DLElBQWUsR0FRbkIsU0FBUyxLQUNMQSxJQUFlLEdBNEJuQixTQUFTLEdBQU92NkIsRUFBTzBpRixFQUFjQyxHQUNqQyxHQUFZM2lGLEVBQU8waUYsRUFBY0MsR0FDakMsS0FVSixTQUFTLEdBQWlCM2lGLEVBQU95bEUsR0FDN0IsTUFBTWg0QyxFQUFReUwsS0FDZDFRLFdBQWF5QixFQUFjd0QsRUFBTywyQkFDbEMsTUFBTStSLEVBQVFuSCxHQUFZNUssRUFBTXdDLE9BQVF3MUMsSUE1b0I1QyxTQUFpQ2g0QyxFQUFPenRCLEVBQU8vTixHQUMzQyxNQUNNd3hGLEVBRGtCcHFELEtBQ3FCcjVCLE1BQ3ZDczZFLEVBQWdCLEdBSXRCLEdBSEk5eEQsV0FDQTQrQixHQUFrQmt6QixFQUFlcUMsSUFFakNsdkQsRUFBTUYsaUJBQXlDLE9BQXRCRSxFQUFNcFAsS0FBS3JlLEdBQWlCLENBQ3JELElBQUssSUFBSTVWLEVBQUksRUFBR0EsRUFBSTZILEVBQU9ySixPQUFRd0IsR0FBSyxFQUFHLENBQ3ZDLE1BQU11MUMsRUFBVzF0QyxFQUFPN0gsR0FDbEIybEIsRUFBVTlkLEVBQU83SCxFQUFJLEdBQzNCLEdBQWdCLEtBQVoybEIsRUFBZ0IsQ0FNaEIsR0FBSWl1RSxHQUFXenpDLEtBQUt4NkIsR0FDaEIsTUFBTSxJQUFJMUksTUFBTSw4REFBOEQwSSxPQU1sRjh1RSxHQUE2QnZFLEVBQWV2cUUsRUFBUzB6RSxFQUFzQjlqRCxFQUFVMi9DLEdBQWNoRixHQUFnQixPQUczSDdzRCxFQUFNcFAsS0FBS3JlLEdBQVNzNkUsR0FrbkJ4Qm9KLENBQXdCajJELEVBQU96dEIsRUFBUWt6QixHQUFlc00sR0FZMUQsU0FBUyxHQUFVMzhDLEdBR2YsT0FEVysvRSxHQURHM3BDLEtBQ21Cb0IsS0FBb0J4M0MsS0EvOUNqRHkyRixJQUEyQixHQUFLMXZGLEtBQUtzYyxJQUFJcXpFLEdBQW1CLEtBRWhFQSxLQTg5Q08sR0FVWCxTQUFTLEdBQVl2NUUsSUF0K0NyQixTQUFtQnl0QixFQUFPa0csRUFBTzN6QixHQUM3QixHQUFJdTVFLEdBQW9CLEVBQUcsQ0FDdkIvd0QsV0FBYXlCLEVBQWN3RCxFQUFPLDJCQUNsQyxNQUFNODFELEVBQVE5MUQsRUFBTXBQLEtBQUtyZSxHQUl6QnE2RSxHQUFtQjVzRCxFQUFPa0csRUFGSnp4QyxNQUFNZ04sUUFBUXEwRixHQUFTQSxFQUFRQSxFQUFNbGlFLE9BQ2hDNlksS0FBb0JxL0MsR0FBb0IsRUFDQ0QsSUFHeEVBLEdBQWEsRUFDYkMsR0FBb0IsRUE0OUNwQm9LLENBQVV6cUQsS0FBWUQsS0FBWWo1QixFQUFRa3pCLElBc0I5QyxTQUFTLEdBQWtCbmpCLEVBQVM2ekUsRUFBZSxJQUMvQyxPQTlPSixTQUF5Qjd6RSxFQUFTNnpFLEVBQWUsSUFXN0MsSUFBSWgrRixFQUFTbXFCLEVBQ2IsR0FBSW95RSxHQUFtQzUzQyxLQUFLeDZCLEdBQVUsQ0FDbEQsTUFBTThrRCxFQUFVLEdBQ1ZndkIsRUFBbUIsQ0ExQ1IsR0EyQ2pCaitGLEVBQVNBLEVBQU9zeEQsUUFBUWtyQyxJQUF3QixDQUFDajNGLEVBQUcyNEYsRUFBS0MsS0FDckQsTUFBTWxzQyxFQUFVaXNDLEdBQU9DLEVBQ2pCQyxFQUFlbnZCLEVBQVFoZCxJQUFZLEdBVXpDLEdBVEttc0MsRUFBYXA3RixTQUNkaXZELEVBQVFyOUIsTUFBTSxLQUFLcnlCLFNBQVM4N0YsSUFDeEIsTUFBTTF2QyxFQUFRMHZDLEVBQVkxdkMsTUFBTWt1QyxJQUMxQnlCLEVBQWEzdkMsRUFBUTE0QixTQUFTMDRCLEVBQU0sR0FBSSxJQWpEekMsRUFrREM0dkMsRUFBcUIzQixHQUF5Qmo0QyxLQUFLMDVDLEdBQ3pERCxFQUFhbDZGLEtBQUssQ0FBQ282RixFQUFZQyxFQUFvQkYsT0FFdkRwdkIsRUFBUWhkLEdBQVdtc0MsSUFFbEJBLEVBQWFwN0YsT0FDZCxNQUFNLElBQUl5ZSxNQUFNLDZDQUE2Q3d3QyxLQUVqRSxNQUFNdXNDLEVBQW9CUCxFQUFpQkEsRUFBaUJqN0YsT0FBUyxHQUNyRSxJQUFJK2pFLEVBQU0sRUFFVixJQUFLLElBQUl2aUUsRUFBSSxFQUFHQSxFQUFJNDVGLEVBQWFwN0YsT0FBUXdCLElBQ3JDLEdBQUk0NUYsRUFBYTU1RixHQUFHLEtBQU9nNkYsRUFBbUIsQ0FDMUN6M0IsRUFBTXZpRSxFQUNOLE1BSVIsTUFBTzg1RixFQUFZQyxFQUFvQkYsR0FBZUQsRUFBYXIzQixHQVNuRSxPQVJJdzNCLEVBQ0FOLEVBQWlCNXVGLE1BRVptdkYsSUFBc0JGLEdBQzNCTCxFQUFpQi81RixLQUFLbzZGLEdBRzFCRixFQUFhMTVGLE9BQU9xaUUsRUFBSyxHQUNsQnMzQixLQUlmLE9BQUtsaUcsT0FBTzhRLEtBQUsrd0YsR0FBY2g3RixRQU0vQmhELEVBQVNBLEVBQU9zeEQsUUFBUW1yQyxJQUFvQixDQUFDOXRDLEVBQU9qTCxFQUFPN29DLEVBQUs0akYsRUFBT0MsRUFBTXhuRCxJQUNsRThtRCxFQUFhdmhHLGVBQWVvZSxHQUFPLEdBQUc2b0MsSUFBUXM2QyxFQUFhbmpGLEtBQU9xOEIsSUFBUXlYLElBS3JGM3VELEVBQVNBLEVBQU9zeEQsUUFBUW9yQyxJQUE0QixDQUFDL3RDLEVBQU85ekMsSUFDakRtakYsRUFBYXZoRyxlQUFlb2UsR0FBT21qRixFQUFhbmpGLEdBQU84ekMsSUFNbEUzdUQsRUFBU0EsRUFBT3N4RCxRQUFRcXJDLElBQWdCLENBQUNodUMsRUFBTzl6QyxLQUM1QyxHQUFJbWpGLEVBQWF2aEcsZUFBZW9lLEdBQU0sQ0FDbEMsTUFBTXNiLEVBQU82bkUsRUFBYW5qRixHQUMxQixJQUFLc2IsRUFBS256QixPQUNOLE1BQU0sSUFBSXllLE1BQU0scUNBQXFDa3RDLGVBQW1COXpDLEtBRTVFLE9BQU9zYixFQUFLOXZCLFFBRWhCLE9BQU9zb0QsS0FFSjN1RCxHQTVCSUEsRUF3TEoyK0YsQ0FBZ0J4MEUsRUFBUzZ6RSxHQWlEcEMsU0FBU1ksR0FBZ0J2ckUsRUFBVStxQixFQUFjeWdELEVBQXVCam5DLEVBQWE1ZSxHQUVqRixHQURBM2xCLEVBQVdnUCxFQUFrQmhQLEdBQ3pCLzJCLE1BQU1nTixRQUFRK3BCLEdBSWQsSUFBSyxJQUFJN3VCLEVBQUksRUFBR0EsRUFBSTZ1QixFQUFTcndCLE9BQVF3QixJQUNqQ282RixHQUFnQnZyRSxFQUFTN3VCLEdBQUk0NUMsRUFBY3lnRCxFQUF1QmpuQyxFQUFhNWUsT0FHbEYsQ0FDRCxNQUFNblIsRUFBUXlMLEtBQ1J2RixFQUFRc0YsS0FDZCxJQUFJelcsRUFBUW81QyxHQUFlM2lELEdBQVlBLEVBQVdnUCxFQUFrQmhQLEVBQVM4ekIsU0FDekUyM0MsRUFBa0I1b0IsR0FBa0I3aUQsR0FDeEMsTUFBTXVVLEVBQVE2TCxLQUNSc3JELEVBQXFDLFFBQXhCbjNELEVBQU11VyxnQkFDbkJLLEVBQVc1VyxFQUFNcVAsZUFDakJzSCxFQUF3QjNXLEVBQU11VyxpQkFBbUIsR0FDdkQsR0FBSTYzQixHQUFlM2lELEtBQWNBLEVBQVMraUQsTUFBTyxDQUU3QyxNQUFNNTZFLEVBQVUsSUFBSXU5QyxHQUFvQitsRCxFQUFpQjlsRCxFQUFnQixJQUNuRWdtRCxFQUF1Qmx1RSxHQUFROEwsRUFBT3doQixFQUFjcEYsRUFBaUIrbEQsRUFBYUEsRUFBYXhnRCxFQUF1QkMsSUFDOUYsSUFBMUJ3Z0QsR0FDQTFpRCxHQUFtQmIsR0FBK0I3VCxFQUFPbUcsR0FBUWxHLEVBQU9qTCxHQUN4RXFpRSxHQUFnQ3AzRCxFQUFPeFUsRUFBVStxQixFQUFhcDdDLFFBQzlEbzdDLEVBQWFsNkMsS0FBSzA0QixHQUNsQmdMLEVBQU1xUCxpQkFDTnJQLEVBQU11UCxlQUNGNkIsSUFDQXBSLEVBQU11VyxpQkFBbUIsU0FFN0IwZ0QsRUFBc0IzNkYsS0FBSzFJLEdBQzNCdXlDLEVBQU03cEMsS0FBSzFJLEtBR1hxakcsRUFBc0JHLEdBQXdCeGpHLEVBQzlDdXlDLEVBQU1peEQsR0FBd0J4akcsT0FHakMsQ0FxQkQsTUFBTTBqRyxFQUFnQ3B1RSxHQUFROEwsRUFBT3doQixFQUFjMmdELEVBQWF4Z0QsRUFBdUJDLEdBQ2pHMmdELEVBQW9DcnVFLEdBQVE4TCxFQUFPd2hCLEVBQWMyZ0QsRUFBWUEsRUFBYXhnRCxHQUMxRjZnRCxFQUE0QkYsR0FBaUMsR0FDL0RMLEVBQXNCSyxHQUNwQkcsRUFBZ0NGLEdBQXFDLEdBQ3ZFTixFQUFzQk0sR0FDMUIsR0FBSW5tRCxJQUFtQnFtRCxJQUNsQnJtRCxJQUFtQm9tRCxFQUEyQixDQUUvQzlpRCxHQUFtQmIsR0FBK0I3VCxFQUFPbUcsR0FBUWxHLEVBQU9qTCxHQUN4RSxNQUFNcGhDLEVBZ0l0QixTQUFzQjJuRixFQUFXL29FLEVBQU80K0IsRUFBZ0I0ZSxFQUFhbnBELEdBQ2pFLE1BQU1qVCxFQUFVLElBQUl1OUMsR0FBb0JvcUMsRUFBV25xQyxFQUFnQixJQUtuRSxPQUpBeDlDLEVBQVE0NkUsTUFBUSxHQUNoQjU2RSxFQUFRNGUsTUFBUUEsRUFDaEI1ZSxFQUFROGpHLG1CQUFxQixFQUM3QkMsR0FBZ0IvakcsRUFBU2lULEVBQUdtcEQsSUFBZ0I1ZSxHQUNyQ3g5QyxFQXRJcUJna0csQ0FBYXhtRCxFQUFpQnltRCxHQUFvQ0MsR0FBK0JiLEVBQXNCNzdGLE9BQVFnMkMsRUFBZ0I0ZSxFQUFha25DLElBQ3ZLOWxELEdBQWtCcW1ELElBQ25CUixFQUFzQk0sR0FBbUNMLGdCQUFrQnRqRyxHQUUvRXlqRyxHQUFnQ3AzRCxFQUFPeFUsRUFBVStxQixFQUFhcDdDLE9BQVEsR0FDdEVvN0MsRUFBYWw2QyxLQUFLMDRCLEdBQ2xCZ0wsRUFBTXFQLGlCQUNOclAsRUFBTXVQLGVBQ0Y2QixJQUNBcFIsRUFBTXVXLGlCQUFtQixTQUU3QjBnRCxFQUFzQjM2RixLQUFLMUksR0FDM0J1eUMsRUFBTTdwQyxLQUFLMUksUUFNWHlqRyxHQUFnQ3AzRCxFQUFPeFUsRUFBVTZyRSxHQUFpQyxFQUFJQSxFQUNsRkMsRUFIbUJJLEdBQWdCVixFQUFzQjdsRCxFQUFpQm1tRCxFQUMxRUQsR0FBZ0NKLEdBQWtCOWxELEdBQWtCNGUsS0FJdkU1ZSxHQUFrQjRlLEdBQWV5bkMsR0FDbENSLEVBQXNCTSxHQUFtQ0csdUJBYXpFLFNBQVNMLEdBQWdDcDNELEVBQU94VSxFQUFVc3NFLEVBQWNDLEdBQ3BFLE1BQU1DLEVBQXlCN3BCLEdBQWUzaUQsR0FDeEN5c0UsSUFBMEN6c0UsRUFwNlJqQzRqRCxTQXE2UmYsR0FBSTRvQixHQUEwQkMsRUFBeUIsQ0FFbkQsTUFFTTN5RCxHQUZhMnlELEVBQTBCejlELEVBQWtCaFAsRUFBUzRqRCxVQUFZNWpELEdBQ3ZENzJCLFVBQ0Myd0MsWUFDOUIsR0FBSUEsRUFBYSxDQUNiLE1BQU02SyxFQUFRblEsRUFBTWlRLGVBQWlCalEsRUFBTWlRLGFBQWUsSUFDMUQsSUFBSytuRCxHQUEwQnhzRSxFQUFTK2lELE1BQU8sQ0FDM0N4ekMsV0FDSXlCLEVBQWN1N0QsRUFBZ0IsOERBQ2xDLE1BQU1HLEVBQXlCL25ELEVBQU1sbkIsUUFBUTZ1RSxJQUNiLElBQTVCSSxFQUNBL25ELEVBQU05ekMsS0FBS3k3RixFQUFjLENBQUNDLEVBQWdCenlELElBRzFDNkssRUFBTStuRCxFQUF5QixHQUFHNzdGLEtBQUswN0YsRUFBZ0J6eUQsUUFJM0Q2SyxFQUFNOXpDLEtBQUt5N0YsRUFBY3h5RCxLQVN6QyxTQUFTb3lELEdBQWdCQyxFQUFjaGtHLEVBQVN3a0csR0FJNUMsT0FISUEsR0FDQVIsRUFBYUYscUJBRVZFLEVBQWFwcEIsTUFBTWx5RSxLQUFLMUksR0FBVyxFQUs5QyxTQUFTczFCLEdBQVFELEVBQU0zRixFQUFLZ2dELEVBQU9oMEIsR0FDL0IsSUFBSyxJQUFJMXlDLEVBQUkwbUUsRUFBTzFtRSxFQUFJMHlDLEVBQUsxeUMsSUFDekIsR0FBSTBtQixFQUFJMW1CLEtBQU9xc0IsRUFDWCxPQUFPcnNCLEVBRWYsT0FBUSxFQUtaLFNBQVNrN0YsR0FBOEI3d0YsRUFBR3FtQyxFQUFPK3FELEVBQU9yNEQsR0FDcEQsT0FBT3M0RCxHQUFhbGtHLEtBQUtvNkUsTUFBTyxJQU9wQyxTQUFTcXBCLEdBQWtDNXdGLEVBQUdxbUMsRUFBT25ILEVBQU9uRyxHQUN4RCxNQUFNcytCLEVBQVlscUUsS0FBS282RSxNQUN2QixJQUFJcDJFLEVBQ0osR0FBSWhFLEtBQUs4aUcsZ0JBQWlCLENBQ3RCLE1BQU1xQixFQUFpQm5rRyxLQUFLOGlHLGdCQUFnQlEsbUJBQ3RDYyxFQUFpQnJpRCxHQUFrQmhRLEVBQU9BLEVBdG5tQjFDLEdBc25tQndEL3hDLEtBQUs4aUcsZ0JBQWdCMWtGLE1BQU93dEIsR0FFMUY1bkMsRUFBU29nRyxFQUFlNzdGLE1BQU0sRUFBRzQ3RixHQUVqQ0QsR0FBYWg2QixFQUFXbG1FLEdBRXhCLElBQUssSUFBSXdFLEVBQUkyN0YsRUFBZ0IzN0YsRUFBSTQ3RixFQUFlcDlGLE9BQVF3QixJQUNwRHhFLEVBQU9rRSxLQUFLazhGLEVBQWU1N0YsU0FJL0J4RSxFQUFTLEdBRVRrZ0csR0FBYWg2QixFQUFXbG1FLEdBRTVCLE9BQU9BLEVBS1gsU0FBU2tnRyxHQUFhaDZCLEVBQVdsbUUsR0FDN0IsSUFBSyxJQUFJd0UsRUFBSSxFQUFHQSxFQUFJMGhFLEVBQVVsakUsT0FBUXdCLElBQUssQ0FDdkMsTUFBTWhKLEVBQVUwcUUsRUFBVTFoRSxHQUMxQnhFLEVBQU9rRSxLQUFLMUksS0FFaEIsT0FBT3dFLEVBOENYLFNBQVMsR0FBbUJ1NUIsRUFBV2d0QyxFQUFnQixJQUNuRCxPQUFReDJCLElBQ0pBLEVBQVc5RixrQkFDUCxDQUFDRCxFQUFLcTJELElBaFFsQixTQUEyQnIyRCxFQUFLelEsRUFBV2d0QyxHQUN2QyxNQUFNMStCLEVBQVF5TCxLQUNkLEdBQUl6TCxFQUFNRixnQkFBaUIsQ0FDdkIsTUFBTWl3QixFQUFjL3BCLEdBQWU3RCxHQUVuQzQwRCxHQUFnQnI0QixFQUFlMStCLEVBQU1wUCxLQUFNb1AsRUFBTWdVLFVBQVcrYixHQUFhLEdBRXpFZ25DLEdBQWdCcmxFLEVBQVdzTyxFQUFNcFAsS0FBTW9QLEVBQU1nVSxVQUFXK2IsR0FBYSxJQTBQdEQzdEIsQ0FBa0JELEVBQ3pCcTJELEVBQXFCQSxFQUFtQjltRSxHQUFhQSxFQUNyRGd0QyxJQW1CaEIsTUFBTSs1QixJQWNOLE1BQU1DLElBbUJOLE1BQU1DLEdBQ0ZDLHdCQUF3Qm4zQyxHQUNwQixNQVhSLFNBQWlDQSxHQUM3QixNQUFNdHJELEVBQVF5akIsTUFBTSxrQ0FBa0NxUixFQUFVdzJCLG9EQUVoRSxPQURBdHJELEVBQXFCLFlBQUlzckQsRUFDbEJ0ckQsRUFRRzBpRyxDQUF3QnAzQyxJQWtCdEMsTUFBTXEzQyxJQTBCTixTQUFTQyxHQUFpQmg1RCxFQUFPbUcsR0FDN0IsT0FBTyxJQUFJOHlELEdBQVcvdUQsR0FBaUJsSyxFQUFPbUcsSUF6QmxENHlELEdBQTJCNW9CLEtBQU8sSUFBcUJ5b0IsR0EwQ3ZELE1BQU1LLEdBQ0YvakcsWUFBWWdrRyxHQUNSOWtHLEtBQUs4a0csY0FBZ0JBLEdBYzdCLFNBQVNDLEdBQWlCOWpHLEdBQ3RCLE9BQU9BLGFBQWlCNGpHLEdBQWE1akcsRUFBTTZqRyxjQUFnQjdqRyxFQVIvRDRqRyxHQUFXajNELGtCQXJDWCxXQUNJLE9BQU9nM0QsR0FBaUJudEQsS0FBbUJKLE9Bc0RsQixJQUFJc08sR0FBZSx3QkFNaEQsTUFBTXEvQyxJQWlCTixNQUFNQyxJQU1OQSxHQUFVcjNELGtCQUFvQixJQVU5QixXQUdJLE1BQU1tRSxFQUFRc0YsS0FFUjZ0RCxFQUFjL3VELEdBRE5zQixLQUNxQ3I1QixNQUFPMnpCLEdBQzFELE9BZEosU0FBOEJBLEdBQzFCLE1BQU13RCxFQUFXeEQsRUFBTWdFLElBQ3ZCLEdBQUluUCxZQUFjME8sR0FBcUJDLEdBQ25DLE1BQU0sSUFBSTl2QixNQUFNLGdFQUVwQixPQUFPOHZCLEVBU0E0dkQsQ0FBcUIzekQsR0FBUTB6RCxHQUFlQSxFQUFjbnpELEdBaEJqQ3F6RCxHQStCcEMsTUFBTUMsSUFHTkEsR0FBVSxNQUFRLEVBQW1CLENBQ2pDemtFLE1BQU95a0UsR0FDUHQ4RCxXQUFZLE9BQ1p2cEMsUUFBUyxJQUFNLE9BZW5CLE1BQU04bEcsR0FDRnhrRyxZQUFZeWtHLEdBQ1J2bEcsS0FBS3VsRyxLQUFPQSxFQUNadmxHLEtBQUt3bEcsTUFBUUQsRUFBSzNzRSxNQUFNLEtBQUssR0FDN0I1NEIsS0FBS3lsRyxNQUFRRixFQUFLM3NFLE1BQU0sS0FBSyxHQUM3QjU0QixLQUFLMGxHLE1BQVFILEVBQUszc0UsTUFBTSxLQUFLcndCLE1BQU0sR0FBR2lzQixLQUFLLE1BTW5ELE1BQU1teEUsR0FBVSxJQUFJTCxHQUFRLFVBMEJ0Qk0sR0FBd0MsR0FTOUMsU0FBU0MsR0FBbUJoNkQsRUFBT2tHLEVBQU9uRyxFQUFPNW5DLEVBQVFxOUQsR0FBZSxHQUNwRSxLQUFpQixPQUFWejFCLEdBQWdCLENBQ25CaEYsV0FDSTRXLEdBQWdCNVIsRUFBTyxJQUMzQixNQUFNazZELEVBQVEvekQsRUFBTW5HLEVBQU14dEIsT0FPMUIsR0FOYyxPQUFWMG5GLEdBQ0E5aEcsRUFBT2tFLEtBQUswdEMsR0FBWWt3RCxJQUt4QnIwRCxHQUFhcTBELEdBQ2IsSUFBSyxJQUFJdDlGLEVBQUk2b0MsR0FBeUI3b0MsRUFBSXM5RixFQUFNOStGLE9BQVF3QixJQUFLLENBQ3pELE1BQU11OUYsRUFBb0JELEVBQU10OUYsR0FDMUJ3OUYsRUFBdUJELEVBLzltQi9CLEdBKzltQndEMXJELFdBQ3pCLE9BQXpCMnJELEdBQ0FILEdBQW1CRSxFQWorbUJ6QixHQWkrbUJtREEsRUFBbUJDLEVBQXNCaGlHLEdBSWxHLE1BQU1zNUMsRUFBWTFSLEVBQU0vUCxLQUN4QixHQUFnQixFQUFaeWhCLEVBQ0F1b0QsR0FBbUJoNkQsRUFBT2tHLEVBQU9uRyxFQUFNNE8sTUFBT3gyQyxRQUU3QyxHQUFnQixHQUFaczVDLEVBQTBCLENBQy9CLE1BQU1rakIsRUFBWTVGLEdBQW9CaHZCLEVBQU9tRyxHQUM3QyxJQUFJOHBCLEVBQ0osS0FBT0EsRUFBUTJFLEtBQ1h4OEQsRUFBT2tFLEtBQUsyekQsUUFHZixHQUFnQixHQUFadmUsRUFBaUMsQ0FDdEMsTUFBTTJvRCxFQUFjdmxDLEdBQW1CM3VCLEVBQU9uRyxHQUM5QyxHQUFJdHJDLE1BQU1nTixRQUFRMjRGLEdBQ2RqaUcsRUFBT2tFLFFBQVErOUYsT0FFZCxDQUNELE1BQU01bUQsRUFBYXliLEdBQWUvb0IsRUFBTXVQLEtBQ3hDMWEsV0FBYXdNLEdBQWlCaU0sR0FDOUJ3bUQsR0FBbUJ4bUQsRUF4L21CckIsR0F3L21Cd0NBLEVBQVk0bUQsRUFBYWppRyxHQUFRLElBRy9FNG5DLEVBQVF5MUIsRUFBZXoxQixFQUFNNDFCLGVBQWlCNTFCLEVBQU0zcEMsS0FFeEQsT0FBTytCLEVBVVgsTUFBTWtpRyxHQUNGcGxHLFlBWUF3aUQsRUFPQTZpRCxHQUNJbm1HLEtBQUtzakQsT0FBU0EsRUFDZHRqRCxLQUFLbW1HLG9CQUFzQkEsRUFDM0JubUcsS0FBS29tRyxRQUFVLEtBQ2ZwbUcsS0FBS3FtRywwQkFBMkIsRUFFaENDLGdCQUNBLE1BQU12MEQsRUFBUS94QyxLQUFLc2pELE9BQ2J6WCxFQUFRa0csRUFuaW5CUixHQW9pbkJOLE9BQU84ekQsR0FBbUJoNkQsRUFBT2tHLEVBQU9sRyxFQUFNd08sV0FBWSxJQUUxRGxsQixjQUNBLE9BQU9uMUIsS0FBS3NqRCxPQWhpbkJKLEdBa2luQlJudUIsWUFBUWwwQixHQUNSakIsS0FBS3NqRCxPQW5pbkJHLEdBbWluQmVyaUQsRUFFdkI0bkUsZ0JBQ0EsT0FBc0QsTUFBekIsSUFBckI3b0UsS0FBS3NqRCxPQTVpbkJQLElBOGluQlYyYixVQUNJLEdBQUlqL0QsS0FBS29tRyxRQUNMcG1HLEtBQUtvbUcsUUFBUTdvQyxXQUFXdjlELFdBRXZCLEdBQUlBLEtBQUtxbUcseUJBQTBCLENBQ3BDLE1BQU1sNEYsRUFBU25PLEtBQUtzakQsT0Fsam5CakIsR0Ftam5CSCxHQUFJN1IsR0FBYXRqQyxHQUFTLENBQ3RCLE1BQU1vNEYsRUFBV3A0RixFQTlrbkJmLEdBK2tuQklpUSxFQUFRbW9GLEVBQVdBLEVBQVN6eEUsUUFBUTkwQixPQUFTLEVBQy9Db2UsR0FBUyxJQUNUd29CLFdBQ0lrQixFQUFZMXBCLEVBQU9qUSxFQUFPMm1CLFFBQVE5MEIsS0FBS3NqRCxRQUFValMsR0FBeUIsK0dBQzlFa3NCLEdBQVdwdkQsRUFBUWlRLEdBQ25CNG9DLEdBQWdCdS9DLEVBQVVub0YsSUFHbENwZSxLQUFLcW1HLDBCQUEyQixFQUVwQ3RvQyxHQUFhLzlELEtBQUtzakQsT0Fqa25CWixHQWlrbkIyQnRqRCxLQUFLc2pELFFBRTFDcFMsVUFBVWp3QixHQUNObXdELEdBQXdCcHhFLEtBQUtzakQsT0Fwa25CdkIsR0Fva25Cc0N0akQsS0FBS3NqRCxPQUFRLEtBQU1yaUMsR0FpQ25FdWxGLGVBQ0k1d0IsR0FBYzUxRSxLQUFLbW1HLHFCQUF1Qm5tRyxLQUFLc2pELFFBdURuRG1qRCxTQUNJem1HLEtBQUtzakQsT0E3cG5CQyxLQTZwbkJnQixJQTBEMUJvakQsV0FDSTFtRyxLQUFLc2pELE9BeHRuQkMsSUF3dG5CZ0IsSUF1QjFCd3pCLGdCQUNJZCxHQUFzQmgyRSxLQUFLc2pELE9BanZuQnJCLEdBaXZuQm9DdGpELEtBQUtzakQsT0FBUXRqRCxLQUFLbTFCLFNBUWhFd3hFLGtCQTF6VUosU0FBZ0M5NkQsRUFBT3FLLEVBQU0vZ0IsR0FDekM4aUIsSUFBMEIsR0FDMUIsSUFDSSs5QixHQUFzQm5xQyxFQUFPcUssRUFBTS9nQixHQUV2QyxRQUNJOGlCLElBQTBCLElBcXpVMUIydUQsQ0FBdUI1bUcsS0FBS3NqRCxPQTF2bkJ0QixHQTB2bkJxQ3RqRCxLQUFLc2pELE9BQVF0akQsS0FBS20xQixTQUVqRTB4RSwyQkFDSSxHQUFJN21HLEtBQUtvbUcsUUFBUyxDQUNkLE1BQU16L0QsRUFBZUMsVUFBWSxnRUFBa0UsR0FDbkcsTUFBTSxJQUFJTCxFQUFhLElBQWlDSSxHQUU1RDNtQyxLQUFLcW1HLDBCQUEyQixFQUVwQ1MsbUJBdGljSixJQUFpQy8wRCxFQXVpY3pCL3hDLEtBQUtvbUcsUUFBVSxLQXRpY25CaHFDLEdBdWljcUJwOEQsS0FBS3NqRCxPQXJ3bkJoQixHQTZ0TG1CdlIsRUF3aWNZL3hDLEtBQUtzakQsT0F2aWN0QnZSLEVBQU1nRSxJQUFXLEVBQWdCLEtBQU0sTUF5aWMvRGd4RCxlQUFlQyxHQUNYLEdBQUlobkcsS0FBS3FtRyx5QkFBMEIsQ0FDL0IsTUFBTTEvRCxFQUFlQyxVQUFZLG9EQUFzRCxHQUN2RixNQUFNLElBQUlMLEVBQWEsSUFBaUNJLEdBRTVEM21DLEtBQUtvbUcsUUFBVVksR0FJdkIsTUFBTUMsV0FBb0JmLEdBQ3RCcGxHLFlBQVlvbUcsR0FDUjFnRSxNQUFNMGdFLEdBQ05sbkcsS0FBS2tuRyxNQUFRQSxFQUVqQnB3QixnQkFDSWIsR0FBd0JqMkUsS0FBS2tuRyxPQUVqQ1Asa0JBdjBVSixTQUFrQzUwRCxHQUM5QmtHLElBQTBCLEdBQzFCLElBQ0lnK0IsR0FBd0Jsa0MsR0FFNUIsUUFDSWtHLElBQTBCLElBazBVMUJrdkQsQ0FBeUJubkcsS0FBS2tuRyxPQUU5Qi94RSxjQUNBLE9BQU8sTUFXZixNQUFNaXlFLFdBQWlDekMsR0FJbkM3akcsWUFBWTI0RSxHQUNSanpDLFFBQ0F4bUMsS0FBS3k1RSxTQUFXQSxFQUVwQmdyQix3QkFBd0JuM0MsR0FDcEIxbUIsV0FBYTBMLEdBQW9CZ2IsR0FDakMsTUFBTTh1QixFQUFlbnNDLEdBQWdCcWQsR0FDckMsT0FBTyxJQUFJKzVDLEdBQWlCanJCLEVBQWNwOEUsS0FBS3k1RSxXQUd2RCxTQUFTNnRCLEdBQVdqd0YsR0FDaEIsTUFBTTdDLEVBQVEsR0FDZCxJQUFLLElBQUkreUYsS0FBZWx3RixFQUNwQixHQUFJQSxFQUFJNVcsZUFBZThtRyxHQUFjLENBQ2pDLE1BQU1DLEVBQVdud0YsRUFBSWt3RixHQUNyQi95RixFQUFNdE0sS0FBSyxDQUFFNDhDLFNBQVUwaUQsRUFBVUMsYUFBY0YsSUFHdkQsT0FBTy95RixFQVVYLE1BQU1rekYsR0FBWSxJQUFJL2hELEdBQWUsa0JBQW1CLENBQ3BENWMsV0FBWSxPQUNadnBDLFFBQVMsSUFBTW02RCxLQXNCbkIsTUFBTTB0QyxXQUF5QjlDLEdBSzNCempHLFlBQVlzN0UsRUFBYzNDLEdBQ3RCanpDLFFBQ0F4bUMsS0FBS284RSxhQUFlQSxFQUNwQnA4RSxLQUFLeTVFLFNBQVdBLEVBQ2hCejVFLEtBQUt3OUUsY0FBZ0JwQixFQUFhdmdELEtBQ2xDNzdCLEtBQUtxYixTQUFvQytnRSxFQUFhbnRDLFVBbDZadEM1M0IsSUFBSTZzRCxJQUFzQjF2QyxLQUFLLEtBbTZaL0N4MEIsS0FBS3N1QyxtQkFDRDh0QyxFQUFhOXRDLG1CQUFxQjh0QyxFQUFhOXRDLG1CQUFxQixHQUN4RXR1QyxLQUFLMm5HLGtCQUFvQmx1QixFQUV6QnpvRCxhQUNBLE9BQU9zMkUsR0FBV3RuRyxLQUFLbzhFLGFBQWFwckQsUUFFcEMwUSxjQUNBLE9BQU80bEUsR0FBV3RuRyxLQUFLbzhFLGFBQWExNkMsU0FFeEMzZ0MsT0FBT3dxRCxFQUFVcThDLEVBQWtCQyxFQUFvQnB1QixHQUVuRCxNQUFNcXVCLEdBRE5ydUIsRUFBV0EsR0FBWXo1RSxLQUFLeTVFLFVBMUNwQyxTQUErQnF1QixFQUFrQmhuRCxHQUM3QyxNQUFPLENBQ0h6K0MsSUFBSyxDQUFDdStCLEVBQU9zSixFQUFlQyxLQUN4QixNQUFNbHBDLEVBQVE2bUcsRUFBaUJ6bEcsSUFBSXUrQixFQUFPZ2xFLEdBQXVDejdELEdBQ2pGLE9BQUlscEMsSUFBVTJrRyxJQUNWMTdELElBQWtCMDdELEdBTVgza0csRUFFSjYvQyxFQUFleitDLElBQUl1K0IsRUFBT3NKLEVBQWVDLEtBOEJoQjQ5RCxDQUFzQng4QyxFQUFVa3VCLEVBQVNsdUIsVUFBWUEsRUFDbkY0ZCxFQUFrQjIrQixFQUFpQnpsRyxJQUFJMmlHLEdBQWtCeHZELElBQ3pEcWdCLEVBQVlpeUMsRUFBaUJ6bEcsSUFBSWdqRyxHQUFXLE1BQzVDcG5CLEVBQWU5VSxFQUFnQjF6QixlQUFlLEtBQU16MUMsS0FBS284RSxjQUd6RDRyQixFQUFjaG9HLEtBQUtvOEUsYUFBYW50QyxVQUFVLEdBQUcsSUFBTSxNQUNuRHl1QyxFQUFZbXFCLEVBQ2RoM0IsR0FBa0JvTixFQUFjNHBCLEVBQW9CN25HLEtBQUtvOEUsYUFBYWh0QyxlQUN0RXl0QixHQUFrQnNNLEVBQWdCMXpCLGVBQWUsS0FBTXoxQyxLQUFLbzhFLGNBQWU0ckIsRUFoRXZGLFNBQXNCQSxHQUNsQixNQUFNNTVFLEVBQU80NUUsRUFBWXBzRSxjQUN6QixNQUFnQixRQUFUeE4sRUFBaUIybUIsR0FBMEIsU0FBVDNtQixFQUFrQjRtQixHQUFvQixLQThEaUJpekQsQ0FBYUQsSUFDbkdycUIsRUFBWTM5RSxLQUFLbzhFLGFBQWF4dEMsT0FBUyxJQUN6QyxJQUNFa25DLEVBQWM4SCxLQUVkQyxFQUFZek4sR0FBWSxFQUFjLEtBQU0sS0FBTSxFQUFHLEVBQUcsS0FBTSxLQUFNLEtBQU0sS0FBTSxNQUNoRitOLEVBQVkzUyxHQUFZLEtBQU1xUyxFQUFXL0gsRUFBYTZILEVBQVcsS0FBTSxLQUFNeFUsRUFBaUI4VSxFQUFjcG9CLEVBQVdpeUMsR0FPN0gsSUFBSXg2QyxFQUNBNDZDLEVBRkpudUQsR0FBVW9rQyxHQUdWLElBQ0ksTUFBTXZKLEVBQWdCbUosR0FBd0JMLEVBQVcxOUUsS0FBS284RSxhQUFjK0IsRUFBV2hWLEVBQWlCOFUsR0FDeEcsR0FBSVAsRUFDQSxHQUFJbXFCLEVBQ0FucUQsR0FBZ0J1Z0MsRUFBY1AsRUFBVyxDQUFDLGFBQWNpb0IsR0FBUUosV0FFL0QsQ0FJRCxNQUFNLE1BQUUzbkQsRUFBSyxRQUFFZ0csR0FyOFpuQyxTQUE0Q3ZvQyxHQUN4QyxNQUFNdWlDLEVBQVEsR0FDUmdHLEVBQVUsR0FDaEIsSUFBSXA3QyxFQUFJLEVBQ0owdkMsRUFBTyxFQUNYLEtBQU8xdkMsRUFBSTZTLEVBQVNyVSxRQUFRLENBQ3hCLElBQUlvOUQsRUFBZ0Ivb0QsRUFBUzdTLEdBQzdCLEdBQTZCLGlCQUFsQjQ3RCxFQUNNLElBQVRsc0IsRUFDc0IsS0FBbEJrc0IsR0FDQXhtQixFQUFNMTFDLEtBQUtrOEQsRUFBZS9vRCxJQUFXN1MsSUFHM0IsSUFBVDB2QyxHQUNMMEwsRUFBUTE3QyxLQUFLazhELE9BR2hCLENBSUQsSUFBS25CLEdBQVcvcUIsR0FDWixNQUNKQSxFQUFPa3NCLEVBRVg1N0QsSUFFSixNQUFPLENBQUVvMUMsTUFBQUEsRUFBT2dHLFFBQUFBLEdBMDZaMkJ1a0QsQ0FBbUNub0csS0FBS284RSxhQUFhbnRDLFVBQVUsSUFDdEYyTyxHQUNBRixHQUFnQnVnQyxFQUFjUCxFQUFXOS9CLEdBRXpDZ0csR0FBV0EsRUFBUTU4QyxPQUFTLEdBQzVCKzZELEdBQWlCa2MsRUFBY1AsRUFBVzk1QixFQUFRcHZCLEtBQUssTUFLbkUsR0FEQTB6RSxFQUFlbHlELEdBQVM2bkMsRUFBV3ZzQyxTQUNWL3NDLElBQXJCcWpHLEVBQWdDLENBQ2hDLE1BQU1obkMsRUFBYXNuQyxFQUFhdG5DLFdBQWEsR0FDN0MsSUFBSyxJQUFJcDRELEVBQUksRUFBR0EsRUFBSXhJLEtBQUtzdUMsbUJBQW1CdG5DLE9BQVF3QixJQUFLLENBQ3JELE1BQU00L0YsRUFBZVIsRUFBaUJwL0YsR0FNdENvNEQsRUFBVzE0RCxLQUFxQixNQUFoQmtnRyxFQUF1QjluRyxNQUFNc00sS0FBS3c3RixHQUFnQixPQU0xRTk2QyxFQUFZd3dCLEdBQW9CbEosRUFBZTUwRSxLQUFLbzhFLGFBQWMrQixFQUFXckksRUFBYSxDQUFDd0ksS0FDM0ZqUixHQUFXd1EsRUFBV00sRUFBVyxNQUVyQyxRQUNJdmpDLEtBRUosT0FBTyxJQUFJeXRELEdBQWFyb0csS0FBS3c5RSxjQUFlbHdCLEVBQVdzM0MsR0FBaUJzRCxFQUFjL3BCLEdBQVlBLEVBQVcrcEIsSUFHcEYsSUFBSWQsR0FtQnJDLE1BQU1pQixXQUFxQi9ELEdBQ3ZCeGpHLFlBQVkwOEUsRUFBZXZvRCxFQUFVdVcsRUFBVTg4RCxFQUFZamxELEdBQ3ZEN2MsUUFDQXhtQyxLQUFLd3JDLFNBQVdBLEVBQ2hCeHJDLEtBQUtzb0csV0FBYUEsRUFDbEJ0b0csS0FBS3FqRCxPQUFTQSxFQUNkcmpELEtBQUtpMUIsU0FBV0EsRUFDaEJqMUIsS0FBS3EyQyxTQUFXcjJDLEtBQUt1b0csa0JBQW9CLElBQUl0QixHQUFZcUIsR0FDekR0b0csS0FBS3c5RSxjQUFnQkEsRUFFckJqeUIsZUFDQSxPQUFPLElBQUk1SixHQUFhM2hELEtBQUtxakQsT0FBUXJqRCxLQUFLc29HLFlBRTlDcnBDLFVBQ0lqL0QsS0FBS3EyQyxTQUFTNG9CLFVBRWxCL3RCLFVBQVVqd0IsR0FDTmpoQixLQUFLcTJDLFNBQVNuRixVQUFVandCLElBb0JoQyxTQUFTdW5GLEdBQWlCM3NFLEVBQU1tdEIsRUFBWUgsRUFBZ0JZLEdBQ3hELE9BQU9uZixHQUFjLEtBQ2pCLE1BQU1tK0QsRUFBUTVzRSxFQUNLLE9BQWZtdEIsSUFDSXkvQyxFQUFNaG9HLGVBQWUsb0JBQXNDOEQsSUFBckJra0csRUFBTXovQyxXQUM1Q3kvQyxFQUFNei9DLFdBQVc5Z0QsUUFBUThnRCxHQUd6QnkvQyxFQUFNei9DLFdBQWFBLEdBR0osT0FBbkJILElBSUE0L0MsRUFBTTUvQyxlQUFpQkEsR0FFSixPQUFuQlksSUFLSWcvQyxFQUFNaG9HLGVBQWUsd0JBQThDOEQsSUFBekJra0csRUFBTWgvQyxlQUNoRGcvQyxFQUFNaC9DLGVBQWlCdHBELE9BQU82bEQsT0FBTzdsRCxPQUFPNmxELE9BQU8sR0FBSXlpRCxFQUFNaC9DLGdCQUFpQkEsR0FHOUVnL0MsRUFBTWgvQyxlQUFpQkEsTUFtQnZDLE1BQU1pL0MsSUFhTixNQUFNQyxJQWVOLE1BQU1DLEdBQVUsSUFBSS9tRixJQWVwQixTQUFTZ25GLEdBQXFCOXVCLEdBQzFCLE1BQU0rdUIsRUFBVSxJQUFJbHFGLEtBRXBCLFNBQVNtcUYsRUFBUWh2QixHQUdiLE1BQU0vckMsRUFBTTBDLEdBQWVxcEMsR0FBa0MsR0FDdkRubkQsRUFBS29iLEVBQUlwYixHQUNmLEdBQVcsT0FBUEEsRUFBYSxFQWJ6QixTQUFpQ0EsRUFBSWlKLEVBQU1tdEUsR0FDdkMsR0FBSW50RSxHQUFRQSxJQUFTbXRFLEVBQ2pCLE1BQU0sSUFBSXZqRixNQUFNLG1DQUFtQ21OLE9BQVFrRSxFQUFVK0UsU0FBWS9FLEVBQVUrRSxFQUFLek4sVUFhNUY2NkUsQ0FBd0JyMkUsRUFEUGcyRSxHQUFRdm1HLElBQUl1d0IsR0FDU21uRCxHQUN0QzZ1QixHQUFRcm1GLElBQUlxUSxFQUFJbW5ELEdBRXBCLE1BQU05d0MsRUFBVSt3QixHQUFjaHNCLEVBQUkvRSxTQUNsQyxJQUFLLE1BQU16Z0MsS0FBS3lnQyxFQUNQNi9ELEVBQVFocUYsSUFBSXRXLEtBQ2JzZ0csRUFBUTFpRyxJQUFJb0MsR0FDWnVnRyxFQUFRdmdHLElBZnBCdWdHLENBQVFodkIsR0F1QlosU0FBU212QixHQUEwQnQyRSxHQUMvQixPQUFRZzJFLEdBQVF2bUcsSUFBSXV3QixJQUFPd2QsR0FBdUJ4ZCxHQWlCdEQsU0FBU3UyRSxHQUFrQjF2QixFQUFVMnZCLEdBQ2pDLE9BQU8sSUFBSUMsR0FBWTV2QixFQUFVMnZCLE1BQUFBLEVBQXVEQSxFQUFpQixNQUU3RyxNQUFNQyxXQUFvQlgsR0FDdEI1bkcsWUFBWWk1RSxFQUFjME8sR0FDdEJqaUQsUUFDQXhtQyxLQUFLeW9GLFFBQVVBLEVBRWZ6b0YsS0FBS3NwRyxxQkFBdUIsR0FDNUJ0cEcsS0FBS3VyRCxTQUFXdnJELEtBQ2hCQSxLQUFLdXBHLFdBQWEsR0FPbEJ2cEcsS0FBS3dwRyx5QkFBMkIsSUFBSXBDLEdBQXlCcG5HLE1BQzdELE1BQU15d0MsRUFBY0MsR0FBZXFwQyxHQUNuQ256QyxXQUNJeUIsRUFBY29JLEVBQWEsYUFBYTNaLEVBQVVpakQsMkNBQ3RELzVFLEtBQUtzcEcscUJBQXVCdHZDLEdBQWN2cEIsRUFBWUosV0FDdERyd0MsS0FBS3lwRyxZQUFjM3hCLEdBQXVDaUMsRUFBYzBPLEVBQVMsQ0FDN0UsQ0FBRXQ5QixRQUFTdTlDLEdBQWV0OUMsU0FBVXByRCxNQUFRLENBQ3hDbXJELFFBQVN3NUMsR0FDVHY1QyxTQUFVcHJELEtBQUt3cEcsMkJBRXBCMXlFLEVBQVVpakQsSUFJYi81RSxLQUFLeXBHLFlBQVkxeEIsMkJBQ2pCLzNFLEtBQUtpMUIsU0FBV2oxQixLQUFLcUMsSUFBSTAzRSxHQUU3QjEzRSxJQUFJdStCLEVBQU9zSixFQUFnQm14QyxHQUFTdHdCLG1CQUFvQjIrQyxFQUFjOS9ELEVBQVlnQixTQUM5RSxPQUFJaEssSUFBVXk2QyxJQUFZejZDLElBQVU4bkUsSUFBaUI5bkUsSUFBVXcyQyxHQUNwRHAzRSxLQUVKQSxLQUFLeXBHLFlBQVlwbkcsSUFBSXUrQixFQUFPc0osRUFBZXcvRCxHQUV0RHpxQyxVQUNJcjRCLFdBQWF5QixFQUFjcm9DLEtBQUt1cEcsV0FBWSw4QkFDNUMsTUFBTWgrQyxFQUFXdnJELEtBQUt5cEcsYUFDckJsK0MsRUFBU3NkLFdBQWF0ZCxFQUFTMFQsVUFDaENqL0QsS0FBS3VwRyxXQUFXaGpHLFNBQVFnRixHQUFNQSxNQUM5QnZMLEtBQUt1cEcsV0FBYSxLQUV0QnI0RCxVQUFVandCLEdBQ04ybEIsV0FBYXlCLEVBQWNyb0MsS0FBS3VwRyxXQUFZLDhCQUM1Q3ZwRyxLQUFLdXBHLFdBQVdyaEcsS0FBSytZLElBRzdCLE1BQU0wb0YsV0FBd0JoQixHQUMxQjduRyxZQUFZOG9HLEdBQ1JwakUsUUFDQXhtQyxLQUFLNHBHLFdBQWFBLEVBRUUsT0FEQWw1RCxHQUFlazVELElBeUIvQmYsR0FBcUJlLEdBRzdCN29HLE9BQU9xb0csR0FDSCxPQUFPLElBQUlDLEdBQVlycEcsS0FBSzRwRyxXQUFZUixJQXVDaEQsU0FBUyxHQUFnQlMsRUFBWUMsRUFBUXQrRixHQUN6QyxNQUFNK3NDLEVBQWVKLEtBQW1CMHhELEVBQ2xDOTNELEVBQVFzRixLQUNkLE9BQU90RixFQUFNd0csS0FBa0IrckIsR0FDM0J3YyxHQUFjL3VDLEVBQU93RyxFQUFjL3NDLEVBQVVzK0YsRUFBT3BwRyxLQUFLOEssR0FBV3MrRixLQUNwRS9vQixHQUFXaHZDLEVBQU93RyxHQWMxQixTQUFTLEdBQWdCc3hELEVBQVlDLEVBQVFDLEVBQUt2K0YsR0FDOUMsT0FBT3crRixHQUFzQjN5RCxLQUFZYyxLQUFrQjB4RCxFQUFZQyxFQUFRQyxFQUFLditGLEdBZXhGLFNBQVMsR0FBZ0JxK0YsRUFBWUMsRUFBUXJvQixFQUFNQyxFQUFNbDJFLEdBQ3JELE9BQU95K0YsR0FBc0I1eUQsS0FBWWMsS0FBa0IweEQsRUFBWUMsRUFBUXJvQixFQUFNQyxFQUFNbDJFLEdBZ0IvRixTQUFTLEdBQWdCcStGLEVBQVlDLEVBQVFyb0IsRUFBTUMsRUFBTUcsRUFBTXIyRSxHQUMzRCxPQUFPMCtGLEdBQXNCN3lELEtBQVljLEtBQWtCMHhELEVBQVlDLEVBQVFyb0IsRUFBTUMsRUFBTUcsRUFBTXIyRSxHQWlCckcsU0FBUyxHQUFnQnErRixFQUFZQyxFQUFRcm9CLEVBQU1DLEVBQU1HLEVBQU1FLEVBQU12MkUsR0FDakUsT0FBTzIrRixHQUFzQjl5RCxLQUFZYyxLQUFrQjB4RCxFQUFZQyxFQUFRcm9CLEVBQU1DLEVBQU1HLEVBQU1FLEVBQU12MkUsR0FrQjNHLFNBQVMsR0FBZ0JxK0YsRUFBWUMsRUFBUXJvQixFQUFNQyxFQUFNRyxFQUFNRSxFQUFNcW9CLEVBQU01K0YsR0FDdkUsTUFBTStzQyxFQUFlSixLQUFtQjB4RCxFQUNsQzkzRCxFQUFRc0YsS0FDUnNxQyxFQUFZRyxHQUFnQi92QyxFQUFPd0csRUFBY2twQyxFQUFNQyxFQUFNRyxFQUFNRSxHQUN6RSxPQUFPZixHQUFlanZDLEVBQU93RyxFQUFlLEVBQUc2eEQsSUFBU3pvQixFQUNwRGIsR0FBYy91QyxFQUFPd0csRUFBZSxFQUFHL3NDLEVBQVVzK0YsRUFBT3BwRyxLQUFLOEssRUFBU2kyRSxFQUFNQyxFQUFNRyxFQUFNRSxFQUFNcW9CLEdBQzFGTixFQUFPcm9CLEVBQU1DLEVBQU1HLEVBQU1FLEVBQU1xb0IsSUFDbkNycEIsR0FBV2h2QyxFQUFPd0csRUFBZSxHQW1CekMsU0FBUyxHQUFnQnN4RCxFQUFZQyxFQUFRcm9CLEVBQU1DLEVBQU1HLEVBQU1FLEVBQU1xb0IsRUFBTUMsRUFBTTcrRixHQUM3RSxNQUFNK3NDLEVBQWVKLEtBQW1CMHhELEVBQ2xDOTNELEVBQVFzRixLQUNSc3FDLEVBQVlHLEdBQWdCL3ZDLEVBQU93RyxFQUFja3BDLEVBQU1DLEVBQU1HLEVBQU1FLEdBQ3pFLE9BQU9QLEdBQWdCenZDLEVBQU93RyxFQUFlLEVBQUc2eEQsRUFBTUMsSUFBUzFvQixFQUMzRGIsR0FBYy91QyxFQUFPd0csRUFBZSxFQUFHL3NDLEVBQVVzK0YsRUFBT3BwRyxLQUFLOEssRUFBU2kyRSxFQUFNQyxFQUFNRyxFQUFNRSxFQUFNcW9CLEVBQU1DLEdBQ2hHUCxFQUFPcm9CLEVBQU1DLEVBQU1HLEVBQU1FLEVBQU1xb0IsRUFBTUMsSUFDekN0cEIsR0FBV2h2QyxFQUFPd0csRUFBZSxHQW9CekMsU0FBUyxHQUFnQnN4RCxFQUFZQyxFQUFRcm9CLEVBQU1DLEVBQU1HLEVBQU1FLEVBQU1xb0IsRUFBTUMsRUFBTUMsRUFBTTkrRixHQUNuRixNQUFNK3NDLEVBQWVKLEtBQW1CMHhELEVBQ2xDOTNELEVBQVFzRixLQUNkLElBQUlzcUMsRUFBWUcsR0FBZ0IvdkMsRUFBT3dHLEVBQWNrcEMsRUFBTUMsRUFBTUcsRUFBTUUsR0FDdkUsT0FBT0gsR0FBZ0I3dkMsRUFBT3dHLEVBQWUsRUFBRzZ4RCxFQUFNQyxFQUFNQyxJQUFTM29CLEVBQ2pFYixHQUFjL3VDLEVBQU93RyxFQUFlLEVBQUcvc0MsRUFBVXMrRixFQUFPcHBHLEtBQUs4SyxFQUFTaTJFLEVBQU1DLEVBQU1HLEVBQU1FLEVBQU1xb0IsRUFBTUMsRUFBTUMsR0FDdEdSLEVBQU9yb0IsRUFBTUMsRUFBTUcsRUFBTUUsRUFBTXFvQixFQUFNQyxFQUFNQyxJQUMvQ3ZwQixHQUFXaHZDLEVBQU93RyxFQUFlLEdBcUJ6QyxTQUFTLEdBQWdCc3hELEVBQVlDLEVBQVFyb0IsRUFBTUMsRUFBTUcsRUFBTUUsRUFBTXFvQixFQUFNQyxFQUFNQyxFQUFNQyxFQUFNLytGLEdBQ3pGLE1BQU0rc0MsRUFBZUosS0FBbUIweEQsRUFDbEM5M0QsRUFBUXNGLEtBQ1JzcUMsRUFBWUcsR0FBZ0IvdkMsRUFBT3dHLEVBQWNrcEMsRUFBTUMsRUFBTUcsRUFBTUUsR0FDekUsT0FBT0QsR0FBZ0IvdkMsRUFBT3dHLEVBQWUsRUFBRzZ4RCxFQUFNQyxFQUFNQyxFQUFNQyxJQUFTNW9CLEVBQ3ZFYixHQUFjL3VDLEVBQU93RyxFQUFlLEVBQUcvc0MsRUFBVXMrRixFQUFPcHBHLEtBQUs4SyxFQUFTaTJFLEVBQU1DLEVBQU1HLEVBQU1FLEVBQU1xb0IsRUFBTUMsRUFBTUMsRUFBTUMsR0FDNUdULEVBQU9yb0IsRUFBTUMsRUFBTUcsRUFBTUUsRUFBTXFvQixFQUFNQyxFQUFNQyxFQUFNQyxJQUNyRHhwQixHQUFXaHZDLEVBQU93RyxFQUFlLEdBaUJ6QyxTQUFTLEdBQWdCc3hELEVBQVlDLEVBQVFVLEVBQU1oL0YsR0FDL0MsT0FBT2kvRixHQUFzQnB6RCxLQUFZYyxLQUFrQjB4RCxFQUFZQyxFQUFRVSxFQUFNaC9GLEdBU3pGLFNBQVNrL0YsR0FBMkIzNEQsRUFBTzQ0RCxHQUN2Qy9qRSxXQUFhOEIsRUFBbUJxSixFQUFPNDRELEdBQ3ZDLE1BQU1DLEVBQWtCNzRELEVBQU00NEQsR0FDOUIsT0FBT0MsSUFBb0J0bUMsUUFBWS8vRCxFQUFZcW1HLEVBY3ZELFNBQVNaLEdBQXNCajRELEVBQU84NEQsRUFBYWhCLEVBQVlDLEVBQVFDLEVBQUt2K0YsR0FDeEUsTUFBTStzQyxFQUFlc3lELEVBQWNoQixFQUNuQyxPQUFPN29CLEdBQWVqdkMsRUFBT3dHLEVBQWN3eEQsR0FDdkNqcEIsR0FBYy91QyxFQUFPd0csRUFBZSxFQUFHL3NDLEVBQVVzK0YsRUFBT3BwRyxLQUFLOEssRUFBU3UrRixHQUFPRCxFQUFPQyxJQUNwRlcsR0FBMkIzNEQsRUFBT3dHLEVBQWUsR0FlekQsU0FBUzB4RCxHQUFzQmw0RCxFQUFPODRELEVBQWFoQixFQUFZQyxFQUFRcm9CLEVBQU1DLEVBQU1sMkUsR0FDL0UsTUFBTStzQyxFQUFlc3lELEVBQWNoQixFQUNuQyxPQUFPcm9CLEdBQWdCenZDLEVBQU93RyxFQUFja3BDLEVBQU1DLEdBQzlDWixHQUFjL3VDLEVBQU93RyxFQUFlLEVBQUcvc0MsRUFBVXMrRixFQUFPcHBHLEtBQUs4SyxFQUFTaTJFLEVBQU1DLEdBQVFvb0IsRUFBT3JvQixFQUFNQyxJQUNqR2dwQixHQUEyQjM0RCxFQUFPd0csRUFBZSxHQWdCekQsU0FBUzJ4RCxHQUFzQm40RCxFQUFPODRELEVBQWFoQixFQUFZQyxFQUFRcm9CLEVBQU1DLEVBQU1HLEVBQU1yMkUsR0FDckYsTUFBTStzQyxFQUFlc3lELEVBQWNoQixFQUNuQyxPQUFPam9CLEdBQWdCN3ZDLEVBQU93RyxFQUFja3BDLEVBQU1DLEVBQU1HLEdBQ3BEZixHQUFjL3VDLEVBQU93RyxFQUFlLEVBQUcvc0MsRUFBVXMrRixFQUFPcHBHLEtBQUs4SyxFQUFTaTJFLEVBQU1DLEVBQU1HLEdBQVFpb0IsRUFBT3JvQixFQUFNQyxFQUFNRyxJQUM3RzZvQixHQUEyQjM0RCxFQUFPd0csRUFBZSxHQWtCekQsU0FBUzR4RCxHQUFzQnA0RCxFQUFPODRELEVBQWFoQixFQUFZQyxFQUFRcm9CLEVBQU1DLEVBQU1HLEVBQU1FLEVBQU12MkUsR0FDM0YsTUFBTStzQyxFQUFlc3lELEVBQWNoQixFQUNuQyxPQUFPL25CLEdBQWdCL3ZDLEVBQU93RyxFQUFja3BDLEVBQU1DLEVBQU1HLEVBQU1FLEdBQzFEakIsR0FBYy91QyxFQUFPd0csRUFBZSxFQUFHL3NDLEVBQVVzK0YsRUFBT3BwRyxLQUFLOEssRUFBU2kyRSxFQUFNQyxFQUFNRyxFQUFNRSxHQUFRK25CLEVBQU9yb0IsRUFBTUMsRUFBTUcsRUFBTUUsSUFDekgyb0IsR0FBMkIzNEQsRUFBT3dHLEVBQWUsR0FpQnpELFNBQVNreUQsR0FBc0IxNEQsRUFBTzg0RCxFQUFhaEIsRUFBWUMsRUFBUVUsRUFBTWgvRixHQUN6RSxJQUFJK3NDLEVBQWVzeUQsRUFBY2hCLEVBQzdCbG9CLEdBQVksRUFDaEIsSUFBSyxJQUFJbjVFLEVBQUksRUFBR0EsRUFBSWdpRyxFQUFLeGpHLE9BQVF3QixJQUM3Qnc0RSxHQUFlanZDLEVBQU93RyxJQUFnQml5RCxFQUFLaGlHLE1BQVFtNUUsR0FBWSxHQUVuRSxPQUFPQSxFQUFZYixHQUFjL3VDLEVBQU93RyxFQUFjdXhELEVBQU96b0csTUFBTW1LLEVBQVNnL0YsSUFDeEVFLEdBQTJCMzRELEVBQU93RyxHQW1CMUMsU0FBUyxHQUFPbjZCLEVBQU8wc0YsR0FDbkIsTUFBTWovRCxFQUFReUwsS0FDZCxJQUFJdEcsRUFDSixNQUFNK3lDLEVBQWdCM2xFLEVBQVFrekIsR0FDMUJ6RixFQUFNRixpQkFHTnFGLEVBa0NSLFNBQW9CNWlCLEVBQU00a0QsR0FDdEIsR0FBSUEsRUFDQSxJQUFLLElBQUl4cUUsRUFBSXdxRSxFQUFTaHNFLE9BQVMsRUFBR3dCLEdBQUssRUFBR0EsSUFBSyxDQUMzQyxNQUFNd29DLEVBQVVnaUMsRUFBU3hxRSxHQUN6QixHQUFJNGxCLElBQVM0aUIsRUFBUTVpQixLQUNqQixPQUFPNGlCLEVBSW5CLEdBQUlwSyxVQUFXLENBQ1gsTUFFTXpSLEVBRlFraUIsS0FDaUJpSyxJQXZtcEJ2QixHQXltcEJGZ00sRUFBWW40QixFQUFVLFlBQVlBLEVBQVFyMEIsWUFBWXN0QixrQkFBb0IsR0FDaEYsTUFBTSxJQUFJbVksR0FBYyxJQUEwQixhQUFhblksd0JBQTJCay9CLE9BaERoRnk5QyxDQUFXRCxFQUFVai9ELEVBQU00a0MsY0FDckM1a0MsRUFBTXBQLEtBQUtzbkQsR0FBaUIveUMsRUFDeEJBLEVBQVFFLFlBQ1ByRixFQUFNaVEsZUFBaUJqUSxFQUFNaVEsYUFBZSxLQUFLNXpDLEtBQUs2N0UsRUFBZS95QyxFQUFRRSxZQUlsRkYsRUFBVW5GLEVBQU1wUCxLQUFLc25ELEdBRXpCLE1BQU1pbkIsRUFBY2g2RCxFQUFReHhDLFVBQVl3eEMsRUFBUXh4QyxRQUFVK3pDLEdBQWN2QyxFQUFRblYsTUFBTSxJQUNoRmtsQixFQUErQmpYLEVBQXdCLElBQzdELElBR0ksTUFBTTZZLEVBQStCcEQsSUFBd0IsR0FDdkQwckQsRUFBZUQsSUFHckIsT0FGQXpyRCxHQUF3Qm9ELEdBQ3hCcE8sR0FBTTFJLEVBQU93TCxLQUFZMHNDLEVBQWVrbkIsR0FDakNBLEVBRVgsUUFHSW5oRSxFQUF3QmlYLElBd0NoQyxTQUFTLEdBQVkzaUMsRUFBT3lyRixFQUFZdG5CLEdBQ3BDLE1BQU13QixFQUFnQjNsRSxFQUFRa3pCLEdBQ3hCUyxFQUFRc0YsS0FDUjR6RCxFQUFlaDFELEdBQUtsRSxFQUFPZ3lDLEdBQ2pDLE9BQU9tbkIsR0FBT241RCxFQUFPZ3lDLEdBQ2pCaW1CLEdBQXNCajRELEVBQU9vRyxLQUFrQjB4RCxFQUFZb0IsRUFBYUUsVUFBVzVvQixFQUFJMG9CLEdBQ3ZGQSxFQUFhRSxVQUFVNW9CLEdBZS9CLFNBQVMsR0FBWW5rRSxFQUFPeXJGLEVBQVl0bkIsRUFBSUcsR0FDeEMsTUFBTXFCLEVBQWdCM2xFLEVBQVFrekIsR0FDeEJTLEVBQVFzRixLQUNSNHpELEVBQWVoMUQsR0FBS2xFLEVBQU9neUMsR0FDakMsT0FBT21uQixHQUFPbjVELEVBQU9neUMsR0FDakJrbUIsR0FBc0JsNEQsRUFBT29HLEtBQWtCMHhELEVBQVlvQixFQUFhRSxVQUFXNW9CLEVBQUlHLEVBQUl1b0IsR0FDM0ZBLEVBQWFFLFVBQVU1b0IsRUFBSUcsR0FnQm5DLFNBQVMsR0FBWXRrRSxFQUFPeXJGLEVBQVl0bkIsRUFBSUcsRUFBSUcsR0FDNUMsTUFBTWtCLEVBQWdCM2xFLEVBQVFrekIsR0FDeEJTLEVBQVFzRixLQUNSNHpELEVBQWVoMUQsR0FBS2xFLEVBQU9neUMsR0FDakMsT0FBT21uQixHQUFPbjVELEVBQU9neUMsR0FDakJtbUIsR0FBc0JuNEQsRUFBT29HLEtBQWtCMHhELEVBQVlvQixFQUFhRSxVQUFXNW9CLEVBQUlHLEVBQUlHLEVBQUlvb0IsR0FDL0ZBLEVBQWFFLFVBQVU1b0IsRUFBSUcsRUFBSUcsR0FpQnZDLFNBQVMsR0FBWXprRSxFQUFPeXJGLEVBQVl0bkIsRUFBSUcsRUFBSUcsRUFBSUcsR0FDaEQsTUFBTWUsRUFBZ0IzbEUsRUFBUWt6QixHQUN4QlMsRUFBUXNGLEtBQ1I0ekQsRUFBZWgxRCxHQUFLbEUsRUFBT2d5QyxHQUNqQyxPQUFPbW5CLEdBQU9uNUQsRUFBT2d5QyxHQUFpQm9tQixHQUFzQnA0RCxFQUFPb0csS0FBa0IweEQsRUFBWW9CLEVBQWFFLFVBQVc1b0IsRUFBSUcsRUFBSUcsRUFBSUcsRUFBSWlvQixHQUNySUEsRUFBYUUsVUFBVTVvQixFQUFJRyxFQUFJRyxFQUFJRyxHQWMzQyxTQUFTLEdBQVk1a0UsRUFBT3lyRixFQUFZeDVGLEdBQ3BDLE1BQU0wekUsRUFBZ0IzbEUsRUFBUWt6QixHQUN4QlMsRUFBUXNGLEtBQ1I0ekQsRUFBZWgxRCxHQUFLbEUsRUFBT2d5QyxHQUNqQyxPQUFPbW5CLEdBQU9uNUQsRUFBT2d5QyxHQUNqQjBtQixHQUFzQjE0RCxFQUFPb0csS0FBa0IweEQsRUFBWW9CLEVBQWFFLFVBQVc5NkYsRUFBUTQ2RixHQUMzRkEsRUFBYUUsVUFBVTlwRyxNQUFNNHBHLEVBQWM1NkYsR0FFbkQsU0FBUzY2RixHQUFPbjVELEVBQU8zekIsR0FDbkIsT0FBTzJ6QixFQTl0cEJHLEdBOHRwQlV0VixLQUFLcmUsR0FBTzZ5QixLQVVwQyxNQUFNbTZELFdBQXNCLEVBQUFqcEcsUUFDeEJyQixZQUFZdXFHLEdBQVUsR0FDbEI3a0UsUUFDQXhtQyxLQUFLc3JHLFVBQVlELEVBRXJCbHhGLEtBQUtsWixHQUNEdWxDLE1BQU12a0MsS0FBS2hCLEdBRWZ3RSxVQUFVSyxFQUFnQjlELEVBQU9FLEdBQzdCLElBQUlOLEVBQUkrQyxFQUFJQyxFQUNaLElBQUkybUcsRUFBU3psRyxFQUNUMGxHLEVBQVV4cEcsR0FBUyxLQUFPLE1BQzFCeXBHLEVBQWF2cEcsRUFDakIsR0FBSTRELEdBQTRDLGlCQUFuQkEsRUFBNkIsQ0FDdEQsTUFBTXZDLEVBQVd1QyxFQUNqQnlsRyxFQUFrQyxRQUF4QjNwRyxFQUFLMkIsRUFBU3RCLFlBQXlCLElBQVBMLE9BQWdCLEVBQVNBLEVBQUcwSixLQUFLL0gsR0FDM0Vpb0csRUFBb0MsUUFBekI3bUcsRUFBS3BCLEVBQVN2QixhQUEwQixJQUFQMkMsT0FBZ0IsRUFBU0EsRUFBRzJHLEtBQUsvSCxHQUM3RWtvRyxFQUEwQyxRQUE1QjdtRyxFQUFLckIsRUFBU3JCLGdCQUE2QixJQUFQMEMsT0FBZ0IsRUFBU0EsRUFBRzBHLEtBQUsvSCxHQUVuRnZELEtBQUtzckcsWUFDTEUsRUFBVUUsR0FBZUYsR0FDckJELElBQ0FBLEVBQVNHLEdBQWVILElBRXhCRSxJQUNBQSxFQUFhQyxHQUFlRCxLQUdwQyxNQUFNbmxHLEVBQU9rZ0MsTUFBTS9nQyxVQUFVLENBQUV4RCxLQUFNc3BHLEVBQVF2cEcsTUFBT3dwRyxFQUFTdHBHLFNBQVV1cEcsSUFJdkUsT0FISTNsRyxhQUEwQixFQUFBeUUsY0FDMUJ6RSxFQUFlTSxJQUFJRSxHQUVoQkEsR0FHZixTQUFTb2xHLEdBQWVuZ0csR0FDcEIsT0FBUXRLLElBQ0prTCxXQUFXWixPQUFJaEgsRUFBV3RELElBTWxDLE1BQU0wcUcsR0FBZVAsR0FTckIsU0FBU1EsS0FDTCxPQUFPNXJHLEtBQUs2ckcsU0FBU3YzRSxRQTRCekIsTUFBTXczRSxHQU1GaHJHLFlBQVlpckcsR0FBMkIsR0FDbkMvckcsS0FBSytyRyx5QkFBMkJBLEVBQ2hDL3JHLEtBQUsyb0UsT0FBUSxFQUNiM29FLEtBQUs2ckcsU0FBVyxHQUNoQjdyRyxLQUFLZ3NHLGtCQUFtQixFQUN4QmhzRyxLQUFLaXNHLFNBQVcsS0FDaEJqc0csS0FBS2dILE9BQVMsRUFDZGhILEtBQUtxZixXQUFROWEsRUFDYnZFLEtBQUsySSxVQUFPcEUsRUFLWixNQUFNMm5HLEVBQVM1M0UsS0FDVHE0QixFQUFRbS9DLEdBQVV0ckcsVUFDbkJtc0QsRUFBTXUvQyxLQUNQdi9DLEVBQU11L0MsR0FBVU4sSUFLcEJPLGNBQ0EsT0FBT25zRyxLQUFLaXNHLFdBQWFqc0csS0FBS2lzRyxTQUFXLElBQUlOLElBS2pEdHBHLElBQUkrYixHQUNBLE9BQU9wZSxLQUFLNnJHLFNBQVN6dEYsR0FNekIvRyxJQUFJOUwsR0FDQSxPQUFPdkwsS0FBSzZyRyxTQUFTeDBGLElBQUk5TCxHQU03QjBVLE9BQU8xVSxHQUNILE9BQU92TCxLQUFLNnJHLFNBQVM1ckYsT0FBTzFVLEdBTWhDNFYsS0FBSzVWLEdBQ0QsT0FBT3ZMLEtBQUs2ckcsU0FBUzFxRixLQUFLNVYsR0FNOUIwUixPQUFPMVIsRUFBSWtMLEdBQ1AsT0FBT3pXLEtBQUs2ckcsU0FBUzV1RixPQUFPMVIsRUFBSWtMLEdBTXBDbFEsUUFBUWdGLEdBQ0p2TCxLQUFLNnJHLFNBQVN0bEcsUUFBUWdGLEdBTTFCbU0sS0FBS25NLEdBQ0QsT0FBT3ZMLEtBQUs2ckcsU0FBU24wRixLQUFLbk0sR0FLOUJ5WCxVQUNJLE9BQU9oakIsS0FBSzZyRyxTQUFTdGpHLFFBRXpCZ3NCLFdBQ0ksT0FBT3YwQixLQUFLNnJHLFNBQVN0M0UsV0FjekI5SyxNQUFNMmlGLEVBQWFDLEdBR2YsTUFBTW5oRSxFQUFPbHJDLEtBQ2JrckMsRUFBS3k5QixPQUFRLEVBQ2IsTUFBTTJqQyxFQUFnQnpsRCxHQUFRdWxELElBQzFCcHNHLEtBQUtnc0csa0JBamprQmpCLFNBQXFCOXNGLEVBQUdoZixFQUFHbXNHLEdBQ3ZCLEdBQUludEYsRUFBRWxZLFNBQVc5RyxFQUFFOEcsT0FDZixPQUFPLEVBQ1gsSUFBSyxJQUFJd0IsRUFBSSxFQUFHQSxFQUFJMFcsRUFBRWxZLE9BQVF3QixJQUFLLENBQy9CLElBQUkrakcsRUFBU3J0RixFQUFFMVcsR0FDWGdrRyxFQUFTdHNHLEVBQUVzSSxHQUtmLEdBSkk2akcsSUFDQUUsRUFBU0YsRUFBaUJFLEdBQzFCQyxFQUFTSCxFQUFpQkcsSUFFMUJBLElBQVdELEVBQ1gsT0FBTyxFQUdmLE9BQU8sRUFtaWtCMEJFLENBQVl2aEUsRUFBSzJnRSxTQUFVUyxFQUFlRCxNQUNuRW5oRSxFQUFLMmdFLFNBQVdTLEVBQ2hCcGhFLEVBQUtsa0MsT0FBU3NsRyxFQUFjdGxHLE9BQzVCa2tDLEVBQUt2aUMsS0FBTzJqRyxFQUFjdHNHLEtBQUtnSCxPQUFTLEdBQ3hDa2tDLEVBQUs3ckIsTUFBUWl0RixFQUFjLElBTW5DSSxtQkFDUTFzRyxLQUFLaXNHLFdBQWFqc0csS0FBS2dzRyxrQkFBcUJoc0csS0FBSytyRywwQkFDakQvckcsS0FBS2lzRyxTQUFTOXhGLEtBQUtuYSxNQUczQjJzRyxXQUNJM3NHLEtBQUsyb0UsT0FBUSxFQUdqQjFKLFVBQ0lqL0QsS0FBS21zRyxRQUFRanFHLFdBQ2JsQyxLQUFLbXNHLFFBQVF2bEcsZUFHckJ5QyxPQUFPQyxTQTJCUCxNQUFNc2pHLElBTU5BLEdBQVloL0Qsa0JBOEJaLFdBQ0ksT0FBT2kvRCxHQUFrQnAxRCxLQUFtQkosT0E5QmhELE1BQU15MUQsR0FBd0JGLEdBR3hCRyxHQUFnQixjQUEwQkQsR0FDNUNoc0csWUFBWWtzRyxFQUFtQkMsRUFBd0JDLEdBQ25EMW1FLFFBQ0F4bUMsS0FBS2d0RyxrQkFBb0JBLEVBQ3pCaHRHLEtBQUtpdEcsdUJBQXlCQSxFQUM5Qmp0RyxLQUFLa3RHLFdBQWFBLEVBRXRCQyxtQkFBbUJoNEUsR0FDZixNQUFNazVDLEVBQWdCcnVFLEtBQUtpdEcsdUJBQXVCeGdDLE9BQzVDMkIsRUFBZ0I1QyxHQUFZeHJFLEtBQUtndEcsa0JBQW1CMytCLEVBQWVsNUMsRUFBUyxHQUFzQixLQUFNazVDLEVBQWM5MEIsVUFBVyxLQUFNLEtBQU0sS0FBTSxNQUNuSm9rQixFQUF3QjM5RCxLQUFLZ3RHLGtCQUFrQmh0RyxLQUFLaXRHLHVCQUF1Qjd1RixPQUNqRndvQixXQUFhNEwsR0FBaUJtckIsR0FDOUJ5USxFQTE5cEJ1QixJQTA5cEJpQnpRLEVBQ3hDLE1BQU15dkMsRUFBMEJwdEcsS0FBS2d0RyxrQkFBa0JsdkMsSUFLdkQsT0FKZ0MsT0FBNUJzdkMsSUFDQWgvQixFQUFjdFEsSUFBV3N2QyxFQUF3QkQsbUJBQW1COStCLElBRXhFaEIsR0FBV2dCLEVBQWVELEVBQWVqNUMsR0FDbEMsSUFBSSt3RSxHQUFVOTNCLEtBa0I3QixTQUFTeStCLEdBQWtCcjRCLEVBQVc3RyxHQUNsQyxPQUFxQixFQUFqQjZHLEVBQVUzNEMsTUFDVitLLFdBQWF5QixFQUFjbXNDLEVBQVUvSCxPQUFRLDJCQUN0QyxJQUFJc2dDLEdBQWNwL0IsRUFBVzZHLEVBQVdvd0IsR0FBaUJwd0IsRUFBVzdHLEtBRXhFLEtBeUJYLE1BQU0wL0IsSUFNTkEsR0FBaUJ6L0Qsa0JBT2pCLFdBRUksT0FBTzAvRCxHQURlNzFELEtBQ21CSixPQUU3QyxNQUFNazJELEdBQXNCRixHQUd0QkcsR0FBcUIsY0FBK0JELEdBQ3REenNHLFlBQVkyc0csRUFBYUMsRUFBWUMsR0FDakNubkUsUUFDQXhtQyxLQUFLeXRHLFlBQWNBLEVBQ25CenRHLEtBQUswdEcsV0FBYUEsRUFDbEIxdEcsS0FBSzJ0RyxXQUFhQSxFQUVsQmhzRixjQUNBLE9BQU9pakYsR0FBaUI1a0csS0FBSzB0RyxXQUFZMXRHLEtBQUsydEcsWUFFOUNwaUQsZUFDQSxPQUFPLElBQUk1SixHQUFhM2hELEtBQUswdEcsV0FBWTF0RyxLQUFLMnRHLFlBRzlDdkUscUJBQ0EsTUFBTXBxRCxFQUFpQmUsR0FBMEIvL0MsS0FBSzB0RyxXQUFZMXRHLEtBQUsydEcsWUFDdkUsR0FBSTV1RCxHQUFrQkMsR0FBaUIsQ0FDbkMsTUFBTUssRUFBYUgsR0FBc0JGLEVBQWdCaC9DLEtBQUsydEcsWUFDeERyNkQsRUFBZ0IyTCxHQUF1QkQsR0FDN0NwWSxXQUFheU0sR0FBbUJnTSxFQUFZL0wsR0FDNUMsTUFBTW9HLEVBQWMyRixFQXprcUJsQixHQXlrcUJvQzVpQixLQUFLNlcsRUFBZ0IsR0FDM0QsT0FBTyxJQUFJcU8sR0FBYWpJLEVBQWEyRixHQUdyQyxPQUFPLElBQUlzQyxHQUFhLEtBQU0zaEQsS0FBSzJ0RyxZQUczQzV1RixRQUNJLEtBQU8vZSxLQUFLZ0gsT0FBUyxHQUNqQmhILEtBQUt5TixPQUFPek4sS0FBS2dILE9BQVMsR0FHbEMzRSxJQUFJK2IsR0FDQSxNQUFNbW9GLEVBQVdxSCxHQUFZNXRHLEtBQUt5dEcsYUFDbEMsT0FBb0IsT0FBYmxILEdBQXFCQSxFQUFTbm9GLElBQVUsS0FFL0NwWCxhQUNBLE9BQU9oSCxLQUFLeXRHLFlBQVl6bUcsT0FBU3FxQyxHQUVyQzg3RCxtQkFBbUJVLEVBQWExNEUsRUFBUy9XLEdBQ3JDLE1BQU0wdkYsRUFBVUQsRUFBWVYsbUJBQW1CaDRFLEdBQVcsSUFFMUQsT0FEQW4xQixLQUFLK3RHLE9BQU9ELEVBQVMxdkYsR0FDZDB2RixFQUVYRSxnQkFBZ0JDLEVBQXdCQyxFQUFnQjNpRCxFQUFVcThDLEVBQWtCdUcsR0FDaEYsTUFBTUMsRUFBcUJILElBQTJCcm5ELEdBQU9xbkQsR0FDN0QsSUFBSTd2RixFQU1KLEdBQUlnd0YsRUFDSXhuRSxXQUNBa0IsRUFBc0MsaUJBQW5Cb21FLEdBQTZCLEVBQU0sZ1hBTTFEOXZGLEVBQVE4dkYsTUFFUCxDQUNHdG5FLFlBQ0F5QixFQUFjNEgsR0FBZ0JnK0QsR0FBeUIsZ0lBRXZEbm1FLEVBQXNDLGlCQUFuQm9tRSxHQUE2QixFQUFNLHlTQUsxRCxNQUFNdmtGLEVBQVd1a0YsR0FBa0IsR0FDbkM5dkYsRUFBUXVMLEVBQVF2TCxNQUNoQm10QyxFQUFXNWhDLEVBQVE0aEMsU0FDbkJxOEMsRUFBbUJqK0UsRUFBUWkrRSxpQkFDM0J1RyxFQUFjeGtGLEVBQVF3a0YsWUFFMUIsTUFBTUUsRUFBbUJELEVBQ3JCSCxFQUNBLElBQUk1RyxHQUFpQnAzRCxHQUFnQmcrRCxJQUNuQ0ssRUFBa0IvaUQsR0FBWXZyRCxLQUFLb3BHLGVBQ3pDLElBQUsrRSxHQUE0QyxNQUE3QkUsRUFBaUI1MEIsVUFBb0I2MEIsRUFBaUIsQ0FJdEUsTUFBTXRxRyxFQUFTc3FHLEVBQWdCanNHLElBQUlxbUcsR0FBZSxNQUM5QzFrRyxJQUNBbXFHLEVBQWNucUcsR0FHdEIsTUFBTXVxRyxFQUFlRixFQUFpQnR0RyxPQUFPdXRHLEVBQWlCMUcsT0FBa0JyakcsRUFBVzRwRyxHQUUzRixPQURBbnVHLEtBQUsrdEcsT0FBT1EsRUFBYWw0RCxTQUFVajRCLEdBQzVCbXdGLEVBRVhSLE9BQU9ELEVBQVMxdkYsR0FDWixNQUFNMnpCLEVBQVErN0QsRUFBUXhxRCxPQUNoQnpYLEVBQVFrRyxFQXJwcUJSLEdBc3BxQk4sR0FBSW5MLFdBQWFrbkUsRUFBUWpsQyxVQUNyQixNQUFNLElBQUlwakQsTUFBTSxzREFFcEIsR0F6anBCR2dzQixHQXlqcEJ5Qk0sRUF2cHFCckIsSUF1cHFCNkIsQ0FFaEMsTUFBTXk4RCxFQUFVeHVHLEtBQUs4MEIsUUFBUWc1RSxHQUs3QixJQUFpQixJQUFiVSxFQUNBeHVHLEtBQUt5bUcsT0FBTytILE9BRVgsQ0FDRCxNQUFNQyxFQUFpQjE4RCxFQWxxcUJ4QixHQW1xcUJDbkwsV0FDSWtCLEVBQVkySixHQUFhZzlELElBQWlCLEVBQU0saUVBR3BELE1BQU1DLEVBQVksSUFBSWxCLEdBQW1CaUIsRUFBZ0JBLEVBcHFxQjFELEdBb3FxQmtGQSxFQXZxcUJsRixJQXdxcUJDQyxFQUFVakksT0FBT2lJLEVBQVU1NUUsUUFBUWc1RSxLQUkzQyxNQUFNYSxFQUFjM3VHLEtBQUs0dUcsYUFBYXh3RixHQUNoQ3k0QixFQUFhNzJDLEtBQUt5dEcsYUEvNGVoQyxTQUFvQjVoRSxFQUFPa0csRUFBTzhFLEVBQVl6NEIsR0FDMUN3b0IsV0FBYThMLEdBQVlYLEdBQ3pCbkwsV0FBYTRMLEdBQWlCcUUsR0FDOUIsTUFBTTRtQixFQUFtQnBzQixHQUEwQmp6QixFQUM3Q3l3RixFQUFrQmg0RCxFQUFXN3ZDLE9BQy9Cb1gsRUFBUSxJQUVSeTRCLEVBQVc0bUIsRUFBbUIsR0FweUx6QixHQW95TG9DMXJCLEdBRXpDM3pCLEVBQVF5d0YsRUFBa0J4OUQsSUFDMUJVLEVBdnlMSyxHQXV5TFM4RSxFQUFXNG1CLEdBQ3pCMVcsR0FBV2xRLEVBQVl4RixHQUEwQmp6QixFQUFPMnpCLEtBR3hEOEUsRUFBVzN1QyxLQUFLNnBDLEdBQ2hCQSxFQTV5TEssR0E0eUxTLE1BRWxCQSxFQS95TFcsR0EreUxLOEUsRUFFaEIsTUFBTThtQixFQUF3QjVyQixFQWx5TEgsSUFteUxHLE9BQTFCNHJCLEdBQWtDOW1CLElBQWU4bUIsR0FlekQsU0FBd0JSLEVBQXNCcHJCLEdBQzFDbkwsV0FBYXlCLEVBQWMwSixFQUFPLGtCQUNsQ25MLFdBQWE0TCxHQUFpQjJxQixHQUM5QixNQUFNQyxFQUFhRCxFQTcxTEgsR0E4MUxWMnhDLEVBQXFCLzhELEVBcjBMaEIsR0FzMExYbkwsV0FBYTRMLEdBQWlCczhELEdBQzlCLE1BQU1DLEVBQXlCRCxFQXYwTHBCLEdBdTBMK0N4dEQsSUFDMUQxYSxXQUFheUIsRUFBYzBtRSxFQUF3QixrQ0FDbkQsTUFBTUMsRUFBeUJqOUQsRUFBTXVQLElBQ3JDMWEsV0FBYXlCLEVBQWMybUUsRUFBd0Isa0NBQy9DQSxJQUEyQkQsSUFJM0I1eEMsRUEvMkx1QixJQSsyTHdCLEdBRWhDLE9BQWZDLEVBQ0FELEVBMzJMWSxHQTIyTHdCLENBQUNwckIsR0FHckNxckIsRUFBV2wxRCxLQUFLNnBDLEdBbENoQms5RCxDQUFldHhDLEVBQXVCNXJCLEdBRzFDLE1BQU04ckIsRUFBVzlyQixFQUFNK3JCLElBQ04sT0FBYkQsR0FDQUEsRUFBU3F4QyxXQUFXcmpFLEdBR3hCa0csRUE1ekxVLElBNHpMTSxJQW0zZVptOUQsQ0FBV3JqRSxFQUFPa0csRUFBTzhFLEVBQVk4M0QsR0FFckMsTUFBTWh6QyxFQUFhMEUsR0FBcUJzdUMsRUFBYTkzRCxHQUMvQ3RCLEVBQVd4RCxFQUFNZ0UsSUFDakJtcUIsRUFBY1YsR0FBaUJqcUIsRUFBVXNCLEVBN3NxQnhDLElBbXRxQlAsT0FMb0IsT0FBaEJxcEIsR0FuK2VaLFNBQTRCcjBCLEVBQU82TixFQUFhbkUsRUFBVXhELEVBQU9vOUQsRUFBa0J4ekMsR0FDL0U1cEIsRUFwdExTLEdBb3RMS285RCxFQUNkcDlELEVBL3NMVyxHQStzTEsySCxFQUNoQjBpQixHQUFVdndCLEVBQU9rRyxFQUFPd0QsRUFBVSxFQUFnQjQ1RCxFQUFrQnh6QyxHQWkrZTVEeXpDLENBQW1CdmpFLEVBQU9nTCxFQWpycUJ2QixHQWlycUIyQ3RCLEVBQVV4RCxFQUFPbXVCLEVBQWF2RSxHQUVoRm15QyxFQUFRakgsMkJBQ1I5L0MsR0FBV3NvRCxHQUFvQng0RCxHQUFhODNELEVBQWFiLEdBQ2xEQSxFQUVYd0IsS0FBS3hCLEVBQVM3YyxHQUNWLEdBQUlycUQsV0FBYWtuRSxFQUFRamxDLFVBQ3JCLE1BQU0sSUFBSXBqRCxNQUFNLG9EQUVwQixPQUFPemxCLEtBQUsrdEcsT0FBT0QsRUFBUzdjLEdBRWhDbjhELFFBQVFnNUUsR0FDSixNQUFNeUIsRUFBYzNCLEdBQVk1dEcsS0FBS3l0RyxhQUNyQyxPQUF1QixPQUFoQjhCLEVBQXVCQSxFQUFZejZFLFFBQVFnNUUsSUFBWSxFQUVsRXJnRyxPQUFPMlEsR0FDSCxNQUFNdXdGLEVBQWMzdUcsS0FBSzR1RyxhQUFheHdGLEdBQVEsR0FDeENveEYsRUFBZWp5QyxHQUFXdjlELEtBQUt5dEcsWUFBYWtCLEdBQzlDYSxJQU9BeG9ELEdBQWdCcW9ELEdBQW9CcnZHLEtBQUt5dEcsYUFBY2tCLEdBQ3ZENXdDLEdBQWF5eEMsRUFqdHFCWCxHQWl0cUJnQ0EsSUFHMUMvSSxPQUFPcm9GLEdBQ0gsTUFBTXV3RixFQUFjM3VHLEtBQUs0dUcsYUFBYXh3RixHQUFRLEdBQ3hDODNCLEVBQU9xbkIsR0FBV3Y5RCxLQUFLeXRHLFlBQWFrQixHQUUxQyxPQURvQno0RCxHQUErRSxNQUF2RThRLEdBQWdCcW9ELEdBQW9CcnZHLEtBQUt5dEcsYUFBY2tCLEdBQzlELElBQUl6SSxHQUFVaHdELEdBQVEsS0FFL0MwNEQsYUFBYXh3RixFQUFPL1QsRUFBUSxHQUN4QixPQUFhLE1BQVQrVCxFQUNPcGUsS0FBS2dILE9BQVNxRCxHQUVyQnU4QixZQUNBd0IsRUFBa0JocUIsR0FBUSxFQUFHLHVDQUF1Q0EsS0FFcEUrcEIsRUFBZS9wQixFQUFPcGUsS0FBS2dILE9BQVMsRUFBSXFELEVBQU8sVUFFNUMrVCxLQUdmLFNBQVN3dkYsR0FBWS8yRCxHQUNqQixPQUFPQSxFQS92cUJPLEdBaXdxQmxCLFNBQVN3NEQsR0FBb0J4NEQsR0FDekIsT0FBUUEsRUFsd3FCTSxLQWt3cUJvQkEsRUFsd3FCcEIsR0Frd3FCNEMsSUFXOUQsU0FBU3kyRCxHQUFtQjk0QixFQUFXN0csR0FFbkMsSUFBSTkyQixFQURKalEsV0FBYTRXLEdBQWdCZzNCLEVBQVcsSUFFeEMsTUFBTWwrQixFQUFZcTNCLEVBQVU2RyxFQUFVcDJELE9BQ3RDLEdBQUlxekIsR0FBYTZFLEdBRWJPLEVBQWFQLE1BRVosQ0FDRCxJQUFJbTVELEVBS0osR0FBcUIsRUFBakJqN0IsRUFBVTM0QyxLQUNWNHpFLEVBQWM3NUQsR0FBWVUsT0FFekIsQ0FJRCxNQUFNZixFQUFXbzRCLEVBQVU1M0IsSUFDM0JuUCxXQUFhQSxVQUFVb0csd0JBQ3ZCeWlFLEVBQWNsNkQsRUFBU3FuQixjQUFjaDJCLFVBQVksWUFBYyxJQUMvRCxNQUFNMHVDLEVBQWF4L0IsR0FBaUIwK0IsRUFBVzdHLEdBRS9DNVIsR0FBbUJ4bUIsRUFEUWlxQixHQUFpQmpxQixFQUFVKy9CLEdBQ0xtNkIsRUExbmU3RCxTQUEyQmw2RCxFQUFVL00sR0FDakMsT0FBTzhNLEdBQXFCQyxHQUFZQSxFQUFTZ2QsWUFBWS9wQixHQUFRQSxFQUFLK3BCLFlBeW5lSm05QyxDQUFrQm42RCxFQUFVKy9CLElBQWEsR0FFM0czSCxFQUFVNkcsRUFBVXAyRCxPQUFTeTRCLEVBQ3pCdytCLEdBQWlCLytCLEVBQVdxM0IsRUFBVzhoQyxFQUFhajdCLEdBQ3hESyxHQUFjbEgsRUFBVzkyQixHQUU3QixPQUFPLElBQUkyMkQsR0FBbUIzMkQsRUFBWTI5QixFQUFXN0csR0FpQ3pELE1BQU1naUMsR0FDRjd1RyxZQUFZOHVHLEdBQ1I1dkcsS0FBSzR2RyxVQUFZQSxFQUNqQjV2RyxLQUFLaXpFLFFBQVUsS0FFbkI0OEIsUUFDSSxPQUFPLElBQUlGLEdBQVEzdkcsS0FBSzR2RyxXQUU1QmpELFdBQ0kzc0csS0FBSzR2RyxVQUFVakQsWUFHdkIsTUFBTW1ELEdBQ0ZodkcsWUFBWTBvRSxFQUFVLElBQ2xCeHBFLEtBQUt3cEUsUUFBVUEsRUFFbkIyakMsbUJBQW1CdGhFLEdBQ2YsTUFBTWtrRSxFQUFXbGtFLEVBQU0yOUIsUUFDdkIsR0FBaUIsT0FBYnVtQyxFQUFtQixDQUNuQixNQUFNQyxFQUFnRCxPQUF6Qm5rRSxFQUFNNkMsZUFBMEI3QyxFQUFNNkMsZUFBZSxHQUFLcWhFLEVBQVMvb0csT0FDMUZpcEcsRUFBZSxHQUtyQixJQUFLLElBQUl6bkcsRUFBSSxFQUFHQSxFQUFJd25HLEVBQXNCeG5HLElBQUssQ0FDM0MsTUFBTTBuRyxFQUFTSCxFQUFTSSxXQUFXM25HLEdBQzdCNG5HLEVBQWVwd0csS0FBS3dwRSxRQUFRMG1DLEVBQU9HLHdCQUN6Q0osRUFBYS9uRyxLQUFLa29HLEVBQWFQLFNBRW5DLE9BQU8sSUFBSUMsR0FBVUcsR0FFekIsT0FBTyxLQUVYZixXQUFXcmpFLEdBQ1A3ckMsS0FBS3N3Ryx3QkFBd0J6a0UsR0FFakMweEIsV0FBVzF4QixHQUNQN3JDLEtBQUtzd0csd0JBQXdCemtFLEdBRWpDeWtFLHdCQUF3QnprRSxHQUNwQixJQUFLLElBQUlyakMsRUFBSSxFQUFHQSxFQUFJeEksS0FBS3dwRSxRQUFReGlFLE9BQVF3QixJQUNELE9BQWhDK25HLEdBQVUxa0UsRUFBT3JqQyxHQUFHeXFFLFNBQ3BCanpFLEtBQUt3cEUsUUFBUWhoRSxHQUFHbWtHLFlBS2hDLE1BQU02RCxHQUNGMXZHLFlBQVlrYyxFQUFXbXRCLEVBQU9uVSxFQUFPLE1BQ2pDaDJCLEtBQUtnZCxVQUFZQSxFQUNqQmhkLEtBQUttcUMsTUFBUUEsRUFDYm5xQyxLQUFLZzJCLEtBQU9BLEdBR3BCLE1BQU15NkUsR0FDRjN2RyxZQUFZMG9FLEVBQVUsSUFDbEJ4cEUsS0FBS3dwRSxRQUFVQSxFQUVuQmloQixhQUFhNStDLEVBQU9ELEdBQ2hCaEYsV0FDSStMLEdBQXNCOUcsRUFBTyxrRUFDakMsSUFBSyxJQUFJcmpDLEVBQUksRUFBR0EsRUFBSXhJLEtBQUt3cEUsUUFBUXhpRSxPQUFRd0IsSUFDckN4SSxLQUFLd3BFLFFBQVFoaEUsR0FBR2lpRixhQUFhNStDLEVBQU9ELEdBRzVDKytDLFdBQVcvK0MsR0FDUCxJQUFLLElBQUlwakMsRUFBSSxFQUFHQSxFQUFJeEksS0FBS3dwRSxRQUFReGlFLE9BQVF3QixJQUNyQ3hJLEtBQUt3cEUsUUFBUWhoRSxHQUFHbWlGLFdBQVcvK0MsR0FHbkN5aUMsY0FBY3ppQyxHQUNWLElBQUk4a0UsRUFBd0IsS0FDNUIsSUFBSyxJQUFJbG9HLEVBQUksRUFBR0EsRUFBSXhJLEtBQUtnSCxPQUFRd0IsSUFBSyxDQUNsQyxNQUFNbW9HLEVBQTRDLE9BQTFCRCxFQUFpQ0EsRUFBc0IxcEcsT0FBUyxFQUNsRjRwRyxFQUFjNXdHLEtBQUttd0csV0FBVzNuRyxHQUFHNmxFLGNBQWN6aUMsRUFBTytrRSxHQUN4REMsSUFDQUEsRUFBWVAsdUJBQXlCN25HLEVBQ1AsT0FBMUJrb0csRUFDQUEsRUFBc0J4b0csS0FBSzBvRyxHQUczQkYsRUFBd0IsQ0FBQ0UsSUFJckMsT0FBaUMsT0FBMUJGLEVBQWlDLElBQUlELEdBQVVDLEdBQXlCLEtBRW5GdGlFLFNBQVN2QyxFQUFPRCxHQUNaaEYsV0FDSStMLEdBQXNCOUcsRUFBTyxrRUFDakMsSUFBSyxJQUFJcmpDLEVBQUksRUFBR0EsRUFBSXhJLEtBQUt3cEUsUUFBUXhpRSxPQUFRd0IsSUFDckN4SSxLQUFLd3BFLFFBQVFoaEUsR0FBRzRsQyxTQUFTdkMsRUFBT0QsR0FHeEN1a0UsV0FBVy94RixHQUVQLE9BREF3b0IsV0FBYThCLEVBQW1CMW9DLEtBQUt3cEUsUUFBU3ByRCxHQUN2Q3BlLEtBQUt3cEUsUUFBUXByRCxHQUVwQnBYLGFBQ0EsT0FBT2hILEtBQUt3cEUsUUFBUXhpRSxPQUV4QjZwRyxNQUFNQyxHQUNGOXdHLEtBQUt3cEUsUUFBUXRoRSxLQUFLNG9HLElBRzFCLE1BQU1DLEdBQ0Zqd0csWUFBWXFnRixFQUFVL3FDLEdBQVksR0FDOUJwMkMsS0FBS21oRixTQUFXQSxFQUNoQm5oRixLQUFLaXpFLFFBQVUsS0FDZmp6RSxLQUFLcXdHLHdCQUEwQixFQUMvQnJ3RyxLQUFLZ3hHLG1CQUFvQixFQU16Qmh4RyxLQUFLaXhHLG9CQUFxQixFQUMxQmp4RyxLQUFLa3hHLHNCQUF3Qjk2RCxFQUVqQ3EwQyxhQUFhNStDLEVBQU9ELEdBQ1o1ckMsS0FBS214RyxpQkFBaUJ2bEUsSUFDdEI1ckMsS0FBS294RyxXQUFXdmxFLEVBQU9ELEdBRy9CKytDLFdBQVcvK0MsR0FDSDVyQyxLQUFLa3hHLHdCQUEwQnRsRSxFQUFNeHRCLFFBQ3JDcGUsS0FBS2l4RyxvQkFBcUIsR0FHbEM3aUUsU0FBU3ZDLEVBQU9ELEdBQ1o1ckMsS0FBS3lxRixhQUFhNStDLEVBQU9ELEdBRTdCeWlDLGNBQWN6aUMsRUFBTytrRSxHQUNqQixPQUFJM3dHLEtBQUtteEcsaUJBQWlCdmxFLElBQ3RCNXJDLEtBQUtneEcsbUJBQW9CLEVBR3pCaHhHLEtBQUtxeEcsVUFBVXpsRSxFQUFNeHRCLE1BQU91eUYsR0FDckIsSUFBSUksR0FBUS93RyxLQUFLbWhGLFdBRXJCLEtBRVhnd0IsaUJBQWlCdmxFLEdBQ2IsR0FBSTVyQyxLQUFLaXhHLG9CQUMyQyxJQUF6QixFQUF0Qmp4RyxLQUFLbWhGLFNBQVNoM0MsT0FBc0QsQ0FDckUsTUFBTW1uRSxFQUFxQnR4RyxLQUFLa3hHLHNCQUNoQyxJQUFJL2lHLEVBQVN5OUIsRUFBTXo5QixPQVduQixLQUFrQixPQUFYQSxHQUFrQyxFQUFkQSxFQUFPMHRCLE1BQzlCMXRCLEVBQU9pUSxRQUFVa3pGLEdBQ2pCbmpHLEVBQVNBLEVBQU9BLE9BRXBCLE9BQU9takcsS0FBbUMsT0FBWG5qRyxFQUFrQkEsRUFBT2lRLE9BQVMsR0FFckUsT0FBT3BlLEtBQUtpeEcsbUJBRWhCRyxXQUFXdmxFLEVBQU9ELEdBQ2QsTUFBTTV1QixFQUFZaGQsS0FBS21oRixTQUFTbmtFLFVBQ2hDLEdBQUkxYyxNQUFNZ04sUUFBUTBQLEdBQ2QsSUFBSyxJQUFJeFUsRUFBSSxFQUFHQSxFQUFJd1UsRUFBVWhXLE9BQVF3QixJQUFLLENBQ3ZDLE1BQU00bEIsRUFBT3BSLEVBQVV4VSxHQUN2QnhJLEtBQUt1eEcseUJBQXlCMWxFLEVBQU9ELEVBQU80bEUsR0FBeUI1bEUsRUFBT3hkLElBRTVFcHVCLEtBQUt1eEcseUJBQXlCMWxFLEVBQU9ELEVBQU9rVyxHQUEwQmxXLEVBQU9DLEVBQU96ZCxHQUFNLEdBQU8sU0FJakdwUixJQUFjNHZGLEdBQ0csRUFBYmhoRSxFQUFNL1AsTUFDTjc3QixLQUFLdXhHLHlCQUF5QjFsRSxFQUFPRCxHQUFRLEdBSWpENXJDLEtBQUt1eEcseUJBQXlCMWxFLEVBQU9ELEVBQU9rVyxHQUEwQmxXLEVBQU9DLEVBQU83dUIsR0FBVyxHQUFPLElBSWxIdTBGLHlCQUF5QjFsRSxFQUFPRCxFQUFPNmxFLEdBQ25DLEdBQXFCLE9BQWpCQSxFQUF1QixDQUN2QixNQUFNejdFLEVBQU9oMkIsS0FBS21oRixTQUFTbnJELEtBQzNCLEdBQWEsT0FBVEEsRUFDQSxHQUFJQSxJQUFTNnVFLElBQWM3dUUsSUFBU3EzRSxJQUNoQ3IzRSxJQUFTNDJFLElBQTZCLEVBQWJoaEUsRUFBTS9QLEtBQy9CNzdCLEtBQUtxeEcsU0FBU3psRSxFQUFNeHRCLE9BQVEsT0FFM0IsQ0FDRCxNQUFNc3pGLEVBQXlCNXZELEdBQTBCbFcsRUFBT0MsRUFBTzdWLEdBQU0sR0FBTyxHQUNyRCxPQUEzQjA3RSxHQUNBMXhHLEtBQUtxeEcsU0FBU3psRSxFQUFNeHRCLE1BQU9zekYsUUFLbkMxeEcsS0FBS3F4RyxTQUFTemxFLEVBQU14dEIsTUFBT3F6RixJQUl2Q0osU0FBUzVsQixFQUFVa21CLEdBQ00sT0FBakIzeEcsS0FBS2l6RSxRQUNManpFLEtBQUtpekUsUUFBVSxDQUFDd1ksRUFBVWttQixHQUcxQjN4RyxLQUFLaXpFLFFBQVEvcUUsS0FBS3VqRixFQUFVa21CLElBWXhDLFNBQVNILEdBQXlCNWxFLEVBQU92d0IsR0FDckMsTUFBTWt4RCxFQUFhM2dDLEVBQU0yZ0MsV0FDekIsR0FBbUIsT0FBZkEsRUFDQSxJQUFLLElBQUkvakUsRUFBSSxFQUFHQSxFQUFJK2pFLEVBQVd2bEUsT0FBUXdCLEdBQUssRUFDeEMsR0FBSStqRSxFQUFXL2pFLEtBQU82UyxFQUNsQixPQUFPa3hELEVBQVcvakUsRUFBSSxHQUlsQyxPQUFPLEtBV1gsU0FBU29wRyxHQUFvQjcvRCxFQUFPbkcsRUFBT2ltRSxFQUFhNzdFLEdBQ3BELE9BQXFCLElBQWpCNjdFLEVBVlIsU0FBaUNqbUUsRUFBT3lRLEdBQ3BDLE9BQWlCLEdBQWJ6USxFQUFNL1AsS0FDQytvRSxHQUFpQmg1RCxFQUFPeVEsR0FFYixFQUFielEsRUFBTS9QLEtBQ0pneEUsR0FBa0JqaEUsRUFBT3lRLEdBRTdCLEtBS0l5MUQsQ0FBd0JsbUUsRUFBT21HLElBRWhCLElBQWpCOC9ELEVBU2IsU0FBNEI5L0QsRUFBT25HLEVBQU81VixHQUN0QyxPQUFJQSxJQUFTNnVFLEdBQ0ZELEdBQWlCaDVELEVBQU9tRyxHQUUxQi9iLElBQVM0MkUsR0FDUEMsR0FBa0JqaEUsRUFBT21HLEdBRTNCL2IsSUFBU3EzRSxJQUNkem1FLFdBQWE0VyxHQUFnQjVSLEVBQU8sSUFDN0IwaEUsR0FBbUIxaEUsRUFBT21HLFNBR2pDbkwsV0FDSTFpQyxFQUFXLDhGQUE4RjR5QixFQUFVZCxRQXBCaEgrN0UsQ0FBbUJoZ0UsRUFBT25HLEVBQU81VixHQUlqQytyQixHQUFrQmhRLEVBQU9BLEVBcmpyQjFCLEdBcWpyQndDOC9ELEVBQWFqbUUsR0F3Qm5FLFNBQVNvbUUsR0FBdUJubUUsRUFBT2tHLEVBQU9tK0QsRUFBUStCLEdBQ2xELE1BQU1DLEVBQVNuZ0UsRUFBTStyQixJQUFTMEwsUUFBUXlvQyxHQUN0QyxHQUF1QixPQUFuQkMsRUFBT2ovQixRQUFrQixDQUN6QixNQUFNVSxFQUFZOW5DLEVBQU1wUCxLQUNsQjAxRSxFQUFnQmpDLEVBQU9qOUIsUUFDdkJqdkUsRUFBUyxHQUNmLElBQUssSUFBSXdFLEVBQUksRUFBR0EsRUFBSTJwRyxFQUFjbnJHLE9BQVF3QixHQUFLLEVBQUcsQ0FDOUMsTUFBTTRwRyxFQUFpQkQsRUFBYzNwRyxHQUNyQyxHQUFJNHBHLEVBQWlCLEVBSWpCcHVHLEVBQU9rRSxLQUFLLFVBRVgsQ0FDRDArQixXQUFhOEIsRUFBbUJpckMsRUFBV3krQixHQUMzQyxNQUFNeG1FLEVBQVErbkMsRUFBVXkrQixHQUN4QnB1RyxFQUFPa0UsS0FBSzBwRyxHQUFvQjcvRCxFQUFPbkcsRUFBT3VtRSxFQUFjM3BHLEVBQUksR0FBSTBuRyxFQUFPL3VCLFNBQVNuckQsUUFHNUZrOEUsRUFBT2ovQixRQUFVanZFLEVBRXJCLE9BQU9rdUcsRUFBT2ovQixRQU1sQixTQUFTby9CLEdBQW9CeG1FLEVBQU9rRyxFQUFPa2dFLEVBQVlqdUcsR0FDbkQsTUFBTWtzRyxFQUFTcmtFLEVBQU0yOUIsUUFBUTJtQyxXQUFXOEIsR0FDbENFLEVBQWdCakMsRUFBT2o5QixRQUM3QixHQUFzQixPQUFsQmsvQixFQUF3QixDQUN4QixNQUFNRyxFQUFlTixHQUF1Qm5tRSxFQUFPa0csRUFBT20rRCxFQUFRK0IsR0FDbEUsSUFBSyxJQUFJenBHLEVBQUksRUFBR0EsRUFBSTJwRyxFQUFjbnJHLE9BQVF3QixHQUFLLEVBQUcsQ0FDOUMsTUFBTWlqRixFQUFXMG1CLEVBQWMzcEcsR0FDL0IsR0FBSWlqRixFQUFXLEVBQ1h6bkYsRUFBT2tFLEtBQUtvcUcsRUFBYTlwRyxFQUFJLFFBRTVCLENBQ0QsTUFBTW1vRyxFQUFrQndCLEVBQWMzcEcsRUFBSSxHQUNwQ20xRCxFQUF3QjVyQixHQUFPMDVDLEdBQ3JDN2tELFdBQWE0TCxHQUFpQm1yQixHQUU5QixJQUFLLElBQUluMUQsRUFBSTZvQyxHQUF5QjdvQyxFQUFJbTFELEVBQXNCMzJELE9BQVF3QixJQUFLLENBQ3pFLE1BQU00bEUsRUFBZ0J6USxFQUFzQm4xRCxHQUN4QzRsRSxFQXptckJPLE1BeW1yQm1DQSxFQXhuckJuRCxJQXluckJTaWtDLEdBQW9CamtDLEVBM25yQjlCLEdBMm5yQm9EQSxFQUFldWlDLEVBQWlCM3NHLEdBS2xGLEdBQTJDLE9BQXZDMjVELEVBdnByQkEsR0F1cHJCNkMsQ0FDN0MsTUFBTTQwQyxFQUFpQjUwQyxFQXhwckJ2QixHQXlwckJBLElBQUssSUFBSW4xRCxFQUFJLEVBQUdBLEVBQUkrcEcsRUFBZXZyRyxPQUFRd0IsSUFBSyxDQUM1QyxNQUFNNGxFLEVBQWdCbWtDLEVBQWUvcEcsR0FDckM2cEcsR0FBb0Jqa0MsRUFwb3JCOUIsR0Fvb3JCb0RBLEVBQWV1aUMsRUFBaUIzc0csT0FNOUYsT0FBT0EsRUFXWCxTQUFTLEdBQWU0ckcsR0FDcEIsTUFBTTc5RCxFQUFRc0YsS0FDUnhMLEVBQVF5TCxLQUNSMjZELEVBQWE5NEQsS0FDbkJFLEdBQXFCNDRELEVBQWEsR0FDbEMsTUFBTS9CLEVBQVNLLEdBQVUxa0UsRUFBT29tRSxHQUNoQyxHQUFJckMsRUFBVWpuQyxPQUNUcHlCLEdBQWV4RSxNQUNvQyxJQUF0QixFQUF4Qm0rRCxFQUFPL3VCLFNBQVNoM0MsUUFBa0QsQ0FDeEUsR0FBdUIsT0FBbkIrbEUsRUFBT2o5QixRQUNQMjhCLEVBQVVubUYsTUFBTSxRQUVmLENBQ0QsTUFBTXpsQixFQUFTa3NHLEVBQU9jLGtCQUNsQnFCLEdBQW9CeG1FLEVBQU9rRyxFQUFPa2dFLEVBQVksSUFDOUNELEdBQXVCbm1FLEVBQU9rRyxFQUFPbStELEVBQVErQixHQUNqRHJDLEVBQVVubUYsTUFBTXpsQixFQUFRK2dHLElBQ3hCNkssRUFBVWxELGtCQUVkLE9BQU8sRUFFWCxPQUFPLEVBV1gsU0FBUyxHQUFZMXZGLEVBQVdtdEIsRUFBT25VLEdBQ25DNFEsV0FBYVUsRUFBYTZDLEVBQU8sbUJBQ2pDLE1BQU0wQixFQUFReUwsS0FDVnpMLEVBQU1GLGtCQUNONm1FLEdBQWEzbUUsRUFBTyxJQUFJMmtFLEdBQWdCeHpGLEVBQVdtdEIsRUFBT25VLElBQVEsR0FDL0IsSUFBdEIsRUFBUm1VLEtBQ0QwQixFQUFNNmhDLG1CQUFvQixJQUdsQytrQyxHQUFhNW1FLEVBQU93TCxLQUFZbE4sR0FjcEMsU0FBUyxHQUFleVksRUFBZ0I1bEMsRUFBV210QixFQUFPblUsR0FDdEQ0USxXQUFhVSxFQUFhNkMsRUFBTyxtQkFDakMsTUFBTTBCLEVBQVF5TCxLQUNkLEdBQUl6TCxFQUFNRixnQkFBaUIsQ0FDdkIsTUFBTUMsRUFBUTZMLEtBQ2QrNkQsR0FBYTNtRSxFQUFPLElBQUkya0UsR0FBZ0J4ekYsRUFBV210QixFQUFPblUsR0FBTzRWLEVBQU14dEIsT0FrQy9FLFNBQTJDeXRCLEVBQU8rVyxHQUM5QyxNQUFNOHZELEVBQXNCN21FLEVBQU02QyxpQkFBbUI3QyxFQUFNNkMsZUFBaUIsSUFFeEVrVSxLQUQ0Qjh2RCxFQUFvQjFyRyxPQUFTMHJHLEVBQW9CQSxFQUFvQjFyRyxPQUFTLElBQU0sSUFFaEgwckcsRUFBb0J4cUcsS0FBSzJqQyxFQUFNMjlCLFFBQVF4aUUsT0FBUyxFQUFHNDdDLEdBckNuRCt2RCxDQUFrQzltRSxFQUFPK1csR0FDTixJQUF0QixFQUFSelksS0FDRDBCLEVBQU00aEMsc0JBQXVCLEdBR3JDZ2xDLEdBQWE1bUUsRUFBT3dMLEtBQVlsTixHQU9wQyxTQUFTLEtBQ0wsT0FFdUI0SCxFQUZFc0YsS0FFSzQ2RCxFQUZPOTRELEtBR3JDdlMsV0FDSXlCLEVBQWMwSixFQUFNK3JCLElBQVUsMERBQ2xDbDNCLFdBQWE4QixFQUFtQnFKLEVBQU0rckIsSUFBUzBMLFFBQVN5b0MsR0FDakRsZ0UsRUFBTStyQixJQUFTMEwsUUFBUXlvQyxHQUFZckMsVUFKOUMsSUFBMkI3OUQsRUFBT2tnRSxFQU1sQyxTQUFTUSxHQUFhNW1FLEVBQU9rRyxFQUFPNUgsR0FDaEMsTUFBTXlsRSxFQUFZLElBQUk5RCxHQUF3RCxJQUFyQyxFQUFSM2hFLElBQ2pDaW5DLEdBQXdCdmxDLEVBQU9rRyxFQUFPNjlELEVBQVdBLEVBQVUzd0MsU0FDcEMsT0FBbkJsdEIsRUFBTStyQixNQUNOL3JCLEVBQU0rckIsSUFBVyxJQUFJZ3lDLElBQ3pCLzlELEVBQU0rckIsSUFBUzBMLFFBQVF0aEUsS0FBSyxJQUFJeW5HLEdBQVFDLElBRTVDLFNBQVM0QyxHQUFhM21FLEVBQU9zMUMsRUFBVS9xQyxHQUNiLE9BQWxCdkssRUFBTTI5QixVQUNOMzlCLEVBQU0yOUIsUUFBVSxJQUFJaW5DLElBQ3hCNWtFLEVBQU0yOUIsUUFBUXFuQyxNQUFNLElBQUlFLEdBQVE1dkIsRUFBVS9xQyxJQVM5QyxTQUFTbTZELEdBQVUxa0UsRUFBT3p0QixHQUV0QixPQURBd29CLFdBQWF5QixFQUFjd0QsRUFBTTI5QixRQUFTLGlEQUNuQzM5QixFQUFNMjlCLFFBQVEybUMsV0FBVy94RixHQWdCcEMsU0FBUyxHQUF1Qnd0QixFQUFPbUcsR0FDbkMsT0FBTzg2RCxHQUFrQmpoRSxFQUFPbUcsR0F1QnBDLE1BQU02Z0UsR0FBd0IsQ0FDMUIsWUFBZSxHQUNmLHdCQUEyQixHQUMzQix3QkFBMkIsR0FDM0Isd0JBQTJCLEdBQzNCLHdCQUEyQixHQUMzQix3QkFBMkIsR0FDM0Isd0JBQTJCLEdBQzNCLHdCQUEyQixHQUMzQix3QkFBMkIsR0FDM0Isd0JBQTJCLEdBQzNCLGtCQUFxQixHQUNyQixrQkFBcUIsR0FDckIsbUJBQXNCLEVBQ3RCLGlCQUFvQixFQUNwQixpQkFBb0IsR0FDcEIsYUFBZ0IsR0FDaEIsa0JBQXFCLEdBQ3JCLHNCQUF5QixHQUN6QixTQUFZLEdBQ1osa0JBQXFCLEdBQ3JCLGlCQUFvQixHQUNwQixvQkFBdUIsR0FDdkIsdUJBQTBCLEdBQzFCLHFCQUF3QixHQUN4QixtQkFBc0IsR0FDdEIsd0JBQTJCLEdBQzNCLDJCQUE4QixHQUM5QixjQUFpQixHQUNqQixnQkFBbUIsR0FDbkIsa0JBQXFCLEdBQ3JCLGVBQWtCLEdBQ2xCLGlCQUFvQixHQUNwQixrQkFBcUIsR0FDckIsZUFBa0IsR0FDbEIsYUFBZ0IsR0FDaEIsVUFBYSxHQUNiLHdCQUEyQixHQUMzQixzQkFBeUIsR0FDekIsbUJBQXNCLEdBQ3RCLGdCQUFtQixHQUNuQixnQkFBbUIsR0FDbkIsZ0JBQW1CLEdBQ25CLGdCQUFtQixHQUNuQixnQkFBbUIsR0FDbkIsZ0JBQW1CLEdBQ25CLGdCQUFtQixHQUNuQixnQkFBbUIsR0FDbkIsZ0JBQW1CLEdBQ25CLGdCQUFtQixHQUNuQixpQkFBb0IsR0FDcEIsY0FBaUIsR0FDakIsV0FBYyxHQUNkLGFBQWdCLEdBQ2hCLHdCQUEyQixHQUMzQix3QkFBMkIsR0FDM0IsWUFBZSxHQUNmLFlBQWUsR0FDZixZQUFlLEdBQ2YsWUFBZSxHQUNmLFlBQWUsR0FDZixnQkFBbUIsR0FDbkIsZUFBa0IsR0FDbEIsV0FBYyxHQUNkLHNCQUF5QixHQUN6Qix1QkFBMEIsR0FDMUIsdUJBQTBCLEdBQzFCLHVCQUEwQixHQUMxQix1QkFBMEIsR0FDMUIsdUJBQTBCLEdBQzFCLHVCQUEwQixHQUMxQix1QkFBMEIsR0FDMUIsdUJBQTBCLEdBQzFCLHVCQUEwQixHQUMxQixPQUFVLEdBQ1YsZUFBa0IsR0FDbEIsWUFBZSxHQUNmLFlBQWUsR0FDZixlQUFrQixHQUNsQixZQUFlLEdBQ2YsV0FBYyxHQUNkLHVCQUEwQixHQUMxQix1QkFBMEIsR0FDMUIsdUJBQTBCLEdBQzFCLHVCQUEwQixHQUMxQix1QkFBMEIsR0FDMUIsdUJBQTBCLEdBQzFCLHVCQUEwQixHQUMxQix1QkFBMEIsR0FDMUIsdUJBQTBCLEdBQzFCLFdBQWMsR0FDZCx1QkFBMEIsR0FDMUIsdUJBQTBCLEdBQzFCLHVCQUEwQixHQUMxQix1QkFBMEIsR0FDMUIsdUJBQTBCLEdBQzFCLHVCQUEwQixHQUMxQix1QkFBMEIsR0FDMUIsdUJBQTBCLEdBQzFCLHVCQUEwQixHQUMxQixZQUFlLEdBQ2Ysd0JBQTJCLEdBQzNCLHdCQUEyQixHQUMzQix3QkFBMkIsR0FDM0Isd0JBQTJCLEdBQzNCLHdCQUEyQixHQUMzQix3QkFBMkIsR0FDM0Isd0JBQTJCLEdBQzNCLHdCQUEyQixHQUMzQix3QkFBMkIsR0FDM0IsWUFBZSxHQUNmLFVBQWEsR0FDYixXQUFjLEdBQ2QsT0FBVSxHQUNWLGtCQUFxQixHQUNyQixtQkFBc0IsR0FDdEIsbUJBQXNCLEdBQ3RCLG1CQUFzQixHQUN0QixtQkFBc0IsR0FDdEIsbUJBQXNCLEdBQ3RCLG1CQUFzQixHQUN0QixtQkFBc0IsR0FDdEIsbUJBQXNCLEdBQ3RCLG1CQUFzQixHQUN0QixPQUFVLEdBQ1YsaUJBQW9CLEdBQ3BCLFVBQWEsR0FDYixZQUFlLEdBQ2YsVUFBYSxHQUNiLFlBQWUsR0FDZixrQkFBcUIsR0FDckIsZ0JBQW1CLEdBQ25CLGtCQUFxQixHQUNyQixjQUFpQixHQUNqQixvQkFBdUIsR0FDdkIsbUJBQXNCLEdBQ3RCLGVBQWtCLEdBQ2xCLGdCQUFtQixHQUNuQixzQkFBeUIsR0FDekIsaUJBQW9CLEdBQ3BCLGNBQWlCLEdBQ2pCLDJCQUE4QixHQUM5QixvQkFBdUIsR0FDdkIsMkJBQThCLEdBQzlCLFdBQWN6c0UsRUFDZCxrQkFBcUJFLEdBR3pCLElBQUl3c0UsR0FBYSxLQW1CakIsU0FBU0MsS0FDTEQsR0FBYSxLQVVqQixNQUFNRSxHQUFjLEdBUXBCLElBQUlDLElBQXNCLEVBTTFCLFNBQVNDLEtBQ0wsSUFBS0QsR0FBcUIsQ0FDdEJBLElBQXNCLEVBQ3RCLElBQ0ksSUFBSyxJQUFJeHFHLEVBQUl1cUcsR0FBWS9yRyxPQUFTLEVBQUd3QixHQUFLLEVBQUdBLElBQUssQ0FDOUMsTUFBTSxXQUFFb2hHLEVBQVUsU0FBRW53QixHQUFhczVCLEdBQVl2cUcsR0FDekNpeEUsRUFBU25wQyxjQUFnQm1wQyxFQUFTbnBDLGFBQWE5NEIsTUFBTTA3RixNQUVyREgsR0FBWXJxRyxPQUFPRixFQUFHLEdBQ3RCMnFHLEdBQTZCdkosRUFBWW53QixLQUlyRCxRQUNJdTVCLElBQXNCLElBU2xDLFNBQVNFLEdBQXNCRSxHQUMzQixPQUFJOXlHLE1BQU1nTixRQUFROGxHLEdBQ1BBLEVBQVk1N0YsTUFBTTA3RixNQUVwQjdzRSxFQUFrQitzRSxHQU8vQixTQUFTQyxHQUFnQnpKLEVBQVlud0IsRUFBVyxJQUM1QzY1QixHQUFvQjFKLEVBQVlud0IsR0E1Q3BDLFNBQXdDbXdCLEVBQVlud0IsR0FDaERzNUIsR0FBWTdxRyxLQUFLLENBQUUwaEcsV0FBQUEsRUFBWW53QixTQUFBQSxJQWdEL0I4NUIsQ0FBK0IzSixFQUFZbndCLEdBUS9DLFNBQVM2NUIsR0FBb0IxSixFQUFZbndCLEVBQVUrNUIsR0FBbUMsR0FDbEY1c0UsV0FBYXlCLEVBQWN1aEUsRUFBWSw2QkFDdkNoakUsV0FBYXlCLEVBQWNveEMsRUFBVSwyQkFDckMsTUFBTW5wQyxFQUFldVcsR0FBUTR5QixFQUFTbnBDLGNBQWdCbEQsSUFDdEQsSUFBSXFELEVBQWMsS0FDbEJ0d0MsT0FBT2EsZUFBZTRvRyxFQUFZbjhELEdBQVksQ0FDMUNqckMsY0FBYyxFQUNkSCxJQUFLLEtBQ0QsR0FBb0IsT0FBaEJvdUMsRUFBc0IsQ0FDdEIsR0FBSTdKLFdBQWE2eUMsRUFBU3h3QyxTQUFXd3dDLEVBQVN4d0MsUUFBUW5VLFFBQVE4MEUsSUFBZSxFQUd6RSxNQUFNLElBQUlua0YsTUFBTSxJQUFJcWhCLEVBQWtCOGlFLGtDQUUxQyxNQUFNcGxCLEVBQVdoK0IsR0FBa0IsQ0FBRUUsTUFBTyxFQUFtQnRqRCxLQUFNLFdBQVl5NEIsS0FBTSt0RSxJQUN2Rm41RCxFQUFjK3pDLEVBQVM2dUIsZ0JBQWdCVCxHQUFnQixTQUFTaEosRUFBV3g3RSxlQUFnQixDQUN2RnlOLEtBQU0rdEUsRUFDTnY1RCxVQUFXd1csR0FBUTR5QixFQUFTcHBDLFdBQWFqRCxJQUFhLzFCLElBQUlndkIsR0FDMURpSyxhQUFjQSxFQUFhajVCLElBQUlndkIsR0FDL0I0QyxRQUFTNGQsR0FBUTR5QixFQUFTeHdDLFNBQVdtRSxJQUNoQy8xQixJQUFJZ3ZCLEdBQ0podkIsSUFBSW84RixJQUNUaDBHLFFBQVNvbkQsR0FBUTR5QixFQUFTaDZFLFNBQVcydEMsSUFDaEMvMUIsSUFBSWd2QixHQUNKaHZCLElBQUlvOEYsSUFDVGprRSxRQUFTaXFDLEVBQVNqcUMsUUFBVXFYLEdBQVE0eUIsRUFBU2pxQyxTQUFXLEtBQ3hENWMsR0FBSTZtRCxFQUFTN21ELElBQU0sT0FNbEI2ZCxFQUFZakIsVUFDYmlCLEVBQVlqQixRQUFVLElBRzlCLE9BQU9pQixLQUdmLElBQUk4ekMsRUFBZSxLQUNuQnBrRixPQUFPYSxlQUFlNG9HLEVBQVlsOEQsR0FBZ0IsQ0FDOUNyckMsSUFBSyxLQUNELEdBQXFCLE9BQWpCa2lGLEVBQXVCLENBQ3ZCLE1BQU1DLEVBQVdoK0IsR0FBa0IsQ0FBRUUsTUFBTyxFQUFtQnRqRCxLQUFNLFdBQVl5NEIsS0FBTSt0RSxJQUN2RnJsQixFQUFlQyxFQUFTUSxlQUFlNHRCLEdBQWdCLFNBQVNoSixFQUFXeDdFLGVBQWdCLENBQ3ZGQSxLQUFNdzdFLEVBQVd4N0UsS0FDakJ5TixLQUFNK3RFLEVBQ052OUMsS0FBTUYsR0FBb0J5OUMsR0FDMUJsa0UsT0FBUTgrQyxFQUFTaitCLGNBQWNtdEQsU0FDL0I5dUIsa0JBQW1CLElBRzNCLE9BQU9MLEdBR1gvaEYsZUFBZ0Jva0MsWUFFcEIsSUFBSStDLEVBQWdCLEtBQ3BCeHBDLE9BQU9hLGVBQWU0b0csRUFBWXBnRSxFQUFZLENBQzFDbm5DLElBQUssS0FDRCxHQUFzQixPQUFsQnNuQyxFQUF3QixDQUN4Qi9DLFdBQ0krc0UsR0FBNkIvSixFQUFZNEosR0FDN0MsTUFBTS9rRixFQUFPLENBQ1RMLEtBQU13N0UsRUFBV3g3RSxLQUNqQnlOLEtBQU0rdEUsRUFDTnJzRSxVQUFXazhDLEVBQVNsOEMsV0FBYTZQLEdBQ2pDbkUsUUFBUyxFQUNKd3dDLEVBQVN4d0MsU0FBV21FLElBQWEvMUIsSUFBSWd2QixJQUNyQ296QyxFQUFTaDZFLFNBQVcydEMsSUFBYS8xQixJQUFJZ3ZCLEtBR3hDbStDLEVBQVdoK0IsR0FBa0IsQ0FBRUUsTUFBTyxFQUFtQnRqRCxLQUFNLFdBQVl5NEIsS0FBTSt0RSxJQUN2RmpnRSxFQUNJNjZDLEVBQVNvdkIsZ0JBQWdCaEIsR0FBZ0IsU0FBU2hKLEVBQVd4N0UsZUFBZ0JLLEdBRXJGLE9BQU9rYixHQUdYbm5DLGVBQWdCb2tDLFlBR3hCLFNBQVMrc0UsR0FBNkIvSixFQUFZNEosRUFBa0NLLEdBQ2hGLEdBQUlDLEdBQWlCenhHLElBQUl1bkcsR0FDckIsT0FHSixJQUFJbjVELEVBQ0osR0FIQXFqRSxHQUFpQnZ4RixJQUFJcW5GLEdBQVksR0FDakNBLEVBQWF2akUsRUFBa0J1akUsR0FFM0JpSyxHQUVBLEdBREFwakUsRUFBY0MsR0FBZWs1RCxJQUN4Qm41RCxFQUNELE1BQU0sSUFBSWhyQixNQUFNLHFCQUFxQm1rRixFQUFXeDdFLGlDQUFpQ3lsRixFQUFnQnpsRixtREFJckdxaUIsRUFBY0MsR0FBZWs1RCxHQUFZLEdBRTdDLE1BQU12OEYsRUFBUyxHQUNUaWpDLEVBQWUwcEIsR0FBY3ZwQixFQUFZSCxjQUN6Q3JILEVBQVUrd0IsR0FBY3ZwQixFQUFZeEgsU0FDMUM0ZCxHQUFRNWQsR0FBUzV4QixJQUFJMDhGLElBQWtDeHRHLFNBQVF5dEcsSUFDM0RDLEVBQWdDRCxFQUFLcEssR0FDckMrSixHQUE2QkssR0FBSyxFQUFPcEssTUFFN0MsTUFBTW5xRyxFQUFVdTZELEdBQWN2cEIsRUFBWWh4QyxTQUMxQzZ3QyxFQUFhL3BDLFNBMEJiLFNBQTJDczFCLEdBRTNCb1UsR0FEWnBVLEVBQU93SyxFQUFrQnhLLEtBQ1lxVSxHQUFnQnJVLElBQVNzVSxHQUFhdFUsSUFFdkV4dUIsRUFBT25GLEtBQUsscUJBQXFCNCtCLEVBQWtCakwsK0JBQWtDaUwsRUFBa0I4aUUsZ0VBN0IvR3Q1RCxFQUFhL3BDLFNBZ0NiLFNBQXNDczFCLEdBRWxDLE1BQU1tUyxFQUFNa0MsR0FEWnJVLEVBQU93SyxFQUFrQnhLLEtBRXBCb1UsR0FBZ0JwVSxJQUFTbVMsR0FBK0IsR0FBeEJBLEVBQUlpQixVQUFVam9DLFFBQy9DcUcsRUFBT25GLEtBQUssYUFBYTQrQixFQUFrQmpMLHlDQW5DbkQsTUFBTXE0RSxFQUF1QixJQUN0QjVqRSxFQUFhajVCLElBQUlndkIsTUFDakJ3Z0IsR0FBUTVkLEVBQVE1eEIsSUFBSTg4RixLQUF5Qjk4RixJQUFJZ3ZCLElBRXhENW1DLEVBQVE4RyxTQWtDUixTQUE4Q3MxQixHQUUxQyxNQUFNejRCLEdBQU82c0MsR0FEYnBVLEVBQU93SyxFQUFrQnhLLElBQ2EsWUFBZXFVLEdBQWdCclUsSUFBUyxjQUMxRXNVLEdBQWF0VSxJQUFTLE9BQ3RCejRCLElBR2dELElBQTVDOHdHLEVBQXFCL3RDLFlBQVl0cUMsSUFFakN4dUIsRUFBT25GLEtBQUssZ0JBQWdCOUUsS0FBUTBqQyxFQUFrQmpMLFdBQWNpTCxFQUFrQjhpRSxrREExQ2xHdDVELEVBQWEvcEMsU0FBUTZ0RyxHQThDckIsU0FBbUN2NEUsRUFBTXc0RSxHQUNyQ3g0RSxFQUFPd0ssRUFBa0J4SyxHQUN6QixNQUFNeTRFLEVBQWlCQyxHQUFjbHlHLElBQUl3NUIsR0FDekMsR0FBSXk0RSxHQUFrQkEsSUFBbUIxSyxHQUNyQyxJQUFLeUssRUFBZ0IsQ0FDakIsTUFBTXpMLEVBQVUsQ0FBQzBMLEVBQWdCMUssR0FBWXZ5RixJQUFJeXZCLEdBQW1CNUwsT0FDcEU3dEIsRUFBT25GLEtBQUssUUFBUTQrQixFQUFrQmpMLGdEQUFtRCtzRSxFQUFRLFVBQVVBLEVBQVEsOEJBQ3JGOWhFLEVBQWtCakwsc0NBQXlDK3NFLEVBQVEsVUFBVUEsRUFBUSxvRUFDL0M5aEUsRUFBa0JqTCxtQ0FBc0Mrc0UsRUFBUSxVQUFVQSxFQUFRLGFBSzFKMkwsR0FBY2h5RixJQUFJc1osRUFBTSt0RSxHQTNESDRLLENBQTBCSixFQUFNWixLQUM3RGxqRSxFQUFhL3BDLFNBMEViLFNBQXdEczFCLEdBRXBELEdBQUlvVSxHQURKcFUsRUFBT3dLLEVBQWtCeEssSUFDRSxDQUV2QixNQUFNeXhCLEVBQVltbkQsR0FBYzU0RSxFQUFNLGFBQ2xDeXhCLEdBQWFBLEVBQVVvbkQsaUJBQ3ZCNXRELEdBQVl3RyxFQUFVb25ELGdCQUFpQkMsT0EvRW5ELE1BQU1sN0IsRUFBV2c3QixHQUFjN0ssRUFBWSxZQWEzQyxHQVpJbndCLElBQ0FBLEVBQVN4d0MsU0FDTDRkLEdBQVE0eUIsRUFBU3h3QyxTQUFTNXhCLElBQUkwOEYsSUFBa0N4dEcsU0FBUXl0RyxJQUNwRUMsRUFBZ0NELEVBQUtwSyxHQUNyQytKLEdBQTZCSyxHQUFLLEVBQU9wSyxNQUVqRG53QixFQUFTcHBDLFdBQWF5VyxHQUFZMnlCLEVBQVNwcEMsV0E0RC9DLFNBQW9DeFUsR0FFM0JvVSxHQURMcFUsRUFBT3dLLEVBQWtCeEssS0FFckJ4dUIsRUFBT25GLEtBQUssR0FBRzQrQixFQUFrQmpMLCtDQTlEckM0OUMsRUFBU3BwQyxXQUFheVcsR0FBWTJ5QixFQUFTcHBDLFVBQVdza0UsR0FDdERsN0IsRUFBU2k3QixpQkFDTDV0RCxHQUFZMnlCLEVBQVNpN0IsZ0JBQWlCQyxJQUcxQ3RuRyxFQUFPckcsT0FDUCxNQUFNLElBQUl5ZSxNQUFNcFksRUFBT21uQixLQUFLLE9BOENoQyxTQUFTbWdGLEVBQWdDOTRFLEdBQ3JDQSxFQUFPd0ssRUFBa0J4SyxHQUNGMDRFLEdBQWNseUcsSUFBSXc1QixJQUVyQ3h1QixFQUFPbkYsS0FBSyxhQUFhNCtCLEVBQWtCakwsd0ZBbUJuRCxTQUFTbzRFLEVBQWdDcDRFLEVBQU1nNEUsR0FFM0MsR0FBSTVqRSxHQURKcFUsRUFBT3dLLEVBQWtCeEssS0FDSXFVLEdBQWdCclUsR0FDekMsTUFBTSxJQUFJcFcsTUFBTSx5QkFBeUJvVyxFQUFLek4saUNBQWlDeWxGLEVBQWdCemxGLDhDQUVuRyxHQUFJK2hCLEdBQWF0VSxHQUNiLE1BQU0sSUFBSXBXLE1BQU0sb0JBQW9Cb1csRUFBS3pOLGlDQUFpQ3lsRixFQUFnQnpsRiwrQ0FJdEcsU0FBUzJsRixHQUFpQ2EsR0FFdEMsT0FEQUEsRUFBc0J2dUUsRUFBa0J1dUUsSUFDYm43QixVQUFZbTdCLEVBRTNDLFNBQVNILEdBQWM1NEUsRUFBTXpOLEdBQ3pCLElBQUk4MkIsRUFBYSxLQUdqQixPQUZBMnZELEVBQVFoNUUsRUFBS2k1RSxpQkFDYkQsRUFBUWg1RSxFQUFLbXRCLFlBQ045RCxFQUNQLFNBQVMydkQsRUFBUXhyRCxHQUNUQSxHQUNBQSxFQUFZOWlELFFBQVF3dUcsR0FHNUIsU0FBU0EsRUFBZS9vRCxHQUNmOUcsSUFDYS9rRCxPQUFPczBCLGVBQWV1M0IsR0FDMUJwSCxnQkFBa0J4MkIsRUFDeEI4MkIsRUFBYThHLEVBRVJBLEVBQVVud0IsTUFDRDE3QixPQUFPczBCLGVBQWV1M0IsRUFBVW53QixNQUNwQytvQixnQkFBa0J4MkIsSUFDeEI4MkIsRUFBYThHLEVBQVVwN0MsS0FBSyxNQVloRCxJQUFJMmpHLEdBQWdCLElBQUlTLFFBQ3BCbEIsR0FBbUIsSUFBSWtCLFFBQzNCLFNBQVNDLEtBQ0xWLEdBQWdCLElBQUlTLFFBQ3BCbEIsR0FBbUIsSUFBSWtCLFFBQ3ZCakMsR0FBWS9yRyxPQUFTLEVBT3pCLFNBQVNtdEcsR0FBdUJ0NEUsR0FHNUIsTUFBTyxJQUFJZ3JCLEdBQVFtVCxHQURDdHBCLEdBRHBCN1UsRUFBT3dLLEVBQWtCeEssSUFDZ0IsR0FDSXA4QixTQUFTNFgsS0FBS3drQixHQUMvQjZVLEdBQWU3VSxJQUUvQjgzRSxHQUE2QjkzRSxHQUFNLEdBQzVCczRFLEdBQXVCdDRFLElBR3ZCQSxNQVN2QixTQUFTczNFLEdBQTZCdkosRUFBWW53QixHQUM5QyxNQUFNbnBDLEVBQWV1VyxHQUFRNHlCLEVBQVNucEMsY0FBZ0JsRCxJQUNoRDhuRSxFQUFtQkMsR0FBb0J2TCxHQUM3Q3Q1RCxFQUFhL3BDLFNBQVE2c0csSUFDYkEsRUFBWTN5RyxlQUFlNnNDLElBSTNCOG5FLEdBRHFCbmxFLEdBREhtakUsR0FFdUI4QixHQUVuQzlCLEVBQVkzeUcsZUFBZThzQyxLQUFnQjZsRSxFQUFZM3lHLGVBQWUrc0MsTUFFNUU0bEUsRUFBWWlDLGdCQUFrQnpMLE1BUTFDLFNBQVN3TCxHQUEyQmg1QixFQUFjODRCLEdBQzlDOTRCLEVBQWFydEMsY0FBZ0IsSUFBTXp1QyxNQUFNc00sS0FBS3NvRyxFQUFpQkksWUFBWTVsRSxZQUN0RXI0QixLQUFJaytGLEdBQU9BLEVBQUk5MEcsZUFBZTZzQyxJQUFlMkMsR0FBZ0JzbEUsR0FBT3JsRSxHQUFnQnFsRSxLQUNwRnQxRixRQUFPK3RCLEtBQVNBLElBQ3JCb3VDLEVBQWFwdEMsU0FBVyxJQUFNMXVDLE1BQU1zTSxLQUFLc29HLEVBQWlCSSxZQUFZemxFLE9BQU94NEIsS0FBSXhRLEdBQVFzcEMsR0FBYXRwQyxLQUN0R3UxRSxFQUFhNXNDLFFBQVUwbEUsRUFBaUIxbEUsUUFLeEM0c0MsRUFBYXZ3QyxNQUFRLEtBV3pCLFNBQVNzcEUsR0FBb0J2TCxHQUN6QixJQUFLNEwsR0FBVzVMLEdBQ1osTUFBTSxJQUFJbmtGLE1BQU0sR0FBR21rRixFQUFXeDdFLG1EQUVsQyxNQUFNNGYsRUFBTTBDLEdBQWVrNUQsR0FDM0IsR0FBb0MsT0FBaEM1N0QsRUFBSXVDLHdCQUNKLE9BQU92QyxFQUFJdUMsd0JBRWYsTUFBTWtsRSxFQUFTLENBQ1hqbUUsUUFBU3hCLEVBQUl3QixTQUFXLEtBQ3hCOGxFLFlBQWEsQ0FDVDVsRSxXQUFZLElBQUk5d0IsSUFDaEJpeEIsTUFBTyxJQUFJanhCLEtBRWY4MkYsU0FBVSxDQUNOaG1FLFdBQVksSUFBSTl3QixJQUNoQml4QixNQUFPLElBQUlqeEIsTUFtRG5CLE9BaERBbzdDLEdBQWNoc0IsRUFBSS9FLFNBQVMxaUMsU0FBU3F6RSxJQUNoQyxNQUFNKzdCLEVBQWUvN0IsRUFDckIsSUFBSzQ3QixHQUFXRyxHQUNaLE1BQU0sSUFBSWx3RixNQUFNLGFBQWFrd0YsRUFBYXZuRiw0Q0FJOUMsTUFBTXduRixFQUFnQlQsR0FBb0JRLEdBQzFDQyxFQUFjRixTQUFTaG1FLFdBQVducEMsU0FBUXN2RyxHQUFTSixFQUFPSCxZQUFZNWxFLFdBQVd0cEMsSUFBSXl2RyxLQUNyRkQsRUFBY0YsU0FBUzdsRSxNQUFNdHBDLFNBQVFzdkcsR0FBU0osRUFBT0gsWUFBWXpsRSxNQUFNenBDLElBQUl5dkcsUUFFL0U3N0MsR0FBY2hzQixFQUFJc0MsY0FBYy9wQyxTQUFRdXZHLElBRWhDM2xFLEdBRHFCMmxFLEdBRXJCTCxFQUFPSCxZQUFZemxFLE1BQU16cEMsSUFBSTB2RyxHQU03QkwsRUFBT0gsWUFBWTVsRSxXQUFXdHBDLElBQUkwdkcsTUFHMUM5N0MsR0FBY2hzQixFQUFJdnVDLFNBQVM4RyxTQUFTbXZHLElBQ2hDLE1BQU1LLEVBQWVMLEVBR3JCLEdBQUlGLEdBQVdPLEdBQWUsQ0FHMUIsTUFBTUMsRUFBZ0JiLEdBQW9CWSxHQUMxQ0MsRUFBY04sU0FBU2htRSxXQUFXbnBDLFNBQVFzdkcsSUFDdENKLEVBQU9ILFlBQVk1bEUsV0FBV3RwQyxJQUFJeXZHLEdBQ2xDSixFQUFPQyxTQUFTaG1FLFdBQVd0cEMsSUFBSXl2RyxNQUVuQ0csRUFBY04sU0FBUzdsRSxNQUFNdHBDLFNBQVFzdkcsSUFDakNKLEVBQU9ILFlBQVl6bEUsTUFBTXpwQyxJQUFJeXZHLEdBQzdCSixFQUFPQyxTQUFTN2xFLE1BQU16cEMsSUFBSXl2RyxXQUd6QjFsRSxHQUFhNGxFLEdBQ2xCTixFQUFPQyxTQUFTN2xFLE1BQU16cEMsSUFBSTJ2RyxHQUcxQk4sRUFBT0MsU0FBU2htRSxXQUFXdHBDLElBQUkydkcsTUFHdkMvbkUsRUFBSXVDLHdCQUEwQmtsRSxFQUN2QkEsRUFFWCxTQUFTaEMsR0FBMEJ4eUcsR0FDL0IsT0FLSixTQUErQkEsR0FDM0IsWUFBMEJzRCxJQUFuQnRELEVBQU13NEUsU0FOVHc4QixDQUFzQmgxRyxHQUNmQSxFQUFNdzRFLFNBRVZ4NEUsRUFLWCxTQUFTdTBHLEdBQVd2MEcsR0FDaEIsUUFBU3l2QyxHQUFlenZDLEdBdUI1QixJQUFJaTFHLEdBQW1CLEVBVXZCLFNBQVNDLEdBQWlCdDZFLEVBQU1zbEQsSUFHTixvQkFBZHY2QyxXQUE2QkEsWUFBYzBFLEtBQ25ELElBQUk4cUUsRUFBaUIsTUFqbmxCekIsU0FBa0R2NkUsRUFBTXNsRCxHQUNoRGp6QixHQUF5Qml6QixLQUN6Qjl6QixHQUFpQzlxQyxJQUFJc1osRUFBTXNsRCxHQUMzQ3B6QixHQUE4QjNuRCxJQUFJeTFCLElBZ25sQnRDdzZFLENBQXlDeDZFLEVBQU1zbEQsR0FJL0NtMUIsR0FBdUJ6NkUsRUFBTXNsRCxHQUM3QmhoRixPQUFPYSxlQUFlNjZCLEVBQU15UixHQUFhLENBQ3JDanJDLElBQUssS0FDRCxHQUF1QixPQUFuQit6RyxFQUF5QixDQUN6QixNQUFNNXhCLEVBQVdoK0IsR0FBa0IsQ0FBRUUsTUFBTyxFQUFtQnRqRCxLQUFNLFlBQWF5NEIsS0FBTUEsSUFDeEYsR0FBSXF5QixHQUF5Qml6QixHQUFXLENBQ3BDLE1BQU1uL0UsRUFBUSxDQUFDLGNBQWM2NUIsRUFBS3pOLDBCQVFsQyxNQVBJK3lELEVBQVMzekIsYUFDVHhyRCxFQUFNa0csS0FBSyxtQkFBbUJpNUUsRUFBUzN6QixlQUV2QzJ6QixFQUFTMXpCLFdBQWEwekIsRUFBUzF6QixVQUFVem1ELFFBQ3pDaEYsRUFBTWtHLEtBQUssaUJBQWlCd3VCLEtBQUtJLFVBQVVxcUQsRUFBUzF6QixjQUV4RHpyRCxFQUFNa0csS0FBSywyREFDTCxJQUFJdWQsTUFBTXpqQixFQUFNd3lCLEtBQUssT0FNL0IsTUFBTTdLLEVBbmhCWGtwRixHQW9oQkssSUFBSTBELEVBQXNCcDFCLEVBQVNvMUIseUJBQ1BoeUcsSUFBeEJneUcsSUFFSUEsRUFEWSxPQUFaNXNGLFFBQW9EcGxCLElBQWhDb2xCLEVBQVE0c0YscUJBQ041c0YsRUFBUTRzRixxQkFNdEMsSUFBSW5uRSxFQUFnQit4QyxFQUFTL3hDLG1CQUNQN3FDLElBQWxCNnFDLElBRUlBLEVBRFksT0FBWnpsQixRQUFxRHBsQixJQUFqQ29sQixFQUFRNnNGLHFCQUNaN3NGLEVBQVE2c0YscUJBR1IvckUsRUFBb0I0RSxVQUc1QyxNQUFNbWUsRUFBYzJ6QixFQUFTM3pCLGFBQWUsU0FBUzN4QixFQUFLek4scUJBQ3BESyxFQUFPdHVCLE9BQU82bEQsT0FBTzdsRCxPQUFPNmxELE9BQU8sR0FBSXl3RCxHQUFrQjU2RSxFQUFNc2xELElBQVksQ0FBRXUxQixlQUFnQmx5QixFQUFTbXlCLHNCQUFzQixZQUFhOTZFLEVBQUt6TixLQUFNby9CLEdBQWNwZixTQUFVK3lDLEVBQVMveUMsVUFBWSxHQUFJbW9FLG9CQUFBQSxFQUFxQmpuRSxPQUFRNnhDLEVBQVM3eEMsUUFBVWxDLEdBQWF3cEUsV0FBWXoxQixFQUFTeTFCLFdBQVlsbkUsV0FBWSxHQUFJYixnQkFBaUJzeUMsRUFBU3R5QyxnQkFBaUJnQixNQUFPLElBQUlodUIsSUFBT3V0QixjQUFBQSxFQUFleW5FLGNBQWUxMUIsRUFBUzAxQixjQUFldHNDLGNBQWU0VyxFQUFTNVcsZUFBaUIsT0FDcmQyckMsS0FDQSxJQUNRem5GLEVBQUtxb0YsaUJBQ0xDLEdBQW9DbDdFLEdBRXhDdTZFLEVBQWlCNXhCLEVBQVMyeEIsaUJBQWlCdkQsR0FBZ0JwbEQsRUFBYS8rQixHQUU1RSxRQUVJeW5GLEtBY0osR0FaeUIsSUFBckJBLElBTUFqRCxVQWtCcUIxdUcsSUFaSnMzQixFQVloQnc1RSxnQkFadUIsQ0FDeEIsTUFBTUksRUFBU04sR0FBb0J0NUUsRUFBS3c1RSxpQkFDeENELEdBQTJCZ0IsRUFBZ0JYLElBR25ELE9BQU9XLEdBR1g1ekcsZUFBZ0Jva0MsWUFheEIsU0FBU293RSxHQUFpQm43RSxFQUFNZ2hCLEdBQzVCLElBQUlvNkQsRUFBaUIsS0FDckJYLEdBQXVCejZFLEVBQU1naEIsR0FBYSxJQUMxQzE4QyxPQUFPYSxlQUFlNjZCLEVBQU0wUixHQUFZLENBQ3BDbHJDLElBQUssS0FDRCxHQUF1QixPQUFuQjQwRyxFQUF5QixDQUl6QixNQUFNeG9GLEVBQU95b0YsR0FBcUJyN0UsRUFBTWdoQixHQUFhLElBQy9DMm5DLEVBQVdoK0IsR0FBa0IsQ0FBRUUsTUFBTyxFQUFtQnRqRCxLQUFNLFlBQWF5NEIsS0FBQUEsSUFDbEZvN0UsRUFDSXp5QixFQUFTd3lCLGlCQUFpQnBFLEdBQWdCbmtGLEVBQUswb0YsYUFBYzFvRixFQUFLMHlELFVBRTFFLE9BQU84MUIsR0FHWHowRyxlQUFnQm9rQyxZQUd4QixTQUFTc3dFLEdBQXFCcjdFLEVBQU1zbEQsR0FDaEMsTUFBTS95RCxFQUFPeU4sR0FBUUEsRUFBS3pOLEtBQ3BCK29GLEVBQWUsU0FBUy9vRixZQUN4Qm8yRCxFQUFXaCtCLEdBQWtCLENBQUVFLE1BQU8sRUFBbUJ0akQsS0FBTSxZQUFheTRCLEtBQUFBLElBQzVFdTdFLEVBQVNYLEdBQWtCNTZFLEVBQU1zbEQsR0FLdkMsT0FKQWkyQixFQUFPVixlQUFpQmx5QixFQUFTbXlCLHNCQUFzQixZQUFhdm9GLEVBQU0rb0YsR0FDdEVDLEVBQU9OLGlCQUNQQyxHQUFvQ2w3RSxHQUVqQyxDQUFFc2xELFNBQVVpMkIsRUFBUUQsYUFBQUEsR0FFL0IsU0FBU2IsR0FBdUJ6NkUsRUFBTXNsRCxHQUNsQyxJQUFJb0QsRUFBZSxLQUNuQnBrRixPQUFPYSxlQUFlNjZCLEVBQU02UixHQUFnQixDQUN4Q3JyQyxJQUFLLEtBQ0QsR0FBcUIsT0FBakJraUYsRUFBdUIsQ0FDdkIsTUFBTTkxRCxFQUFPeW9GLEdBQXFCcjdFLEVBQU1zbEQsR0FDbENxRCxFQUFXaCtCLEdBQWtCLENBQUVFLE1BQU8sRUFBbUJ0akQsS0FBTSxZQUFheTRCLEtBQUFBLElBQ2xGMG9ELEVBQWVDLEVBQVNRLGVBQWU0dEIsR0FBZ0IsU0FBUy8yRSxFQUFLek4sZUFBZ0IsQ0FDakZBLEtBQU1LLEVBQUsweUQsU0FBUy95RCxLQUNwQnlOLEtBQU1wTixFQUFLMHlELFNBQVN0bEQsS0FDcEIrb0Qsa0JBQW1CLEVBQ25CdjRCLEtBQU1GLEdBQW9CdHdCLEdBQzFCNkosT0FBUTgrQyxFQUFTaitCLGNBQWM4d0QsWUFHdkMsT0FBTzl5QixHQUdYL2hGLGVBQWdCb2tDLFlBR3hCLFNBQVMwd0UsR0FBMEJ6N0UsR0FDL0IsT0FBTzE3QixPQUFPczBCLGVBQWVvSCxFQUFLcjdCLGFBQWVMLE9BQU9LLFVBTTVELFNBQVNpMkcsR0FBa0I1NkUsRUFBTXNsRCxHQUU3QixNQUFNajVCLEVBQVVnRSxLQUNWMUMsRUFBZXRCLEVBQVEwQixnQkFBZ0IvdEIsR0FDN0MsTUFBTyxDQUNIek4sS0FBTXlOLEVBQUt6TixLQUNYeU4sS0FBTUEsRUFDTnhnQixjQUFnQzlXLElBQXRCNDhFLEVBQVM5bEUsU0FBeUI4bEUsRUFBUzlsRSxTQUFXLEtBQ2hFbWxCLEtBQU0yZ0QsRUFBUzNnRCxNQUFRMk0sR0FDdkJxYyxhQUFjQSxFQUNkeDRCLE9BQVFtd0QsRUFBU253RCxRQUFVb2MsR0FDM0IxTCxRQUFTeS9DLEVBQVN6L0MsU0FBVzBMLEdBQzdCbzhCLFFBQVMrdEMsR0FBdUIxN0UsRUFBTTJ0QixFQUFjZ3VELElBQ3BEQyxVQUFXLENBQUVDLGNBQWV4dkQsRUFBUTJCLGlCQUFpQmh1QixFQUFNLGdCQUMzRDY2RSxlQUFnQixLQUNoQkksaUJBQWtCUSxHQUEwQno3RSxHQUM1QzhTLFVBeURpQkEsRUF6RFN3eUMsRUFBU3h5QyxjQTBEbkJwcUMsSUFBYm9xQyxFQUF5QixLQUFPZ3BFLEdBQWFocEUsSUF6RGhEcFIsVUFBVzRqRCxFQUFTNWpELFdBQWEsS0FDakNxNkUsWUFBYUwsR0FBdUIxN0UsRUFBTTJ0QixFQUFjdkQsS0F1RGhFLElBQXlCdFgsRUFqRHpCLFNBQVNvb0UsR0FBb0NsN0UsR0FDekMsTUFBTWc4RSxFQUFlMTNHLE9BQU9LLFVBQzVCLElBQUkyTixFQUFTaE8sT0FBT3MwQixlQUFlb0gsRUFBS3I3QixXQUFXTSxZQUVuRCxLQUFPcU4sR0FBVUEsSUFBVzBwRyxHQUduQjNuRSxHQUFnQi9oQyxJQUFZOGhDLEdBQWdCOWhDLEtBQzdDMnBHLEdBQTJCM3BHLElBQzNCNm9HLEdBQWlCN29HLEVBQVEsTUFFN0JBLEVBQVNoTyxPQUFPczBCLGVBQWV0bUIsR0FNdkMsU0FBUzRwRyxHQUF5QjNoQyxFQUFjNGhDLEdBQzVDLE1BQU8sQ0FDSDVoQyxhQUFjQSxFQUNkcDVELFdBTjJCM0IsRUFNVTI4RixFQUFJMzhGLFNBTGxCLGlCQUFiQSxFQUF3QnM4RixHQUFhdDhGLEdBQVlnckIsRUFBa0JockIsSUFNN0U2cUMsWUFBYTh4RCxFQUFJOXhELFlBQ2pCN21DLE1BQU8yNEYsRUFBSTM0RixNQUNYMlcsS0FBTWdpRixFQUFJaGlGLEtBQU9naUYsRUFBSWhpRixLQUFPLEtBQzVCc2xELFNBQVUwOEIsRUFBSTE4QixPQUNkbjFCLDBCQUEyQjZ4RCxFQUFJN3hELHlCQVh2QyxJQUFtQzlxQyxFQWNuQyxTQUFTazhGLEdBQXVCMTdFLEVBQU0ydEIsRUFBY3l1RCxHQUNoRCxNQUFNQyxFQUFjLEdBQ3BCLElBQUssTUFBTTV1RSxLQUFTa2dCLEVBQ2hCLEdBQUlBLEVBQWEvb0QsZUFBZTZvQyxHQUFRLENBQ3BDLE1BQU0rZixFQUFjRyxFQUFhbGdCLEdBQ2pDK2YsRUFBWTlpRCxTQUFReXhHLElBQ2hCLEdBQUlDLEVBQVdELEdBQU0sQ0FDakIsSUFBS0EsRUFBSTM4RixTQUNMLE1BQU0sSUFBSW9LLE1BQU0sNkNBQTZDNmpCLFVBQ3JEeEMsRUFBa0JqTCxnREFFOUIsR0FBSXd0QixFQUFZM3hDLEtBQUt5Z0csSUFDakIsTUFBTSxJQUFJMXlGLE1BQU0sMERBRXBCeXlGLEVBQVlod0csS0FBSzZ2RyxHQUF5Qnp1RSxFQUFPMHVFLFFBS2pFLE9BQU9FLEVBS1gsU0FBU1YsR0FBZXYyRyxHQUNwQixNQUFNbXRCLEVBQU9udEIsRUFBTTJqRCxlQUNuQixNQUFnQixpQkFBVHgyQixHQUFvQyxvQkFBVEEsRUFFdEMsU0FBUzYzQixHQUFZaGxELEdBQ2pCLE1BQU1tdEIsRUFBT250QixFQUFNMmpELGVBQ25CLE1BQWdCLGNBQVR4MkIsR0FBaUMsaUJBQVRBLEVBRW5DLFNBQVMrcEYsR0FBa0JsM0csR0FDdkIsTUFBZ0MsVUFBekJBLEVBQU0yakQsZUFFakIsU0FBUyt5RCxHQUFhMTJHLEdBQ2xCLE9BQU9BLEVBQU0yM0IsTUFBTSxLQUFLdmhCLEtBQUkrZ0csR0FBU0EsRUFBTXJsRCxTQUUvQyxNQUFNc2xELEdBQWtCLENBQ3BCLGNBQWUsV0FBWSxjQUFlLFlBQWEsa0JBQW1CLHFCQUMxRSxxQkFBc0IseUJBRTFCLFNBQVNQLEdBQTJCajhFLEdBQ2hDLE1BQU1xc0IsRUFBVWdFLEtBQ2hCLEdBQUltc0QsR0FBZ0IzZ0csTUFBSzRnRyxHQUFZcHdELEVBQVEyQixpQkFBaUJodUIsRUFBTXk4RSxLQUNoRSxPQUFPLEVBRVgsTUFBTTl1RCxFQUFldEIsRUFBUXNCLGFBQWEzdEIsR0FDMUMsSUFBSyxNQUFNeU4sS0FBU2tnQixFQUFjLENBQzlCLE1BQU1ILEVBQWNHLEVBQWFsZ0IsR0FDakMsSUFBSyxJQUFJOWdDLEVBQUksRUFBR0EsRUFBSTZnRCxFQUFZcmlELE9BQVF3QixJQUFLLENBQ3pDLE1BQU02ckMsRUFBVWdWLEVBQVk3Z0QsR0FDdEIrdkcsRUFBZWxrRSxFQUFRdVEsZUFDN0IsR0FBSXV6RCxHQUFrQjlqRSxJQUFZbWpFLEdBQWVuakUsSUFBWTRSLEdBQVk1UixJQUNwRCxXQUFqQmtrRSxHQUE4QyxnQkFBakJBLEdBQ1osaUJBQWpCQSxFQUNBLE9BQU8sR0FJbkIsT0FBTyxFQVVYLFNBQVNDLEdBQVkzOEUsRUFBTXBOLEdBQ3ZCLElBQUlncUYsRUFBWSxLQUNabDBCLEVBQWUsS0FDbkJwa0YsT0FBT2EsZUFBZTY2QixFQUFNNlIsR0FBZ0IsQ0FDeENyckMsSUFBSyxLQUNELEdBQXFCLE9BQWpCa2lGLEVBQXVCLENBQ3ZCLE1BQU1wRCxFQUFXdTNCLEdBQWdCNzhFLEVBQU1wTixHQUNqQysxRCxFQUFXaCtCLEdBQWtCLENBQUVFLE1BQU8sRUFBbUJ0akQsS0FBTSxPQUFReTRCLEtBQU1zbEQsRUFBU3RsRCxPQUM1RjBvRCxFQUFlQyxFQUFTUSxlQUFlNHRCLEdBQWdCLFNBQVN6eEIsRUFBUy95RCxlQUFnQixDQUNyRkEsS0FBTSt5RCxFQUFTL3lELEtBQ2Z5TixLQUFNc2xELEVBQVN0bEQsS0FDZitvRCxrQkFBbUIsRUFDbkJ2NEIsS0FBTUYsR0FBb0J0d0IsR0FDMUI2SixPQUFROCtDLEVBQVNqK0IsY0FBY295RCxPQUd2QyxPQUFPcDBCLEdBR1gvaEYsZUFBZ0Jva0MsWUFFcEJ6bUMsT0FBT2EsZUFBZTY2QixFQUFNMlIsR0FBYSxDQUNyQ25yQyxJQUFLLEtBQ0QsR0FBa0IsT0FBZG8yRyxFQUFvQixDQUNwQixNQUFNdDNCLEVBQVd1M0IsR0FBZ0I3OEUsRUFBTXBOLEdBQ2pDKzFELEVBQVdoK0IsR0FBa0IsQ0FBRUUsTUFBTyxFQUFtQnRqRCxLQUFNLE9BQVF5NEIsS0FBTXNsRCxFQUFTdGxELE9BQzVGNDhFLEVBQ0lqMEIsRUFBU2cwQixZQUFZNUYsR0FBZ0IsU0FBU3p4QixFQUFTL3lELGdCQUFpQit5RCxHQUVoRixPQUFPczNCLEdBR1hqMkcsZUFBZ0Jva0MsWUFHeEIsU0FBUzh4RSxHQUFnQjc4RSxFQUFNcE4sR0FDM0IsTUFBTyxDQUNIb04sS0FBTUEsRUFDTnpOLEtBQU15TixFQUFLek4sS0FDWDA4RSxTQUFVcjhFLEVBQUtMLEtBQ2Y2aUIsVUFBb0Ixc0MsSUFBZGtxQixFQUFLd2lCLE1BQXFCeGlCLEVBQUt3aUIsTUFnQjdDLE1BQU1vbUUsR0FBWW56RCxHQUFjLGFBQWEsQ0FBQ3F4RCxFQUFNLEtBQU9BLFFBQUtoeEcsT0FBV0EsR0FBVyxDQUFDczNCLEVBQU1wTixJQUFTdW9GLEdBQWlCbjdFLEVBQU1wTixLQU92SG1xRixHQUFZMTBELEdBQWMsYUFBYSxDQUFDcjBCLEVBQUksS0FBUTF2QixPQUFPNmxELE9BQU8sQ0FBRW5YLGdCQUFpQnRFLEVBQXdCSyxTQUFXL2EsSUFBS3duRixRQUFXOXlHLEdBQVcsQ0FBQ3MzQixFQUFNcE4sSUFBUzBuRixHQUFpQnQ2RSxFQUFNcE4sS0FLMUxrcUYsR0FBT3owRCxHQUFjLFFBQVMzakQsR0FBT0osT0FBTzZsRCxPQUFPLENBQUUvVSxNQUFNLEdBQVExd0MsU0FBS2dFLE9BQVdBLEdBQVcsQ0FBQ3MzQixFQUFNcE4sSUFBUytwRixHQUFZMzhFLEVBQU1wTixLQUtoSW9xRixHQUFReHpELEdBQWtCLFNBQVV5ekQsSUFBd0IsQ0FBR0Esb0JBQUFBLE1BSy9EQyxHQUFTMXpELEdBQWtCLFVBQVd5ekQsSUFBd0IsQ0FBR0Esb0JBQUFBLE1BS2pFRSxHQUFjM3pELEdBQWtCLGVBQWdCNHpELElBQXFCLENBQUdBLGlCQUFBQSxNQWtFeEVDLEdBQWU3ekQsR0FBa0IsZ0JBQWdCLENBQUM0bEMsRUFBV3I2RSxLQUFTLENBQUdxNkUsVUFBQUEsRUFBV3I2RSxLQUFBQSxNQWFwRjhpRyxHQUFXeHZELEdBQWMsWUFBYXUxQixHQUFhQSxRQUFVbDFFLE9BQVdBLEdBWTlFLENBQUNzM0IsRUFBTXBOLElBQVM0a0YsR0FBZ0J4M0UsRUFBTXBOLEtBaUJ0QyxTQUFTcmlCLE1BQVF3RSxJQWVqQixNQXdFTXVvRyxHQUFrQixJQUFJeHpELEdBQWUsMkJBTTNDLE1BQU15ekQsR0FDRnQ0RyxZQUFZdTRHLEdBQ1JyNUcsS0FBS3E1RyxTQUFXQSxFQUNoQnI1RyxLQUFLMEcsUUFBVTBGLEdBQ2ZwTSxLQUFLMkcsT0FBU3lGLEdBQ2RwTSxLQUFLczVHLGFBQWMsRUFDbkJ0NUcsS0FBS3dKLE1BQU8sRUFDWnhKLEtBQUt1NUcsWUFBYyxJQUFJbHlHLFNBQVEsQ0FBQ3UrQixFQUFLNHpFLEtBQ2pDeDVHLEtBQUswRyxRQUFVay9CLEVBQ2Y1bEMsS0FBSzJHLE9BQVM2eUcsS0FJdEJDLGtCQUNJLEdBQUl6NUcsS0FBS3M1RyxZQUNMLE9BRUosTUFBTUksRUFBb0IsR0FDcEJ4M0csRUFBVyxLQUNibEMsS0FBS3dKLE1BQU8sRUFDWnhKLEtBQUswRyxXQUVULEdBQUkxRyxLQUFLcTVHLFNBQ0wsSUFBSyxJQUFJN3dHLEVBQUksRUFBR0EsRUFBSXhJLEtBQUtxNUcsU0FBU3J5RyxPQUFRd0IsSUFBSyxDQUMzQyxNQUFNbXhHLEVBQWEzNUcsS0FBS3E1RyxTQUFTN3dHLEtBQ2pDLEdBQUk4TSxHQUFVcWtHLEdBQ1ZELEVBQWtCeHhHLEtBQUt5eEcsUUFFdEIsR0FBSTN1QixHQUFhMnVCLEdBQWEsQ0FDL0IsTUFBTUMsRUFBc0IsSUFBSXZ5RyxTQUFRLENBQUNYLEVBQVNDLEtBQzlDZ3pHLEVBQVdsMEcsVUFBVSxDQUFFdkQsU0FBVXdFLEVBQVMxRSxNQUFPMkUsT0FFckQreUcsRUFBa0J4eEcsS0FBSzB4RyxJQUluQ3Z5RyxRQUFReW1ELElBQUk0ckQsR0FDUHBuRyxNQUFLLEtBQ05wUSxPQUVDK1MsT0FBTXpJLElBQ1B4TSxLQUFLMkcsT0FBTzZGLE1BRWlCLElBQTdCa3RHLEVBQWtCMXlHLFFBQ2xCOUUsSUFFSmxDLEtBQUtzNUcsYUFBYyxHQUczQkYsR0FBc0IsS0FBTyxTQUF1Q3ptRyxHQUFLLE9BQU8sSUFBS0EsR0FBS3ltRyxJQUF1QixHQUFTRCxHQUFpQixLQUMzSUMsR0FBc0IsTUFBc0IsRUFBbUIsQ0FBRXg0RSxNQUFPdzRFLEdBQXVCNTVHLFFBQVM0NUcsR0FBc0IsUUFFcEcsb0JBQWR4eUUsV0FBNkJBLFlBQWM0aEUsR0FBaUI0USxHQUF1QixDQUFDLENBQ3BGdjlFLEtBQU0rQyxNQUNOLFdBQ0osTUFBTyxDQUFDLENBQUUvQyxVQUFNdDNCLEVBQVd5a0QsV0FBWSxDQUFDLENBQ3hCbnRCLEtBQU1vd0IsR0FDTnI3QyxLQUFNLENBQUN1b0csS0FDUixDQUNDdDlFLEtBQU13TyxTQUV2QixNQXFCUCxNQUFNd3ZFLEdBQVMsSUFBSWwwRCxHQUFlLFNBUTVCbTBELEdBQXlCLENBQzNCM3VELFFBQVMwdUQsR0FDVGgvQixXQVRKLFdBQ0ksTUFBTyxHQUFHay9CLE9BQWdCQSxPQUFnQkEsUUFTMUMxdEQsS0FBTSxJQUVWLFNBQVMwdEQsS0FDTCxPQUFPbjVHLE9BQU9ndkYsYUFBYSxHQUFLNW5GLEtBQUtvM0IsTUFBc0IsR0FBaEJwM0IsS0FBS2d5RyxXQU1wRCxNQUFNQyxHQUF1QixJQUFJdDBELEdBQWUsd0JBSzFDdTBELEdBQWMsSUFBSXYwRCxHQUFlLGVBV2pDdzBELEdBQXlCLElBQUl4MEQsR0FBZSx3QkFNNUN5MEQsR0FBbUIsSUFBSXowRCxHQUFlLGlDQVM1QyxNQUFNMDBELEdBQ0Z4akYsSUFBSTFJLEdBRUF5SSxRQUFRQyxJQUFJMUksR0FHaEJ5a0MsS0FBS3prQyxHQUVEeUksUUFBUWc4QixLQUFLemtDLElBR3JCa3NGLEdBQVEsS0FBTyxTQUF5QjFuRyxHQUFLLE9BQU8sSUFBS0EsR0FBSzBuRyxLQUM5REEsR0FBUSxNQUFzQixFQUFtQixDQUFFejVFLE1BQU95NUUsR0FBUzc2RyxRQUFTNjZHLEdBQVEsUUFFMUQsb0JBQWR6ekUsV0FBNkJBLFlBQWM0aEUsR0FBaUI2UixHQUFTLENBQUMsQ0FDdEV4K0UsS0FBTStDLEtBQ04sS0FBTSxNQWdDbEIsTUFBTTA3RSxHQUFZLElBQUkzMEQsR0FBZSxZQXVDL0I0MEQsR0FBd0IsSUFBSTUwRCxHQUFlLHVCQXlCM0M2MEQsR0FBZSxJQUFJNzBELEdBQWUsZ0JBc0JsQzgwRCxHQUFzQixJQUFJOTBELEdBQWUsc0JBd0IvQyxJQUFJKzBELElBQ0osU0FBV0EsR0FDUEEsRUFBMkJBLEVBQWtDLE1BQUksR0FBSyxRQUN0RUEsRUFBMkJBLEVBQW9DLFFBQUksR0FBSyxVQUN4RUEsRUFBMkJBLEVBQW1DLE9BQUksR0FBSyxTQUgzRSxDQUlHQSxLQUErQkEsR0FBNkIsS0FtQi9ELE1BQU1DLEdBQ0Y3NUcsWUFBWTg1RyxFQUFpQkMsR0FDekI3NkcsS0FBSzQ2RyxnQkFBa0JBLEVBQ3ZCNTZHLEtBQUs2NkcsbUJBQXFCQSxHQW1CbEMsTUFBTUMsR0FLRkMsa0JBQWtCblIsR0FDZCxPQUFPLElBQUlELEdBQWdCQyxHQUsvQm9SLG1CQUFtQnBSLEdBQ2YsT0FBT3ZpRyxRQUFRWCxRQUFRMUcsS0FBSys2RyxrQkFBa0JuUixJQUtsRHFSLGtDQUFrQ3JSLEdBQzlCLE1BQU1nUixFQUFrQjU2RyxLQUFLKzZHLGtCQUFrQm5SLEdBRXpDaVIsRUFBcUI3Z0QsR0FEVHRwQixHQUFlazVELEdBQ2tCdDVELGNBQzlDcnpCLFFBQU8sQ0FBQ2l0RCxFQUFXa3BDLEtBQ3BCLE1BQU1oM0IsRUFBZW5zQyxHQUFnQm1qRSxHQUVyQyxPQURBaDNCLEdBQWdCbFMsRUFBVWhpRSxLQUFLLElBQUltL0YsR0FBaUJqckIsSUFDN0NsUyxJQUNSLElBQ0gsT0FBTyxJQUFJeXdDLEdBQTZCQyxFQUFpQkMsR0FLN0RLLG1DQUFtQ3RSLEdBQy9CLE9BQU92aUcsUUFBUVgsUUFBUTFHLEtBQUtpN0csa0NBQWtDclIsSUFLbEV1UixjQUlBQyxjQUFjdi9FLElBSWR3L0UsWUFBWXpSLEtBSWhCa1IsR0FBUyxLQUFPLFNBQTBCbm9HLEdBQUssT0FBTyxJQUFLQSxHQUFLbW9HLEtBQ2hFQSxHQUFTLE1BQXNCLEVBQW1CLENBQUVsNkUsTUFBT2s2RSxHQUFVdDdHLFFBQVNzN0csR0FBUyxRQUU3RCxvQkFBZGwwRSxXQUE2QkEsWUFBYzRoRSxHQUFpQnNTLEdBQVUsQ0FBQyxDQUN2RWovRSxLQUFNK0MsS0FDTixLQUFNLE1BT2xCLE1BQU0wOEUsR0FBbUIsSUFBSTMxRCxHQUFlLG1CQVc1QyxNQUFNNDFELElBVU4sTUFBTTltRyxHQUFpQnBOLFFBQVFYLFFBQVEsR0FDdkMsU0FBUzgwRyxHQUFrQmp3RyxHQUNILG9CQUFUa3dHLEtBRVBobkcsR0FBUW5DLE1BQUssS0FDVC9HLEdBQU1BLEVBQUdsSyxNQUFNLEtBQU0sU0FJekJvNkcsS0FBS3BuRSxRQUFRbW5FLGtCQUFrQixvQkFBcUJqd0csR0E4RzVELE1BQU1td0csR0FDRjU2RyxhQUFZLHFCQUFFNjZHLEdBQXVCLEVBQUssbUNBQUVDLEdBQXFDLEVBQUssaUNBQUVDLEdBQW1DLElBMkJ2SCxHQTFCQTc3RyxLQUFLODdHLHNCQUF1QixFQUM1Qjk3RyxLQUFLKzdHLHNCQUF1QixFQUk1Qi83RyxLQUFLZzhHLFVBQVcsRUFJaEJoOEcsS0FBS2k4RyxXQUFhLElBQUl0USxJQUFhLEdBTW5DM3JHLEtBQUtrOEcsaUJBQW1CLElBQUl2USxJQUFhLEdBTXpDM3JHLEtBQUttOEcsU0FBVyxJQUFJeFEsSUFBYSxHQUlqQzNyRyxLQUFLOFgsUUFBVSxJQUFJNnpGLElBQWEsR0FDYixvQkFBUjhQLEtBQ1AsTUFBTSxJQUFJaDJGLE1BQU0sa0RBRXBCZzJGLEtBQUtXLG9CQUNMLE1BQU1seEUsRUFBT2xyQyxLQUNia3JDLEVBQUtteEUsU0FBVyxFQUNoQm54RSxFQUFLb3hFLE9BQVNweEUsRUFBS3F4RSxPQUFTZCxLQUFLcG5FLFFBQzdCb25FLEtBQTJCLHVCQUMzQnZ3RSxFQUFLcXhFLE9BQVNyeEUsRUFBS3F4RSxPQUFPQyxLQUFLLElBQUlmLEtBQTJCLHVCQUU5REUsR0FBd0JGLEtBQTZCLHlCQUNyRHZ3RSxFQUFLcXhFLE9BQVNyeEUsRUFBS3F4RSxPQUFPQyxLQUFLZixLQUE2Qix5QkFJaEV2d0UsRUFBSzB3RSxvQ0FDQUMsR0FBb0NELEVBQ3pDMXdFLEVBQUsyd0UsaUNBQW1DQSxFQUN4QzN3RSxFQUFLdXhFLDZCQUErQixFQUNwQ3Z4RSxFQUFLd3hFLDRCQWxKYixXQUNJLElBQUlBLEVBQThCcnhFLEdBQStCLHNCQUM3RHN4RSxFQUE2QnR4RSxHQUE4QixxQkFDL0QsR0FBb0Isb0JBQVRvd0UsTUFBd0JpQixHQUErQkMsRUFBNEIsQ0FHMUYsTUFBTUMsRUFBaUNGLEVBQTRCakIsS0FBS29CLFdBQVcscUJBQy9FRCxJQUNBRixFQUE4QkUsR0FFbEMsTUFBTUUsRUFBZ0NILEVBQTJCbEIsS0FBS29CLFdBQVcscUJBQzdFQyxJQUNBSCxFQUE2QkcsR0FHckMsTUFBTyxDQUFFSiw0QkFBQUEsRUFBNkJDLDJCQUFBQSxHQW1JQ0ksR0FBaUNMLDRCQXlKNUUsU0FBMENNLEdBQ3RDLE1BQU1DLEVBQXdDLE1BekNsRCxTQUF1Q0QsR0FjL0JBLEVBQUtFLHVCQUE4RCxJQUF0Q0YsRUFBS1AsOEJBR3RDTyxFQUFLUCw0QkFBOEJPLEVBQUtOLDRCQUE0Qmg4RyxLQUFLMnFDLElBQVMsS0FVekUyeEUsRUFBS0csbUJBQ05ILEVBQUtHLGlCQUFtQjFCLEtBQUtsOEcsS0FBSzY5RyxrQkFBa0Isb0JBQW9CLEtBQ3BFSixFQUFLUCw2QkFBK0IsRUFDcENZLEdBQXNCTCxHQUN0QkEsRUFBS0Usc0JBQXVCLEVBQzVCSSxHQUFZTixHQUNaQSxFQUFLRSxzQkFBdUIsU0FDN0IzNEcsR0FBVyxTQUFXLFVBRTdCeTRHLEVBQUtHLGlCQUFpQkksWUFFMUJGLEdBQXNCTCxJQUlsQlEsQ0FBOEJSLElBRWxDQSxFQUFLVCxPQUFTUyxFQUFLVCxPQUFPQyxLQUFLLENBQzNCcHVGLEtBQU0sVUFDTjVJLFdBQVksQ0FBRSxlQUFpQixHQUMvQmk0RixhQUFjLENBQUN2cEYsRUFBVW1nQixFQUFTM08sRUFBUWc0RSxFQUFNQyxFQUFXQyxLQUN2RCxJQUVJLE9BREFDLEdBQVFiLEdBQ0Q5b0YsRUFBUzRwRixXQUFXcDRFLEVBQVFnNEUsRUFBTUMsRUFBV0MsR0FFeEQsU0FDU1osRUFBS3BCLG9DQUFvRCxjQUFkOEIsRUFBSzdoRixNQUNqRG1oRixFQUFLbkIsbUNBQ0xvQixJQUVKYyxHQUFRZixLQUdoQmdCLFNBQVUsQ0FBQzlwRixFQUFVbWdCLEVBQVMzTyxFQUFRemtCLEVBQVUwOEYsRUFBV0MsRUFBVy8zRyxLQUNsRSxJQUVJLE9BREFnNEcsR0FBUWIsR0FDRDlvRixFQUFTcXBGLE9BQU83M0UsRUFBUXprQixFQUFVMDhGLEVBQVdDLEVBQVcvM0csR0FFbkUsUUFDUW0zRyxFQUFLbkIsa0NBQ0xvQixJQUVKYyxHQUFRZixLQUdoQmlCLFVBQVcsQ0FBQy9wRixFQUFVbWdCLEVBQVMzTyxFQUFRdzRFLEtBQ25DaHFGLEVBQVNpcUYsUUFBUXo0RSxFQUFRdzRFLEdBQ3JCN3BFLElBQVkzTyxJQUdlLGFBQXZCdzRFLEVBQWFFLFFBQ2JwQixFQUFLcUIsc0JBQXdCSCxFQUFhSSxVQUMxQ2pCLEdBQXNCTCxHQUN0Qk0sR0FBWU4sSUFFZ0IsYUFBdkJrQixFQUFhRSxTQUNsQnBCLEVBQUtsQixxQkFBdUJvQyxFQUFhSyxhQUlyREMsY0FBZSxDQUFDdHFGLEVBQVVtZ0IsRUFBUzNPLEVBQVExakMsS0FDdkNreUIsRUFBU2xTLFlBQVkwakIsRUFBUTFqQyxHQUM3Qmc3RyxFQUFLeUIsbUJBQWtCLElBQU16QixFQUFLbGxHLFFBQVFxQyxLQUFLblksTUFDeEMsS0ExTVgwOEcsQ0FBaUN4ekUsR0FFckNvd0MseUJBRUksTUFBdUIsb0JBQVRtZ0MsT0FBOEQsSUFBdENBLEtBQUtwbkUsUUFBUWh5QyxJQUFJLGlCQUUzRGk1RSw2QkFDSSxJQUFLb2dDLEdBQU9pRCxrQkFDUixNQUFNLElBQUlsNUYsTUFBTSxrREFHeEI2MUQsZ0NBQ0ksR0FBSW9nQyxHQUFPaUQsa0JBQ1AsTUFBTSxJQUFJbDVGLE1BQU0sa0RBZXhCbTVGLElBQUlyekcsRUFBSW95RyxFQUFXQyxHQUNmLE9BQU81OUcsS0FBS3U4RyxPQUFPcUMsSUFBSXJ6RyxFQUFJb3lHLEVBQVdDLEdBYzFDaUIsUUFBUXR6RyxFQUFJb3lHLEVBQVdDLEVBQVd4dkYsR0FDOUIsTUFBTTR1RixFQUFPaDlHLEtBQUt1OEcsT0FDWm1CLEVBQU9WLEVBQUtJLGtCQUFrQixnQkFBa0JodkYsRUFBTTdpQixFQUFJdXpHLEdBQWUxeUcsR0FBTUEsSUFDckYsSUFDSSxPQUFPNHdHLEVBQUs2QixRQUFRbkIsRUFBTUMsRUFBV0MsR0FFekMsUUFDSVosRUFBSytCLFdBQVdyQixJQU94QnNCLFdBQVd6ekcsRUFBSW95RyxFQUFXQyxHQUN0QixPQUFPNTlHLEtBQUt1OEcsT0FBT3lDLFdBQVd6ekcsRUFBSW95RyxFQUFXQyxHQWVqRGEsa0JBQWtCbHpHLEdBQ2QsT0FBT3ZMLEtBQUtzOEcsT0FBT3NDLElBQUlyekcsSUFHL0IsTUFBTXV6RyxHQUFnQixHQUN0QixTQUFTeEIsR0FBWU4sR0FnQmpCLEdBQXFCLEdBQWpCQSxFQUFLWCxXQUFrQlcsRUFBS2pCLHVCQUF5QmlCLEVBQUtoQixTQUMxRCxJQUNJZ0IsRUFBS1gsV0FDTFcsRUFBS2QsaUJBQWlCL2hHLEtBQUssTUFFL0IsUUFFSSxHQURBNmlHLEVBQUtYLFlBQ0FXLEVBQUtqQixxQkFDTixJQUNJaUIsRUFBS3lCLG1CQUFrQixJQUFNekIsRUFBS2IsU0FBU2hpRyxLQUFLLFFBRXBELFFBQ0k2aUcsRUFBS2hCLFVBQVcsSUFvR3BDLFNBQVNxQixHQUFzQkwsR0FDdkJBLEVBQUtxQix3QkFDSHJCLEVBQUtwQixvQ0FBc0NvQixFQUFLbkIsb0NBQ1IsSUFBdENtQixFQUFLUCw0QkFDVE8sRUFBS2pCLHNCQUF1QixFQUc1QmlCLEVBQUtqQixzQkFBdUIsRUFHcEMsU0FBUzhCLEdBQVFiLEdBQ2JBLEVBQUtYLFdBQ0RXLEVBQUtoQixXQUNMZ0IsRUFBS2hCLFVBQVcsRUFDaEJnQixFQUFLZixXQUFXOWhHLEtBQUssT0FHN0IsU0FBUzRqRyxHQUFRZixHQUNiQSxFQUFLWCxXQUNMaUIsR0FBWU4sR0FNaEIsTUFBTWlDLEdBQ0ZuK0csY0FDSWQsS0FBSys3RyxzQkFBdUIsRUFDNUIvN0csS0FBSzg3RyxzQkFBdUIsRUFDNUI5N0csS0FBS2c4RyxVQUFXLEVBQ2hCaDhHLEtBQUtpOEcsV0FBYSxJQUFJdFEsR0FDdEIzckcsS0FBS2s4RyxpQkFBbUIsSUFBSXZRLEdBQzVCM3JHLEtBQUttOEcsU0FBVyxJQUFJeFEsR0FDcEIzckcsS0FBSzhYLFFBQVUsSUFBSTZ6RixHQUV2QmlULElBQUlyekcsRUFBSW95RyxFQUFXQyxHQUNmLE9BQU9yeUcsRUFBR2xLLE1BQU1zOEcsRUFBV0MsR0FFL0JvQixXQUFXenpHLEVBQUlveUcsRUFBV0MsR0FDdEIsT0FBT3J5RyxFQUFHbEssTUFBTXM4RyxFQUFXQyxHQUUvQmEsa0JBQWtCbHpHLEdBQ2QsT0FBT0EsSUFFWHN6RyxRQUFRdHpHLEVBQUlveUcsRUFBV0MsRUFBV3h2RixHQUM5QixPQUFPN2lCLEVBQUdsSyxNQUFNczhHLEVBQVdDLElBaUJuQyxNQUFNc0IsR0FDRnArRyxZQUFZcStHLEdBQ1JuL0csS0FBS20vRyxRQUFVQSxFQUNmbi9HLEtBQUtvL0csY0FBZ0IsRUFDckJwL0csS0FBS3EvRyxlQUFnQixFQU9yQnIvRyxLQUFLcy9HLFVBQVcsRUFDaEJ0L0csS0FBS3UvRyxXQUFhLEdBQ2xCdi9HLEtBQUt3L0csaUJBQW1CLEtBQ3hCeC9HLEtBQUt5L0csc0JBQ0xOLEVBQVFQLEtBQUksS0FDUjUrRyxLQUFLdy9HLGlCQUNjLG9CQUFSL0QsS0FBc0IsS0FBT0EsS0FBS3BuRSxRQUFRaHlDLElBQUksdUJBR2pFbzlHLHNCQUNJei9HLEtBQUttL0csUUFBUWxELFdBQVd4MkcsVUFBVSxDQUM5QnhELEtBQU0sS0FDRmpDLEtBQUtzL0csVUFBVyxFQUNoQnQvRyxLQUFLcS9HLGVBQWdCLEtBRzdCci9HLEtBQUttL0csUUFBUVYsbUJBQWtCLEtBQzNCeitHLEtBQUttL0csUUFBUWhELFNBQVMxMkcsVUFBVSxDQUM1QnhELEtBQU0sS0FDRnk1RyxHQUFPZ0UseUJBQ1BsRSxJQUFrQixLQUNkeDdHLEtBQUtxL0csZUFBZ0IsRUFDckJyL0csS0FBSzIvRyxnQ0FVekJDLDhCQUdJLE9BRkE1L0csS0FBS28vRyxlQUFpQixFQUN0QnAvRyxLQUFLcy9HLFVBQVcsRUFDVHQvRyxLQUFLby9HLGNBTWhCUyw4QkFFSSxHQURBNy9HLEtBQUtvL0csZUFBaUIsRUFDbEJwL0csS0FBS28vRyxjQUFnQixFQUNyQixNQUFNLElBQUkzNUYsTUFBTSxxQ0FHcEIsT0FEQXpsQixLQUFLMi9HLHVCQUNFMy9HLEtBQUtvL0csY0FLaEJwRCxXQUNJLE9BQU9oOEcsS0FBS3EvRyxlQUF3QyxJQUF2QnIvRyxLQUFLby9HLGdCQUF3QnAvRyxLQUFLbS9HLFFBQVFyRCxxQkFFM0U2RCx1QkFDSSxHQUFJMy9HLEtBQUtnOEcsV0FFTFIsSUFBa0IsS0FDZCxLQUFrQyxJQUEzQng3RyxLQUFLdS9HLFdBQVd2NEcsUUFBYyxDQUNqQyxJQUFJK2EsRUFBSy9oQixLQUFLdS9HLFdBQVdsc0csTUFDekJnaEIsYUFBYXRTLEVBQUcrOUYsV0FDaEIvOUYsRUFBR2crRixPQUFPLy9HLEtBQUtzL0csVUFFbkJ0L0csS0FBS3MvRyxVQUFXLFNBR25CLENBRUQsSUFBSTNzRixFQUFVM3lCLEtBQUtnZ0gsa0JBQ25CaGdILEtBQUt1L0csV0FBYXYvRyxLQUFLdS9HLFdBQVd0L0YsUUFBUThCLElBQ2xDQSxFQUFHaytGLFdBQVlsK0YsRUFBR2srRixTQUFTdHRGLEtBQzNCMEIsYUFBYXRTLEVBQUcrOUYsWUFDVCxLQUlmOS9HLEtBQUtzL0csVUFBVyxHQUd4QlUsa0JBQ0ksT0FBS2hnSCxLQUFLdy9HLGlCQUlIeC9HLEtBQUt3L0csaUJBQWlCVSxXQUFXN29HLEtBQUsxRSxJQUNsQyxDQUNIOU0sT0FBUThNLEVBQUU5TSxPQUdWczZHLGlCQUFrQnh0RyxFQUFFd3RHLGlCQUNwQjFqRixLQUFNOXBCLEVBQUU4cEIsU0FUTCxHQWFmMmpGLFlBQVlyK0YsRUFBSThMLEVBQVNveUYsR0FDckIsSUFBSUgsR0FBYSxFQUNianlGLEdBQVdBLEVBQVUsSUFDckJpeUYsRUFBWTN6RyxZQUFXLEtBQ25Cbk0sS0FBS3UvRyxXQUFhdi9HLEtBQUt1L0csV0FBV3QvRixRQUFROEIsR0FBT0EsRUFBRys5RixZQUFjQSxJQUNsRS85RixFQUFHL2hCLEtBQUtzL0csU0FBVXQvRyxLQUFLZ2dILHFCQUN4Qm55RixJQUVQN3RCLEtBQUt1L0csV0FBV3IzRyxLQUFLLENBQUU2M0csT0FBUWgrRixFQUFJKzlGLFVBQVdBLEVBQVdHLFNBQVVBLElBY3ZFSSxXQUFXTixFQUFRbHlGLEVBQVNveUYsR0FDeEIsR0FBSUEsSUFBYWpnSCxLQUFLdy9HLGlCQUNsQixNQUFNLElBQUkvNUYsTUFBTSw4SEFJcEJ6bEIsS0FBS29nSCxZQUFZTCxFQUFRbHlGLEVBQVNveUYsR0FDbENqZ0gsS0FBSzIvRyx1QkFNVFcseUJBQ0ksT0FBT3RnSCxLQUFLby9HLGNBUWhCbUIsY0FBY0MsRUFBT25wRixFQUFVb3BGLEdBRTNCLE1BQU8sSUFHZnZCLEdBQVksS0FBTyxTQUE2QnZzRyxHQUFLLE9BQU8sSUFBS0EsR0FBS3VzRyxJQUFhLEdBQVN4RCxNQUM1RndELEdBQVksTUFBc0IsRUFBbUIsQ0FBRXQrRSxNQUFPcytFLEdBQWExL0csUUFBUzAvRyxHQUFZLFFBRXRFLG9CQUFkdDRFLFdBQTZCQSxZQUFjNGhFLEdBQWlCMFcsR0FBYSxDQUFDLENBQzFFcmpGLEtBQU0rQyxNQUNOLFdBQWMsTUFBTyxDQUFDLENBQUUvQyxLQUFNNi9FLE9BQWMsTUFNeEQsTUFBTWdGLEdBQ0Y1L0csY0FFSWQsS0FBSzJnSCxjQUFnQixJQUFJOStGLElBQ3pCKytGLEdBQW1CQyxZQUFZN2dILE1BT25DOGdILG9CQUFvQmxnRixFQUFPbWdGLEdBQ3ZCL2dILEtBQUsyZ0gsY0FBY3ArRixJQUFJcWUsRUFBT21nRixHQU1sQ0Msc0JBQXNCcGdGLEdBQ2xCNWdDLEtBQUsyZ0gsY0FBYy85RixPQUFPZ2UsR0FLOUJxZ0YsNEJBQ0lqaEgsS0FBSzJnSCxjQUFjNWhHLFFBTXZCbWlHLGVBQWVDLEdBQ1gsT0FBT25oSCxLQUFLMmdILGNBQWN0K0csSUFBSTgrRyxJQUFTLEtBSzNDQyxzQkFDSSxPQUFPOWdILE1BQU1zTSxLQUFLNU0sS0FBSzJnSCxjQUFjdHdHLFVBS3pDZ3hHLHFCQUNJLE9BQU8vZ0gsTUFBTXNNLEtBQUs1TSxLQUFLMmdILGNBQWMxdkcsUUFRekNxd0csc0JBQXNCSCxFQUFNSSxHQUFrQixHQUMxQyxPQUFPWCxHQUFtQlUsc0JBQXNCdGhILEtBQU1taEgsRUFBTUksSUFvQnBFLFNBQVNDLEdBQXFCeDNELEdBQzFCNDJELEdBQXFCNTJELEVBbEJ6QjAyRCxHQUFvQixLQUFPLFNBQXFDL3RHLEdBQUssT0FBTyxJQUFLQSxHQUFLK3RHLEtBQ3RGQSxHQUFvQixNQUFzQixFQUFtQixDQUFFOS9FLE1BQU84L0UsR0FBcUJsaEgsUUFBU2toSCxHQUFvQixRQUU5RixvQkFBZDk1RSxXQUE2QkEsWUFBYzRoRSxHQUFpQmtZLEdBQXFCLENBQUMsQ0FDbEY3a0YsS0FBTStDLE1BQ04sV0FBYyxNQUFPLEtBQU8sTUFleEMsSUFTSTZpRixHQVRBYixHQUFxQixJQWJ6QixNQUNJQyxZQUFZN3RDLElBQ1pzdUMsc0JBQXNCdHVDLEVBQVVtdUMsRUFBTUksR0FDbEMsT0FBTyxPQW9CZixTQUFTRyxHQUF1Qm4yRCxFQUFVNWhDLEVBQVNpZ0YsR0FDL0NoakUsV0FqOXZCSixTQUE0QlcsRUFBUTVHLEVBQU0seUVBQ2pDK1AsR0FBZW5KLElBQ2hCcmpDLEVBQVd5OEIsR0ErOHZCRmdoRixDQUFtQi9YLEdBQ2hDLE1BQU1nWSxFQUFnQixJQUFJalksR0FBZ0JDLEdBRTFDLEdBQXlCLG9CQUFkaVksWUFBOEJBLFVBQ3JDLE9BQU94NkcsUUFBUVgsUUFBUWs3RyxHQUUzQixNQUFNRSxFQUFrQnYyRCxFQUFTbHBELElBQUlpNUcsR0FBa0IsSUFBSWxxRyxPQUFPdVksR0FRbEUsR0F0cEVKLFNBQXVCQSxHQUNuQixHQUFtQixPQUFma3BGLEdBQXFCLENBQ3JCLEdBQUlscEYsRUFBUTZzRix1QkFBeUIzRCxHQUFXMkQscUJBRzVDLFlBRkE1dkUsV0FDSWhRLFFBQVE1MEIsTUFBTSx1RkFHdEIsR0FBSTJuQixFQUFRNHNGLHNCQUF3QjFELEdBQVcwRCxvQkFHM0MsWUFGQTN2RSxXQUNJaFEsUUFBUTUwQixNQUFNLHNGQUkxQjZ3RyxHQUFhbHBGLEVBcW9FYm80RixDQUFjLENBQ1Z2TCxxQkFBc0J3TCxHQUFhRixFQUFnQnpxRyxLQUFJeXhCLEdBQVFBLEVBQUswdEUsd0JBQ3BFRCxvQkFBcUJ5TCxHQUFhRixFQUFnQnpxRyxLQUFJeXhCLEdBQVFBLEVBQUt5dEUseUJBcHVvQnRCLElBQTFDbHBELEdBQWlDanNCLEtBdXVvQnBDLE9BQU8vNUIsUUFBUVgsUUFBUWs3RyxHQUUzQixNQUFNSyxFQThvQlYsU0FBc0I5b0MsR0FDbEIsTUFBTW4xRSxFQUFTLEdBRWYsT0FEQW0xRSxFQUFNNXlFLFNBQVMrNkYsR0FBU0EsR0FBUXQ5RixFQUFPa0UsUUFBUW81RixLQUN4Q3Q5RixFQWpwQm1CaytHLENBQWFKLEVBQWdCenFHLEtBQUlsTyxHQUFLQSxFQUFFbzBCLGFBS2xFLEdBQWlDLElBQTdCMGtGLEVBQWtCajdHLE9BQ2xCLE9BQU9LLFFBQVFYLFFBQVFrN0csR0FFM0IsTUFBTXA5QixFQUFXaCtCLEdBQWtCLENBQy9CRSxNQUFPLEVBQ1B0akQsS0FBTSxXQUNOeTRCLEtBQU0rdEUsSUFHSnVZLEVBRG1COW1DLEdBQVN0NkUsT0FBTyxDQUFFdzhCLFVBQVcwa0YsSUFDZDUvRyxJQUFJbWlGLEVBQVM0OUIsZ0JBR3JELE9BQU92MUQsSUFBMEJLLEdBQU83bEQsUUFBUVgsUUFBUXk3RyxFQUFlOS9HLElBQUk2cUQsTUFDdEU1NkMsTUFBSyxJQUFNc3ZHLElBS3BCLFNBQVNqYSxHQUFnQjBhLEdBQ3JCLE9BQU9BLEVBQUcxYSxnQkFFZCxNQUFNMmEsR0FBMkIsSUFBSTM4RCxHQUFlLHNCQU1wRCxNQUFNNDhELEdBQ0Z6aEgsWUFBWXN0QixFQUFNd1MsR0FDZDVnQyxLQUFLb3VCLEtBQU9BLEVBQ1pwdUIsS0FBSzRnQyxNQUFRQSxHQVNyQixTQUFTNGhGLEdBQWVqM0QsR0FDcEIsR0FBSWsyRCxLQUFjQSxHQUFVNTRDLFlBQ3ZCNDRDLEdBQVVsMkQsU0FBU2xwRCxJQUFJaWdILElBQTBCLEdBQVEsQ0FDMUQsTUFBTTM3RSxFQUFxQyxvQkFBZEMsV0FBNkJBLFVBQ3RELGdGQUNBLEdBQ0osTUFBTSxJQUFJTCxFQUFhLElBQThCSSxHQTdCekRDLFdBQWF1MkMsS0FnQ2Jza0MsR0FBWWwyRCxFQUFTbHBELElBQUlvZ0gsSUFDekIsTUFBTUMsRUFBUW4zRCxFQUFTbHBELElBQUk0M0csR0FBc0IsTUFHakQsT0FGSXlJLEdBQ0FBLEVBQU1uOEcsU0FBU2tRLEdBQVNBLE1BQ3JCZ3JHLEdBYVgsU0FBU2tCLEdBQXNCQyxFQUF1QngwRixFQUFNbVAsRUFBWSxJQUNwRSxNQUFNc2xGLEVBQU8sYUFBYXowRixJQUNwQmt3QixFQUFTLElBQUlxSCxHQUFlazlELEdBQ2xDLE1BQU8sQ0FBQ0MsRUFBaUIsTUFDckIsSUFBSUMsRUFBV0MsS0FDZixJQUFLRCxHQUFZQSxFQUFTeDNELFNBQVNscEQsSUFBSWlnSCxJQUEwQixHQUM3RCxHQUFJTSxFQUNBQSxFQUFzQnJsRixFQUFVbnNCLE9BQU8weEcsR0FBZ0IxeEcsT0FBTyxDQUFFKzVDLFFBQVM3TSxFQUFROE0sVUFBVSxTQUUxRixDQUNELE1BQU02M0QsRUFBb0IxbEYsRUFBVW5zQixPQUFPMHhHLEdBQWdCMXhHLE9BQU8sQ0FBRSs1QyxRQUFTN00sRUFBUThNLFVBQVUsR0FBUSxDQUNuR0QsUUFBU21zQixHQUNUbHNCLFNBQVUsYUFFZG8zRCxHQUFlbm5DLEdBQVN0NkUsT0FBTyxDQUFFdzhCLFVBQVcwbEYsRUFBbUI3MEYsS0FBTXkwRixLQUc3RSxPQUFPSyxHQUFlNWtFLElBUTlCLFNBQVM0a0UsR0FBZUMsR0FDcEIsTUFBTUosRUFBV0MsS0FDakIsSUFBS0QsRUFBVSxDQUNYLE1BQU1wOEUsRUFBcUMsb0JBQWRDLFdBQTZCQSxVQUFhLHNCQUF3QixHQUMvRixNQUFNLElBQUlMLEVBQWEsSUFBOEJJLEdBRXpELElBQTBCLG9CQUFkQyxXQUE2QkEsYUFDcENtOEUsRUFBU3gzRCxTQUFTbHBELElBQUk4Z0gsRUFBZSxNQUN0QyxNQUFNLElBQUk1OEUsRUFBYSxJQUE4Qix3RkFFekQsT0FBT3c4RSxFQVFYLFNBQVNLLEtBQ0QzQixLQUFjQSxHQUFVNTRDLFdBQ3hCNDRDLEdBQVV4aUQsVUFRbEIsU0FBUytqRCxLQUNMLE9BQU92QixLQUFjQSxHQUFVNTRDLFVBQVk0NEMsR0FBWSxLQVczRCxNQUFNZ0IsR0FFRjNoSCxZQUFZdWlILEdBQ1JyakgsS0FBS3FqSCxVQUFZQSxFQUNqQnJqSCxLQUFLc2pILFNBQVcsR0FDaEJ0akgsS0FBS3VqSCxrQkFBb0IsR0FDekJ2akgsS0FBS200RSxZQUFhLEVBUXRCcXJDLHVCQUF1QjVCLEVBQWVqNEYsR0FLbEMsTUFHTTg1RixFQXNIZCxTQUFtQkMsRUFBY0MsR0FDN0IsSUFBSUYsRUFXSixPQVRJQSxFQURpQixTQUFqQkMsRUFDUyxJQUFJekUsSUFHYyxZQUFqQnlFLE9BQTZCbi9HLEVBQVltL0csSUFBaUIsSUFBSWhJLEdBQU8sQ0FDM0VDLHFCQUEyQyxvQkFBZC8wRSxhQUFzQ0EsVUFDbkVnMUUsc0NBQXVDK0gsTUFBQUEsT0FBcUMsRUFBU0EsRUFBTUMsdUJBQzNGL0gsb0NBQXFDOEgsTUFBQUEsT0FBcUMsRUFBU0EsRUFBTUUsdUJBRzFGSixFQWxJWUssQ0FITW42RixFQUFVQSxFQUFRODVGLFlBQVNsL0csRUFHVCxDQUFFcS9HLHNCQUZWajZGLEdBQVdBLEVBQVFpNkYsd0JBQTBCLEVBRVpDLG9CQURuQ2w2RixHQUFXQSxFQUFRazZGLHNCQUF3QixJQUVsRXRtRixFQUFZLENBQUMsQ0FBRTR0QixRQUFTdXdELEdBQVF0d0QsU0FBVXE0RCxJQUtoRCxPQUFPQSxFQUFPN0UsS0FBSSxLQUNkLE1BQU1tRixFQUFpQjFvQyxHQUFTdDZFLE9BQU8sQ0FBRXc4QixVQUFXQSxFQUFXcHZCLE9BQVFuTyxLQUFLdXJELFNBQVVuOUIsS0FBTXd6RixFQUFjaFksV0FBV3g3RSxPQUMvRzQxRixFQUFZcEMsRUFBYzdnSCxPQUFPZ2pILEdBQ2pDRSxFQUFtQkQsRUFBVXo0RCxTQUFTbHBELElBQUkwMkQsR0FBYyxNQUM5RCxJQUFLa3JELEVBQWtCLENBQ25CLE1BQU10OUUsRUFBcUMsb0JBQWRDLFdBQTZCQSxVQUN0RCxnRUFDQSxHQUNKLE1BQU0sSUFBSUwsRUFBYSxJQUFtQ0ksR0FhOUQsT0FYQTg4RSxFQUFPaEYsbUJBQWtCLEtBQ3JCLE1BQU0vN0csRUFBZStnSCxFQUFPM3JHLFFBQVFyUyxVQUFVLENBQzFDeEQsS0FBT0QsSUFDSGlpSCxFQUFpQmppRyxZQUFZaGdCLE1BR3JDZ2lILEVBQVU5eUUsV0FBVSxLQUNoQnpqQyxHQUFPek4sS0FBS3NqSCxTQUFVVSxHQUN0QnRoSCxFQUFha0Usb0JBNEdqQyxTQUFzQ2xELEVBQWMrL0csRUFBUXhpRyxHQUN4RCxJQUNJLE1BQU1qZCxFQUFTaWQsSUFDZixPQUFJM0wsR0FBVXRSLEdBQ0hBLEVBQU9pUixPQUFPekksSUFHakIsTUFGQWkzRyxFQUFPaEYsbUJBQWtCLElBQU0vNkcsRUFBYXNlLFlBQVl4VixLQUVsREEsS0FHUHhJLEVBRVgsTUFBT3dJLEdBR0gsTUFGQWkzRyxFQUFPaEYsbUJBQWtCLElBQU0vNkcsRUFBYXNlLFlBQVl4VixLQUVsREEsR0F4SEswM0csQ0FBNkJELEVBQWtCUixHQUFRLEtBQzFELE1BQU1VLEVBQWFILEVBQVV6NEQsU0FBU2xwRCxJQUFJKzJHLElBRTFDLE9BREErSyxFQUFXMUssa0JBQ0owSyxFQUFXNUssWUFBWWpuRyxNQUFLLEtBRy9CZ2tGLEdBRGlCMHRCLEVBQVV6NEQsU0FBU2xwRCxJQUFJaTRHLEdBQVdya0IsS0FDM0JBLElBQ3hCajJGLEtBQUtva0gsbUJBQW1CSixHQUNqQkEsV0FxQnZCSyxnQkFBZ0J6YSxFQUFZa1ksRUFBa0IsSUFDMUMsTUFBTW40RixFQUFVMjZGLEdBQWUsR0FBSXhDLEdBQ25DLE9BQU9KLEdBQXVCMWhILEtBQUt1ckQsU0FBVTVoQyxFQUFTaWdGLEdBQ2pEdDNGLE1BQUtzdkcsR0FBaUI1aEgsS0FBS3dqSCx1QkFBdUI1QixFQUFlajRGLEtBRTFFeTZGLG1CQUFtQkosR0FDZixNQUFNaGQsRUFBU2dkLEVBQVV6NEQsU0FBU2xwRCxJQUFJa2lILElBQ3RDLEdBQUlQLEVBQVUxYSxxQkFBcUJ0aUcsT0FBUyxFQUN4Q2c5RyxFQUFVMWEscUJBQXFCL2lHLFNBQVFrTSxHQUFLdTBGLEVBQU8zMkQsVUFBVTU5QixTQUU1RCxLQUFJdXhHLEVBQVUvdUYsU0FBU3V2RixjQUd2QixDQUNELE1BQU03OUUsRUFBcUMsb0JBQWRDLFdBQTZCQSxVQUN0RCxjQUFjOVAsRUFBVWt0RixFQUFVL3VGLFNBQVNuMEIsb0pBRzNDLEdBQ0osTUFBTSxJQUFJeWxDLEVBQWEsSUFBMENJLEdBUmpFcTlFLEVBQVUvdUYsU0FBU3V2RixjQUFjeGQsR0FVckNobkcsS0FBS3NqSCxTQUFTcDdHLEtBQUs4N0csR0FLdkI5eUUsVUFBVWp3QixHQUNOamhCLEtBQUt1akgsa0JBQWtCcjdHLEtBQUsrWSxHQU01QnNxQyxlQUNBLE9BQU92ckQsS0FBS3FqSCxVQU1oQnBrRCxVQUNJLEdBQUlqL0QsS0FBS200RSxXQUFZLENBQ2pCLE1BQU14eEMsRUFBcUMsb0JBQWRDLFdBQTZCQSxVQUN0RCwyQ0FDQSxHQUNKLE1BQU0sSUFBSUwsRUFBYSxJQUFzQ0ksR0FFakUzbUMsS0FBS3NqSCxTQUFTLzZHLFFBQVFoQyxTQUFRN0csR0FBVUEsRUFBT3UvRCxZQUMvQ2ovRCxLQUFLdWpILGtCQUFrQmg5RyxTQUFRcTRELEdBQVlBLE1BQzNDNStELEtBQUttNEUsWUFBYSxFQUVsQnRQLGdCQUNBLE9BQU83b0UsS0FBS200RSxZQTBDcEIsU0FBU21zQyxHQUFlN2xFLEVBQUttcUMsR0FPekIsT0FOSXRvRixNQUFNZ04sUUFBUXM3RSxHQUNSQSxFQUFLM3JFLE9BQU9xbkcsR0FBZ0I3bEUsR0FHNUJ0K0MsT0FBTzZsRCxPQUFPN2xELE9BQU82bEQsT0FBTyxHQUFJdkgsR0FBTW1xQyxHQTVDcEQ2NUIsR0FBWSxLQUFPLFNBQTZCOXZHLEdBQUssT0FBTyxJQUFLQSxHQUFLOHZHLElBQWEsR0FBU3BuQyxNQUM1Rm9uQyxHQUFZLE1BQXNCLEVBQW1CLENBQUU3aEYsTUFBTzZoRixHQUFhampILFFBQVNpakgsR0FBWSxRQUV0RSxvQkFBZDc3RSxXQUE2QkEsWUFBYzRoRSxHQUFpQmlhLEdBQWEsQ0FBQyxDQUMxRTVtRixLQUFNK0MsTUFDTixXQUFjLE1BQU8sQ0FBQyxDQUFFL0MsS0FBTXcvQyxPQUFnQixNQXdJMUQsTUFBTWtwQyxHQUVGempILFlBQVkyakgsRUFBT3BCLEVBQVdxQixFQUFtQkMsRUFBMkJDLEdBQ3hFNWtILEtBQUt5a0gsTUFBUUEsRUFDYnprSCxLQUFLcWpILFVBQVlBLEVBQ2pCcmpILEtBQUswa0gsa0JBQW9CQSxFQUN6QjFrSCxLQUFLMmtILDBCQUE0QkEsRUFDakMza0gsS0FBSzRrSCxZQUFjQSxFQUVuQjVrSCxLQUFLNmtILG9CQUFzQixHQUMzQjdrSCxLQUFLOGtILE9BQVMsR0FDZDlrSCxLQUFLK2tILGNBQWUsRUFDcEIva0gsS0FBS2dsSCxTQUFVLEVBS2ZobEgsS0FBS2lsSCxlQUFpQixHQUl0QmpsSCxLQUFLdzRELFdBQWEsR0FDbEJ4NEQsS0FBS2tsSCw4QkFBZ0NsbEgsS0FBS3lrSCxNQUFNdkksaUJBQWlCejJHLFVBQVUsQ0FDdkV4RCxLQUFNLEtBQ0ZqQyxLQUFLeWtILE1BQU03RixLQUFJLEtBQ1g1K0csS0FBS21sSCxhQUlqQixNQUFNQyxFQUFvQixJQUFJLEVBQUFsZ0gsWUFBWTNCLElBQ3RDdkQsS0FBS2dsSCxRQUFVaGxILEtBQUt5a0gsTUFBTXpJLFdBQWFoOEcsS0FBS3lrSCxNQUFNM0ksdUJBQzdDOTdHLEtBQUt5a0gsTUFBTTFJLHFCQUNoQi83RyxLQUFLeWtILE1BQU1oRyxtQkFBa0IsS0FDekJsN0csRUFBU3RCLEtBQUtqQyxLQUFLZ2xILFNBQ25CemhILEVBQVNyQixpQkFHWDg1RyxFQUFXLElBQUksRUFBQTkyRyxZQUFZM0IsSUFHN0IsSUFBSThoSCxFQUNKcmxILEtBQUt5a0gsTUFBTWhHLG1CQUFrQixLQUN6QjRHLEVBQVlybEgsS0FBS3lrSCxNQUFNdEksU0FBUzEyRyxXQUFVLEtBQ3RDaTJHLEdBQU9nRSx5QkFHUGxFLElBQWtCLEtBQ1R4N0csS0FBS2dsSCxTQUFZaGxILEtBQUt5a0gsTUFBTTNJLHNCQUM1Qjk3RyxLQUFLeWtILE1BQU0xSSx1QkFDWi83RyxLQUFLZ2xILFNBQVUsRUFDZnpoSCxFQUFTdEIsTUFBSyxhQUs5QixNQUFNcWpILEVBQWN0bEgsS0FBS3lrSCxNQUFNeEksV0FBV3gyRyxXQUFVLEtBQ2hEaTJHLEdBQU82SixzQkFDSHZsSCxLQUFLZ2xILFVBQ0xobEgsS0FBS2dsSCxTQUFVLEVBQ2ZobEgsS0FBS3lrSCxNQUFNaEcsbUJBQWtCLEtBQ3pCbDdHLEVBQVN0QixNQUFLLFVBSTFCLE1BQU8sS0FDSG9qSCxFQUFVeitHLGNBQ1YwK0csRUFBWTErRyxrQkFHcEI1RyxLQUFLZzhHLFVBQ0QsSUFBQTM0RixPQUFRK2hHLEVBQW1CcEosRUFBU24xRyxNQUFLLFlBdUNqRHdwQyxVQUFVbTFFLEVBQW9CM2QsR0FDMUIsSUFBSzduRyxLQUFLNGtILFlBQVlwN0csS0FBTSxDQUN4QixNQUFNbTlCLEVBQXFDLG9CQUFkQyxXQUE2QkEsVUFDdEQsZ0pBRUEsR0FDSixNQUFNLElBQUlMLEVBQWEsSUFBNENJLEdBRXZFLElBQUkwbkUsRUFFQUEsRUFEQW1YLGFBQThCamhCLEdBQ1hpaEIsRUFJZnhsSCxLQUFLMmtILDBCQUEwQmxnQix3QkFBd0IrZ0IsR0FFL0R4bEgsS0FBS2lsSCxlQUFlLzhHLEtBQUttbUcsRUFBaUI3d0IsZUFFMUMsTUFBTS9ELEVBQVdrdUIsR0FBZ0IwRyxRQUFvQjlwRyxFQUFZdkUsS0FBS3FqSCxVQUFVaGhILElBQUlxbUcsSUFDOUUrYyxFQUFpQjVkLEdBQXNCd0csRUFBaUJoekYsU0FDeERxcUcsRUFBVXJYLEVBQWlCdHRHLE9BQU9zNkUsR0FBU1UsS0FBTSxHQUFJMHBDLEVBQWdCaHNDLEdBQ3JFcXJCLEVBQWdCNGdCLEVBQVFsNkUsU0FBU3M1RCxjQUNqQ2ljLEVBQWMyRSxFQUFRbjZELFNBQVNscEQsSUFBSTY4RyxHQUFhLE1BQ2hEeUcsRUFBc0I1RSxHQUFlMkUsRUFBUW42RCxTQUFTbHBELElBQUlxK0csSUFnQmhFLE9BZklLLEdBQWU0RSxHQUNmQSxFQUFvQjdFLG9CQUFvQmhjLEVBQWVpYyxHQUUzRDJFLEVBQVF4MEUsV0FBVSxLQUNkbHhDLEtBQUt1OUQsV0FBV21vRCxFQUFRcnZFLFVBQ3hCNW9DLEdBQU96TixLQUFLdzRELFdBQVlrdEQsR0FDcEJDLEdBQ0FBLEVBQW9CM0Usc0JBQXNCbGMsTUFHbEQ5a0csS0FBSzRsSCxlQUFlRixJQUNLLG9CQUFkOStFLFdBQTZCQSxZQUNuQjVtQyxLQUFLcWpILFVBQVVoaEgsSUFBSWc0RyxJQUMzQnhqRixJQUFJLDRGQUVWNnVGLEVBWVhQLE9BQ0ksR0FBSW5sSCxLQUFLK2tILGFBQWMsQ0FDbkIsTUFBTXArRSxFQUFxQyxvQkFBZEMsV0FBNkJBLFVBQ3RELDRDQUNBLEdBQ0osTUFBTSxJQUFJTCxFQUFhLElBQTBDSSxHQUVyRSxJQUNJM21DLEtBQUsra0gsY0FBZSxFQUNwQixJQUFLLElBQUk3dUUsS0FBUWwyQyxLQUFLOGtILE9BQ2xCNXVFLEVBQUs0Z0MsZ0JBRVQsR0FBeUIsb0JBQWRsd0MsV0FBNkJBLFVBQ3BDLElBQUssSUFBSXNQLEtBQVFsMkMsS0FBSzhrSCxPQUNsQjV1RSxFQUFLeXdELGlCQUlqQixNQUFPbjZGLEdBRUh4TSxLQUFLeWtILE1BQU1oRyxtQkFBa0IsSUFBTXorRyxLQUFLMGtILGtCQUFrQjFpRyxZQUFZeFYsS0FFMUUsUUFDSXhNLEtBQUsra0gsY0FBZSxHQVE1QmMsV0FBVy9YLEdBQ1AsTUFBTTUzRCxFQUFPNDNELEVBQ2I5dEcsS0FBSzhrSCxPQUFPNThHLEtBQUtndUMsR0FDakJBLEVBQUs2d0QsZUFBZS9tRyxNQUt4QnU5RCxXQUFXdXdDLEdBQ1AsTUFBTTUzRCxFQUFPNDNELEVBQ2JyZ0csR0FBT3pOLEtBQUs4a0gsT0FBUTV1RSxHQUNwQkEsRUFBSzR3RCxtQkFFVDhlLGVBQWVyWCxHQUNYdnVHLEtBQUs2bEgsV0FBV3RYLEVBQWFsNEQsVUFDN0JyMkMsS0FBS21sSCxPQUNMbmxILEtBQUt3NEQsV0FBV3R3RCxLQUFLcW1HLEdBRUh2dUcsS0FBS3FqSCxVQUFVaGhILElBQUk4M0csR0FBd0IsSUFBSS9vRyxPQUFPcFIsS0FBSzZrSCxxQkFDbkV0K0csU0FBU3E0RCxHQUFhQSxFQUFTMnZDLEtBRzdDcDlELGNBQ0lueEMsS0FBSzhrSCxPQUFPdjhHLFFBQVFoQyxTQUFTMnZDLEdBQVNBLEVBQUsrb0IsWUFDM0NqL0QsS0FBS2tsSCw4QkFBOEJ0K0csY0FLbkNrL0csZ0JBQ0EsT0FBTzlsSCxLQUFLOGtILE9BQU85OUcsUUFVM0IsU0FBU3lHLEdBQU8wc0IsRUFBTTYzQixHQUNsQixNQUFNNXpDLEVBQVErYixFQUFLckYsUUFBUWs5QixHQUN2QjV6QyxHQUFTLEdBQ1QrYixFQUFLenhCLE9BQU8wVixFQUFPLEdBRzNCLFNBQVM0akcsR0FBYXB4RyxHQUNsQixJQUFLLElBQUlwSSxFQUFJb0ksRUFBSzVKLE9BQVMsRUFBR3dCLEdBQUssRUFBR0EsSUFDbEMsUUFBZ0JqRSxJQUFacU0sRUFBS3BJLEdBQ0wsT0FBT29JLEVBQUtwSSxHQWhCeEIrN0csR0FBZSxLQUFPLFNBQWdDNXhHLEdBQUssT0FBTyxJQUFLQSxHQUFLNHhHLElBQWdCLEdBQVM3SSxJQUFTLEdBQVNyZ0MsSUFBVyxHQUFTdGlCLElBQWUsR0FBUzRyQyxJQUE2QixHQUFTeVUsTUFDek1tTCxHQUFlLE1BQXNCLEVBQW1CLENBQUUzakYsTUFBTzJqRixHQUFnQi9rSCxRQUFTK2tILEdBQWUsUUFFL0Usb0JBQWQzOUUsV0FBNkJBLFlBQWM0aEUsR0FBaUIrYixHQUFnQixDQUFDLENBQzdFMW9GLEtBQU0rQyxNQUNOLFdBQWMsTUFBTyxDQUFDLENBQUUvQyxLQUFNNi9FLElBQVUsQ0FBRTcvRSxLQUFNdy9DLElBQVksQ0FBRXgvQyxLQUFNazlCLElBQWdCLENBQUVsOUIsS0FBTThvRSxJQUE4QixDQUFFOW9FLEtBQU11OUUsT0FBNkIsTUFtQzNLLElBQUkyTSxJQUFXLEVBQ1hDLElBQWlCLEVBU3JCLFNBQVNDLEtBRUwsT0FEQUQsSUFBaUIsRUFDVkQsR0FZWCxTQUFTRyxLQUNMLEdBQUlGLEdBQ0EsTUFBTSxJQUFJdmdHLE1BQU0sdURBSUtsaEIsV0FBZHFpQyxXQUE2QkEsYUFDcEN5RSxHQUFtQixXQUFJLEdBRTNCMDZFLElBQVcsRUFpQ2YsU0FBU0ksR0FBaUJ2ekYsR0FDdEIsTUFBTWlKLEVBQU9xdEUsR0FBMEJ0MkUsR0FDdkMsSUFBS2lKLEVBQ0QsTUFBTXVxRixHQUFjeHpGLEdBQ3hCLE9BQU8sSUFBSSsyRSxHQUFnQjl0RSxHQVEvQixTQUFTd3FGLEdBQWdCenpGLEdBQ3JCLE1BQU1pSixFQUFPcXRFLEdBQTBCdDJFLEdBQ3ZDLElBQUtpSixFQUNELE1BQU11cUYsR0FBY3h6RixHQUN4QixPQUFPaUosRUFFWCxTQUFTdXFGLEdBQWN4ekYsR0FDbkIsT0FBTyxJQUFJbk4sTUFBTSxxQkFBcUJtTixZQXVEMUMsTUFBTTB6RixJQVFOLFNBQVNDLEdBQXdCcDhFLEdBQzdCLE9BVUosU0FBdUJ5QixFQUFPbUcsRUFBT3kwRSxHQUNqQyxHQUFJNzBFLEdBQWdCL0YsS0FBVzQ2RSxFQUFRLENBR25DLE1BQU01eEMsRUFBZ0J6K0IsR0FBeUJ2SyxFQUFNeHRCLE1BQU8yekIsR0FDNUQsT0FBTyxJQUFJbTBELEdBQVV0eEIsRUFBZUEsR0FFbkMsR0FBaUIsR0FBYmhwQyxFQUFNL1AsS0FBa0UsQ0FHN0UsTUFBTTRxRixFQUFvQjEwRSxFQUFNdVAsSUFDaEMsT0FBTyxJQUFJNGtELEdBQVV1Z0IsRUFBbUIxMEUsR0FFNUMsT0FBTyxLQXZCQTIwRSxDQUFjanZFLEtBQW1CSixLQUEyQyxLQUF0QixHQUFSbE4sSUFIekRtOEUsR0FBa0IxNEUsa0JBQW9CMjRFLEdBMkN0QyxNQUFNSSxXQUFnQkwsSUF1RHRCLE1BQU1NLFdBQXdCRCxJQStCOUIsTUFBTUUsR0FDRi9sSCxZQUFZc3RCLEVBQU1uTixHQUNkamhCLEtBQUtvdUIsS0FBT0EsRUFDWnB1QixLQUFLaWhCLFNBQVdBLEdBTXhCLFNBQVM2bEcsR0FBaUJDLEdBQ3RCLE9BQU9BLEVBQVMxdkcsS0FBSzI2QyxHQUFPQSxFQUFHOHlDLGdCQUtuQyxNQUFNa2lCLEdBQ0ZsbUgsWUFBWW1tSCxHQUNSam5ILEtBQUtpbkgsV0FBYUEsRUFLbEI5NEcsYUFDQSxNQUFNQSxFQUFTbk8sS0FBS2luSCxXQUFXdHlELFdBQy9CLE9BQU94bUQsRUFBUyxJQUFJKzRHLEdBQWEvNEcsR0FBVSxLQUszQ285QyxlQUNBLE9BQU91d0IsR0FBWTk3RSxLQUFLaW5ILFlBS3hCNXVELHdCQUNBLE1BQU15c0MsRUFBZ0I5a0csS0FBS2luSCxXQUMzQixPQUFPbmlCLElBQ0Z2cEIsR0FBZXVwQixJQUFrQm5wQixHQUFtQm1wQixJQVV6RDN2RSxjQUNBLE9BQU9vbUQsR0FBZXY3RSxLQUFLaW5ILGFBQWV2ckMsR0FBVzE3RSxLQUFLaW5ILFlBTTFEeHFDLGdCQUNBLE9BQU9GLEdBQWF2OEUsS0FBS2luSCxZQUFZaG5HLFFBQU8yK0MsR0FBOEIsUUFBbEJBLEVBQVMvaUMsT0FNakVzckYsaUJBQ0EsT0E3bmRSLFNBQXNCemhGLEdBQ2xCLE1BQU12USxFQUFVK2hDLEdBQVl4eEIsR0FDNUIsT0FBZ0IsT0FBWnZRLEVBQ08sU0FDZTV3QixJQUF0QjR3QixFQUFRZ2pDLFlBQ1JoakMsRUFBUWdqQyxVQXIwS2hCLFNBQTJCcG1CLEVBQU9xRSxHQUM5QixNQUFNeEssRUFBUW1HLEVBem9LSixHQXlvS2lCdFYsS0FBSzJaLEdBQ2hDLEdBQUl4SyxHQUFTQSxFQUFNMmdDLFdBQVksQ0FDM0IsTUFBTXZvRSxFQUFTLEdBQ2YsSUFBSWtzRSxFQUFhdGtDLEVBQU14dEIsTUFBUSxFQUMvQixJQUFLLElBQUk1VixFQUFJLEVBQUdBLEVBQUlvakMsRUFBTTJnQyxXQUFXdmxFLE9BQVF3QixHQUFLLEVBQzlDeEUsRUFBTzRuQyxFQUFNMmdDLFdBQVcvakUsSUFBTXVwQyxFQUFNbStCLEdBQ3BDQSxJQUVKLE9BQU9sc0UsRUFFWCxPQUFPLEtBMHpLaUJvakgsQ0FBa0JqeUYsRUFBUTRjLE1BQU81YyxFQUFRaWhCLFlBRTFEamhCLEVBQVFnakMsV0FBYSxJQXNuZGpCa3ZELENBQWFybkgsS0FBS2luSCxZQU16QksscUJBQ0EsT0FwdmRSLFNBQTRCM2xHLEdBQ3hCLE1BQU13VCxFQUFVK2hDLEdBQVl2MUMsR0FDNUIsR0FBZ0IsT0FBWndULEVBQ0EsTUFBTyxHQUNYLE1BQ00wVyxFQURRMVcsRUFBUTRjLE1BNTFVWixHQTgxVUpuRyxFQUFRQyxFQUFNcFAsS0FBS3RILEVBQVFpaEIsV0FDM0JreEUsRUFBaUIsR0FDakIvcUUsRUFBcUMsUUFBeEIzUSxFQUFNdVcsZ0JBQ25CSyxFQUFXNVcsRUFBTXVQLGFBQ3ZCLElBQUssSUFBSTN5QyxFQUFJK3pDLEVBQVkvekMsRUFBSWc2QyxFQUFVaDZDLElBQUssQ0FDeEMsSUFBSXZILEVBQVE0cUMsRUFBTXBQLEtBQUtqMEIsUUFxTlBqRSxLQURJK1AsRUFuTkdyVCxHQW9OaEI0NkIsV0FBdUN0M0IsSUFBakIrUCxFQUFJODVCLGVBQWlEN3BDLElBQXZCK1AsRUFBSXk1QixpQkEvTTNEOXNDLEVBQVFBLEVBQU00NkIsTUFFbEJ5ckYsRUFBZXAvRyxLQUFLakgsR0E0TTVCLElBQTRCcVQsRUExTXhCLE9BQU9nekcsRUErdGRJQyxDQUFtQnZuSCxLQUFLaW5ILGFBVXZDLE1BQU1DLFdBQXFCRixHQUN2QmxtSCxZQUFZbW1ILEdBQ1JyZ0YsV0FBYTJCLEVBQWMwK0UsR0FDM0J6Z0YsTUFBTXlnRixHQUtObmlCLG9CQUNBLE9BQU85a0csS0FBS2luSCxXQUFXNTBELFVBQVk1cEIsS0FBSzZwQixhQUFldHlELEtBQUtpbkgsV0FBYSxLQUt6RTc0RixXQUNBLE1BQU0rRyxFQUFVK2hDLEdBQVlsM0QsS0FBS2luSCxZQUNqQyxPQUFnQixPQUFaOXhGLEVBQ2NBLEVBQVE0YyxNQXZteUJwQixHQXdteUJ5QnRWLEtBQ1B0SCxFQUFRaWhCLFdBQ2ZuMUMsTUFHTmpCLEtBQUtpbkgsV0FBV3B5RCxTQWUzQnJ2QyxpQkFDQSxNQUFNMlAsRUFBVStoQyxHQUFZbDNELEtBQUtpbkgsWUFDakMsR0FBZ0IsT0FBWjl4RixFQUNBLE1BQU8sR0FFWCxNQUFNNGMsRUFBUTVjLEVBQVE0YyxNQUNoQm1ILEVBQVFuSCxFQWxveUJSLEdBa295QnFCdFYsS0FDckJtUCxFQUFRc04sRUFBTS9qQixFQUFRaWhCLFdBQ3RCNXdCLEVBQWEsR0FNbkIsT0FxTFIsU0FBMkI3RCxFQUFTNkQsR0FDaEMsR0FBSTdELEVBQVMsQ0FFVCxJQUFJck4sRUFBTW5VLE9BQU9zMEIsZUFBZTlTLEdBQ2hDLE1BQU02bEcsRUFBZ0IvK0UsS0FBS2pvQyxVQUMzQixLQUFlLE9BQVI4VCxHQUFnQkEsSUFBUWt6RyxHQUFlLENBQzFDLE1BQU1DLEVBQWN0bkgsT0FBT3VuSCwwQkFBMEJwekcsR0FDckQsSUFBSyxJQUFJdUssS0FBTzRvRyxFQUNaLElBQUs1b0csRUFBSXl6RCxXQUFXLFFBQVV6ekQsRUFBSXl6RCxXQUFXLE1BQU8sQ0FJaEQsTUFBTXJ4RSxFQUFRMGdCLEVBQVE5QyxHQUNsQjhvRyxHQUFpQjFtSCxLQUNqQnVrQixFQUFXM0csR0FBTzVkLEdBSTlCcVQsRUFBTW5VLE9BQU9zMEIsZUFBZW5nQixLQTNNaENzekcsQ0FBa0I1bkgsS0FBSzhrRyxjQUFldC9FLEdBb1k5QyxTQUFpQ0EsRUFBWW9tQixFQUFPbUcsRUFBT21ILEdBQ3ZELElBQUkydUUsRUFBaUJqOEUsRUFBTXlnQyxpQkFDM0IsR0FBdUIsT0FBbkJ3N0MsRUFDQSxJQUFLLElBQUlyL0csRUFBSSxFQUFHQSxFQUFJcS9HLEVBQWU3Z0gsT0FBUXdCLElBQUssQ0FDNUMsTUFBTSt2QyxFQUFlc3ZFLEVBQWVyL0csR0FFOUJzL0csRUFEZTV1RSxFQUFNWCxHQUNRM2YsTUFBTW1oQyxJQUNuQ3FjLEVBQWUweEMsRUFBYyxHQUNuQyxHQUFJQSxFQUFjOWdILE9BQVMsRUFBRyxDQUMxQixJQUFJL0YsRUFBUTZtSCxFQUFjLEdBQzFCLElBQUssSUFBSWg3RyxFQUFJLEVBQUdBLEVBQUlnN0csRUFBYzlnSCxPQUFTLEVBQUc4RixJQUMxQzdMLEdBQVM0bEMsRUFBZ0JrTCxFQUFNd0csRUFBZXpyQyxFQUFJLElBQU1nN0csRUFBY2g3RyxFQUFJLEdBRTlFMFksRUFBVzR3RCxHQUFnQm4xRSxPQUczQnVrQixFQUFXNHdELEdBQWdCcmtDLEVBQU13RyxJQWpaekN3dkUsQ0FBd0J2aUcsRUFBWW9tQixFQUFPbUcsRUFBT21ILEdBQzNDMXpCLEVBS1Awc0MsaUJBQ0EsTUFBTUEsRUFBYSxHQUNidndDLEVBQVUzaEIsS0FBSzhrRyxjQUNyQixJQUFLbmpGLEVBQ0QsT0FBT3V3QyxFQUVYLE1BQU0vOEIsRUFBVStoQyxHQUFZdjFDLEdBQzVCLEdBQWdCLE9BQVp3VCxFQUNBLE1BQU8sR0FFWCxNQUNNeStDLEVBRFF6K0MsRUFBUTRjLE1BenB5QmhCLEdBMHB5QjBCdFYsS0FBS3RILEVBQVFpaEIsV0FBV3dILE1BQ2xEb3FFLEVBQXNCLEdBUTVCLEdBQUlwMEMsRUFBWSxDQUNaLElBQUlwckUsRUFBSSxFQUNSLEtBQU9BLEVBQUlvckUsRUFBVzVzRSxRQUFRLENBQzFCLE1BQU0rMkMsRUFBVzYxQixFQUFXcHJFLEdBRzVCLEdBQXdCLGlCQUFidTFDLEVBQ1AsTUFDSixNQUFNc21CLEVBQVl1UCxFQUFXcHJFLEVBQUksR0FDakMwcEQsRUFBV25VLEdBQVlzbUIsRUFDdkIyakQsRUFBb0I5L0csS0FBSzYxQyxFQUFTbmlCLGVBQ2xDcHpCLEdBQUssR0FHYixNQUFNeS9HLEVBQVN0bUcsRUFBUXV3QyxXQUN2QixJQUFLLElBQUkxcEQsRUFBSSxFQUFHQSxFQUFJeS9HLEVBQU9qaEgsT0FBUXdCLElBQUssQ0FDcEMsTUFBTWk3RCxFQUFPd2tELEVBQU96L0csR0FDZDAvRyxFQUFnQnprRCxFQUFLcjFDLEtBQUt3TixlQUdvQixJQUFoRG9zRixFQUFvQmx6RixRQUFRb3pGLEtBRzVCaDJELEVBQVdnMkQsR0FBaUJ6a0QsRUFBS3hpRSxPQUd6QyxPQUFPaXhELEVBU1A1aUIsYUFDQSxPQUFJdHZDLEtBQUs4a0csZUFBaUI5a0csS0FBSzhrRyxjQUFjbDNDLE1BQ2xDNXRELEtBQUs4a0csY0FBY2wzQyxNQUV2QixHQVlQaEssY0FDQSxNQUFNNS9DLEVBQVMsR0FHVGcrRCxFQUZVaGlFLEtBQUs4a0csY0FFSzlpQyxVQUcxQixPQUZxQyxpQkFBZEEsRUFBeUJBLEVBQVVtbUQsUUFBUXZ2RixNQUFNLEtBQU9vcEMsRUFBVXBwQyxNQUFNLE1BQ3ZGcnlCLFNBQVN0RixHQUFVK0MsRUFBTy9DLElBQVMsSUFDcEMrQyxFQU9Qb2tILGlCQUNBLE1BQU1BLEVBQWFwb0gsS0FBS2luSCxXQUFXbUIsV0FDN0J2K0MsRUFBVyxHQUNqQixJQUFLLElBQUlyaEUsRUFBSSxFQUFHQSxFQUFJNC9HLEVBQVdwaEgsT0FBUXdCLElBQUssQ0FDeEMsTUFBTW1aLEVBQVV5bUcsRUFBVzUvRyxHQUMzQnFoRSxFQUFTM2hFLEtBQUttZ0gsR0FBYTFtRyxJQUUvQixPQUFPa29ELEVBS1BBLGVBQ0EsTUFBTWk3QixFQUFnQjlrRyxLQUFLOGtHLGNBQzNCLElBQUtBLEVBQ0QsTUFBTyxHQUNYLE1BQU1zakIsRUFBYXRqQixFQUFjajdCLFNBQzNCQSxFQUFXLEdBQ2pCLElBQUssSUFBSXJoRSxFQUFJLEVBQUdBLEVBQUk0L0csRUFBV3BoSCxPQUFRd0IsSUFBSyxDQUN4QyxNQUFNbVosRUFBVXltRyxFQUFXNS9HLEdBQzNCcWhFLEVBQVMzaEUsS0FBS21nSCxHQUFhMW1HLElBRS9CLE9BQU9rb0QsRUFLWHkrQyxNQUFNdHJHLEdBRUYsT0FEZ0JoZCxLQUFLdW9ILFNBQVN2ckcsR0FDZixJQUFNLEtBS3pCdXJHLFNBQVN2ckcsR0FDTCxNQUFNaTJELEVBQVUsR0FFaEIsT0FEQXUxQyxHQUFVeG9ILEtBQU1nZCxFQUFXaTJELEdBQVMsR0FDN0JBLEVBS1h3MUMsY0FBY3pyRyxHQUNWLE1BQU1pMkQsRUFBVSxHQUVoQixPQURBdTFDLEdBQVV4b0gsS0FBTWdkLEVBQVdpMkQsR0FBUyxHQUM3QkEsRUFjWHkxQyxvQkFBb0J6OUIsRUFBVzA5QixHQUMzQixNQUFNbmdGLEVBQU94b0MsS0FBS2luSCxXQUNaMkIsRUFBbUIsR0FDekI1b0gsS0FBS3k4RSxVQUFVbDJFLFNBQVFxNEQsSUFDbkIsR0FBSUEsRUFBU3h3QyxPQUFTNjhELEVBQVcsQ0FDN0IsTUFBTWhxRSxFQUFXMjlDLEVBQVMzOUMsU0FDMUJBLEVBQVN2Z0IsS0FBSzhuQyxFQUFNbWdGLEdBQ3BCQyxFQUFpQjFnSCxLQUFLK1ksT0FLSyxtQkFBeEJ1bkIsRUFBS3FnRixnQkFJWnJnRixFQUFLcWdGLGVBQWU1OUIsR0FBVzFrRixTQUFTcTRELElBT3BDLElBQXFELElBQWpEQSxFQUFTcnFDLFdBQVdPLFFBQVEsZ0JBQXdCLENBQ3BELE1BQU1nMEYsRUFBb0JscUQsRUFBUyxnQkFDbkMsT0FBd0QsSUFBakRncUQsRUFBaUI5ekYsUUFBUWcwRixJQUM1QkEsRUFBa0Jwb0gsS0FBSzhuQyxFQUFNbWdGLFFBNEJyRCxTQUFTaEIsR0FBaUIxbUgsR0FDdEIsTUFBd0IsaUJBQVZBLEdBQXVDLGtCQUFWQSxHQUF3QyxpQkFBVkEsR0FDM0QsT0FBVkEsRUFFUixTQUFTdW5ILEdBQVVPLEVBQWUvckcsRUFBV2kyRCxFQUFTKzFDLEdBQ2xELE1BQU03ekYsRUFBVStoQyxHQUFZNnhELEVBQWM5QixZQUMxQixPQUFaOXhGLEVBRUE4ekYsR0FEb0I5ekYsRUFBUTRjLE1BNTF5QnRCLEdBNDF5Qm1DdFYsS0FBS3RILEVBQVFpaEIsV0FDdEJqaEIsRUFBUTRjLE1BQU8vMEIsRUFBV2kyRCxFQUFTKzFDLEVBQWNELEVBQWM5QixZQUsvRmlDLEdBQTRCSCxFQUFjOUIsV0FBWWpxRyxFQUFXaTJELEVBQVMrMUMsR0FhbEYsU0FBU0MsR0FBbUJyOUUsRUFBT21HLEVBQU8vMEIsRUFBV2kyRCxFQUFTKzFDLEVBQWNHLEdBQ3hFdmlGLFdBQWFrTCxHQUFvQmxHLEVBQU9tRyxHQUN4QyxNQUFNazFFLEVBOXp4QlYsU0FBZ0NyN0UsRUFBT21HLEdBQ25DLE1BQU0zekIsRUFBa0IsT0FBVnd0QixHQUFrQixFQUFJQSxFQUFNeHRCLE1BQzFDLElBQWUsSUFBWEEsRUFBYyxDQUNkd29CLFdBQWFrTCxHQUFvQmxHLEVBQU9tRyxHQUN4QyxNQUFNdkosRUFBT29OLEdBQVk3RCxFQUFNM3pCLElBRS9CLE9BREF3b0IsV0FBc0IsT0FBVDRCLElBQWtCOE0sR0FBcUJ2RCxFQUFNZ0UsTUFBY3hOLEVBQWNDLEdBQy9FQSxFQUVYLE9BQU8sS0FzenhCWTRnRixDQUF1Qng5RSxFQUFPbUcsR0FFakQsR0FBaUIsR0FBYm5HLEVBQU0vUCxLQUFzRCxDQUk1RCxHQURBd3RGLEdBQWVwQyxFQUFZanFHLEVBQVdpMkQsRUFBUysxQyxFQUFjRyxHQUN6RHgzRSxHQUFnQi9GLEdBQVEsQ0FHeEIsTUFBTWdwQyxFQUFnQnorQixHQUF5QnZLLEVBQU14dEIsTUFBTzJ6QixHQUN4RDZpQyxHQUFpQkEsRUEzM3lCbkIsR0EyM3lCd0N2NkIsWUFDdEM0dUUsR0FBbUJyMEMsRUE1M3lCckIsR0E0M3lCMEN2NkIsV0FBWXU2QixFQUFlNTNELEVBQVdpMkQsRUFBUysxQyxFQUFjRyxRQUlyR3Y5RSxFQUFNNE8sT0FFTnl1RSxHQUFtQnI5RSxFQUFNNE8sTUFBT3pJLEVBQU8vMEIsRUFBV2kyRCxFQUFTKzFDLEVBQWNHLEdBVTdFbEMsR0FBY2lDLEdBQTRCakMsRUFBWWpxRyxFQUFXaTJELEVBQVMrMUMsR0FJOUUsTUFBTU0sRUFBa0J2M0UsRUFBTW5HLEVBQU14dEIsT0FDaENxekIsR0FBYTYzRSxJQUNiQyxHQUE4QkQsRUFBaUJ0c0csRUFBV2kyRCxFQUFTKzFDLEVBQWNHLFFBR3BGLEdBQWlCLEVBQWJ2OUUsRUFBTS9QLEtBQTBCLENBR3JDLE1BQU1nYixFQUFhOUUsRUFBTW5HLEVBQU14dEIsT0FDL0JpckcsR0FBZXh5RSxFQWw3eUJSLEdBazd5QjRCNzVCLEVBQVdpMkQsRUFBUysxQyxFQUFjRyxHQUVyRUksR0FBOEIxeUUsRUFBWTc1QixFQUFXaTJELEVBQVMrMUMsRUFBY0csUUFFM0UsR0FBaUIsR0FBYnY5RSxFQUFNL1AsS0FBNEIsQ0FHdkMsTUFBTSs0QyxFQUFnQjdpQyxFQUFNdVAsSUFFdEJrb0UsRUFEZ0I1MEMsRUE1NXlCZixHQTY1eUJvQmhVLFdBQVdoMUIsRUFBTWcxQixZQUM1QyxHQUFJdGdFLE1BQU1nTixRQUFRazhHLEdBQ2QsSUFBSyxJQUFJdkMsS0FBY3VDLEVBQ25CSCxHQUFlcEMsRUFBWWpxRyxFQUFXaTJELEVBQVMrMUMsRUFBY0csUUFHaEUsR0FBSUssRUFBTSxDQUNYLE1BQU1DLEVBQVk3MEMsRUF2NnlCZixHQXk2eUJIcTBDLEdBRGtCUSxFQTE2eUJoQixHQTA2eUJpQ2h0RixLQUFLK3NGLEVBQUtwckcsT0FDZnFyRyxFQUFXenNHLEVBQVdpMkQsRUFBUysxQyxFQUFjRyxTQUcxRXY5RSxFQUFNNE8sT0FFWHl1RSxHQUFtQnI5RSxFQUFNNE8sTUFBT3pJLEVBQU8vMEIsRUFBV2kyRCxFQUFTKzFDLEVBQWNHLEdBRzdFLEdBQUlBLElBQW1CbEMsRUFBWSxDQUcvQixNQUFNeUMsRUFBMkIsRUFBZDk5RSxFQUFNekIsTUFBK0J5QixFQUFNNDFCLGVBQWlCNTFCLEVBQU0zcEMsS0FDakZ5bkgsR0FDQVQsR0FBbUJTLEVBQVczM0UsRUFBTy8wQixFQUFXaTJELEVBQVMrMUMsRUFBY0csSUFhbkYsU0FBU0ksR0FBOEIxeUUsRUFBWTc1QixFQUFXaTJELEVBQVMrMUMsRUFBY0csR0FDakYsSUFBSyxJQUFJM2dILEVBQUk2b0MsR0FBeUI3b0MsRUFBSXF1QyxFQUFXN3ZDLE9BQVF3QixJQUFLLENBQzlELE1BQU1taEgsRUFBWTl5RSxFQUFXcnVDLEdBQ3ZCNnhDLEVBQWFzdkUsRUF4OHlCYixHQXc4eUI4QnR2RSxXQUNoQ0EsR0FDQTR1RSxHQUFtQjV1RSxFQUFZc3ZFLEVBQVczc0csRUFBV2kyRCxFQUFTKzFDLEVBQWNHLElBYXhGLFNBQVNFLEdBQWVwQyxFQUFZanFHLEVBQVdpMkQsRUFBUysxQyxFQUFjRyxHQUNsRSxHQUFJQSxJQUFtQmxDLEVBQVksQ0FDL0IsTUFBTTJDLEVBQVl2QixHQUFhcEIsR0FDL0IsSUFBSzJDLEVBQ0QsUUFLQVosR0FBaUJZLGFBQXFCMUMsSUFBaUJscUcsRUFBVTRzRyxLQUNqQyxJQUFoQzMyQyxFQUFRbitDLFFBQVE4MEYsS0FHVlosR0FBZ0Joc0csRUFBVTRzRyxLQUNBLElBQWhDMzJDLEVBQVFuK0MsUUFBUTgwRixLQUhoQjMyQyxFQUFRL3FFLEtBQUswaEgsSUFnQnpCLFNBQVNWLEdBQTRCdjBELEVBQVkzM0MsRUFBV2kyRCxFQUFTKzFDLEdBQ2pFLE1BQU1oZ0QsRUFBUXJVLEVBQVd5ekQsV0FDbkJwaEgsRUFBU2dpRSxFQUFNaGlFLE9BQ3JCLElBQUssSUFBSXdCLEVBQUksRUFBR0EsRUFBSXhCLEVBQVF3QixJQUFLLENBQzdCLE1BQU1nZ0MsRUFBT3dnQyxFQUFNeGdFLEdBQ2JvaEgsRUFBWXZCLEdBQWE3L0UsR0FDM0JvaEYsS0FDSVosR0FBaUJZLGFBQXFCMUMsSUFBaUJscUcsRUFBVTRzRyxLQUNqQyxJQUFoQzMyQyxFQUFRbitDLFFBQVE4MEYsS0FHVlosR0FBZ0Joc0csRUFBVTRzRyxLQUNBLElBQWhDMzJDLEVBQVFuK0MsUUFBUTgwRixLQUhoQjMyQyxFQUFRL3FFLEtBQUswaEgsR0FNakJWLEdBQTRCMWdGLEVBQU14ckIsRUFBV2kyRCxFQUFTKzFDLEtBK0JuQyxJQUFJbm5HLElBS25DLFNBQVN3bUcsR0FBYXBCLEdBQ2xCLE9BQUlBLGFBQXNCeCtFLE1BQ2hCdytFLEVBQVd4bUgsZUFOQyxrQkFPZHdtSCxFQUE0QixhQUFJQSxFQUFXNTBELFVBQVk1cEIsS0FBSzZwQixhQUN4RCxJQUFJNDBELEdBQWFELEdBQ2pCLElBQUlELEdBQVVDLElBRWZBLEVBQTRCLGNBRWhDLEtBR1gsU0FBUzRDLEdBQWVDLEdBQ3BCLE9BQU8sS0FtQlgsTUFBTUMsR0FDRmpwSCxlQUNBa3BILFNBQVMxMUcsR0FDTCxPQUFPNnJFLEdBQW1CN3JFLEdBRTlCdlQsT0FBT2twSCxHQUNILE9BQU8sSUFBSUMsR0FBc0JELElBR3pDLE1BQU1FLEdBQWtCLENBQUMvckcsRUFBT3lXLElBQVNBLEVBS3pDLE1BQU1xMUYsR0FDRnBwSCxZQUFZbXBILEdBQ1JqcUgsS0FBS2dILE9BQVMsRUFFZGhILEtBQUtvcUgsZUFBaUIsS0FFdEJwcUgsS0FBS3FxSCxpQkFBbUIsS0FDeEJycUgsS0FBS3NxSCxnQkFBa0IsS0FDdkJ0cUgsS0FBS3VxSCxRQUFVLEtBQ2Z2cUgsS0FBS3dxSCxRQUFVLEtBQ2Z4cUgsS0FBS3lxSCxlQUFpQixLQUN0QnpxSCxLQUFLMHFILGVBQWlCLEtBQ3RCMXFILEtBQUsycUgsV0FBYSxLQUNsQjNxSCxLQUFLNHFILFdBQWEsS0FDbEI1cUgsS0FBSzZxSCxjQUFnQixLQUNyQjdxSCxLQUFLOHFILGNBQWdCLEtBRXJCOXFILEtBQUsrcUgscUJBQXVCLEtBQzVCL3FILEtBQUtnckgscUJBQXVCLEtBQzVCaHJILEtBQUtpckgsV0FBYWhCLEdBQWFFLEdBRW5DZSxZQUFZMy9HLEdBQ1IsSUFBSTZPLEVBQ0osSUFBS0EsRUFBU3BhLEtBQUt1cUgsUUFBb0IsT0FBWG53RyxFQUFpQkEsRUFBU0EsRUFBT25QLE1BQ3pETSxFQUFHNk8sR0FHWCt3RyxpQkFBaUI1L0csR0FDYixJQUFJNi9HLEVBQVNwckgsS0FBS3VxSCxRQUNkYyxFQUFhcnJILEtBQUs2cUgsY0FDbEJTLEVBQWtCLEVBQ2xCQyxFQUFjLEtBQ2xCLEtBQU9ILEdBQVVDLEdBQVksQ0FHekIsTUFBTWp4RyxHQUFVaXhHLEdBQ1pELEdBQ0lBLEVBQU9JLGFBQ0hDLEdBQWlCSixFQUFZQyxFQUFpQkMsR0FDdERILEVBQ0FDLEVBQ0VLLEVBQW1CRCxHQUFpQnJ4RyxFQUFRa3hHLEVBQWlCQyxHQUM3REMsRUFBZXB4RyxFQUFPb3hHLGFBRTVCLEdBQUlweEcsSUFBV2l4RyxFQUNYQyxJQUNBRCxFQUFhQSxFQUFXTSxrQkFJeEIsR0FEQVAsRUFBU0EsRUFBT25nSCxNQUNZLE1BQXhCbVAsRUFBT3d4RyxjQUNQTixRQUVDLENBRUlDLElBQ0RBLEVBQWMsSUFDbEIsTUFBTU0sRUFBeUJILEVBQW1CSixFQUM1Q1EsRUFBb0JOLEVBQWVGLEVBQ3pDLEdBQUlPLEdBQTBCQyxFQUFtQixDQUM3QyxJQUFLLElBQUl0akgsRUFBSSxFQUFHQSxFQUFJcWpILEVBQXdCcmpILElBQUssQ0FDN0MsTUFBTXVqSCxFQUFTdmpILEVBQUkraUgsRUFBWXZrSCxPQUFTdWtILEVBQVkvaUgsR0FBTStpSCxFQUFZL2lILEdBQUssRUFDckU0VixFQUFRMnRHLEVBQVN2akgsRUFDbkJzakgsR0FBcUIxdEcsR0FBU0EsRUFBUXl0RyxJQUN0Q04sRUFBWS9pSCxHQUFLdWpILEVBQVMsR0FJbENSLEVBRHNCbnhHLEVBQU93eEcsZUFDQUUsRUFBb0JELEdBSXpESCxJQUFxQkYsR0FDckJqZ0gsRUFBRzZPLEVBQVFzeEcsRUFBa0JGLElBSXpDUSxvQkFBb0J6Z0gsR0FDaEIsSUFBSTZPLEVBQ0osSUFBS0EsRUFBU3BhLEtBQUtzcUgsZ0JBQTRCLE9BQVhsd0csRUFBaUJBLEVBQVNBLEVBQU82eEcsY0FDakUxZ0gsRUFBRzZPLEdBR1g4eEcsaUJBQWlCM2dILEdBQ2IsSUFBSTZPLEVBQ0osSUFBS0EsRUFBU3BhLEtBQUt5cUgsZUFBMkIsT0FBWHJ3RyxFQUFpQkEsRUFBU0EsRUFBTyt4RyxXQUNoRTVnSCxFQUFHNk8sR0FHWGd5RyxpQkFBaUI3Z0gsR0FDYixJQUFJNk8sRUFDSixJQUFLQSxFQUFTcGEsS0FBSzJxSCxXQUF1QixPQUFYdndHLEVBQWlCQSxFQUFTQSxFQUFPaXlHLFdBQzVEOWdILEVBQUc2TyxHQUdYa3lHLG1CQUFtQi9nSCxHQUNmLElBQUk2TyxFQUNKLElBQUtBLEVBQVNwYSxLQUFLNnFILGNBQTBCLE9BQVh6d0csRUFBaUJBLEVBQVNBLEVBQU91eEcsYUFDL0RwZ0gsRUFBRzZPLEdBR1hteUcsc0JBQXNCaGhILEdBQ2xCLElBQUk2TyxFQUNKLElBQUtBLEVBQVNwYSxLQUFLK3FILHFCQUFpQyxPQUFYM3dHLEVBQWlCQSxFQUFTQSxFQUFPb3lHLG9CQUN0RWpoSCxFQUFHNk8sR0FHWHdnQixLQUFLNnhGLEdBR0QsR0FGa0IsTUFBZEEsSUFDQUEsRUFBYSxLQUNadHNDLEdBQW1Cc3NDLEdBQWEsQ0FDakMsTUFBTTlsRixFQUFxQyxvQkFBZEMsV0FBNkJBLFVBQ3RELHlCQUF5QjlQLEVBQVUyMUYsNkNBQ25DLEdBQ0osTUFBTSxJQUFJbG1GLEVBQWEsSUFBZ0NJLEdBRTNELE9BQUkzbUMsS0FBSzBzSCxNQUFNRCxHQUNKenNILEtBR0EsS0FHZmt4QyxhQUNBdzdFLE1BQU1ELEdBQ0Z6c0gsS0FBSzJzSCxTQUNMLElBRUl2dUcsRUFDQXlXLEVBQ0ErM0YsRUFKQXh5RyxFQUFTcGEsS0FBS3VxSCxRQUNkc0MsR0FBYSxFQUlqQixHQUFJdnNILE1BQU1nTixRQUFRbS9HLEdBQWEsQ0FDM0J6c0gsS0FBS2dILE9BQVN5bEgsRUFBV3psSCxPQUN6QixJQUFLLElBQUlvWCxFQUFRLEVBQUdBLEVBQVFwZSxLQUFLZ0gsT0FBUW9YLElBQ3JDeVcsRUFBTzQzRixFQUFXcnVHLEdBQ2xCd3VHLEVBQWM1c0gsS0FBS2lySCxXQUFXN3NHLEVBQU95VyxHQUN0QixPQUFYemEsR0FBb0JqYSxPQUFPeWdGLEdBQUd4bUUsRUFBTzB5RyxVQUFXRixJQUs1Q0MsSUFFQXp5RyxFQUFTcGEsS0FBSytzSCxtQkFBbUIzeUcsRUFBUXlhLEVBQU0rM0YsRUFBYXh1RyxJQUUzRGplLE9BQU95Z0YsR0FBR3htRSxFQUFPeWEsS0FBTUEsSUFDeEI3MEIsS0FBS2d0SCxtQkFBbUI1eUcsRUFBUXlhLEtBVHBDemEsRUFBU3BhLEtBQUtpdEgsVUFBVTd5RyxFQUFReWEsRUFBTSszRixFQUFheHVHLEdBQ25EeXVHLEdBQWEsR0FVakJ6eUcsRUFBU0EsRUFBT25QLFdBSXBCbVQsRUFBUSxFQS9pZHBCLFNBQXlCOUosRUFBSy9JLEdBQzFCLEdBQUlqTCxNQUFNZ04sUUFBUWdILEdBQ2QsSUFBSyxJQUFJOUwsRUFBSSxFQUFHQSxFQUFJOEwsRUFBSXROLE9BQVF3QixJQUM1QitDLEVBQUcrSSxFQUFJOUwsUUFHVixDQUNELE1BQU1jLEVBQVdnTCxFQUFJZ2dCLFFBQ3JCLElBQUlPLEVBQ0osT0FBVUEsRUFBT3ZyQixFQUFTckgsUUFBWSxNQUNsQ3NKLEVBQUdzcEIsRUFBSzV6QixRQXNpZFJpc0gsQ0FBZ0JULEdBQWE1M0YsSUFDekIrM0YsRUFBYzVzSCxLQUFLaXJILFdBQVc3c0csRUFBT3lXLEdBQ3RCLE9BQVh6YSxHQUFvQmphLE9BQU95Z0YsR0FBR3htRSxFQUFPMHlHLFVBQVdGLElBSzVDQyxJQUVBenlHLEVBQVNwYSxLQUFLK3NILG1CQUFtQjN5RyxFQUFReWEsRUFBTSszRixFQUFheHVHLElBRTNEamUsT0FBT3lnRixHQUFHeG1FLEVBQU95YSxLQUFNQSxJQUN4QjcwQixLQUFLZ3RILG1CQUFtQjV5RyxFQUFReWEsS0FUcEN6YSxFQUFTcGEsS0FBS2l0SCxVQUFVN3lHLEVBQVF5YSxFQUFNKzNGLEVBQWF4dUcsR0FDbkR5dUcsR0FBYSxHQVVqQnp5RyxFQUFTQSxFQUFPblAsTUFDaEJtVCxPQUVKcGUsS0FBS2dILE9BQVNvWCxFQUlsQixPQUZBcGUsS0FBS210SCxVQUFVL3lHLEdBQ2ZwYSxLQUFLeXNILFdBQWFBLEVBQ1h6c0gsS0FBS290SCxRQUtaQSxjQUNBLE9BQStCLE9BQXhCcHRILEtBQUt5cUgsZ0JBQStDLE9BQXBCenFILEtBQUsycUgsWUFDakIsT0FBdkIzcUgsS0FBSzZxSCxlQUF3RCxPQUE5QjdxSCxLQUFLK3FILHFCQVU1QzRCLFNBQ0ksR0FBSTNzSCxLQUFLb3RILFFBQVMsQ0FDZCxJQUFJaHpHLEVBQ0osSUFBS0EsRUFBU3BhLEtBQUtzcUgsZ0JBQWtCdHFILEtBQUt1cUgsUUFBb0IsT0FBWG53RyxFQUFpQkEsRUFBU0EsRUFBT25QLE1BQ2hGbVAsRUFBTzZ4RyxjQUFnQjd4RyxFQUFPblAsTUFFbEMsSUFBS21QLEVBQVNwYSxLQUFLeXFILGVBQTJCLE9BQVhyd0csRUFBaUJBLEVBQVNBLEVBQU8reEcsV0FDaEUveEcsRUFBT3d4RyxjQUFnQnh4RyxFQUFPb3hHLGFBR2xDLElBREF4ckgsS0FBS3lxSCxlQUFpQnpxSCxLQUFLMHFILGVBQWlCLEtBQ3ZDdHdHLEVBQVNwYSxLQUFLMnFILFdBQXVCLE9BQVh2d0csRUFBaUJBLEVBQVNBLEVBQU9peUcsV0FDNURqeUcsRUFBT3d4RyxjQUFnQnh4RyxFQUFPb3hHLGFBRWxDeHJILEtBQUsycUgsV0FBYTNxSCxLQUFLNHFILFdBQWEsS0FDcEM1cUgsS0FBSzZxSCxjQUFnQjdxSCxLQUFLOHFILGNBQWdCLEtBQzFDOXFILEtBQUsrcUgscUJBQXVCL3FILEtBQUtnckgscUJBQXVCLE1BZWhFaUMsVUFBVTd5RyxFQUFReWEsRUFBTSszRixFQUFheHVHLEdBRWpDLElBQUlpdkcsRUFtQ0osT0FsQ2UsT0FBWGp6RyxFQUNBaXpHLEVBQWlCcnRILEtBQUt3cUgsU0FHdEI2QyxFQUFpQmp6RyxFQUFPa3pHLE1BRXhCdHRILEtBQUt1dEgsUUFBUW56RyxJQUlGLFFBRGZBLEVBQW1DLE9BQTFCcGEsS0FBS3FxSCxpQkFBNEIsS0FBT3JxSCxLQUFLcXFILGlCQUFpQmhvSCxJQUFJdXFILEVBQWEsUUFJL0V6c0gsT0FBT3lnRixHQUFHeG1FLEVBQU95YSxLQUFNQSxJQUN4QjcwQixLQUFLZ3RILG1CQUFtQjV5RyxFQUFReWEsR0FDcEM3MEIsS0FBS3d0SCxlQUFlcHpHLEVBQVFpekcsRUFBZ0JqdkcsSUFLN0IsUUFEZmhFLEVBQWlDLE9BQXhCcGEsS0FBS29xSCxlQUEwQixLQUFPcHFILEtBQUtvcUgsZUFBZS9uSCxJQUFJdXFILEVBQWF4dUcsS0FLM0VqZSxPQUFPeWdGLEdBQUd4bUUsRUFBT3lhLEtBQU1BLElBQ3hCNzBCLEtBQUtndEgsbUJBQW1CNXlHLEVBQVF5YSxHQUNwQzcwQixLQUFLeXRILFdBQVdyekcsRUFBUWl6RyxFQUFnQmp2RyxJQUl4Q2hFLEVBQ0lwYSxLQUFLMHRILFVBQVUsSUFBSUMsR0FBc0I5NEYsRUFBTSszRixHQUFjUyxFQUFnQmp2RyxHQUdsRmhFLEVBNkJYMnlHLG1CQUFtQjN5RyxFQUFReWEsRUFBTSszRixFQUFheHVHLEdBQzFDLElBQUl3dkcsRUFBMkMsT0FBMUI1dEgsS0FBS3FxSCxpQkFBNEIsS0FBT3JxSCxLQUFLcXFILGlCQUFpQmhvSCxJQUFJdXFILEVBQWEsTUFRcEcsT0FQdUIsT0FBbkJnQixFQUNBeHpHLEVBQVNwYSxLQUFLd3RILGVBQWVJLEVBQWdCeHpHLEVBQU9rekcsTUFBT2x2RyxHQUV0RGhFLEVBQU9veEcsY0FBZ0JwdEcsSUFDNUJoRSxFQUFPb3hHLGFBQWVwdEcsRUFDdEJwZSxLQUFLNnRILFlBQVl6ekcsRUFBUWdFLElBRXRCaEUsRUFTWCt5RyxVQUFVL3lHLEdBRU4sS0FBa0IsT0FBWEEsR0FBaUIsQ0FDcEIsTUFBTTB6RyxFQUFhMXpHLEVBQU9uUCxNQUMxQmpMLEtBQUsrdEgsZUFBZS90SCxLQUFLZ3VILFFBQVE1ekcsSUFDakNBLEVBQVMwekcsRUFFaUIsT0FBMUI5dEgsS0FBS3FxSCxrQkFDTHJxSCxLQUFLcXFILGlCQUFpQnRyRyxRQUVFLE9BQXhCL2UsS0FBSzBxSCxpQkFDTDFxSCxLQUFLMHFILGVBQWV5QixXQUFhLE1BRWIsT0FBcEJuc0gsS0FBSzRxSCxhQUNMNXFILEtBQUs0cUgsV0FBV3lCLFdBQWEsTUFFWixPQUFqQnJzSCxLQUFLd3FILFVBQ0x4cUgsS0FBS3dxSCxRQUFRdi9HLE1BQVEsTUFFRSxPQUF2QmpMLEtBQUs4cUgsZ0JBQ0w5cUgsS0FBSzhxSCxjQUFjYSxhQUFlLE1BRUosT0FBOUIzckgsS0FBS2dySCx1QkFDTGhySCxLQUFLZ3JILHFCQUFxQndCLG9CQUFzQixNQUl4RGdCLGVBQWVwekcsRUFBUTZ6RyxFQUFZN3ZHLEdBQ0QsT0FBMUJwZSxLQUFLcXFILGtCQUNMcnFILEtBQUtxcUgsaUJBQWlCNThHLE9BQU8yTSxHQUVqQyxNQUFNOEssRUFBTzlLLEVBQU84ekcsYUFDZGpzSCxFQUFPbVksRUFBT3V4RyxhQWVwQixPQWRhLE9BQVR6bUcsRUFDQWxsQixLQUFLNnFILGNBQWdCNW9ILEVBR3JCaWpCLEVBQUt5bUcsYUFBZTFwSCxFQUVYLE9BQVRBLEVBQ0FqQyxLQUFLOHFILGNBQWdCNWxHLEVBR3JCampCLEVBQUtpc0gsYUFBZWhwRyxFQUV4QmxsQixLQUFLbXVILGFBQWEvekcsRUFBUTZ6RyxFQUFZN3ZHLEdBQ3RDcGUsS0FBSzZ0SCxZQUFZenpHLEVBQVFnRSxHQUNsQmhFLEVBR1hxekcsV0FBV3J6RyxFQUFRNnpHLEVBQVk3dkcsR0FJM0IsT0FIQXBlLEtBQUtndUgsUUFBUTV6RyxHQUNicGEsS0FBS211SCxhQUFhL3pHLEVBQVE2ekcsRUFBWTd2RyxHQUN0Q3BlLEtBQUs2dEgsWUFBWXp6RyxFQUFRZ0UsR0FDbEJoRSxFQUdYc3pHLFVBQVV0ekcsRUFBUTZ6RyxFQUFZN3ZHLEdBYTFCLE9BWkFwZSxLQUFLbXVILGFBQWEvekcsRUFBUTZ6RyxFQUFZN3ZHLEdBQ1YsT0FBeEJwZSxLQUFLMHFILGVBR0wxcUgsS0FBSzBxSCxlQUFpQjFxSCxLQUFLeXFILGVBQWlCcndHLEVBTTVDcGEsS0FBSzBxSCxlQUFpQjFxSCxLQUFLMHFILGVBQWV5QixXQUFhL3hHLEVBRXBEQSxFQUdYK3pHLGFBQWEvekcsRUFBUTZ6RyxFQUFZN3ZHLEdBSzdCLE1BQU1uYyxFQUFzQixPQUFmZ3NILEVBQXNCanVILEtBQUt1cUgsUUFBVTBELEVBQVdoakgsTUF1QjdELE9BbkJBbVAsRUFBT25QLE1BQVFoSixFQUNmbVksRUFBT2t6RyxNQUFRVyxFQUNGLE9BQVRoc0gsRUFDQWpDLEtBQUt3cUgsUUFBVXB3RyxFQUdmblksRUFBS3FySCxNQUFRbHpHLEVBRUUsT0FBZjZ6RyxFQUNBanVILEtBQUt1cUgsUUFBVW53RyxFQUdmNnpHLEVBQVdoakgsTUFBUW1QLEVBRUssT0FBeEJwYSxLQUFLb3FILGlCQUNMcHFILEtBQUtvcUgsZUFBaUIsSUFBSWdFLElBRTlCcHVILEtBQUtvcUgsZUFBZWlFLElBQUlqMEcsR0FDeEJBLEVBQU9veEcsYUFBZXB0RyxFQUNmaEUsRUFHWG16RyxRQUFRbnpHLEdBQ0osT0FBT3BhLEtBQUsrdEgsZUFBZS90SCxLQUFLZ3VILFFBQVE1ekcsSUFHNUM0ekcsUUFBUTV6RyxHQUN3QixPQUF4QnBhLEtBQUtvcUgsZ0JBQ0xwcUgsS0FBS29xSCxlQUFlMzhHLE9BQU8yTSxHQUUvQixNQUFNOEssRUFBTzlLLEVBQU9rekcsTUFDZHJySCxFQUFPbVksRUFBT25QLE1BZ0JwQixPQVphLE9BQVRpYSxFQUNBbGxCLEtBQUt1cUgsUUFBVXRvSCxFQUdmaWpCLEVBQUtqYSxNQUFRaEosRUFFSixPQUFUQSxFQUNBakMsS0FBS3dxSCxRQUFVdGxHLEVBR2ZqakIsRUFBS3FySCxNQUFRcG9HLEVBRVY5SyxFQUdYeXpHLFlBQVl6ekcsRUFBUWswRyxHQUdoQixPQUFJbDBHLEVBQU93eEcsZ0JBQWtCMEMsSUFHTCxPQUFwQnR1SCxLQUFLNHFILFdBR0w1cUgsS0FBSzRxSCxXQUFhNXFILEtBQUsycUgsV0FBYXZ3RyxFQUtwQ3BhLEtBQUs0cUgsV0FBYTVxSCxLQUFLNHFILFdBQVd5QixXQUFhanlHLEdBVnhDQSxFQWNmMnpHLGVBQWUzekcsR0FvQlgsT0FuQjhCLE9BQTFCcGEsS0FBS3FxSCxtQkFDTHJxSCxLQUFLcXFILGlCQUFtQixJQUFJK0QsSUFFaENwdUgsS0FBS3FxSCxpQkFBaUJnRSxJQUFJajBHLEdBQzFCQSxFQUFPb3hHLGFBQWUsS0FDdEJweEcsRUFBT3V4RyxhQUFlLEtBQ0ssT0FBdkIzckgsS0FBSzhxSCxlQUdMOXFILEtBQUs4cUgsY0FBZ0I5cUgsS0FBSzZxSCxjQUFnQnp3RyxFQUMxQ0EsRUFBTzh6RyxhQUFlLE9BTXRCOXpHLEVBQU84ekcsYUFBZWx1SCxLQUFLOHFILGNBQzNCOXFILEtBQUs4cUgsY0FBZ0I5cUgsS0FBSzhxSCxjQUFjYSxhQUFldnhHLEdBRXBEQSxFQUdYNHlHLG1CQUFtQjV5RyxFQUFReWEsR0FRdkIsT0FQQXphLEVBQU95YSxLQUFPQSxFQUNvQixPQUE5QjcwQixLQUFLZ3JILHFCQUNMaHJILEtBQUtnckgscUJBQXVCaHJILEtBQUsrcUgscUJBQXVCM3dHLEVBR3hEcGEsS0FBS2dySCxxQkFBdUJockgsS0FBS2dySCxxQkFBcUJ3QixvQkFBc0JweUcsRUFFekVBLEdBR2YsTUFBTXV6RyxHQUNGN3NILFlBQVkrekIsRUFBTWk0RixHQUNkOXNILEtBQUs2MEIsS0FBT0EsRUFDWjcwQixLQUFLOHNILFVBQVlBLEVBQ2pCOXNILEtBQUt3ckgsYUFBZSxLQUNwQnhySCxLQUFLNHJILGNBQWdCLEtBRXJCNXJILEtBQUtpc0gsY0FBZ0IsS0FFckJqc0gsS0FBS3N0SCxNQUFRLEtBRWJ0dEgsS0FBS2lMLE1BQVEsS0FFYmpMLEtBQUt1dUgsU0FBVyxLQUVoQnZ1SCxLQUFLd3VILFNBQVcsS0FFaEJ4dUgsS0FBS2t1SCxhQUFlLEtBRXBCbHVILEtBQUsyckgsYUFBZSxLQUVwQjNySCxLQUFLbXNILFdBQWEsS0FFbEJuc0gsS0FBS3FzSCxXQUFhLEtBRWxCcnNILEtBQUt3c0gsb0JBQXNCLE1BSW5DLE1BQU1pQyxHQUNGM3RILGNBRUlkLEtBQUswdUgsTUFBUSxLQUViMXVILEtBQUsydUgsTUFBUSxLQU9qQnZvSCxJQUFJZ1UsR0FDbUIsT0FBZnBhLEtBQUswdUgsT0FDTDF1SCxLQUFLMHVILE1BQVExdUgsS0FBSzJ1SCxNQUFRdjBHLEVBQzFCQSxFQUFPbzBHLFNBQVcsS0FDbEJwMEcsRUFBT20wRyxTQUFXLE9BTWxCdnVILEtBQUsydUgsTUFBTUgsU0FBV3AwRyxFQUN0QkEsRUFBT20wRyxTQUFXdnVILEtBQUsydUgsTUFDdkJ2MEcsRUFBT28wRyxTQUFXLEtBQ2xCeHVILEtBQUsydUgsTUFBUXYwRyxHQUtyQi9YLElBQUl5cUgsRUFBVzhCLEdBQ1gsSUFBSXgwRyxFQUNKLElBQUtBLEVBQVNwYSxLQUFLMHVILE1BQWtCLE9BQVh0MEcsRUFBaUJBLEVBQVNBLEVBQU9vMEcsU0FDdkQsSUFBd0IsT0FBbkJJLEdBQTJCQSxHQUFrQngwRyxFQUFPb3hHLGVBQ3JEcnJILE9BQU95Z0YsR0FBR3htRSxFQUFPMHlHLFVBQVdBLEdBQzVCLE9BQU8xeUcsRUFHZixPQUFPLEtBT1gzTSxPQUFPMk0sR0FTSCxNQUFNOEssRUFBTzlLLEVBQU9tMEcsU0FDZHRzSCxFQUFPbVksRUFBT28wRyxTQWFwQixPQVphLE9BQVR0cEcsRUFDQWxsQixLQUFLMHVILE1BQVF6c0gsRUFHYmlqQixFQUFLc3BHLFNBQVd2c0gsRUFFUCxPQUFUQSxFQUNBakMsS0FBSzJ1SCxNQUFRenBHLEVBR2JqakIsRUFBS3NzSCxTQUFXcnBHLEVBRUUsT0FBZmxsQixLQUFLMHVILE9BR3BCLE1BQU1OLEdBQ0Z0dEgsY0FDSWQsS0FBS3FYLElBQU0sSUFBSXdLLElBRW5Cd3NHLElBQUlqMEcsR0FDQSxNQUFNeUUsRUFBTXpFLEVBQU8weUcsVUFDbkIsSUFBSStCLEVBQWE3dUgsS0FBS3FYLElBQUloVixJQUFJd2MsR0FDekJnd0csSUFDREEsRUFBYSxJQUFJSixHQUNqQnp1SCxLQUFLcVgsSUFBSWtMLElBQUkxRCxFQUFLZ3dHLElBRXRCQSxFQUFXem9ILElBQUlnVSxHQVNuQi9YLElBQUl5cUgsRUFBVzhCLEdBQ1gsTUFBTS92RyxFQUFNaXVHLEVBQ05nQyxFQUFhOXVILEtBQUtxWCxJQUFJaFYsSUFBSXdjLEdBQ2hDLE9BQU9pd0csRUFBYUEsRUFBV3pzSCxJQUFJeXFILEVBQVc4QixHQUFrQixLQU9wRW5oSCxPQUFPMk0sR0FDSCxNQUFNeUUsRUFBTXpFLEVBQU8weUcsVUFNbkIsT0FMbUI5c0gsS0FBS3FYLElBQUloVixJQUFJd2MsR0FFakJwUixPQUFPMk0sSUFDbEJwYSxLQUFLcVgsSUFBSXVMLE9BQU8vRCxHQUViekUsRUFFUHlJLGNBQ0EsT0FBeUIsSUFBbEI3aUIsS0FBS3FYLElBQUkrcEIsS0FFcEJyaUIsUUFDSS9lLEtBQUtxWCxJQUFJMEgsU0FHakIsU0FBUzBzRyxHQUFpQjUyRixFQUFNeTJGLEVBQWlCQyxHQUM3QyxNQUFNSyxFQUFnQi8yRixFQUFLKzJGLGNBQzNCLEdBQXNCLE9BQWxCQSxFQUNBLE9BQU9BLEVBQ1gsSUFBSW1ELEVBQWEsRUFJakIsT0FISXhELEdBQWVLLEVBQWdCTCxFQUFZdmtILFNBQzNDK25ILEVBQWF4RCxFQUFZSyxJQUV0QkEsRUFBZ0JOLEVBQWtCeUQsRUFVN0MsTUFBTUMsR0FDRmx1SCxlQUNBa3BILFNBQVMxMUcsR0FDTCxPQUFPQSxhQUFldU4sS0FBT2cvRCxHQUFXdnNFLEdBRTVDdlQsU0FDSSxPQUFPLElBQUlrdUgsSUFHbkIsTUFBTUEsR0FDRm51SCxjQUNJZCxLQUFLa3ZILFNBQVcsSUFBSXJ0RyxJQUNwQjdoQixLQUFLbXZILFNBQVcsS0FFaEJudkgsS0FBS292SCxhQUFlLEtBQ3BCcHZILEtBQUtxdkgsaUJBQW1CLEtBQ3hCcnZILEtBQUtzdkgsYUFBZSxLQUNwQnR2SCxLQUFLdXZILGFBQWUsS0FDcEJ2dkgsS0FBS3lxSCxlQUFpQixLQUN0QnpxSCxLQUFLMHFILGVBQWlCLEtBQ3RCMXFILEtBQUs2cUgsY0FBZ0IsS0FDckI3cUgsS0FBSzhxSCxjQUFnQixLQUVyQnNDLGNBQ0EsT0FBK0IsT0FBeEJwdEgsS0FBS3lxSCxnQkFBaUQsT0FBdEJ6cUgsS0FBS3N2SCxjQUNqQixPQUF2QnR2SCxLQUFLNnFILGNBRWJLLFlBQVkzL0csR0FDUixJQUFJNk8sRUFDSixJQUFLQSxFQUFTcGEsS0FBS212SCxTQUFxQixPQUFYLzBHLEVBQWlCQSxFQUFTQSxFQUFPblAsTUFDMURNLEVBQUc2TyxHQUdYNHhHLG9CQUFvQnpnSCxHQUNoQixJQUFJNk8sRUFDSixJQUFLQSxFQUFTcGEsS0FBS3F2SCxpQkFBNkIsT0FBWGoxRyxFQUFpQkEsRUFBU0EsRUFBTzZ4RyxjQUNsRTFnSCxFQUFHNk8sR0FHWG8xRyxtQkFBbUJqa0gsR0FDZixJQUFJNk8sRUFDSixJQUFLQSxFQUFTcGEsS0FBS3N2SCxhQUF5QixPQUFYbDFHLEVBQWlCQSxFQUFTQSxFQUFPcTFHLGFBQzlEbGtILEVBQUc2TyxHQUdYOHhHLGlCQUFpQjNnSCxHQUNiLElBQUk2TyxFQUNKLElBQUtBLEVBQVNwYSxLQUFLeXFILGVBQTJCLE9BQVhyd0csRUFBaUJBLEVBQVNBLEVBQU8reEcsV0FDaEU1Z0gsRUFBRzZPLEdBR1hreUcsbUJBQW1CL2dILEdBQ2YsSUFBSTZPLEVBQ0osSUFBS0EsRUFBU3BhLEtBQUs2cUgsY0FBMEIsT0FBWHp3RyxFQUFpQkEsRUFBU0EsRUFBT3V4RyxhQUMvRHBnSCxFQUFHNk8sR0FHWHdnQixLQUFLdmpCLEdBQ0QsR0FBS0EsR0FHQSxLQUFNQSxhQUFld0ssS0FBT2cvRCxHQUFXeHBFLElBQU8sQ0FDL0MsTUFBTXN2QixFQUFxQyxvQkFBZEMsV0FBNkJBLFVBQ3RELHlCQUF5QjlQLEVBQVV6Zix5Q0FDbkMsR0FDSixNQUFNLElBQUlrdkIsRUFBYSxJQUFnQ0ksU0FOdkR0dkIsRUFBTSxJQUFJd0ssSUFRZCxPQUFPN2hCLEtBQUswc0gsTUFBTXIxRyxHQUFPclgsS0FBTyxLQUVwQ2t4QyxhQUtBdzdFLE1BQU1yMUcsR0FDRnJYLEtBQUsyc0gsU0FDTCxJQUFJcnRELEVBQWV0L0QsS0FBS212SCxTQWN4QixHQWJBbnZILEtBQUtvdkgsYUFBZSxLQUNwQnB2SCxLQUFLMHZILFNBQVNyNEcsR0FBSyxDQUFDcFcsRUFBTzRkLEtBQ3ZCLEdBQUl5Z0QsR0FBZ0JBLEVBQWF6Z0QsTUFBUUEsRUFDckM3ZSxLQUFLMnZILG1CQUFtQnJ3RCxFQUFjcitELEdBQ3RDakIsS0FBS292SCxhQUFlOXZELEVBQ3BCQSxFQUFlQSxFQUFhcjBELFVBRTNCLENBQ0QsTUFBTW1QLEVBQVNwYSxLQUFLNHZILHlCQUF5Qi93RyxFQUFLNWQsR0FDbERxK0QsRUFBZXQvRCxLQUFLNnZILHNCQUFzQnZ3RCxFQUFjbGxELE9BSTVEa2xELEVBQWMsQ0FDVkEsRUFBYWd1RCxRQUNiaHVELEVBQWFndUQsTUFBTXJpSCxNQUFRLE1BRS9CakwsS0FBSzZxSCxjQUFnQnZyRCxFQUNyQixJQUFLLElBQUlsbEQsRUFBU2tsRCxFQUF5QixPQUFYbGxELEVBQWlCQSxFQUFTQSxFQUFPdXhHLGFBQ3pEdnhHLElBQVdwYSxLQUFLbXZILFdBQ2hCbnZILEtBQUttdkgsU0FBVyxNQUVwQm52SCxLQUFLa3ZILFNBQVN0c0csT0FBT3hJLEVBQU95RSxLQUM1QnpFLEVBQU91eEcsYUFBZXZ4RyxFQUFPblAsTUFDN0JtUCxFQUFPczVCLGNBQWdCdDVCLEVBQU91NUIsYUFDOUJ2NUIsRUFBT3U1QixhQUFlLEtBQ3RCdjVCLEVBQU9rekcsTUFBUSxLQUNmbHpHLEVBQU9uUCxNQUFRLEtBUXZCLE9BSklqTCxLQUFLdXZILGVBQ0x2dkgsS0FBS3V2SCxhQUFhRSxhQUFlLE1BQ2pDenZILEtBQUswcUgsaUJBQ0wxcUgsS0FBSzBxSCxlQUFleUIsV0FBYSxNQUM5Qm5zSCxLQUFLb3RILFFBVWhCeUMsc0JBQXNCN3BGLEVBQVE1ckIsR0FDMUIsR0FBSTRyQixFQUFRLENBQ1IsTUFBTTlnQixFQUFPOGdCLEVBQU9zbkYsTUFXcEIsT0FWQWx6RyxFQUFPblAsTUFBUSs2QixFQUNmNXJCLEVBQU9rekcsTUFBUXBvRyxFQUNmOGdCLEVBQU9zbkYsTUFBUWx6RyxFQUNYOEssSUFDQUEsRUFBS2phLE1BQVFtUCxHQUViNHJCLElBQVdobUMsS0FBS212SCxXQUNoQm52SCxLQUFLbXZILFNBQVcvMEcsR0FFcEJwYSxLQUFLb3ZILGFBQWVwcEYsRUFDYkEsRUFVWCxPQVJJaG1DLEtBQUtvdkgsY0FDTHB2SCxLQUFLb3ZILGFBQWFua0gsTUFBUW1QLEVBQzFCQSxFQUFPa3pHLE1BQVF0dEgsS0FBS292SCxjQUdwQnB2SCxLQUFLbXZILFNBQVcvMEcsRUFFcEJwYSxLQUFLb3ZILGFBQWVoMUcsRUFDYixLQUVYdzFHLHlCQUF5Qi93RyxFQUFLNWQsR0FDMUIsR0FBSWpCLEtBQUtrdkgsU0FBU3B3RyxJQUFJRCxHQUFNLENBQ3hCLE1BQU16RSxFQUFTcGEsS0FBS2t2SCxTQUFTN3NILElBQUl3YyxHQUNqQzdlLEtBQUsydkgsbUJBQW1CdjFHLEVBQVFuWixHQUNoQyxNQUFNaWtCLEVBQU85SyxFQUFPa3pHLE1BQ2RyckgsRUFBT21ZLEVBQU9uUCxNQVNwQixPQVJJaWEsSUFDQUEsRUFBS2phLE1BQVFoSixHQUViQSxJQUNBQSxFQUFLcXJILE1BQVFwb0csR0FFakI5SyxFQUFPblAsTUFBUSxLQUNmbVAsRUFBT2t6RyxNQUFRLEtBQ1JsekcsRUFFWCxNQUFNQSxFQUFTLElBQUkwMUcsR0FBc0JqeEcsR0FJekMsT0FIQTdlLEtBQUtrdkgsU0FBUzNzRyxJQUFJMUQsRUFBS3pFLEdBQ3ZCQSxFQUFPdTVCLGFBQWUxeUMsRUFDdEJqQixLQUFLK3ZILGdCQUFnQjMxRyxHQUNkQSxFQUdYdXlHLFNBQ0ksR0FBSTNzSCxLQUFLb3RILFFBQVMsQ0FDZCxJQUFJaHpHLEVBR0osSUFEQXBhLEtBQUtxdkgsaUJBQW1CcnZILEtBQUttdkgsU0FDeEIvMEcsRUFBU3BhLEtBQUtxdkgsaUJBQTZCLE9BQVhqMUcsRUFBaUJBLEVBQVNBLEVBQU9uUCxNQUNsRW1QLEVBQU82eEcsY0FBZ0I3eEcsRUFBT25QLE1BSWxDLElBQUttUCxFQUFTcGEsS0FBS3N2SCxhQUF5QixPQUFYbDFHLEVBQWlCQSxFQUFTQSxFQUFPcTFHLGFBQzlEcjFHLEVBQU9zNUIsY0FBZ0J0NUIsRUFBT3U1QixhQUVsQyxJQUFLdjVCLEVBQVNwYSxLQUFLeXFILGVBQTBCLE1BQVZyd0csRUFBZ0JBLEVBQVNBLEVBQU8reEcsV0FDL0QveEcsRUFBT3M1QixjQUFnQnQ1QixFQUFPdTVCLGFBRWxDM3pDLEtBQUtzdkgsYUFBZXR2SCxLQUFLdXZILGFBQWUsS0FDeEN2dkgsS0FBS3lxSCxlQUFpQnpxSCxLQUFLMHFILGVBQWlCLEtBQzVDMXFILEtBQUs2cUgsY0FBZ0IsTUFJN0I4RSxtQkFBbUJ2MUcsRUFBUW9nRCxHQUNsQnI2RCxPQUFPeWdGLEdBQUdwbUIsRUFBVXBnRCxFQUFPdTVCLGdCQUM1QnY1QixFQUFPczVCLGNBQWdCdDVCLEVBQU91NUIsYUFDOUJ2NUIsRUFBT3U1QixhQUFlNm1CLEVBQ3RCeDZELEtBQUtnd0gsY0FBYzUxRyxJQUczQjIxRyxnQkFBZ0IzMUcsR0FDZ0IsT0FBeEJwYSxLQUFLeXFILGVBQ0x6cUgsS0FBS3lxSCxlQUFpQnpxSCxLQUFLMHFILGVBQWlCdHdHLEdBRzVDcGEsS0FBSzBxSCxlQUFleUIsV0FBYS94RyxFQUNqQ3BhLEtBQUswcUgsZUFBaUJ0d0csR0FHOUI0MUcsY0FBYzUxRyxHQUNnQixPQUF0QnBhLEtBQUtzdkgsYUFDTHR2SCxLQUFLc3ZILGFBQWV0dkgsS0FBS3V2SCxhQUFlbjFHLEdBR3hDcGEsS0FBS3V2SCxhQUFhRSxhQUFlcjFHLEVBQ2pDcGEsS0FBS3V2SCxhQUFlbjFHLEdBSTVCczFHLFNBQVNwN0csRUFBSy9JLEdBQ04rSSxhQUFldU4sSUFDZnZOLEVBQUkvTixRQUFRZ0YsR0FHWnBMLE9BQU84USxLQUFLcUQsR0FBSy9OLFNBQVE2K0UsR0FBSzc1RSxFQUFHK0ksRUFBSTh3RSxHQUFJQSxNQUlyRCxNQUFNMHFDLEdBQ0ZodkgsWUFBWStkLEdBQ1I3ZSxLQUFLNmUsSUFBTUEsRUFDWDdlLEtBQUswekMsY0FBZ0IsS0FDckIxekMsS0FBSzJ6QyxhQUFlLEtBRXBCM3pDLEtBQUtpc0gsY0FBZ0IsS0FFckJqc0gsS0FBS2lMLE1BQVEsS0FFYmpMLEtBQUtzdEgsTUFBUSxLQUVidHRILEtBQUttc0gsV0FBYSxLQUVsQm5zSCxLQUFLMnJILGFBQWUsS0FFcEIzckgsS0FBS3l2SCxhQUFlLE1BVzVCLFNBQVNRLEtBQ0wsT0FBTyxJQUFJQyxHQUFnQixDQUFDLElBQUluRyxLQU9wQyxNQUFNbUcsR0FDRnB2SCxZQUFZb3BFLEdBQ1JscUUsS0FBS2txRSxVQUFZQSxFQUVyQm9SLGNBQWNwUixFQUFXLzdELEdBQ3JCLEdBQWMsTUFBVkEsRUFBZ0IsQ0FDaEIsTUFBTWdpSCxFQUFTaGlILEVBQU8rN0QsVUFBVTNoRSxRQUNoQzJoRSxFQUFZQSxFQUFVOTRELE9BQU8rK0csR0FFakMsT0FBTyxJQUFJRCxHQUFnQmhtRCxHQXNCL0JvUixjQUFjcFIsR0FDVixNQUFPLENBQ0gvZSxRQUFTK2tFLEdBQ1RyMUMsV0FBYTFzRSxHQUlGK2hILEdBQWdCbnZILE9BQU9tcEUsRUFBVy83RCxHQUFVOGhILE1BR3ZENWpFLEtBQU0sQ0FBQyxDQUFDNmpFLEdBQWlCLElBQUl6MkUsR0FBWSxJQUFJcFAsTUFHckRscEIsS0FBS3pNLEdBQ0QsTUFBTWxWLEVBQVVRLEtBQUtrcUUsVUFBVS9vRCxNQUFLMU8sR0FBS0EsRUFBRXUzRyxTQUFTdDFHLEtBQ3BELEdBQWUsTUFBWGxWLEVBQ0EsT0FBT0EsRUFFTixDQUNELE1BQU1tbkMsRUFBcUMsb0JBQWRDLFdBQTZCQSxVQUN0RCwyQ0FBMkNseUIsZUFRMUJtbkIsRUFSd0VubkIsRUFTOUZtbkIsRUFBVyxhQUFZQSxLQVJsQixHQUNKLE1BQU0sSUFBSTBLLEVBQWEsSUFBd0NJLEdBTTNFLElBQWlDOUssR0FXakMsU0FBU3UwRixLQUNMLE9BQU8sSUFBSUMsR0FBZ0IsQ0FBQyxJQUFJckIsS0FicENrQixHQUFnQixNQUFRLEVBQW1CLENBQUV0dkYsTUFBT3N2RixHQUFpQm5uRixXQUFZLE9BQVF2cEMsUUFBU3l3SCxLQW9CbEcsTUFBTUksR0FDRnZ2SCxZQUFZb3BFLEdBQ1JscUUsS0FBS2txRSxVQUFZQSxFQUVyQm9SLGNBQWNwUixFQUFXLzdELEdBQ3JCLEdBQUlBLEVBQVEsQ0FDUixNQUFNZ2lILEVBQVNoaUgsRUFBTys3RCxVQUFVM2hFLFFBQ2hDMmhFLEVBQVlBLEVBQVU5NEQsT0FBTysrRyxHQUVqQyxPQUFPLElBQUlFLEdBQWdCbm1ELEdBc0IvQm9SLGNBQWNwUixHQUNWLE1BQU8sQ0FDSC9lLFFBQVNrbEUsR0FDVHgxQyxXQUFhMXNFLEdBSUZraUgsR0FBZ0J0dkgsT0FBT21wRSxFQUFXLzdELEdBQVVpaUgsTUFHdkQvakUsS0FBTSxDQUFDLENBQUNna0UsR0FBaUIsSUFBSTUyRSxHQUFZLElBQUlwUCxNQUdyRGxwQixLQUFLbXZHLEdBQ0QsTUFBTTl3SCxFQUFVUSxLQUFLa3FFLFVBQVUvb0QsTUFBSzFPLEdBQUtBLEVBQUV1M0csU0FBU3NHLEtBQ3BELEdBQUk5d0gsRUFDQSxPQUFPQSxFQUVYLE1BQU1tbkMsRUFBcUMsb0JBQWRDLFdBQTZCQSxVQUN0RCwyQ0FBMkMwcEYsS0FDM0MsR0FDSixNQUFNLElBQUkvcEYsRUFBYSxJQUF3Q0ksSUFJdkUwcEYsR0FBZ0IsTUFBUSxFQUFtQixDQUFFenZGLE1BQU95dkYsR0FBaUJ0bkYsV0FBWSxPQUFRdnBDLFFBQVM0d0gsS0FZbEcsTUFBTUcsR0FBYSxDQUFDLElBQUl2QixJQUlsQndCLEdBQWUsQ0FBQyxJQUFJekcsSUFDcEIwRyxHQUF5QixJQUFJUCxHQUFnQk0sSUFDN0NFLEdBQXlCLElBQUlMLEdBQWdCRSxJQTZCN0NJLEdBQWVoTyxHQUFzQixLQUFNLE9BWmhCLENBRTdCLENBQUV4M0QsUUFBUyt1RCxHQUFhOXVELFNBQVUsV0FDbEMsQ0FBRUQsUUFBU3MzRCxHQUFhcDJELEtBQU0sQ0FBQ2d2QixLQUMvQixDQUFFbHdCLFFBQVN1MUQsR0FBcUJyMEQsS0FBTSxJQUN0QyxDQUFFbEIsUUFBU2t2RCxHQUFTaHVELEtBQU0sTUF3RHhCdWtFLEdBQStCLENBQ2pDLENBQ0l6bEUsUUFBU281RCxHQUNUdHBDLFNBQVVzcEMsR0FDVmw0RCxLQUFNLENBQUNxdkQsR0FBUXJnQyxHQUFVdGlCLEdBQWM0ckMsR0FBNEJ5VSxLQUV2RSxDQUFFanVELFFBQVN1OEMsR0FBV3I3QyxLQUFNLENBQUNxdkQsSUFBUzdnQyxXQTBCMUMsU0FBOEI0b0MsR0FDMUIsSUFBSW9OLEVBQVEsR0FNWixPQUxBcE4sRUFBT3RILFNBQVMxMkcsV0FBVSxLQUN0QixLQUFPb3JILEVBQU03cEgsUUFDVDZwSCxFQUFNeDlHLEtBQU53OUcsTUFHRCxTQUFVdGxILEdBQ2JzbEgsRUFBTTNvSCxLQUFLcUQsTUFqQ2YsQ0FDSTQvQyxRQUFTaXVELEdBQ1RuK0IsU0FBVW0rQixHQUNWL3NELEtBQU0sQ0FBQyxDQUFDLElBQUloaUIsR0FBWTh1RSxNQUU1QixDQUFFaHVELFFBQVMydkQsR0FBVTcvQixTQUFVNi9CLEdBQVV6dUQsS0FBTSxJQUMvQ3l0RCxHQUNBLENBQUUzdUQsUUFBUytrRSxHQUFpQnIxQyxXQXREaEMsV0FDSSxPQUFPNDFDLElBcUQwRHBrRSxLQUFNLElBQ3ZFLENBQUVsQixRQUFTa2xFLEdBQWlCeDFDLFdBcERoQyxXQUNJLE9BQU82MUMsSUFtRDBEcmtFLEtBQU0sSUFDdkUsQ0FDSWxCLFFBQVNtdkQsR0FDVHovQixXQXBEUixTQUF3QnNhLEdBQ3BCLE9BQU9BLElBUzBCLG9CQUF0QmQsbUJBQXFDQSxtQkFDNUIsb0JBQVRDLE1BQTZDLE9BQXJCQSxLQUFLdzhCLFlBSTdCeDhCLEtBQUt3OEIsWUFZaUIsb0JBQWRDLFdBQTZCQSxVQUFVNTdCLFFBQVdjLEtBMEJqRTVwQyxLQUFNLENBQUMsQ0FBQyxJQUFJSixHQUFPcXVELElBQVksSUFBSWp3RSxHQUFZLElBQUlvUCxNQUV2RCxDQUFFMFIsUUFBU292RCxHQUF1Qm52RCxTQS9yVFosUUErdFQxQixNQUFNNGxFLEdBRUZsd0gsWUFBWWttRyxLQUVoQmdxQixHQUFrQixLQUFPLFNBQW1DcitHLEdBQUssT0FBTyxJQUFLQSxHQUFLcStHLElBQW1CLEdBQVN6TSxNQUM5R3lNLEdBQWtCLEtBQXFCLEdBQWlCLENBQUVuMUYsS0FBTW0xRixLQUNoRUEsR0FBa0IsS0FBcUIsRUFBaUIsQ0FBRXp6RixVQUFXcXpGLE1BRTNDLG9CQUFkaHFGLFdBQTZCQSxZQUFjNGhFLEdBQWlCd29CLEdBQW1CLENBQUMsQ0FDaEZuMUYsS0FBTTYzRSxHQUNOOWlHLEtBQU0sQ0FBQyxDQUFFMnNCLFVBQVdxekYsUUFDcEIsV0FBYyxNQUFPLENBQUMsQ0FBRS8wRixLQUFNMG9GLE9BQXNCLE1BV2hFLE1BQU0sSUFBYyxFQWNwQixTQUFTLEdBQXFCblEsR0FFMUIsT0FEaUI1dEQsR0FBa0IsQ0FBRUUsTUFBTyxFQUE0QnRqRCxLQUFNLFlBQWF5NEIsS0FBTXU0RSxFQUFLdjRFLE9BQ3RGbzFGLDRCQUE0QnJlLEdBQWdCLFNBQVN3QixFQUFLdjRFLEtBQUt6TixlQUFnQmdtRixHQU9uRyxTQUFTLEdBQXlCQSxHQUM5QixJQUFJeHlHLEVBQUkrQyxFQUNSNmpHLEdBQWlCNEwsRUFBS3Y0RSxLQUFNdTRFLEVBQUtwckQsV0FBMkMsUUFBOUJwbkQsRUFBS3d5RyxFQUFLdnJELHNCQUFtQyxJQUFQam5ELEVBQWdCQSxFQUFLLEtBQXFDLFFBQTlCK0MsRUFBS3l2RyxFQUFLM3FELHNCQUFtQyxJQUFQOWtELEVBQWdCQSxFQUFLLE1BTy9LLFNBQVMsR0FBcUJ5dkcsR0FFMUIsT0FEaUI1dEQsR0FBa0IsQ0FBRUUsTUFBTyxFQUE0QnRqRCxLQUFNLFlBQWF5NEIsS0FBTXU0RSxFQUFLdjRFLE9BQ3RGcTFGLDRCQUE0QnRlLEdBQWdCLFNBQVN3QixFQUFLdjRFLEtBQUt6TixlQUFnQmdtRixHQU9uRyxTQUFTLEdBQW1CQSxHQU14QixPQUxpQjV0RCxHQUFrQixDQUMvQkUsTUFBTyxFQUNQdGpELEtBQU0rdEgsR0FBZS9jLEVBQUsxdUUsUUFDMUI3SixLQUFNdTRFLEVBQUt2NEUsT0FFQ3UxRiwwQkFBMEJ4ZSxHQUFnQixTQUFTd0IsRUFBS3Y0RSxLQUFLek4sZUFBZ0JnbUYsR0FFakcsU0FBUytjLEdBQWV6ckYsR0FDcEIsT0FBUUEsR0FDSixLQUFLNmdCLEdBQWM4d0QsVUFDZixNQUFPLFlBQ1gsS0FBSzl3RCxHQUFjcXlELFVBQ2YsTUFBTyxZQUNYLEtBQUtyeUQsR0FBYzNuQixXQUNmLE1BQU8sYUFDWCxLQUFLMm5CLEdBQWNveUQsS0FDZixNQUFPLE9BQ1gsS0FBS3B5RCxHQUFjbXRELFNBQ2YsTUFBTyxZQVFuQixTQUFTLEdBQXNCVSxHQUUzQixPQURpQjV0RCxHQUFrQixDQUFFRSxNQUFPLEVBQTRCdGpELEtBQU0sYUFBY3k0QixLQUFNdTRFLEVBQUt2NEUsT0FDdkZ3MUYsNkJBQTZCemUsR0FBZ0IsU0FBU3dCLEVBQUt2NEUsS0FBS3pOLGdCQUFpQmdtRixHQU9yRyxTQUFTLEdBQW9CQSxHQUV6QixPQURpQjV0RCxHQUFrQixDQUFFRSxNQUFPLEVBQTRCdGpELEtBQU0sV0FBWXk0QixLQUFNdTRFLEVBQUt2NEUsT0FDckZ5MUYsMkJBQTJCMWUsR0FBZ0IsU0FBU3dCLEVBQUt2NEUsS0FBS3pOLGVBQWdCZ21GLEdBT2xHLFNBQVMsR0FBb0JBLEdBRXpCLE9BRGlCNXRELEdBQWtCLENBQUVFLE1BQU8sRUFBNEJ0akQsS0FBTSxXQUFZeTRCLEtBQU11NEUsRUFBS3Y0RSxPQUNyRjAxRiwyQkFBMkIzZSxHQUFnQixTQUFTd0IsRUFBS3Y0RSxLQUFLek4sZUFBZ0JnbUYsR0FPbEcsU0FBUyxHQUFnQkEsR0FFckIsT0FEaUI1dEQsR0FBa0IsQ0FBRUUsTUFBTyxFQUE0QnRqRCxLQUFNLE9BQVF5NEIsS0FBTXU0RSxFQUFLdjRFLE9BQ2pGMjFGLHVCQUF1QjVlLEdBQWdCLFNBQVN3QixFQUFLdjRFLEtBQUt6TixnQkFBaUJnbUYsR0FtQnRFLG9CQUFkeHRFLFdBQTZCQSxZQUlwQ3lFLEdBQVEwbEYsVUFBWTFsRixHQUFRMGxGLFdBQWEsV0FDckMsTUFBTSxJQUFJdHJHLE1BQU0sK1lDdmo0QnBCZ3NHLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJwdEgsSUFBakJxdEgsRUFDSCxPQUFPQSxFQUFhbnlILFFBR3JCLElBQUlDLEVBQVMreEgsRUFBeUJFLEdBQVksQ0FHakRseUgsUUFBUyxJQU9WLE9BSEFveUgsRUFBb0JGLEdBQVVqeEgsS0FBS2hCLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNpeUgsR0FHcEVoeUgsRUFBT0QsUUNwQmZpeUgsRUFBb0J6eEgsRUFBSSxDQUFDUixFQUFTczBDLEtBQ2pDLElBQUksSUFBSWwxQixLQUFPazFCLEVBQ1gyOUUsRUFBb0J2b0gsRUFBRTRxQyxFQUFZbDFCLEtBQVM2eUcsRUFBb0J2b0gsRUFBRTFKLEVBQVNvZixJQUM1RTFlLE9BQU9hLGVBQWV2QixFQUFTb2YsRUFBSyxDQUFFdGMsWUFBWSxFQUFNRixJQUFLMHhDLEVBQVdsMUIsTUNKM0U2eUcsRUFBb0J2b0gsRUFBSSxDQUFDbUwsRUFBS28xQyxJQUFVdnBELE9BQU9LLFVBQVVDLGVBQWVDLEtBQUs0VCxFQUFLbzFDLEdDQ2xGZ29FLEVBQW9CbmxILEVBQUs5TSxJQUNILG9CQUFYNEosUUFBMEJBLE9BQU95b0gsYUFDMUMzeEgsT0FBT2EsZUFBZXZCLEVBQVM0SixPQUFPeW9ILFlBQWEsQ0FBRTd3SCxNQUFPLFdBRTdEZCxPQUFPYSxlQUFldkIsRUFBUyxhQUFjLENBQUV3QixPQUFPLHdjQ0x2RCxjQUFTLGlGQUFBOHdILG1CQUNULGNBQVMsZ0ZBQUFod0Ysa0JBQ1QsY0FBUyxzRkFBQXhELHdCQVlULGNBQVMsNEZBQUFqRyw4QkFDVCxjQUFTLHFGQUFBTyx1QkFDVCxjQUFTLHVEQUFBeDJCLElBQUEsb0JBQUE2M0IsaUJBQ1QsY0FBUyxvREFBQTczQixJQUFBLG9CQUFBdTNCLGNBQ1QsY0FBUyxvRkFBQThDLHNCQUNULGNBQVMsZ0dBQUFsRSxrQ0FDVCxjQUFTLHdGQUFBdUIsMEJBQ1QsY0FBUyw4RkFBQWhDLGdDQUNULGNBQVMsc0ZBQUF6Qix3QkFDVCxjQUFTLG9HQUFBa0ksc0NBQ1QsY0FBUyxzRkFBQUUsd0JBQ1QsY0FBUyxpRkFBQUMsbUJBQ1QsY0FBUyxnRkFBQUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Qcm9vZm1lSWQvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL0FzeW5jU3ViamVjdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9CZWhhdmlvclN1YmplY3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvTm90aWZpY2F0aW9uLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL05vdGlmaWNhdGlvbkZhY3Rvcmllcy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9PYnNlcnZhYmxlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL1JlcGxheVN1YmplY3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvU2NoZWR1bGVyLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL1N1YmplY3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9TdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvY29uZmlnLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29ic2VydmFibGUvY29tYmluZUxhdGVzdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbmNhdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vYnNlcnZhYmxlL2VtcHR5LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29ic2VydmFibGUvZnJvbS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21TdWJzY3JpYmFibGUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9pbm5lckZyb20uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9pbnRlcnZhbC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vYnNlcnZhYmxlL29mLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29ic2VydmFibGUvcmFjZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vYnNlcnZhYmxlL3Rocm93RXJyb3IuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb2JzZXJ2YWJsZS90aW1lci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vYnNlcnZhYmxlL3ppcC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvT3BlcmF0b3JTdWJzY3JpYmVyLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9hdWRpdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvYXVkaXRUaW1lLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXIuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlckNvdW50LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJUaW1lLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJUb2dnbGUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlcldoZW4uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2NhdGNoRXJyb3IuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVBbGwuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVMYXRlc3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVMYXRlc3RBbGwuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVMYXRlc3RXaXRoLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9jb25jYXQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdEFsbC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0TWFwLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRNYXBUby5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0V2l0aC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvY29ubmVjdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvY291bnQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2RlYm91bmNlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZVRpbWUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2RlZmF1bHRJZkVtcHR5LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9kZWxheS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZGVsYXlXaGVuLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9kZW1hdGVyaWFsaXplLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZGlzdGluY3RVbnRpbENoYW5nZWQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2Rpc3RpbmN0VW50aWxLZXlDaGFuZ2VkLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9lbGVtZW50QXQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2VuZFdpdGguanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2V2ZXJ5LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9leGhhdXN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9leGhhdXN0QWxsLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9leGhhdXN0TWFwLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9leHBhbmQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbHRlci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZmluYWxpemUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbmQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbmRJbmRleC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvZmlyc3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2ZsYXRNYXAuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2dyb3VwQnkuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL2lnbm9yZUVsZW1lbnRzLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9pc0VtcHR5LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9qb2luQWxsSW50ZXJuYWxzLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9sYXN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9tYXAuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL21hcFRvLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9tYXRlcmlhbGl6ZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbWF4LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VBbGwuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlSW50ZXJuYWxzLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZU1hcC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VNYXBUby5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VTY2FuLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZVdpdGguanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL21pbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbXVsdGljYXN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9vYnNlcnZlT24uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL29uRXJyb3JSZXN1bWVOZXh0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9wYWlyd2lzZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvcGFydGl0aW9uLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9wbHVjay5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaEJlaGF2aW9yLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9wdWJsaXNoTGFzdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaFJlcGxheS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvcmFjZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvcmFjZVdpdGguanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3JlZHVjZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvcmVmQ291bnQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3JlcGVhdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvcmVwZWF0V2hlbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvcmV0cnkuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3JldHJ5V2hlbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc2FtcGxlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9zYW1wbGVUaW1lLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9zY2FuLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9zY2FuSW50ZXJuYWxzLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9zZXF1ZW5jZUVxdWFsLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9zaGFyZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc2hhcmVSZXBsYXkuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3NpbmdsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcExhc3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBVbnRpbC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcFdoaWxlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9zdGFydFdpdGguanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3N1YnNjcmliZU9uLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hBbGwuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoTWFwVG8uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaFNjYW4uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2UuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VMYXN0LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy90YWtlVW50aWwuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VXaGlsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvdGFwLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy90aHJvdHRsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3R0bGVUaW1lLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy90aHJvd0lmRW1wdHkuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVJbnRlcnZhbC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvdGltZW91dC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvdGltZW91dFdpdGguanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVzdGFtcC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvdG9BcnJheS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dDb3VudC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93VGltZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93VG9nZ2xlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dXaGVuLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy93aXRoTGF0ZXN0RnJvbS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9vcGVyYXRvcnMvemlwLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL29wZXJhdG9ycy96aXBBbGwuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvb3BlcmF0b3JzL3ppcFdpdGguanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlQXN5bmNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVPYnNlcnZhYmxlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZVByb21pc2UuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZWQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvc2NoZWR1bGVyL0FjdGlvbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvc2NoZWR1bGVyL0FzeW5jU2NoZWR1bGVyLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3NjaGVkdWxlci9hc3luYy5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC9zY2hlZHVsZXIvZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3NjaGVkdWxlci9pbnRlcnZhbFByb3ZpZGVyLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3NjaGVkdWxlci90aW1lb3V0UHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9FbXB0eUVycm9yLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvTm90Rm91bmRFcnJvci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvU2VxdWVuY2VFcnJvci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9hcmdzLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvYXJnc0FyZ0FycmF5T3JPYmplY3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9hcmdzT3JBcmdBcnJheS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL2FyclJlbW92ZS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL2NyZWF0ZUVycm9yQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9jcmVhdGVPYmplY3QuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9lcnJvckNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9leGVjdXRlU2NoZWR1bGUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9pZGVudGl0eS5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL2lzQXJyYXlMaWtlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvaXNBc3luY0l0ZXJhYmxlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvaXNEYXRlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvaXNGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9pc0l0ZXJhYmxlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvaXNQcm9taXNlLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9pc1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL2xpZnQuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9tYXBPbmVPck1hbnlBcmdzLmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvY2pzL2ludGVybmFsL3V0aWwvbm9vcC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL25vdC5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL3BpcGUuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvaW50ZXJuYWwvdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvci5qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2Nqcy9pbnRlcm5hbC91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9janMvb3BlcmF0b3JzL2luZGV4LmpzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9mdW5jdGlvbnMvZnVuY3Rpb25zLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9wcm9vZm1lLXV0aWxzLnByb3ZpZGVyLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy9zaWduYWxpbmdTZXJ2ZXIudHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkLy4vc3JjL3NtYXJ0Y29udHJhY3RzL2NsYWltSG9sZGVyQWJpLnRzIiwid2VicGFjazovL1Byb29mbWVJZC8uL3NyYy93ZWJSdGMucHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL2V4dGVybmFsIGNvbW1vbmpzIFwicnhqc1wiIiwid2VicGFjazovL1Byb29mbWVJZC9leHRlcm5hbCBjb21tb25qcyBcInV1aWRcIiIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvZXh0ZXJuYWwgY29tbW9uanMgXCJ3ZWIzXCIiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL2V4dGVybmFsIGNvbW1vbmpzIFwid2Vic29ja2V0XCIiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL2V4dGVybmFsIGNvbW1vbmpzIFwid3J0Y1wiIiwid2VicGFjazovL1Byb29mbWVJZC9leHRlcm5hbCBjb21tb25qcyBcIndzXCIiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJjcnlwdG9cIiIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9mZXNtMjAxNS9jb3JlLm1qcyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vUHJvb2ZtZUlkL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9Qcm9vZm1lSWQvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiUHJvb2ZtZUlkXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlByb29mbWVJZFwiXSA9IGZhY3RvcnkoKTtcbn0pKGdsb2JhbCwgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Bc3luY1N1YmplY3QgPSB2b2lkIDA7XG52YXIgU3ViamVjdF8xID0gcmVxdWlyZShcIi4vU3ViamVjdFwiKTtcbnZhciBBc3luY1N1YmplY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBc3luY1N1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXN5bmNTdWJqZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3ZhbHVlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2hhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9pc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNTdWJqZWN0LnByb3RvdHlwZS5fY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGhhc0Vycm9yID0gX2EuaGFzRXJyb3IsIF9oYXNWYWx1ZSA9IF9hLl9oYXNWYWx1ZSwgX3ZhbHVlID0gX2EuX3ZhbHVlLCB0aHJvd25FcnJvciA9IF9hLnRocm93bkVycm9yLCBpc1N0b3BwZWQgPSBfYS5pc1N0b3BwZWQsIF9pc0NvbXBsZXRlID0gX2EuX2lzQ29tcGxldGU7XG4gICAgICAgIGlmIChoYXNFcnJvcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcih0aHJvd25FcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTdG9wcGVkIHx8IF9pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICBfaGFzVmFsdWUgJiYgc3Vic2NyaWJlci5uZXh0KF92YWx1ZSk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5faGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY1N1YmplY3QucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBfaGFzVmFsdWUgPSBfYS5faGFzVmFsdWUsIF92YWx1ZSA9IF9hLl92YWx1ZSwgX2lzQ29tcGxldGUgPSBfYS5faXNDb21wbGV0ZTtcbiAgICAgICAgaWYgKCFfaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5faXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICBfaGFzVmFsdWUgJiYgX3N1cGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcywgX3ZhbHVlKTtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29tcGxldGUuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jU3ViamVjdDtcbn0oU3ViamVjdF8xLlN1YmplY3QpKTtcbmV4cG9ydHMuQXN5bmNTdWJqZWN0ID0gQXN5bmNTdWJqZWN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNTdWJqZWN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQmVoYXZpb3JTdWJqZWN0ID0gdm9pZCAwO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuL1N1YmplY3RcIik7XG52YXIgQmVoYXZpb3JTdWJqZWN0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmVoYXZpb3JTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJlaGF2aW9yU3ViamVjdChfdmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3ZhbHVlID0gX3ZhbHVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IF9zdXBlci5wcm90b3R5cGUuX3N1YnNjcmliZS5jYWxsKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgICAgICAhc3Vic2NyaXB0aW9uLmNsb3NlZCAmJiBzdWJzY3JpYmVyLm5leHQodGhpcy5fdmFsdWUpO1xuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgaGFzRXJyb3IgPSBfYS5oYXNFcnJvciwgdGhyb3duRXJyb3IgPSBfYS50aHJvd25FcnJvciwgX3ZhbHVlID0gX2EuX3ZhbHVlO1xuICAgICAgICBpZiAoaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IHRocm93bkVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgcmV0dXJuIF92YWx1ZTtcbiAgICB9O1xuICAgIEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLCAodGhpcy5fdmFsdWUgPSB2YWx1ZSkpO1xuICAgIH07XG4gICAgcmV0dXJuIEJlaGF2aW9yU3ViamVjdDtcbn0oU3ViamVjdF8xLlN1YmplY3QpKTtcbmV4cG9ydHMuQmVoYXZpb3JTdWJqZWN0ID0gQmVoYXZpb3JTdWJqZWN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmVoYXZpb3JTdWJqZWN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5vYnNlcnZlTm90aWZpY2F0aW9uID0gZXhwb3J0cy5Ob3RpZmljYXRpb24gPSBleHBvcnRzLk5vdGlmaWNhdGlvbktpbmQgPSB2b2lkIDA7XG52YXIgZW1wdHlfMSA9IHJlcXVpcmUoXCIuL29ic2VydmFibGUvZW1wdHlcIik7XG52YXIgb2ZfMSA9IHJlcXVpcmUoXCIuL29ic2VydmFibGUvb2ZcIik7XG52YXIgdGhyb3dFcnJvcl8xID0gcmVxdWlyZShcIi4vb2JzZXJ2YWJsZS90aHJvd0Vycm9yXCIpO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuL3V0aWwvaXNGdW5jdGlvblwiKTtcbnZhciBOb3RpZmljYXRpb25LaW5kO1xuKGZ1bmN0aW9uIChOb3RpZmljYXRpb25LaW5kKSB7XG4gICAgTm90aWZpY2F0aW9uS2luZFtcIk5FWFRcIl0gPSBcIk5cIjtcbiAgICBOb3RpZmljYXRpb25LaW5kW1wiRVJST1JcIl0gPSBcIkVcIjtcbiAgICBOb3RpZmljYXRpb25LaW5kW1wiQ09NUExFVEVcIl0gPSBcIkNcIjtcbn0pKE5vdGlmaWNhdGlvbktpbmQgPSBleHBvcnRzLk5vdGlmaWNhdGlvbktpbmQgfHwgKGV4cG9ydHMuTm90aWZpY2F0aW9uS2luZCA9IHt9KSk7XG52YXIgTm90aWZpY2F0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOb3RpZmljYXRpb24oa2luZCwgdmFsdWUsIGVycm9yKSB7XG4gICAgICAgIHRoaXMua2luZCA9IGtpbmQ7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgICAgICB0aGlzLmhhc1ZhbHVlID0ga2luZCA9PT0gJ04nO1xuICAgIH1cbiAgICBOb3RpZmljYXRpb24ucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVOb3RpZmljYXRpb24odGhpcywgb2JzZXJ2ZXIpO1xuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS5kbyA9IGZ1bmN0aW9uIChuZXh0SGFuZGxlciwgZXJyb3JIYW5kbGVyLCBjb21wbGV0ZUhhbmRsZXIpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywga2luZCA9IF9hLmtpbmQsIHZhbHVlID0gX2EudmFsdWUsIGVycm9yID0gX2EuZXJyb3I7XG4gICAgICAgIHJldHVybiBraW5kID09PSAnTicgPyBuZXh0SGFuZGxlciA9PT0gbnVsbCB8fCBuZXh0SGFuZGxlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogbmV4dEhhbmRsZXIodmFsdWUpIDoga2luZCA9PT0gJ0UnID8gZXJyb3JIYW5kbGVyID09PSBudWxsIHx8IGVycm9ySGFuZGxlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyb3JIYW5kbGVyKGVycm9yKSA6IGNvbXBsZXRlSGFuZGxlciA9PT0gbnVsbCB8fCBjb21wbGV0ZUhhbmRsZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbXBsZXRlSGFuZGxlcigpO1xuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbiAobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbigoX2EgPSBuZXh0T3JPYnNlcnZlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5leHQpXG4gICAgICAgICAgICA/IHRoaXMub2JzZXJ2ZShuZXh0T3JPYnNlcnZlcilcbiAgICAgICAgICAgIDogdGhpcy5kbyhuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5wcm90b3R5cGUudG9PYnNlcnZhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBraW5kID0gX2Eua2luZCwgdmFsdWUgPSBfYS52YWx1ZSwgZXJyb3IgPSBfYS5lcnJvcjtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGtpbmQgPT09ICdOJ1xuICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgIG9mXzEub2YodmFsdWUpXG4gICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAga2luZCA9PT0gJ0UnXG4gICAgICAgICAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93RXJyb3JfMS50aHJvd0Vycm9yKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVycm9yOyB9KVxuICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICBraW5kID09PSAnQydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcHR5XzEuRU1QVFlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDA7XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5leHBlY3RlZCBub3RpZmljYXRpb24ga2luZCBcIiArIGtpbmQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24uY3JlYXRlTmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IE5vdGlmaWNhdGlvbignTicsIHZhbHVlKTtcbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5jcmVhdGVFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOb3RpZmljYXRpb24oJ0UnLCB1bmRlZmluZWQsIGVycik7XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24uY3JlYXRlQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBOb3RpZmljYXRpb24uY29tcGxldGVOb3RpZmljYXRpb247XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24uY29tcGxldGVOb3RpZmljYXRpb24gPSBuZXcgTm90aWZpY2F0aW9uKCdDJyk7XG4gICAgcmV0dXJuIE5vdGlmaWNhdGlvbjtcbn0oKSk7XG5leHBvcnRzLk5vdGlmaWNhdGlvbiA9IE5vdGlmaWNhdGlvbjtcbmZ1bmN0aW9uIG9ic2VydmVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uLCBvYnNlcnZlcikge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHZhciBfZCA9IG5vdGlmaWNhdGlvbiwga2luZCA9IF9kLmtpbmQsIHZhbHVlID0gX2QudmFsdWUsIGVycm9yID0gX2QuZXJyb3I7XG4gICAgaWYgKHR5cGVvZiBraW5kICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG5vdGlmaWNhdGlvbiwgbWlzc2luZyBcImtpbmRcIicpO1xuICAgIH1cbiAgICBraW5kID09PSAnTicgPyAoX2EgPSBvYnNlcnZlci5uZXh0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvYnNlcnZlciwgdmFsdWUpIDoga2luZCA9PT0gJ0UnID8gKF9iID0gb2JzZXJ2ZXIuZXJyb3IpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKG9ic2VydmVyLCBlcnJvcikgOiAoX2MgPSBvYnNlcnZlci5jb21wbGV0ZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwob2JzZXJ2ZXIpO1xufVxuZXhwb3J0cy5vYnNlcnZlTm90aWZpY2F0aW9uID0gb2JzZXJ2ZU5vdGlmaWNhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vdGlmaWNhdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlTm90aWZpY2F0aW9uID0gZXhwb3J0cy5uZXh0Tm90aWZpY2F0aW9uID0gZXhwb3J0cy5lcnJvck5vdGlmaWNhdGlvbiA9IGV4cG9ydHMuQ09NUExFVEVfTk9USUZJQ0FUSU9OID0gdm9pZCAwO1xuZXhwb3J0cy5DT01QTEVURV9OT1RJRklDQVRJT04gPSAoZnVuY3Rpb24gKCkgeyByZXR1cm4gY3JlYXRlTm90aWZpY2F0aW9uKCdDJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpOyB9KSgpO1xuZnVuY3Rpb24gZXJyb3JOb3RpZmljYXRpb24oZXJyb3IpIHtcbiAgICByZXR1cm4gY3JlYXRlTm90aWZpY2F0aW9uKCdFJywgdW5kZWZpbmVkLCBlcnJvcik7XG59XG5leHBvcnRzLmVycm9yTm90aWZpY2F0aW9uID0gZXJyb3JOb3RpZmljYXRpb247XG5mdW5jdGlvbiBuZXh0Tm90aWZpY2F0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignTicsIHZhbHVlLCB1bmRlZmluZWQpO1xufVxuZXhwb3J0cy5uZXh0Tm90aWZpY2F0aW9uID0gbmV4dE5vdGlmaWNhdGlvbjtcbmZ1bmN0aW9uIGNyZWF0ZU5vdGlmaWNhdGlvbihraW5kLCB2YWx1ZSwgZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVycm9yOiBlcnJvcixcbiAgICB9O1xufVxuZXhwb3J0cy5jcmVhdGVOb3RpZmljYXRpb24gPSBjcmVhdGVOb3RpZmljYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ob3RpZmljYXRpb25GYWN0b3JpZXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk9ic2VydmFibGUgPSB2b2lkIDA7XG52YXIgU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vU3Vic2NyaWJlclwiKTtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuL1N1YnNjcmlwdGlvblwiKTtcbnZhciBvYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi9zeW1ib2wvb2JzZXJ2YWJsZVwiKTtcbnZhciBwaXBlXzEgPSByZXF1aXJlKFwiLi91dGlsL3BpcGVcIik7XG52YXIgY29uZmlnXzEgPSByZXF1aXJlKFwiLi9jb25maWdcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xudmFyIGVycm9yQ29udGV4dF8xID0gcmVxdWlyZShcIi4vdXRpbC9lcnJvckNvbnRleHRcIik7XG52YXIgT2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZShzdWJzY3JpYmUpIHtcbiAgICAgICAgaWYgKHN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgICAgIG9ic2VydmFibGUub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc3Vic2NyaWJlciA9IGlzU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCkgPyBvYnNlcnZlck9yTmV4dCA6IG5ldyBTdWJzY3JpYmVyXzEuU2FmZVN1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIGVycm9yQ29udGV4dF8xLmVycm9yQ29udGV4dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBfdGhpcywgb3BlcmF0b3IgPSBfYS5vcGVyYXRvciwgc291cmNlID0gX2Euc291cmNlO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQob3BlcmF0b3JcbiAgICAgICAgICAgICAgICA/XG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yLmNhbGwoc3Vic2NyaWJlciwgc291cmNlKVxuICAgICAgICAgICAgICAgIDogc291cmNlXG4gICAgICAgICAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdWJzY3JpYmUoc3Vic2NyaWJlcilcbiAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3RyeVN1YnNjcmliZShzdWJzY3JpYmVyKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc2luaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZShzaW5rKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzaW5rLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAobmV4dCwgcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmliZXIgPSBuZXcgU3Vic2NyaWJlcl8xLlNhZmVTdWJzY3JpYmVyKHtcbiAgICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogcmVqZWN0LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiByZXNvbHZlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuc291cmNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbb2JzZXJ2YWJsZV8xLm9ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcGVyYXRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBvcGVyYXRpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpcGVfMS5waXBlRnJvbUFycmF5KG9wZXJhdGlvbnMpKHRoaXMpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUudG9Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAoeCkgeyByZXR1cm4gKHZhbHVlID0geCk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHJlamVjdChlcnIpOyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKHZhbHVlKTsgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmUpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGU7XG59KCkpO1xuZXhwb3J0cy5PYnNlcnZhYmxlID0gT2JzZXJ2YWJsZTtcbmZ1bmN0aW9uIGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSBwcm9taXNlQ3RvciAhPT0gbnVsbCAmJiBwcm9taXNlQ3RvciAhPT0gdm9pZCAwID8gcHJvbWlzZUN0b3IgOiBjb25maWdfMS5jb25maWcuUHJvbWlzZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogUHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGlzT2JzZXJ2ZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24odmFsdWUubmV4dCkgJiYgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24odmFsdWUuZXJyb3IpICYmIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHZhbHVlLmNvbXBsZXRlKTtcbn1cbmZ1bmN0aW9uIGlzU3Vic2NyaWJlcih2YWx1ZSkge1xuICAgIHJldHVybiAodmFsdWUgJiYgdmFsdWUgaW5zdGFuY2VvZiBTdWJzY3JpYmVyXzEuU3Vic2NyaWJlcikgfHwgKGlzT2JzZXJ2ZXIodmFsdWUpICYmIFN1YnNjcmlwdGlvbl8xLmlzU3Vic2NyaXB0aW9uKHZhbHVlKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVwbGF5U3ViamVjdCA9IHZvaWQgMDtcbnZhciBTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi9TdWJqZWN0XCIpO1xudmFyIGRhdGVUaW1lc3RhbXBQcm92aWRlcl8xID0gcmVxdWlyZShcIi4vc2NoZWR1bGVyL2RhdGVUaW1lc3RhbXBQcm92aWRlclwiKTtcbnZhciBSZXBsYXlTdWJqZWN0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVwbGF5U3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZXBsYXlTdWJqZWN0KF9idWZmZXJTaXplLCBfd2luZG93VGltZSwgX3RpbWVzdGFtcFByb3ZpZGVyKSB7XG4gICAgICAgIGlmIChfYnVmZmVyU2l6ZSA9PT0gdm9pZCAwKSB7IF9idWZmZXJTaXplID0gSW5maW5pdHk7IH1cbiAgICAgICAgaWYgKF93aW5kb3dUaW1lID09PSB2b2lkIDApIHsgX3dpbmRvd1RpbWUgPSBJbmZpbml0eTsgfVxuICAgICAgICBpZiAoX3RpbWVzdGFtcFByb3ZpZGVyID09PSB2b2lkIDApIHsgX3RpbWVzdGFtcFByb3ZpZGVyID0gZGF0ZVRpbWVzdGFtcFByb3ZpZGVyXzEuZGF0ZVRpbWVzdGFtcFByb3ZpZGVyOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9idWZmZXJTaXplID0gX2J1ZmZlclNpemU7XG4gICAgICAgIF90aGlzLl93aW5kb3dUaW1lID0gX3dpbmRvd1RpbWU7XG4gICAgICAgIF90aGlzLl90aW1lc3RhbXBQcm92aWRlciA9IF90aW1lc3RhbXBQcm92aWRlcjtcbiAgICAgICAgX3RoaXMuX2J1ZmZlciA9IFtdO1xuICAgICAgICBfdGhpcy5faW5maW5pdGVUaW1lV2luZG93ID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuX2luZmluaXRlVGltZVdpbmRvdyA9IF93aW5kb3dUaW1lID09PSBJbmZpbml0eTtcbiAgICAgICAgX3RoaXMuX2J1ZmZlclNpemUgPSBNYXRoLm1heCgxLCBfYnVmZmVyU2l6ZSk7XG4gICAgICAgIF90aGlzLl93aW5kb3dUaW1lID0gTWF0aC5tYXgoMSwgX3dpbmRvd1RpbWUpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlcGxheVN1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgaXNTdG9wcGVkID0gX2EuaXNTdG9wcGVkLCBfYnVmZmVyID0gX2EuX2J1ZmZlciwgX2luZmluaXRlVGltZVdpbmRvdyA9IF9hLl9pbmZpbml0ZVRpbWVXaW5kb3csIF90aW1lc3RhbXBQcm92aWRlciA9IF9hLl90aW1lc3RhbXBQcm92aWRlciwgX3dpbmRvd1RpbWUgPSBfYS5fd2luZG93VGltZTtcbiAgICAgICAgaWYgKCFpc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIF9idWZmZXIucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAhX2luZmluaXRlVGltZVdpbmRvdyAmJiBfYnVmZmVyLnB1c2goX3RpbWVzdGFtcFByb3ZpZGVyLm5vdygpICsgX3dpbmRvd1RpbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyaW1CdWZmZXIoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcywgdmFsdWUpO1xuICAgIH07XG4gICAgUmVwbGF5U3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgdGhpcy5fdHJpbUJ1ZmZlcigpO1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gdGhpcy5faW5uZXJTdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9pbmZpbml0ZVRpbWVXaW5kb3cgPSBfYS5faW5maW5pdGVUaW1lV2luZG93LCBfYnVmZmVyID0gX2EuX2J1ZmZlcjtcbiAgICAgICAgdmFyIGNvcHkgPSBfYnVmZmVyLnNsaWNlKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29weS5sZW5ndGggJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpICs9IF9pbmZpbml0ZVRpbWVXaW5kb3cgPyAxIDogMikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGNvcHlbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMoc3Vic2NyaWJlcik7XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICBSZXBsYXlTdWJqZWN0LnByb3RvdHlwZS5fdHJpbUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgX2J1ZmZlclNpemUgPSBfYS5fYnVmZmVyU2l6ZSwgX3RpbWVzdGFtcFByb3ZpZGVyID0gX2EuX3RpbWVzdGFtcFByb3ZpZGVyLCBfYnVmZmVyID0gX2EuX2J1ZmZlciwgX2luZmluaXRlVGltZVdpbmRvdyA9IF9hLl9pbmZpbml0ZVRpbWVXaW5kb3c7XG4gICAgICAgIHZhciBhZGp1c3RlZEJ1ZmZlclNpemUgPSAoX2luZmluaXRlVGltZVdpbmRvdyA/IDEgOiAyKSAqIF9idWZmZXJTaXplO1xuICAgICAgICBfYnVmZmVyU2l6ZSA8IEluZmluaXR5ICYmIGFkanVzdGVkQnVmZmVyU2l6ZSA8IF9idWZmZXIubGVuZ3RoICYmIF9idWZmZXIuc3BsaWNlKDAsIF9idWZmZXIubGVuZ3RoIC0gYWRqdXN0ZWRCdWZmZXJTaXplKTtcbiAgICAgICAgaWYgKCFfaW5maW5pdGVUaW1lV2luZG93KSB7XG4gICAgICAgICAgICB2YXIgbm93ID0gX3RpbWVzdGFtcFByb3ZpZGVyLm5vdygpO1xuICAgICAgICAgICAgdmFyIGxhc3QgPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBfYnVmZmVyLmxlbmd0aCAmJiBfYnVmZmVyW2ldIDw9IG5vdzsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgbGFzdCA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0ICYmIF9idWZmZXIuc3BsaWNlKDAsIGxhc3QgKyAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFJlcGxheVN1YmplY3Q7XG59KFN1YmplY3RfMS5TdWJqZWN0KSk7XG5leHBvcnRzLlJlcGxheVN1YmplY3QgPSBSZXBsYXlTdWJqZWN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVwbGF5U3ViamVjdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2NoZWR1bGVyID0gdm9pZCAwO1xudmFyIGRhdGVUaW1lc3RhbXBQcm92aWRlcl8xID0gcmVxdWlyZShcIi4vc2NoZWR1bGVyL2RhdGVUaW1lc3RhbXBQcm92aWRlclwiKTtcbnZhciBTY2hlZHVsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjaGVkdWxlcihzY2hlZHVsZXJBY3Rpb25DdG9yLCBub3cpIHtcbiAgICAgICAgaWYgKG5vdyA9PT0gdm9pZCAwKSB7IG5vdyA9IFNjaGVkdWxlci5ub3c7IH1cbiAgICAgICAgdGhpcy5zY2hlZHVsZXJBY3Rpb25DdG9yID0gc2NoZWR1bGVyQWN0aW9uQ3RvcjtcbiAgICAgICAgdGhpcy5ub3cgPSBub3c7XG4gICAgfVxuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAod29yaywgZGVsYXksIHN0YXRlKSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgICAgICByZXR1cm4gbmV3IHRoaXMuc2NoZWR1bGVyQWN0aW9uQ3Rvcih0aGlzLCB3b3JrKS5zY2hlZHVsZShzdGF0ZSwgZGVsYXkpO1xuICAgIH07XG4gICAgU2NoZWR1bGVyLm5vdyA9IGRhdGVUaW1lc3RhbXBQcm92aWRlcl8xLmRhdGVUaW1lc3RhbXBQcm92aWRlci5ub3c7XG4gICAgcmV0dXJuIFNjaGVkdWxlcjtcbn0oKSk7XG5leHBvcnRzLlNjaGVkdWxlciA9IFNjaGVkdWxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNjaGVkdWxlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFub255bW91c1N1YmplY3QgPSBleHBvcnRzLlN1YmplY3QgPSB2b2lkIDA7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4vT2JzZXJ2YWJsZVwiKTtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuL1N1YnNjcmlwdGlvblwiKTtcbnZhciBPYmplY3RVbnN1YnNjcmliZWRFcnJvcl8xID0gcmVxdWlyZShcIi4vdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvclwiKTtcbnZhciBhcnJSZW1vdmVfMSA9IHJlcXVpcmUoXCIuL3V0aWwvYXJyUmVtb3ZlXCIpO1xudmFyIGVycm9yQ29udGV4dF8xID0gcmVxdWlyZShcIi4vdXRpbC9lcnJvckNvbnRleHRcIik7XG52YXIgU3ViamVjdCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViamVjdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLm9ic2VydmVycyA9IFtdO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaGFzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMudGhyb3duRXJyb3IgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YmplY3QucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIHN1YmplY3QgPSBuZXcgQW5vbnltb3VzU3ViamVjdCh0aGlzLCB0aGlzKTtcbiAgICAgICAgc3ViamVjdC5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gc3ViamVjdDtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl90aHJvd0lmQ2xvc2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcl8xLk9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgZXJyb3JDb250ZXh0XzEuZXJyb3JDb250ZXh0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICAgICAgX3RoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgICAgIGlmICghX3RoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvcHkgPSBfdGhpcy5vYnNlcnZlcnMuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBjb3B5XzEgPSBfX3ZhbHVlcyhjb3B5KSwgY29weV8xXzEgPSBjb3B5XzEubmV4dCgpOyAhY29weV8xXzEuZG9uZTsgY29weV8xXzEgPSBjb3B5XzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBjb3B5XzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29weV8xXzEgJiYgIWNvcHlfMV8xLmRvbmUgJiYgKF9hID0gY29weV8xLnJldHVybikpIF9hLmNhbGwoY29weV8xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBlcnJvckNvbnRleHRfMS5lcnJvckNvbnRleHQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgICAgIGlmICghX3RoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaGFzRXJyb3IgPSBfdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLnRocm93bkVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIHZhciBvYnNlcnZlcnMgPSBfdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG9ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXJzLnNoaWZ0KCkuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGVycm9yQ29udGV4dF8xLmVycm9yQ29udGV4dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBvYnNlcnZlcnMgPSBfdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG9ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXJzLnNoaWZ0KCkuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLm9ic2VydmVycyA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ViamVjdC5wcm90b3R5cGUsIFwib2JzZXJ2ZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiAoKF9hID0gdGhpcy5vYnNlcnZlcnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpID4gMDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFN1YmplY3QucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLl90cnlTdWJzY3JpYmUuY2FsbCh0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICAgIHRoaXMuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMoc3Vic2NyaWJlcik7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbm5lclN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl9pbm5lclN1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGhhc0Vycm9yID0gX2EuaGFzRXJyb3IsIGlzU3RvcHBlZCA9IF9hLmlzU3RvcHBlZCwgb2JzZXJ2ZXJzID0gX2Eub2JzZXJ2ZXJzO1xuICAgICAgICByZXR1cm4gaGFzRXJyb3IgfHwgaXNTdG9wcGVkXG4gICAgICAgICAgICA/IFN1YnNjcmlwdGlvbl8xLkVNUFRZX1NVQlNDUklQVElPTlxuICAgICAgICAgICAgOiAob2JzZXJ2ZXJzLnB1c2goc3Vic2NyaWJlciksIG5ldyBTdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb24oZnVuY3Rpb24gKCkgeyByZXR1cm4gYXJyUmVtb3ZlXzEuYXJyUmVtb3ZlKG9ic2VydmVycywgc3Vic2NyaWJlcik7IH0pKTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl9jaGVja0ZpbmFsaXplZFN0YXR1c2VzID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgaGFzRXJyb3IgPSBfYS5oYXNFcnJvciwgdGhyb3duRXJyb3IgPSBfYS50aHJvd25FcnJvciwgaXNTdG9wcGVkID0gX2EuaXNTdG9wcGVkO1xuICAgICAgICBpZiAoaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IodGhyb3duRXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5hc09ic2VydmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBTdWJqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uIChkZXN0aW5hdGlvbiwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQW5vbnltb3VzU3ViamVjdChkZXN0aW5hdGlvbiwgc291cmNlKTtcbiAgICB9O1xuICAgIHJldHVybiBTdWJqZWN0O1xufShPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZSkpO1xuZXhwb3J0cy5TdWJqZWN0ID0gU3ViamVjdDtcbnZhciBBbm9ueW1vdXNTdWJqZWN0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQW5vbnltb3VzU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBbm9ueW1vdXNTdWJqZWN0KGRlc3RpbmF0aW9uLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5kZXN0aW5hdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5leHQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCB2YWx1ZSk7XG4gICAgfTtcbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5kZXN0aW5hdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVycm9yKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgZXJyKTtcbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmRlc3RpbmF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29tcGxldGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5zb3VyY2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdWJzY3JpYmUoc3Vic2NyaWJlcikpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFN1YnNjcmlwdGlvbl8xLkVNUFRZX1NVQlNDUklQVElPTjtcbiAgICB9O1xuICAgIHJldHVybiBBbm9ueW1vdXNTdWJqZWN0O1xufShTdWJqZWN0KSk7XG5leHBvcnRzLkFub255bW91c1N1YmplY3QgPSBBbm9ueW1vdXNTdWJqZWN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ViamVjdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVNUFRZX09CU0VSVkVSID0gZXhwb3J0cy5TYWZlU3Vic2NyaWJlciA9IGV4cG9ydHMuU3Vic2NyaWJlciA9IHZvaWQgMDtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi91dGlsL2lzRnVuY3Rpb25cIik7XG52YXIgU3Vic2NyaXB0aW9uXzEgPSByZXF1aXJlKFwiLi9TdWJzY3JpcHRpb25cIik7XG52YXIgY29uZmlnXzEgPSByZXF1aXJlKFwiLi9jb25maWdcIik7XG52YXIgcmVwb3J0VW5oYW5kbGVkRXJyb3JfMSA9IHJlcXVpcmUoXCIuL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3JcIik7XG52YXIgbm9vcF8xID0gcmVxdWlyZShcIi4vdXRpbC9ub29wXCIpO1xudmFyIE5vdGlmaWNhdGlvbkZhY3Rvcmllc18xID0gcmVxdWlyZShcIi4vTm90aWZpY2F0aW9uRmFjdG9yaWVzXCIpO1xudmFyIHRpbWVvdXRQcm92aWRlcl8xID0gcmVxdWlyZShcIi4vc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlclwiKTtcbnZhciBlcnJvckNvbnRleHRfMSA9IHJlcXVpcmUoXCIuL3V0aWwvZXJyb3JDb250ZXh0XCIpO1xudmFyIFN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnNjcmliZXIoZGVzdGluYXRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbikge1xuICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgICAgIGlmIChTdWJzY3JpcHRpb25fMS5pc1N1YnNjcmlwdGlvbihkZXN0aW5hdGlvbikpIHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5hZGQoX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBleHBvcnRzLkVNUFRZX09CU0VSVkVSO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3Vic2NyaWJlci5jcmVhdGUgPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2FmZVN1YnNjcmliZXIobmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKE5vdGlmaWNhdGlvbkZhY3Rvcmllc18xLm5leHROb3RpZmljYXRpb24odmFsdWUpLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKE5vdGlmaWNhdGlvbkZhY3Rvcmllc18xLmVycm9yTm90aWZpY2F0aW9uKGVyciksIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihOb3RpZmljYXRpb25GYWN0b3JpZXNfMS5DT01QTEVURV9OT1RJRklDQVRJT04sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpYmVyO1xufShTdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb24pKTtcbmV4cG9ydHMuU3Vic2NyaWJlciA9IFN1YnNjcmliZXI7XG52YXIgX2JpbmQgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZDtcbmZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gX2JpbmQuY2FsbChmbiwgdGhpc0FyZyk7XG59XG52YXIgQ29uc3VtZXJPYnNlcnZlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29uc3VtZXJPYnNlcnZlcihwYXJ0aWFsT2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy5wYXJ0aWFsT2JzZXJ2ZXIgPSBwYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgfVxuICAgIENvbnN1bWVyT2JzZXJ2ZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxPYnNlcnZlciA9IHRoaXMucGFydGlhbE9ic2VydmVyO1xuICAgICAgICBpZiAocGFydGlhbE9ic2VydmVyLm5leHQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBDb25zdW1lck9ic2VydmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxPYnNlcnZlciA9IHRoaXMucGFydGlhbE9ic2VydmVyO1xuICAgICAgICBpZiAocGFydGlhbE9ic2VydmVyLmVycm9yKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29uc3VtZXJPYnNlcnZlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXIgPSB0aGlzLnBhcnRpYWxPYnNlcnZlcjtcbiAgICAgICAgaWYgKHBhcnRpYWxPYnNlcnZlci5jb21wbGV0ZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvbnN1bWVyT2JzZXJ2ZXI7XG59KCkpO1xudmFyIFNhZmVTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2FmZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2FmZVN1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpIHx8ICFvYnNlcnZlck9yTmV4dCkge1xuICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyID0ge1xuICAgICAgICAgICAgICAgIG5leHQ6IG9ic2VydmVyT3JOZXh0ICE9PSBudWxsICYmIG9ic2VydmVyT3JOZXh0ICE9PSB2b2lkIDAgPyBvYnNlcnZlck9yTmV4dCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IgIT09IG51bGwgJiYgZXJyb3IgIT09IHZvaWQgMCA/IGVycm9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZSAhPT0gbnVsbCAmJiBjb21wbGV0ZSAhPT0gdm9pZCAwID8gY29tcGxldGUgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNvbnRleHRfMTtcbiAgICAgICAgICAgIGlmIChfdGhpcyAmJiBjb25maWdfMS5jb25maWcudXNlRGVwcmVjYXRlZE5leHRDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF8xID0gT2JqZWN0LmNyZWF0ZShvYnNlcnZlck9yTmV4dCk7XG4gICAgICAgICAgICAgICAgY29udGV4dF8xLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMudW5zdWJzY3JpYmUoKTsgfTtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IG9ic2VydmVyT3JOZXh0Lm5leHQgJiYgYmluZChvYnNlcnZlck9yTmV4dC5uZXh0LCBjb250ZXh0XzEpLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogb2JzZXJ2ZXJPck5leHQuZXJyb3IgJiYgYmluZChvYnNlcnZlck9yTmV4dC5lcnJvciwgY29udGV4dF8xKSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IG9ic2VydmVyT3JOZXh0LmNvbXBsZXRlICYmIGJpbmQob2JzZXJ2ZXJPck5leHQuY29tcGxldGUsIGNvbnRleHRfMSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IENvbnN1bWVyT2JzZXJ2ZXIocGFydGlhbE9ic2VydmVyKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gU2FmZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydHMuU2FmZVN1YnNjcmliZXIgPSBTYWZlU3Vic2NyaWJlcjtcbmZ1bmN0aW9uIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKSB7XG4gICAgaWYgKGNvbmZpZ18xLmNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgIGVycm9yQ29udGV4dF8xLmNhcHR1cmVFcnJvcihlcnJvcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXBvcnRVbmhhbmRsZWRFcnJvcl8xLnJlcG9ydFVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZWZhdWx0RXJyb3JIYW5kbGVyKGVycikge1xuICAgIHRocm93IGVycjtcbn1cbmZ1bmN0aW9uIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24obm90aWZpY2F0aW9uLCBzdWJzY3JpYmVyKSB7XG4gICAgdmFyIG9uU3RvcHBlZE5vdGlmaWNhdGlvbiA9IGNvbmZpZ18xLmNvbmZpZy5vblN0b3BwZWROb3RpZmljYXRpb247XG4gICAgb25TdG9wcGVkTm90aWZpY2F0aW9uICYmIHRpbWVvdXRQcm92aWRlcl8xLnRpbWVvdXRQcm92aWRlci5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9uU3RvcHBlZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIHN1YnNjcmliZXIpOyB9KTtcbn1cbmV4cG9ydHMuRU1QVFlfT0JTRVJWRVIgPSB7XG4gICAgY2xvc2VkOiB0cnVlLFxuICAgIG5leHQ6IG5vb3BfMS5ub29wLFxuICAgIGVycm9yOiBkZWZhdWx0RXJyb3JIYW5kbGVyLFxuICAgIGNvbXBsZXRlOiBub29wXzEubm9vcCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpYmVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxuICAgICAgICB0b1tqXSA9IGZyb21baV07XG4gICAgcmV0dXJuIHRvO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNTdWJzY3JpcHRpb24gPSBleHBvcnRzLkVNUFRZX1NVQlNDUklQVElPTiA9IGV4cG9ydHMuU3Vic2NyaXB0aW9uID0gdm9pZCAwO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuL3V0aWwvaXNGdW5jdGlvblwiKTtcbnZhciBVbnN1YnNjcmlwdGlvbkVycm9yXzEgPSByZXF1aXJlKFwiLi91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3JcIik7XG52YXIgYXJyUmVtb3ZlXzEgPSByZXF1aXJlKFwiLi91dGlsL2FyclJlbW92ZVwiKTtcbnZhciBTdWJzY3JpcHRpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbihpbml0aWFsVGVhcmRvd24pIHtcbiAgICAgICAgdGhpcy5pbml0aWFsVGVhcmRvd24gPSBpbml0aWFsVGVhcmRvd247XG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BhcmVudGFnZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3RlYXJkb3ducyA9IG51bGw7XG4gICAgfVxuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzEsIF9hLCBlXzIsIF9iO1xuICAgICAgICB2YXIgZXJyb3JzO1xuICAgICAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgICAgIGlmIChfcGFyZW50YWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX3BhcmVudGFnZV8xID0gX192YWx1ZXMoX3BhcmVudGFnZSksIF9wYXJlbnRhZ2VfMV8xID0gX3BhcmVudGFnZV8xLm5leHQoKTsgIV9wYXJlbnRhZ2VfMV8xLmRvbmU7IF9wYXJlbnRhZ2VfMV8xID0gX3BhcmVudGFnZV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnRfMSA9IF9wYXJlbnRhZ2VfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF8xLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9wYXJlbnRhZ2VfMV8xICYmICFfcGFyZW50YWdlXzFfMS5kb25lICYmIChfYSA9IF9wYXJlbnRhZ2VfMS5yZXR1cm4pKSBfYS5jYWxsKF9wYXJlbnRhZ2VfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRhZ2UucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbml0aWFsVGVhcmRvd24gPSB0aGlzLmluaXRpYWxUZWFyZG93bjtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihpbml0aWFsVGVhcmRvd24pKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFRlYXJkb3duKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGUgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yXzEuVW5zdWJzY3JpcHRpb25FcnJvciA/IGUuZXJyb3JzIDogW2VdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfdGVhcmRvd25zID0gdGhpcy5fdGVhcmRvd25zO1xuICAgICAgICAgICAgaWYgKF90ZWFyZG93bnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZWFyZG93bnMgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF90ZWFyZG93bnNfMSA9IF9fdmFsdWVzKF90ZWFyZG93bnMpLCBfdGVhcmRvd25zXzFfMSA9IF90ZWFyZG93bnNfMS5uZXh0KCk7ICFfdGVhcmRvd25zXzFfMS5kb25lOyBfdGVhcmRvd25zXzFfMSA9IF90ZWFyZG93bnNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZWFyZG93bl8xID0gX3RlYXJkb3duc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWNUZWFyZG93bih0ZWFyZG93bl8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgIT09IG51bGwgJiYgZXJyb3JzICE9PSB2b2lkIDAgPyBlcnJvcnMgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcl8xLlVuc3Vic2NyaXB0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoZXJyb3JzKSksIF9fcmVhZChlcnIuZXJyb3JzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90ZWFyZG93bnNfMV8xICYmICFfdGVhcmRvd25zXzFfMS5kb25lICYmIChfYiA9IF90ZWFyZG93bnNfMS5yZXR1cm4pKSBfYi5jYWxsKF90ZWFyZG93bnNfMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5zdWJzY3JpcHRpb25FcnJvcl8xLlVuc3Vic2NyaXB0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodGVhcmRvd24pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGVhcmRvd24gJiYgdGVhcmRvd24gIT09IHRoaXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIGV4ZWNUZWFyZG93bih0ZWFyZG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGVhcmRvd24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlYXJkb3duLmNsb3NlZCB8fCB0ZWFyZG93bi5faGFzUGFyZW50KHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGVhcmRvd24uX2FkZFBhcmVudCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKHRoaXMuX3RlYXJkb3ducyA9IChfYSA9IHRoaXMuX3RlYXJkb3ducykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10pLnB1c2godGVhcmRvd24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLl9oYXNQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICByZXR1cm4gX3BhcmVudGFnZSA9PT0gcGFyZW50IHx8IChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpICYmIF9wYXJlbnRhZ2UuaW5jbHVkZXMocGFyZW50KSk7XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLl9hZGRQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpID8gKF9wYXJlbnRhZ2UucHVzaChwYXJlbnQpLCBfcGFyZW50YWdlKSA6IF9wYXJlbnRhZ2UgPyBbX3BhcmVudGFnZSwgcGFyZW50XSA6IHBhcmVudDtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuX3JlbW92ZVBhcmVudCA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XG4gICAgICAgIGlmIChfcGFyZW50YWdlID09PSBwYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudGFnZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSkge1xuICAgICAgICAgICAgYXJyUmVtb3ZlXzEuYXJyUmVtb3ZlKF9wYXJlbnRhZ2UsIHBhcmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHRlYXJkb3duKSB7XG4gICAgICAgIHZhciBfdGVhcmRvd25zID0gdGhpcy5fdGVhcmRvd25zO1xuICAgICAgICBfdGVhcmRvd25zICYmIGFyclJlbW92ZV8xLmFyclJlbW92ZShfdGVhcmRvd25zLCB0ZWFyZG93bik7XG4gICAgICAgIGlmICh0ZWFyZG93biBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGVhcmRvd24uX3JlbW92ZVBhcmVudCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLkVNUFRZID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVtcHR5ID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICBlbXB0eS5jbG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgfSkoKTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpKTtcbmV4cG9ydHMuU3Vic2NyaXB0aW9uID0gU3Vic2NyaXB0aW9uO1xuZXhwb3J0cy5FTVBUWV9TVUJTQ1JJUFRJT04gPSBTdWJzY3JpcHRpb24uRU1QVFk7XG5mdW5jdGlvbiBpc1N1YnNjcmlwdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiAodmFsdWUgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24gfHxcbiAgICAgICAgKHZhbHVlICYmICdjbG9zZWQnIGluIHZhbHVlICYmIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHZhbHVlLnJlbW92ZSkgJiYgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24odmFsdWUuYWRkKSAmJiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbih2YWx1ZS51bnN1YnNjcmliZSkpKTtcbn1cbmV4cG9ydHMuaXNTdWJzY3JpcHRpb24gPSBpc1N1YnNjcmlwdGlvbjtcbmZ1bmN0aW9uIGV4ZWNUZWFyZG93bih0ZWFyZG93bikge1xuICAgIGlmIChpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbih0ZWFyZG93bikpIHtcbiAgICAgICAgdGVhcmRvd24oKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRlYXJkb3duLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaXB0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb25maWcgPSB2b2lkIDA7XG5leHBvcnRzLmNvbmZpZyA9IHtcbiAgICBvblVuaGFuZGxlZEVycm9yOiBudWxsLFxuICAgIG9uU3RvcHBlZE5vdGlmaWNhdGlvbjogbnVsbCxcbiAgICBQcm9taXNlOiB1bmRlZmluZWQsXG4gICAgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZzogZmFsc2UsXG4gICAgdXNlRGVwcmVjYXRlZE5leHRDb250ZXh0OiBmYWxzZSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db25uZWN0YWJsZU9ic2VydmFibGUgPSB2b2lkIDA7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL09ic2VydmFibGVcIik7XG52YXIgU3Vic2NyaXB0aW9uXzEgPSByZXF1aXJlKFwiLi4vU3Vic2NyaXB0aW9uXCIpO1xudmFyIHJlZkNvdW50XzEgPSByZXF1aXJlKFwiLi4vb3BlcmF0b3JzL3JlZkNvdW50XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4uL29wZXJhdG9ycy9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBDb25uZWN0YWJsZU9ic2VydmFibGUgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb25uZWN0YWJsZU9ic2VydmFibGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29ubmVjdGFibGVPYnNlcnZhYmxlKHNvdXJjZSwgc3ViamVjdEZhY3RvcnkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICBfdGhpcy5zdWJqZWN0RmFjdG9yeSA9IHN1YmplY3RGYWN0b3J5O1xuICAgICAgICBfdGhpcy5fc3ViamVjdCA9IG51bGw7XG4gICAgICAgIF90aGlzLl9yZWZDb3VudCA9IDA7XG4gICAgICAgIF90aGlzLl9jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgaWYgKGxpZnRfMS5oYXNMaWZ0KHNvdXJjZSkpIHtcbiAgICAgICAgICAgIF90aGlzLmxpZnQgPSBzb3VyY2UubGlmdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN1YmplY3QoKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLmdldFN1YmplY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gdGhpcy5fc3ViamVjdDtcbiAgICAgICAgaWYgKCFzdWJqZWN0IHx8IHN1YmplY3QuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJqZWN0ID0gdGhpcy5zdWJqZWN0RmFjdG9yeSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zdWJqZWN0O1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5fdGVhcmRvd24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3JlZkNvdW50ID0gMDtcbiAgICAgICAgdmFyIF9jb25uZWN0aW9uID0gdGhpcy5fY29ubmVjdGlvbjtcbiAgICAgICAgdGhpcy5fc3ViamVjdCA9IHRoaXMuX2Nvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICBfY29ubmVjdGlvbiA9PT0gbnVsbCB8fCBfY29ubmVjdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Nvbm5lY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSB0aGlzLl9jb25uZWN0aW9uO1xuICAgICAgICBpZiAoIWNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSB0aGlzLl9jb25uZWN0aW9uID0gbmV3IFN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgdmFyIHN1YmplY3RfMSA9IHRoaXMuZ2V0U3ViamVjdCgpO1xuICAgICAgICAgICAgY29ubmVjdGlvbi5hZGQodGhpcy5zb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJqZWN0XzEsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl90ZWFyZG93bigpO1xuICAgICAgICAgICAgICAgIHN1YmplY3RfMS5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIF90aGlzLl90ZWFyZG93bigpO1xuICAgICAgICAgICAgICAgIHN1YmplY3RfMS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX3RlYXJkb3duKCk7IH0pKSk7XG4gICAgICAgICAgICBpZiAoY29ubmVjdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0gU3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25uZWN0aW9uO1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5yZWZDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHJlZkNvdW50XzEucmVmQ291bnQoKSh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBDb25uZWN0YWJsZU9ic2VydmFibGU7XG59KE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKSk7XG5leHBvcnRzLkNvbm5lY3RhYmxlT2JzZXJ2YWJsZSA9IENvbm5lY3RhYmxlT2JzZXJ2YWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbm5lY3RhYmxlT2JzZXJ2YWJsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY29tYmluZUxhdGVzdEluaXQgPSBleHBvcnRzLmNvbWJpbmVMYXRlc3QgPSB2b2lkIDA7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL09ic2VydmFibGVcIik7XG52YXIgYXJnc0FyZ0FycmF5T3JPYmplY3RfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NBcmdBcnJheU9yT2JqZWN0XCIpO1xudmFyIGZyb21fMSA9IHJlcXVpcmUoXCIuL2Zyb21cIik7XG52YXIgaWRlbnRpdHlfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lkZW50aXR5XCIpO1xudmFyIG1hcE9uZU9yTWFueUFyZ3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL21hcE9uZU9yTWFueUFyZ3NcIik7XG52YXIgYXJnc18xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc1wiKTtcbnZhciBjcmVhdGVPYmplY3RfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2NyZWF0ZU9iamVjdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuLi9vcGVyYXRvcnMvT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIGV4ZWN1dGVTY2hlZHVsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlXCIpO1xuZnVuY3Rpb24gY29tYmluZUxhdGVzdCgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IGFyZ3NfMS5wb3BTY2hlZHVsZXIoYXJncyk7XG4gICAgdmFyIHJlc3VsdFNlbGVjdG9yID0gYXJnc18xLnBvcFJlc3VsdFNlbGVjdG9yKGFyZ3MpO1xuICAgIHZhciBfYSA9IGFyZ3NBcmdBcnJheU9yT2JqZWN0XzEuYXJnc0FyZ0FycmF5T3JPYmplY3QoYXJncyksIG9ic2VydmFibGVzID0gX2EuYXJncywga2V5cyA9IF9hLmtleXM7XG4gICAgaWYgKG9ic2VydmFibGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZnJvbV8xLmZyb20oW10sIHNjaGVkdWxlcik7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoY29tYmluZUxhdGVzdEluaXQob2JzZXJ2YWJsZXMsIHNjaGVkdWxlciwga2V5c1xuICAgICAgICA/XG4gICAgICAgICAgICBmdW5jdGlvbiAodmFsdWVzKSB7IHJldHVybiBjcmVhdGVPYmplY3RfMS5jcmVhdGVPYmplY3Qoa2V5cywgdmFsdWVzKTsgfVxuICAgICAgICA6XG4gICAgICAgICAgICBpZGVudGl0eV8xLmlkZW50aXR5KSk7XG4gICAgcmV0dXJuIHJlc3VsdFNlbGVjdG9yID8gcmVzdWx0LnBpcGUobWFwT25lT3JNYW55QXJnc18xLm1hcE9uZU9yTWFueUFyZ3MocmVzdWx0U2VsZWN0b3IpKSA6IHJlc3VsdDtcbn1cbmV4cG9ydHMuY29tYmluZUxhdGVzdCA9IGNvbWJpbmVMYXRlc3Q7XG5mdW5jdGlvbiBjb21iaW5lTGF0ZXN0SW5pdChvYnNlcnZhYmxlcywgc2NoZWR1bGVyLCB2YWx1ZVRyYW5zZm9ybSkge1xuICAgIGlmICh2YWx1ZVRyYW5zZm9ybSA9PT0gdm9pZCAwKSB7IHZhbHVlVHJhbnNmb3JtID0gaWRlbnRpdHlfMS5pZGVudGl0eTsgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBtYXliZVNjaGVkdWxlKHNjaGVkdWxlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IG9ic2VydmFibGVzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICAgICAgICAgIHZhciBhY3RpdmUgPSBsZW5ndGg7XG4gICAgICAgICAgICB2YXIgcmVtYWluaW5nRmlyc3RWYWx1ZXMgPSBsZW5ndGg7XG4gICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgbWF5YmVTY2hlZHVsZShzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGZyb21fMS5mcm9tKG9ic2VydmFibGVzW2ldLCBzY2hlZHVsZXIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFzRmlyc3RWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNGaXJzdFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRmlyc3RWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtYWluaW5nRmlyc3RWYWx1ZXMtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVtYWluaW5nRmlyc3RWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWVUcmFuc2Zvcm0odmFsdWVzLnNsaWNlKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEtLWFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH0sIHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBfbG9vcF8xKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBzdWJzY3JpYmVyKTtcbiAgICB9O1xufVxuZXhwb3J0cy5jb21iaW5lTGF0ZXN0SW5pdCA9IGNvbWJpbmVMYXRlc3RJbml0O1xuZnVuY3Rpb24gbWF5YmVTY2hlZHVsZShzY2hlZHVsZXIsIGV4ZWN1dGUsIHN1YnNjcmlwdGlvbikge1xuICAgIGlmIChzY2hlZHVsZXIpIHtcbiAgICAgICAgZXhlY3V0ZVNjaGVkdWxlXzEuZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmlwdGlvbiwgc2NoZWR1bGVyLCBleGVjdXRlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV4ZWN1dGUoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21iaW5lTGF0ZXN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb25jYXQgPSB2b2lkIDA7XG52YXIgY29uY2F0QWxsXzEgPSByZXF1aXJlKFwiLi4vb3BlcmF0b3JzL2NvbmNhdEFsbFwiKTtcbnZhciBhcmdzXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzXCIpO1xudmFyIGZyb21fMSA9IHJlcXVpcmUoXCIuL2Zyb21cIik7XG5mdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBjb25jYXRBbGxfMS5jb25jYXRBbGwoKShmcm9tXzEuZnJvbShhcmdzLCBhcmdzXzEucG9wU2NoZWR1bGVyKGFyZ3MpKSk7XG59XG5leHBvcnRzLmNvbmNhdCA9IGNvbmNhdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmNhdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZW1wdHkgPSBleHBvcnRzLkVNUFRZID0gdm9pZCAwO1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuLi9PYnNlcnZhYmxlXCIpO1xuZXhwb3J0cy5FTVBUWSA9IG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KTtcbmZ1bmN0aW9uIGVtcHR5KHNjaGVkdWxlcikge1xuICAgIHJldHVybiBzY2hlZHVsZXIgPyBlbXB0eVNjaGVkdWxlZChzY2hlZHVsZXIpIDogZXhwb3J0cy5FTVBUWTtcbn1cbmV4cG9ydHMuZW1wdHkgPSBlbXB0eTtcbmZ1bmN0aW9uIGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVtcHR5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mcm9tID0gdm9pZCAwO1xudmFyIHNjaGVkdWxlZF8xID0gcmVxdWlyZShcIi4uL3NjaGVkdWxlZC9zY2hlZHVsZWRcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi9pbm5lckZyb21cIik7XG5mdW5jdGlvbiBmcm9tKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gc2NoZWR1bGVyID8gc2NoZWR1bGVkXzEuc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIDogaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGlucHV0KTtcbn1cbmV4cG9ydHMuZnJvbSA9IGZyb207XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mcm9tU3Vic2NyaWJhYmxlID0gdm9pZCAwO1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuLi9PYnNlcnZhYmxlXCIpO1xuZnVuY3Rpb24gZnJvbVN1YnNjcmliYWJsZShzdWJzY3JpYmFibGUpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzdWJzY3JpYmFibGUuc3Vic2NyaWJlKHN1YnNjcmliZXIpOyB9KTtcbn1cbmV4cG9ydHMuZnJvbVN1YnNjcmliYWJsZSA9IGZyb21TdWJzY3JpYmFibGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tU3Vic2NyaWJhYmxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbnZhciBfX2FzeW5jVmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX2FzeW5jVmFsdWVzKSB8fCBmdW5jdGlvbiAobykge1xuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cbn07XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmZyb21SZWFkYWJsZVN0cmVhbUxpa2UgPSBleHBvcnRzLmZyb21Bc3luY0l0ZXJhYmxlID0gZXhwb3J0cy5mcm9tSXRlcmFibGUgPSBleHBvcnRzLmZyb21Qcm9taXNlID0gZXhwb3J0cy5mcm9tQXJyYXlMaWtlID0gZXhwb3J0cy5mcm9tSW50ZXJvcE9ic2VydmFibGUgPSBleHBvcnRzLmlubmVyRnJvbSA9IHZvaWQgMDtcbnZhciBpc0FycmF5TGlrZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNBcnJheUxpa2VcIik7XG52YXIgaXNQcm9taXNlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc1Byb21pc2VcIik7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL09ic2VydmFibGVcIik7XG52YXIgaXNJbnRlcm9wT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZVwiKTtcbnZhciBpc0FzeW5jSXRlcmFibGVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzQXN5bmNJdGVyYWJsZVwiKTtcbnZhciB0aHJvd1Vub2JzZXJ2YWJsZUVycm9yXzEgPSByZXF1aXJlKFwiLi4vdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yXCIpO1xudmFyIGlzSXRlcmFibGVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzSXRlcmFibGVcIik7XG52YXIgaXNSZWFkYWJsZVN0cmVhbUxpa2VfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlXCIpO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzRnVuY3Rpb25cIik7XG52YXIgcmVwb3J0VW5oYW5kbGVkRXJyb3JfMSA9IHJlcXVpcmUoXCIuLi91dGlsL3JlcG9ydFVuaGFuZGxlZEVycm9yXCIpO1xudmFyIG9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuLi9zeW1ib2wvb2JzZXJ2YWJsZVwiKTtcbmZ1bmN0aW9uIGlubmVyRnJvbShpbnB1dCkge1xuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlzSW50ZXJvcE9ic2VydmFibGVfMS5pc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21JbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlXzEuaXNBcnJheUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUFycmF5TGlrZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJvbWlzZV8xLmlzUHJvbWlzZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tUHJvbWlzZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXN5bmNJdGVyYWJsZV8xLmlzQXN5bmNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tQXN5bmNJdGVyYWJsZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSXRlcmFibGVfMS5pc0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21JdGVyYWJsZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUmVhZGFibGVTdHJlYW1MaWtlXzEuaXNSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgdGhyb3dVbm9ic2VydmFibGVFcnJvcl8xLmNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yKGlucHV0KTtcbn1cbmV4cG9ydHMuaW5uZXJGcm9tID0gaW5uZXJGcm9tO1xuZnVuY3Rpb24gZnJvbUludGVyb3BPYnNlcnZhYmxlKG9iaikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIG9icyA9IG9ialtvYnNlcnZhYmxlXzEub2JzZXJ2YWJsZV0oKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKG9icy5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZScpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5mcm9tSW50ZXJvcE9ic2VydmFibGUgPSBmcm9tSW50ZXJvcE9ic2VydmFibGU7XG5mdW5jdGlvbiBmcm9tQXJyYXlMaWtlKGFycmF5KSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aCAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfSk7XG59XG5leHBvcnRzLmZyb21BcnJheUxpa2UgPSBmcm9tQXJyYXlMaWtlO1xuZnVuY3Rpb24gZnJvbVByb21pc2UocHJvbWlzZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgcHJvbWlzZVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSlcbiAgICAgICAgICAgIC50aGVuKG51bGwsIHJlcG9ydFVuaGFuZGxlZEVycm9yXzEucmVwb3J0VW5oYW5kbGVkRXJyb3IpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5mcm9tUHJvbWlzZSA9IGZyb21Qcm9taXNlO1xuZnVuY3Rpb24gZnJvbUl0ZXJhYmxlKGl0ZXJhYmxlKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZXJhYmxlXzEgPSBfX3ZhbHVlcyhpdGVyYWJsZSksIGl0ZXJhYmxlXzFfMSA9IGl0ZXJhYmxlXzEubmV4dCgpOyAhaXRlcmFibGVfMV8xLmRvbmU7IGl0ZXJhYmxlXzFfMSA9IGl0ZXJhYmxlXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gaXRlcmFibGVfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyYWJsZV8xXzEgJiYgIWl0ZXJhYmxlXzFfMS5kb25lICYmIChfYSA9IGl0ZXJhYmxlXzEucmV0dXJuKSkgX2EuY2FsbChpdGVyYWJsZV8xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfSk7XG59XG5leHBvcnRzLmZyb21JdGVyYWJsZSA9IGZyb21JdGVyYWJsZTtcbmZ1bmN0aW9uIGZyb21Bc3luY0l0ZXJhYmxlKGFzeW5jSXRlcmFibGUpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHByb2Nlc3MoYXN5bmNJdGVyYWJsZSwgc3Vic2NyaWJlcikuY2F0Y2goZnVuY3Rpb24gKGVycikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZnJvbUFzeW5jSXRlcmFibGUgPSBmcm9tQXN5bmNJdGVyYWJsZTtcbmZ1bmN0aW9uIGZyb21SZWFkYWJsZVN0cmVhbUxpa2UocmVhZGFibGVTdHJlYW0pIHtcbiAgICByZXR1cm4gZnJvbUFzeW5jSXRlcmFibGUoaXNSZWFkYWJsZVN0cmVhbUxpa2VfMS5yZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKHJlYWRhYmxlU3RyZWFtKSk7XG59XG5leHBvcnRzLmZyb21SZWFkYWJsZVN0cmVhbUxpa2UgPSBmcm9tUmVhZGFibGVTdHJlYW1MaWtlO1xuZnVuY3Rpb24gcHJvY2Vzcyhhc3luY0l0ZXJhYmxlLCBzdWJzY3JpYmVyKSB7XG4gICAgdmFyIGFzeW5jSXRlcmFibGVfMSwgYXN5bmNJdGVyYWJsZV8xXzE7XG4gICAgdmFyIGVfMiwgX2E7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUsIGVfMl8xO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzAsIDUsIDYsIDExXSk7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jSXRlcmFibGVfMSA9IF9fYXN5bmNWYWx1ZXMoYXN5bmNJdGVyYWJsZSk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbNCwgYXN5bmNJdGVyYWJsZV8xLm5leHQoKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIShhc3luY0l0ZXJhYmxlXzFfMSA9IF9iLnNlbnQoKSwgIWFzeW5jSXRlcmFibGVfMV8xLmRvbmUpKSByZXR1cm4gWzMsIDRdO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFzeW5jSXRlcmFibGVfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMl07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAzO1xuICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFszLCAxXTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMywgMTFdO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgZV8yXzEgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgMTFdO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFs2LCAsIDksIDEwXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGFzeW5jSXRlcmFibGVfMV8xICYmICFhc3luY0l0ZXJhYmxlXzFfMS5kb25lICYmIChfYSA9IGFzeW5jSXRlcmFibGVfMS5yZXR1cm4pKSkgcmV0dXJuIFszLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBfYS5jYWxsKGFzeW5jSXRlcmFibGVfMSldO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDg7XG4gICAgICAgICAgICAgICAgY2FzZSA4OiByZXR1cm4gWzMsIDEwXTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3XTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOiByZXR1cm4gWzddO1xuICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbm5lckZyb20uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmludGVydmFsID0gdm9pZCAwO1xudmFyIGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vc2NoZWR1bGVyL2FzeW5jXCIpO1xudmFyIHRpbWVyXzEgPSByZXF1aXJlKFwiLi90aW1lclwiKTtcbmZ1bmN0aW9uIGludGVydmFsKHBlcmlvZCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHBlcmlvZCA9PT0gdm9pZCAwKSB7IHBlcmlvZCA9IDA7IH1cbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHsgc2NoZWR1bGVyID0gYXN5bmNfMS5hc3luY1NjaGVkdWxlcjsgfVxuICAgIGlmIChwZXJpb2QgPCAwKSB7XG4gICAgICAgIHBlcmlvZCA9IDA7XG4gICAgfVxuICAgIHJldHVybiB0aW1lcl8xLnRpbWVyKHBlcmlvZCwgcGVyaW9kLCBzY2hlZHVsZXIpO1xufVxuZXhwb3J0cy5pbnRlcnZhbCA9IGludGVydmFsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJ2YWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm9mID0gdm9pZCAwO1xudmFyIGFyZ3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NcIik7XG52YXIgZnJvbV8xID0gcmVxdWlyZShcIi4vZnJvbVwiKTtcbmZ1bmN0aW9uIG9mKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgc2NoZWR1bGVyID0gYXJnc18xLnBvcFNjaGVkdWxlcihhcmdzKTtcbiAgICByZXR1cm4gZnJvbV8xLmZyb20oYXJncywgc2NoZWR1bGVyKTtcbn1cbmV4cG9ydHMub2YgPSBvZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9mLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yYWNlSW5pdCA9IGV4cG9ydHMucmFjZSA9IHZvaWQgMDtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vT2JzZXJ2YWJsZVwiKTtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuL2lubmVyRnJvbVwiKTtcbnZhciBhcmdzT3JBcmdBcnJheV8xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc09yQXJnQXJyYXlcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi4vb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIHJhY2UoKSB7XG4gICAgdmFyIHNvdXJjZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBzb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHNvdXJjZXMgPSBhcmdzT3JBcmdBcnJheV8xLmFyZ3NPckFyZ0FycmF5KHNvdXJjZXMpO1xuICAgIHJldHVybiBzb3VyY2VzLmxlbmd0aCA9PT0gMSA/IGlubmVyRnJvbV8xLmlubmVyRnJvbShzb3VyY2VzWzBdKSA6IG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShyYWNlSW5pdChzb3VyY2VzKSk7XG59XG5leHBvcnRzLnJhY2UgPSByYWNlO1xuZnVuY3Rpb24gcmFjZUluaXQoc291cmNlcykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goaW5uZXJGcm9tXzEuaW5uZXJGcm9tKHNvdXJjZXNbaV0pLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBzdWJzY3JpcHRpb25zLmxlbmd0aDsgcysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzICE9PSBpICYmIHN1YnNjcmlwdGlvbnNbc10udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBzdWJzY3JpcHRpb25zICYmICFzdWJzY3JpYmVyLmNsb3NlZCAmJiBpIDwgc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgX2xvb3BfMShpKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnRzLnJhY2VJbml0ID0gcmFjZUluaXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yYWNlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy50aHJvd0Vycm9yID0gdm9pZCAwO1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuLi9PYnNlcnZhYmxlXCIpO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzRnVuY3Rpb25cIik7XG5mdW5jdGlvbiB0aHJvd0Vycm9yKGVycm9yT3JFcnJvckZhY3RvcnksIHNjaGVkdWxlcikge1xuICAgIHZhciBlcnJvckZhY3RvcnkgPSBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihlcnJvck9yRXJyb3JGYWN0b3J5KSA/IGVycm9yT3JFcnJvckZhY3RvcnkgOiBmdW5jdGlvbiAoKSB7IHJldHVybiBlcnJvck9yRXJyb3JGYWN0b3J5OyB9O1xuICAgIHZhciBpbml0ID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyb3JGYWN0b3J5KCkpOyB9O1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoc2NoZWR1bGVyID8gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShpbml0LCAwLCBzdWJzY3JpYmVyKTsgfSA6IGluaXQpO1xufVxuZXhwb3J0cy50aHJvd0Vycm9yID0gdGhyb3dFcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocm93RXJyb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRpbWVyID0gdm9pZCAwO1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuLi9PYnNlcnZhYmxlXCIpO1xudmFyIGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vc2NoZWR1bGVyL2FzeW5jXCIpO1xudmFyIGlzU2NoZWR1bGVyXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc1NjaGVkdWxlclwiKTtcbnZhciBpc0RhdGVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzRGF0ZVwiKTtcbmZ1bmN0aW9uIHRpbWVyKGR1ZVRpbWUsIGludGVydmFsT3JTY2hlZHVsZXIsIHNjaGVkdWxlcikge1xuICAgIGlmIChkdWVUaW1lID09PSB2b2lkIDApIHsgZHVlVGltZSA9IDA7IH1cbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHsgc2NoZWR1bGVyID0gYXN5bmNfMS5hc3luYzsgfVxuICAgIHZhciBpbnRlcnZhbER1cmF0aW9uID0gLTE7XG4gICAgaWYgKGludGVydmFsT3JTY2hlZHVsZXIgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNTY2hlZHVsZXJfMS5pc1NjaGVkdWxlcihpbnRlcnZhbE9yU2NoZWR1bGVyKSkge1xuICAgICAgICAgICAgc2NoZWR1bGVyID0gaW50ZXJ2YWxPclNjaGVkdWxlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGludGVydmFsRHVyYXRpb24gPSBpbnRlcnZhbE9yU2NoZWR1bGVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGR1ZSA9IGlzRGF0ZV8xLmlzVmFsaWREYXRlKGR1ZVRpbWUpID8gK2R1ZVRpbWUgLSBzY2hlZHVsZXIubm93KCkgOiBkdWVUaW1lO1xuICAgICAgICBpZiAoZHVlIDwgMCkge1xuICAgICAgICAgICAgZHVlID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbiA9IDA7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChuKyspO1xuICAgICAgICAgICAgICAgIGlmICgwIDw9IGludGVydmFsRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSh1bmRlZmluZWQsIGludGVydmFsRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZHVlKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMudGltZXIgPSB0aW1lcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxuICAgICAgICB0b1tqXSA9IGZyb21baV07XG4gICAgcmV0dXJuIHRvO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuemlwID0gdm9pZCAwO1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuLi9PYnNlcnZhYmxlXCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4vaW5uZXJGcm9tXCIpO1xudmFyIGFyZ3NPckFyZ0FycmF5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzT3JBcmdBcnJheVwiKTtcbnZhciBlbXB0eV8xID0gcmVxdWlyZShcIi4vZW1wdHlcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi4vb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBhcmdzXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzXCIpO1xuZnVuY3Rpb24gemlwKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0U2VsZWN0b3IgPSBhcmdzXzEucG9wUmVzdWx0U2VsZWN0b3IoYXJncyk7XG4gICAgdmFyIHNvdXJjZXMgPSBhcmdzT3JBcmdBcnJheV8xLmFyZ3NPckFyZ0FycmF5KGFyZ3MpO1xuICAgIHJldHVybiBzb3VyY2VzLmxlbmd0aFxuICAgICAgICA/IG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlcnMgPSBzb3VyY2VzLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBbXTsgfSk7XG4gICAgICAgICAgICB2YXIgY29tcGxldGVkID0gc291cmNlcy5tYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0pO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlcnMgPSBjb21wbGV0ZWQgPSBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChzb3VyY2VJbmRleCkge1xuICAgICAgICAgICAgICAgIGlubmVyRnJvbV8xLmlubmVyRnJvbShzb3VyY2VzW3NvdXJjZUluZGV4XSkuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyc1tzb3VyY2VJbmRleF0ucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXJzLmV2ZXJ5KGZ1bmN0aW9uIChidWZmZXIpIHsgcmV0dXJuIGJ1ZmZlci5sZW5ndGg7IH0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYnVmZmVycy5tYXAoZnVuY3Rpb24gKGJ1ZmZlcikgeyByZXR1cm4gYnVmZmVyLnNoaWZ0KCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHJlc3VsdFNlbGVjdG9yID8gcmVzdWx0U2VsZWN0b3IuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQocmVzdWx0KSkpIDogcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXJzLnNvbWUoZnVuY3Rpb24gKGJ1ZmZlciwgaSkgeyByZXR1cm4gIWJ1ZmZlci5sZW5ndGggJiYgY29tcGxldGVkW2ldOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkW3NvdXJjZUluZGV4XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICFidWZmZXJzW3NvdXJjZUluZGV4XS5sZW5ndGggJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKHZhciBzb3VyY2VJbmRleCA9IDA7ICFzdWJzY3JpYmVyLmNsb3NlZCAmJiBzb3VyY2VJbmRleCA8IHNvdXJjZXMubGVuZ3RoOyBzb3VyY2VJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgX2xvb3BfMShzb3VyY2VJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlcnMgPSBjb21wbGV0ZWQgPSBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgOiBlbXB0eV8xLkVNUFRZO1xufVxuZXhwb3J0cy56aXAgPSB6aXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD16aXAuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PcGVyYXRvclN1YnNjcmliZXIgPSBleHBvcnRzLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciA9IHZvaWQgMDtcbnZhciBTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi4vU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb25OZXh0LCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvbkZpbmFsaXplKSB7XG4gICAgcmV0dXJuIG5ldyBPcGVyYXRvclN1YnNjcmliZXIoZGVzdGluYXRpb24sIG9uTmV4dCwgb25Db21wbGV0ZSwgb25FcnJvciwgb25GaW5hbGl6ZSk7XG59XG5leHBvcnRzLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciA9IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcjtcbnZhciBPcGVyYXRvclN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhPcGVyYXRvclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUsIHNob3VsZFVuc3Vic2NyaWJlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5vbkZpbmFsaXplID0gb25GaW5hbGl6ZTtcbiAgICAgICAgX3RoaXMuc2hvdWxkVW5zdWJzY3JpYmUgPSBzaG91bGRVbnN1YnNjcmliZTtcbiAgICAgICAgX3RoaXMuX25leHQgPSBvbk5leHRcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25OZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogX3N1cGVyLnByb3RvdHlwZS5fbmV4dDtcbiAgICAgICAgX3RoaXMuX2Vycm9yID0gb25FcnJvclxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9lcnJvcjtcbiAgICAgICAgX3RoaXMuX2NvbXBsZXRlID0gb25Db21wbGV0ZVxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9jb21wbGV0ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPcGVyYXRvclN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRVbnN1YnNjcmliZSB8fCB0aGlzLnNob3VsZFVuc3Vic2NyaWJlKCkpIHtcbiAgICAgICAgICAgIHZhciBjbG9zZWRfMSA9IHRoaXMuY2xvc2VkO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgIWNsb3NlZF8xICYmICgoX2EgPSB0aGlzLm9uRmluYWxpemUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE9wZXJhdG9yU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcl8xLlN1YnNjcmliZXIpKTtcbmV4cG9ydHMuT3BlcmF0b3JTdWJzY3JpYmVyID0gT3BlcmF0b3JTdWJzY3JpYmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3BlcmF0b3JTdWJzY3JpYmVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5hdWRpdCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gYXVkaXQoZHVyYXRpb25TZWxlY3Rvcikge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgdmFyIGR1cmF0aW9uU3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgIHZhciBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHZhciBlbmREdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uU3Vic2NyaWJlciA9PT0gbnVsbCB8fCBkdXJhdGlvblN1YnNjcmliZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGR1cmF0aW9uU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgZHVyYXRpb25TdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChoYXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gbGFzdFZhbHVlO1xuICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzQ29tcGxldGUgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgY2xlYW51cER1cmF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZHVyYXRpb25TdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgICAgIGlzQ29tcGxldGUgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9O1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKCFkdXJhdGlvblN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgICAgICBpbm5lckZyb21fMS5pbm5lckZyb20oZHVyYXRpb25TZWxlY3Rvcih2YWx1ZSkpLnN1YnNjcmliZSgoZHVyYXRpb25TdWJzY3JpYmVyID0gT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGVuZER1cmF0aW9uLCBjbGVhbnVwRHVyYXRpb24pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgKCFoYXNWYWx1ZSB8fCAhZHVyYXRpb25TdWJzY3JpYmVyIHx8IGR1cmF0aW9uU3Vic2NyaWJlci5jbG9zZWQpICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5hdWRpdCA9IGF1ZGl0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXVkaXQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmF1ZGl0VGltZSA9IHZvaWQgMDtcbnZhciBhc3luY18xID0gcmVxdWlyZShcIi4uL3NjaGVkdWxlci9hc3luY1wiKTtcbnZhciBhdWRpdF8xID0gcmVxdWlyZShcIi4vYXVkaXRcIik7XG52YXIgdGltZXJfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL3RpbWVyXCIpO1xuZnVuY3Rpb24gYXVkaXRUaW1lKGR1cmF0aW9uLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHsgc2NoZWR1bGVyID0gYXN5bmNfMS5hc3luY1NjaGVkdWxlcjsgfVxuICAgIHJldHVybiBhdWRpdF8xLmF1ZGl0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRpbWVyXzEudGltZXIoZHVyYXRpb24sIHNjaGVkdWxlcik7IH0pO1xufVxuZXhwb3J0cy5hdWRpdFRpbWUgPSBhdWRpdFRpbWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpdFRpbWUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmJ1ZmZlciA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIG5vb3BfMSA9IHJlcXVpcmUoXCIuLi91dGlsL25vb3BcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBidWZmZXIoY2xvc2luZ05vdGlmaWVyKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRCdWZmZXIgPSBbXTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBjdXJyZW50QnVmZmVyLnB1c2godmFsdWUpOyB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoY3VycmVudEJ1ZmZlcik7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgY2xvc2luZ05vdGlmaWVyLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGIgPSBjdXJyZW50QnVmZmVyO1xuICAgICAgICAgICAgY3VycmVudEJ1ZmZlciA9IFtdO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGIpO1xuICAgICAgICB9LCBub29wXzEubm9vcCkpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY3VycmVudEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIH07XG4gICAgfSk7XG59XG5leHBvcnRzLmJ1ZmZlciA9IGJ1ZmZlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1ZmZlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYnVmZmVyQ291bnQgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBhcnJSZW1vdmVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyclJlbW92ZVwiKTtcbmZ1bmN0aW9uIGJ1ZmZlckNvdW50KGJ1ZmZlclNpemUsIHN0YXJ0QnVmZmVyRXZlcnkpIHtcbiAgICBpZiAoc3RhcnRCdWZmZXJFdmVyeSA9PT0gdm9pZCAwKSB7IHN0YXJ0QnVmZmVyRXZlcnkgPSBudWxsOyB9XG4gICAgc3RhcnRCdWZmZXJFdmVyeSA9IHN0YXJ0QnVmZmVyRXZlcnkgIT09IG51bGwgJiYgc3RhcnRCdWZmZXJFdmVyeSAhPT0gdm9pZCAwID8gc3RhcnRCdWZmZXJFdmVyeSA6IGJ1ZmZlclNpemU7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjtcbiAgICAgICAgICAgIHZhciB0b0VtaXQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGNvdW50KysgJSBzdGFydEJ1ZmZlckV2ZXJ5ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVycy5wdXNoKFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYnVmZmVyc18xID0gX192YWx1ZXMoYnVmZmVycyksIGJ1ZmZlcnNfMV8xID0gYnVmZmVyc18xLm5leHQoKTsgIWJ1ZmZlcnNfMV8xLmRvbmU7IGJ1ZmZlcnNfMV8xID0gYnVmZmVyc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlclNpemUgPD0gYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9FbWl0ID0gdG9FbWl0ICE9PSBudWxsICYmIHRvRW1pdCAhPT0gdm9pZCAwID8gdG9FbWl0IDogW107XG4gICAgICAgICAgICAgICAgICAgICAgICB0b0VtaXQucHVzaChidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXJzXzFfMSAmJiAhYnVmZmVyc18xXzEuZG9uZSAmJiAoX2EgPSBidWZmZXJzXzEucmV0dXJuKSkgX2EuY2FsbChidWZmZXJzXzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9FbWl0KSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdG9FbWl0XzEgPSBfX3ZhbHVlcyh0b0VtaXQpLCB0b0VtaXRfMV8xID0gdG9FbWl0XzEubmV4dCgpOyAhdG9FbWl0XzFfMS5kb25lOyB0b0VtaXRfMV8xID0gdG9FbWl0XzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gdG9FbWl0XzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyclJlbW92ZV8xLmFyclJlbW92ZShidWZmZXJzLCBidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b0VtaXRfMV8xICYmICF0b0VtaXRfMV8xLmRvbmUgJiYgKF9iID0gdG9FbWl0XzEucmV0dXJuKSkgX2IuY2FsbCh0b0VtaXRfMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGVfMywgX2E7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGJ1ZmZlcnNfMiA9IF9fdmFsdWVzKGJ1ZmZlcnMpLCBidWZmZXJzXzJfMSA9IGJ1ZmZlcnNfMi5uZXh0KCk7ICFidWZmZXJzXzJfMS5kb25lOyBidWZmZXJzXzJfMSA9IGJ1ZmZlcnNfMi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNfMl8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8zXzEpIHsgZV8zID0geyBlcnJvcjogZV8zXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlcnNfMl8xICYmICFidWZmZXJzXzJfMS5kb25lICYmIChfYSA9IGJ1ZmZlcnNfMi5yZXR1cm4pKSBfYS5jYWxsKGJ1ZmZlcnNfMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8zKSB0aHJvdyBlXzMuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBidWZmZXJzID0gbnVsbDtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5idWZmZXJDb3VudCA9IGJ1ZmZlckNvdW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVmZmVyQ291bnQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmJ1ZmZlclRpbWUgPSB2b2lkIDA7XG52YXIgU3Vic2NyaXB0aW9uXzEgPSByZXF1aXJlKFwiLi4vU3Vic2NyaXB0aW9uXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgYXJyUmVtb3ZlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcnJSZW1vdmVcIik7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9zY2hlZHVsZXIvYXN5bmNcIik7XG52YXIgYXJnc18xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc1wiKTtcbnZhciBleGVjdXRlU2NoZWR1bGVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZVwiKTtcbmZ1bmN0aW9uIGJ1ZmZlclRpbWUoYnVmZmVyVGltZVNwYW4pIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHZhciBvdGhlckFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvdGhlckFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBzY2hlZHVsZXIgPSAoX2EgPSBhcmdzXzEucG9wU2NoZWR1bGVyKG90aGVyQXJncykpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGFzeW5jXzEuYXN5bmNTY2hlZHVsZXI7XG4gICAgdmFyIGJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWwgPSAoX2IgPSBvdGhlckFyZ3NbMF0pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGw7XG4gICAgdmFyIG1heEJ1ZmZlclNpemUgPSBvdGhlckFyZ3NbMV0gfHwgSW5maW5pdHk7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGJ1ZmZlclJlY29yZHMgPSBbXTtcbiAgICAgICAgdmFyIHJlc3RhcnRPbkVtaXQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVtaXQgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gcmVjb3JkLmJ1ZmZlciwgc3VicyA9IHJlY29yZC5zdWJzO1xuICAgICAgICAgICAgc3Vicy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgYXJyUmVtb3ZlXzEuYXJyUmVtb3ZlKGJ1ZmZlclJlY29yZHMsIHJlY29yZCk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYnVmZmVyKTtcbiAgICAgICAgICAgIHJlc3RhcnRPbkVtaXQgJiYgc3RhcnRCdWZmZXIoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHN0YXJ0QnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGJ1ZmZlclJlY29yZHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3VicyA9IG5ldyBTdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChzdWJzKTtcbiAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gW107XG4gICAgICAgICAgICAgICAgdmFyIHJlY29yZF8xID0ge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXI6IGJ1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgc3Viczogc3VicyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJ1ZmZlclJlY29yZHMucHVzaChyZWNvcmRfMSk7XG4gICAgICAgICAgICAgICAgZXhlY3V0ZVNjaGVkdWxlXzEuZXhlY3V0ZVNjaGVkdWxlKHN1YnMsIHNjaGVkdWxlciwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZW1pdChyZWNvcmRfMSk7IH0sIGJ1ZmZlclRpbWVTcGFuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWwgIT09IG51bGwgJiYgYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCA+PSAwKSB7XG4gICAgICAgICAgICBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBzdGFydEJ1ZmZlciwgYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN0YXJ0T25FbWl0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBzdGFydEJ1ZmZlcigpO1xuICAgICAgICB2YXIgYnVmZmVyVGltZVN1YnNjcmliZXIgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgICAgIHZhciByZWNvcmRzQ29weSA9IGJ1ZmZlclJlY29yZHMuc2xpY2UoKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcmVjb3Jkc0NvcHlfMSA9IF9fdmFsdWVzKHJlY29yZHNDb3B5KSwgcmVjb3Jkc0NvcHlfMV8xID0gcmVjb3Jkc0NvcHlfMS5uZXh0KCk7ICFyZWNvcmRzQ29weV8xXzEuZG9uZTsgcmVjb3Jkc0NvcHlfMV8xID0gcmVjb3Jkc0NvcHlfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IHJlY29yZHNDb3B5XzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IHJlY29yZC5idWZmZXI7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgbWF4QnVmZmVyU2l6ZSA8PSBidWZmZXIubGVuZ3RoICYmIGVtaXQocmVjb3JkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlY29yZHNDb3B5XzFfMSAmJiAhcmVjb3Jkc0NvcHlfMV8xLmRvbmUgJiYgKF9hID0gcmVjb3Jkc0NvcHlfMS5yZXR1cm4pKSBfYS5jYWxsKHJlY29yZHNDb3B5XzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdoaWxlIChidWZmZXJSZWNvcmRzID09PSBudWxsIHx8IGJ1ZmZlclJlY29yZHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJ1ZmZlclJlY29yZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGJ1ZmZlclJlY29yZHMuc2hpZnQoKS5idWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmZmVyVGltZVN1YnNjcmliZXIgPT09IG51bGwgfHwgYnVmZmVyVGltZVN1YnNjcmliZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJ1ZmZlclRpbWVTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gKGJ1ZmZlclJlY29yZHMgPSBudWxsKTsgfSk7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoYnVmZmVyVGltZVN1YnNjcmliZXIpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5idWZmZXJUaW1lID0gYnVmZmVyVGltZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1ZmZlclRpbWUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmJ1ZmZlclRvZ2dsZSA9IHZvaWQgMDtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuLi9TdWJzY3JpcHRpb25cIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBub29wXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9ub29wXCIpO1xudmFyIGFyclJlbW92ZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJyUmVtb3ZlXCIpO1xuZnVuY3Rpb24gYnVmZmVyVG9nZ2xlKG9wZW5pbmdzLCBjbG9zaW5nU2VsZWN0b3IpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgYnVmZmVycyA9IFtdO1xuICAgICAgICBpbm5lckZyb21fMS5pbm5lckZyb20ob3BlbmluZ3MpLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKG9wZW5WYWx1ZSkge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IFtdO1xuICAgICAgICAgICAgYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgICAgICB2YXIgY2xvc2luZ1N1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIHZhciBlbWl0QnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGFyclJlbW92ZV8xLmFyclJlbW92ZShidWZmZXJzLCBidWZmZXIpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChidWZmZXIpO1xuICAgICAgICAgICAgICAgIGNsb3NpbmdTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjbG9zaW5nU3Vic2NyaXB0aW9uLmFkZChpbm5lckZyb21fMS5pbm5lckZyb20oY2xvc2luZ1NlbGVjdG9yKG9wZW5WYWx1ZSkpLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZW1pdEJ1ZmZlciwgbm9vcF8xLm5vb3ApKSk7XG4gICAgICAgIH0sIG5vb3BfMS5ub29wKSk7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGJ1ZmZlcnNfMSA9IF9fdmFsdWVzKGJ1ZmZlcnMpLCBidWZmZXJzXzFfMSA9IGJ1ZmZlcnNfMS5uZXh0KCk7ICFidWZmZXJzXzFfMS5kb25lOyBidWZmZXJzXzFfMSA9IGJ1ZmZlcnNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBidWZmZXIucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXJzXzFfMSAmJiAhYnVmZmVyc18xXzEuZG9uZSAmJiAoX2EgPSBidWZmZXJzXzEucmV0dXJuKSkgX2EuY2FsbChidWZmZXJzXzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdoaWxlIChidWZmZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYnVmZmVycy5zaGlmdCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5idWZmZXJUb2dnbGUgPSBidWZmZXJUb2dnbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWZmZXJUb2dnbGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmJ1ZmZlcldoZW4gPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBub29wXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9ub29wXCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xuZnVuY3Rpb24gYnVmZmVyV2hlbihjbG9zaW5nU2VsZWN0b3IpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgYnVmZmVyID0gbnVsbDtcbiAgICAgICAgdmFyIGNsb3NpbmdTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgdmFyIG9wZW5CdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbG9zaW5nU3Vic2NyaWJlciA9PT0gbnVsbCB8fCBjbG9zaW5nU3Vic2NyaWJlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2xvc2luZ1N1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHZhciBiID0gYnVmZmVyO1xuICAgICAgICAgICAgYnVmZmVyID0gW107XG4gICAgICAgICAgICBiICYmIHN1YnNjcmliZXIubmV4dChiKTtcbiAgICAgICAgICAgIGlubmVyRnJvbV8xLmlubmVyRnJvbShjbG9zaW5nU2VsZWN0b3IoKSkuc3Vic2NyaWJlKChjbG9zaW5nU3Vic2NyaWJlciA9IE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBvcGVuQnVmZmVyLCBub29wXzEubm9vcCkpKTtcbiAgICAgICAgfTtcbiAgICAgICAgb3BlbkJ1ZmZlcigpO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIGJ1ZmZlciA9PT0gbnVsbCB8fCBidWZmZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJ1ZmZlci5wdXNoKHZhbHVlKTsgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYnVmZmVyICYmIHN1YnNjcmliZXIubmV4dChidWZmZXIpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIChidWZmZXIgPSBjbG9zaW5nU3Vic2NyaWJlciA9IG51bGwpOyB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmJ1ZmZlcldoZW4gPSBidWZmZXJXaGVuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVmZmVyV2hlbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY2F0Y2hFcnJvciA9IHZvaWQgMDtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xuZnVuY3Rpb24gY2F0Y2hFcnJvcihzZWxlY3Rvcikge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgIHZhciBzeW5jVW5zdWIgPSBmYWxzZTtcbiAgICAgICAgdmFyIGhhbmRsZWRSZXN1bHQ7XG4gICAgICAgIGlubmVyU3ViID0gc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGhhbmRsZWRSZXN1bHQgPSBpbm5lckZyb21fMS5pbm5lckZyb20oc2VsZWN0b3IoZXJyLCBjYXRjaEVycm9yKHNlbGVjdG9yKShzb3VyY2UpKSk7XG4gICAgICAgICAgICBpZiAoaW5uZXJTdWIpIHtcbiAgICAgICAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgICAgICAgICBoYW5kbGVkUmVzdWx0LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN5bmNVbnN1YiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgaWYgKHN5bmNVbnN1Yikge1xuICAgICAgICAgICAgaW5uZXJTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgICAgIGhhbmRsZWRSZXN1bHQuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLmNhdGNoRXJyb3IgPSBjYXRjaEVycm9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2F0Y2hFcnJvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY29tYmluZUFsbCA9IHZvaWQgMDtcbnZhciBjb21iaW5lTGF0ZXN0QWxsXzEgPSByZXF1aXJlKFwiLi9jb21iaW5lTGF0ZXN0QWxsXCIpO1xuZXhwb3J0cy5jb21iaW5lQWxsID0gY29tYmluZUxhdGVzdEFsbF8xLmNvbWJpbmVMYXRlc3RBbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21iaW5lQWxsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxuICAgICAgICB0b1tqXSA9IGZyb21baV07XG4gICAgcmV0dXJuIHRvO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY29tYmluZUxhdGVzdCA9IHZvaWQgMDtcbnZhciBjb21iaW5lTGF0ZXN0XzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9jb21iaW5lTGF0ZXN0XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgYXJnc09yQXJnQXJyYXlfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NPckFyZ0FycmF5XCIpO1xudmFyIG1hcE9uZU9yTWFueUFyZ3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL21hcE9uZU9yTWFueUFyZ3NcIik7XG52YXIgcGlwZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvcGlwZVwiKTtcbnZhciBhcmdzXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzXCIpO1xuZnVuY3Rpb24gY29tYmluZUxhdGVzdCgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdFNlbGVjdG9yID0gYXJnc18xLnBvcFJlc3VsdFNlbGVjdG9yKGFyZ3MpO1xuICAgIHJldHVybiByZXN1bHRTZWxlY3RvclxuICAgICAgICA/IHBpcGVfMS5waXBlKGNvbWJpbmVMYXRlc3QuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJncykpKSwgbWFwT25lT3JNYW55QXJnc18xLm1hcE9uZU9yTWFueUFyZ3MocmVzdWx0U2VsZWN0b3IpKVxuICAgICAgICA6IGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIGNvbWJpbmVMYXRlc3RfMS5jb21iaW5lTGF0ZXN0SW5pdChfX3NwcmVhZEFycmF5KFtzb3VyY2VdLCBfX3JlYWQoYXJnc09yQXJnQXJyYXlfMS5hcmdzT3JBcmdBcnJheShhcmdzKSkpKShzdWJzY3JpYmVyKTtcbiAgICAgICAgfSk7XG59XG5leHBvcnRzLmNvbWJpbmVMYXRlc3QgPSBjb21iaW5lTGF0ZXN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tYmluZUxhdGVzdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY29tYmluZUxhdGVzdEFsbCA9IHZvaWQgMDtcbnZhciBjb21iaW5lTGF0ZXN0XzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9jb21iaW5lTGF0ZXN0XCIpO1xudmFyIGpvaW5BbGxJbnRlcm5hbHNfMSA9IHJlcXVpcmUoXCIuL2pvaW5BbGxJbnRlcm5hbHNcIik7XG5mdW5jdGlvbiBjb21iaW5lTGF0ZXN0QWxsKHByb2plY3QpIHtcbiAgICByZXR1cm4gam9pbkFsbEludGVybmFsc18xLmpvaW5BbGxJbnRlcm5hbHMoY29tYmluZUxhdGVzdF8xLmNvbWJpbmVMYXRlc3QsIHByb2plY3QpO1xufVxuZXhwb3J0cy5jb21iaW5lTGF0ZXN0QWxsID0gY29tYmluZUxhdGVzdEFsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbWJpbmVMYXRlc3RBbGwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb21iaW5lTGF0ZXN0V2l0aCA9IHZvaWQgMDtcbnZhciBjb21iaW5lTGF0ZXN0XzEgPSByZXF1aXJlKFwiLi9jb21iaW5lTGF0ZXN0XCIpO1xuZnVuY3Rpb24gY29tYmluZUxhdGVzdFdpdGgoKSB7XG4gICAgdmFyIG90aGVyU291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG90aGVyU291cmNlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gY29tYmluZUxhdGVzdF8xLmNvbWJpbmVMYXRlc3QuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQob3RoZXJTb3VyY2VzKSkpO1xufVxuZXhwb3J0cy5jb21iaW5lTGF0ZXN0V2l0aCA9IGNvbWJpbmVMYXRlc3RXaXRoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tYmluZUxhdGVzdFdpdGguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb25jYXQgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBjb25jYXRBbGxfMSA9IHJlcXVpcmUoXCIuL2NvbmNhdEFsbFwiKTtcbnZhciBhcmdzXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzXCIpO1xudmFyIGZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2Zyb21cIik7XG5mdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBzY2hlZHVsZXIgPSBhcmdzXzEucG9wU2NoZWR1bGVyKGFyZ3MpO1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIGNvbmNhdEFsbF8xLmNvbmNhdEFsbCgpKGZyb21fMS5mcm9tKF9fc3ByZWFkQXJyYXkoW3NvdXJjZV0sIF9fcmVhZChhcmdzKSksIHNjaGVkdWxlcikpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuY29uY2F0ID0gY29uY2F0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb25jYXRBbGwgPSB2b2lkIDA7XG52YXIgbWVyZ2VBbGxfMSA9IHJlcXVpcmUoXCIuL21lcmdlQWxsXCIpO1xuZnVuY3Rpb24gY29uY2F0QWxsKCkge1xuICAgIHJldHVybiBtZXJnZUFsbF8xLm1lcmdlQWxsKDEpO1xufVxuZXhwb3J0cy5jb25jYXRBbGwgPSBjb25jYXRBbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25jYXRBbGwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbmNhdE1hcCA9IHZvaWQgMDtcbnZhciBtZXJnZU1hcF8xID0gcmVxdWlyZShcIi4vbWVyZ2VNYXBcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNGdW5jdGlvblwiKTtcbmZ1bmN0aW9uIGNvbmNhdE1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3Rvcikge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihyZXN1bHRTZWxlY3RvcikgPyBtZXJnZU1hcF8xLm1lcmdlTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yLCAxKSA6IG1lcmdlTWFwXzEubWVyZ2VNYXAocHJvamVjdCwgMSk7XG59XG5leHBvcnRzLmNvbmNhdE1hcCA9IGNvbmNhdE1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmNhdE1hcC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY29uY2F0TWFwVG8gPSB2b2lkIDA7XG52YXIgY29uY2F0TWFwXzEgPSByZXF1aXJlKFwiLi9jb25jYXRNYXBcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNGdW5jdGlvblwiKTtcbmZ1bmN0aW9uIGNvbmNhdE1hcFRvKGlubmVyT2JzZXJ2YWJsZSwgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24ocmVzdWx0U2VsZWN0b3IpID8gY29uY2F0TWFwXzEuY29uY2F0TWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlubmVyT2JzZXJ2YWJsZTsgfSwgcmVzdWx0U2VsZWN0b3IpIDogY29uY2F0TWFwXzEuY29uY2F0TWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlubmVyT2JzZXJ2YWJsZTsgfSk7XG59XG5leHBvcnRzLmNvbmNhdE1hcFRvID0gY29uY2F0TWFwVG87XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25jYXRNYXBUby5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbmNhdFdpdGggPSB2b2lkIDA7XG52YXIgY29uY2F0XzEgPSByZXF1aXJlKFwiLi9jb25jYXRcIik7XG5mdW5jdGlvbiBjb25jYXRXaXRoKCkge1xuICAgIHZhciBvdGhlclNvdXJjZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvdGhlclNvdXJjZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbmNhdF8xLmNvbmNhdC5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChvdGhlclNvdXJjZXMpKSk7XG59XG5leHBvcnRzLmNvbmNhdFdpdGggPSBjb25jYXRXaXRoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0V2l0aC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY29ubmVjdCA9IHZvaWQgMDtcbnZhciBTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vU3ViamVjdFwiKTtcbnZhciBmcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9mcm9tXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgZnJvbVN1YnNjcmliYWJsZV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvZnJvbVN1YnNjcmliYWJsZVwiKTtcbnZhciBERUZBVUxUX0NPTkZJRyA9IHtcbiAgICBjb25uZWN0b3I6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBTdWJqZWN0XzEuU3ViamVjdCgpOyB9LFxufTtcbmZ1bmN0aW9uIGNvbm5lY3Qoc2VsZWN0b3IsIGNvbmZpZykge1xuICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSBERUZBVUxUX0NPTkZJRzsgfVxuICAgIHZhciBjb25uZWN0b3IgPSBjb25maWcuY29ubmVjdG9yO1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gY29ubmVjdG9yKCk7XG4gICAgICAgIGZyb21fMS5mcm9tKHNlbGVjdG9yKGZyb21TdWJzY3JpYmFibGVfMS5mcm9tU3Vic2NyaWJhYmxlKHN1YmplY3QpKSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICBzdWJzY3JpYmVyLmFkZChzb3VyY2Uuc3Vic2NyaWJlKHN1YmplY3QpKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuY29ubmVjdCA9IGNvbm5lY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25uZWN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb3VudCA9IHZvaWQgMDtcbnZhciByZWR1Y2VfMSA9IHJlcXVpcmUoXCIuL3JlZHVjZVwiKTtcbmZ1bmN0aW9uIGNvdW50KHByZWRpY2F0ZSkge1xuICAgIHJldHVybiByZWR1Y2VfMS5yZWR1Y2UoZnVuY3Rpb24gKHRvdGFsLCB2YWx1ZSwgaSkgeyByZXR1cm4gKCFwcmVkaWNhdGUgfHwgcHJlZGljYXRlKHZhbHVlLCBpKSA/IHRvdGFsICsgMSA6IHRvdGFsKTsgfSwgMCk7XG59XG5leHBvcnRzLmNvdW50ID0gY291bnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3VudC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVib3VuY2UgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBub29wXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9ub29wXCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xuZnVuY3Rpb24gZGVib3VuY2UoZHVyYXRpb25TZWxlY3Rvcikge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgdmFyIGR1cmF0aW9uU3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgIHZhciBlbWl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZHVyYXRpb25TdWJzY3JpYmVyID09PSBudWxsIHx8IGR1cmF0aW9uU3Vic2NyaWJlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZHVyYXRpb25TdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBkdXJhdGlvblN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGhhc1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBsYXN0VmFsdWU7XG4gICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uU3Vic2NyaWJlciA9PT0gbnVsbCB8fCBkdXJhdGlvblN1YnNjcmliZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGR1cmF0aW9uU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBkdXJhdGlvblN1YnNjcmliZXIgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZW1pdCwgbm9vcF8xLm5vb3ApO1xuICAgICAgICAgICAgaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGR1cmF0aW9uU2VsZWN0b3IodmFsdWUpKS5zdWJzY3JpYmUoZHVyYXRpb25TdWJzY3JpYmVyKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZW1pdCgpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGR1cmF0aW9uU3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZGVib3VuY2UgPSBkZWJvdW5jZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlYm91bmNlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWJvdW5jZVRpbWUgPSB2b2lkIDA7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9zY2hlZHVsZXIvYXN5bmNcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIGRlYm91bmNlVGltZShkdWVUaW1lLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHsgc2NoZWR1bGVyID0gYXN5bmNfMS5hc3luY1NjaGVkdWxlcjsgfVxuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBhY3RpdmVUYXNrID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RWYWx1ZSA9IG51bGw7XG4gICAgICAgIHZhciBsYXN0VGltZSA9IG51bGw7XG4gICAgICAgIHZhciBlbWl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGFjdGl2ZVRhc2spIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVUYXNrLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgYWN0aXZlVGFzayA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gbGFzdFZhbHVlO1xuICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gZW1pdFdoZW5JZGxlKCkge1xuICAgICAgICAgICAgdmFyIHRhcmdldFRpbWUgPSBsYXN0VGltZSArIGR1ZVRpbWU7XG4gICAgICAgICAgICB2YXIgbm93ID0gc2NoZWR1bGVyLm5vdygpO1xuICAgICAgICAgICAgaWYgKG5vdyA8IHRhcmdldFRpbWUpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVUYXNrID0gdGhpcy5zY2hlZHVsZSh1bmRlZmluZWQsIHRhcmdldFRpbWUgLSBub3cpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKGFjdGl2ZVRhc2spO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVtaXQoKTtcbiAgICAgICAgfVxuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBzY2hlZHVsZXIubm93KCk7XG4gICAgICAgICAgICBpZiAoIWFjdGl2ZVRhc2spIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVUYXNrID0gc2NoZWR1bGVyLnNjaGVkdWxlKGVtaXRXaGVuSWRsZSwgZHVlVGltZSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoYWN0aXZlVGFzayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGVtaXQoKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsYXN0VmFsdWUgPSBhY3RpdmVUYXNrID0gbnVsbDtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5kZWJvdW5jZVRpbWUgPSBkZWJvdW5jZVRpbWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWJvdW5jZVRpbWUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlZmF1bHRJZkVtcHR5ID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBkZWZhdWx0SWZFbXB0eShkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIWhhc1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZGVmYXVsdElmRW1wdHkgPSBkZWZhdWx0SWZFbXB0eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHRJZkVtcHR5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWxheSA9IHZvaWQgMDtcbnZhciBhc3luY18xID0gcmVxdWlyZShcIi4uL3NjaGVkdWxlci9hc3luY1wiKTtcbnZhciBkZWxheVdoZW5fMSA9IHJlcXVpcmUoXCIuL2RlbGF5V2hlblwiKTtcbnZhciB0aW1lcl8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvdGltZXJcIik7XG5mdW5jdGlvbiBkZWxheShkdWUsIHNjaGVkdWxlcikge1xuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY18xLmFzeW5jU2NoZWR1bGVyOyB9XG4gICAgdmFyIGR1cmF0aW9uID0gdGltZXJfMS50aW1lcihkdWUsIHNjaGVkdWxlcik7XG4gICAgcmV0dXJuIGRlbGF5V2hlbl8xLmRlbGF5V2hlbihmdW5jdGlvbiAoKSB7IHJldHVybiBkdXJhdGlvbjsgfSk7XG59XG5leHBvcnRzLmRlbGF5ID0gZGVsYXk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWxheS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVsYXlXaGVuID0gdm9pZCAwO1xudmFyIGNvbmNhdF8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvY29uY2F0XCIpO1xudmFyIHRha2VfMSA9IHJlcXVpcmUoXCIuL3Rha2VcIik7XG52YXIgaWdub3JlRWxlbWVudHNfMSA9IHJlcXVpcmUoXCIuL2lnbm9yZUVsZW1lbnRzXCIpO1xudmFyIG1hcFRvXzEgPSByZXF1aXJlKFwiLi9tYXBUb1wiKTtcbnZhciBtZXJnZU1hcF8xID0gcmVxdWlyZShcIi4vbWVyZ2VNYXBcIik7XG5mdW5jdGlvbiBkZWxheVdoZW4oZGVsYXlEdXJhdGlvblNlbGVjdG9yLCBzdWJzY3JpcHRpb25EZWxheSkge1xuICAgIGlmIChzdWJzY3JpcHRpb25EZWxheSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbmNhdF8xLmNvbmNhdChzdWJzY3JpcHRpb25EZWxheS5waXBlKHRha2VfMS50YWtlKDEpLCBpZ25vcmVFbGVtZW50c18xLmlnbm9yZUVsZW1lbnRzKCkpLCBzb3VyY2UucGlwZShkZWxheVdoZW4oZGVsYXlEdXJhdGlvblNlbGVjdG9yKSkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VNYXBfMS5tZXJnZU1hcChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7IHJldHVybiBkZWxheUR1cmF0aW9uU2VsZWN0b3IodmFsdWUsIGluZGV4KS5waXBlKHRha2VfMS50YWtlKDEpLCBtYXBUb18xLm1hcFRvKHZhbHVlKSk7IH0pO1xufVxuZXhwb3J0cy5kZWxheVdoZW4gPSBkZWxheVdoZW47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWxheVdoZW4uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlbWF0ZXJpYWxpemUgPSB2b2lkIDA7XG52YXIgTm90aWZpY2F0aW9uXzEgPSByZXF1aXJlKFwiLi4vTm90aWZpY2F0aW9uXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBkZW1hdGVyaWFsaXplKCkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHsgcmV0dXJuIE5vdGlmaWNhdGlvbl8xLm9ic2VydmVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uLCBzdWJzY3JpYmVyKTsgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5kZW1hdGVyaWFsaXplID0gZGVtYXRlcmlhbGl6ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbWF0ZXJpYWxpemUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRpc3RpbmN0ID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgbm9vcF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbm9vcFwiKTtcbmZ1bmN0aW9uIGRpc3RpbmN0KGtleVNlbGVjdG9yLCBmbHVzaGVzKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGRpc3RpbmN0S2V5cyA9IG5ldyBTZXQoKTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5U2VsZWN0b3IgPyBrZXlTZWxlY3Rvcih2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgICAgIGlmICghZGlzdGluY3RLZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgZGlzdGluY3RLZXlzLmFkZChrZXkpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgZmx1c2hlcyA9PT0gbnVsbCB8fCBmbHVzaGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmbHVzaGVzLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZGlzdGluY3RLZXlzLmNsZWFyKCk7IH0sIG5vb3BfMS5ub29wKSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmRpc3RpbmN0ID0gZGlzdGluY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXN0aW5jdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGlzdGluY3RVbnRpbENoYW5nZWQgPSB2b2lkIDA7XG52YXIgaWRlbnRpdHlfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lkZW50aXR5XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBkaXN0aW5jdFVudGlsQ2hhbmdlZChjb21wYXJhdG9yLCBrZXlTZWxlY3Rvcikge1xuICAgIGlmIChrZXlTZWxlY3RvciA9PT0gdm9pZCAwKSB7IGtleVNlbGVjdG9yID0gaWRlbnRpdHlfMS5pZGVudGl0eTsgfVxuICAgIGNvbXBhcmF0b3IgPSBjb21wYXJhdG9yICE9PSBudWxsICYmIGNvbXBhcmF0b3IgIT09IHZvaWQgMCA/IGNvbXBhcmF0b3IgOiBkZWZhdWx0Q29tcGFyZTtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgcHJldmlvdXNLZXk7XG4gICAgICAgIHZhciBmaXJzdCA9IHRydWU7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlTZWxlY3Rvcih2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoZmlyc3QgfHwgIWNvbXBhcmF0b3IocHJldmlvdXNLZXksIGN1cnJlbnRLZXkpKSB7XG4gICAgICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBwcmV2aW91c0tleSA9IGN1cnJlbnRLZXk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5kaXN0aW5jdFVudGlsQ2hhbmdlZCA9IGRpc3RpbmN0VW50aWxDaGFuZ2VkO1xuZnVuY3Rpb24gZGVmYXVsdENvbXBhcmUoYSwgYikge1xuICAgIHJldHVybiBhID09PSBiO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzdGluY3RVbnRpbENoYW5nZWQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkID0gdm9pZCAwO1xudmFyIGRpc3RpbmN0VW50aWxDaGFuZ2VkXzEgPSByZXF1aXJlKFwiLi9kaXN0aW5jdFVudGlsQ2hhbmdlZFwiKTtcbmZ1bmN0aW9uIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkKGtleSwgY29tcGFyZSkge1xuICAgIHJldHVybiBkaXN0aW5jdFVudGlsQ2hhbmdlZF8xLmRpc3RpbmN0VW50aWxDaGFuZ2VkKGZ1bmN0aW9uICh4LCB5KSB7IHJldHVybiBjb21wYXJlID8gY29tcGFyZSh4W2tleV0sIHlba2V5XSkgOiB4W2tleV0gPT09IHlba2V5XTsgfSk7XG59XG5leHBvcnRzLmRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkID0gZGlzdGluY3RVbnRpbEtleUNoYW5nZWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXN0aW5jdFVudGlsS2V5Q2hhbmdlZC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZWxlbWVudEF0ID0gdm9pZCAwO1xudmFyIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9Bcmd1bWVudE91dE9mUmFuZ2VFcnJvclwiKTtcbnZhciBmaWx0ZXJfMSA9IHJlcXVpcmUoXCIuL2ZpbHRlclwiKTtcbnZhciB0aHJvd0lmRW1wdHlfMSA9IHJlcXVpcmUoXCIuL3Rocm93SWZFbXB0eVwiKTtcbnZhciBkZWZhdWx0SWZFbXB0eV8xID0gcmVxdWlyZShcIi4vZGVmYXVsdElmRW1wdHlcIik7XG52YXIgdGFrZV8xID0gcmVxdWlyZShcIi4vdGFrZVwiKTtcbmZ1bmN0aW9uIGVsZW1lbnRBdChpbmRleCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JfMS5Bcmd1bWVudE91dE9mUmFuZ2VFcnJvcigpO1xuICAgIH1cbiAgICB2YXIgaGFzRGVmYXVsdFZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyO1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UucGlwZShmaWx0ZXJfMS5maWx0ZXIoZnVuY3Rpb24gKHYsIGkpIHsgcmV0dXJuIGkgPT09IGluZGV4OyB9KSwgdGFrZV8xLnRha2UoMSksIGhhc0RlZmF1bHRWYWx1ZSA/IGRlZmF1bHRJZkVtcHR5XzEuZGVmYXVsdElmRW1wdHkoZGVmYXVsdFZhbHVlKSA6IHRocm93SWZFbXB0eV8xLnRocm93SWZFbXB0eShmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JfMS5Bcmd1bWVudE91dE9mUmFuZ2VFcnJvcigpOyB9KSk7XG4gICAgfTtcbn1cbmV4cG9ydHMuZWxlbWVudEF0ID0gZWxlbWVudEF0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWxlbWVudEF0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxuICAgICAgICB0b1tqXSA9IGZyb21baV07XG4gICAgcmV0dXJuIHRvO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZW5kV2l0aCA9IHZvaWQgMDtcbnZhciBjb25jYXRfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2NvbmNhdFwiKTtcbnZhciBvZl8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvb2ZcIik7XG5mdW5jdGlvbiBlbmRXaXRoKCkge1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YWx1ZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIGNvbmNhdF8xLmNvbmNhdChzb3VyY2UsIG9mXzEub2YuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQodmFsdWVzKSkpKTsgfTtcbn1cbmV4cG9ydHMuZW5kV2l0aCA9IGVuZFdpdGg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbmRXaXRoLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ldmVyeSA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gZXZlcnkocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIXByZWRpY2F0ZS5jYWxsKHRoaXNBcmcsIHZhbHVlLCBpbmRleCsrLCBzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh0cnVlKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5ldmVyeSA9IGV2ZXJ5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlcnkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmV4aGF1c3QgPSB2b2lkIDA7XG52YXIgZXhoYXVzdEFsbF8xID0gcmVxdWlyZShcIi4vZXhoYXVzdEFsbFwiKTtcbmV4cG9ydHMuZXhoYXVzdCA9IGV4aGF1c3RBbGxfMS5leGhhdXN0QWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhoYXVzdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZXhoYXVzdEFsbCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gZXhoYXVzdEFsbCgpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoaW5uZXIpIHtcbiAgICAgICAgICAgIGlmICghaW5uZXJTdWIpIHtcbiAgICAgICAgICAgICAgICBpbm5lclN1YiA9IGlubmVyRnJvbV8xLmlubmVyRnJvbShpbm5lcikuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpc0NvbXBsZXRlICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgIWlubmVyU3ViICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5leGhhdXN0QWxsID0gZXhoYXVzdEFsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4aGF1c3RBbGwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmV4aGF1c3RNYXAgPSB2b2lkIDA7XG52YXIgbWFwXzEgPSByZXF1aXJlKFwiLi9tYXBcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIGV4aGF1c3RNYXAocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICBpZiAocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UucGlwZShleGhhdXN0TWFwKGZ1bmN0aW9uIChhLCBpKSB7IHJldHVybiBpbm5lckZyb21fMS5pbm5lckZyb20ocHJvamVjdChhLCBpKSkucGlwZShtYXBfMS5tYXAoZnVuY3Rpb24gKGIsIGlpKSB7IHJldHVybiByZXN1bHRTZWxlY3RvcihhLCBiLCBpLCBpaSk7IH0pKTsgfSkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICB2YXIgaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAob3V0ZXJWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFpbm5lclN1Yikge1xuICAgICAgICAgICAgICAgIGlubmVyU3ViID0gT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlzQ29tcGxldGUgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlubmVyRnJvbV8xLmlubmVyRnJvbShwcm9qZWN0KG91dGVyVmFsdWUsIGluZGV4KyspKS5zdWJzY3JpYmUoaW5uZXJTdWIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICFpbm5lclN1YiAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZXhoYXVzdE1hcCA9IGV4aGF1c3RNYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGhhdXN0TWFwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5leHBhbmQgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBtZXJnZUludGVybmFsc18xID0gcmVxdWlyZShcIi4vbWVyZ2VJbnRlcm5hbHNcIik7XG5mdW5jdGlvbiBleHBhbmQocHJvamVjdCwgY29uY3VycmVudCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkgeyBjb25jdXJyZW50ID0gSW5maW5pdHk7IH1cbiAgICBjb25jdXJyZW50ID0gKGNvbmN1cnJlbnQgfHwgMCkgPCAxID8gSW5maW5pdHkgOiBjb25jdXJyZW50O1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHJldHVybiBtZXJnZUludGVybmFsc18xLm1lcmdlSW50ZXJuYWxzKHNvdXJjZSwgc3Vic2NyaWJlciwgcHJvamVjdCwgY29uY3VycmVudCwgdW5kZWZpbmVkLCB0cnVlLCBzY2hlZHVsZXIpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5leHBhbmQgPSBleHBhbmQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHBhbmQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmZpbHRlciA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gZmlsdGVyKHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gcHJlZGljYXRlLmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4KyspICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7IH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZmlsdGVyID0gZmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5maW5hbGl6ZSA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xuZnVuY3Rpb24gZmluYWxpemUoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5maW5hbGl6ZSA9IGZpbmFsaXplO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmluYWxpemUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZUZpbmQgPSBleHBvcnRzLmZpbmQgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIGZpbmQocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGNyZWF0ZUZpbmQocHJlZGljYXRlLCB0aGlzQXJnLCAndmFsdWUnKSk7XG59XG5leHBvcnRzLmZpbmQgPSBmaW5kO1xuZnVuY3Rpb24gY3JlYXRlRmluZChwcmVkaWNhdGUsIHRoaXNBcmcsIGVtaXQpIHtcbiAgICB2YXIgZmluZEluZGV4ID0gZW1pdCA9PT0gJ2luZGV4JztcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBpID0gaW5kZXgrKztcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaSwgc291cmNlKSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChmaW5kSW5kZXggPyBpIDogdmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGZpbmRJbmRleCA/IC0xIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH07XG59XG5leHBvcnRzLmNyZWF0ZUZpbmQgPSBjcmVhdGVGaW5kO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmluZC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZmluZEluZGV4ID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgZmluZF8xID0gcmVxdWlyZShcIi4vZmluZFwiKTtcbmZ1bmN0aW9uIGZpbmRJbmRleChwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZmluZF8xLmNyZWF0ZUZpbmQocHJlZGljYXRlLCB0aGlzQXJnLCAnaW5kZXgnKSk7XG59XG5leHBvcnRzLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbmRJbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZmlyc3QgPSB2b2lkIDA7XG52YXIgRW1wdHlFcnJvcl8xID0gcmVxdWlyZShcIi4uL3V0aWwvRW1wdHlFcnJvclwiKTtcbnZhciBmaWx0ZXJfMSA9IHJlcXVpcmUoXCIuL2ZpbHRlclwiKTtcbnZhciB0YWtlXzEgPSByZXF1aXJlKFwiLi90YWtlXCIpO1xudmFyIGRlZmF1bHRJZkVtcHR5XzEgPSByZXF1aXJlKFwiLi9kZWZhdWx0SWZFbXB0eVwiKTtcbnZhciB0aHJvd0lmRW1wdHlfMSA9IHJlcXVpcmUoXCIuL3Rocm93SWZFbXB0eVwiKTtcbnZhciBpZGVudGl0eV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaWRlbnRpdHlcIik7XG5mdW5jdGlvbiBmaXJzdChwcmVkaWNhdGUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciBoYXNEZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5waXBlKHByZWRpY2F0ZSA/IGZpbHRlcl8xLmZpbHRlcihmdW5jdGlvbiAodiwgaSkgeyByZXR1cm4gcHJlZGljYXRlKHYsIGksIHNvdXJjZSk7IH0pIDogaWRlbnRpdHlfMS5pZGVudGl0eSwgdGFrZV8xLnRha2UoMSksIGhhc0RlZmF1bHRWYWx1ZSA/IGRlZmF1bHRJZkVtcHR5XzEuZGVmYXVsdElmRW1wdHkoZGVmYXVsdFZhbHVlKSA6IHRocm93SWZFbXB0eV8xLnRocm93SWZFbXB0eShmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgRW1wdHlFcnJvcl8xLkVtcHR5RXJyb3IoKTsgfSkpO1xuICAgIH07XG59XG5leHBvcnRzLmZpcnN0ID0gZmlyc3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maXJzdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZmxhdE1hcCA9IHZvaWQgMDtcbnZhciBtZXJnZU1hcF8xID0gcmVxdWlyZShcIi4vbWVyZ2VNYXBcIik7XG5leHBvcnRzLmZsYXRNYXAgPSBtZXJnZU1hcF8xLm1lcmdlTWFwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmxhdE1hcC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ3JvdXBCeSA9IHZvaWQgMDtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vT2JzZXJ2YWJsZVwiKTtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vU3ViamVjdFwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gZ3JvdXBCeShrZXlTZWxlY3RvciwgZWxlbWVudE9yT3B0aW9ucywgZHVyYXRpb24sIGNvbm5lY3Rvcikge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBlbGVtZW50O1xuICAgICAgICBpZiAoIWVsZW1lbnRPck9wdGlvbnMgfHwgdHlwZW9mIGVsZW1lbnRPck9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50T3JPcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgKGR1cmF0aW9uID0gZWxlbWVudE9yT3B0aW9ucy5kdXJhdGlvbiwgZWxlbWVudCA9IGVsZW1lbnRPck9wdGlvbnMuZWxlbWVudCwgY29ubmVjdG9yID0gZWxlbWVudE9yT3B0aW9ucy5jb25uZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBncm91cHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHZhciBub3RpZnkgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIGdyb3Vwcy5mb3JFYWNoKGNiKTtcbiAgICAgICAgICAgIGNiKHN1YnNjcmliZXIpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgaGFuZGxlRXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBub3RpZnkoZnVuY3Rpb24gKGNvbnN1bWVyKSB7IHJldHVybiBjb25zdW1lci5lcnJvcihlcnIpOyB9KTsgfTtcbiAgICAgICAgdmFyIGFjdGl2ZUdyb3VwcyA9IDA7XG4gICAgICAgIHZhciB0ZWFyZG93bkF0dGVtcHRlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZ3JvdXBCeVNvdXJjZVN1YnNjcmliZXIgPSBuZXcgT3BlcmF0b3JTdWJzY3JpYmVyXzEuT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIga2V5XzEgPSBrZXlTZWxlY3Rvcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgdmFyIGdyb3VwXzEgPSBncm91cHMuZ2V0KGtleV8xKTtcbiAgICAgICAgICAgICAgICBpZiAoIWdyb3VwXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBzLnNldChrZXlfMSwgKGdyb3VwXzEgPSBjb25uZWN0b3IgPyBjb25uZWN0b3IoKSA6IG5ldyBTdWJqZWN0XzEuU3ViamVjdCgpKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBncm91cGVkID0gY3JlYXRlR3JvdXBlZE9ic2VydmFibGUoa2V5XzEsIGdyb3VwXzEpO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoZ3JvdXBlZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGR1cmF0aW9uU3Vic2NyaWJlcl8xID0gT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKGdyb3VwXzEsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF8xLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb25TdWJzY3JpYmVyXzEgPT09IG51bGwgfHwgZHVyYXRpb25TdWJzY3JpYmVyXzEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGR1cmF0aW9uU3Vic2NyaWJlcl8xLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZ3JvdXBzLmRlbGV0ZShrZXlfMSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBCeVNvdXJjZVN1YnNjcmliZXIuYWRkKGlubmVyRnJvbV8xLmlubmVyRnJvbShkdXJhdGlvbihncm91cGVkKSkuc3Vic2NyaWJlKGR1cmF0aW9uU3Vic2NyaWJlcl8xKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ3JvdXBfMS5uZXh0KGVsZW1lbnQgPyBlbGVtZW50KHZhbHVlKSA6IHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiBub3RpZnkoZnVuY3Rpb24gKGNvbnN1bWVyKSB7IHJldHVybiBjb25zdW1lci5jb21wbGV0ZSgpOyB9KTsgfSwgaGFuZGxlRXJyb3IsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdyb3Vwcy5jbGVhcigpOyB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0ZWFyZG93bkF0dGVtcHRlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gYWN0aXZlR3JvdXBzID09PSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShncm91cEJ5U291cmNlU3Vic2NyaWJlcik7XG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUdyb3VwZWRPYnNlcnZhYmxlKGtleSwgZ3JvdXBTdWJqZWN0KSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKGZ1bmN0aW9uIChncm91cFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVHcm91cHMrKztcbiAgICAgICAgICAgICAgICB2YXIgaW5uZXJTdWIgPSBncm91cFN1YmplY3Quc3Vic2NyaWJlKGdyb3VwU3Vic2NyaWJlcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgLS1hY3RpdmVHcm91cHMgPT09IDAgJiYgdGVhcmRvd25BdHRlbXB0ZWQgJiYgZ3JvdXBCeVNvdXJjZVN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXN1bHQua2V5ID0ga2V5O1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5ncm91cEJ5ID0gZ3JvdXBCeTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyb3VwQnkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlnbm9yZUVsZW1lbnRzID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgbm9vcF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbm9vcFwiKTtcbmZ1bmN0aW9uIGlnbm9yZUVsZW1lbnRzKCkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIG5vb3BfMS5ub29wKSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmlnbm9yZUVsZW1lbnRzID0gaWdub3JlRWxlbWVudHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pZ25vcmVFbGVtZW50cy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNFbXB0eSA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gaXNFbXB0eSgpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoZmFsc2UpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodHJ1ZSk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuaXNFbXB0eSA9IGlzRW1wdHk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0VtcHR5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5qb2luQWxsSW50ZXJuYWxzID0gdm9pZCAwO1xudmFyIGlkZW50aXR5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pZGVudGl0eVwiKTtcbnZhciBtYXBPbmVPck1hbnlBcmdzXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9tYXBPbmVPck1hbnlBcmdzXCIpO1xudmFyIHBpcGVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL3BpcGVcIik7XG52YXIgbWVyZ2VNYXBfMSA9IHJlcXVpcmUoXCIuL21lcmdlTWFwXCIpO1xudmFyIHRvQXJyYXlfMSA9IHJlcXVpcmUoXCIuL3RvQXJyYXlcIik7XG5mdW5jdGlvbiBqb2luQWxsSW50ZXJuYWxzKGpvaW5GbiwgcHJvamVjdCkge1xuICAgIHJldHVybiBwaXBlXzEucGlwZSh0b0FycmF5XzEudG9BcnJheSgpLCBtZXJnZU1hcF8xLm1lcmdlTWFwKGZ1bmN0aW9uIChzb3VyY2VzKSB7IHJldHVybiBqb2luRm4oc291cmNlcyk7IH0pLCBwcm9qZWN0ID8gbWFwT25lT3JNYW55QXJnc18xLm1hcE9uZU9yTWFueUFyZ3MocHJvamVjdCkgOiBpZGVudGl0eV8xLmlkZW50aXR5KTtcbn1cbmV4cG9ydHMuam9pbkFsbEludGVybmFscyA9IGpvaW5BbGxJbnRlcm5hbHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qb2luQWxsSW50ZXJuYWxzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5sYXN0ID0gdm9pZCAwO1xudmFyIEVtcHR5RXJyb3JfMSA9IHJlcXVpcmUoXCIuLi91dGlsL0VtcHR5RXJyb3JcIik7XG52YXIgZmlsdGVyXzEgPSByZXF1aXJlKFwiLi9maWx0ZXJcIik7XG52YXIgdGFrZUxhc3RfMSA9IHJlcXVpcmUoXCIuL3Rha2VMYXN0XCIpO1xudmFyIHRocm93SWZFbXB0eV8xID0gcmVxdWlyZShcIi4vdGhyb3dJZkVtcHR5XCIpO1xudmFyIGRlZmF1bHRJZkVtcHR5XzEgPSByZXF1aXJlKFwiLi9kZWZhdWx0SWZFbXB0eVwiKTtcbnZhciBpZGVudGl0eV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaWRlbnRpdHlcIik7XG5mdW5jdGlvbiBsYXN0KHByZWRpY2F0ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIGhhc0RlZmF1bHRWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMjtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnBpcGUocHJlZGljYXRlID8gZmlsdGVyXzEuZmlsdGVyKGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiBwcmVkaWNhdGUodiwgaSwgc291cmNlKTsgfSkgOiBpZGVudGl0eV8xLmlkZW50aXR5LCB0YWtlTGFzdF8xLnRha2VMYXN0KDEpLCBoYXNEZWZhdWx0VmFsdWUgPyBkZWZhdWx0SWZFbXB0eV8xLmRlZmF1bHRJZkVtcHR5KGRlZmF1bHRWYWx1ZSkgOiB0aHJvd0lmRW1wdHlfMS50aHJvd0lmRW1wdHkoZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEVtcHR5RXJyb3JfMS5FbXB0eUVycm9yKCk7IH0pKTtcbiAgICB9O1xufVxuZXhwb3J0cy5sYXN0ID0gbGFzdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhc3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1hcCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gbWFwKHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChwcm9qZWN0LmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4KyspKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5tYXAgPSBtYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1hcFRvID0gdm9pZCAwO1xudmFyIG1hcF8xID0gcmVxdWlyZShcIi4vbWFwXCIpO1xuZnVuY3Rpb24gbWFwVG8odmFsdWUpIHtcbiAgICByZXR1cm4gbWFwXzEubWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZhbHVlOyB9KTtcbn1cbmV4cG9ydHMubWFwVG8gPSBtYXBUbztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcFRvLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tYXRlcmlhbGl6ZSA9IHZvaWQgMDtcbnZhciBOb3RpZmljYXRpb25fMSA9IHJlcXVpcmUoXCIuLi9Ob3RpZmljYXRpb25cIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIG1hdGVyaWFsaXplKCkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KE5vdGlmaWNhdGlvbl8xLk5vdGlmaWNhdGlvbi5jcmVhdGVOZXh0KHZhbHVlKSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChOb3RpZmljYXRpb25fMS5Ob3RpZmljYXRpb24uY3JlYXRlQ29tcGxldGUoKSk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChOb3RpZmljYXRpb25fMS5Ob3RpZmljYXRpb24uY3JlYXRlRXJyb3IoZXJyKSk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMubWF0ZXJpYWxpemUgPSBtYXRlcmlhbGl6ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdGVyaWFsaXplLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tYXggPSB2b2lkIDA7XG52YXIgcmVkdWNlXzEgPSByZXF1aXJlKFwiLi9yZWR1Y2VcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNGdW5jdGlvblwiKTtcbmZ1bmN0aW9uIG1heChjb21wYXJlcikge1xuICAgIHJldHVybiByZWR1Y2VfMS5yZWR1Y2UoaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24oY29tcGFyZXIpID8gZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuIChjb21wYXJlcih4LCB5KSA+IDAgPyB4IDogeSk7IH0gOiBmdW5jdGlvbiAoeCwgeSkgeyByZXR1cm4gKHggPiB5ID8geCA6IHkpOyB9KTtcbn1cbmV4cG9ydHMubWF4ID0gbWF4O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxuICAgICAgICB0b1tqXSA9IGZyb21baV07XG4gICAgcmV0dXJuIHRvO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWVyZ2UgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBhcmdzT3JBcmdBcnJheV8xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc09yQXJnQXJyYXlcIik7XG52YXIgbWVyZ2VBbGxfMSA9IHJlcXVpcmUoXCIuL21lcmdlQWxsXCIpO1xudmFyIGFyZ3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NcIik7XG52YXIgZnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvZnJvbVwiKTtcbmZ1bmN0aW9uIG1lcmdlKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgc2NoZWR1bGVyID0gYXJnc18xLnBvcFNjaGVkdWxlcihhcmdzKTtcbiAgICB2YXIgY29uY3VycmVudCA9IGFyZ3NfMS5wb3BOdW1iZXIoYXJncywgSW5maW5pdHkpO1xuICAgIGFyZ3MgPSBhcmdzT3JBcmdBcnJheV8xLmFyZ3NPckFyZ0FycmF5KGFyZ3MpO1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIG1lcmdlQWxsXzEubWVyZ2VBbGwoY29uY3VycmVudCkoZnJvbV8xLmZyb20oX19zcHJlYWRBcnJheShbc291cmNlXSwgX19yZWFkKGFyZ3MpKSwgc2NoZWR1bGVyKSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5tZXJnZSA9IG1lcmdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1lcmdlQWxsID0gdm9pZCAwO1xudmFyIG1lcmdlTWFwXzEgPSByZXF1aXJlKFwiLi9tZXJnZU1hcFwiKTtcbnZhciBpZGVudGl0eV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaWRlbnRpdHlcIik7XG5mdW5jdGlvbiBtZXJnZUFsbChjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkgeyBjb25jdXJyZW50ID0gSW5maW5pdHk7IH1cbiAgICByZXR1cm4gbWVyZ2VNYXBfMS5tZXJnZU1hcChpZGVudGl0eV8xLmlkZW50aXR5LCBjb25jdXJyZW50KTtcbn1cbmV4cG9ydHMubWVyZ2VBbGwgPSBtZXJnZUFsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlQWxsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tZXJnZUludGVybmFscyA9IHZvaWQgMDtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBleGVjdXRlU2NoZWR1bGVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZVwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIG1lcmdlSW50ZXJuYWxzKHNvdXJjZSwgc3Vic2NyaWJlciwgcHJvamVjdCwgY29uY3VycmVudCwgb25CZWZvcmVOZXh0LCBleHBhbmQsIGlubmVyU3ViU2NoZWR1bGVyLCBhZGRpdGlvbmFsVGVhcmRvd24pIHtcbiAgICB2YXIgYnVmZmVyID0gW107XG4gICAgdmFyIGFjdGl2ZSA9IDA7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgIHZhciBjaGVja0NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaXNDb21wbGV0ZSAmJiAhYnVmZmVyLmxlbmd0aCAmJiAhYWN0aXZlKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBvdXRlck5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIChhY3RpdmUgPCBjb25jdXJyZW50ID8gZG9Jbm5lclN1Yih2YWx1ZSkgOiBidWZmZXIucHVzaCh2YWx1ZSkpOyB9O1xuICAgIHZhciBkb0lubmVyU3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGV4cGFuZCAmJiBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICBhY3RpdmUrKztcbiAgICAgICAgdmFyIGlubmVyQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgaW5uZXJGcm9tXzEuaW5uZXJGcm9tKHByb2plY3QodmFsdWUsIGluZGV4KyspKS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChpbm5lclZhbHVlKSB7XG4gICAgICAgICAgICBvbkJlZm9yZU5leHQgPT09IG51bGwgfHwgb25CZWZvcmVOZXh0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkJlZm9yZU5leHQoaW5uZXJWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoZXhwYW5kKSB7XG4gICAgICAgICAgICAgICAgb3V0ZXJOZXh0KGlubmVyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlubmVyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpbm5lckNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaW5uZXJDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZS0tO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXJlZFZhbHVlID0gYnVmZmVyLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJTdWJTY2hlZHVsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgaW5uZXJTdWJTY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvSW5uZXJTdWIoYnVmZmVyZWRWYWx1ZSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9Jbm5lclN1YihidWZmZXJlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGJ1ZmZlci5sZW5ndGggJiYgYWN0aXZlIDwgY29uY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3BfMSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBvdXRlck5leHQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWRkaXRpb25hbFRlYXJkb3duID09PSBudWxsIHx8IGFkZGl0aW9uYWxUZWFyZG93biA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWRkaXRpb25hbFRlYXJkb3duKCk7XG4gICAgfTtcbn1cbmV4cG9ydHMubWVyZ2VJbnRlcm5hbHMgPSBtZXJnZUludGVybmFscztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlSW50ZXJuYWxzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tZXJnZU1hcCA9IHZvaWQgMDtcbnZhciBtYXBfMSA9IHJlcXVpcmUoXCIuL21hcFwiKTtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIG1lcmdlSW50ZXJuYWxzXzEgPSByZXF1aXJlKFwiLi9tZXJnZUludGVybmFsc1wiKTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gbWVyZ2VNYXAocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IsIGNvbmN1cnJlbnQpIHtcbiAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7IGNvbmN1cnJlbnQgPSBJbmZpbml0eTsgfVxuICAgIGlmIChpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihyZXN1bHRTZWxlY3RvcikpIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlTWFwKGZ1bmN0aW9uIChhLCBpKSB7IHJldHVybiBtYXBfMS5tYXAoZnVuY3Rpb24gKGIsIGlpKSB7IHJldHVybiByZXN1bHRTZWxlY3RvcihhLCBiLCBpLCBpaSk7IH0pKGlubmVyRnJvbV8xLmlubmVyRnJvbShwcm9qZWN0KGEsIGkpKSk7IH0sIGNvbmN1cnJlbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSByZXN1bHRTZWxlY3RvcjtcbiAgICB9XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHsgcmV0dXJuIG1lcmdlSW50ZXJuYWxzXzEubWVyZ2VJbnRlcm5hbHMoc291cmNlLCBzdWJzY3JpYmVyLCBwcm9qZWN0LCBjb25jdXJyZW50KTsgfSk7XG59XG5leHBvcnRzLm1lcmdlTWFwID0gbWVyZ2VNYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZU1hcC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWVyZ2VNYXBUbyA9IHZvaWQgMDtcbnZhciBtZXJnZU1hcF8xID0gcmVxdWlyZShcIi4vbWVyZ2VNYXBcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNGdW5jdGlvblwiKTtcbmZ1bmN0aW9uIG1lcmdlTWFwVG8oaW5uZXJPYnNlcnZhYmxlLCByZXN1bHRTZWxlY3RvciwgY29uY3VycmVudCkge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHsgY29uY3VycmVudCA9IEluZmluaXR5OyB9XG4gICAgaWYgKGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHJlc3VsdFNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gbWVyZ2VNYXBfMS5tZXJnZU1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBpbm5lck9ic2VydmFibGU7IH0sIHJlc3VsdFNlbGVjdG9yLCBjb25jdXJyZW50KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uY3VycmVudCA9IHJlc3VsdFNlbGVjdG9yO1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VNYXBfMS5tZXJnZU1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBpbm5lck9ic2VydmFibGU7IH0sIGNvbmN1cnJlbnQpO1xufVxuZXhwb3J0cy5tZXJnZU1hcFRvID0gbWVyZ2VNYXBUbztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlTWFwVG8uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1lcmdlU2NhbiA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIG1lcmdlSW50ZXJuYWxzXzEgPSByZXF1aXJlKFwiLi9tZXJnZUludGVybmFsc1wiKTtcbmZ1bmN0aW9uIG1lcmdlU2NhbihhY2N1bXVsYXRvciwgc2VlZCwgY29uY3VycmVudCkge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHsgY29uY3VycmVudCA9IEluZmluaXR5OyB9XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gc2VlZDtcbiAgICAgICAgcmV0dXJuIG1lcmdlSW50ZXJuYWxzXzEubWVyZ2VJbnRlcm5hbHMoc291cmNlLCBzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7IHJldHVybiBhY2N1bXVsYXRvcihzdGF0ZSwgdmFsdWUsIGluZGV4KTsgfSwgY29uY3VycmVudCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IHZhbHVlO1xuICAgICAgICB9LCBmYWxzZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7IHJldHVybiAoc3RhdGUgPSBudWxsKTsgfSk7XG4gICAgfSk7XG59XG5leHBvcnRzLm1lcmdlU2NhbiA9IG1lcmdlU2Nhbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlU2Nhbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1lcmdlV2l0aCA9IHZvaWQgMDtcbnZhciBtZXJnZV8xID0gcmVxdWlyZShcIi4vbWVyZ2VcIik7XG5mdW5jdGlvbiBtZXJnZVdpdGgoKSB7XG4gICAgdmFyIG90aGVyU291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG90aGVyU291cmNlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VfMS5tZXJnZS5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChvdGhlclNvdXJjZXMpKSk7XG59XG5leHBvcnRzLm1lcmdlV2l0aCA9IG1lcmdlV2l0aDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlV2l0aC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWluID0gdm9pZCAwO1xudmFyIHJlZHVjZV8xID0gcmVxdWlyZShcIi4vcmVkdWNlXCIpO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzRnVuY3Rpb25cIik7XG5mdW5jdGlvbiBtaW4oY29tcGFyZXIpIHtcbiAgICByZXR1cm4gcmVkdWNlXzEucmVkdWNlKGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKGNvbXBhcmVyKSA/IGZ1bmN0aW9uICh4LCB5KSB7IHJldHVybiAoY29tcGFyZXIoeCwgeSkgPCAwID8geCA6IHkpOyB9IDogZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuICh4IDwgeSA/IHggOiB5KTsgfSk7XG59XG5leHBvcnRzLm1pbiA9IG1pbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1pbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubXVsdGljYXN0ID0gdm9pZCAwO1xudmFyIENvbm5lY3RhYmxlT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlXCIpO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzRnVuY3Rpb25cIik7XG52YXIgY29ubmVjdF8xID0gcmVxdWlyZShcIi4vY29ubmVjdFwiKTtcbmZ1bmN0aW9uIG11bHRpY2FzdChzdWJqZWN0T3JTdWJqZWN0RmFjdG9yeSwgc2VsZWN0b3IpIHtcbiAgICB2YXIgc3ViamVjdEZhY3RvcnkgPSBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihzdWJqZWN0T3JTdWJqZWN0RmFjdG9yeSkgPyBzdWJqZWN0T3JTdWJqZWN0RmFjdG9yeSA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YmplY3RPclN1YmplY3RGYWN0b3J5OyB9O1xuICAgIGlmIChpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihzZWxlY3RvcikpIHtcbiAgICAgICAgcmV0dXJuIGNvbm5lY3RfMS5jb25uZWN0KHNlbGVjdG9yLCB7XG4gICAgICAgICAgICBjb25uZWN0b3I6IHN1YmplY3RGYWN0b3J5LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIG5ldyBDb25uZWN0YWJsZU9ic2VydmFibGVfMS5Db25uZWN0YWJsZU9ic2VydmFibGUoc291cmNlLCBzdWJqZWN0RmFjdG9yeSk7IH07XG59XG5leHBvcnRzLm11bHRpY2FzdCA9IG11bHRpY2FzdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW11bHRpY2FzdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMub2JzZXJ2ZU9uID0gdm9pZCAwO1xudmFyIGV4ZWN1dGVTY2hlZHVsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBvYnNlcnZlT24oc2NoZWR1bGVyLCBkZWxheSkge1xuICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gZXhlY3V0ZVNjaGVkdWxlXzEuZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5uZXh0KHZhbHVlKTsgfSwgZGVsYXkpOyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0sIGRlbGF5KTsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gZXhlY3V0ZVNjaGVkdWxlXzEuZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9LCBkZWxheSk7IH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMub2JzZXJ2ZU9uID0gb2JzZXJ2ZU9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2ZU9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxuICAgICAgICB0b1tqXSA9IGZyb21baV07XG4gICAgcmV0dXJuIHRvO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMub25FcnJvclJlc3VtZU5leHQgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBhcmdzT3JBcmdBcnJheV8xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc09yQXJnQXJyYXlcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgbm9vcF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbm9vcFwiKTtcbmZ1bmN0aW9uIG9uRXJyb3JSZXN1bWVOZXh0KCkge1xuICAgIHZhciBzb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgc291cmNlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgbmV4dFNvdXJjZXMgPSBhcmdzT3JBcmdBcnJheV8xLmFyZ3NPckFyZ0FycmF5KHNvdXJjZXMpO1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciByZW1haW5pbmcgPSBfX3NwcmVhZEFycmF5KFtzb3VyY2VdLCBfX3JlYWQobmV4dFNvdXJjZXMpKTtcbiAgICAgICAgdmFyIHN1YnNjcmliZU5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlbWFpbmluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0U291cmNlID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFNvdXJjZSA9IGlubmVyRnJvbV8xLmlubmVyRnJvbShyZW1haW5pbmcuc2hpZnQoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlTmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbm5lclN1YiA9IE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB1bmRlZmluZWQsIG5vb3BfMS5ub29wLCBub29wXzEubm9vcCk7XG4gICAgICAgICAgICAgICAgICAgIG5leHRTb3VyY2Uuc3Vic2NyaWJlKGlubmVyU3ViKTtcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJTdWIuYWRkKHN1YnNjcmliZU5leHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc3Vic2NyaWJlTmV4dCgpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5vbkVycm9yUmVzdW1lTmV4dCA9IG9uRXJyb3JSZXN1bWVOZXh0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b25FcnJvclJlc3VtZU5leHQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhaXJ3aXNlID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBwYWlyd2lzZSgpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgcHJldjtcbiAgICAgICAgdmFyIGhhc1ByZXYgPSBmYWxzZTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcCA9IHByZXY7XG4gICAgICAgICAgICBwcmV2ID0gdmFsdWU7XG4gICAgICAgICAgICBoYXNQcmV2ICYmIHN1YnNjcmliZXIubmV4dChbcCwgdmFsdWVdKTtcbiAgICAgICAgICAgIGhhc1ByZXYgPSB0cnVlO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnBhaXJ3aXNlID0gcGFpcndpc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWlyd2lzZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFydGl0aW9uID0gdm9pZCAwO1xudmFyIG5vdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbm90XCIpO1xudmFyIGZpbHRlcl8xID0gcmVxdWlyZShcIi4vZmlsdGVyXCIpO1xuZnVuY3Rpb24gcGFydGl0aW9uKHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBbZmlsdGVyXzEuZmlsdGVyKHByZWRpY2F0ZSwgdGhpc0FyZykoc291cmNlKSwgZmlsdGVyXzEuZmlsdGVyKG5vdF8xLm5vdChwcmVkaWNhdGUsIHRoaXNBcmcpKShzb3VyY2UpXTtcbiAgICB9O1xufVxuZXhwb3J0cy5wYXJ0aXRpb24gPSBwYXJ0aXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJ0aXRpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBsdWNrID0gdm9pZCAwO1xudmFyIG1hcF8xID0gcmVxdWlyZShcIi4vbWFwXCIpO1xuZnVuY3Rpb24gcGx1Y2soKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBwcm9wZXJ0aWVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBsZW5ndGggPSBwcm9wZXJ0aWVzLmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbGlzdCBvZiBwcm9wZXJ0aWVzIGNhbm5vdCBiZSBlbXB0eS4nKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcF8xLm1hcChmdW5jdGlvbiAoeCkge1xuICAgICAgICB2YXIgY3VycmVudFByb3AgPSB4O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcCA9IGN1cnJlbnRQcm9wID09PSBudWxsIHx8IGN1cnJlbnRQcm9wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50UHJvcFtwcm9wZXJ0aWVzW2ldXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UHJvcCA9IHA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50UHJvcDtcbiAgICB9KTtcbn1cbmV4cG9ydHMucGx1Y2sgPSBwbHVjaztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBsdWNrLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wdWJsaXNoID0gdm9pZCAwO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9TdWJqZWN0XCIpO1xudmFyIG11bHRpY2FzdF8xID0gcmVxdWlyZShcIi4vbXVsdGljYXN0XCIpO1xudmFyIGNvbm5lY3RfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3RcIik7XG5mdW5jdGlvbiBwdWJsaXNoKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHNlbGVjdG9yID8gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gY29ubmVjdF8xLmNvbm5lY3Qoc2VsZWN0b3IpKHNvdXJjZSk7IH0gOiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBtdWx0aWNhc3RfMS5tdWx0aWNhc3QobmV3IFN1YmplY3RfMS5TdWJqZWN0KCkpKHNvdXJjZSk7IH07XG59XG5leHBvcnRzLnB1Ymxpc2ggPSBwdWJsaXNoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHVibGlzaC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucHVibGlzaEJlaGF2aW9yID0gdm9pZCAwO1xudmFyIEJlaGF2aW9yU3ViamVjdF8xID0gcmVxdWlyZShcIi4uL0JlaGF2aW9yU3ViamVjdFwiKTtcbnZhciBDb25uZWN0YWJsZU9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL0Nvbm5lY3RhYmxlT2JzZXJ2YWJsZVwiKTtcbmZ1bmN0aW9uIHB1Ymxpc2hCZWhhdmlvcihpbml0aWFsVmFsdWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICB2YXIgc3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3RfMS5CZWhhdmlvclN1YmplY3QoaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb25uZWN0YWJsZU9ic2VydmFibGVfMS5Db25uZWN0YWJsZU9ic2VydmFibGUoc291cmNlLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJqZWN0OyB9KTtcbiAgICB9O1xufVxuZXhwb3J0cy5wdWJsaXNoQmVoYXZpb3IgPSBwdWJsaXNoQmVoYXZpb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wdWJsaXNoQmVoYXZpb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnB1Ymxpc2hMYXN0ID0gdm9pZCAwO1xudmFyIEFzeW5jU3ViamVjdF8xID0gcmVxdWlyZShcIi4uL0FzeW5jU3ViamVjdFwiKTtcbnZhciBDb25uZWN0YWJsZU9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL0Nvbm5lY3RhYmxlT2JzZXJ2YWJsZVwiKTtcbmZ1bmN0aW9uIHB1Ymxpc2hMYXN0KCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gbmV3IEFzeW5jU3ViamVjdF8xLkFzeW5jU3ViamVjdCgpO1xuICAgICAgICByZXR1cm4gbmV3IENvbm5lY3RhYmxlT2JzZXJ2YWJsZV8xLkNvbm5lY3RhYmxlT2JzZXJ2YWJsZShzb3VyY2UsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YmplY3Q7IH0pO1xuICAgIH07XG59XG5leHBvcnRzLnB1Ymxpc2hMYXN0ID0gcHVibGlzaExhc3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wdWJsaXNoTGFzdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucHVibGlzaFJlcGxheSA9IHZvaWQgMDtcbnZhciBSZXBsYXlTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vUmVwbGF5U3ViamVjdFwiKTtcbnZhciBtdWx0aWNhc3RfMSA9IHJlcXVpcmUoXCIuL211bHRpY2FzdFwiKTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gcHVibGlzaFJlcGxheShidWZmZXJTaXplLCB3aW5kb3dUaW1lLCBzZWxlY3Rvck9yU2NoZWR1bGVyLCB0aW1lc3RhbXBQcm92aWRlcikge1xuICAgIGlmIChzZWxlY3Rvck9yU2NoZWR1bGVyICYmICFpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihzZWxlY3Rvck9yU2NoZWR1bGVyKSkge1xuICAgICAgICB0aW1lc3RhbXBQcm92aWRlciA9IHNlbGVjdG9yT3JTY2hlZHVsZXI7XG4gICAgfVxuICAgIHZhciBzZWxlY3RvciA9IGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHNlbGVjdG9yT3JTY2hlZHVsZXIpID8gc2VsZWN0b3JPclNjaGVkdWxlciA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gbXVsdGljYXN0XzEubXVsdGljYXN0KG5ldyBSZXBsYXlTdWJqZWN0XzEuUmVwbGF5U3ViamVjdChidWZmZXJTaXplLCB3aW5kb3dUaW1lLCB0aW1lc3RhbXBQcm92aWRlciksIHNlbGVjdG9yKShzb3VyY2UpOyB9O1xufVxuZXhwb3J0cy5wdWJsaXNoUmVwbGF5ID0gcHVibGlzaFJlcGxheTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXB1Ymxpc2hSZXBsYXkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yYWNlID0gdm9pZCAwO1xudmFyIGFyZ3NPckFyZ0FycmF5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcmdzT3JBcmdBcnJheVwiKTtcbnZhciByYWNlV2l0aF8xID0gcmVxdWlyZShcIi4vcmFjZVdpdGhcIik7XG5mdW5jdGlvbiByYWNlKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmFjZVdpdGhfMS5yYWNlV2l0aC5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzT3JBcmdBcnJheV8xLmFyZ3NPckFyZ0FycmF5KGFyZ3MpKSkpO1xufVxuZXhwb3J0cy5yYWNlID0gcmFjZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhY2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yYWNlV2l0aCA9IHZvaWQgMDtcbnZhciByYWNlXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9yYWNlXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgaWRlbnRpdHlfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lkZW50aXR5XCIpO1xuZnVuY3Rpb24gcmFjZVdpdGgoKSB7XG4gICAgdmFyIG90aGVyU291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG90aGVyU291cmNlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gIW90aGVyU291cmNlcy5sZW5ndGhcbiAgICAgICAgPyBpZGVudGl0eV8xLmlkZW50aXR5XG4gICAgICAgIDogbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgcmFjZV8xLnJhY2VJbml0KF9fc3ByZWFkQXJyYXkoW3NvdXJjZV0sIF9fcmVhZChvdGhlclNvdXJjZXMpKSkoc3Vic2NyaWJlcik7XG4gICAgICAgIH0pO1xufVxuZXhwb3J0cy5yYWNlV2l0aCA9IHJhY2VXaXRoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmFjZVdpdGguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlZHVjZSA9IHZvaWQgMDtcbnZhciBzY2FuSW50ZXJuYWxzXzEgPSByZXF1aXJlKFwiLi9zY2FuSW50ZXJuYWxzXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG5mdW5jdGlvbiByZWR1Y2UoYWNjdW11bGF0b3IsIHNlZWQpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoc2NhbkludGVybmFsc18xLnNjYW5JbnRlcm5hbHMoYWNjdW11bGF0b3IsIHNlZWQsIGFyZ3VtZW50cy5sZW5ndGggPj0gMiwgZmFsc2UsIHRydWUpKTtcbn1cbmV4cG9ydHMucmVkdWNlID0gcmVkdWNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVkdWNlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZWZDb3VudCA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gcmVmQ291bnQoKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICBzb3VyY2UuX3JlZkNvdW50Kys7XG4gICAgICAgIHZhciByZWZDb3VudGVyID0gT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghc291cmNlIHx8IHNvdXJjZS5fcmVmQ291bnQgPD0gMCB8fCAwIDwgLS1zb3VyY2UuX3JlZkNvdW50KSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNoYXJlZENvbm5lY3Rpb24gPSBzb3VyY2UuX2Nvbm5lY3Rpb247XG4gICAgICAgICAgICB2YXIgY29ubiA9IGNvbm5lY3Rpb247XG4gICAgICAgICAgICBjb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChzaGFyZWRDb25uZWN0aW9uICYmICghY29ubiB8fCBzaGFyZWRDb25uZWN0aW9uID09PSBjb25uKSkge1xuICAgICAgICAgICAgICAgIHNoYXJlZENvbm5lY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUocmVmQ291bnRlcik7XG4gICAgICAgIGlmICghcmVmQ291bnRlci5jbG9zZWQpIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBzb3VyY2UuY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLnJlZkNvdW50ID0gcmVmQ291bnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWZDb3VudC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVwZWF0ID0gdm9pZCAwO1xudmFyIGVtcHR5XzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9lbXB0eVwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIHRpbWVyXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS90aW1lclwiKTtcbmZ1bmN0aW9uIHJlcGVhdChjb3VudE9yQ29uZmlnKSB7XG4gICAgdmFyIF9hO1xuICAgIHZhciBjb3VudCA9IEluZmluaXR5O1xuICAgIHZhciBkZWxheTtcbiAgICBpZiAoY291bnRPckNvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY291bnRPckNvbmZpZyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIChfYSA9IGNvdW50T3JDb25maWcuY291bnQsIGNvdW50ID0gX2EgPT09IHZvaWQgMCA/IEluZmluaXR5IDogX2EsIGRlbGF5ID0gY291bnRPckNvbmZpZy5kZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb3VudCA9IGNvdW50T3JDb25maWc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvdW50IDw9IDBcbiAgICAgICAgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBlbXB0eV8xLkVNUFRZOyB9XG4gICAgICAgIDogbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIHNvRmFyID0gMDtcbiAgICAgICAgICAgIHZhciBzb3VyY2VTdWI7XG4gICAgICAgICAgICB2YXIgcmVzdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc291cmNlU3ViID09PSBudWxsIHx8IHNvdXJjZVN1YiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc291cmNlU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgc291cmNlU3ViID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoZGVsYXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm90aWZpZXIgPSB0eXBlb2YgZGVsYXkgPT09ICdudW1iZXInID8gdGltZXJfMS50aW1lcihkZWxheSkgOiBpbm5lckZyb21fMS5pbm5lckZyb20oZGVsYXkoc29GYXIpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vdGlmaWVyU3Vic2NyaWJlcl8xID0gT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWVyU3Vic2NyaWJlcl8xLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVUb1NvdXJjZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgbm90aWZpZXIuc3Vic2NyaWJlKG5vdGlmaWVyU3Vic2NyaWJlcl8xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZVRvU291cmNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmVUb1NvdXJjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3luY1Vuc3ViID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc291cmNlU3ViID0gc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgrK3NvRmFyIDwgY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VTdWIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3luY1Vuc3ViID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBpZiAoc3luY1Vuc3ViKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN1YnNjcmliZVRvU291cmNlKCk7XG4gICAgICAgIH0pO1xufVxuZXhwb3J0cy5yZXBlYXQgPSByZXBlYXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXBlYXQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlcGVhdFdoZW4gPSB2b2lkIDA7XG52YXIgU3ViamVjdF8xID0gcmVxdWlyZShcIi4uL1N1YmplY3RcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIHJlcGVhdFdoZW4obm90aWZpZXIpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5uZXJTdWI7XG4gICAgICAgIHZhciBzeW5jUmVzdWIgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNvbXBsZXRpb25zJDtcbiAgICAgICAgdmFyIGlzTm90aWZpZXJDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgaXNNYWluQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNoZWNrQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBpc01haW5Db21wbGV0ZSAmJiBpc05vdGlmaWVyQ29tcGxldGUgJiYgKHN1YnNjcmliZXIuY29tcGxldGUoKSwgdHJ1ZSk7IH07XG4gICAgICAgIHZhciBnZXRDb21wbGV0aW9uU3ViamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghY29tcGxldGlvbnMkKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGlvbnMkID0gbmV3IFN1YmplY3RfMS5TdWJqZWN0KCk7XG4gICAgICAgICAgICAgICAgbm90aWZpZXIoY29tcGxldGlvbnMkKS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyU3ViKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVGb3JSZXBlYXRXaGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzeW5jUmVzdWIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpc05vdGlmaWVyQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbXBsZXRpb25zJDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHN1YnNjcmliZUZvclJlcGVhdFdoZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpc01haW5Db21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgaW5uZXJTdWIgPSBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpc01haW5Db21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgIWNoZWNrQ29tcGxldGUoKSAmJiBnZXRDb21wbGV0aW9uU3ViamVjdCgpLm5leHQoKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGlmIChzeW5jUmVzdWIpIHtcbiAgICAgICAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzeW5jUmVzdWIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVGb3JSZXBlYXRXaGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHN1YnNjcmliZUZvclJlcGVhdFdoZW4oKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMucmVwZWF0V2hlbiA9IHJlcGVhdFdoZW47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXBlYXRXaGVuLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZXRyeSA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIGlkZW50aXR5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pZGVudGl0eVwiKTtcbnZhciB0aW1lcl8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvdGltZXJcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG5mdW5jdGlvbiByZXRyeShjb25maWdPckNvdW50KSB7XG4gICAgaWYgKGNvbmZpZ09yQ291bnQgPT09IHZvaWQgMCkgeyBjb25maWdPckNvdW50ID0gSW5maW5pdHk7IH1cbiAgICB2YXIgY29uZmlnO1xuICAgIGlmIChjb25maWdPckNvdW50ICYmIHR5cGVvZiBjb25maWdPckNvdW50ID09PSAnb2JqZWN0Jykge1xuICAgICAgICBjb25maWcgPSBjb25maWdPckNvdW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uZmlnID0ge1xuICAgICAgICAgICAgY291bnQ6IGNvbmZpZ09yQ291bnQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHZhciBfYSA9IGNvbmZpZy5jb3VudCwgY291bnQgPSBfYSA9PT0gdm9pZCAwID8gSW5maW5pdHkgOiBfYSwgZGVsYXkgPSBjb25maWcuZGVsYXksIF9iID0gY29uZmlnLnJlc2V0T25TdWNjZXNzLCByZXNldE9uU3VjY2VzcyA9IF9iID09PSB2b2lkIDAgPyBmYWxzZSA6IF9iO1xuICAgIHJldHVybiBjb3VudCA8PSAwXG4gICAgICAgID8gaWRlbnRpdHlfMS5pZGVudGl0eVxuICAgICAgICA6IGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBzb0ZhciA9IDA7XG4gICAgICAgICAgICB2YXIgaW5uZXJTdWI7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlRm9yUmV0cnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN5bmNVbnN1YiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlubmVyU3ViID0gc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNldE9uU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc29GYXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb0ZhcisrIDwgY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1Yl8xID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbm5lclN1Yikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZUZvclJldHJ5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW5jVW5zdWIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsYXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub3RpZmllciA9IHR5cGVvZiBkZWxheSA9PT0gJ251bWJlcicgPyB0aW1lcl8xLnRpbWVyKGRlbGF5KSA6IGlubmVyRnJvbV8xLmlubmVyRnJvbShkZWxheShlcnIsIHNvRmFyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vdGlmaWVyU3Vic2NyaWJlcl8xID0gT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpZXJTdWJzY3JpYmVyXzEudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWJfMSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWVyLnN1YnNjcmliZShub3RpZmllclN1YnNjcmliZXJfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1Yl8xKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgaWYgKHN5bmNVbnN1Yikge1xuICAgICAgICAgICAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZUZvclJldHJ5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN1YnNjcmliZUZvclJldHJ5KCk7XG4gICAgICAgIH0pO1xufVxuZXhwb3J0cy5yZXRyeSA9IHJldHJ5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmV0cnkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJldHJ5V2hlbiA9IHZvaWQgMDtcbnZhciBTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vU3ViamVjdFwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gcmV0cnlXaGVuKG5vdGlmaWVyKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGlubmVyU3ViO1xuICAgICAgICB2YXIgc3luY1Jlc3ViID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvcnMkO1xuICAgICAgICB2YXIgc3Vic2NyaWJlRm9yUmV0cnlXaGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaW5uZXJTdWIgPSBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGlmICghZXJyb3JzJCkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMkID0gbmV3IFN1YmplY3RfMS5TdWJqZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIG5vdGlmaWVyKGVycm9ycyQpLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlubmVyU3ViID8gc3Vic2NyaWJlRm9yUmV0cnlXaGVuKCkgOiAoc3luY1Jlc3ViID0gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVycm9ycyQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzJC5uZXh0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKHN5bmNSZXN1Yikge1xuICAgICAgICAgICAgICAgIGlubmVyU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICAgICAgICAgIHN5bmNSZXN1YiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZUZvclJldHJ5V2hlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzdWJzY3JpYmVGb3JSZXRyeVdoZW4oKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMucmV0cnlXaGVuID0gcmV0cnlXaGVuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmV0cnlXaGVuLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zYW1wbGUgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBub29wXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9ub29wXCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gc2FtcGxlKG5vdGlmaWVyKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHZhciBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB9KSk7XG4gICAgICAgIG5vdGlmaWVyLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGhhc1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBsYXN0VmFsdWU7XG4gICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBub29wXzEubm9vcCkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5zYW1wbGUgPSBzYW1wbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zYW1wbGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNhbXBsZVRpbWUgPSB2b2lkIDA7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9zY2hlZHVsZXIvYXN5bmNcIik7XG52YXIgc2FtcGxlXzEgPSByZXF1aXJlKFwiLi9zYW1wbGVcIik7XG52YXIgaW50ZXJ2YWxfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2ludGVydmFsXCIpO1xuZnVuY3Rpb24gc2FtcGxlVGltZShwZXJpb2QsIHNjaGVkdWxlcikge1xuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY18xLmFzeW5jU2NoZWR1bGVyOyB9XG4gICAgcmV0dXJuIHNhbXBsZV8xLnNhbXBsZShpbnRlcnZhbF8xLmludGVydmFsKHBlcmlvZCwgc2NoZWR1bGVyKSk7XG59XG5leHBvcnRzLnNhbXBsZVRpbWUgPSBzYW1wbGVUaW1lO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2FtcGxlVGltZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2NhbiA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIHNjYW5JbnRlcm5hbHNfMSA9IHJlcXVpcmUoXCIuL3NjYW5JbnRlcm5hbHNcIik7XG5mdW5jdGlvbiBzY2FuKGFjY3VtdWxhdG9yLCBzZWVkKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKHNjYW5JbnRlcm5hbHNfMS5zY2FuSW50ZXJuYWxzKGFjY3VtdWxhdG9yLCBzZWVkLCBhcmd1bWVudHMubGVuZ3RoID49IDIsIHRydWUpKTtcbn1cbmV4cG9ydHMuc2NhbiA9IHNjYW47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2FuLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zY2FuSW50ZXJuYWxzID0gdm9pZCAwO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gc2NhbkludGVybmFscyhhY2N1bXVsYXRvciwgc2VlZCwgaGFzU2VlZCwgZW1pdE9uTmV4dCwgZW1pdEJlZm9yZUNvbXBsZXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGhhc1N0YXRlID0gaGFzU2VlZDtcbiAgICAgICAgdmFyIHN0YXRlID0gc2VlZDtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgaSA9IGluZGV4Kys7XG4gICAgICAgICAgICBzdGF0ZSA9IGhhc1N0YXRlXG4gICAgICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgICAgICBhY2N1bXVsYXRvcihzdGF0ZSwgdmFsdWUsIGkpXG4gICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAoKGhhc1N0YXRlID0gdHJ1ZSksIHZhbHVlKTtcbiAgICAgICAgICAgIGVtaXRPbk5leHQgJiYgc3Vic2NyaWJlci5uZXh0KHN0YXRlKTtcbiAgICAgICAgfSwgZW1pdEJlZm9yZUNvbXBsZXRlICYmXG4gICAgICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGhhc1N0YXRlICYmIHN1YnNjcmliZXIubmV4dChzdGF0ZSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSkpKTtcbiAgICB9O1xufVxuZXhwb3J0cy5zY2FuSW50ZXJuYWxzID0gc2NhbkludGVybmFscztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjYW5JbnRlcm5hbHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNlcXVlbmNlRXF1YWwgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIHNlcXVlbmNlRXF1YWwoY29tcGFyZVRvLCBjb21wYXJhdG9yKSB7XG4gICAgaWYgKGNvbXBhcmF0b3IgPT09IHZvaWQgMCkgeyBjb21wYXJhdG9yID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgPT09IGI7IH07IH1cbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgYVN0YXRlID0gY3JlYXRlU3RhdGUoKTtcbiAgICAgICAgdmFyIGJTdGF0ZSA9IGNyZWF0ZVN0YXRlKCk7XG4gICAgICAgIHZhciBlbWl0ID0gZnVuY3Rpb24gKGlzRXF1YWwpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpc0VxdWFsKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNyZWF0ZVN1YnNjcmliZXIgPSBmdW5jdGlvbiAoc2VsZlN0YXRlLCBvdGhlclN0YXRlKSB7XG4gICAgICAgICAgICB2YXIgc2VxdWVuY2VFcXVhbFN1YnNjcmliZXIgPSBPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gb3RoZXJTdGF0ZS5idWZmZXIsIGNvbXBsZXRlID0gb3RoZXJTdGF0ZS5jb21wbGV0ZTtcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSA/IGVtaXQoZmFsc2UpIDogc2VsZlN0YXRlLmJ1ZmZlci5wdXNoKGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgIWNvbXBhcmF0b3IoYSwgYnVmZmVyLnNoaWZ0KCkpICYmIGVtaXQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmU3RhdGUuY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBjb21wbGV0ZSA9IG90aGVyU3RhdGUuY29tcGxldGUsIGJ1ZmZlciA9IG90aGVyU3RhdGUuYnVmZmVyO1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlICYmIGVtaXQoYnVmZmVyLmxlbmd0aCA9PT0gMCk7XG4gICAgICAgICAgICAgICAgc2VxdWVuY2VFcXVhbFN1YnNjcmliZXIgPT09IG51bGwgfHwgc2VxdWVuY2VFcXVhbFN1YnNjcmliZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzZXF1ZW5jZUVxdWFsU3Vic2NyaWJlcjtcbiAgICAgICAgfTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKGFTdGF0ZSwgYlN0YXRlKSk7XG4gICAgICAgIGNvbXBhcmVUby5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcihiU3RhdGUsIGFTdGF0ZSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5zZXF1ZW5jZUVxdWFsID0gc2VxdWVuY2VFcXVhbDtcbmZ1bmN0aW9uIGNyZWF0ZVN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGJ1ZmZlcjogW10sXG4gICAgICAgIGNvbXBsZXRlOiBmYWxzZSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VxdWVuY2VFcXVhbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNoYXJlID0gdm9pZCAwO1xudmFyIGZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2Zyb21cIik7XG52YXIgdGFrZV8xID0gcmVxdWlyZShcIi4uL29wZXJhdG9ycy90YWtlXCIpO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9TdWJqZWN0XCIpO1xudmFyIFN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuLi9TdWJzY3JpYmVyXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG5mdW5jdGlvbiBzaGFyZShvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgX2EgPSBvcHRpb25zLmNvbm5lY3RvciwgY29ubmVjdG9yID0gX2EgPT09IHZvaWQgMCA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBTdWJqZWN0XzEuU3ViamVjdCgpOyB9IDogX2EsIF9iID0gb3B0aW9ucy5yZXNldE9uRXJyb3IsIHJlc2V0T25FcnJvciA9IF9iID09PSB2b2lkIDAgPyB0cnVlIDogX2IsIF9jID0gb3B0aW9ucy5yZXNldE9uQ29tcGxldGUsIHJlc2V0T25Db21wbGV0ZSA9IF9jID09PSB2b2lkIDAgPyB0cnVlIDogX2MsIF9kID0gb3B0aW9ucy5yZXNldE9uUmVmQ291bnRaZXJvLCByZXNldE9uUmVmQ291bnRaZXJvID0gX2QgPT09IHZvaWQgMCA/IHRydWUgOiBfZDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHdyYXBwZXJTb3VyY2UpIHtcbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICB2YXIgcmVzZXRDb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgdmFyIHN1YmplY3QgPSBudWxsO1xuICAgICAgICB2YXIgcmVmQ291bnQgPSAwO1xuICAgICAgICB2YXIgaGFzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBoYXNFcnJvcmVkID0gZmFsc2U7XG4gICAgICAgIHZhciBjYW5jZWxSZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlc2V0Q29ubmVjdGlvbiA9PT0gbnVsbCB8fCByZXNldENvbm5lY3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc2V0Q29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgcmVzZXRDb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2FuY2VsUmVzZXQoKTtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBzdWJqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIGhhc0NvbXBsZXRlZCA9IGhhc0Vycm9yZWQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlc2V0QW5kVW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY29ubiA9IGNvbm5lY3Rpb247XG4gICAgICAgICAgICByZXNldCgpO1xuICAgICAgICAgICAgY29ubiA9PT0gbnVsbCB8fCBjb25uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICByZWZDb3VudCsrO1xuICAgICAgICAgICAgaWYgKCFoYXNFcnJvcmVkICYmICFoYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxSZXNldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGRlc3QgPSAoc3ViamVjdCA9IHN1YmplY3QgIT09IG51bGwgJiYgc3ViamVjdCAhPT0gdm9pZCAwID8gc3ViamVjdCA6IGNvbm5lY3RvcigpKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZWZDb3VudC0tO1xuICAgICAgICAgICAgICAgIGlmIChyZWZDb3VudCA9PT0gMCAmJiAhaGFzRXJyb3JlZCAmJiAhaGFzQ29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2V0Q29ubmVjdGlvbiA9IGhhbmRsZVJlc2V0KHJlc2V0QW5kVW5zdWJzY3JpYmUsIHJlc2V0T25SZWZDb3VudFplcm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVzdC5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICBpZiAoIWNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0gbmV3IFN1YnNjcmliZXJfMS5TYWZlU3Vic2NyaWJlcih7XG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gZGVzdC5uZXh0KHZhbHVlKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsUmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0Q29ubmVjdGlvbiA9IGhhbmRsZVJlc2V0KHJlc2V0LCByZXNldE9uRXJyb3IsIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0LmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsUmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0Q29ubmVjdGlvbiA9IGhhbmRsZVJlc2V0KHJlc2V0LCByZXNldE9uQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdC5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZyb21fMS5mcm9tKHNvdXJjZSkuc3Vic2NyaWJlKGNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSh3cmFwcGVyU291cmNlKTtcbiAgICB9O1xufVxuZXhwb3J0cy5zaGFyZSA9IHNoYXJlO1xuZnVuY3Rpb24gaGFuZGxlUmVzZXQocmVzZXQsIG9uKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBpZiAob24gPT09IHRydWUpIHtcbiAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChvbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBvbi5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpLnBpcGUodGFrZV8xLnRha2UoMSkpXG4gICAgICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzZXQoKTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGFyZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2hhcmVSZXBsYXkgPSB2b2lkIDA7XG52YXIgUmVwbGF5U3ViamVjdF8xID0gcmVxdWlyZShcIi4uL1JlcGxheVN1YmplY3RcIik7XG52YXIgc2hhcmVfMSA9IHJlcXVpcmUoXCIuL3NoYXJlXCIpO1xuZnVuY3Rpb24gc2hhcmVSZXBsYXkoY29uZmlnT3JCdWZmZXJTaXplLCB3aW5kb3dUaW1lLCBzY2hlZHVsZXIpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHZhciBidWZmZXJTaXplO1xuICAgIHZhciByZWZDb3VudCA9IGZhbHNlO1xuICAgIGlmIChjb25maWdPckJ1ZmZlclNpemUgJiYgdHlwZW9mIGNvbmZpZ09yQnVmZmVyU2l6ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgYnVmZmVyU2l6ZSA9IChfYSA9IGNvbmZpZ09yQnVmZmVyU2l6ZS5idWZmZXJTaXplKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBJbmZpbml0eTtcbiAgICAgICAgd2luZG93VGltZSA9IChfYiA9IGNvbmZpZ09yQnVmZmVyU2l6ZS53aW5kb3dUaW1lKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBJbmZpbml0eTtcbiAgICAgICAgcmVmQ291bnQgPSAhIWNvbmZpZ09yQnVmZmVyU2l6ZS5yZWZDb3VudDtcbiAgICAgICAgc2NoZWR1bGVyID0gY29uZmlnT3JCdWZmZXJTaXplLnNjaGVkdWxlcjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGJ1ZmZlclNpemUgPSBjb25maWdPckJ1ZmZlclNpemUgIT09IG51bGwgJiYgY29uZmlnT3JCdWZmZXJTaXplICE9PSB2b2lkIDAgPyBjb25maWdPckJ1ZmZlclNpemUgOiBJbmZpbml0eTtcbiAgICB9XG4gICAgcmV0dXJuIHNoYXJlXzEuc2hhcmUoe1xuICAgICAgICBjb25uZWN0b3I6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBSZXBsYXlTdWJqZWN0XzEuUmVwbGF5U3ViamVjdChidWZmZXJTaXplLCB3aW5kb3dUaW1lLCBzY2hlZHVsZXIpOyB9LFxuICAgICAgICByZXNldE9uRXJyb3I6IHRydWUsXG4gICAgICAgIHJlc2V0T25Db21wbGV0ZTogZmFsc2UsXG4gICAgICAgIHJlc2V0T25SZWZDb3VudFplcm86IHJlZkNvdW50LFxuICAgIH0pO1xufVxuZXhwb3J0cy5zaGFyZVJlcGxheSA9IHNoYXJlUmVwbGF5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2hhcmVSZXBsYXkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNpbmdsZSA9IHZvaWQgMDtcbnZhciBFbXB0eUVycm9yXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9FbXB0eUVycm9yXCIpO1xudmFyIFNlcXVlbmNlRXJyb3JfMSA9IHJlcXVpcmUoXCIuLi91dGlsL1NlcXVlbmNlRXJyb3JcIik7XG52YXIgTm90Rm91bmRFcnJvcl8xID0gcmVxdWlyZShcIi4uL3V0aWwvTm90Rm91bmRFcnJvclwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gc2luZ2xlKHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgc2luZ2xlVmFsdWU7XG4gICAgICAgIHZhciBzZWVuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBzZWVuVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCFwcmVkaWNhdGUgfHwgcHJlZGljYXRlKHZhbHVlLCBpbmRleCsrLCBzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgaGFzVmFsdWUgJiYgc3Vic2NyaWJlci5lcnJvcihuZXcgU2VxdWVuY2VFcnJvcl8xLlNlcXVlbmNlRXJyb3IoJ1RvbyBtYW55IG1hdGNoaW5nIHZhbHVlcycpKTtcbiAgICAgICAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2luZ2xlVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGhhc1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHNpbmdsZVZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKHNlZW5WYWx1ZSA/IG5ldyBOb3RGb3VuZEVycm9yXzEuTm90Rm91bmRFcnJvcignTm8gbWF0Y2hpbmcgdmFsdWVzJykgOiBuZXcgRW1wdHlFcnJvcl8xLkVtcHR5RXJyb3IoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuc2luZ2xlID0gc2luZ2xlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2luZ2xlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5za2lwID0gdm9pZCAwO1xudmFyIGZpbHRlcl8xID0gcmVxdWlyZShcIi4vZmlsdGVyXCIpO1xuZnVuY3Rpb24gc2tpcChjb3VudCkge1xuICAgIHJldHVybiBmaWx0ZXJfMS5maWx0ZXIoZnVuY3Rpb24gKF8sIGluZGV4KSB7IHJldHVybiBjb3VudCA8PSBpbmRleDsgfSk7XG59XG5leHBvcnRzLnNraXAgPSBza2lwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2tpcC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2tpcExhc3QgPSB2b2lkIDA7XG52YXIgaWRlbnRpdHlfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lkZW50aXR5XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBza2lwTGFzdChza2lwQ291bnQpIHtcbiAgICByZXR1cm4gc2tpcENvdW50IDw9IDBcbiAgICAgICAgP1xuICAgICAgICAgICAgaWRlbnRpdHlfMS5pZGVudGl0eVxuICAgICAgICA6IGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciByaW5nID0gbmV3IEFycmF5KHNraXBDb3VudCk7XG4gICAgICAgICAgICB2YXIgc2VlbiA9IDA7XG4gICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVJbmRleCA9IHNlZW4rKztcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVJbmRleCA8IHNraXBDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICByaW5nW3ZhbHVlSW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB2YWx1ZUluZGV4ICUgc2tpcENvdW50O1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2xkVmFsdWUgPSByaW5nW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgcmluZ1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KG9sZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJpbmcgPSBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG59XG5leHBvcnRzLnNraXBMYXN0ID0gc2tpcExhc3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1za2lwTGFzdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2tpcFVudGlsID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG52YXIgbm9vcF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbm9vcFwiKTtcbmZ1bmN0aW9uIHNraXBVbnRpbChub3RpZmllcikge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciB0YWtpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIHNraXBTdWJzY3JpYmVyID0gT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNraXBTdWJzY3JpYmVyID09PSBudWxsIHx8IHNraXBTdWJzY3JpYmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBza2lwU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGFraW5nID0gdHJ1ZTtcbiAgICAgICAgfSwgbm9vcF8xLm5vb3ApO1xuICAgICAgICBpbm5lckZyb21fMS5pbm5lckZyb20obm90aWZpZXIpLnN1YnNjcmliZShza2lwU3Vic2NyaWJlcik7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdGFraW5nICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7IH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuc2tpcFVudGlsID0gc2tpcFVudGlsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2tpcFVudGlsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5za2lwV2hpbGUgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIHNraXBXaGlsZShwcmVkaWNhdGUpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgdGFraW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gKHRha2luZyB8fCAodGFraW5nID0gIXByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgrKykpKSAmJiBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnNraXBXaGlsZSA9IHNraXBXaGlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNraXBXaGlsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc3RhcnRXaXRoID0gdm9pZCAwO1xudmFyIGNvbmNhdF8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvY29uY2F0XCIpO1xudmFyIGFyZ3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbmZ1bmN0aW9uIHN0YXJ0V2l0aCgpIHtcbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFsdWVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBzY2hlZHVsZXIgPSBhcmdzXzEucG9wU2NoZWR1bGVyKHZhbHVlcyk7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgKHNjaGVkdWxlciA/IGNvbmNhdF8xLmNvbmNhdCh2YWx1ZXMsIHNvdXJjZSwgc2NoZWR1bGVyKSA6IGNvbmNhdF8xLmNvbmNhdCh2YWx1ZXMsIHNvdXJjZSkpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuc3RhcnRXaXRoID0gc3RhcnRXaXRoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhcnRXaXRoLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zdWJzY3JpYmVPbiA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xuZnVuY3Rpb24gc3Vic2NyaWJlT24oc2NoZWR1bGVyLCBkZWxheSkge1xuICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHN1YnNjcmliZXIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpOyB9LCBkZWxheSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5zdWJzY3JpYmVPbiA9IHN1YnNjcmliZU9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlT24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnN3aXRjaEFsbCA9IHZvaWQgMDtcbnZhciBzd2l0Y2hNYXBfMSA9IHJlcXVpcmUoXCIuL3N3aXRjaE1hcFwiKTtcbnZhciBpZGVudGl0eV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaWRlbnRpdHlcIik7XG5mdW5jdGlvbiBzd2l0Y2hBbGwoKSB7XG4gICAgcmV0dXJuIHN3aXRjaE1hcF8xLnN3aXRjaE1hcChpZGVudGl0eV8xLmlkZW50aXR5KTtcbn1cbmV4cG9ydHMuc3dpdGNoQWxsID0gc3dpdGNoQWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3dpdGNoQWxsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zd2l0Y2hNYXAgPSB2b2lkIDA7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbmZ1bmN0aW9uIHN3aXRjaE1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3Rvcikge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgY2hlY2tDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzQ29tcGxldGUgJiYgIWlubmVyU3Vic2NyaWJlciAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH07XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaW5uZXJTdWJzY3JpYmVyID09PSBudWxsIHx8IGlubmVyU3Vic2NyaWJlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5uZXJTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB2YXIgaW5uZXJJbmRleCA9IDA7XG4gICAgICAgICAgICB2YXIgb3V0ZXJJbmRleCA9IGluZGV4Kys7XG4gICAgICAgICAgICBpbm5lckZyb21fMS5pbm5lckZyb20ocHJvamVjdCh2YWx1ZSwgb3V0ZXJJbmRleCkpLnN1YnNjcmliZSgoaW5uZXJTdWJzY3JpYmVyID0gT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChpbm5lclZhbHVlKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQocmVzdWx0U2VsZWN0b3IgPyByZXN1bHRTZWxlY3Rvcih2YWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJJbmRleCsrKSA6IGlubmVyVmFsdWUpOyB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaW5uZXJTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5zd2l0Y2hNYXAgPSBzd2l0Y2hNYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zd2l0Y2hNYXAuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnN3aXRjaE1hcFRvID0gdm9pZCAwO1xudmFyIHN3aXRjaE1hcF8xID0gcmVxdWlyZShcIi4vc3dpdGNoTWFwXCIpO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzRnVuY3Rpb25cIik7XG5mdW5jdGlvbiBzd2l0Y2hNYXBUbyhpbm5lck9ic2VydmFibGUsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKHJlc3VsdFNlbGVjdG9yKSA/IHN3aXRjaE1hcF8xLnN3aXRjaE1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBpbm5lck9ic2VydmFibGU7IH0sIHJlc3VsdFNlbGVjdG9yKSA6IHN3aXRjaE1hcF8xLnN3aXRjaE1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBpbm5lck9ic2VydmFibGU7IH0pO1xufVxuZXhwb3J0cy5zd2l0Y2hNYXBUbyA9IHN3aXRjaE1hcFRvO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3dpdGNoTWFwVG8uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnN3aXRjaFNjYW4gPSB2b2lkIDA7XG52YXIgc3dpdGNoTWFwXzEgPSByZXF1aXJlKFwiLi9zd2l0Y2hNYXBcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbmZ1bmN0aW9uIHN3aXRjaFNjYW4oYWNjdW11bGF0b3IsIHNlZWQpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3RhdGUgPSBzZWVkO1xuICAgICAgICBzd2l0Y2hNYXBfMS5zd2l0Y2hNYXAoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgeyByZXR1cm4gYWNjdW11bGF0b3Ioc3RhdGUsIHZhbHVlLCBpbmRleCk7IH0sIGZ1bmN0aW9uIChfLCBpbm5lclZhbHVlKSB7IHJldHVybiAoKHN0YXRlID0gaW5uZXJWYWx1ZSksIGlubmVyVmFsdWUpOyB9KShzb3VyY2UpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0YXRlID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuc3dpdGNoU2NhbiA9IHN3aXRjaFNjYW47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zd2l0Y2hTY2FuLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy50YWtlID0gdm9pZCAwO1xudmFyIGVtcHR5XzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9lbXB0eVwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gdGFrZShjb3VudCkge1xuICAgIHJldHVybiBjb3VudCA8PSAwXG4gICAgICAgID9cbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVtcHR5XzEuRU1QVFk7IH1cbiAgICAgICAgOiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICB2YXIgc2VlbiA9IDA7XG4gICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoKytzZWVuIDw9IGNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudCA8PSBzZWVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xufVxuZXhwb3J0cy50YWtlID0gdGFrZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRha2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRha2VMYXN0ID0gdm9pZCAwO1xudmFyIGVtcHR5XzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9lbXB0eVwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xuZnVuY3Rpb24gdGFrZUxhc3QoY291bnQpIHtcbiAgICByZXR1cm4gY291bnQgPD0gMFxuICAgICAgICA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVtcHR5XzEuRU1QVFk7IH1cbiAgICAgICAgOiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gW107XG4gICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBidWZmZXIucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgY291bnQgPCBidWZmZXIubGVuZ3RoICYmIGJ1ZmZlci5zaGlmdCgpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGJ1ZmZlcl8xID0gX192YWx1ZXMoYnVmZmVyKSwgYnVmZmVyXzFfMSA9IGJ1ZmZlcl8xLm5leHQoKTsgIWJ1ZmZlcl8xXzEuZG9uZTsgYnVmZmVyXzFfMSA9IGJ1ZmZlcl8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gYnVmZmVyXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXJfMV8xICYmICFidWZmZXJfMV8xLmRvbmUgJiYgKF9hID0gYnVmZmVyXzEucmV0dXJuKSkgX2EuY2FsbChidWZmZXJfMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBidWZmZXIgPSBudWxsO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbn1cbmV4cG9ydHMudGFrZUxhc3QgPSB0YWtlTGFzdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRha2VMYXN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy50YWtlVW50aWwgPSB2b2lkIDA7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBub29wXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9ub29wXCIpO1xuZnVuY3Rpb24gdGFrZVVudGlsKG5vdGlmaWVyKSB7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgaW5uZXJGcm9tXzEuaW5uZXJGcm9tKG5vdGlmaWVyKS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSwgbm9vcF8xLm5vb3ApKTtcbiAgICAgICAgIXN1YnNjcmliZXIuY2xvc2VkICYmIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfSk7XG59XG5leHBvcnRzLnRha2VVbnRpbCA9IHRha2VVbnRpbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRha2VVbnRpbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudGFrZVdoaWxlID0gdm9pZCAwO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiB0YWtlV2hpbGUocHJlZGljYXRlLCBpbmNsdXNpdmUpIHtcbiAgICBpZiAoaW5jbHVzaXZlID09PSB2b2lkIDApIHsgaW5jbHVzaXZlID0gZmFsc2U7IH1cbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBwcmVkaWNhdGUodmFsdWUsIGluZGV4KyspO1xuICAgICAgICAgICAgKHJlc3VsdCB8fCBpbmNsdXNpdmUpICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAhcmVzdWx0ICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy50YWtlV2hpbGUgPSB0YWtlV2hpbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10YWtlV2hpbGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRhcCA9IHZvaWQgMDtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgaWRlbnRpdHlfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lkZW50aXR5XCIpO1xuZnVuY3Rpb24gdGFwKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICB2YXIgdGFwT2JzZXJ2ZXIgPSBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkgfHwgZXJyb3IgfHwgY29tcGxldGVcbiAgICAgICAgP1xuICAgICAgICAgICAgeyBuZXh0OiBvYnNlcnZlck9yTmV4dCwgZXJyb3I6IGVycm9yLCBjb21wbGV0ZTogY29tcGxldGUgfVxuICAgICAgICA6IG9ic2VydmVyT3JOZXh0O1xuICAgIHJldHVybiB0YXBPYnNlcnZlclxuICAgICAgICA/IGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIChfYSA9IHRhcE9ic2VydmVyLnN1YnNjcmliZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGFwT2JzZXJ2ZXIpO1xuICAgICAgICAgICAgdmFyIGlzVW5zdWIgPSB0cnVlO1xuICAgICAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIChfYSA9IHRhcE9ic2VydmVyLm5leHQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRhcE9ic2VydmVyLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaXNVbnN1YiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIChfYSA9IHRhcE9ic2VydmVyLmNvbXBsZXRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0YXBPYnNlcnZlcik7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpc1Vuc3ViID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIuZXJyb3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRhcE9ic2VydmVyLCBlcnIpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIGlmIChpc1Vuc3ViKSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHRhcE9ic2VydmVyLnVuc3Vic2NyaWJlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0YXBPYnNlcnZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChfYiA9IHRhcE9ic2VydmVyLmZpbmFsaXplKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbCh0YXBPYnNlcnZlcik7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pXG4gICAgICAgIDpcbiAgICAgICAgICAgIGlkZW50aXR5XzEuaWRlbnRpdHk7XG59XG5leHBvcnRzLnRhcCA9IHRhcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRhcC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudGhyb3R0bGUgPSBleHBvcnRzLmRlZmF1bHRUaHJvdHRsZUNvbmZpZyA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xuZXhwb3J0cy5kZWZhdWx0VGhyb3R0bGVDb25maWcgPSB7XG4gICAgbGVhZGluZzogdHJ1ZSxcbiAgICB0cmFpbGluZzogZmFsc2UsXG59O1xuZnVuY3Rpb24gdGhyb3R0bGUoZHVyYXRpb25TZWxlY3RvciwgY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IGV4cG9ydHMuZGVmYXVsdFRocm90dGxlQ29uZmlnOyB9XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGxlYWRpbmcgPSBjb25maWcubGVhZGluZywgdHJhaWxpbmcgPSBjb25maWcudHJhaWxpbmc7XG4gICAgICAgIHZhciBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgc2VuZFZhbHVlID0gbnVsbDtcbiAgICAgICAgdmFyIHRocm90dGxlZCA9IG51bGw7XG4gICAgICAgIHZhciBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHZhciBlbmRUaHJvdHRsaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3R0bGVkID09PSBudWxsIHx8IHRocm90dGxlZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhyb3R0bGVkLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB0aHJvdHRsZWQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRyYWlsaW5nKSB7XG4gICAgICAgICAgICAgICAgc2VuZCgpO1xuICAgICAgICAgICAgICAgIGlzQ29tcGxldGUgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgY2xlYW51cFRocm90dGxpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdHRsZWQgPSBudWxsO1xuICAgICAgICAgICAgaXNDb21wbGV0ZSAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBzdGFydFRocm90dGxlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRocm90dGxlZCA9IGlubmVyRnJvbV8xLmlubmVyRnJvbShkdXJhdGlvblNlbGVjdG9yKHZhbHVlKSkuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBlbmRUaHJvdHRsaW5nLCBjbGVhbnVwVGhyb3R0bGluZykpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHNlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHNlbmRWYWx1ZTtcbiAgICAgICAgICAgICAgICBzZW5kVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgIWlzQ29tcGxldGUgJiYgc3RhcnRUaHJvdHRsZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgc2VuZFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAhKHRocm90dGxlZCAmJiAhdGhyb3R0bGVkLmNsb3NlZCkgJiYgKGxlYWRpbmcgPyBzZW5kKCkgOiBzdGFydFRocm90dGxlKHZhbHVlKSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgISh0cmFpbGluZyAmJiBoYXNWYWx1ZSAmJiB0aHJvdHRsZWQgJiYgIXRocm90dGxlZC5jbG9zZWQpICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy50aHJvdHRsZSA9IHRocm90dGxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3R0bGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRocm90dGxlVGltZSA9IHZvaWQgMDtcbnZhciBhc3luY18xID0gcmVxdWlyZShcIi4uL3NjaGVkdWxlci9hc3luY1wiKTtcbnZhciB0aHJvdHRsZV8xID0gcmVxdWlyZShcIi4vdGhyb3R0bGVcIik7XG52YXIgdGltZXJfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL3RpbWVyXCIpO1xuZnVuY3Rpb24gdGhyb3R0bGVUaW1lKGR1cmF0aW9uLCBzY2hlZHVsZXIsIGNvbmZpZykge1xuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY18xLmFzeW5jU2NoZWR1bGVyOyB9XG4gICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHRocm90dGxlXzEuZGVmYXVsdFRocm90dGxlQ29uZmlnOyB9XG4gICAgdmFyIGR1cmF0aW9uJCA9IHRpbWVyXzEudGltZXIoZHVyYXRpb24sIHNjaGVkdWxlcik7XG4gICAgcmV0dXJuIHRocm90dGxlXzEudGhyb3R0bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gZHVyYXRpb24kOyB9LCBjb25maWcpO1xufVxuZXhwb3J0cy50aHJvdHRsZVRpbWUgPSB0aHJvdHRsZVRpbWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aHJvdHRsZVRpbWUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRocm93SWZFbXB0eSA9IHZvaWQgMDtcbnZhciBFbXB0eUVycm9yXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9FbXB0eUVycm9yXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiB0aHJvd0lmRW1wdHkoZXJyb3JGYWN0b3J5KSB7XG4gICAgaWYgKGVycm9yRmFjdG9yeSA9PT0gdm9pZCAwKSB7IGVycm9yRmFjdG9yeSA9IGRlZmF1bHRFcnJvckZhY3Rvcnk7IH1cbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiAoaGFzVmFsdWUgPyBzdWJzY3JpYmVyLmNvbXBsZXRlKCkgOiBzdWJzY3JpYmVyLmVycm9yKGVycm9yRmFjdG9yeSgpKSk7IH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMudGhyb3dJZkVtcHR5ID0gdGhyb3dJZkVtcHR5O1xuZnVuY3Rpb24gZGVmYXVsdEVycm9yRmFjdG9yeSgpIHtcbiAgICByZXR1cm4gbmV3IEVtcHR5RXJyb3JfMS5FbXB0eUVycm9yKCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aHJvd0lmRW1wdHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlRpbWVJbnRlcnZhbCA9IGV4cG9ydHMudGltZUludGVydmFsID0gdm9pZCAwO1xudmFyIGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vc2NoZWR1bGVyL2FzeW5jXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiB0aW1lSW50ZXJ2YWwoc2NoZWR1bGVyKSB7XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7IHNjaGVkdWxlciA9IGFzeW5jXzEuYXN5bmNTY2hlZHVsZXI7IH1cbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgbGFzdCA9IHNjaGVkdWxlci5ub3coKTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgbm93ID0gc2NoZWR1bGVyLm5vdygpO1xuICAgICAgICAgICAgdmFyIGludGVydmFsID0gbm93IC0gbGFzdDtcbiAgICAgICAgICAgIGxhc3QgPSBub3c7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQobmV3IFRpbWVJbnRlcnZhbCh2YWx1ZSwgaW50ZXJ2YWwpKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy50aW1lSW50ZXJ2YWwgPSB0aW1lSW50ZXJ2YWw7XG52YXIgVGltZUludGVydmFsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaW1lSW50ZXJ2YWwodmFsdWUsIGludGVydmFsKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5pbnRlcnZhbCA9IGludGVydmFsO1xuICAgIH1cbiAgICByZXR1cm4gVGltZUludGVydmFsO1xufSgpKTtcbmV4cG9ydHMuVGltZUludGVydmFsID0gVGltZUludGVydmFsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZUludGVydmFsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy50aW1lb3V0ID0gZXhwb3J0cy5UaW1lb3V0RXJyb3IgPSB2b2lkIDA7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9zY2hlZHVsZXIvYXN5bmNcIik7XG52YXIgaXNEYXRlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc0RhdGVcIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBjcmVhdGVFcnJvckNsYXNzXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9jcmVhdGVFcnJvckNsYXNzXCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIGV4ZWN1dGVTY2hlZHVsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlXCIpO1xuZXhwb3J0cy5UaW1lb3V0RXJyb3IgPSBjcmVhdGVFcnJvckNsYXNzXzEuY3JlYXRlRXJyb3JDbGFzcyhmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIFRpbWVvdXRFcnJvckltcGwoaW5mbykge1xuICAgICAgICBpZiAoaW5mbyA9PT0gdm9pZCAwKSB7IGluZm8gPSBudWxsOyB9XG4gICAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gJ1RpbWVvdXQgaGFzIG9jY3VycmVkJztcbiAgICAgICAgdGhpcy5uYW1lID0gJ1RpbWVvdXRFcnJvcic7XG4gICAgICAgIHRoaXMuaW5mbyA9IGluZm87XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gdGltZW91dChjb25maWcsIHNjaGVkdWxlckFyZykge1xuICAgIHZhciBfYSA9IChpc0RhdGVfMS5pc1ZhbGlkRGF0ZShjb25maWcpID8geyBmaXJzdDogY29uZmlnIH0gOiB0eXBlb2YgY29uZmlnID09PSAnbnVtYmVyJyA/IHsgZWFjaDogY29uZmlnIH0gOiBjb25maWcpLCBmaXJzdCA9IF9hLmZpcnN0LCBlYWNoID0gX2EuZWFjaCwgX2IgPSBfYS53aXRoLCBfd2l0aCA9IF9iID09PSB2b2lkIDAgPyB0aW1lb3V0RXJyb3JGYWN0b3J5IDogX2IsIF9jID0gX2Euc2NoZWR1bGVyLCBzY2hlZHVsZXIgPSBfYyA9PT0gdm9pZCAwID8gc2NoZWR1bGVyQXJnICE9PSBudWxsICYmIHNjaGVkdWxlckFyZyAhPT0gdm9pZCAwID8gc2NoZWR1bGVyQXJnIDogYXN5bmNfMS5hc3luY1NjaGVkdWxlciA6IF9jLCBfZCA9IF9hLm1ldGEsIG1ldGEgPSBfZCA9PT0gdm9pZCAwID8gbnVsbCA6IF9kO1xuICAgIGlmIChmaXJzdCA9PSBudWxsICYmIGVhY2ggPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdObyB0aW1lb3V0IHByb3ZpZGVkLicpO1xuICAgIH1cbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgb3JpZ2luYWxTb3VyY2VTdWJzY3JpcHRpb247XG4gICAgICAgIHZhciB0aW1lclN1YnNjcmlwdGlvbjtcbiAgICAgICAgdmFyIGxhc3RWYWx1ZSA9IG51bGw7XG4gICAgICAgIHZhciBzZWVuID0gMDtcbiAgICAgICAgdmFyIHN0YXJ0VGltZXIgPSBmdW5jdGlvbiAoZGVsYXkpIHtcbiAgICAgICAgICAgIHRpbWVyU3Vic2NyaXB0aW9uID0gZXhlY3V0ZVNjaGVkdWxlXzEuZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU291cmNlU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlubmVyRnJvbV8xLmlubmVyRnJvbShfd2l0aCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhOiBtZXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFZhbHVlOiBsYXN0VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWVuOiBzZWVuLFxuICAgICAgICAgICAgICAgICAgICB9KSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgIH07XG4gICAgICAgIG9yaWdpbmFsU291cmNlU3Vic2NyaXB0aW9uID0gc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aW1lclN1YnNjcmlwdGlvbiA9PT0gbnVsbCB8fCB0aW1lclN1YnNjcmlwdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGltZXJTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHNlZW4rKztcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCgobGFzdFZhbHVlID0gdmFsdWUpKTtcbiAgICAgICAgICAgIGVhY2ggPiAwICYmIHN0YXJ0VGltZXIoZWFjaCk7XG4gICAgICAgIH0sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoISh0aW1lclN1YnNjcmlwdGlvbiA9PT0gbnVsbCB8fCB0aW1lclN1YnNjcmlwdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGltZXJTdWJzY3JpcHRpb24uY2xvc2VkKSkge1xuICAgICAgICAgICAgICAgIHRpbWVyU3Vic2NyaXB0aW9uID09PSBudWxsIHx8IHRpbWVyU3Vic2NyaXB0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aW1lclN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgfSkpO1xuICAgICAgICBzdGFydFRpbWVyKGZpcnN0ICE9IG51bGwgPyAodHlwZW9mIGZpcnN0ID09PSAnbnVtYmVyJyA/IGZpcnN0IDogK2ZpcnN0IC0gc2NoZWR1bGVyLm5vdygpKSA6IGVhY2gpO1xuICAgIH0pO1xufVxuZXhwb3J0cy50aW1lb3V0ID0gdGltZW91dDtcbmZ1bmN0aW9uIHRpbWVvdXRFcnJvckZhY3RvcnkoaW5mbykge1xuICAgIHRocm93IG5ldyBleHBvcnRzLlRpbWVvdXRFcnJvcihpbmZvKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVvdXQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRpbWVvdXRXaXRoID0gdm9pZCAwO1xudmFyIGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vc2NoZWR1bGVyL2FzeW5jXCIpO1xudmFyIGlzRGF0ZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNEYXRlXCIpO1xudmFyIHRpbWVvdXRfMSA9IHJlcXVpcmUoXCIuL3RpbWVvdXRcIik7XG5mdW5jdGlvbiB0aW1lb3V0V2l0aChkdWUsIHdpdGhPYnNlcnZhYmxlLCBzY2hlZHVsZXIpIHtcbiAgICB2YXIgZmlyc3Q7XG4gICAgdmFyIGVhY2g7XG4gICAgdmFyIF93aXRoO1xuICAgIHNjaGVkdWxlciA9IHNjaGVkdWxlciAhPT0gbnVsbCAmJiBzY2hlZHVsZXIgIT09IHZvaWQgMCA/IHNjaGVkdWxlciA6IGFzeW5jXzEuYXN5bmM7XG4gICAgaWYgKGlzRGF0ZV8xLmlzVmFsaWREYXRlKGR1ZSkpIHtcbiAgICAgICAgZmlyc3QgPSBkdWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBkdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGVhY2ggPSBkdWU7XG4gICAgfVxuICAgIGlmICh3aXRoT2JzZXJ2YWJsZSkge1xuICAgICAgICBfd2l0aCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdpdGhPYnNlcnZhYmxlOyB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gb2JzZXJ2YWJsZSBwcm92aWRlZCB0byBzd2l0Y2ggdG8nKTtcbiAgICB9XG4gICAgaWYgKGZpcnN0ID09IG51bGwgJiYgZWFjaCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIHRpbWVvdXQgcHJvdmlkZWQuJyk7XG4gICAgfVxuICAgIHJldHVybiB0aW1lb3V0XzEudGltZW91dCh7XG4gICAgICAgIGZpcnN0OiBmaXJzdCxcbiAgICAgICAgZWFjaDogZWFjaCxcbiAgICAgICAgc2NoZWR1bGVyOiBzY2hlZHVsZXIsXG4gICAgICAgIHdpdGg6IF93aXRoLFxuICAgIH0pO1xufVxuZXhwb3J0cy50aW1lb3V0V2l0aCA9IHRpbWVvdXRXaXRoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZW91dFdpdGguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRpbWVzdGFtcCA9IHZvaWQgMDtcbnZhciBkYXRlVGltZXN0YW1wUHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuLi9zY2hlZHVsZXIvZGF0ZVRpbWVzdGFtcFByb3ZpZGVyXCIpO1xudmFyIG1hcF8xID0gcmVxdWlyZShcIi4vbWFwXCIpO1xuZnVuY3Rpb24gdGltZXN0YW1wKHRpbWVzdGFtcFByb3ZpZGVyKSB7XG4gICAgaWYgKHRpbWVzdGFtcFByb3ZpZGVyID09PSB2b2lkIDApIHsgdGltZXN0YW1wUHJvdmlkZXIgPSBkYXRlVGltZXN0YW1wUHJvdmlkZXJfMS5kYXRlVGltZXN0YW1wUHJvdmlkZXI7IH1cbiAgICByZXR1cm4gbWFwXzEubWFwKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gKHsgdmFsdWU6IHZhbHVlLCB0aW1lc3RhbXA6IHRpbWVzdGFtcFByb3ZpZGVyLm5vdygpIH0pOyB9KTtcbn1cbmV4cG9ydHMudGltZXN0YW1wID0gdGltZXN0YW1wO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZXN0YW1wLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy50b0FycmF5ID0gdm9pZCAwO1xudmFyIHJlZHVjZV8xID0gcmVxdWlyZShcIi4vcmVkdWNlXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgYXJyUmVkdWNlciA9IGZ1bmN0aW9uIChhcnIsIHZhbHVlKSB7IHJldHVybiAoYXJyLnB1c2godmFsdWUpLCBhcnIpOyB9O1xuZnVuY3Rpb24gdG9BcnJheSgpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICByZWR1Y2VfMS5yZWR1Y2UoYXJyUmVkdWNlciwgW10pKHNvdXJjZSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH0pO1xufVxuZXhwb3J0cy50b0FycmF5ID0gdG9BcnJheTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvQXJyYXkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLndpbmRvdyA9IHZvaWQgMDtcbnZhciBTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vU3ViamVjdFwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIG5vb3BfMSA9IHJlcXVpcmUoXCIuLi91dGlsL25vb3BcIik7XG5mdW5jdGlvbiB3aW5kb3cod2luZG93Qm91bmRhcmllcykge1xuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciB3aW5kb3dTdWJqZWN0ID0gbmV3IFN1YmplY3RfMS5TdWJqZWN0KCk7XG4gICAgICAgIHN1YnNjcmliZXIubmV4dCh3aW5kb3dTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpKTtcbiAgICAgICAgdmFyIGVycm9ySGFuZGxlciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHdpbmRvd1N1YmplY3QuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgfTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB3aW5kb3dTdWJqZWN0ID09PSBudWxsIHx8IHdpbmRvd1N1YmplY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbmRvd1N1YmplY3QubmV4dCh2YWx1ZSk7IH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmRvd1N1YmplY3QuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSwgZXJyb3JIYW5kbGVyKSk7XG4gICAgICAgIHdpbmRvd0JvdW5kYXJpZXMuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3aW5kb3dTdWJqZWN0LmNvbXBsZXRlKCk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoKHdpbmRvd1N1YmplY3QgPSBuZXcgU3ViamVjdF8xLlN1YmplY3QoKSkpO1xuICAgICAgICB9LCBub29wXzEubm9vcCwgZXJyb3JIYW5kbGVyKSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3aW5kb3dTdWJqZWN0ID09PSBudWxsIHx8IHdpbmRvd1N1YmplY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbmRvd1N1YmplY3QudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHdpbmRvd1N1YmplY3QgPSBudWxsO1xuICAgICAgICB9O1xuICAgIH0pO1xufVxuZXhwb3J0cy53aW5kb3cgPSB3aW5kb3c7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aW5kb3cuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLndpbmRvd0NvdW50ID0gdm9pZCAwO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9TdWJqZWN0XCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG5mdW5jdGlvbiB3aW5kb3dDb3VudCh3aW5kb3dTaXplLCBzdGFydFdpbmRvd0V2ZXJ5KSB7XG4gICAgaWYgKHN0YXJ0V2luZG93RXZlcnkgPT09IHZvaWQgMCkgeyBzdGFydFdpbmRvd0V2ZXJ5ID0gMDsgfVxuICAgIHZhciBzdGFydEV2ZXJ5ID0gc3RhcnRXaW5kb3dFdmVyeSA+IDAgPyBzdGFydFdpbmRvd0V2ZXJ5IDogd2luZG93U2l6ZTtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgd2luZG93cyA9IFtuZXcgU3ViamVjdF8xLlN1YmplY3QoKV07XG4gICAgICAgIHZhciBzdGFydHMgPSBbXTtcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgc3Vic2NyaWJlci5uZXh0KHdpbmRvd3NbMF0uYXNPYnNlcnZhYmxlKCkpO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB3aW5kb3dzXzEgPSBfX3ZhbHVlcyh3aW5kb3dzKSwgd2luZG93c18xXzEgPSB3aW5kb3dzXzEubmV4dCgpOyAhd2luZG93c18xXzEuZG9uZTsgd2luZG93c18xXzEgPSB3aW5kb3dzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3aW5kb3dfMSA9IHdpbmRvd3NfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3dfMS5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvd3NfMV8xICYmICF3aW5kb3dzXzFfMS5kb25lICYmIChfYSA9IHdpbmRvd3NfMS5yZXR1cm4pKSBfYS5jYWxsKHdpbmRvd3NfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjID0gY291bnQgLSB3aW5kb3dTaXplICsgMTtcbiAgICAgICAgICAgIGlmIChjID49IDAgJiYgYyAlIHN0YXJ0RXZlcnkgPT09IDApIHtcbiAgICAgICAgICAgICAgICB3aW5kb3dzLnNoaWZ0KCkuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgrK2NvdW50ICUgc3RhcnRFdmVyeSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciB3aW5kb3dfMiA9IG5ldyBTdWJqZWN0XzEuU3ViamVjdCgpO1xuICAgICAgICAgICAgICAgIHdpbmRvd3MucHVzaCh3aW5kb3dfMik7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHdpbmRvd18yLmFzT2JzZXJ2YWJsZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2hpbGUgKHdpbmRvd3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHdpbmRvd3Muc2hpZnQoKS5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICB3aGlsZSAod2luZG93cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgd2luZG93cy5zaGlmdCgpLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0YXJ0cyA9IG51bGw7XG4gICAgICAgICAgICB3aW5kb3dzID0gbnVsbDtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy53aW5kb3dDb3VudCA9IHdpbmRvd0NvdW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2luZG93Q291bnQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLndpbmRvd1RpbWUgPSB2b2lkIDA7XG52YXIgU3ViamVjdF8xID0gcmVxdWlyZShcIi4uL1N1YmplY3RcIik7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9zY2hlZHVsZXIvYXN5bmNcIik7XG52YXIgU3Vic2NyaXB0aW9uXzEgPSByZXF1aXJlKFwiLi4vU3Vic2NyaXB0aW9uXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG52YXIgT3BlcmF0b3JTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi9PcGVyYXRvclN1YnNjcmliZXJcIik7XG52YXIgYXJyUmVtb3ZlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcnJSZW1vdmVcIik7XG52YXIgYXJnc18xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJnc1wiKTtcbnZhciBleGVjdXRlU2NoZWR1bGVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZVwiKTtcbmZ1bmN0aW9uIHdpbmRvd1RpbWUod2luZG93VGltZVNwYW4pIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHZhciBvdGhlckFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvdGhlckFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBzY2hlZHVsZXIgPSAoX2EgPSBhcmdzXzEucG9wU2NoZWR1bGVyKG90aGVyQXJncykpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGFzeW5jXzEuYXN5bmNTY2hlZHVsZXI7XG4gICAgdmFyIHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWwgPSAoX2IgPSBvdGhlckFyZ3NbMF0pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGw7XG4gICAgdmFyIG1heFdpbmRvd1NpemUgPSBvdGhlckFyZ3NbMV0gfHwgSW5maW5pdHk7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHdpbmRvd1JlY29yZHMgPSBbXTtcbiAgICAgICAgdmFyIHJlc3RhcnRPbkNsb3NlID0gZmFsc2U7XG4gICAgICAgIHZhciBjbG9zZVdpbmRvdyA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgICAgIHZhciB3aW5kb3cgPSByZWNvcmQud2luZG93LCBzdWJzID0gcmVjb3JkLnN1YnM7XG4gICAgICAgICAgICB3aW5kb3cuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHN1YnMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGFyclJlbW92ZV8xLmFyclJlbW92ZSh3aW5kb3dSZWNvcmRzLCByZWNvcmQpO1xuICAgICAgICAgICAgcmVzdGFydE9uQ2xvc2UgJiYgc3RhcnRXaW5kb3coKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHN0YXJ0V2luZG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHdpbmRvd1JlY29yZHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3VicyA9IG5ldyBTdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChzdWJzKTtcbiAgICAgICAgICAgICAgICB2YXIgd2luZG93XzEgPSBuZXcgU3ViamVjdF8xLlN1YmplY3QoKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVjb3JkXzEgPSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdzogd2luZG93XzEsXG4gICAgICAgICAgICAgICAgICAgIHN1YnM6IHN1YnMsXG4gICAgICAgICAgICAgICAgICAgIHNlZW46IDAsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB3aW5kb3dSZWNvcmRzLnB1c2gocmVjb3JkXzEpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh3aW5kb3dfMS5hc09ic2VydmFibGUoKSk7XG4gICAgICAgICAgICAgICAgZXhlY3V0ZVNjaGVkdWxlXzEuZXhlY3V0ZVNjaGVkdWxlKHN1YnMsIHNjaGVkdWxlciwgZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xvc2VXaW5kb3cocmVjb3JkXzEpOyB9LCB3aW5kb3dUaW1lU3Bhbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmICh3aW5kb3dDcmVhdGlvbkludGVydmFsICE9PSBudWxsICYmIHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWwgPj0gMCkge1xuICAgICAgICAgICAgZXhlY3V0ZVNjaGVkdWxlXzEuZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgc3RhcnRXaW5kb3csIHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWwsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdGFydE9uQ2xvc2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHN0YXJ0V2luZG93KCk7XG4gICAgICAgIHZhciBsb29wID0gZnVuY3Rpb24gKGNiKSB7IHJldHVybiB3aW5kb3dSZWNvcmRzLnNsaWNlKCkuZm9yRWFjaChjYik7IH07XG4gICAgICAgIHZhciB0ZXJtaW5hdGUgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIGxvb3AoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdpbmRvdyA9IF9hLndpbmRvdztcbiAgICAgICAgICAgICAgICByZXR1cm4gY2Iod2luZG93KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2Ioc3Vic2NyaWJlcik7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgbG9vcChmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLndpbmRvdy5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBtYXhXaW5kb3dTaXplIDw9ICsrcmVjb3JkLnNlZW4gJiYgY2xvc2VXaW5kb3cocmVjb3JkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiB0ZXJtaW5hdGUoZnVuY3Rpb24gKGNvbnN1bWVyKSB7IHJldHVybiBjb25zdW1lci5jb21wbGV0ZSgpOyB9KTsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gdGVybWluYXRlKGZ1bmN0aW9uIChjb25zdW1lcikgeyByZXR1cm4gY29uc3VtZXIuZXJyb3IoZXJyKTsgfSk7IH0pKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmRvd1JlY29yZHMgPSBudWxsO1xuICAgICAgICB9O1xuICAgIH0pO1xufVxuZXhwb3J0cy53aW5kb3dUaW1lID0gd2luZG93VGltZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdpbmRvd1RpbWUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLndpbmRvd1RvZ2dsZSA9IHZvaWQgMDtcbnZhciBTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vU3ViamVjdFwiKTtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuLi9TdWJzY3JpcHRpb25cIik7XG52YXIgbGlmdF8xID0gcmVxdWlyZShcIi4uL3V0aWwvbGlmdFwiKTtcbnZhciBpbm5lckZyb21fMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZhYmxlL2lubmVyRnJvbVwiKTtcbnZhciBPcGVyYXRvclN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuL09wZXJhdG9yU3Vic2NyaWJlclwiKTtcbnZhciBub29wXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9ub29wXCIpO1xudmFyIGFyclJlbW92ZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvYXJyUmVtb3ZlXCIpO1xuZnVuY3Rpb24gd2luZG93VG9nZ2xlKG9wZW5pbmdzLCBjbG9zaW5nU2VsZWN0b3IpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgd2luZG93cyA9IFtdO1xuICAgICAgICB2YXIgaGFuZGxlRXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICB3aGlsZSAoMCA8IHdpbmRvd3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgd2luZG93cy5zaGlmdCgpLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgIH07XG4gICAgICAgIGlubmVyRnJvbV8xLmlubmVyRnJvbShvcGVuaW5ncykuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAob3BlblZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgd2luZG93ID0gbmV3IFN1YmplY3RfMS5TdWJqZWN0KCk7XG4gICAgICAgICAgICB3aW5kb3dzLnB1c2god2luZG93KTtcbiAgICAgICAgICAgIHZhciBjbG9zaW5nU3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgdmFyIGNsb3NlV2luZG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGFyclJlbW92ZV8xLmFyclJlbW92ZSh3aW5kb3dzLCB3aW5kb3cpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIGNsb3NpbmdTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgY2xvc2luZ05vdGlmaWVyO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjbG9zaW5nTm90aWZpZXIgPSBpbm5lckZyb21fMS5pbm5lckZyb20oY2xvc2luZ1NlbGVjdG9yKG9wZW5WYWx1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHdpbmRvdy5hc09ic2VydmFibGUoKSk7XG4gICAgICAgICAgICBjbG9zaW5nU3Vic2NyaXB0aW9uLmFkZChjbG9zaW5nTm90aWZpZXIuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBjbG9zZVdpbmRvdywgbm9vcF8xLm5vb3AsIGhhbmRsZUVycm9yKSkpO1xuICAgICAgICB9LCBub29wXzEubm9vcCkpO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKE9wZXJhdG9yU3Vic2NyaWJlcl8xLmNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICAgICAgdmFyIHdpbmRvd3NDb3B5ID0gd2luZG93cy5zbGljZSgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB3aW5kb3dzQ29weV8xID0gX192YWx1ZXMod2luZG93c0NvcHkpLCB3aW5kb3dzQ29weV8xXzEgPSB3aW5kb3dzQ29weV8xLm5leHQoKTsgIXdpbmRvd3NDb3B5XzFfMS5kb25lOyB3aW5kb3dzQ29weV8xXzEgPSB3aW5kb3dzQ29weV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgd2luZG93XzEgPSB3aW5kb3dzQ29weV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd18xLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93c0NvcHlfMV8xICYmICF3aW5kb3dzQ29weV8xXzEuZG9uZSAmJiAoX2EgPSB3aW5kb3dzQ29weV8xLnJldHVybikpIF9hLmNhbGwod2luZG93c0NvcHlfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2hpbGUgKDAgPCB3aW5kb3dzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHdpbmRvd3Muc2hpZnQoKS5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LCBoYW5kbGVFcnJvciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2hpbGUgKDAgPCB3aW5kb3dzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHdpbmRvd3Muc2hpZnQoKS51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5leHBvcnRzLndpbmRvd1RvZ2dsZSA9IHdpbmRvd1RvZ2dsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdpbmRvd1RvZ2dsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMud2luZG93V2hlbiA9IHZvaWQgMDtcbnZhciBTdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vU3ViamVjdFwiKTtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xuZnVuY3Rpb24gd2luZG93V2hlbihjbG9zaW5nU2VsZWN0b3IpIHtcbiAgICByZXR1cm4gbGlmdF8xLm9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgd2luZG93O1xuICAgICAgICB2YXIgY2xvc2luZ1N1YnNjcmliZXI7XG4gICAgICAgIHZhciBoYW5kbGVFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5lcnJvcihlcnIpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgb3BlbldpbmRvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsb3NpbmdTdWJzY3JpYmVyID09PSBudWxsIHx8IGNsb3NpbmdTdWJzY3JpYmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjbG9zaW5nU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgd2luZG93ID09PSBudWxsIHx8IHdpbmRvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93LmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB3aW5kb3cgPSBuZXcgU3ViamVjdF8xLlN1YmplY3QoKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh3aW5kb3cuYXNPYnNlcnZhYmxlKCkpO1xuICAgICAgICAgICAgdmFyIGNsb3NpbmdOb3RpZmllcjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY2xvc2luZ05vdGlmaWVyID0gaW5uZXJGcm9tXzEuaW5uZXJGcm9tKGNsb3NpbmdTZWxlY3RvcigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsb3NpbmdOb3RpZmllci5zdWJzY3JpYmUoKGNsb3NpbmdTdWJzY3JpYmVyID0gT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIG9wZW5XaW5kb3csIG9wZW5XaW5kb3csIGhhbmRsZUVycm9yKSkpO1xuICAgICAgICB9O1xuICAgICAgICBvcGVuV2luZG93KCk7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gd2luZG93Lm5leHQodmFsdWUpOyB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3aW5kb3cuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSwgaGFuZGxlRXJyb3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsb3NpbmdTdWJzY3JpYmVyID09PSBudWxsIHx8IGNsb3NpbmdTdWJzY3JpYmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjbG9zaW5nU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgd2luZG93ID0gbnVsbDtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy53aW5kb3dXaGVuID0gd2luZG93V2hlbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdpbmRvd1doZW4uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy53aXRoTGF0ZXN0RnJvbSA9IHZvaWQgMDtcbnZhciBsaWZ0XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9saWZ0XCIpO1xudmFyIE9wZXJhdG9yU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4vT3BlcmF0b3JTdWJzY3JpYmVyXCIpO1xudmFyIGlubmVyRnJvbV8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvaW5uZXJGcm9tXCIpO1xudmFyIGlkZW50aXR5XzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pZGVudGl0eVwiKTtcbnZhciBub29wXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9ub29wXCIpO1xudmFyIGFyZ3NfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2FyZ3NcIik7XG5mdW5jdGlvbiB3aXRoTGF0ZXN0RnJvbSgpIHtcbiAgICB2YXIgaW5wdXRzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgaW5wdXRzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBwcm9qZWN0ID0gYXJnc18xLnBvcFJlc3VsdFNlbGVjdG9yKGlucHV0cyk7XG4gICAgcmV0dXJuIGxpZnRfMS5vcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGxlbiA9IGlucHV0cy5sZW5ndGg7XG4gICAgICAgIHZhciBvdGhlclZhbHVlcyA9IG5ldyBBcnJheShsZW4pO1xuICAgICAgICB2YXIgaGFzVmFsdWUgPSBpbnB1dHMubWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9KTtcbiAgICAgICAgdmFyIHJlYWR5ID0gZmFsc2U7XG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIGlubmVyRnJvbV8xLmlubmVyRnJvbShpbnB1dHNbaV0pLnN1YnNjcmliZShPcGVyYXRvclN1YnNjcmliZXJfMS5jcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgb3RoZXJWYWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlYWR5ICYmICFoYXNWYWx1ZVtpXSkge1xuICAgICAgICAgICAgICAgICAgICBoYXNWYWx1ZVtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIChyZWFkeSA9IGhhc1ZhbHVlLmV2ZXJ5KGlkZW50aXR5XzEuaWRlbnRpdHkpKSAmJiAoaGFzVmFsdWUgPSBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBub29wXzEubm9vcCkpO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBfbG9vcF8xKGkpO1xuICAgICAgICB9XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoT3BlcmF0b3JTdWJzY3JpYmVyXzEuY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHJlYWR5KSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IF9fc3ByZWFkQXJyYXkoW3ZhbHVlXSwgX19yZWFkKG90aGVyVmFsdWVzKSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHByb2plY3QgPyBwcm9qZWN0LmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKHZhbHVlcykpKSA6IHZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMud2l0aExhdGVzdEZyb20gPSB3aXRoTGF0ZXN0RnJvbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdpdGhMYXRlc3RGcm9tLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxuICAgICAgICB0b1tqXSA9IGZyb21baV07XG4gICAgcmV0dXJuIHRvO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuemlwID0gdm9pZCAwO1xudmFyIHppcF8xID0gcmVxdWlyZShcIi4uL29ic2VydmFibGUvemlwXCIpO1xudmFyIGxpZnRfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2xpZnRcIik7XG5mdW5jdGlvbiB6aXAoKSB7XG4gICAgdmFyIHNvdXJjZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBzb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBsaWZ0XzEub3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHppcF8xLnppcC5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW3NvdXJjZV0sIF9fcmVhZChzb3VyY2VzKSkpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuemlwID0gemlwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9emlwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy56aXBBbGwgPSB2b2lkIDA7XG52YXIgemlwXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS96aXBcIik7XG52YXIgam9pbkFsbEludGVybmFsc18xID0gcmVxdWlyZShcIi4vam9pbkFsbEludGVybmFsc1wiKTtcbmZ1bmN0aW9uIHppcEFsbChwcm9qZWN0KSB7XG4gICAgcmV0dXJuIGpvaW5BbGxJbnRlcm5hbHNfMS5qb2luQWxsSW50ZXJuYWxzKHppcF8xLnppcCwgcHJvamVjdCk7XG59XG5leHBvcnRzLnppcEFsbCA9IHppcEFsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXppcEFsbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnppcFdpdGggPSB2b2lkIDA7XG52YXIgemlwXzEgPSByZXF1aXJlKFwiLi96aXBcIik7XG5mdW5jdGlvbiB6aXBXaXRoKCkge1xuICAgIHZhciBvdGhlcklucHV0cyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG90aGVySW5wdXRzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiB6aXBfMS56aXAuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQob3RoZXJJbnB1dHMpKSk7XG59XG5leHBvcnRzLnppcFdpdGggPSB6aXBXaXRoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9emlwV2l0aC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2NoZWR1bGVBcnJheSA9IHZvaWQgMDtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vT2JzZXJ2YWJsZVwiKTtcbmZ1bmN0aW9uIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpID09PSBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoaW5wdXRbaSsrXSk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuc2NoZWR1bGVBcnJheSA9IHNjaGVkdWxlQXJyYXk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUFycmF5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zY2hlZHVsZUFzeW5jSXRlcmFibGUgPSB2b2lkIDA7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL09ic2VydmFibGVcIik7XG52YXIgZXhlY3V0ZVNjaGVkdWxlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9leGVjdXRlU2NoZWR1bGVcIik7XG5mdW5jdGlvbiBzY2hlZHVsZUFzeW5jSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdGVyYWJsZSBjYW5ub3QgYmUgbnVsbCcpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGV4ZWN1dGVTY2hlZHVsZV8xLmV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IGlucHV0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgZXhlY3V0ZVNjaGVkdWxlXzEuZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yLm5leHQoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgMCwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0cy5zY2hlZHVsZUFzeW5jSXRlcmFibGUgPSBzY2hlZHVsZUFzeW5jSXRlcmFibGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUFzeW5jSXRlcmFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNjaGVkdWxlSXRlcmFibGUgPSB2b2lkIDA7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL09ic2VydmFibGVcIik7XG52YXIgaXRlcmF0b3JfMSA9IHJlcXVpcmUoXCIuLi9zeW1ib2wvaXRlcmF0b3JcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNGdW5jdGlvblwiKTtcbnZhciBleGVjdXRlU2NoZWR1bGVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZVwiKTtcbmZ1bmN0aW9uIHNjaGVkdWxlSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yO1xuICAgICAgICBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpdGVyYXRvciA9IGlucHV0W2l0ZXJhdG9yXzEuaXRlcmF0b3JdKCk7XG4gICAgICAgICAgICBleGVjdXRlU2NoZWR1bGVfMS5leGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgZG9uZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBpdGVyYXRvci5uZXh0KCksIHZhbHVlID0gX2EudmFsdWUsIGRvbmUgPSBfYS5kb25lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAwLCB0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihpdGVyYXRvciA9PT0gbnVsbCB8fCBpdGVyYXRvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlcmF0b3IucmV0dXJuKSAmJiBpdGVyYXRvci5yZXR1cm4oKTsgfTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuc2NoZWR1bGVJdGVyYWJsZSA9IHNjaGVkdWxlSXRlcmFibGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUl0ZXJhYmxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zY2hlZHVsZU9ic2VydmFibGUgPSB2b2lkIDA7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG52YXIgb2JzZXJ2ZU9uXzEgPSByZXF1aXJlKFwiLi4vb3BlcmF0b3JzL29ic2VydmVPblwiKTtcbnZhciBzdWJzY3JpYmVPbl8xID0gcmVxdWlyZShcIi4uL29wZXJhdG9ycy9zdWJzY3JpYmVPblwiKTtcbmZ1bmN0aW9uIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIGlubmVyRnJvbV8xLmlubmVyRnJvbShpbnB1dCkucGlwZShzdWJzY3JpYmVPbl8xLnN1YnNjcmliZU9uKHNjaGVkdWxlciksIG9ic2VydmVPbl8xLm9ic2VydmVPbihzY2hlZHVsZXIpKTtcbn1cbmV4cG9ydHMuc2NoZWR1bGVPYnNlcnZhYmxlID0gc2NoZWR1bGVPYnNlcnZhYmxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVPYnNlcnZhYmxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zY2hlZHVsZVByb21pc2UgPSB2b2lkIDA7XG52YXIgaW5uZXJGcm9tXzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2YWJsZS9pbm5lckZyb21cIik7XG52YXIgb2JzZXJ2ZU9uXzEgPSByZXF1aXJlKFwiLi4vb3BlcmF0b3JzL29ic2VydmVPblwiKTtcbnZhciBzdWJzY3JpYmVPbl8xID0gcmVxdWlyZShcIi4uL29wZXJhdG9ycy9zdWJzY3JpYmVPblwiKTtcbmZ1bmN0aW9uIHNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIGlubmVyRnJvbV8xLmlubmVyRnJvbShpbnB1dCkucGlwZShzdWJzY3JpYmVPbl8xLnN1YnNjcmliZU9uKHNjaGVkdWxlciksIG9ic2VydmVPbl8xLm9ic2VydmVPbihzY2hlZHVsZXIpKTtcbn1cbmV4cG9ydHMuc2NoZWR1bGVQcm9taXNlID0gc2NoZWR1bGVQcm9taXNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVQcm9taXNlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSA9IHZvaWQgMDtcbnZhciBzY2hlZHVsZUFzeW5jSXRlcmFibGVfMSA9IHJlcXVpcmUoXCIuL3NjaGVkdWxlQXN5bmNJdGVyYWJsZVwiKTtcbnZhciBpc1JlYWRhYmxlU3RyZWFtTGlrZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2VcIik7XG5mdW5jdGlvbiBzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlQXN5bmNJdGVyYWJsZV8xLnNjaGVkdWxlQXN5bmNJdGVyYWJsZShpc1JlYWRhYmxlU3RyZWFtTGlrZV8xLnJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IoaW5wdXQpLCBzY2hlZHVsZXIpO1xufVxuZXhwb3J0cy5zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSA9IHNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNjaGVkdWxlZCA9IHZvaWQgMDtcbnZhciBzY2hlZHVsZU9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuL3NjaGVkdWxlT2JzZXJ2YWJsZVwiKTtcbnZhciBzY2hlZHVsZVByb21pc2VfMSA9IHJlcXVpcmUoXCIuL3NjaGVkdWxlUHJvbWlzZVwiKTtcbnZhciBzY2hlZHVsZUFycmF5XzEgPSByZXF1aXJlKFwiLi9zY2hlZHVsZUFycmF5XCIpO1xudmFyIHNjaGVkdWxlSXRlcmFibGVfMSA9IHJlcXVpcmUoXCIuL3NjaGVkdWxlSXRlcmFibGVcIik7XG52YXIgc2NoZWR1bGVBc3luY0l0ZXJhYmxlXzEgPSByZXF1aXJlKFwiLi9zY2hlZHVsZUFzeW5jSXRlcmFibGVcIik7XG52YXIgaXNJbnRlcm9wT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZVwiKTtcbnZhciBpc1Byb21pc2VfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzUHJvbWlzZVwiKTtcbnZhciBpc0FycmF5TGlrZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNBcnJheUxpa2VcIik7XG52YXIgaXNJdGVyYWJsZV8xID0gcmVxdWlyZShcIi4uL3V0aWwvaXNJdGVyYWJsZVwiKTtcbnZhciBpc0FzeW5jSXRlcmFibGVfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzQXN5bmNJdGVyYWJsZVwiKTtcbnZhciB0aHJvd1Vub2JzZXJ2YWJsZUVycm9yXzEgPSByZXF1aXJlKFwiLi4vdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yXCIpO1xudmFyIGlzUmVhZGFibGVTdHJlYW1MaWtlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZVwiKTtcbnZhciBzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZV8xID0gcmVxdWlyZShcIi4vc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2VcIik7XG5mdW5jdGlvbiBzY2hlZHVsZWQoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpc0ludGVyb3BPYnNlcnZhYmxlXzEuaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZU9ic2VydmFibGVfMS5zY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlXzEuaXNBcnJheUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVBcnJheV8xLnNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJvbWlzZV8xLmlzUHJvbWlzZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZVByb21pc2VfMS5zY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXN5bmNJdGVyYWJsZV8xLmlzQXN5bmNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFzeW5jSXRlcmFibGVfMS5zY2hlZHVsZUFzeW5jSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSXRlcmFibGVfMS5pc0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlSXRlcmFibGVfMS5zY2hlZHVsZUl0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JlYWRhYmxlU3RyZWFtTGlrZV8xLmlzUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlXzEuc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgdGhyb3dVbm9ic2VydmFibGVFcnJvcl8xLmNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yKGlucHV0KTtcbn1cbmV4cG9ydHMuc2NoZWR1bGVkID0gc2NoZWR1bGVkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVkLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQWN0aW9uID0gdm9pZCAwO1xudmFyIFN1YnNjcmlwdGlvbl8xID0gcmVxdWlyZShcIi4uL1N1YnNjcmlwdGlvblwiKTtcbnZhciBBY3Rpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICB9XG4gICAgQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIEFjdGlvbjtcbn0oU3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uKSk7XG5leHBvcnRzLkFjdGlvbiA9IEFjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFzeW5jQWN0aW9uID0gdm9pZCAwO1xudmFyIEFjdGlvbl8xID0gcmVxdWlyZShcIi4vQWN0aW9uXCIpO1xudmFyIGludGVydmFsUHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuL2ludGVydmFsUHJvdmlkZXJcIik7XG52YXIgYXJyUmVtb3ZlXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9hcnJSZW1vdmVcIik7XG52YXIgQXN5bmNBY3Rpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBc3luY0FjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY0FjdGlvbihzY2hlZHVsZXIsIHdvcmspIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2NoZWR1bGVyLCB3b3JrKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLndvcmsgPSB3b3JrO1xuICAgICAgICBfdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLmlkIHx8IHRoaXMucmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyLCB0aGlzLmlkLCBkZWxheSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgX2lkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgcmV0dXJuIGludGVydmFsUHJvdmlkZXJfMS5pbnRlcnZhbFByb3ZpZGVyLnNldEludGVydmFsKHNjaGVkdWxlci5mbHVzaC5iaW5kKHNjaGVkdWxlciwgdGhpcyksIGRlbGF5KTtcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZCA9IGZ1bmN0aW9uIChfc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIGlmIChkZWxheSAhPSBudWxsICYmIHRoaXMuZGVsYXkgPT09IGRlbGF5ICYmIHRoaXMucGVuZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgfVxuICAgICAgICBpbnRlcnZhbFByb3ZpZGVyXzEuaW50ZXJ2YWxQcm92aWRlci5jbGVhckludGVydmFsKGlkKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ2V4ZWN1dGluZyBhIGNhbmNlbGxlZCBhY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9yID0gdGhpcy5fZXhlY3V0ZShzdGF0ZSwgZGVsYXkpO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnBlbmRpbmcgPT09IGZhbHNlICYmIHRoaXMuaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQodGhpcy5zY2hlZHVsZXIsIHRoaXMuaWQsIG51bGwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuX2V4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIF9kZWxheSkge1xuICAgICAgICB2YXIgZXJyb3JlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3JWYWx1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMud29yayhzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGVycm9yZWQgPSB0cnVlO1xuICAgICAgICAgICAgZXJyb3JWYWx1ZSA9IGUgPyBlIDogbmV3IEVycm9yKCdTY2hlZHVsZWQgYWN0aW9uIHRocmV3IGZhbHN5IGVycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yZWQpIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHJldHVybiBlcnJvclZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMsIGlkID0gX2EuaWQsIHNjaGVkdWxlciA9IF9hLnNjaGVkdWxlcjtcbiAgICAgICAgICAgIHZhciBhY3Rpb25zID0gc2NoZWR1bGVyLmFjdGlvbnM7XG4gICAgICAgICAgICB0aGlzLndvcmsgPSB0aGlzLnN0YXRlID0gdGhpcy5zY2hlZHVsZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBhcnJSZW1vdmVfMS5hcnJSZW1vdmUoYWN0aW9ucywgdGhpcyk7XG4gICAgICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kZWxheSA9IG51bGw7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBc3luY0FjdGlvbjtcbn0oQWN0aW9uXzEuQWN0aW9uKSk7XG5leHBvcnRzLkFzeW5jQWN0aW9uID0gQXN5bmNBY3Rpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY0FjdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFzeW5jU2NoZWR1bGVyID0gdm9pZCAwO1xudmFyIFNjaGVkdWxlcl8xID0gcmVxdWlyZShcIi4uL1NjaGVkdWxlclwiKTtcbnZhciBBc3luY1NjaGVkdWxlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFzeW5jU2NoZWR1bGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jU2NoZWR1bGVyKFNjaGVkdWxlckFjdGlvbiwgbm93KSB7XG4gICAgICAgIGlmIChub3cgPT09IHZvaWQgMCkgeyBub3cgPSBTY2hlZHVsZXJfMS5TY2hlZHVsZXIubm93OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFNjaGVkdWxlckFjdGlvbiwgbm93KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hY3Rpb25zID0gW107XG4gICAgICAgIF90aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX3NjaGVkdWxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY1NjaGVkdWxlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHZhciBhY3Rpb25zID0gdGhpcy5hY3Rpb25zO1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goYWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmICgoZXJyb3IgPSBhY3Rpb24uZXhlY3V0ZShhY3Rpb24uc3RhdGUsIGFjdGlvbi5kZWxheSkpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgd2hpbGUgKChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jU2NoZWR1bGVyO1xufShTY2hlZHVsZXJfMS5TY2hlZHVsZXIpKTtcbmV4cG9ydHMuQXN5bmNTY2hlZHVsZXIgPSBBc3luY1NjaGVkdWxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzeW5jU2NoZWR1bGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5hc3luYyA9IGV4cG9ydHMuYXN5bmNTY2hlZHVsZXIgPSB2b2lkIDA7XG52YXIgQXN5bmNBY3Rpb25fMSA9IHJlcXVpcmUoXCIuL0FzeW5jQWN0aW9uXCIpO1xudmFyIEFzeW5jU2NoZWR1bGVyXzEgPSByZXF1aXJlKFwiLi9Bc3luY1NjaGVkdWxlclwiKTtcbmV4cG9ydHMuYXN5bmNTY2hlZHVsZXIgPSBuZXcgQXN5bmNTY2hlZHVsZXJfMS5Bc3luY1NjaGVkdWxlcihBc3luY0FjdGlvbl8xLkFzeW5jQWN0aW9uKTtcbmV4cG9ydHMuYXN5bmMgPSBleHBvcnRzLmFzeW5jU2NoZWR1bGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRhdGVUaW1lc3RhbXBQcm92aWRlciA9IHZvaWQgMDtcbmV4cG9ydHMuZGF0ZVRpbWVzdGFtcFByb3ZpZGVyID0ge1xuICAgIG5vdzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKGV4cG9ydHMuZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLmRlbGVnYXRlIHx8IERhdGUpLm5vdygpO1xuICAgIH0sXG4gICAgZGVsZWdhdGU6IHVuZGVmaW5lZCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRlVGltZXN0YW1wUHJvdmlkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pbnRlcnZhbFByb3ZpZGVyID0gdm9pZCAwO1xuZXhwb3J0cy5pbnRlcnZhbFByb3ZpZGVyID0ge1xuICAgIHNldEludGVydmFsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGVnYXRlID0gZXhwb3J0cy5pbnRlcnZhbFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gKChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuc2V0SW50ZXJ2YWwpIHx8IHNldEludGVydmFsKS5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpO1xuICAgIH0sXG4gICAgY2xlYXJJbnRlcnZhbDogZnVuY3Rpb24gKGhhbmRsZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBleHBvcnRzLmludGVydmFsUHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5jbGVhckludGVydmFsKSB8fCBjbGVhckludGVydmFsKShoYW5kbGUpO1xuICAgIH0sXG4gICAgZGVsZWdhdGU6IHVuZGVmaW5lZCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnZhbFByb3ZpZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxuICAgICAgICB0b1tqXSA9IGZyb21baV07XG4gICAgcmV0dXJuIHRvO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudGltZW91dFByb3ZpZGVyID0gdm9pZCAwO1xuZXhwb3J0cy50aW1lb3V0UHJvdmlkZXIgPSB7XG4gICAgc2V0VGltZW91dDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGV4cG9ydHMudGltZW91dFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gKChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuc2V0VGltZW91dCkgfHwgc2V0VGltZW91dCkuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJncykpKTtcbiAgICB9LFxuICAgIGNsZWFyVGltZW91dDogZnVuY3Rpb24gKGhhbmRsZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBleHBvcnRzLnRpbWVvdXRQcm92aWRlci5kZWxlZ2F0ZTtcbiAgICAgICAgcmV0dXJuICgoZGVsZWdhdGUgPT09IG51bGwgfHwgZGVsZWdhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlbGVnYXRlLmNsZWFyVGltZW91dCkgfHwgY2xlYXJUaW1lb3V0KShoYW5kbGUpO1xuICAgIH0sXG4gICAgZGVsZWdhdGU6IHVuZGVmaW5lZCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lb3V0UHJvdmlkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLml0ZXJhdG9yID0gZXhwb3J0cy5nZXRTeW1ib2xJdGVyYXRvciA9IHZvaWQgMDtcbmZ1bmN0aW9uIGdldFN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nIHx8ICFTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuICdAQGl0ZXJhdG9yJztcbiAgICB9XG4gICAgcmV0dXJuIFN5bWJvbC5pdGVyYXRvcjtcbn1cbmV4cG9ydHMuZ2V0U3ltYm9sSXRlcmF0b3IgPSBnZXRTeW1ib2xJdGVyYXRvcjtcbmV4cG9ydHMuaXRlcmF0b3IgPSBnZXRTeW1ib2xJdGVyYXRvcigpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXRlcmF0b3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm9ic2VydmFibGUgPSB2b2lkIDA7XG5leHBvcnRzLm9ic2VydmFibGUgPSAoZnVuY3Rpb24gKCkgeyByZXR1cm4gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLm9ic2VydmFibGUpIHx8ICdAQG9ic2VydmFibGUnOyB9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2YWJsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IgPSB2b2lkIDA7XG52YXIgY3JlYXRlRXJyb3JDbGFzc18xID0gcmVxdWlyZShcIi4vY3JlYXRlRXJyb3JDbGFzc1wiKTtcbmV4cG9ydHMuQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IgPSBjcmVhdGVFcnJvckNsYXNzXzEuY3JlYXRlRXJyb3JDbGFzcyhmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbCgpIHtcbiAgICAgICAgX3N1cGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQXJndW1lbnRPdXRPZlJhbmdlRXJyb3InO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnYXJndW1lbnQgb3V0IG9mIHJhbmdlJztcbiAgICB9O1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bcmd1bWVudE91dE9mUmFuZ2VFcnJvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRW1wdHlFcnJvciA9IHZvaWQgMDtcbnZhciBjcmVhdGVFcnJvckNsYXNzXzEgPSByZXF1aXJlKFwiLi9jcmVhdGVFcnJvckNsYXNzXCIpO1xuZXhwb3J0cy5FbXB0eUVycm9yID0gY3JlYXRlRXJyb3JDbGFzc18xLmNyZWF0ZUVycm9yQ2xhc3MoZnVuY3Rpb24gKF9zdXBlcikgeyByZXR1cm4gZnVuY3Rpb24gRW1wdHlFcnJvckltcGwoKSB7XG4gICAgX3N1cGVyKHRoaXMpO1xuICAgIHRoaXMubmFtZSA9ICdFbXB0eUVycm9yJztcbiAgICB0aGlzLm1lc3NhZ2UgPSAnbm8gZWxlbWVudHMgaW4gc2VxdWVuY2UnO1xufTsgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FbXB0eUVycm9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Ob3RGb3VuZEVycm9yID0gdm9pZCAwO1xudmFyIGNyZWF0ZUVycm9yQ2xhc3NfMSA9IHJlcXVpcmUoXCIuL2NyZWF0ZUVycm9yQ2xhc3NcIik7XG5leHBvcnRzLk5vdEZvdW5kRXJyb3IgPSBjcmVhdGVFcnJvckNsYXNzXzEuY3JlYXRlRXJyb3JDbGFzcyhmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIE5vdEZvdW5kRXJyb3JJbXBsKG1lc3NhZ2UpIHtcbiAgICAgICAgX3N1cGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnTm90Rm91bmRFcnJvcic7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90Rm91bmRFcnJvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgPSB2b2lkIDA7XG52YXIgY3JlYXRlRXJyb3JDbGFzc18xID0gcmVxdWlyZShcIi4vY3JlYXRlRXJyb3JDbGFzc1wiKTtcbmV4cG9ydHMuT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgPSBjcmVhdGVFcnJvckNsYXNzXzEuY3JlYXRlRXJyb3JDbGFzcyhmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbCgpIHtcbiAgICAgICAgX3N1cGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnb2JqZWN0IHVuc3Vic2NyaWJlZCc7XG4gICAgfTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNlcXVlbmNlRXJyb3IgPSB2b2lkIDA7XG52YXIgY3JlYXRlRXJyb3JDbGFzc18xID0gcmVxdWlyZShcIi4vY3JlYXRlRXJyb3JDbGFzc1wiKTtcbmV4cG9ydHMuU2VxdWVuY2VFcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3NfMS5jcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gU2VxdWVuY2VFcnJvckltcGwobWVzc2FnZSkge1xuICAgICAgICBfc3VwZXIodGhpcyk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdTZXF1ZW5jZUVycm9yJztcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9O1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TZXF1ZW5jZUVycm9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5VbnN1YnNjcmlwdGlvbkVycm9yID0gdm9pZCAwO1xudmFyIGNyZWF0ZUVycm9yQ2xhc3NfMSA9IHJlcXVpcmUoXCIuL2NyZWF0ZUVycm9yQ2xhc3NcIik7XG5leHBvcnRzLlVuc3Vic2NyaXB0aW9uRXJyb3IgPSBjcmVhdGVFcnJvckNsYXNzXzEuY3JlYXRlRXJyb3JDbGFzcyhmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsKGVycm9ycykge1xuICAgICAgICBfc3VwZXIodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGVycm9yc1xuICAgICAgICAgICAgPyBlcnJvcnMubGVuZ3RoICsgXCIgZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcXG5cIiArIGVycm9ycy5tYXAoZnVuY3Rpb24gKGVyciwgaSkgeyByZXR1cm4gaSArIDEgKyBcIikgXCIgKyBlcnIudG9TdHJpbmcoKTsgfSkuam9pbignXFxuICAnKVxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgdGhpcy5uYW1lID0gJ1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xuICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcbiAgICB9O1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VbnN1YnNjcmlwdGlvbkVycm9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wb3BOdW1iZXIgPSBleHBvcnRzLnBvcFNjaGVkdWxlciA9IGV4cG9ydHMucG9wUmVzdWx0U2VsZWN0b3IgPSB2b2lkIDA7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4vaXNGdW5jdGlvblwiKTtcbnZhciBpc1NjaGVkdWxlcl8xID0gcmVxdWlyZShcIi4vaXNTY2hlZHVsZXJcIik7XG5mdW5jdGlvbiBsYXN0KGFycikge1xuICAgIHJldHVybiBhcnJbYXJyLmxlbmd0aCAtIDFdO1xufVxuZnVuY3Rpb24gcG9wUmVzdWx0U2VsZWN0b3IoYXJncykge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihsYXN0KGFyZ3MpKSA/IGFyZ3MucG9wKCkgOiB1bmRlZmluZWQ7XG59XG5leHBvcnRzLnBvcFJlc3VsdFNlbGVjdG9yID0gcG9wUmVzdWx0U2VsZWN0b3I7XG5mdW5jdGlvbiBwb3BTY2hlZHVsZXIoYXJncykge1xuICAgIHJldHVybiBpc1NjaGVkdWxlcl8xLmlzU2NoZWR1bGVyKGxhc3QoYXJncykpID8gYXJncy5wb3AoKSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydHMucG9wU2NoZWR1bGVyID0gcG9wU2NoZWR1bGVyO1xuZnVuY3Rpb24gcG9wTnVtYmVyKGFyZ3MsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgbGFzdChhcmdzKSA9PT0gJ251bWJlcicgPyBhcmdzLnBvcCgpIDogZGVmYXVsdFZhbHVlO1xufVxuZXhwb3J0cy5wb3BOdW1iZXIgPSBwb3BOdW1iZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcmdzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5hcmdzQXJnQXJyYXlPck9iamVjdCA9IHZvaWQgMDtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiwgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlLCBnZXRLZXlzID0gT2JqZWN0LmtleXM7XG5mdW5jdGlvbiBhcmdzQXJnQXJyYXlPck9iamVjdChhcmdzKSB7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHZhciBmaXJzdF8xID0gYXJnc1swXTtcbiAgICAgICAgaWYgKGlzQXJyYXkoZmlyc3RfMSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGFyZ3M6IGZpcnN0XzEsIGtleXM6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQT0pPKGZpcnN0XzEpKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IGdldEtleXMoZmlyc3RfMSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFyZ3M6IGtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGZpcnN0XzFba2V5XTsgfSksXG4gICAgICAgICAgICAgICAga2V5czoga2V5cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgYXJnczogYXJncywga2V5czogbnVsbCB9O1xufVxuZXhwb3J0cy5hcmdzQXJnQXJyYXlPck9iamVjdCA9IGFyZ3NBcmdBcnJheU9yT2JqZWN0O1xuZnVuY3Rpb24gaXNQT0pPKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gb2JqZWN0UHJvdG87XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcmdzQXJnQXJyYXlPck9iamVjdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYXJnc09yQXJnQXJyYXkgPSB2b2lkIDA7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5mdW5jdGlvbiBhcmdzT3JBcmdBcnJheShhcmdzKSB7XG4gICAgcmV0dXJuIGFyZ3MubGVuZ3RoID09PSAxICYmIGlzQXJyYXkoYXJnc1swXSkgPyBhcmdzWzBdIDogYXJncztcbn1cbmV4cG9ydHMuYXJnc09yQXJnQXJyYXkgPSBhcmdzT3JBcmdBcnJheTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyZ3NPckFyZ0FycmF5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5hcnJSZW1vdmUgPSB2b2lkIDA7XG5mdW5jdGlvbiBhcnJSZW1vdmUoYXJyLCBpdGVtKSB7XG4gICAgaWYgKGFycikge1xuICAgICAgICB2YXIgaW5kZXggPSBhcnIuaW5kZXhPZihpdGVtKTtcbiAgICAgICAgMCA8PSBpbmRleCAmJiBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG59XG5leHBvcnRzLmFyclJlbW92ZSA9IGFyclJlbW92ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyclJlbW92ZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlRXJyb3JDbGFzcyA9IHZvaWQgMDtcbmZ1bmN0aW9uIGNyZWF0ZUVycm9yQ2xhc3MoY3JlYXRlSW1wbCkge1xuICAgIHZhciBfc3VwZXIgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgRXJyb3IuY2FsbChpbnN0YW5jZSk7XG4gICAgICAgIGluc3RhbmNlLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgfTtcbiAgICB2YXIgY3RvckZ1bmMgPSBjcmVhdGVJbXBsKF9zdXBlcik7XG4gICAgY3RvckZ1bmMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIGN0b3JGdW5jLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JGdW5jO1xuICAgIHJldHVybiBjdG9yRnVuYztcbn1cbmV4cG9ydHMuY3JlYXRlRXJyb3JDbGFzcyA9IGNyZWF0ZUVycm9yQ2xhc3M7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGVFcnJvckNsYXNzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jcmVhdGVPYmplY3QgPSB2b2lkIDA7XG5mdW5jdGlvbiBjcmVhdGVPYmplY3Qoa2V5cywgdmFsdWVzKSB7XG4gICAgcmV0dXJuIGtleXMucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSwgaSkgeyByZXR1cm4gKChyZXN1bHRba2V5XSA9IHZhbHVlc1tpXSksIHJlc3VsdCk7IH0sIHt9KTtcbn1cbmV4cG9ydHMuY3JlYXRlT2JqZWN0ID0gY3JlYXRlT2JqZWN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlT2JqZWN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jYXB0dXJlRXJyb3IgPSBleHBvcnRzLmVycm9yQ29udGV4dCA9IHZvaWQgMDtcbnZhciBjb25maWdfMSA9IHJlcXVpcmUoXCIuLi9jb25maWdcIik7XG52YXIgY29udGV4dCA9IG51bGw7XG5mdW5jdGlvbiBlcnJvckNvbnRleHQoY2IpIHtcbiAgICBpZiAoY29uZmlnXzEuY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgdmFyIGlzUm9vdCA9ICFjb250ZXh0O1xuICAgICAgICBpZiAoaXNSb290KSB7XG4gICAgICAgICAgICBjb250ZXh0ID0geyBlcnJvclRocm93bjogZmFsc2UsIGVycm9yOiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgICAgY2IoKTtcbiAgICAgICAgaWYgKGlzUm9vdCkge1xuICAgICAgICAgICAgdmFyIF9hID0gY29udGV4dCwgZXJyb3JUaHJvd24gPSBfYS5lcnJvclRocm93biwgZXJyb3IgPSBfYS5lcnJvcjtcbiAgICAgICAgICAgIGNvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGVycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNiKCk7XG4gICAgfVxufVxuZXhwb3J0cy5lcnJvckNvbnRleHQgPSBlcnJvckNvbnRleHQ7XG5mdW5jdGlvbiBjYXB0dXJlRXJyb3IoZXJyKSB7XG4gICAgaWYgKGNvbmZpZ18xLmNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nICYmIGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC5lcnJvclRocm93biA9IHRydWU7XG4gICAgICAgIGNvbnRleHQuZXJyb3IgPSBlcnI7XG4gICAgfVxufVxuZXhwb3J0cy5jYXB0dXJlRXJyb3IgPSBjYXB0dXJlRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvckNvbnRleHQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmV4ZWN1dGVTY2hlZHVsZSA9IHZvaWQgMDtcbmZ1bmN0aW9uIGV4ZWN1dGVTY2hlZHVsZShwYXJlbnRTdWJzY3JpcHRpb24sIHNjaGVkdWxlciwgd29yaywgZGVsYXksIHJlcGVhdCkge1xuICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgIGlmIChyZXBlYXQgPT09IHZvaWQgMCkgeyByZXBlYXQgPSBmYWxzZTsgfVxuICAgIHZhciBzY2hlZHVsZVN1YnNjcmlwdGlvbiA9IHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdvcmsoKTtcbiAgICAgICAgaWYgKHJlcGVhdCkge1xuICAgICAgICAgICAgcGFyZW50U3Vic2NyaXB0aW9uLmFkZCh0aGlzLnNjaGVkdWxlKG51bGwsIGRlbGF5KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9LCBkZWxheSk7XG4gICAgcGFyZW50U3Vic2NyaXB0aW9uLmFkZChzY2hlZHVsZVN1YnNjcmlwdGlvbik7XG4gICAgaWYgKCFyZXBlYXQpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlU3Vic2NyaXB0aW9uO1xuICAgIH1cbn1cbmV4cG9ydHMuZXhlY3V0ZVNjaGVkdWxlID0gZXhlY3V0ZVNjaGVkdWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhlY3V0ZVNjaGVkdWxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pZGVudGl0eSA9IHZvaWQgMDtcbmZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cbmV4cG9ydHMuaWRlbnRpdHkgPSBpZGVudGl0eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlkZW50aXR5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc0FycmF5TGlrZSA9IHZvaWQgMDtcbmV4cG9ydHMuaXNBcnJheUxpa2UgPSAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggJiYgdHlwZW9mIHgubGVuZ3RoID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgeCAhPT0gJ2Z1bmN0aW9uJzsgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0FycmF5TGlrZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNBc3luY0l0ZXJhYmxlID0gdm9pZCAwO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2lzRnVuY3Rpb25cIik7XG5mdW5jdGlvbiBpc0FzeW5jSXRlcmFibGUob2JqKSB7XG4gICAgcmV0dXJuIFN5bWJvbC5hc3luY0l0ZXJhdG9yICYmIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9ialtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pO1xufVxuZXhwb3J0cy5pc0FzeW5jSXRlcmFibGUgPSBpc0FzeW5jSXRlcmFibGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0FzeW5jSXRlcmFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzVmFsaWREYXRlID0gdm9pZCAwO1xuZnVuY3Rpb24gaXNWYWxpZERhdGUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBEYXRlICYmICFpc05hTih2YWx1ZSk7XG59XG5leHBvcnRzLmlzVmFsaWREYXRlID0gaXNWYWxpZERhdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0RhdGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzRnVuY3Rpb24gPSB2b2lkIDA7XG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0Z1bmN0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc0ludGVyb3BPYnNlcnZhYmxlID0gdm9pZCAwO1xudmFyIG9ic2VydmFibGVfMSA9IHJlcXVpcmUoXCIuLi9zeW1ib2wvb2JzZXJ2YWJsZVwiKTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihpbnB1dFtvYnNlcnZhYmxlXzEub2JzZXJ2YWJsZV0pO1xufVxuZXhwb3J0cy5pc0ludGVyb3BPYnNlcnZhYmxlID0gaXNJbnRlcm9wT2JzZXJ2YWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSW50ZXJvcE9ic2VydmFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzSXRlcmFibGUgPSB2b2lkIDA7XG52YXIgaXRlcmF0b3JfMSA9IHJlcXVpcmUoXCIuLi9zeW1ib2wvaXRlcmF0b3JcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4vaXNGdW5jdGlvblwiKTtcbmZ1bmN0aW9uIGlzSXRlcmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24oaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0W2l0ZXJhdG9yXzEuaXRlcmF0b3JdKTtcbn1cbmV4cG9ydHMuaXNJdGVyYWJsZSA9IGlzSXRlcmFibGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0l0ZXJhYmxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc1Byb21pc2UgPSB2b2lkIDA7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4vaXNGdW5jdGlvblwiKTtcbmZ1bmN0aW9uIGlzUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbih2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmFsdWUudGhlbik7XG59XG5leHBvcnRzLmlzUHJvbWlzZSA9IGlzUHJvbWlzZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzUHJvbWlzZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIF9fYXdhaXQgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXQpIHx8IGZ1bmN0aW9uICh2KSB7IHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpOyB9XG52YXIgX19hc3luY0dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19hc3luY0dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNSZWFkYWJsZVN0cmVhbUxpa2UgPSBleHBvcnRzLnJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IgPSB2b2lkIDA7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4vaXNGdW5jdGlvblwiKTtcbmZ1bmN0aW9uIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IocmVhZGFibGVTdHJlYW0pIHtcbiAgICByZXR1cm4gX19hc3luY0dlbmVyYXRvcih0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3JfMSgpIHtcbiAgICAgICAgdmFyIHJlYWRlciwgX2EsIHZhbHVlLCBkb25lO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSByZWFkYWJsZVN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxLCAsIDksIDEwXSk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJ1ZSkgcmV0dXJuIFszLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBfX2F3YWl0KHJlYWRlci5yZWFkKCkpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIF9hID0gX2Iuc2VudCgpLCB2YWx1ZSA9IF9hLnZhbHVlLCBkb25lID0gX2EuZG9uZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb25lKSByZXR1cm4gWzMsIDVdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9fYXdhaXQodm9pZCAwKV07XG4gICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIsIF9iLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzQsIF9fYXdhaXQodmFsdWUpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiBbNCwgX2Iuc2VudCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAyXTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMywgMTBdO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMDogcmV0dXJuIFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IgPSByZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yO1xuZnVuY3Rpb24gaXNSZWFkYWJsZVN0cmVhbUxpa2Uob2JqKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9iai5nZXRSZWFkZXIpO1xufVxuZXhwb3J0cy5pc1JlYWRhYmxlU3RyZWFtTGlrZSA9IGlzUmVhZGFibGVTdHJlYW1MaWtlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNSZWFkYWJsZVN0cmVhbUxpa2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzU2NoZWR1bGVyID0gdm9pZCAwO1xudmFyIGlzRnVuY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2lzRnVuY3Rpb25cIik7XG5mdW5jdGlvbiBpc1NjaGVkdWxlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbih2YWx1ZS5zY2hlZHVsZSk7XG59XG5leHBvcnRzLmlzU2NoZWR1bGVyID0gaXNTY2hlZHVsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1NjaGVkdWxlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMub3BlcmF0ZSA9IGV4cG9ydHMuaGFzTGlmdCA9IHZvaWQgMDtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi9pc0Z1bmN0aW9uXCIpO1xuZnVuY3Rpb24gaGFzTGlmdChzb3VyY2UpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24oc291cmNlID09PSBudWxsIHx8IHNvdXJjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc291cmNlLmxpZnQpO1xufVxuZXhwb3J0cy5oYXNMaWZ0ID0gaGFzTGlmdDtcbmZ1bmN0aW9uIG9wZXJhdGUoaW5pdCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIGlmIChoYXNMaWZ0KHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UubGlmdChmdW5jdGlvbiAobGlmdGVkU291cmNlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluaXQobGlmdGVkU291cmNlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5hYmxlIHRvIGxpZnQgdW5rbm93biBPYnNlcnZhYmxlIHR5cGUnKTtcbiAgICB9O1xufVxuZXhwb3J0cy5vcGVyYXRlID0gb3BlcmF0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpZnQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgICByZXR1cm4gdG87XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tYXBPbmVPck1hbnlBcmdzID0gdm9pZCAwO1xudmFyIG1hcF8xID0gcmVxdWlyZShcIi4uL29wZXJhdG9ycy9tYXBcIik7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5mdW5jdGlvbiBjYWxsT3JBcHBseShmbiwgYXJncykge1xuICAgIHJldHVybiBpc0FycmF5KGFyZ3MpID8gZm4uYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJncykpKSA6IGZuKGFyZ3MpO1xufVxuZnVuY3Rpb24gbWFwT25lT3JNYW55QXJncyhmbikge1xuICAgIHJldHVybiBtYXBfMS5tYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIGNhbGxPckFwcGx5KGZuLCBhcmdzKTsgfSk7XG59XG5leHBvcnRzLm1hcE9uZU9yTWFueUFyZ3MgPSBtYXBPbmVPck1hbnlBcmdzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwT25lT3JNYW55QXJncy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubm9vcCA9IHZvaWQgMDtcbmZ1bmN0aW9uIG5vb3AoKSB7IH1cbmV4cG9ydHMubm9vcCA9IG5vb3A7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub29wLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ub3QgPSB2b2lkIDA7XG5mdW5jdGlvbiBub3QocHJlZCwgdGhpc0FyZykge1xuICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7IHJldHVybiAhcHJlZC5jYWxsKHRoaXNBcmcsIHZhbHVlLCBpbmRleCk7IH07XG59XG5leHBvcnRzLm5vdCA9IG5vdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGlwZUZyb21BcnJheSA9IGV4cG9ydHMucGlwZSA9IHZvaWQgMDtcbnZhciBpZGVudGl0eV8xID0gcmVxdWlyZShcIi4vaWRlbnRpdHlcIik7XG5mdW5jdGlvbiBwaXBlKCkge1xuICAgIHZhciBmbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBmbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkoZm5zKTtcbn1cbmV4cG9ydHMucGlwZSA9IHBpcGU7XG5mdW5jdGlvbiBwaXBlRnJvbUFycmF5KGZucykge1xuICAgIGlmIChmbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eV8xLmlkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZm5zWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZucy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGZuKSB7IHJldHVybiBmbihwcmV2KTsgfSwgaW5wdXQpO1xuICAgIH07XG59XG5leHBvcnRzLnBpcGVGcm9tQXJyYXkgPSBwaXBlRnJvbUFycmF5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVwb3J0VW5oYW5kbGVkRXJyb3IgPSB2b2lkIDA7XG52YXIgY29uZmlnXzEgPSByZXF1aXJlKFwiLi4vY29uZmlnXCIpO1xudmFyIHRpbWVvdXRQcm92aWRlcl8xID0gcmVxdWlyZShcIi4uL3NjaGVkdWxlci90aW1lb3V0UHJvdmlkZXJcIik7XG5mdW5jdGlvbiByZXBvcnRVbmhhbmRsZWRFcnJvcihlcnIpIHtcbiAgICB0aW1lb3V0UHJvdmlkZXJfMS50aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvblVuaGFuZGxlZEVycm9yID0gY29uZmlnXzEuY29uZmlnLm9uVW5oYW5kbGVkRXJyb3I7XG4gICAgICAgIGlmIChvblVuaGFuZGxlZEVycm9yKSB7XG4gICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydHMucmVwb3J0VW5oYW5kbGVkRXJyb3IgPSByZXBvcnRVbmhhbmRsZWRFcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcG9ydFVuaGFuZGxlZEVycm9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvciA9IHZvaWQgMDtcbmZ1bmN0aW9uIGNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yKGlucHV0KSB7XG4gICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXCJZb3UgcHJvdmlkZWQgXCIgKyAoaW5wdXQgIT09IG51bGwgJiYgdHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyA/ICdhbiBpbnZhbGlkIG9iamVjdCcgOiBcIidcIiArIGlucHV0ICsgXCInXCIpICsgXCIgd2hlcmUgYSBzdHJlYW0gd2FzIGV4cGVjdGVkLiBZb3UgY2FuIHByb3ZpZGUgYW4gT2JzZXJ2YWJsZSwgUHJvbWlzZSwgUmVhZGFibGVTdHJlYW0sIEFycmF5LCBBc3luY0l0ZXJhYmxlLCBvciBJdGVyYWJsZS5cIik7XG59XG5leHBvcnRzLmNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yID0gY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aHJvd1Vub2JzZXJ2YWJsZUVycm9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tZXJnZUFsbCA9IGV4cG9ydHMubWVyZ2UgPSBleHBvcnRzLm1heCA9IGV4cG9ydHMubWF0ZXJpYWxpemUgPSBleHBvcnRzLm1hcFRvID0gZXhwb3J0cy5tYXAgPSBleHBvcnRzLmxhc3QgPSBleHBvcnRzLmlzRW1wdHkgPSBleHBvcnRzLmlnbm9yZUVsZW1lbnRzID0gZXhwb3J0cy5ncm91cEJ5ID0gZXhwb3J0cy5maXJzdCA9IGV4cG9ydHMuZmluZEluZGV4ID0gZXhwb3J0cy5maW5kID0gZXhwb3J0cy5maW5hbGl6ZSA9IGV4cG9ydHMuZmlsdGVyID0gZXhwb3J0cy5leHBhbmQgPSBleHBvcnRzLmV4aGF1c3RNYXAgPSBleHBvcnRzLmV4aGF1c3RBbGwgPSBleHBvcnRzLmV4aGF1c3QgPSBleHBvcnRzLmV2ZXJ5ID0gZXhwb3J0cy5lbmRXaXRoID0gZXhwb3J0cy5lbGVtZW50QXQgPSBleHBvcnRzLmRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkID0gZXhwb3J0cy5kaXN0aW5jdFVudGlsQ2hhbmdlZCA9IGV4cG9ydHMuZGlzdGluY3QgPSBleHBvcnRzLmRlbWF0ZXJpYWxpemUgPSBleHBvcnRzLmRlbGF5V2hlbiA9IGV4cG9ydHMuZGVsYXkgPSBleHBvcnRzLmRlZmF1bHRJZkVtcHR5ID0gZXhwb3J0cy5kZWJvdW5jZVRpbWUgPSBleHBvcnRzLmRlYm91bmNlID0gZXhwb3J0cy5jb3VudCA9IGV4cG9ydHMuY29ubmVjdCA9IGV4cG9ydHMuY29uY2F0V2l0aCA9IGV4cG9ydHMuY29uY2F0TWFwVG8gPSBleHBvcnRzLmNvbmNhdE1hcCA9IGV4cG9ydHMuY29uY2F0QWxsID0gZXhwb3J0cy5jb25jYXQgPSBleHBvcnRzLmNvbWJpbmVMYXRlc3RXaXRoID0gZXhwb3J0cy5jb21iaW5lTGF0ZXN0ID0gZXhwb3J0cy5jb21iaW5lTGF0ZXN0QWxsID0gZXhwb3J0cy5jb21iaW5lQWxsID0gZXhwb3J0cy5jYXRjaEVycm9yID0gZXhwb3J0cy5idWZmZXJXaGVuID0gZXhwb3J0cy5idWZmZXJUb2dnbGUgPSBleHBvcnRzLmJ1ZmZlclRpbWUgPSBleHBvcnRzLmJ1ZmZlckNvdW50ID0gZXhwb3J0cy5idWZmZXIgPSBleHBvcnRzLmF1ZGl0VGltZSA9IGV4cG9ydHMuYXVkaXQgPSB2b2lkIDA7XG5leHBvcnRzLnRpbWVJbnRlcnZhbCA9IGV4cG9ydHMudGhyb3dJZkVtcHR5ID0gZXhwb3J0cy50aHJvdHRsZVRpbWUgPSBleHBvcnRzLnRocm90dGxlID0gZXhwb3J0cy50YXAgPSBleHBvcnRzLnRha2VXaGlsZSA9IGV4cG9ydHMudGFrZVVudGlsID0gZXhwb3J0cy50YWtlTGFzdCA9IGV4cG9ydHMudGFrZSA9IGV4cG9ydHMuc3dpdGNoU2NhbiA9IGV4cG9ydHMuc3dpdGNoTWFwVG8gPSBleHBvcnRzLnN3aXRjaE1hcCA9IGV4cG9ydHMuc3dpdGNoQWxsID0gZXhwb3J0cy5zdWJzY3JpYmVPbiA9IGV4cG9ydHMuc3RhcnRXaXRoID0gZXhwb3J0cy5za2lwV2hpbGUgPSBleHBvcnRzLnNraXBVbnRpbCA9IGV4cG9ydHMuc2tpcExhc3QgPSBleHBvcnRzLnNraXAgPSBleHBvcnRzLnNpbmdsZSA9IGV4cG9ydHMuc2hhcmVSZXBsYXkgPSBleHBvcnRzLnNoYXJlID0gZXhwb3J0cy5zZXF1ZW5jZUVxdWFsID0gZXhwb3J0cy5zY2FuID0gZXhwb3J0cy5zYW1wbGVUaW1lID0gZXhwb3J0cy5zYW1wbGUgPSBleHBvcnRzLnJlZkNvdW50ID0gZXhwb3J0cy5yZXRyeVdoZW4gPSBleHBvcnRzLnJldHJ5ID0gZXhwb3J0cy5yZXBlYXRXaGVuID0gZXhwb3J0cy5yZXBlYXQgPSBleHBvcnRzLnJlZHVjZSA9IGV4cG9ydHMucmFjZVdpdGggPSBleHBvcnRzLnJhY2UgPSBleHBvcnRzLnB1Ymxpc2hSZXBsYXkgPSBleHBvcnRzLnB1Ymxpc2hMYXN0ID0gZXhwb3J0cy5wdWJsaXNoQmVoYXZpb3IgPSBleHBvcnRzLnB1Ymxpc2ggPSBleHBvcnRzLnBsdWNrID0gZXhwb3J0cy5wYXJ0aXRpb24gPSBleHBvcnRzLnBhaXJ3aXNlID0gZXhwb3J0cy5vbkVycm9yUmVzdW1lTmV4dCA9IGV4cG9ydHMub2JzZXJ2ZU9uID0gZXhwb3J0cy5tdWx0aWNhc3QgPSBleHBvcnRzLm1pbiA9IGV4cG9ydHMubWVyZ2VXaXRoID0gZXhwb3J0cy5tZXJnZVNjYW4gPSBleHBvcnRzLm1lcmdlTWFwVG8gPSBleHBvcnRzLm1lcmdlTWFwID0gZXhwb3J0cy5mbGF0TWFwID0gdm9pZCAwO1xuZXhwb3J0cy56aXBXaXRoID0gZXhwb3J0cy56aXBBbGwgPSBleHBvcnRzLnppcCA9IGV4cG9ydHMud2l0aExhdGVzdEZyb20gPSBleHBvcnRzLndpbmRvd1doZW4gPSBleHBvcnRzLndpbmRvd1RvZ2dsZSA9IGV4cG9ydHMud2luZG93VGltZSA9IGV4cG9ydHMud2luZG93Q291bnQgPSBleHBvcnRzLndpbmRvdyA9IGV4cG9ydHMudG9BcnJheSA9IGV4cG9ydHMudGltZXN0YW1wID0gZXhwb3J0cy50aW1lb3V0V2l0aCA9IGV4cG9ydHMudGltZW91dCA9IHZvaWQgMDtcbnZhciBhdWRpdF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9hdWRpdFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImF1ZGl0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhdWRpdF8xLmF1ZGl0OyB9IH0pO1xudmFyIGF1ZGl0VGltZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9hdWRpdFRpbWVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJhdWRpdFRpbWVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGF1ZGl0VGltZV8xLmF1ZGl0VGltZTsgfSB9KTtcbnZhciBidWZmZXJfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYnVmZmVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBidWZmZXJfMS5idWZmZXI7IH0gfSk7XG52YXIgYnVmZmVyQ291bnRfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyQ291bnRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJidWZmZXJDb3VudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYnVmZmVyQ291bnRfMS5idWZmZXJDb3VudDsgfSB9KTtcbnZhciBidWZmZXJUaW1lXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlclRpbWVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJidWZmZXJUaW1lXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBidWZmZXJUaW1lXzEuYnVmZmVyVGltZTsgfSB9KTtcbnZhciBidWZmZXJUb2dnbGVfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyVG9nZ2xlXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYnVmZmVyVG9nZ2xlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBidWZmZXJUb2dnbGVfMS5idWZmZXJUb2dnbGU7IH0gfSk7XG52YXIgYnVmZmVyV2hlbl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJXaGVuXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYnVmZmVyV2hlblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYnVmZmVyV2hlbl8xLmJ1ZmZlcldoZW47IH0gfSk7XG52YXIgY2F0Y2hFcnJvcl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9jYXRjaEVycm9yXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY2F0Y2hFcnJvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2F0Y2hFcnJvcl8xLmNhdGNoRXJyb3I7IH0gfSk7XG52YXIgY29tYmluZUFsbF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9jb21iaW5lQWxsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29tYmluZUFsbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29tYmluZUFsbF8xLmNvbWJpbmVBbGw7IH0gfSk7XG52YXIgY29tYmluZUxhdGVzdEFsbF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9jb21iaW5lTGF0ZXN0QWxsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29tYmluZUxhdGVzdEFsbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29tYmluZUxhdGVzdEFsbF8xLmNvbWJpbmVMYXRlc3RBbGw7IH0gfSk7XG52YXIgY29tYmluZUxhdGVzdF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9jb21iaW5lTGF0ZXN0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29tYmluZUxhdGVzdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29tYmluZUxhdGVzdF8xLmNvbWJpbmVMYXRlc3Q7IH0gfSk7XG52YXIgY29tYmluZUxhdGVzdFdpdGhfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvY29tYmluZUxhdGVzdFdpdGhcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb21iaW5lTGF0ZXN0V2l0aFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29tYmluZUxhdGVzdFdpdGhfMS5jb21iaW5lTGF0ZXN0V2l0aDsgfSB9KTtcbnZhciBjb25jYXRfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29uY2F0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb25jYXRfMS5jb25jYXQ7IH0gfSk7XG52YXIgY29uY2F0QWxsXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdEFsbFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbmNhdEFsbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uY2F0QWxsXzEuY29uY2F0QWxsOyB9IH0pO1xudmFyIGNvbmNhdE1hcF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRNYXBcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb25jYXRNYXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbmNhdE1hcF8xLmNvbmNhdE1hcDsgfSB9KTtcbnZhciBjb25jYXRNYXBUb18xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRNYXBUb1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbmNhdE1hcFRvXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb25jYXRNYXBUb18xLmNvbmNhdE1hcFRvOyB9IH0pO1xudmFyIGNvbmNhdFdpdGhfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0V2l0aFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbmNhdFdpdGhcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbmNhdFdpdGhfMS5jb25jYXRXaXRoOyB9IH0pO1xudmFyIGNvbm5lY3RfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvY29ubmVjdFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbm5lY3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbm5lY3RfMS5jb25uZWN0OyB9IH0pO1xudmFyIGNvdW50XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvdW50XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY291bnRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvdW50XzEuY291bnQ7IH0gfSk7XG52YXIgZGVib3VuY2VfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGVib3VuY2VcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJkZWJvdW5jZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVib3VuY2VfMS5kZWJvdW5jZTsgfSB9KTtcbnZhciBkZWJvdW5jZVRpbWVfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGVib3VuY2VUaW1lXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZGVib3VuY2VUaW1lXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWJvdW5jZVRpbWVfMS5kZWJvdW5jZVRpbWU7IH0gfSk7XG52YXIgZGVmYXVsdElmRW1wdHlfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGVmYXVsdElmRW1wdHlcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJkZWZhdWx0SWZFbXB0eVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVmYXVsdElmRW1wdHlfMS5kZWZhdWx0SWZFbXB0eTsgfSB9KTtcbnZhciBkZWxheV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9kZWxheVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRlbGF5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWxheV8xLmRlbGF5OyB9IH0pO1xudmFyIGRlbGF5V2hlbl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9kZWxheVdoZW5cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJkZWxheVdoZW5cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlbGF5V2hlbl8xLmRlbGF5V2hlbjsgfSB9KTtcbnZhciBkZW1hdGVyaWFsaXplXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2RlbWF0ZXJpYWxpemVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJkZW1hdGVyaWFsaXplXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZW1hdGVyaWFsaXplXzEuZGVtYXRlcmlhbGl6ZTsgfSB9KTtcbnZhciBkaXN0aW5jdF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRpc3RpbmN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkaXN0aW5jdF8xLmRpc3RpbmN0OyB9IH0pO1xudmFyIGRpc3RpbmN0VW50aWxDaGFuZ2VkXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2Rpc3RpbmN0VW50aWxDaGFuZ2VkXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZGlzdGluY3RVbnRpbENoYW5nZWRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRpc3RpbmN0VW50aWxDaGFuZ2VkXzEuZGlzdGluY3RVbnRpbENoYW5nZWQ7IH0gfSk7XG52YXIgZGlzdGluY3RVbnRpbEtleUNoYW5nZWRfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGlzdGluY3RVbnRpbEtleUNoYW5nZWRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGlzdGluY3RVbnRpbEtleUNoYW5nZWRfMS5kaXN0aW5jdFVudGlsS2V5Q2hhbmdlZDsgfSB9KTtcbnZhciBlbGVtZW50QXRfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZWxlbWVudEF0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZWxlbWVudEF0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlbGVtZW50QXRfMS5lbGVtZW50QXQ7IH0gfSk7XG52YXIgZW5kV2l0aF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9lbmRXaXRoXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZW5kV2l0aFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZW5kV2l0aF8xLmVuZFdpdGg7IH0gfSk7XG52YXIgZXZlcnlfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZXZlcnlcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJldmVyeVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXZlcnlfMS5ldmVyeTsgfSB9KTtcbnZhciBleGhhdXN0XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2V4aGF1c3RcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJleGhhdXN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleGhhdXN0XzEuZXhoYXVzdDsgfSB9KTtcbnZhciBleGhhdXN0QWxsXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2V4aGF1c3RBbGxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJleGhhdXN0QWxsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleGhhdXN0QWxsXzEuZXhoYXVzdEFsbDsgfSB9KTtcbnZhciBleGhhdXN0TWFwXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2V4aGF1c3RNYXBcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJleGhhdXN0TWFwXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleGhhdXN0TWFwXzEuZXhoYXVzdE1hcDsgfSB9KTtcbnZhciBleHBhbmRfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvZXhwYW5kXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZXhwYW5kXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleHBhbmRfMS5leHBhbmQ7IH0gfSk7XG52YXIgZmlsdGVyXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbHRlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImZpbHRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmlsdGVyXzEuZmlsdGVyOyB9IH0pO1xudmFyIGZpbmFsaXplXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbmFsaXplXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZmluYWxpemVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZpbmFsaXplXzEuZmluYWxpemU7IH0gfSk7XG52YXIgZmluZF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9maW5kXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZmluZFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmluZF8xLmZpbmQ7IH0gfSk7XG52YXIgZmluZEluZGV4XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbmRJbmRleFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImZpbmRJbmRleFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmluZEluZGV4XzEuZmluZEluZGV4OyB9IH0pO1xudmFyIGZpcnN0XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2ZpcnN0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZmlyc3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZpcnN0XzEuZmlyc3Q7IH0gfSk7XG52YXIgZ3JvdXBCeV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9ncm91cEJ5XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ3JvdXBCeVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ3JvdXBCeV8xLmdyb3VwQnk7IH0gfSk7XG52YXIgaWdub3JlRWxlbWVudHNfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvaWdub3JlRWxlbWVudHNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJpZ25vcmVFbGVtZW50c1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaWdub3JlRWxlbWVudHNfMS5pZ25vcmVFbGVtZW50czsgfSB9KTtcbnZhciBpc0VtcHR5XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2lzRW1wdHlcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJpc0VtcHR5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpc0VtcHR5XzEuaXNFbXB0eTsgfSB9KTtcbnZhciBsYXN0XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL2xhc3RcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJsYXN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsYXN0XzEubGFzdDsgfSB9KTtcbnZhciBtYXBfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWFwXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtYXBfMS5tYXA7IH0gfSk7XG52YXIgbWFwVG9fMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwVG9cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtYXBUb1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWFwVG9fMS5tYXBUbzsgfSB9KTtcbnZhciBtYXRlcmlhbGl6ZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9tYXRlcmlhbGl6ZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1hdGVyaWFsaXplXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtYXRlcmlhbGl6ZV8xLm1hdGVyaWFsaXplOyB9IH0pO1xudmFyIG1heF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9tYXhcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtYXhcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1heF8xLm1heDsgfSB9KTtcbnZhciBtZXJnZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1lcmdlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtZXJnZV8xLm1lcmdlOyB9IH0pO1xudmFyIG1lcmdlQWxsXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlQWxsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWVyZ2VBbGxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1lcmdlQWxsXzEubWVyZ2VBbGw7IH0gfSk7XG52YXIgZmxhdE1hcF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9mbGF0TWFwXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZmxhdE1hcFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmxhdE1hcF8xLmZsYXRNYXA7IH0gfSk7XG52YXIgbWVyZ2VNYXBfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VNYXBcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtZXJnZU1hcFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWVyZ2VNYXBfMS5tZXJnZU1hcDsgfSB9KTtcbnZhciBtZXJnZU1hcFRvXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlTWFwVG9cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtZXJnZU1hcFRvXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtZXJnZU1hcFRvXzEubWVyZ2VNYXBUbzsgfSB9KTtcbnZhciBtZXJnZVNjYW5fMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VTY2FuXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWVyZ2VTY2FuXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtZXJnZVNjYW5fMS5tZXJnZVNjYW47IH0gfSk7XG52YXIgbWVyZ2VXaXRoXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlV2l0aFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1lcmdlV2l0aFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWVyZ2VXaXRoXzEubWVyZ2VXaXRoOyB9IH0pO1xudmFyIG1pbl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9taW5cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtaW5cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1pbl8xLm1pbjsgfSB9KTtcbnZhciBtdWx0aWNhc3RfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvbXVsdGljYXN0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibXVsdGljYXN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtdWx0aWNhc3RfMS5tdWx0aWNhc3Q7IH0gfSk7XG52YXIgb2JzZXJ2ZU9uXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL29ic2VydmVPblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm9ic2VydmVPblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gb2JzZXJ2ZU9uXzEub2JzZXJ2ZU9uOyB9IH0pO1xudmFyIG9uRXJyb3JSZXN1bWVOZXh0XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL29uRXJyb3JSZXN1bWVOZXh0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwib25FcnJvclJlc3VtZU5leHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9uRXJyb3JSZXN1bWVOZXh0XzEub25FcnJvclJlc3VtZU5leHQ7IH0gfSk7XG52YXIgcGFpcndpc2VfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcGFpcndpc2VcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJwYWlyd2lzZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcGFpcndpc2VfMS5wYWlyd2lzZTsgfSB9KTtcbnZhciBwYXJ0aXRpb25fMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcGFydGl0aW9uXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicGFydGl0aW9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwYXJ0aXRpb25fMS5wYXJ0aXRpb247IH0gfSk7XG52YXIgcGx1Y2tfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcGx1Y2tcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJwbHVja1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcGx1Y2tfMS5wbHVjazsgfSB9KTtcbnZhciBwdWJsaXNoXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2hcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJwdWJsaXNoXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwdWJsaXNoXzEucHVibGlzaDsgfSB9KTtcbnZhciBwdWJsaXNoQmVoYXZpb3JfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaEJlaGF2aW9yXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicHVibGlzaEJlaGF2aW9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwdWJsaXNoQmVoYXZpb3JfMS5wdWJsaXNoQmVoYXZpb3I7IH0gfSk7XG52YXIgcHVibGlzaExhc3RfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaExhc3RcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJwdWJsaXNoTGFzdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHVibGlzaExhc3RfMS5wdWJsaXNoTGFzdDsgfSB9KTtcbnZhciBwdWJsaXNoUmVwbGF5XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2hSZXBsYXlcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJwdWJsaXNoUmVwbGF5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwdWJsaXNoUmVwbGF5XzEucHVibGlzaFJlcGxheTsgfSB9KTtcbnZhciByYWNlXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3JhY2VcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyYWNlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByYWNlXzEucmFjZTsgfSB9KTtcbnZhciByYWNlV2l0aF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9yYWNlV2l0aFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJhY2VXaXRoXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByYWNlV2l0aF8xLnJhY2VXaXRoOyB9IH0pO1xudmFyIHJlZHVjZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9yZWR1Y2VcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZWR1Y2VcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlZHVjZV8xLnJlZHVjZTsgfSB9KTtcbnZhciByZXBlYXRfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcmVwZWF0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicmVwZWF0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZXBlYXRfMS5yZXBlYXQ7IH0gfSk7XG52YXIgcmVwZWF0V2hlbl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9yZXBlYXRXaGVuXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicmVwZWF0V2hlblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVwZWF0V2hlbl8xLnJlcGVhdFdoZW47IH0gfSk7XG52YXIgcmV0cnlfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcmV0cnlcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZXRyeVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmV0cnlfMS5yZXRyeTsgfSB9KTtcbnZhciByZXRyeVdoZW5fMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcmV0cnlXaGVuXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicmV0cnlXaGVuXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZXRyeVdoZW5fMS5yZXRyeVdoZW47IH0gfSk7XG52YXIgcmVmQ291bnRfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvcmVmQ291bnRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZWZDb3VudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVmQ291bnRfMS5yZWZDb3VudDsgfSB9KTtcbnZhciBzYW1wbGVfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2FtcGxlXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic2FtcGxlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzYW1wbGVfMS5zYW1wbGU7IH0gfSk7XG52YXIgc2FtcGxlVGltZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9zYW1wbGVUaW1lXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic2FtcGxlVGltZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2FtcGxlVGltZV8xLnNhbXBsZVRpbWU7IH0gfSk7XG52YXIgc2Nhbl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9zY2FuXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic2NhblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2Nhbl8xLnNjYW47IH0gfSk7XG52YXIgc2VxdWVuY2VFcXVhbF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9zZXF1ZW5jZUVxdWFsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic2VxdWVuY2VFcXVhbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VxdWVuY2VFcXVhbF8xLnNlcXVlbmNlRXF1YWw7IH0gfSk7XG52YXIgc2hhcmVfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2hhcmVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzaGFyZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2hhcmVfMS5zaGFyZTsgfSB9KTtcbnZhciBzaGFyZVJlcGxheV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9zaGFyZVJlcGxheVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNoYXJlUmVwbGF5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzaGFyZVJlcGxheV8xLnNoYXJlUmVwbGF5OyB9IH0pO1xudmFyIHNpbmdsZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9zaW5nbGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzaW5nbGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNpbmdsZV8xLnNpbmdsZTsgfSB9KTtcbnZhciBza2lwXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJza2lwXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBza2lwXzEuc2tpcDsgfSB9KTtcbnZhciBza2lwTGFzdF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9za2lwTGFzdFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNraXBMYXN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBza2lwTGFzdF8xLnNraXBMYXN0OyB9IH0pO1xudmFyIHNraXBVbnRpbF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9za2lwVW50aWxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJza2lwVW50aWxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNraXBVbnRpbF8xLnNraXBVbnRpbDsgfSB9KTtcbnZhciBza2lwV2hpbGVfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcFdoaWxlXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic2tpcFdoaWxlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBza2lwV2hpbGVfMS5za2lwV2hpbGU7IH0gfSk7XG52YXIgc3RhcnRXaXRoXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3N0YXJ0V2l0aFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInN0YXJ0V2l0aFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RhcnRXaXRoXzEuc3RhcnRXaXRoOyB9IH0pO1xudmFyIHN1YnNjcmliZU9uXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3N1YnNjcmliZU9uXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3Vic2NyaWJlT25cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZU9uXzEuc3Vic2NyaWJlT247IH0gfSk7XG52YXIgc3dpdGNoQWxsXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaEFsbFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInN3aXRjaEFsbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3dpdGNoQWxsXzEuc3dpdGNoQWxsOyB9IH0pO1xudmFyIHN3aXRjaE1hcF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hNYXBcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzd2l0Y2hNYXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN3aXRjaE1hcF8xLnN3aXRjaE1hcDsgfSB9KTtcbnZhciBzd2l0Y2hNYXBUb18xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hNYXBUb1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInN3aXRjaE1hcFRvXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzd2l0Y2hNYXBUb18xLnN3aXRjaE1hcFRvOyB9IH0pO1xudmFyIHN3aXRjaFNjYW5fMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoU2NhblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInN3aXRjaFNjYW5cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN3aXRjaFNjYW5fMS5zd2l0Y2hTY2FuOyB9IH0pO1xudmFyIHRha2VfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGFrZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRha2VcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRha2VfMS50YWtlOyB9IH0pO1xudmFyIHRha2VMYXN0XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VMYXN0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidGFrZUxhc3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRha2VMYXN0XzEudGFrZUxhc3Q7IH0gfSk7XG52YXIgdGFrZVVudGlsXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VVbnRpbFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRha2VVbnRpbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGFrZVVudGlsXzEudGFrZVVudGlsOyB9IH0pO1xudmFyIHRha2VXaGlsZV8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy90YWtlV2hpbGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ0YWtlV2hpbGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRha2VXaGlsZV8xLnRha2VXaGlsZTsgfSB9KTtcbnZhciB0YXBfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGFwXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidGFwXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0YXBfMS50YXA7IH0gfSk7XG52YXIgdGhyb3R0bGVfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3R0bGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ0aHJvdHRsZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhyb3R0bGVfMS50aHJvdHRsZTsgfSB9KTtcbnZhciB0aHJvdHRsZVRpbWVfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3R0bGVUaW1lXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidGhyb3R0bGVUaW1lXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aHJvdHRsZVRpbWVfMS50aHJvdHRsZVRpbWU7IH0gfSk7XG52YXIgdGhyb3dJZkVtcHR5XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3Rocm93SWZFbXB0eVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRocm93SWZFbXB0eVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhyb3dJZkVtcHR5XzEudGhyb3dJZkVtcHR5OyB9IH0pO1xudmFyIHRpbWVJbnRlcnZhbF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy90aW1lSW50ZXJ2YWxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ0aW1lSW50ZXJ2YWxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRpbWVJbnRlcnZhbF8xLnRpbWVJbnRlcnZhbDsgfSB9KTtcbnZhciB0aW1lb3V0XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVvdXRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ0aW1lb3V0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aW1lb3V0XzEudGltZW91dDsgfSB9KTtcbnZhciB0aW1lb3V0V2l0aF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy90aW1lb3V0V2l0aFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRpbWVvdXRXaXRoXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aW1lb3V0V2l0aF8xLnRpbWVvdXRXaXRoOyB9IH0pO1xudmFyIHRpbWVzdGFtcF8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy90aW1lc3RhbXBcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ0aW1lc3RhbXBcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRpbWVzdGFtcF8xLnRpbWVzdGFtcDsgfSB9KTtcbnZhciB0b0FycmF5XzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3RvQXJyYXlcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ0b0FycmF5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0b0FycmF5XzEudG9BcnJheTsgfSB9KTtcbnZhciB3aW5kb3dfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwid2luZG93XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB3aW5kb3dfMS53aW5kb3c7IH0gfSk7XG52YXIgd2luZG93Q291bnRfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93Q291bnRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ3aW5kb3dDb3VudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gd2luZG93Q291bnRfMS53aW5kb3dDb3VudDsgfSB9KTtcbnZhciB3aW5kb3dUaW1lXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvd1RpbWVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ3aW5kb3dUaW1lXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB3aW5kb3dUaW1lXzEud2luZG93VGltZTsgfSB9KTtcbnZhciB3aW5kb3dUb2dnbGVfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93VG9nZ2xlXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwid2luZG93VG9nZ2xlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB3aW5kb3dUb2dnbGVfMS53aW5kb3dUb2dnbGU7IH0gfSk7XG52YXIgd2luZG93V2hlbl8xID0gcmVxdWlyZShcIi4uL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dXaGVuXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwid2luZG93V2hlblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gd2luZG93V2hlbl8xLndpbmRvd1doZW47IH0gfSk7XG52YXIgd2l0aExhdGVzdEZyb21fMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvd2l0aExhdGVzdEZyb21cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ3aXRoTGF0ZXN0RnJvbVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gd2l0aExhdGVzdEZyb21fMS53aXRoTGF0ZXN0RnJvbTsgfSB9KTtcbnZhciB6aXBfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvemlwXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiemlwXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB6aXBfMS56aXA7IH0gfSk7XG52YXIgemlwQWxsXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvb3BlcmF0b3JzL3ppcEFsbFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInppcEFsbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gemlwQWxsXzEuemlwQWxsOyB9IH0pO1xudmFyIHppcFdpdGhfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9vcGVyYXRvcnMvemlwV2l0aFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInppcFdpdGhcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHppcFdpdGhfMS56aXBXaXRoOyB9IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IFdlYjMgZnJvbSBcIndlYjNcIjtcbmltcG9ydCB7IElDaGVja2VkRGlkIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvY2hlY2tlZERpZC5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElDcmVkZW50aWFsIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvY3JlZGVudGlhbC5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElDcmVkZW50aWFsT2JqZWN0IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvY3JlZGVudGlhbHNPYmplY3QuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJUHJvb2ZPYmplY3QgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9wcm9vZi1vYmplY3QuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJUHJvb2YgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9wcm9vZi5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElSZXF1ZXN0ZWRDcmVkZW50aWFscyB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL3JlcXVlc3RlZENyZWRlbnRpYWxzLmludGVyZmFjZVwiO1xuaW1wb3J0IHsgSVJlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHQgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9yZXF1ZXN0ZWRDcmVkZW50aWFsc0NoZWNrUmVzdWx0XCI7XG5pbXBvcnQgeyBJVmFsaWRhdGVkQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy92YWxpZGF0ZWRDcmVkZW50aWFscy5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IGNsYWltSG9sZGVyQWJpIH0gZnJvbSBcIi4uL3NtYXJ0Y29udHJhY3RzL2NsYWltSG9sZGVyQWJpXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2YWxpZENyZWRlbnRpYWxzVHJ1c3RlZFBhcnRpZXNGdW5jKGNyZWRlbnRpYWxPYmplY3Q6IElDcmVkZW50aWFsT2JqZWN0LCB3ZWIzVXJsOiBzdHJpbmcsIHJlcXVlc3RlZENyZWRlbnRpYWxzOiBJUmVxdWVzdGVkQ3JlZGVudGlhbHMsIHRydXN0ZWREaWRzOiBzdHJpbmdbXSwgY2hlY2tVc2VyTm9uY2U6IGJvb2xlYW4pOiBQcm9taXNlPElWYWxpZGF0ZWRDcmVkZW50aWFscyB8IElSZXF1ZXN0ZWRDcmVkZW50aWFsc0NoZWNrUmVzdWx0PiB7XG4gICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKHdlYjNVcmwpO1xuICAgIGNvbnN0IHJlcXVlc3RlZENoZWNrUmVzdWx0ID0gcmVxdWVzdGVkQ3JlZGVudGlhbHNDb3JyZWN0KGNyZWRlbnRpYWxPYmplY3QsIHJlcXVlc3RlZENyZWRlbnRpYWxzKTtcbiAgICBpZiAoIXJlcXVlc3RlZENoZWNrUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgcmVxdWVzdGVkQ2hlY2tSZXN1bHQuY3JlZGVudGlhbHMgPSBjcmVkZW50aWFsT2JqZWN0O1xuICAgICAgICByZXR1cm4gcmVxdWVzdGVkQ2hlY2tSZXN1bHQ7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZhbGlkQ3JlZGVudGlhbHNGdW5jKGNyZWRlbnRpYWxPYmplY3QsIHdlYjNVcmwsIGNoZWNrVXNlck5vbmNlKTtcbiAgICAvLyBJZiB0aGUgXCJub3JtYWxcIiBjaGVjayB3YXMgbm90IHZhbGlkLCBkb24ndCBjaGVjayB0aGUgdHJ1c3RlZCBwYXJ0aWVzIGJ1dCByZXR1cm4gdGhlIHJlc3VsdFxuICAgIGlmICghcmVzdWx0LnZhbGlkKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIHRoZSB0cnVzdGVkIGFkZHJlc3NlcyBhcmUgYWRkcmVzc2VkXG4gICAgZm9yIChjb25zdCBkaWQgb2YgdHJ1c3RlZERpZHMpIHtcbiAgICAgICAgaWYgKCF3ZWIzLnV0aWxzLmlzQWRkcmVzcyhkaWQpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBUcnVzdGVkIHBhcnR5IGRpZCAke2RpZH0gaXMgTk9UIGEgdmFsaWQgYWRkcmVzcyBhbmQgaXMgcmVtb3ZlZC5gKTtcbiAgICAgICAgICAgIHRydXN0ZWREaWRzID0gdHJ1c3RlZERpZHMuZmlsdGVyKHggPT4geCAhPT0gZGlkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodHJ1c3RlZERpZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBjaGVja2VkRGlkID0gW107XG4gICAgICAgIGxldCB2YWxpZENyZWRlbnRpYWxzQW1vdW50ID0gMDtcbiAgICAgICAgbGV0IGNyZWRlbnRpYWxzQW1vdW50ID0gMDtcbiAgICAgICAgY29uc3QgaW52YWxpZENyZWRlbnRpYWxzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW3Byb3ZpZGVyLF0gb2YgT2JqZWN0LmVudHJpZXMoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2N1cnJlbnRDcmVkZW50aWFsS2V5LCBjcmVkZW50aWFsXSBvZiBPYmplY3QuZW50cmllcyhjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5jcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsc0Ftb3VudCsrO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzc3VlckRpZENvbnRyYWN0QWRkcmVzcyA9IGNyZWRlbnRpYWwuaXNzdWVyLmlkLnNwbGl0KFwiOlwiKVsyXTtcbiAgICAgICAgICAgICAgICBsZXQgZm91bmRWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxldCBpbnZhbGlkS2V5UHJvdmlkZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBpbnZhbGlkS2V5UHJvdmlkZXJBbGxvd2VkS2V5cyA9IG51bGw7XG4gICAgICAgICAgICAgICAgbGV0IG5vVHJ1c3RlZENsYWltRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGlkIG9mIHRydXN0ZWREaWRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kRW50cnkgPSBjaGVja2VkRGlkLmZpbmQoeCA9PiB4Lmlzc3VlckRpZENvbnRyYWN0QWRkcmVzcyA9PT0gaXNzdWVyRGlkQ29udHJhY3RBZGRyZXNzICYmIHguZGlkID09PSBkaWQpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2xhaW0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmRFbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhaW0gPSBmb3VuZEVudHJ5LmNsYWltO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhaW0gPSBhd2FpdCBnZXRDbGFpbXMoaXNzdWVyRGlkQ29udHJhY3RBZGRyZXNzLCBkaWQsIHdlYjMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZERpZC5wdXNoKHsgaXNzdWVyRGlkQ29udHJhY3RBZGRyZXNzLCBkaWQsIGNsYWltIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsYWltKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub1RydXN0ZWRDbGFpbUZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGFpbUV4cGlyYXRpb25EYXRlID0gbmV3IERhdGUoY2xhaW0uZXhwaXJhdGlvbkRhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsYWltRXhwaXJhdGlvbkRhdGUgPiBuZXcgRGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xhaW1BbGxvd2VkQ3JlZGVudGlhbEtleXMgPSBjbGFpbS5rZXlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRLZXlQcm92aWRlckFsbG93ZWRLZXlzID0gY2xhaW1BbGxvd2VkQ3JlZGVudGlhbEtleXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZXJDcmVkZW50aWFsS2V5ID0gYCR7Y3JlZGVudGlhbC5wcm92aWRlcn1fJHtjdXJyZW50Q3JlZGVudGlhbEtleX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2xhaW1BbGxvd2VkQ3JlZGVudGlhbEtleXMuaW5jbHVkZXMocHJvdmlkZXJDcmVkZW50aWFsS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkS2V5UHJvdmlkZXIgPSBwcm92aWRlckNyZWRlbnRpYWxLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBQcm92aWRlciAke2RpZH0gd2FzIG5vdCBhbGxvd2VkIHRvIGlzc3VlIGtleSAke3Byb3ZpZGVyQ3JlZGVudGlhbEtleX0uIFNraXBwaW5nIHRoaXMgb25lYClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW52YWxpZEtleVByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkQ3JlZGVudGlhbHNBbW91bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRWYWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDE0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNsYWltIGV4cGlyZWQuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9UcnVzdGVkQ2xhaW1Gb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMTMsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgTm8gY2xhaW1zIGZvdW5kIHRvIGNoZWNrLiBDaGVja2VkIGRpZHMgJHt0cnVzdGVkRGlkc31gXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGludmFsaWRLZXlQcm92aWRlciAmJiAhZm91bmRWYWxpZCkge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMTIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgVHJpZWQgdG8gdmFsaWRhdGUgYXR0cmlidXRlICR7aW52YWxpZEtleVByb3ZpZGVyfSBidXQgcHJvdmlkZXIgd2FzIG5vdCBhbGxvd2VkIHRvIGlzc3VlLiBBbGxvd2VkIGF0dHJpYnV0ZXM6ICR7aW52YWxpZEtleVByb3ZpZGVyQWxsb3dlZEtleXMuam9pbihcIiwgXCIpfWBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcInRydXN0ZWQgY2hlY2sgdmFsaWRDcmVkZW50aWFsc0Ftb3VudDpcIiwgdmFsaWRDcmVkZW50aWFsc0Ftb3VudCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwidHJ1c3RlZCBjaGVjayBjcmVkZW50aWFsc0Ftb3VudDpcIiwgY3JlZGVudGlhbHNBbW91bnQpO1xuICAgICAgICBpZiAodmFsaWRDcmVkZW50aWFsc0Ftb3VudCA9PT0gY3JlZGVudGlhbHNBbW91bnQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHMgYXMgYW55LFxuICAgICAgICAgICAgICAgIHZhbGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvZGU6IDAsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJWYWxpZCBjcmVkZW50aWFsXCIsXG4gICAgICAgICAgICAgICAgcmVxdWVzdGVkQ2hlY2tSZXN1bHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvZGU6IDEsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIGNyZWRlbnRpYWxzXCIsXG4gICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgY29kZTogMTAsXG4gICAgICAgICAgICBtZXNzYWdlOiBcIk5vIHRydXN0ZWQgcGFydGllcyB0byBjaGVjay5cIlxuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2YWxpZENyZWRlbnRpYWxzRnVuYyhjcmVkZW50aWFsT2JqZWN0OiBJQ3JlZGVudGlhbE9iamVjdCwgd2ViM1VybDogc3RyaW5nLCBjaGVja1VzZXJOb25jZTogYm9vbGVhbik6IFByb21pc2U8SVZhbGlkYXRlZENyZWRlbnRpYWxzPiB7XG4gICAgLy8gSWYgdGhlIG9iamVjdCBpcyBzdHJpbmdpZmllZFxuICAgIGlmICh0eXBlb2YgY3JlZGVudGlhbE9iamVjdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjcmVkZW50aWFsT2JqZWN0ID0gSlNPTi5wYXJzZShjcmVkZW50aWFsT2JqZWN0KTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJiZWZvcmUgcmVPcmRlckNyZWRlbnRpYWxPYmplY3Q6XCIsIEpTT04uc3RyaW5naWZ5KGNyZWRlbnRpYWxPYmplY3QpKTtcbiAgICBjcmVkZW50aWFsT2JqZWN0ID0gcmVPcmRlckNyZWRlbnRpYWxPYmplY3QoY3JlZGVudGlhbE9iamVjdCk7XG4gICAgY29uc29sZS5sb2coXCJhZnRlciByZU9yZGVyQ3JlZGVudGlhbE9iamVjdDpcIiwgSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbE9iamVjdCkpO1xuICAgIGNvbnN0IHdlYjNOb2RlID0gbmV3IFdlYjMod2ViM1VybCk7XG4gICAgY29uc3QgY2hlY2tlZERpZDogSUNoZWNrZWREaWRbXSA9IFtdO1xuICAgIGxldCB2YWxpZENyZWRlbnRpYWxzQW1vdW50ID0gMDtcbiAgICBsZXQgY3JlZGVudGlhbHNBbW91bnQgPSAwO1xuICAgIGNvbnN0IGludmFsaWRDcmVkZW50aWFscyA9IFtdO1xuICAgIGZvciAoY29uc3QgW3Byb3ZpZGVyLF0gb2YgT2JqZWN0LmVudHJpZXMoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFscykpIHtcbiAgICAgICAgLy8gQ2hlY2sgdGhlIHVzZXIgY3JlZGVudGlhbHMgKGZvciBlYWNoIHByb3ZpZGVyKTogUmVjb25zdHJ1Y3QgaXQgc28gd2Ugb25seSBoYXZlIHRoZSBjcmVkZW50aWFsT2JqZWN0IG9mIFxuICAgICAgICAvLyB0aGF0IHNwZWNpZmljIHByb3ZpZGVyICh3aGljaCB3ZSBnZW5lcmF0ZWQgdGhlIHNpZ25hdHVyZSBvdmVyKVxuICAgICAgICBjb25zdCBjcmVkZW50aWFsT2JqZWN0V2l0aG91dFByb29mU2lnbmF0dXJlOiBJQ3JlZGVudGlhbE9iamVjdCA9IHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgICAgICAgICAgW3Byb3ZpZGVyXTogSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXSkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGNyZWRlbnRpYWxPYmplY3RXaXRob3V0UHJvb2ZTaWduYXR1cmUuY3JlZGVudGlhbHNbcHJvdmlkZXJdLnByb29mLnNpZ25hdHVyZTtcbiAgICAgICAgY29uc29sZS5sb2coXCJSRUNPVkVSSU5HIFRISVMgT0JKRUNUOlwiLCBKU09OLnN0cmluZ2lmeShjcmVkZW50aWFsT2JqZWN0V2l0aG91dFByb29mU2lnbmF0dXJlKSk7XG4gICAgICAgIGNvbnN0IHVzZXJSZWNvdmVyZWRBZGRyZXNzID0gd2ViM05vZGUuZXRoLmFjY291bnRzLnJlY292ZXIoSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbE9iamVjdFdpdGhvdXRQcm9vZlNpZ25hdHVyZSksIGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLnByb29mLnNpZ25hdHVyZSk7XG4gICAgICAgIGNvbnN0IGNvcnJlY3RVc2VyU2lnbmF0dXJlID0gdXNlckNyZWRlbnRpYWxTaWduYXR1cmVXcm9uZyhjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5wcm9vZi5ob2xkZXIsIHVzZXJSZWNvdmVyZWRBZGRyZXNzKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHVzZXIgKElkZW50aXR5IEFwcCkgZGlkIHNpZ24gaXQgY29ycmVjdDsgb3RoZXJ3aGlzZSBza2lwIHRoaXMgcHJvdmlkZXJcbiAgICAgICAgaWYgKGNvcnJlY3RVc2VyU2lnbmF0dXJlKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFssIGNyZWRlbnRpYWxdIG9mIE9iamVjdC5lbnRyaWVzKGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLmNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzQW1vdW50Kys7XG4gICAgICAgICAgICAgICAgaWYgKCFjcmVkZW50aWFsLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDgsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkluY29ycmVjdCBjcmVkZW50aWFsIHZlcnNpb24uIFJlbmV3IHlvdXIgY3JlZGVudGlhbHNcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNyZWRlbnRpYWxFeHBpcmF0aW9uRGF0ZSA9IG5ldyBEYXRlKGNyZWRlbnRpYWwuZXhwaXJhdGlvbkRhdGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+IGNyZWRlbnRpYWxFeHBpcmF0aW9uRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogNyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBZb3VyIGNyZWRlbnRpYWwgZXhwaXJlZCBvbiAke2NyZWRlbnRpYWxFeHBpcmF0aW9uRGF0ZX1gXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdGhlbiA9IG5ldyBEYXRlKGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLnByb29mLm5vbmNlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtaW51dGVzRGlmZmVyZW5jZSA9IGNhbGN1bGF0ZU1pbnV0ZXNEaWZmZXJlbmNlKG5vdywgdGhlbik7XG4gICAgICAgICAgICAgICAgaWYgKG1pbnV0ZXNEaWZmZXJlbmNlID4gNSAmJiBjaGVja1VzZXJOb25jZSkge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTm9uY2UgdG9vIG9sZFwiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbnQgY3JlZGVudGlhbHMgd2VyZSBwcm92aWRlZCBieSB0aGUgZGlkIG9mIHRoZSBjcmVkZW50aWFsIChjaGVjayB0aGUgc2lnbmF0dXJlIG9mIGVhY2ggY3JlZGVudGlhbClcbiAgICAgICAgICAgICAgICBjb25zdCBjb3JyZWN0SXNzdWVyU2lnbmF0dXJlID0gaXNzdWVyQ3JlZGVudGlhbFNpZ25hdHVyZVdyb25nKGNyZWRlbnRpYWwsIHdlYjNOb2RlKTtcbiAgICAgICAgICAgICAgICBpZiAoY29ycmVjdElzc3VlclNpZ25hdHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBldmVyeSBjcmVkZW50aWFsIERJRCBjb250cmFjdCBpZiB0aGUgaG9sZGVyIGJlbG9uZ3MgdG8gdGhhdCBESURcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNzdWVySG9sZGVyS2V5ID0gY3JlZGVudGlhbC5wcm9vZi5ob2xkZXI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzc3VlckRpZENvbnRyYWN0QWRkcmVzcyA9IGNyZWRlbnRpYWwuaXNzdWVyLmlkLnNwbGl0KFwiOlwiKVsyXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNzdWVyQ29ycmVjdERpZCA9IGF3YWl0IGRpZENvbnRyYWN0S2V5V3Jvbmcod2ViM05vZGUsIHdlYjNVcmwsIGNsYWltSG9sZGVyQWJpLCBpc3N1ZXJIb2xkZXJLZXksIGlzc3VlckRpZENvbnRyYWN0QWRkcmVzcywgY2hlY2tlZERpZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc3N1ZXJDb3JyZWN0RGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VySG9sZGVyS2V5ID0gY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0ucHJvb2YuaG9sZGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckRpZENvbnRyYWN0QWRkcmVzcyA9IGNyZWRlbnRpYWwuaWQuc3BsaXQoXCI6XCIpWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckNvcnJlY3REaWQgPSBhd2FpdCBkaWRDb250cmFjdEtleVdyb25nKHdlYjNOb2RlLCB3ZWIzVXJsLCBjbGFpbUhvbGRlckFiaSwgdXNlckhvbGRlcktleSwgdXNlckRpZENvbnRyYWN0QWRkcmVzcywgY2hlY2tlZERpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlckNvcnJlY3REaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZENyZWRlbnRpYWxzQW1vdW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRDcmVkZW50aWFscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogNixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJVc2VyIGRpZCBpbmNvcnJlY3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIklzc3VlciBkaWQgaW5jb3JyZWN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZENyZWRlbnRpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDQsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIklzc3VlciBzaWduYXR1cmUgaW5jb3JyZWN0XCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnZhbGlkQ3JlZGVudGlhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbDogY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0sXG4gICAgICAgICAgICAgICAgY29kZTogMyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlVzZXIgc2lnbmF0dXJlIGluY29ycmVjdFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIm9ubHkgY3JlZCB2YWxpZENyZWRlbnRpYWxzQW1vdW50OlwiLCB2YWxpZENyZWRlbnRpYWxzQW1vdW50KTtcbiAgICBjb25zb2xlLmxvZyhcIm9ubHkgY3JlZCBjcmVkZW50aWFsc0Ftb3VudDpcIiwgY3JlZGVudGlhbHNBbW91bnQpO1xuICAgIC8vIFdoZW4gdGhlIHVzZXIgc2lnbmF0dXJlIGlzIGluY29ycmVjdCB3ZSBkb24ndCB2YWxpZGF0ZSBhbnkgbW9yZSB3aGVuIHRoZXJlIGlzIDEgcHJvdmlkZXIgc28gY3JlZGVudGlhbHNhbW91bnQgc2hvdWxkIGJlIG1vcmUgdGhhbiAwXG4gICAgaWYgKGNyZWRlbnRpYWxzQW1vdW50ID4gMCAmJiB2YWxpZENyZWRlbnRpYWxzQW1vdW50ID09PSBjcmVkZW50aWFsc0Ftb3VudCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3JlZGVudGlhbHM6IGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHMgYXMgYW55LFxuICAgICAgICAgICAgdmFsaWQ6IHRydWUsXG4gICAgICAgICAgICBjb2RlOiAwLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJWYWxpZCBjcmVkZW50aWFsXCJcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICBjb2RlOiAxLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIGNyZWRlbnRpYWxcIixcbiAgICAgICAgICAgIGludmFsaWRDcmVkZW50aWFsc1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZXhwb3J0IGZ1bmN0aW9uIHVzZXJDcmVkZW50aWFsU2lnbmF0dXJlV3JvbmcoaG9sZGVyS2V5OiBhbnksIHJlY292ZXJlZEFkZHJlc3M6IHN0cmluZykge1xuICAgIGlmIChob2xkZXJLZXkgIT09IHJlY292ZXJlZEFkZHJlc3MpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgVXNlciBzaWduYXR1cmUgb2YgY3JlZGVudGlhbCAke2hvbGRlcktleX0gZG9lcyBub3QgbWF0Y2ggcmVjb3ZlcmVkQWRkcmVzcyAke3JlY292ZXJlZEFkZHJlc3N9YCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5leHBvcnQgZnVuY3Rpb24gaXNzdWVyQ3JlZGVudGlhbFNpZ25hdHVyZVdyb25nKGNyZWRlbnRpYWw6IGFueSwgd2ViM05vZGU6IGFueSkge1xuICAgIGNvbnN0IGlzc3VlclNpZ25hdHVyZSA9IGNyZWRlbnRpYWwucHJvb2Yuc2lnbmF0dXJlO1xuICAgIGNvbnN0IGNyZWRlbnRpYWxJc3N1ZXJLZXkgPSBjcmVkZW50aWFsLnByb29mLmhvbGRlcjtcbiAgICBjb25zdCBjcmVkZW50aWFsV2l0aG91dElzc3VlclByb29mID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjcmVkZW50aWFsKSk7XG4gICAgZGVsZXRlIGNyZWRlbnRpYWxXaXRob3V0SXNzdWVyUHJvb2YucHJvb2Yuc2lnbmF0dXJlO1xuICAgIGNvbnN0IHJlY292ZXJlZEFkZHJlc3MgPSB3ZWIzTm9kZS5ldGguYWNjb3VudHMucmVjb3ZlcihKU09OLnN0cmluZ2lmeShjcmVkZW50aWFsV2l0aG91dElzc3VlclByb29mKSwgaXNzdWVyU2lnbmF0dXJlKTtcbiAgICBpZiAoY3JlZGVudGlhbElzc3VlcktleSAhPT0gcmVjb3ZlcmVkQWRkcmVzcykge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBJc3N1ZXIgc2lnbmF0dXJlIG9mIGNyZWRlbnRpYWwgJHtjcmVkZW50aWFsSXNzdWVyS2V5fSBkb2VzIG5vdCBtYXRjaCByZWNvdmVyZWRBZGRyZXNzICR7cmVjb3ZlcmVkQWRkcmVzc31gKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpZENvbnRyYWN0S2V5V3Jvbmcod2ViM05vZGU6IGFueSwgd2ViM1VybDogc3RyaW5nLCBjbGFpbUhvbGRlckFiaTogYW55LCBob2xkZXJLZXk6IHN0cmluZywgZGlkQWRkcmVzczogc3RyaW5nLCBjaGVja2VkRGlkOiBJQ2hlY2tlZERpZFtdKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3QgZm91bmRFbnRyeSA9IGNoZWNrZWREaWQuZmluZCh4ID0+IHguZGlkID09IGRpZEFkZHJlc3MgJiYgeC5ob2xkZXJLZXkgPT09IGhvbGRlcktleSk7XG4gICAgaWYgKGZvdW5kRW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGZvdW5kRW50cnkucmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGtub3duQWRkcmVzc2VzID0gW107XG5cbiAgICAgICAgaWYgKGRpZEFkZHJlc3MgPT09IGhvbGRlcktleSkge1xuICAgICAgICAgICAgY2hlY2tlZERpZC5wdXNoKHsgZGlkOiBkaWRBZGRyZXNzLCBob2xkZXJLZXksIHJlc3VsdDogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc2hhM0tleSA9IGdldFNoYTNLZXkoaG9sZGVyS2V5LCB3ZWIzTm9kZSk7XG4gICAgICAgICAgICBjb25zdCB3ZWIzID0gbmV3IFdlYjMod2ViM1VybCk7XG4gICAgICAgICAgICBjb25zdCBrZXlNYW5hZ2VyQ29udHJhY3QgPSBuZXcgd2ViMy5ldGguQ29udHJhY3QoXG4gICAgICAgICAgICAgICAgY2xhaW1Ib2xkZXJBYmksXG4gICAgICAgICAgICAgICAgZGlkQWRkcmVzc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICgha25vd25BZGRyZXNzZXNDb250YWlucyhrbm93bkFkZHJlc3Nlcywgc2hhM0tleSwgZGlkQWRkcmVzcykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXlQdXJwb3NlID0gcGFyc2VJbnQoYXdhaXQgZ2V0S2V5UHVycG9zZShrZXlNYW5hZ2VyQ29udHJhY3QsIHNoYTNLZXkpLCAxMCk7XG4gICAgICAgICAgICAgICAgLy8ga2V5UHVycG9zZSAxID0gT3duZXJcbiAgICAgICAgICAgICAgICAvLyBrZXlQdXJwb3NlIDIgPSBBY3Rpb24gS2V5XG4gICAgICAgICAgICAgICAgLy8ga2V5UHVycG9zZSAzID0gQ2xhaW0gU2lnbmVyIEtleSBcbiAgICAgICAgICAgICAgICAvLyBrZXlQdXJwb3NlIDQgPSBFbmNyeXB0aW9uIGtleVxuICAgICAgICAgICAgICAgIGlmIChrZXlQdXJwb3NlID09PSAwIHx8IGtleVB1cnBvc2UgPiAzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWREaWQucHVzaCh7IGRpZDogZGlkQWRkcmVzcywgaG9sZGVyS2V5LCByZXN1bHQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGtub3duQWRkcmVzc2VzLnB1c2goeyBzaGEzS2V5LCBkaWRBZGRyZXNzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hlY2tlZERpZC5wdXNoKHsgZGlkOiBkaWRBZGRyZXNzLCBob2xkZXJLZXksIHJlc3VsdDogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZXhwb3J0IGZ1bmN0aW9uIGtub3duQWRkcmVzc2VzQ29udGFpbnMobGlzdDogYW55W10sIHNoYTNLZXk6IHN0cmluZywgZGlkQ29udHJhY3RBZGRyZXNzOiBzdHJpbmcpIHtcbiAgICBmb3IgKGNvbnN0IGxpc3RJdGVtIG9mIGxpc3QpIHtcbiAgICAgICAgaWYgKGxpc3RJdGVtLnNoYTNLZXkgPT09IHNoYTNLZXkgJiYgbGlzdEl0ZW0uZGlkQ29udHJhY3RBZGRyZXNzID09PSBkaWRDb250cmFjdEFkZHJlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNoYTNLZXkoa2V5OiBzdHJpbmcsIHdlYjNOb2RlOiBhbnkpIHtcbiAgICByZXR1cm4gd2ViM05vZGUudXRpbHMua2VjY2FrMjU2KGtleSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRLZXlQdXJwb3NlKGtleU1hbmFnZXJDb250cmFjdDogYW55LCBrZXk6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgLy8gR2V0IEV2ZW50c1xuICAgIGlmIChrZXlNYW5hZ2VyQ29udHJhY3Qub3B0aW9ucy5hZGRyZXNzID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoXCItMVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYXdhaXQga2V5TWFuYWdlckNvbnRyYWN0Lm1ldGhvZHMuZ2V0S2V5UHVycG9zZShrZXkpLmNhbGwoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVNaW51dGVzRGlmZmVyZW5jZShkdDI6IERhdGUsIGR0MTogRGF0ZSk6IG51bWJlciB7XG4gICAgbGV0IGRpZmYgPSAoZHQyLmdldFRpbWUoKSAtIGR0MS5nZXRUaW1lKCkpIC8gMTAwMDtcbiAgICBkaWZmIC89IDYwO1xuICAgIHJldHVybiBNYXRoLmFicyhNYXRoLnJvdW5kKGRpZmYpKTtcbn1cblxuZnVuY3Rpb24gcmVPcmRlckNyZWRlbnRpYWxPYmplY3QoY3JlZGVudGlhbE9iamVjdDogSUNyZWRlbnRpYWxPYmplY3QpOiBJQ3JlZGVudGlhbE9iamVjdCB7XG4gICAgY29uc29sZS5sb2coXCJyZU9yZGVyQ3JlZGVudGlhbE9iamVjdDpcIiwgY3JlZGVudGlhbE9iamVjdCk7XG4gICAgY29uc29sZS5sb2coXCJBbGwgcHJvdmlkZXJzOlwiLCBPYmplY3Qua2V5cyhjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzKSk7XG4gICAgLy8gTG9vcCBldmVyeSBwcm92aWRlclxuICAgIGZvciAoY29uc3QgcHJvdmlkZXIgb2YgT2JqZWN0LmtleXMoY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFscykpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJyZU9yZGVyQ3JlZGVudGlhbE9iamVjdCBwcm92aWRlcjpcIiwgcHJvdmlkZXIpO1xuICAgICAgICBjb25zdCBjcmVkZW50aWFsS2V5cyA9IFtdO1xuICAgICAgICBjb25zb2xlLmxvZyhcImNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHM6XCIsIGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcImNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdOlwiLCBjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY3JlZGVudGlhbE9iamVjdC5jcmVkZW50aWFsc1twcm92aWRlcl0uY3JlZGVudGlhbHM6XCIsIGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLmNyZWRlbnRpYWxzKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJPYmplY3Qua2V5cyhjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5jcmVkZW50aWFscyk6XCIsIE9iamVjdC5rZXlzKGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLmNyZWRlbnRpYWxzKSk7XG4gICAgICAgIC8vIEdldCBhbGwgY3JlZGVudGlhbCBrZXlzXG4gICAgICAgIGZvciAoY29uc3QgY3JlZGVudGlhbEtleSBvZiBPYmplY3Qua2V5cyhjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5jcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY3JlZGVudGlhbEtleTpcIiwgY3JlZGVudGlhbEtleSk7XG4gICAgICAgICAgICBjcmVkZW50aWFsS2V5cy5wdXNoKGNyZWRlbnRpYWxLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiYmVmb3JlIHNvcnQgY3JlZGVudGlhbEtleXM6XCIsIGNyZWRlbnRpYWxLZXlzKTtcbiAgICAgICAgY3JlZGVudGlhbEtleXMuc29ydCgpO1xuICAgICAgICBjb25zb2xlLmxvZyhcImFmdGVyIHNvcnQgY3JlZGVudGlhbEtleXM6XCIsIGNyZWRlbnRpYWxLZXlzKTtcbiAgICAgICAgY29uc3QgcmVPcmRlcmVkQ3JlZGVudGlhbHMgPSB7fTtcbiAgICAgICAgLy8gTG9vcCB0aGUgY3JlZGVudGlhbCBrZXlzIG9uZSBieSBvbmUgYW5kIHJlIG9yZGVyIHRoZSBjcmVkZW50aWFscyBzbyBpdHMgYWxwaGFiZXRpY2FsXG4gICAgICAgIGZvciAoY29uc3QgY3JlZGVudGlhbEtleSBvZiBjcmVkZW50aWFsS2V5cykge1xuICAgICAgICAgICAgY29uc3QgcmVPcmRlcmVkQ3JlZGVudGlhbCA9IHJlT3JkZXJDcmVkZW50aWFsKGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLmNyZWRlbnRpYWxzW2NyZWRlbnRpYWxLZXldKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVPcmRlcmVkQ3JlZGVudGlhbDpcIiwgcmVPcmRlcmVkQ3JlZGVudGlhbCk7XG4gICAgICAgICAgICByZU9yZGVyZWRDcmVkZW50aWFsc1tjcmVkZW50aWFsS2V5XSA9IHJlT3JkZXJlZENyZWRlbnRpYWw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJyZU9yZGVyZWRDcmVkZW50aWFsczpcIiwgcmVPcmRlcmVkQ3JlZGVudGlhbHMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcInJlT3JkZXJDcmVkZW50aWFsT2JqZWN0IGNyZWRlbnRpYWxbcHJvdmlkZXJdLnByb29mOlwiLCBjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5wcm9vZik7XG4gICAgICAgIGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLnByb29mID0gcmVPcmRlckNyZWRlbnRpYWxQcm9vZihjcmVkZW50aWFsT2JqZWN0LmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5wcm9vZik7XG4gICAgICAgIGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdID0ge1xuICAgICAgICAgICAgY3JlZGVudGlhbHM6IHJlT3JkZXJlZENyZWRlbnRpYWxzLFxuICAgICAgICAgICAgcHJvb2Y6IGNyZWRlbnRpYWxPYmplY3QuY3JlZGVudGlhbHNbcHJvdmlkZXJdLnByb29mXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNyZWRlbnRpYWxPYmplY3Q7XG59XG5cbmZ1bmN0aW9uIHJlT3JkZXJDcmVkZW50aWFsKGNyZWRlbnRpYWw6IElDcmVkZW50aWFsKTogSUNyZWRlbnRpYWwge1xuICAgIHJldHVybiBzb3J0T2JqZWN0QWxwaGFiZXRpY2FsbHkoY3JlZGVudGlhbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3J0T2JqZWN0QWxwaGFiZXRpY2FsbHkob2JqZWN0OiBhbnkpOiBhbnkge1xuICAgIGNvbnN0IHNvcnRlZE9iaiA9IHt9O1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gICAga2V5cy5zb3J0KChrZXkxLCBrZXkyKSA9PiB7XG4gICAgICAgIGtleTEgPSBrZXkxLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGtleTIgPSBrZXkyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChrZXkxIDwga2V5Mikge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXkxID4ga2V5Mikge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgaXQncyB0aGUgc2FtZVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9KTtcblxuICAgIGZvciAoY29uc3QgaW5kZXggaW4ga2V5cykge1xuICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2luZGV4XTtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBuZXN0ZWQgb2JqZWN0cywgd2UgbmVlZCB0byBkaWcgZGVlcGVyXG4gICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0W2tleV0gPT0gXCJvYmplY3RcIiAmJiAhKG9iamVjdFtrZXldIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgICAgICBzb3J0ZWRPYmpba2V5XSA9IHNvcnRPYmplY3RBbHBoYWJldGljYWxseShvYmplY3Rba2V5XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzb3J0ZWRPYmpba2V5XSA9IG9iamVjdFtrZXldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNvcnRlZE9iajtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlT3JkZXJDcmVkZW50aWFsUHJvb2YocHJvb2Y6IElQcm9vZik6IElQcm9vZiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaG9sZGVyOiBwcm9vZi5ob2xkZXIsXG4gICAgICAgIG5vbmNlOiBwcm9vZi5ub25jZSxcbiAgICAgICAgc2lnbmF0dXJlOiBwcm9vZi5zaWduYXR1cmUsXG4gICAgICAgIHR5cGU6IHByb29mLnR5cGVcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2lnbkNyZWRlbnRpYWwoY3JlZGVudGlhbDogSUNyZWRlbnRpYWwsIHByaXZhdGVLZXk6IHN0cmluZykge1xuICAgIC8vIElmIHRoZSBvYmplY3QgaXMgc3RyaW5naWZpZWRcbiAgICBpZiAodHlwZW9mIGNyZWRlbnRpYWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY3JlZGVudGlhbCA9IEpTT04ucGFyc2UoY3JlZGVudGlhbCk7XG4gICAgfVxuICAgIGNyZWRlbnRpYWwgPSByZU9yZGVyQ3JlZGVudGlhbChjcmVkZW50aWFsKTtcbiAgICBjb25zdCB3ZWIzID0gbmV3IFdlYjMoKTtcbiAgICByZXR1cm4gd2ViMy5ldGguYWNjb3VudHMuc2lnbihKU09OLnN0cmluZ2lmeShjcmVkZW50aWFsKSwgcHJpdmF0ZUtleSkuc2lnbmF0dXJlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduQ3JlZGVudGlhbE9iamVjdChjcmVkZW50aWFsT2JqZWN0OiBJQ3JlZGVudGlhbE9iamVjdCwgcHJpdmF0ZUtleTogc3RyaW5nKSB7XG4gICAgLy8gSWYgdGhlIG9iamVjdCBpcyBzdHJpbmdpZmllZFxuICAgIGlmICh0eXBlb2YgY3JlZGVudGlhbE9iamVjdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjcmVkZW50aWFsT2JqZWN0ID0gSlNPTi5wYXJzZShjcmVkZW50aWFsT2JqZWN0KTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJiZWZvcmUgc2lnbkNyZWRlbnRpYWxPYmplY3Q6XCIsIEpTT04uc3RyaW5naWZ5KGNyZWRlbnRpYWxPYmplY3QpKTtcbiAgICBjcmVkZW50aWFsT2JqZWN0ID0gcmVPcmRlckNyZWRlbnRpYWxPYmplY3QoY3JlZGVudGlhbE9iamVjdCk7XG4gICAgY29uc29sZS5sb2coXCJhZnRlciBzaWduQ3JlZGVudGlhbE9iamVjdDpcIiwgSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbE9iamVjdCkpO1xuICAgIGNvbnN0IHdlYjMgPSBuZXcgV2ViMygpO1xuICAgIGNvbnNvbGUubG9nKFwiU0lHTklORyBUSElTIE9CSkVDVDpcIiwgSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbE9iamVjdCkpO1xuICAgIHJldHVybiB3ZWIzLmV0aC5hY2NvdW50cy5zaWduKEpTT04uc3RyaW5naWZ5KGNyZWRlbnRpYWxPYmplY3QpLCBwcml2YXRlS2V5KS5zaWduYXR1cmVcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENsYWltcyhjbGFpbVR5cGU6IG51bWJlciB8IHN0cmluZywgY29udHJhY3RBZGRyZXNzOiBzdHJpbmcsIHdlYjM6IFdlYjMpOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IGNvbnRyYWN0ID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KGNsYWltSG9sZGVyQWJpLCBjb250cmFjdEFkZHJlc3MpO1xuICAgIGNvbnN0IGNsYWltSWRzID0gYXdhaXQgY29udHJhY3QubWV0aG9kcy5nZXRDbGFpbUlkc0J5VHlwZShjbGFpbVR5cGUpLmNhbGwoKTtcbiAgICBpZiAoY2xhaW1JZHMubGVuZ3RoID4gMCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gR2V0IGFsbCByYXcgY2xhaW1zXG4gICAgICAgICAgICBjb25zdCByYXdDbGFpbXMgPSBhd2FpdCBjb250cmFjdC5tZXRob2RzLmdldENsYWltKGNsYWltSWRzW2NsYWltSWRzLmxlbmd0aCAtIDFdKS5jYWxsKCk7XG4gICAgICAgICAgICAvLyBQYXJzZSB0aGUgZGF0YVxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQ2xhaW1zID0gSlNPTi5wYXJzZSh3ZWIzLnV0aWxzLnRvQXNjaWkocmF3Q2xhaW1zLmRhdGEpKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocGFyc2VkQ2xhaW1zKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25Qcm9vZk9iamVjdChwcm9vZk9iamVjdDogSVByb29mT2JqZWN0LCBwcml2YXRlS2V5OiBzdHJpbmcpIHtcbiAgICAvLyBJZiB0aGUgb2JqZWN0IGlzIHN0cmluZ2lmaWVkXG4gICAgaWYgKHR5cGVvZiBwcm9vZk9iamVjdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBwcm9vZk9iamVjdCA9IEpTT04ucGFyc2UocHJvb2ZPYmplY3QpO1xuICAgIH1cbiAgICBwcm9vZk9iamVjdCA9IHJlT3JkZXJQcm9vZk9iamVjdChwcm9vZk9iamVjdCk7XG4gICAgY29uc3Qgd2ViMyA9IG5ldyBXZWIzKCk7XG4gICAgcmV0dXJuIHdlYjMuZXRoLmFjY291bnRzLnNpZ24oSlNPTi5zdHJpbmdpZnkocHJvb2ZPYmplY3QpLCBwcml2YXRlS2V5KS5zaWduYXR1cmVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlT3JkZXJQcm9vZk9iamVjdChwcm9vZk9iamVjdDogSVByb29mT2JqZWN0KTogSVByb29mT2JqZWN0IHtcbiAgICByZXR1cm4gc29ydE9iamVjdEFscGhhYmV0aWNhbGx5KHByb29mT2JqZWN0KTtcbn1cblxuZnVuY3Rpb24gcmVxdWVzdGVkQ3JlZGVudGlhbHNDb3JyZWN0KGNyZWRlbnRpYWxzOiBJQ3JlZGVudGlhbE9iamVjdCwgcmVxdWVzdGVkQ3JlZGVudGlhbHM6IElSZXF1ZXN0ZWRDcmVkZW50aWFscyk6IElSZXF1ZXN0ZWRDcmVkZW50aWFsc0NoZWNrUmVzdWx0IHtcbiAgICBjb25zdCBjaGVja1Jlc3VsdDogSVJlcXVlc3RlZENyZWRlbnRpYWxzQ2hlY2tSZXN1bHQgPSB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIG1pc3NpbmdLZXlzOiBbXVxuICAgIH1cbiAgICAvLyBMb29wIGFsbCByZXF1ZXN0ZWQgY3JlZGVudGlhbHNcbiAgICBmb3IgKGNvbnN0IHJlcXVlc3RlZENyZWRlbnRpYWwgb2YgcmVxdWVzdGVkQ3JlZGVudGlhbHMuY3JlZGVudGlhbHMpIHtcbiAgICAgICAgbGV0IGlzSW5zaWRlTWluaW11bVJlcXVpcmVkID0gZmFsc2U7XG4gICAgICAgIGlmIChyZXF1ZXN0ZWRDcmVkZW50aWFscy5taW5pbXVtUmVxdWlyZWQpIHtcbiAgICAgICAgICAgIGlzSW5zaWRlTWluaW11bVJlcXVpcmVkID0gISFyZXF1ZXN0ZWRDcmVkZW50aWFscy5taW5pbXVtUmVxdWlyZWQuZGF0YS5maW5kKHggPT4geCA9PT0gcmVxdWVzdGVkQ3JlZGVudGlhbC5rZXkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIG9ubHkgcmVxdWlyZWQga2V5c1xuICAgICAgICBpZiAocmVxdWVzdGVkQ3JlZGVudGlhbC5yZXF1aXJlZCAmJiAhaXNJbnNpZGVNaW5pbXVtUmVxdWlyZWQpIHtcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZXF1ZXN0ZWRDcmVkZW50aWFsLnByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgIHJlcXVlc3RlZENyZWRlbnRpYWwucHJvdmlkZXIgPSBbcmVxdWVzdGVkQ3JlZGVudGlhbC5wcm92aWRlcl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvdmlkZXIgb2YgcmVxdWVzdGVkQ3JlZGVudGlhbC5wcm92aWRlcikge1xuICAgICAgICAgICAgICAgIGlmIChjcmVkZW50aWFscy5jcmVkZW50aWFsc1twcm92aWRlcl0gJiZcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHMuY3JlZGVudGlhbHNbcHJvdmlkZXJdLmNyZWRlbnRpYWxzICYmXG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzLmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5jcmVkZW50aWFsc1tyZXF1ZXN0ZWRDcmVkZW50aWFsLmtleV1cbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWxsIGdvb2QsIGZvdW5kIVxuICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgIGNoZWNrUmVzdWx0LnN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjaGVja1Jlc3VsdC5taXNzaW5nS2V5cy5wdXNoKHJlcXVlc3RlZENyZWRlbnRpYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIHRoZSBtaW5pbXVtIHJlcXVpcmVkIGFtb3VudCBoYXMgYmVlbiByZWFjaGVkXG4gICAgaWYgKHJlcXVlc3RlZENyZWRlbnRpYWxzLm1pbmltdW1SZXF1aXJlZCkge1xuICAgICAgICBjb25zdCBwcm92aWRlcnMgPSBPYmplY3Qua2V5cyhjcmVkZW50aWFscy5jcmVkZW50aWFscyk7XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWxLZXlzID0gcmVxdWVzdGVkQ3JlZGVudGlhbHMubWluaW11bVJlcXVpcmVkLmRhdGE7XG4gICAgICAgIGxldCBmb3VuZENyZWRlbnRpYWxzID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBwcm92aWRlciBvZiBwcm92aWRlcnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY3JlZGVudGlhbEtleSBvZiBjcmVkZW50aWFsS2V5cykge1xuICAgICAgICAgICAgICAgIGlmIChjcmVkZW50aWFscy5jcmVkZW50aWFsc1twcm92aWRlcl0gJiZcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHMuY3JlZGVudGlhbHNbcHJvdmlkZXJdLmNyZWRlbnRpYWxzICYmXG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzLmNyZWRlbnRpYWxzW3Byb3ZpZGVyXS5jcmVkZW50aWFsc1tjcmVkZW50aWFsS2V5XVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBbGwgZ29vZCwgZm91bmQhXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kQ3JlZGVudGlhbHMrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvdW5kQ3JlZGVudGlhbHMgPCByZXF1ZXN0ZWRDcmVkZW50aWFscy5taW5pbXVtUmVxdWlyZWQuYW1vdW50KSB7XG4gICAgICAgICAgICBjaGVja1Jlc3VsdC5zdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICBjaGVja1Jlc3VsdC5taXNzaW5nTWVzc2FnZSA9IGBDaGVjayB0aGUgbWluaW11bVJlcXVpcmVkIGFycmF5LiBGb3VuZCAke2ZvdW5kQ3JlZGVudGlhbHN9IGl0ZW1zIGFuZCByZXF1aXJlZCBhbW91bnQgJHtyZXF1ZXN0ZWRDcmVkZW50aWFscy5taW5pbXVtUmVxdWlyZWQuYW1vdW50fWBcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2hlY2tSZXN1bHQ7XG59IiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBJVmFsaWRhdGVkQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3ZhbGlkYXRlZENyZWRlbnRpYWxzLmludGVyZmFjZVwiO1xuaW1wb3J0IHsgSUNyZWRlbnRpYWxPYmplY3QgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NyZWRlbnRpYWxzT2JqZWN0LmludGVyZmFjZVwiO1xuaW1wb3J0IHsgc2lnbkNyZWRlbnRpYWwsIHNpZ25DcmVkZW50aWFsT2JqZWN0LCBzaWduUHJvb2ZPYmplY3QsIHZhbGlkQ3JlZGVudGlhbHNGdW5jLCB2YWxpZENyZWRlbnRpYWxzVHJ1c3RlZFBhcnRpZXNGdW5jIH0gZnJvbSBcIi4vZnVuY3Rpb25zL2Z1bmN0aW9uc1wiO1xuaW1wb3J0IHsgSUNyZWRlbnRpYWwgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NyZWRlbnRpYWwuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJUHJvb2ZPYmplY3QgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3Byb29mLW9iamVjdC5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IElSZXF1ZXN0ZWRDcmVkZW50aWFscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHMuaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdCB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdFwiO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgUHJvb2ZtZVV0aWxzUHJvdmlkZXIge1xuXG5cdGFzeW5jIHZhbGlkQ3JlZGVudGlhbHMoY3JlZGVudGlhbE9iamVjdDogSUNyZWRlbnRpYWxPYmplY3QsIHdlYjNVcmw6IHN0cmluZywgY2hlY2tVc2VyTm9uY2U6IGJvb2xlYW4pOiBQcm9taXNlPElWYWxpZGF0ZWRDcmVkZW50aWFscz4gIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkQ3JlZGVudGlhbHNGdW5jKGNyZWRlbnRpYWxPYmplY3QsIHdlYjNVcmwsIGNoZWNrVXNlck5vbmNlKTtcbiAgICB9XG5cblx0YXN5bmMgdmFsaWRDcmVkZW50aWFsc1RydXN0ZWRQYXJ0aWVzKGNyZWRlbnRpYWxPYmplY3Q6IElDcmVkZW50aWFsT2JqZWN0LCB3ZWIzVXJsOiBzdHJpbmcsIHJlcXVlc3RlZENyZWRlbnRpYWxzOiBJUmVxdWVzdGVkQ3JlZGVudGlhbHMsIHRydXN0ZWREaWRzOiBzdHJpbmdbXSwgY2hlY2tVc2VyTm9uY2U6IGJvb2xlYW4pOiBQcm9taXNlPElWYWxpZGF0ZWRDcmVkZW50aWFscyB8IElSZXF1ZXN0ZWRDcmVkZW50aWFsc0NoZWNrUmVzdWx0PiAge1xuICAgICAgICByZXR1cm4gdmFsaWRDcmVkZW50aWFsc1RydXN0ZWRQYXJ0aWVzRnVuYyhjcmVkZW50aWFsT2JqZWN0LCB3ZWIzVXJsLCByZXF1ZXN0ZWRDcmVkZW50aWFscywgdHJ1c3RlZERpZHMsIGNoZWNrVXNlck5vbmNlKTtcbiAgICB9XG5cbiAgICBzaWduQ3JlZGVudGlhbChjcmVkZW50aWFsOiBJQ3JlZGVudGlhbCwgcHJpdmF0ZUtleTogc3RyaW5nKTogc3RyaW5nICB7XG4gICAgICAgIHJldHVybiBzaWduQ3JlZGVudGlhbChjcmVkZW50aWFsLCBwcml2YXRlS2V5KTtcbiAgICB9XG5cbiAgICBzaWduQ3JlZGVudGlhbE9iamVjdChjcmVkZW50aWFsOiBJQ3JlZGVudGlhbE9iamVjdCwgcHJpdmF0ZUtleTogc3RyaW5nKTogc3RyaW5nICB7XG4gICAgICAgIHJldHVybiBzaWduQ3JlZGVudGlhbE9iamVjdChjcmVkZW50aWFsLCBwcml2YXRlS2V5KTtcbiAgICB9XG5cbiAgICBzaWduUHJvb2ZPYmplY3QocHJvb2ZPYmplY3Q6IElQcm9vZk9iamVjdCwgcHJpdmF0ZUtleTogc3RyaW5nKTogc3RyaW5nICB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUHJvb2ZtZVV0aWxzUHJvdmlkZXIgc2lnblByb29mT2JqZWN0XCIpO1xuICAgICAgICByZXR1cm4gc2lnblByb29mT2JqZWN0KHByb29mT2JqZWN0LCBwcml2YXRlS2V5KTtcbiAgICB9XG59IiwiaW1wb3J0ICogYXMgV2ViU29ja2V0IGZyb20gXCJ3c1wiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCAqIGFzIGNyeXB0byBmcm9tIFwiY3J5cHRvXCI7XG5pbXBvcnQgeyBJUlRDQ29ubmVjdGlvbkNvbmZpZyB9IGZyb20gXCIuL2ludGVyZmFjZXMvcnRjQ29ubmVjdGlvbkNvbmZpZy5pbnRlcmZhY2VcIjtcbmltcG9ydCAqIGFzIGh0dHAgZnJvbSBcImh0dHBcIjtcblxuZXhwb3J0IGNsYXNzIFNpZ25hbGluZ1NlcnZlciB7XG4gICAgd3NTZXJ2ZXI6IGFueTtcbiAgICBydGNDb25uZWN0aW9uQ29uZmlnOiBJUlRDQ29ubmVjdGlvbkNvbmZpZzsgXG5cbiAgICAvKipcbiAgICAgKiBXZWIgUlRDIGNvbm5lY3Rpb24gY29uZmlnXG4gICAgICogQHBhcmFtIHJ0Y0Nvbm5lY3Rpb25Db25maWcgXG4gICAgICovXG4gICAgc2V0UlRDQ29ubmVjdGlvbkNvbmZpZyhydGNDb25uZWN0aW9uQ29uZmlnOiBJUlRDQ29ubmVjdGlvbkNvbmZpZyk6IHZvaWQge1xuICAgICAgICB0aGlzLnJ0Y0Nvbm5lY3Rpb25Db25maWcgPSBydGNDb25uZWN0aW9uQ29uZmlnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBSVEMgcGVlcmNvbm5lY3Rpb25cbiAgICAgKi9cbiAgICBnZXRSVENDb25uZWN0aW9uQ29uZmlnKHR5cGU6IHN0cmluZyk6IFJUQ0NvbmZpZ3VyYXRpb24ge1xuICAgICAgICBjb25zb2xlLmxvZyhcImdldFJUQ0Nvbm5lY3Rpb25Db25maWcgdHVybkVuYWJsZWQ6XCIsIHRoaXMucnRjQ29ubmVjdGlvbkNvbmZpZy50dXJuRW5hYmxlZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZ2V0UlRDQ29ubmVjdGlvbkNvbmZpZyBzdHVuRW5hYmxlZDpcIiwgdGhpcy5ydGNDb25uZWN0aW9uQ29uZmlnLnN0dW5FbmFibGVkKTtcbiAgICAgICAgaWYgKHRoaXMucnRjQ29ubmVjdGlvbkNvbmZpZy50dXJuRW5hYmxlZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVU0UgVFVSTlwiKTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGlyYXRpb24gPSB0aGlzLnJ0Y0Nvbm5lY3Rpb25Db25maWcudHVybkV4cGlyYXRpb247XG4gICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IGAke3RpbWUgKyBleHBpcmF0aW9ufToke3R5cGV9YDtcbiAgICAgICAgICAgIGNvbnN0IGNyZWRlbnRpYWwgPSBjcnlwdG8uY3JlYXRlSG1hYyhcInNoYTFcIiwgdGhpcy5ydGNDb25uZWN0aW9uQ29uZmlnLnR1cm5TZWNyZXQpLnVwZGF0ZSh1c2VybmFtZS50b1N0cmluZygpKS5kaWdlc3QoXCJiYXNlNjRcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInVzZXJuYW1lOlwiLCB1c2VybmFtZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNyZWRlbnRpYWw6XCIsIGNyZWRlbnRpYWwpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpY2VDYW5kaWRhdGVQb29sU2l6ZTogNSxcbiAgICAgICAgICAgICAgICBpY2VTZXJ2ZXJzOiBbe1xuICAgICAgICAgICAgICAgICAgICB1cmxzOiBbdGhpcy5ydGNDb25uZWN0aW9uQ29uZmlnLnR1cm5VcmxdLFxuICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIH0gYXMgUlRDQ29uZmlndXJhdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJ0Y0Nvbm5lY3Rpb25Db25maWcuc3R1bkVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVVNFIFNUVU5cIik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGljZVNlcnZlcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHVybHM6IFt0aGlzLnJ0Y0Nvbm5lY3Rpb25Db25maWcuc3R1blVybF0sXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICB9IGFzIFJUQ0NvbmZpZ3VyYXRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2VydmVyIFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGFydFNpZ25hbChzZXJ2ZXI6IGh0dHAuU2VydmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgU2lnbmFsaW5nIHNlcnZlci5cIik7XG4gICAgICAgIHRoaXMud3NTZXJ2ZXIgPSBuZXcgV2ViU29ja2V0LlNlcnZlcih7IHNlcnZlciB9KTtcblxuICAgICAgICBjb25zdCBzZW5kVG8gPSAoZGF0YWNoYW5uZWw6IFJUQ0RhdGFDaGFubmVsLCBtZXNzYWdlOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGRhdGFjaGFubmVsLnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMud3NTZXJ2ZXIub24oXCJjb25uZWN0aW9uXCIsICh3czogYW55KSA9PiB7XG4gICAgICAgICAgICB3cy51dWlkID0gdXVpZHY0KCk7IC8vIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgY2xpZW50XG4gICAgICAgICAgICB3cy5kaWQgPSBudWxsOyAvLyBXaGVuIGF1dGhlbnRpY2F0ZWQ6IHB1YmxpY0tleSBvciBkaWRBZGRyZXNzXG4gICAgICAgICAgICB3cy5ob3N0ID0gZmFsc2U7IC8vIElzIGEgaG9zdCwgdHJ1ZSBvciBmYWxzZVxuICAgICAgICAgICAgd3MuYXV0aGVudGljYXRlZCA9IGZhbHNlOyAvLyB0cnVlIG9yIGZhbHNlXG4gICAgICAgICAgICB3cy5jb25uZWN0ZWQgPSBudWxsOyAvLyBudWxsIG9yIGNsaWVudC51dWlkIGNvbm5lY3RlZCB0b1xuXG4gICAgICAgICAgICB3cy5vbihcImVycm9yXCIsIChlcnI6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEVDT05OUkVTRVQgY2FuIGdldCB0aHJvd24gd2hlbiB0aGUgY2xpZW50IGRpc2Nvbm5lY3RzLiBUaGlzIGFwcGxpY2F0aW9uXG4gICAgICAgICAgICAgICAgLy8gd2lsbCBjcmFzaC4gSWdub3JlIHRoaXMgZXJyb3IuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgd3Mub24oXCJtZXNzYWdlXCIsIChtc2c6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBkYXRhOiBhbnk7XG5cbiAgICAgICAgICAgICAgICAvLyBhY2NlcHRpbmcgb25seSBKU09OIG1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UobXNnKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSW52YWxpZCBKU09OXCIpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdHlwZSwgdG9rZW4sIGhvc3QsIG9mZmVyLCBhbnN3ZXIsIGNhbmRpZGF0ZSB9ID0gZGF0YTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBhIHVzZXIgdHJpZXMgdG8gbG9naW5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImF1dGhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHVzZXJuYW1lIGlzIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImF1dGhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ291bGQgbm90IHZhbGlkYXRlIHRva2VuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cy5hdXRoZW50aWNhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJBVVRIXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXV0aGVudGljYXRpb24gc3VjY2Vzc2Z1bFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImhvc3RcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldHVwIGEgY2hhbm5lbCAoSG9zdClcbiAgICAgICAgICAgICAgICAgICAgICAgIHdzLmhvc3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJob3N0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkhvc3QgaW5pdGlhbGlzZWQgXCIgKyB3cy51dWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IHdzLnV1aWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZzogdGhpcy5nZXRSVENDb25uZWN0aW9uQ29uZmlnKFwiaG9zdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldHVwIGEgY2hhbm5lbCAoSG9zdClcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiSG9zdCByZWNlaXZlZCBwaW5nLCBzZW5kaW5nIHBvbmdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8od3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInBvbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbm5lY3RcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ubmVjdCB0byBhIGNoYW5uZWwgKEhvc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3N0cyA9IFsuLi50aGlzLndzU2VydmVyLmNsaWVudHNdLmZpbHRlcigoY2xpZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC51dWlkID09PSBob3N0ICYmIGNsaWVudC5jb25uZWN0ZWQgPT09IG51bGwgJiYgY2xpZW50Lmhvc3QgPT09IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvc3RzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8oaG9zdHNbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjb25uZWN0ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDbGllbnQgY29ubmVjdGVkIFwiICsgd3MudXVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogd3MudXVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZzogdGhpcy5nZXRSVENDb25uZWN0aW9uQ29uZmlnKFwiaG9zdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xpZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY29ubmVjdGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ29ubmVjdGVkIHRvIFwiICsgaG9zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZzogdGhpcy5nZXRSVENDb25uZWN0aW9uQ29uZmlnKFwiY2xpZW50XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMaW5rIHRoZW0gdG9nZXRoZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cy5jb25uZWN0ZWQgPSBob3N0c1swXS51dWlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RzWzBdLmNvbm5lY3RlZCA9IHdzLnV1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNvbm5lY3RlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb3VsZCBub3QgY29ubmVjdCB0byBcIiArIGhvc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib2ZmZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIENsaWVudCBleGlzdHMgdGhlbiBzZW5kIGhpbSBvZmZlciBkZXRhaWxzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod3MuY29ubmVjdGVkICE9IG51bGwgJiYgdGhpcy53c1NlcnZlci5jbGllbnRzLnNpemUgPiAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3N0c09mZmVyID0gWy4uLnRoaXMud3NTZXJ2ZXIuY2xpZW50c10uZmlsdGVyKChjbGllbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5jb25uZWN0ZWQgPT09IHdzLnV1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9zdHNPZmZlci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKGhvc3RzT2ZmZXJbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib2ZmZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9mZmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2ZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9mZmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb25uZWN0aW9uIG5vdCBmb3VuZC5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9mZmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUb28gc29vbi4uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFuc3dlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgQ2xpZW50IHJlc3BvbnNlIHRvIGFuIG9mZmVyIHdpdGggYW4gYW5zd2VyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod3MuY29ubmVjdGVkICE9IG51bGwpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvc3RzT2ZmZXIgPSBbLi4udGhpcy53c1NlcnZlci5jbGllbnRzXS5maWx0ZXIoKGNsaWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LmNvbm5lY3RlZCA9PT0gd3MudXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob3N0c09mZmVyLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8oaG9zdHNPZmZlclswXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhbnN3ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhbnN3ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFuc3dlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNvbm5lY3Rpb24gbm90IGZvdW5kLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYW5zd2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVG9vIHNvb24uLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjYW5kaWRhdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIENsaWVudCByZXNwb25zZSB0byBhbiBvZmZlciB3aXRoIGFuIGFuc3dlclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdzLmNvbm5lY3RlZCAhPSBudWxsKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3N0c09mZmVyID0gWy4uLnRoaXMud3NTZXJ2ZXIuY2xpZW50c10uZmlsdGVyKChjbGllbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5jb25uZWN0ZWQgPT09IHdzLnV1aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9zdHNPZmZlci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKGhvc3RzT2ZmZXJbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2FuZGlkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjYW5kaWRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb25uZWN0aW9uIG5vdCBmb3VuZC5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNhbmRpZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRvbyBzb29uLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibGVhdmVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3cy5jb25uZWN0ZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudHMgPSBbLi4udGhpcy53c1NlcnZlci5jbGllbnRzXS5maWx0ZXIoKGNsaWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LmNvbm5lY3RlZCA9PT0gd3MudXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdzLnV1aWQgPSB1dWlkdjQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGllbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG8oY2xpZW50c1swXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJsZWF2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ29ubmVjdGlvbiBsZWZ0IG9uIHJlY2VpdmUgbGVhdmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRzWzBdLmNvbm5lY3RlZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImxlYXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb25uZWN0aW9uIGxlZnQuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiB3cy51dWlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJsZWF2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNvbm5lY3Rpb24gbm90IGZvdW5kLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogd3MudXVpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3MuY29ubmVjdGVkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3MudXVpZCA9IHV1aWR2NCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyh3cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImxlYXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5vdCBjb25uZWN0ZWQgdG8gaG9zdC9jbGllbnQuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IHdzLnV1aWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvKHdzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ29tbWFuZCBub3QgZm91bmQ6IFwiICsgdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgd3Mub24oXCJjbG9zZVwiLCAod3NBcmc6IGFueSwgcmVxdWVzdDogYW55LCBjbGllbnQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh3c0FyZy5jb25uZWN0ZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRzID0gWy4uLnRoaXMud3NTZXJ2ZXIuY2xpZW50c10uZmlsdGVyKChjbGllbnRBcmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGllbnRBcmcuY29ubmVjdGVkID09PSB3c0FyZy51dWlkO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xpZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUbyhjbGllbnRzWzBdLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJsZWF2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb25uZWN0aW9uIGxlZnQgb24gd2Vic29ja2V0IGNsb3NlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50c1swXS5jb25uZWN0ZWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdzQXJnLmNvbm5lY3RlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBzZW5kIGltbWVkaWF0ZWx5IGEgZmVlZGJhY2sgdG8gdGhlIGluY29taW5nIGNvbm5lY3Rpb25cbiAgICAgICAgICAgIHdzLnNlbmQoXG4gICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNvbm5lY3RcIixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJXZWxsIGhlbGxvIHRoZXJlLCBJIGFtIHRoZSBTaWduYWxpbmcgU2VydmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbm5lY3Rpb24gcmVjZWl2ZWQgZnJvbTpcIiwgd3MudXVpZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFiaUl0ZW0gfSBmcm9tIFwid2ViMy11dGlscy90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgY2xhaW1Ib2xkZXJBYmk6IEFiaUl0ZW1bXSA9IFtcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImdldEtleVB1cnBvc2VcIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicHVycG9zZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwidmlld1wiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IHRydWUsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2tleVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiZ2V0S2V5XCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInB1cnBvc2VcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImtleVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImtleVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwidmlld1wiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9wdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfdHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiYWRkS2V5XCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJvb2xcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9jbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImdldENsYWltSWRzQnlUeXBlXCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltSWRzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyW11cIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcInZpZXdcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwicmVtb3ZlQ2xhaW1cIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9vbFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9pZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2FwcHJvdmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJvb2xcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImFwcHJvdmVcIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9vbFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcInJlbW92ZUtleVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJib29sXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcGF5YWJsZTogZmFsc2UsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogXCJub25wYXlhYmxlXCIsXG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIlxuICAgIH0sXG4gICAge1xuICAgICAgICBjb25zdGFudDogdHJ1ZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfcHVycG9zZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiZ2V0S2V5c0J5UHVycG9zZVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfa2V5c1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMltdXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcGF5YWJsZTogZmFsc2UsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogXCJ2aWV3XCIsXG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIlxuICAgIH0sXG4gICAge1xuICAgICAgICBjb25zdGFudDogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2NsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX3NjaGVtZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX2lzc3VlclwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX3NpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9kYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX3VyaVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJhZGRDbGFpbVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbVJlcXVlc3RJZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwibm9ucGF5YWJsZVwiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgY29uc3RhbnQ6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl90b1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiX3ZhbHVlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJfZGF0YVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcImV4ZWN1dGVcIixcbiAgICAgICAgb3V0cHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcIm5vbnBheWFibGVcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9jbGFpbUlkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJnZXRDbGFpbVwiLFxuICAgICAgICBvdXRwdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBwYXlhYmxlOiBmYWxzZSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBcInZpZXdcIixcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9rZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIl9wdXJwb3NlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJrZXlIYXNQdXJwb3NlXCIsXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInJlc3VsdFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9vbFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IFwidmlld1wiLFxuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltUmVxdWVzdElkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltVHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2NoZW1lXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJDbGFpbVJlcXVlc3RlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImlzc3VlclwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2lnbmF0dXJlVHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2lnbmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInVyaVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJDbGFpbUFkZGVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1JZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGFpbVR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNjaGVtZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJpc3N1ZXJcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ1cmlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiQ2xhaW1BZGRlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzY2hlbWVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcIkNsYWltUmVtb3ZlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNsYWltSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xhaW1UeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzY2hlbWVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiaXNzdWVyXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzaWduYXR1cmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidXJpXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcIkNsYWltQ2hhbmdlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9LFxuICAgIHtcbiAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImV4ZWN1dGlvbklkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInRvXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInZhbHVlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJkYXRhXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlc1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiRXhlY3V0aW9uRmFpbGVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwia2V5XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJieXRlczMyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcInB1cnBvc2VcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwia2V5VHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG5hbWU6IFwiS2V5QWRkZWRcIixcbiAgICAgICAgdHlwZTogXCJldmVudFwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGFub255bW91czogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJrZXlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwicHVycG9zZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJrZXlUeXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJLZXlSZW1vdmVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidG9cIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFkZHJlc3NcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwidmFsdWVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImRhdGFcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJFeGVjdXRpb25SZXF1ZXN0ZWRcIixcbiAgICAgICAgdHlwZTogXCJldmVudFwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGFub255bW91czogZmFsc2UsXG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJleGVjdXRpb25JZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ0b1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkcmVzc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDI1NlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZGF0YVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBuYW1lOiBcIkV4ZWN1dGVkXCIsXG4gICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgIH0sXG4gICAge1xuICAgICAgICBhbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZXhlY3V0aW9uSWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQyNTZcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFwcHJvdmVkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJib29sXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbmFtZTogXCJBcHByb3ZlZFwiLFxuICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICB9XG5dO1xuIiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QgfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgSVdlYlJUQ0NvbmZpZyB9IGZyb20gXCIuL2ludGVyZmFjZXMvd2ViUnRjQ29uZmlnLmludGVyZmFjZVwiO1xuaW1wb3J0IHsgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uLCBSVENJY2VDYW5kaWRhdGUgfSBmcm9tIFwid3J0Y1wiO1xuaW1wb3J0IHsgdzNjd2Vic29ja2V0IH0gZnJvbSBcIndlYnNvY2tldFwiO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgV2ViUnRjUHJvdmlkZXIge1xuICAgIHdlYlJ0Y0NvbmZpZzogSVdlYlJUQ0NvbmZpZztcbiAgICBob3N0VXVpZDogc3RyaW5nOyAvLyBUaGUgaG9zdCBVVUlEIHRvIGNvbm5lY3QgdG8gZnJvbSB0aGUgY2xpZW50XG4gICAgcGVlckNvbm5lY3Rpb246IFJUQ1BlZXJDb25uZWN0aW9uID0gbnVsbDsgLy8gVGhlIHBlZXIgY29ubmVjdGlvbiBiZXR3ZWVuIGNsaWVudCBhbmQgaG9zdFxuICAgIGRhdGFDaGFubmVsOiBSVENEYXRhQ2hhbm5lbCA9IG51bGw7IC8vIFRoZSBkYXRhIGNoYW5uZWwgYmV0d2VlbiBjbGllbnQgYW5kIGhvc3RcbiAgICB3c0NsaWVudDogdzNjd2Vic29ja2V0ID0gbnVsbDsgLy8gVGhlIHdlYnNvY2tldCBjb25uZWN0aW9uIGJldHdlZW4gY2xpZW50IGFuZCBzaWduYWxpbmcgc2VydmVyIG9yIGhvc3QgYW5kIHNpZ25hbGluZyBzZXJ2ZXJcbiAgICByZWNlaXZlZEFjdGlvbnMkID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTsgLy8gV2hlbmV2ZXIgYW4gYWN0aW9uIGlzIHJlY2VpdmVkLCB0aGlzIG9ic2VydmFibGUgd2lsbCBlbWl0IGFuIGV2ZW50XG4gICAgdXVpZCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KG51bGwpOyAvLyBXaGVuZXZlciB0aGUgVVVJRCBpcyBzZXQsIGl0IHdpbGwgZW1pdCBhbiBldmVudCAoc28gdGhhdCB0aGUgaG9zdCBjYW4gc2V0IGl0IHNvbWV3aGVyZSBpbiBsaWtlIGEgUVIpXG4gICAgd2Vic29ja2V0Q29ubmVjdGlvbkNsb3NlZCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KG51bGwpOyAvLyBXaGVuZXZlciB0aGVyZSBpcyBhbiBldmVudCBvbiB0aGUgd2Vic29ja2V0LCB0aGlzIG9ic2VydmFibGUgd2lsbCBlbWl0XG4gICAgd2Vic29ja2V0Q29ubmVjdGlvbk9wZW4kID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTsgLy8gV2hlbmV2ZXIgdGhlcmUgaXMgYW4gZXZlbnQgb24gdGhlIHdlYnNvY2tldCwgdGhpcyBvYnNlcnZhYmxlIHdpbGwgZW1pdFxuICAgIHdlYnNvY2tldENvbm5lY3Rpb25FcnJvciQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KG51bGwpOyAvLyBXaGVuZXZlciB0aGVyZSBpcyBhbiBlcnJvciBldmVudCBvbiB0aGUgd2Vic29ja2V0LCB0aGlzIG9ic2VydmFibGUgd2lsbCBlbWl0XG4gICAgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZzogUlRDQ29uZmlndXJhdGlvbjtcbiAgICBjb25uZWN0aW9uVGltZW91dDogTm9kZUpTLlRpbWVvdXQgPSBudWxsO1xuICAgIHBvbmdDaGVja0ludGVydmFsOiBOb2RlSlMuVGltZW91dCA9IG51bGw7XG4gICAgcGluZ1RpbWVvdXQ6IE5vZGVKUy5UaW1lb3V0ID0gbnVsbDtcbiAgICBXRUJTT0NLRVRfUElOR19BTlNXRVJfREVMQVkgPSAxMDAwO1xuICAgIC8vIFRoZSBhbGxvd2VkIHRpbWUgYmVmb3JlIGEgcGluZyBwb25nIGlzIG1pc3NpbmcgYW5kIHRodXMgZGlzY29ubmVjdGluZyB0aGUgY29ubmVjdGlvblxuICAgIFdFQlNPQ0tFVF9QSU5HX1BPTkdfQUxMT1dFRF9USU1FID0gMzAwMDtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFdlYlJUQyBjb25maWd1cmF0aW9uXG4gICAgICovXG4gICAgZ2V0Q29uZmlnKCk6IElXZWJSVENDb25maWcge1xuICAgICAgICByZXR1cm4gdGhpcy53ZWJSdGNDb25maWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGNsaWVudCBuZWVkcyB0byBzZXQgdGhlIGhvc3QgVVVJRCB0byBjb25uZWN0IHRvIGJlZm9yZSBzZXR0aW5nIHVwIHRoZSB3ZWJzb2NrZXQgY29ubmVjdGlvblxuICAgICAqIEBwYXJhbSBob3N0VXVpZCBUaGUgVVVJRCBvZiB0aGUgaG9zdFxuICAgICAqL1xuICAgIHNldEhvc3RVdWlkKGhvc3RVdWlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ob3N0VXVpZCA9IGhvc3RVdWlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBvdmVyIHRoZSBkYXRhIGNoYW5uZWxcbiAgICAgKiBAcGFyYW0gYWN0aW9uIEFzIGEgc3RyaW5nLCB3aGljaCBhY3Rpb24gdHlwZSBkbyB5b3Ugd2FudCB0byBzZW5kP1xuICAgICAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIHNlbmQgYXMgYW4gb2JqZWN0XG4gICAgICovXG4gICAgc2VuZERhdGEoYWN0aW9uOiBzdHJpbmcsIGRhdGE6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5kYXRhQ2hhbm5lbCAmJiB0aGlzLmRhdGFDaGFubmVsLnJlYWR5U3RhdGUgPT09IFwib3BlblwiKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFDaGFubmVsLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyBhY3Rpb24sIC4uLmRhdGEgfSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYEF0dGVtcHRlZCB0byBzZW5kIGRhdGEgd2l0aCBhY3Rpb24gJHthY3Rpb259IGJ1dCBkYXRhIGNoYW5uZWwgaXMgbm90IG9wZW5gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW5ldmVyIHRoZSBVVUlEIGlzIHNldCBmcm9tIHRoZSBob3N0IHRoaXMgb2JzZXJ2YWJsZSBlbWl0c1xuICAgICAqIEBwYXJhbSB1dWlkIFRoZSBVVUlEIHRvIGFsbG93IGNsaWVudHMgY29ubmVjIHRvXG4gICAgICovXG4gICAgc2V0VXVpZCh1dWlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy51dWlkJC5uZXh0KHV1aWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9ubHkgZGlzY29ubmVjdCBvbiB0aGlzIGFwcGxpY2F0aW9uIGFuZCBzZW5kIG5vIGRpc2Nvbm5lY3Qgb3ZlciB0aGUgZGF0YSBjaGFubmVsXG4gICAgICovXG4gICAgZGlzY29ubmVjdCgpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJEaXNjb25uZWN0XCIpO1xuICAgICAgICBpZiAodGhpcy5wZWVyQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJQZWVyY29ubmVjdGlvbiBjbG9zZWRcIik7XG4gICAgICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGF0YUNoYW5uZWwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZGF0YUNoYW5uZWwgY2xvc2VkXCIpO1xuICAgICAgICAgICAgdGhpcy5kYXRhQ2hhbm5lbC5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLndzQ2xpZW50KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIldlYnNvY2tldCBjbG9zZWRcIik7XG4gICAgICAgICAgICB0aGlzLndzQ2xpZW50LmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLndzQ2xpZW50Lm9uY2xvc2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICB0aGlzLmRhdGFDaGFubmVsID0gbnVsbDtcbiAgICAgICAgdGhpcy53c0NsaWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbkNsb3NlZCQubmV4dCh0cnVlKTtcbiAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uT3BlbiQubmV4dChmYWxzZSk7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0IG9uIHRoaXMgYXBwbGljYXRpb24gYW5kIHNlbmQgYSBkaXNjb25uZWN0IGV2ZW50IG92ZXIgdGhlIGRhdGFjaGFubmVsXG4gICAgICovXG4gICAgcmVtb3RlRGlzY29ubmVjdCgpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJkYXRhY2hhbm5lbDpcIiwgdGhpcy5kYXRhQ2hhbm5lbCk7XG4gICAgICAgIGlmICh0aGlzLmRhdGFDaGFubmVsICYmIHRoaXMuZGF0YUNoYW5uZWwucmVhZHlTdGF0ZSA9PT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGF0YSBjaGFubmVsIHNlbmRpbmcgZGlzY29ubmVjdFwiKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5uZWwuc2VuZChKU09OLnN0cmluZ2lmeSh7IGFjdGlvbjogXCJkaXNjb25uZWN0XCIgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiV2FpdGluZyAxIHNlY29uZCBmb3IgY2xpZW50IGRpc2Nvbm5lY3RcIik7XG4gICAgICAgIC8vIFRPRE86IElzIG9uZSBzZWNvbmQgZW5vdWdoP1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xpZW50IGRpc2Nvbm5lY3RcIik7XG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfSwgMTAwMClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaG9zdCB3aWxsIHNlbmQgYW4gb2ZmZXIgd2hlbiBhIGNsaWVudCBjb25uZWN0cyB0byBoaXMgVVVJRFxuICAgICAqIEBwYXJhbSBwZWVyQ29ubmVjdGlvbiBUaGUgcGVlciBjb25uZWN0aW9uIHRvIHNldCB0aGUgbG9jYWwgZGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0gd3NDbGllbnQgVGhlIHdlYnNvY2tldCB0byBzZW5kIHRoZSBvZmZlciB0b1xuICAgICAqL1xuICAgIGFzeW5jIHNlbmRPZmZlcihwZWVyQ29ubmVjdGlvbjogUlRDUGVlckNvbm5lY3Rpb24sIHdzQ2xpZW50OiB3M2N3ZWJzb2NrZXQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgb2ZmZXIgPSBhd2FpdCBwZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpO1xuICAgICAgICBhd2FpdCBwZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG9mZmVyKTtcbiAgICAgICAgd3NDbGllbnQuc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICB0eXBlOiBcIm9mZmVyXCIsXG4gICAgICAgICAgICBvZmZlclxuICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBsYXVuY2ggdGhlIHdlYnNvY2tldCBhbmQgbGlzdGVuIHRvIGV2ZW50c1xuICAgICAqL1xuICAgIGFzeW5jIGxhdW5jaFdlYnNvY2tldENsaWVudCh3ZWJSdGNDb25maWc6IElXZWJSVENDb25maWcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy53ZWJSdGNDb25maWcgPSB3ZWJSdGNDb25maWc7XG5cbiAgICAgICAgbGV0IGNvbm5lY3Rpb25TdWNjZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZWNlaXZlZEFjdGlvbnMkID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvblRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25UaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnV1aWQkID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTtcbiAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uQ2xvc2VkJCA9IG5ldyBCZWhhdmlvclN1YmplY3QobnVsbCk7XG4gICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbk9wZW4kID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTtcbiAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uRXJyb3IkID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTtcblxuICAgICAgICBsZXQgc2lnbmFsaW5nVXJsID0gdGhpcy53ZWJSdGNDb25maWcuc2lnbmFsaW5nVXJsO1xuICAgICAgICBpZiAoIXNpZ25hbGluZ1VybCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzaWduYWxpbmdVcmwgdW5kZWZpbmVkLCBmYWxsaW5nIGJhY2sgdG8gZGVmYXVsdFwiKTtcbiAgICAgICAgICAgIHNpZ25hbGluZ1VybCA9IFwid3NzOi8vYXV0aC5wcm9vZm1lLmlkXCI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJDb25uZWN0aW5nIHRvIHNpZ25hbGluZyBzZXJ2ZXI6XCIsIHNpZ25hbGluZ1VybCk7XG4gICAgICAgIHRoaXMud3NDbGllbnQgPSBuZXcgdzNjd2Vic29ja2V0KHNpZ25hbGluZ1VybCk7XG4gICAgICAgIC8vIFNvIGlmIHRoZXJlIGlzIG5vdCBhIHN1Y2Nlc3MgY29ubmVjdGlvbiBhZnRlciAxMCBzZWNvbmRzLCBjbG9zZSB0aGUgc29ja2V0IGFuZCBzZW5kIGFuIGVycm9yXG4gICAgICAgIHRoaXMuY29ubmVjdGlvblRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uU3VjY2VzcyAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbkVycm9yJC5uZXh0KHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwMDApO1xuICAgICAgICB0aGlzLndzQ2xpZW50Lm9uZXJyb3IgPSAoZXJyb3IgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXZWJzb2NrZXQgZXJyb3I6IFwiICsgZXJyb3IudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBjb25uZWN0aW9uU3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uQ2xvc2VkJC5uZXh0KHRydWUpO1xuICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uT3BlbiQubmV4dChmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLndlYnNvY2tldENvbm5lY3Rpb25FcnJvciQubmV4dCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud3NDbGllbnQub25jbG9zZSA9ICgoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIldlYnNvY2tldCBjb25uZWN0aW9uIGNsb3NlZFwiKTtcbiAgICAgICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbkNsb3NlZCQubmV4dCh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbk9wZW4kLm5leHQoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53c0NsaWVudC5vbm9wZW4gPSAoKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXZWJzb2NrZXQgY29ubmVjdGlvbiBvcGVuXCIpO1xuICAgICAgICAgICAgY29ubmVjdGlvblN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0aW9uQ2xvc2VkJC5uZXh0KGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMud2Vic29ja2V0Q29ubmVjdGlvbk9wZW4kLm5leHQodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndzQ2xpZW50Lm9ubWVzc2FnZSA9IChhc3luYyBtc2cgPT4ge1xuICAgICAgICAgICAgaWYgKG1zZy5kYXRhKSB7XG5cbiAgICAgICAgICAgICAgICBsZXQgZGF0YTogYW55O1xuICAgICAgICAgICAgICAgIC8vIGFjY2VwdGluZyBvbmx5IEpTT04gbWVzc2FnZXNcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShtc2cuZGF0YSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJXZWJzb2NrZXQgb25tZXNzYWdlIEVSUk9SOiBJbnZhbGlkIEpTT05cIik7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0eXBlLCBtZXNzYWdlLCBzdWNjZXNzLCB1dWlkLCBvZmZlciwgYW5zd2VyLCBjYW5kaWRhdGUsIHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWcgfSA9IGRhdGE7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbiBhbiBlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJXZWJzb2NrZXQgb25tZXNzYWdlIGVycm9yOiBcIiwgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZSA9PSBcIkNvbW1hbmQgbm90IGZvdW5kOiBwaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wb25nQ2hlY2tJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb25nQ2hlY2tJbnRlcnZhbCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgUGluZyBwb25nIHRvb2sgbW9yZSB0aGFuICR7dGhpcy5XRUJTT0NLRVRfUElOR19QT05HX0FMTE9XRURfVElNRX1tcy4gRGlzY29ubmVjdGluZ2ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLldFQlNPQ0tFVF9QSU5HX1BPTkdfQUxMT1dFRF9USU1FKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRQaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbm5lY3RcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV2Vic29ja2V0IGNvbm5lY3Qgc3VjY2VzczpcIiwgc3VjY2Vzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIGNvbm5lY3RlZCB0byB0aGUgU2lnbmFsaW5nIHNlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2ViUnRjQ29uZmlnLmlzSG9zdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIldlYnNvY2tldCBjb25uZWN0IGlzIGhvc3RcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heFRyaWVzID0gNTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHJpZXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy53c0NsaWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud3NDbGllbnQgJiYgdGhpcy53c0NsaWVudC5yZWFkeVN0YXRlID09PSAxICYmIHRyaWVzIDwgbWF4VHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgYXBwbGljYXRpb24gaXMgdGhlIGhvc3QsIHNlbmQgYSBob3N0IHJlcXVlc3QgdG8gcmVjZWl2ZSBhIFVVSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzQ2xpZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcImhvc3RcIiB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZXMgPj0gbWF4VHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWVzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV2Vic29ja2V0IGNvbm5lY3QgaXMgbm90IGhvc3RcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heFRyaWVzID0gNTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHJpZXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy53c0NsaWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud3NDbGllbnQgJiYgdGhpcy53c0NsaWVudC5yZWFkeVN0YXRlID09PSAxICYmIHRyaWVzIDwgbWF4VHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYXBwbGljYXRpb24gaXMgbm90IHRoZSBob3N0LCBzZW5kIGEgY29ubmVjdCByZXF1ZXN0IHdpdGggdGhlIGhvc3QgVVVJRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6IFwiY29ubmVjdFwiLCBob3N0OiB0aGlzLmhvc3RVdWlkIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmllcyA+PSBtYXhUcmllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZXMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIldlYnNvY2tldCBvbm1lc3NhZ2UgY29ubmVjdCBmYWlsdXJlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb25uZWN0ZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29ubmVjdGVkIHdpdGggd2ViUnRjQ29ubmVjdGlvbkNvbmZpZzpcIiwgd2ViUnRjQ29ubmVjdGlvbkNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBzdWNjZXNzZnVsbHkgY29ubmVjdGVkIHNvIG5vIG5lZWQgdG8gY2hlY2sgb24gdGhlIHBpbmcgcG9uZyBhbnltb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wb25nQ2hlY2tJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2ViUnRjQ29ubmVjdGlvbkNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2ViUnRjQ29ubmVjdGlvbkNvbmZpZyA9IHdlYlJ0Y0Nvbm5lY3Rpb25Db25maWc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLndlYlJ0Y0NvbmZpZy5pc0hvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXR1cFBlZXJjb25uZWN0aW9uKHRoaXMuaG9zdFV1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGhvc3QgcmVjZWl2ZWQgYW4gVVVJRFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHV1aWQgJiYgdGhpcy53ZWJSdGNDb25maWcuaXNIb3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJXZWJzb2NrZXQgb25tZXNzYWdlIGNvbm5lY3RlZCBzdWNjZXNzIHdpdGggY2xpZW50IHV1aWQ6XCIsIHV1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2VuZE9mZmVyKHRoaXMucGVlckNvbm5lY3Rpb24sIHRoaXMud3NDbGllbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwb25nXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImNsaWVudCByZWNlaXZlZCBwb25nXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucG9uZ0NoZWNrSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb25nQ2hlY2tJbnRlcnZhbCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBQaW5nIHBvbmcgdG9vayBtb3JlIHRoYW4gJHt0aGlzLldFQlNPQ0tFVF9QSU5HX1BPTkdfQUxMT1dFRF9USU1FfW1zLiBEaXNjb25uZWN0aW5nYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLldFQlNPQ0tFVF9QSU5HX1BPTkdfQUxMT1dFRF9USU1FKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZFBpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib2ZmZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBhcHBsaWNhdGlvbiBpcyBub3QgdGhlIGhvc3QsIGl0IHJlY2VpdmVzIGFuIG9mZmVyIHdoZW5ldmVyIGEgY2xpZW50IGNvbm5lY3RzLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGNsaWVudCB3aWxsIHNlbmQgYW4gYW5zd2VyIGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVjZWl2ZWQgb2ZmZXI6XCIsIG9mZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGU6XCIsIHRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvZmZlciAmJiAhdGhpcy53ZWJSdGNDb25maWcuaXNIb3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKG9mZmVyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9zdEFuc3dlciA9IGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGhvc3RBbnN3ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYW5zd2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuc3dlcjogaG9zdEFuc3dlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaG9zdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZWNlaXZlZCBob3N0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlbmV2ZXIgdGhlIGhvc3QgcmVjZWl2ZXMgYSBob3N0IHJlcXVlc3QgYmFjaywgc2V0IHRoZSBVVUlEIHByb3ZpZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXVpZCAmJiB0aGlzLndlYlJ0Y0NvbmZpZy5pc0hvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFjdGluZyBhcyBob3N0LCB3YWl0aW5nIGZvciBzb21lb25lIHRvIGNvbm5lY3QgdG8gdXVpZCBcIiArIHV1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VXVpZCh1dWlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2ViUnRjQ29ubmVjdGlvbkNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndlYlJ0Y0Nvbm5lY3Rpb25Db25maWcgPSB3ZWJSdGNDb25uZWN0aW9uQ29uZmlnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNldHVwUGVlcmNvbm5lY3Rpb24odXVpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kUGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsZWF2ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlbmV2ZXIgdGhlIGhvc3Qgb3IgY2xpZW50IGxlYXZlcyBzZXR1cCBhIG5ldyBjb25uZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIldlYnNvY2tldCBvbm1lc3NhZ2UgbGVhdmUgaG9zdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VXVpZChudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbnN3ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVjZWl2ZWQgYW5zd2VyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0aGlzLnBlZXJDb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZTpcIiwgdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGNsaWVudCB3aWxsIHNlbmQgYW4gYW5zd2VyIGFuZCB0aGUgaG9zdCB3aWxsIHNldCBpdCBhcyBhIGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5zd2VyICYmIHRoaXMud2ViUnRjQ29uZmlnLmlzSG9zdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihhbnN3ZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2FuZGlkYXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlY2VpdmVkIGNhbmRpZGF0ZSBmcm9tIGNsaWVudCFcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2FuZGlkYXRlOlwiLCBjYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT24gcmVjZWl2aW5nIGFuIGNhbmRpZGF0ZSBmcm9tIHRoZSBjbGllbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRDYW5kaWRhdGUgPSBuZXcgUlRDSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUoY2xpZW50Q2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJXZWJzb2NrZXQgb25tZXNzYWdlIGRlZmF1bHRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNlbmRQaW5nKCk6IHZvaWQge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImFib3V0IHRvIHNlbmQgcGluZyB0byBzZXJ2ZXJcIik7XG4gICAgICAgIHRoaXMucGluZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIC8vIFJlYWR5IHN0YXRlIDEgPSBvcGVuXG4gICAgICAgICAgICBpZiAodGhpcy53c0NsaWVudC5yZWFkeVN0YXRlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJhY3R1YWxseSBzZW5kaW5nIHBpbmcgdG8gc2VydmVyXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicGluZ1wiXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIldlYnNvY2tldCBjbG9zZWQgaW4gdGhlIG1lYW50aW1lLi4uIE5vdCBzZW5kaW5nIHBpbmdcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuV0VCU09DS0VUX1BJTkdfQU5TV0VSX0RFTEFZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHNldHVwIHRoZSBwZWVyY29ubmVjdGlvbiBhbmQgZGF0YWNoYW5uZWxcbiAgICAgKiBJdCB3aWxsIGFsc28gZW1pdCByZWNlaXZlZCBhY3Rpb25zIG92ZXIgYW4gb2JzZXJ2YWJsZVxuICAgICAqIEBwYXJhbSB1dWlkIFRoZSBVVUlEIHRvIGNvbm5lY3QgdG9cbiAgICAgKi9cbiAgICBhc3luYyBzZXR1cFBlZXJjb25uZWN0aW9uKHV1aWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcInNldHVwUGVlcmNvbm5lY3Rpb24gd2l0aCB1dWlkOlwiLCB1dWlkKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJ0aGlzLndlYlJ0Y0Nvbm5lY3Rpb25Db25maWc6XCIsIHRoaXMud2ViUnRjQ29ubmVjdGlvbkNvbmZpZyk7XG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24odGhpcy53ZWJSdGNDb25uZWN0aW9uQ29uZmlnKTtcbiAgICAgICAgdGhpcy5kYXRhQ2hhbm5lbCA9IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwodXVpZCk7XG5cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiZGF0YWNoYW5uZWxcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgZXZlbnQuY2hhbm5lbC5vbm1lc3NhZ2UgPSAoYXN5bmMgZXZlbnRNZXNzYWdlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YTogYW55O1xuXG4gICAgICAgICAgICAgICAgLy8gYWNjZXB0aW5nIG9ubHkgSlNPTiBtZXNzYWdlc1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50TWVzc2FnZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQnkgZGVmYXVsdCB0aGlzIGNsYXNzIHdpbGwgb25seSBoYW5kbGUgdGhlIGRpc2Nvbm5lY3QgZXZlbnQuIENsb3NlIHRoZSB3ZWJzb2NrZXQgb24gdGhpcyBzaWRlLlxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRhdGEuYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGlzY29ubmVjdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicGVlckNvbm5lY3Rpb24gZGlzY29ubmVjdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY2VpdmVkQWN0aW9ucyQubmV4dChkYXRhKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicGVlckNvbm5lY3Rpb24gRVJST1I6IEludmFsaWQgSlNPTlwiKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXZlbnQuY2hhbm5lbC5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTZW5kaW5nIHAycCBjb25uZWN0ZWQhXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRBY3Rpb25zJC5uZXh0KHsgYWN0aW9uOiBcInAycENvbm5lY3RlZFwiLCBwMnBDb25uZWN0ZWQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJwMnAgY29ubmVjdGVkIHNvIGNsb3NlIHRoZSB3ZWJzb2NrZXQgY29ubmVjdGlvblwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLndzQ2xpZW50LmNsb3NlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJldmVudDpcIiwgZXZlbnQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZTpcIiwgdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlID09PSBcImRpc2Nvbm5lY3RlZFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWNlaXZlZEFjdGlvbnMkLm5leHQoeyBhY3Rpb246IFwicDJwQ29ubmVjdGVkXCIsIHAycENvbm5lY3RlZDogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6IFwibGVhdmVcIiB9KSk7XG4gICAgICAgICAgICAgICAgdGhpcy53c0NsaWVudC5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJpY2VjYW5kaWRhdGVcIiwgYXN5bmMgZXZlbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmNhbmRpZGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiKioqKioqKioqKioqKioqKiBSZWNlaXZlZCBjYW5kaWRhdGUgb3ZlciBwZWVyLCBzZW5kaW5nIHRvIHNpZ25hbGxlclwiKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNhbmRpZGF0ZVwiLCBldmVudC5jYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbmRpZGF0ZSA9IG5ldyBSVENJY2VDYW5kaWRhdGUoZXZlbnQuY2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUoY2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib29vcHNcIiwgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMud3NDbGllbnQuc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6IFwiY2FuZGlkYXRlXCIsIGNhbmRpZGF0ZTogZXZlbnQuY2FuZGlkYXRlIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicnhqc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ1dWlkXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIndlYjNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwid2Vic29ja2V0XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIndydGNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwid3NcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY3J5cHRvXCIpOyIsIi8qKlxuICogQGxpY2Vuc2UgQW5ndWxhciB2MTMuMi4yXG4gKiAoYykgMjAxMC0yMDIyIEdvb2dsZSBMTEMuIGh0dHBzOi8vYW5ndWxhci5pby9cbiAqIExpY2Vuc2U6IE1JVFxuICovXG5cbmltcG9ydCB7IFN1YmplY3QsIFN1YnNjcmlwdGlvbiwgT2JzZXJ2YWJsZSwgbWVyZ2UgYXMgbWVyZ2UkMSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgc2hhcmUgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eShvYmpXaXRoUHJvcGVydHlUb0V4dHJhY3QpIHtcbiAgICBmb3IgKGxldCBrZXkgaW4gb2JqV2l0aFByb3BlcnR5VG9FeHRyYWN0KSB7XG4gICAgICAgIGlmIChvYmpXaXRoUHJvcGVydHlUb0V4dHJhY3Rba2V5XSA9PT0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSkge1xuICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBFcnJvcignQ291bGQgbm90IGZpbmQgcmVuYW1lZCBwcm9wZXJ0eSBvbiB0YXJnZXQgb2JqZWN0LicpO1xufVxuLyoqXG4gKiBTZXRzIHByb3BlcnRpZXMgb24gYSB0YXJnZXQgb2JqZWN0IGZyb20gYSBzb3VyY2Ugb2JqZWN0LCBidXQgb25seSBpZlxuICogdGhlIHByb3BlcnR5IGRvZXNuJ3QgYWxyZWFkeSBleGlzdCBvbiB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCB0byBzZXQgcHJvcGVydGllcyBvblxuICogQHBhcmFtIHNvdXJjZSBUaGUgc291cmNlIG9mIHRoZSBwcm9wZXJ0eSBrZXlzIGFuZCB2YWx1ZXMgdG8gc2V0XG4gKi9cbmZ1bmN0aW9uIGZpbGxQcm9wZXJ0aWVzKHRhcmdldCwgc291cmNlKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhdGFyZ2V0Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5KHRva2VuKSB7XG4gICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0b2tlbikpIHtcbiAgICAgICAgcmV0dXJuICdbJyArIHRva2VuLm1hcChzdHJpbmdpZnkpLmpvaW4oJywgJykgKyAnXSc7XG4gICAgfVxuICAgIGlmICh0b2tlbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJyArIHRva2VuO1xuICAgIH1cbiAgICBpZiAodG9rZW4ub3ZlcnJpZGRlbk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGAke3Rva2VuLm92ZXJyaWRkZW5OYW1lfWA7XG4gICAgfVxuICAgIGlmICh0b2tlbi5uYW1lKSB7XG4gICAgICAgIHJldHVybiBgJHt0b2tlbi5uYW1lfWA7XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IHRva2VuLnRvU3RyaW5nKCk7XG4gICAgaWYgKHJlcyA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJyArIHJlcztcbiAgICB9XG4gICAgY29uc3QgbmV3TGluZUluZGV4ID0gcmVzLmluZGV4T2YoJ1xcbicpO1xuICAgIHJldHVybiBuZXdMaW5lSW5kZXggPT09IC0xID8gcmVzIDogcmVzLnN1YnN0cmluZygwLCBuZXdMaW5lSW5kZXgpO1xufVxuLyoqXG4gKiBDb25jYXRlbmF0ZXMgdHdvIHN0cmluZ3Mgd2l0aCBzZXBhcmF0b3IsIGFsbG9jYXRpbmcgbmV3IHN0cmluZ3Mgb25seSB3aGVuIG5lY2Vzc2FyeS5cbiAqXG4gKiBAcGFyYW0gYmVmb3JlIGJlZm9yZSBzdHJpbmcuXG4gKiBAcGFyYW0gc2VwYXJhdG9yIHNlcGFyYXRvciBzdHJpbmcuXG4gKiBAcGFyYW0gYWZ0ZXIgYWZ0ZXIgc3RyaW5nLlxuICogQHJldHVybnMgY29uY2F0ZW5hdGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gY29uY2F0U3RyaW5nc1dpdGhTcGFjZShiZWZvcmUsIGFmdGVyKSB7XG4gICAgcmV0dXJuIChiZWZvcmUgPT0gbnVsbCB8fCBiZWZvcmUgPT09ICcnKSA/XG4gICAgICAgIChhZnRlciA9PT0gbnVsbCA/ICcnIDogYWZ0ZXIpIDpcbiAgICAgICAgKChhZnRlciA9PSBudWxsIHx8IGFmdGVyID09PSAnJykgPyBiZWZvcmUgOiBiZWZvcmUgKyAnICcgKyBhZnRlcik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgX19mb3J3YXJkX3JlZl9fID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IF9fZm9yd2FyZF9yZWZfXzogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbi8qKlxuICogQWxsb3dzIHRvIHJlZmVyIHRvIHJlZmVyZW5jZXMgd2hpY2ggYXJlIG5vdCB5ZXQgZGVmaW5lZC5cbiAqXG4gKiBGb3IgaW5zdGFuY2UsIGBmb3J3YXJkUmVmYCBpcyB1c2VkIHdoZW4gdGhlIGB0b2tlbmAgd2hpY2ggd2UgbmVlZCB0byByZWZlciB0byBmb3IgdGhlIHB1cnBvc2VzIG9mXG4gKiBESSBpcyBkZWNsYXJlZCwgYnV0IG5vdCB5ZXQgZGVmaW5lZC4gSXQgaXMgYWxzbyB1c2VkIHdoZW4gdGhlIGB0b2tlbmAgd2hpY2ggd2UgdXNlIHdoZW4gY3JlYXRpbmdcbiAqIGEgcXVlcnkgaXMgbm90IHlldCBkZWZpbmVkLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvZm9yd2FyZF9yZWYvZm9yd2FyZF9yZWZfc3BlYy50cyByZWdpb249J2ZvcndhcmRfcmVmJ31cbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gZm9yd2FyZFJlZihmb3J3YXJkUmVmRm4pIHtcbiAgICBmb3J3YXJkUmVmRm4uX19mb3J3YXJkX3JlZl9fID0gZm9yd2FyZFJlZjtcbiAgICBmb3J3YXJkUmVmRm4udG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmdpZnkodGhpcygpKTtcbiAgICB9O1xuICAgIHJldHVybiBmb3J3YXJkUmVmRm47XG59XG4vKipcbiAqIExhemlseSByZXRyaWV2ZXMgdGhlIHJlZmVyZW5jZSB2YWx1ZSBmcm9tIGEgZm9yd2FyZFJlZi5cbiAqXG4gKiBBY3RzIGFzIHRoZSBpZGVudGl0eSBmdW5jdGlvbiB3aGVuIGdpdmVuIGEgbm9uLWZvcndhcmQtcmVmIHZhbHVlLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIHtAZXhhbXBsZSBjb3JlL2RpL3RzL2ZvcndhcmRfcmVmL2ZvcndhcmRfcmVmX3NwZWMudHMgcmVnaW9uPSdyZXNvbHZlX2ZvcndhcmRfcmVmJ31cbiAqXG4gKiBAc2VlIGBmb3J3YXJkUmVmYFxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiByZXNvbHZlRm9yd2FyZFJlZih0eXBlKSB7XG4gICAgcmV0dXJuIGlzRm9yd2FyZFJlZih0eXBlKSA/IHR5cGUoKSA6IHR5cGU7XG59XG4vKiogQ2hlY2tzIHdoZXRoZXIgYSBmdW5jdGlvbiBpcyB3cmFwcGVkIGJ5IGEgYGZvcndhcmRSZWZgLiAqL1xuZnVuY3Rpb24gaXNGb3J3YXJkUmVmKGZuKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyAmJiBmbi5oYXNPd25Qcm9wZXJ0eShfX2ZvcndhcmRfcmVmX18pICYmXG4gICAgICAgIGZuLl9fZm9yd2FyZF9yZWZfXyA9PT0gZm9yd2FyZFJlZjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEJhc2UgVVJMIGZvciB0aGUgZXJyb3IgZGV0YWlscyBwYWdlLlxuICpcbiAqIEtlZXAgdGhlIGZpbGVzIGJlbG93IGluIGZ1bGwgc3luYzpcbiAqICAtIHBhY2thZ2VzL2NvbXBpbGVyLWNsaS9zcmMvbmd0c2MvZGlhZ25vc3RpY3Mvc3JjL2Vycm9yX2RldGFpbHNfYmFzZV91cmwudHNcbiAqICAtIHBhY2thZ2VzL2NvcmUvc3JjL2Vycm9yX2RldGFpbHNfYmFzZV91cmwudHNcbiAqL1xuY29uc3QgRVJST1JfREVUQUlMU19QQUdFX0JBU0VfVVJMID0gJ2h0dHBzOi8vYW5ndWxhci5pby9lcnJvcnMnO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgcnVudGltZSBlcnJvci5cbiAqIEZvcm1hdHMgYW5kIG91dHB1dHMgdGhlIGVycm9yIG1lc3NhZ2UgaW4gYSBjb25zaXN0ZW50IHdheS5cbiAqXG4gKiBFeGFtcGxlOlxuICogYGBgXG4gKiAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAqICAgIFJ1bnRpbWVFcnJvckNvZGUuSU5KRUNUT1JfQUxSRUFEWV9ERVNUUk9ZRUQsXG4gKiAgICBuZ0Rldk1vZGUgJiYgJ0luamVjdG9yIGhhcyBhbHJlYWR5IGJlZW4gZGVzdHJveWVkLicpO1xuICogYGBgXG4gKlxuICogTm90ZTogdGhlIGBtZXNzYWdlYCBhcmd1bWVudCBjb250YWlucyBhIGRlc2NyaXB0aXZlIGVycm9yIG1lc3NhZ2UgYXMgYSBzdHJpbmcgaW4gZGV2ZWxvcG1lbnRcbiAqIG1vZGUgKHdoZW4gdGhlIGBuZ0Rldk1vZGVgIGlzIGRlZmluZWQpLiBJbiBwcm9kdWN0aW9uIG1vZGUgKGFmdGVyIHRyZWUtc2hha2luZyBwYXNzKSwgdGhlXG4gKiBgbWVzc2FnZWAgYXJndW1lbnQgYmVjb21lcyBgZmFsc2VgLCB0aHVzIHdlIGFjY291bnQgZm9yIGl0IGluIHRoZSB0eXBpbmdzIGFuZCB0aGUgcnVudGltZSBsb2dpYy5cbiAqL1xuY2xhc3MgUnVudGltZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGNvZGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIoZm9ybWF0UnVudGltZUVycm9yKGNvZGUsIG1lc3NhZ2UpKTtcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB9XG59XG4vKipcbiAqIENhbGxlZCB0byBmb3JtYXQgYSBydW50aW1lIGVycm9yLlxuICogU2VlIGFkZGl0aW9uYWwgaW5mbyBvbiB0aGUgYG1lc3NhZ2VgIGFyZ3VtZW50IHR5cGUgaW4gdGhlIGBSdW50aW1lRXJyb3JgIGNsYXNzIGRlc2NyaXB0aW9uLlxuICovXG5mdW5jdGlvbiBmb3JtYXRSdW50aW1lRXJyb3IoY29kZSwgbWVzc2FnZSkge1xuICAgIC8vIEVycm9yIGNvZGUgbWlnaHQgYmUgYSBuZWdhdGl2ZSBudW1iZXIsIHdoaWNoIGlzIGEgc3BlY2lhbCBtYXJrZXIgdGhhdCBpbnN0cnVjdHMgdGhlIGxvZ2ljIHRvXG4gICAgLy8gZ2VuZXJhdGUgYSBsaW5rIHRvIHRoZSBlcnJvciBkZXRhaWxzIHBhZ2Ugb24gYW5ndWxhci5pby5cbiAgICBjb25zdCBmdWxsQ29kZSA9IGBORzAke01hdGguYWJzKGNvZGUpfWA7XG4gICAgbGV0IGVycm9yTWVzc2FnZSA9IGAke2Z1bGxDb2RlfSR7bWVzc2FnZSA/ICc6ICcgKyBtZXNzYWdlIDogJyd9YDtcbiAgICBpZiAobmdEZXZNb2RlICYmIGNvZGUgPCAwKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IGAke2Vycm9yTWVzc2FnZX0uIEZpbmQgbW9yZSBhdCAke0VSUk9SX0RFVEFJTFNfUEFHRV9CQVNFX1VSTH0vJHtmdWxsQ29kZX1gO1xuICAgIH1cbiAgICByZXR1cm4gZXJyb3JNZXNzYWdlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVXNlZCBmb3Igc3RyaW5naWZ5IHJlbmRlciBvdXRwdXQgaW4gSXZ5LlxuICogSW1wb3J0YW50ISBUaGlzIGZ1bmN0aW9uIGlzIHZlcnkgcGVyZm9ybWFuY2Utc2Vuc2l0aXZlIGFuZCB3ZSBzaG91bGRcbiAqIGJlIGV4dHJhIGNhcmVmdWwgbm90IHRvIGludHJvZHVjZSBtZWdhbW9ycGhpYyByZWFkcyBpbiBpdC5cbiAqIENoZWNrIGBjb3JlL3Rlc3QvcmVuZGVyMy9wZXJmL3JlbmRlcl9zdHJpbmdpZnlgIGZvciBiZW5jaG1hcmtzIGFuZCBhbHRlcm5hdGUgaW1wbGVtZW50YXRpb25zLlxuICovXG5mdW5jdGlvbiByZW5kZXJTdHJpbmdpZnkodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgLy8gVXNlIGBTdHJpbmdgIHNvIHRoYXQgaXQgaW52b2tlcyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgdGhlIHZhbHVlLiBOb3RlIHRoYXQgdGhpc1xuICAgIC8vIGFwcGVhcnMgdG8gYmUgZmFzdGVyIHRoYW4gY2FsbGluZyBgdmFsdWUudG9TdHJpbmdgIChzZWUgYHJlbmRlcl9zdHJpbmdpZnlgIGJlbmNobWFyaykuXG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG59XG4vKipcbiAqIFVzZWQgdG8gc3RyaW5naWZ5IGEgdmFsdWUgc28gdGhhdCBpdCBjYW4gYmUgZGlzcGxheWVkIGluIGFuIGVycm9yIG1lc3NhZ2UuXG4gKiBJbXBvcnRhbnQhIFRoaXMgZnVuY3Rpb24gY29udGFpbnMgYSBtZWdhbW9ycGhpYyByZWFkIGFuZCBzaG91bGQgb25seSBiZVxuICogdXNlZCBmb3IgZXJyb3IgbWVzc2FnZXMuXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeUZvckVycm9yKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcmV0dXJuIHZhbHVlLm5hbWUgfHwgdmFsdWUudG9TdHJpbmcoKTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS50eXBlLm5hbWUgfHwgdmFsdWUudHlwZS50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyU3RyaW5naWZ5KHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKiogQ2FsbGVkIHdoZW4gZGlyZWN0aXZlcyBpbmplY3QgZWFjaCBvdGhlciAoY3JlYXRpbmcgYSBjaXJjdWxhciBkZXBlbmRlbmN5KSAqL1xuZnVuY3Rpb24gdGhyb3dDeWNsaWNEZXBlbmRlbmN5RXJyb3IodG9rZW4sIHBhdGgpIHtcbiAgICBjb25zdCBkZXBQYXRoID0gcGF0aCA/IGAuIERlcGVuZGVuY3kgcGF0aDogJHtwYXRoLmpvaW4oJyA+ICcpfSA+ICR7dG9rZW59YCA6ICcnO1xuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoLTIwMCAvKiBDWUNMSUNfRElfREVQRU5ERU5DWSAqLywgYENpcmN1bGFyIGRlcGVuZGVuY3kgaW4gREkgZGV0ZWN0ZWQgZm9yICR7dG9rZW59JHtkZXBQYXRofWApO1xufVxuZnVuY3Rpb24gdGhyb3dNaXhlZE11bHRpUHJvdmlkZXJFcnJvcigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBtaXggbXVsdGkgcHJvdmlkZXJzIGFuZCByZWd1bGFyIHByb3ZpZGVyc2ApO1xufVxuZnVuY3Rpb24gdGhyb3dJbnZhbGlkUHJvdmlkZXJFcnJvcihuZ01vZHVsZVR5cGUsIHByb3ZpZGVycywgcHJvdmlkZXIpIHtcbiAgICBsZXQgbmdNb2R1bGVEZXRhaWwgPSAnJztcbiAgICBpZiAobmdNb2R1bGVUeXBlICYmIHByb3ZpZGVycykge1xuICAgICAgICBjb25zdCBwcm92aWRlckRldGFpbCA9IHByb3ZpZGVycy5tYXAodiA9PiB2ID09IHByb3ZpZGVyID8gJz8nICsgcHJvdmlkZXIgKyAnPycgOiAnLi4uJyk7XG4gICAgICAgIG5nTW9kdWxlRGV0YWlsID1cbiAgICAgICAgICAgIGAgLSBvbmx5IGluc3RhbmNlcyBvZiBQcm92aWRlciBhbmQgVHlwZSBhcmUgYWxsb3dlZCwgZ290OiBbJHtwcm92aWRlckRldGFpbC5qb2luKCcsICcpfV1gO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcHJvdmlkZXIgZm9yIHRoZSBOZ01vZHVsZSAnJHtzdHJpbmdpZnkobmdNb2R1bGVUeXBlKX0nYCArIG5nTW9kdWxlRGV0YWlsKTtcbn1cbi8qKiBUaHJvd3MgYW4gZXJyb3Igd2hlbiBhIHRva2VuIGlzIG5vdCBmb3VuZCBpbiBESS4gKi9cbmZ1bmN0aW9uIHRocm93UHJvdmlkZXJOb3RGb3VuZEVycm9yKHRva2VuLCBpbmplY3Rvck5hbWUpIHtcbiAgICBjb25zdCBpbmplY3RvckRldGFpbHMgPSBpbmplY3Rvck5hbWUgPyBgIGluICR7aW5qZWN0b3JOYW1lfWAgOiAnJztcbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKC0yMDEgLyogUFJPVklERVJfTk9UX0ZPVU5EICovLCBgTm8gcHJvdmlkZXIgZm9yICR7c3RyaW5naWZ5Rm9yRXJyb3IodG9rZW4pfSBmb3VuZCR7aW5qZWN0b3JEZXRhaWxzfWApO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGFzc2VydE51bWJlcihhY3R1YWwsIG1zZykge1xuICAgIGlmICghKHR5cGVvZiBhY3R1YWwgPT09ICdudW1iZXInKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgdHlwZW9mIGFjdHVhbCwgJ251bWJlcicsICc9PT0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnROdW1iZXJJblJhbmdlKGFjdHVhbCwgbWluSW5jbHVzaXZlLCBtYXhJbmNsdXNpdmUpIHtcbiAgICBhc3NlcnROdW1iZXIoYWN0dWFsLCAnRXhwZWN0ZWQgYSBudW1iZXInKTtcbiAgICBhc3NlcnRMZXNzVGhhbk9yRXF1YWwoYWN0dWFsLCBtYXhJbmNsdXNpdmUsICdFeHBlY3RlZCBudW1iZXIgdG8gYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvJyk7XG4gICAgYXNzZXJ0R3JlYXRlclRoYW5PckVxdWFsKGFjdHVhbCwgbWluSW5jbHVzaXZlLCAnRXhwZWN0ZWQgbnVtYmVyIHRvIGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0bycpO1xufVxuZnVuY3Rpb24gYXNzZXJ0U3RyaW5nKGFjdHVhbCwgbXNnKSB7XG4gICAgaWYgKCEodHlwZW9mIGFjdHVhbCA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgYWN0dWFsLCAnc3RyaW5nJywgJz09PScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydEZ1bmN0aW9uKGFjdHVhbCwgbXNnKSB7XG4gICAgaWYgKCEodHlwZW9mIGFjdHVhbCA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIGFjdHVhbCA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBhY3R1YWwsICdmdW5jdGlvbicsICc9PT0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtc2cpIHtcbiAgICBpZiAoIShhY3R1YWwgPT0gZXhwZWN0ZWQpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIGV4cGVjdGVkLCAnPT0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnROb3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtc2cpIHtcbiAgICBpZiAoIShhY3R1YWwgIT0gZXhwZWN0ZWQpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIGV4cGVjdGVkLCAnIT0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRTYW1lKGFjdHVhbCwgZXhwZWN0ZWQsIG1zZykge1xuICAgIGlmICghKGFjdHVhbCA9PT0gZXhwZWN0ZWQpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIGV4cGVjdGVkLCAnPT09Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0Tm90U2FtZShhY3R1YWwsIGV4cGVjdGVkLCBtc2cpIHtcbiAgICBpZiAoIShhY3R1YWwgIT09IGV4cGVjdGVkKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBleHBlY3RlZCwgJyE9PScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydExlc3NUaGFuKGFjdHVhbCwgZXhwZWN0ZWQsIG1zZykge1xuICAgIGlmICghKGFjdHVhbCA8IGV4cGVjdGVkKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBleHBlY3RlZCwgJzwnKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRMZXNzVGhhbk9yRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKCEoYWN0dWFsIDw9IGV4cGVjdGVkKSkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZywgYWN0dWFsLCBleHBlY3RlZCwgJzw9Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0R3JlYXRlclRoYW4oYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKCEoYWN0dWFsID4gZXhwZWN0ZWQpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIGV4cGVjdGVkLCAnPicpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtc2cpIHtcbiAgICBpZiAoIShhY3R1YWwgPj0gZXhwZWN0ZWQpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIGV4cGVjdGVkLCAnPj0nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnROb3REZWZpbmVkKGFjdHVhbCwgbXNnKSB7XG4gICAgaWYgKGFjdHVhbCAhPSBudWxsKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnLCBhY3R1YWwsIG51bGwsICc9PScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydERlZmluZWQoYWN0dWFsLCBtc2cpIHtcbiAgICBpZiAoYWN0dWFsID09IG51bGwpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2csIGFjdHVhbCwgbnVsbCwgJyE9Jyk7XG4gICAgfVxufVxuZnVuY3Rpb24gdGhyb3dFcnJvcihtc2csIGFjdHVhbCwgZXhwZWN0ZWQsIGNvbXBhcmlzb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEFTU0VSVElPTiBFUlJPUjogJHttc2d9YCArXG4gICAgICAgIChjb21wYXJpc29uID09IG51bGwgPyAnJyA6IGAgW0V4cGVjdGVkPT4gJHtleHBlY3RlZH0gJHtjb21wYXJpc29ufSAke2FjdHVhbH0gPD1BY3R1YWxdYCkpO1xufVxuZnVuY3Rpb24gYXNzZXJ0RG9tTm9kZShub2RlKSB7XG4gICAgLy8gSWYgd2UncmUgaW4gYSB3b3JrZXIsIGBOb2RlYCB3aWxsIG5vdCBiZSBkZWZpbmVkLlxuICAgIGlmICghKHR5cGVvZiBOb2RlICE9PSAndW5kZWZpbmVkJyAmJiBub2RlIGluc3RhbmNlb2YgTm9kZSkgJiZcbiAgICAgICAgISh0eXBlb2Ygbm9kZSA9PT0gJ29iamVjdCcgJiYgbm9kZSAhPSBudWxsICYmXG4gICAgICAgICAgICBub2RlLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdXZWJXb3JrZXJSZW5kZXJOb2RlJykpIHtcbiAgICAgICAgdGhyb3dFcnJvcihgVGhlIHByb3ZpZGVkIHZhbHVlIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgYSBET00gTm9kZSBidXQgZ290ICR7c3RyaW5naWZ5KG5vZGUpfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydEluZGV4SW5SYW5nZShhcnIsIGluZGV4KSB7XG4gICAgYXNzZXJ0RGVmaW5lZChhcnIsICdBcnJheSBtdXN0IGJlIGRlZmluZWQuJyk7XG4gICAgY29uc3QgbWF4TGVuID0gYXJyLmxlbmd0aDtcbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IG1heExlbikge1xuICAgICAgICB0aHJvd0Vycm9yKGBJbmRleCBleHBlY3RlZCB0byBiZSBsZXNzIHRoYW4gJHttYXhMZW59IGJ1dCBnb3QgJHtpbmRleH1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRPbmVPZih2YWx1ZSwgLi4udmFsaWRWYWx1ZXMpIHtcbiAgICBpZiAodmFsaWRWYWx1ZXMuaW5kZXhPZih2YWx1ZSkgIT09IC0xKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB0aHJvd0Vycm9yKGBFeHBlY3RlZCB2YWx1ZSB0byBiZSBvbmUgb2YgJHtKU09OLnN0cmluZ2lmeSh2YWxpZFZhbHVlcyl9IGJ1dCB3YXMgJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9LmApO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29uc3RydWN0IGFuIGluamVjdGFibGUgZGVmaW5pdGlvbiB3aGljaCBkZWZpbmVzIGhvdyBhIHRva2VuIHdpbGwgYmUgY29uc3RydWN0ZWQgYnkgdGhlIERJXG4gKiBzeXN0ZW0sIGFuZCBpbiB3aGljaCBpbmplY3RvcnMgKGlmIGFueSkgaXQgd2lsbCBiZSBhdmFpbGFibGUuXG4gKlxuICogVGhpcyBzaG91bGQgYmUgYXNzaWduZWQgdG8gYSBzdGF0aWMgYMm1cHJvdmAgZmllbGQgb24gYSB0eXBlLCB3aGljaCB3aWxsIHRoZW4gYmUgYW5cbiAqIGBJbmplY3RhYmxlVHlwZWAuXG4gKlxuICogT3B0aW9uczpcbiAqICogYHByb3ZpZGVkSW5gIGRldGVybWluZXMgd2hpY2ggaW5qZWN0b3JzIHdpbGwgaW5jbHVkZSB0aGUgaW5qZWN0YWJsZSwgYnkgZWl0aGVyIGFzc29jaWF0aW5nIGl0XG4gKiAgIHdpdGggYW4gYEBOZ01vZHVsZWAgb3Igb3RoZXIgYEluamVjdG9yVHlwZWAsIG9yIGJ5IHNwZWNpZnlpbmcgdGhhdCB0aGlzIGluamVjdGFibGUgc2hvdWxkIGJlXG4gKiAgIHByb3ZpZGVkIGluIHRoZSBgJ3Jvb3QnYCBpbmplY3Rvciwgd2hpY2ggd2lsbCBiZSB0aGUgYXBwbGljYXRpb24tbGV2ZWwgaW5qZWN0b3IgaW4gbW9zdCBhcHBzLlxuICogKiBgZmFjdG9yeWAgZ2l2ZXMgdGhlIHplcm8gYXJndW1lbnQgZnVuY3Rpb24gd2hpY2ggd2lsbCBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIGluamVjdGFibGUuXG4gKiAgIFRoZSBmYWN0b3J5IGNhbiBjYWxsIGBpbmplY3RgIHRvIGFjY2VzcyB0aGUgYEluamVjdG9yYCBhbmQgcmVxdWVzdCBpbmplY3Rpb24gb2YgZGVwZW5kZW5jaWVzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKiBAcHVibGljQXBpIFRoaXMgaW5zdHJ1Y3Rpb24gaGFzIGJlZW4gZW1pdHRlZCBieSBWaWV3RW5naW5lIGZvciBzb21lIHRpbWUgYW5kIGlzIGRlcGxveWVkIHRvIG5wbS5cbiAqL1xuZnVuY3Rpb24gybXJtWRlZmluZUluamVjdGFibGUob3B0cykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRva2VuOiBvcHRzLnRva2VuLFxuICAgICAgICBwcm92aWRlZEluOiBvcHRzLnByb3ZpZGVkSW4gfHwgbnVsbCxcbiAgICAgICAgZmFjdG9yeTogb3B0cy5mYWN0b3J5LFxuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIEBkZXByZWNhdGVkIGluIHY4LCBkZWxldGUgYWZ0ZXIgdjEwLiBUaGlzIEFQSSBzaG91bGQgYmUgdXNlZCBvbmx5IGJ5IGdlbmVyYXRlZCBjb2RlLCBhbmQgdGhhdFxuICogY29kZSBzaG91bGQgbm93IHVzZSDJtcm1ZGVmaW5lSW5qZWN0YWJsZSBpbnN0ZWFkLlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBkZWZpbmVJbmplY3RhYmxlID0gybXJtWRlZmluZUluamVjdGFibGU7XG4vKipcbiAqIENvbnN0cnVjdCBhbiBgSW5qZWN0b3JEZWZgIHdoaWNoIGNvbmZpZ3VyZXMgYW4gaW5qZWN0b3IuXG4gKlxuICogVGhpcyBzaG91bGQgYmUgYXNzaWduZWQgdG8gYSBzdGF0aWMgaW5qZWN0b3IgZGVmIChgybVpbmpgKSBmaWVsZCBvbiBhIHR5cGUsIHdoaWNoIHdpbGwgdGhlbiBiZSBhblxuICogYEluamVjdG9yVHlwZWAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAqIGBwcm92aWRlcnNgOiBhbiBvcHRpb25hbCBhcnJheSBvZiBwcm92aWRlcnMgdG8gYWRkIHRvIHRoZSBpbmplY3Rvci4gRWFjaCBwcm92aWRlciBtdXN0XG4gKiAgIGVpdGhlciBoYXZlIGEgZmFjdG9yeSBvciBwb2ludCB0byBhIHR5cGUgd2hpY2ggaGFzIGEgYMm1cHJvdmAgc3RhdGljIHByb3BlcnR5ICh0aGVcbiAqICAgdHlwZSBtdXN0IGJlIGFuIGBJbmplY3RhYmxlVHlwZWApLlxuICogKiBgaW1wb3J0c2A6IGFuIG9wdGlvbmFsIGFycmF5IG9mIGltcG9ydHMgb2Ygb3RoZXIgYEluamVjdG9yVHlwZWBzIG9yIGBJbmplY3RvclR5cGVXaXRoTW9kdWxlYHNcbiAqICAgd2hvc2UgcHJvdmlkZXJzIHdpbGwgYWxzbyBiZSBhZGRlZCB0byB0aGUgaW5qZWN0b3IuIExvY2FsbHkgcHJvdmlkZWQgdHlwZXMgd2lsbCBvdmVycmlkZVxuICogICBwcm92aWRlcnMgZnJvbSBpbXBvcnRzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVkZWZpbmVJbmplY3RvcihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHsgcHJvdmlkZXJzOiBvcHRpb25zLnByb3ZpZGVycyB8fCBbXSwgaW1wb3J0czogb3B0aW9ucy5pbXBvcnRzIHx8IFtdIH07XG59XG4vKipcbiAqIFJlYWQgdGhlIGluamVjdGFibGUgZGVmIChgybVwcm92YCkgZm9yIGB0eXBlYCBpbiBhIHdheSB3aGljaCBpcyBpbW11bmUgdG8gYWNjaWRlbnRhbGx5IHJlYWRpbmdcbiAqIGluaGVyaXRlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gdHlwZSBBIHR5cGUgd2hpY2ggbWF5IGhhdmUgaXRzIG93biAobm9uLWluaGVyaXRlZCkgYMm1cHJvdmAuXG4gKi9cbmZ1bmN0aW9uIGdldEluamVjdGFibGVEZWYodHlwZSkge1xuICAgIHJldHVybiBnZXRPd25EZWZpbml0aW9uKHR5cGUsIE5HX1BST1ZfREVGKSB8fCBnZXRPd25EZWZpbml0aW9uKHR5cGUsIE5HX0lOSkVDVEFCTEVfREVGKTtcbn1cbi8qKlxuICogUmV0dXJuIGRlZmluaXRpb24gb25seSBpZiBpdCBpcyBkZWZpbmVkIGRpcmVjdGx5IG9uIGB0eXBlYCBhbmQgaXMgbm90IGluaGVyaXRlZCBmcm9tIGEgYmFzZVxuICogY2xhc3Mgb2YgYHR5cGVgLlxuICovXG5mdW5jdGlvbiBnZXRPd25EZWZpbml0aW9uKHR5cGUsIGZpZWxkKSB7XG4gICAgcmV0dXJuIHR5cGUuaGFzT3duUHJvcGVydHkoZmllbGQpID8gdHlwZVtmaWVsZF0gOiBudWxsO1xufVxuLyoqXG4gKiBSZWFkIHRoZSBpbmplY3RhYmxlIGRlZiAoYMm1cHJvdmApIGZvciBgdHlwZWAgb3IgcmVhZCB0aGUgYMm1cHJvdmAgZnJvbSBvbmUgb2YgaXRzIGFuY2VzdG9ycy5cbiAqXG4gKiBAcGFyYW0gdHlwZSBBIHR5cGUgd2hpY2ggbWF5IGhhdmUgYMm1cHJvdmAsIHZpYSBpbmhlcml0YW5jZS5cbiAqXG4gKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbiBvZiBBbmd1bGFyLCB3aGVyZSBhbiBlcnJvciB3aWxsIG9jY3VyIGluIHRoZVxuICogICAgIHNjZW5hcmlvIGlmIHdlIGZpbmQgdGhlIGDJtXByb3ZgIG9uIGFuIGFuY2VzdG9yIG9ubHkuXG4gKi9cbmZ1bmN0aW9uIGdldEluaGVyaXRlZEluamVjdGFibGVEZWYodHlwZSkge1xuICAgIGNvbnN0IGRlZiA9IHR5cGUgJiYgKHR5cGVbTkdfUFJPVl9ERUZdIHx8IHR5cGVbTkdfSU5KRUNUQUJMRV9ERUZdKTtcbiAgICBpZiAoZGVmKSB7XG4gICAgICAgIGNvbnN0IHR5cGVOYW1lID0gZ2V0VHlwZU5hbWUodHlwZSk7XG4gICAgICAgIC8vIFRPRE8oRlctMTMwNyk6IFJlLWFkZCBuZ0Rldk1vZGUgd2hlbiBjbG9zdXJlIGNhbiBoYW5kbGUgaXRcbiAgICAgICAgLy8gbmdEZXZNb2RlICYmXG4gICAgICAgIGNvbnNvbGUud2FybihgREVQUkVDQVRFRDogREkgaXMgaW5zdGFudGlhdGluZyBhIHRva2VuIFwiJHt0eXBlTmFtZX1cIiB0aGF0IGluaGVyaXRzIGl0cyBASW5qZWN0YWJsZSBkZWNvcmF0b3IgYnV0IGRvZXMgbm90IHByb3ZpZGUgb25lIGl0c2VsZi5cXG5gICtcbiAgICAgICAgICAgIGBUaGlzIHdpbGwgYmVjb21lIGFuIGVycm9yIGluIGEgZnV0dXJlIHZlcnNpb24gb2YgQW5ndWxhci4gUGxlYXNlIGFkZCBASW5qZWN0YWJsZSgpIHRvIHRoZSBcIiR7dHlwZU5hbWV9XCIgY2xhc3MuYCk7XG4gICAgICAgIHJldHVybiBkZWY7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4vKiogR2V0cyB0aGUgbmFtZSBvZiBhIHR5cGUsIGFjY291bnRpbmcgZm9yIHNvbWUgY3Jvc3MtYnJvd3NlciBkaWZmZXJlbmNlcy4gKi9cbmZ1bmN0aW9uIGdldFR5cGVOYW1lKHR5cGUpIHtcbiAgICAvLyBgRnVuY3Rpb24ucHJvdG90eXBlLm5hbWVgIGJlaGF2ZXMgZGlmZmVyZW50bHkgYmV0d2VlbiBJRSBhbmQgb3RoZXIgYnJvd3NlcnMuIEluIG1vc3QgYnJvd3NlcnNcbiAgICAvLyBpdCdsbCBhbHdheXMgcmV0dXJuIHRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiBpdHNlbGYsIG5vIG1hdHRlciBob3cgbWFueSBvdGhlciBmdW5jdGlvbnMgaXRcbiAgICAvLyBpbmhlcml0cyBmcm9tLiBPbiBJRSB0aGUgZnVuY3Rpb24gZG9lc24ndCBoYXZlIGl0cyBvd24gYG5hbWVgIHByb3BlcnR5LCBidXQgaXQgdGFrZXMgaXQgZnJvbVxuICAgIC8vIHRoZSBsb3dlc3QgbGV2ZWwgaW4gdGhlIHByb3RvdHlwZSBjaGFpbi4gRS5nLiBpZiB3ZSBoYXZlIGBjbGFzcyBGb28gZXh0ZW5kcyBQYXJlbnRgIG1vc3RcbiAgICAvLyBicm93c2VycyB3aWxsIGV2YWx1YXRlIGBGb28ubmFtZWAgdG8gYEZvb2Agd2hpbGUgSUUgd2lsbCByZXR1cm4gYFBhcmVudGAuIFdlIHdvcmsgYXJvdW5kXG4gICAgLy8gdGhlIGlzc3VlIGJ5IGNvbnZlcnRpbmcgdGhlIGZ1bmN0aW9uIHRvIGEgc3RyaW5nIGFuZCBwYXJzaW5nIGl0cyBuYW1lIG91dCB0aGF0IHdheSB2aWEgYSByZWdleC5cbiAgICBpZiAodHlwZS5oYXNPd25Qcm9wZXJ0eSgnbmFtZScpKSB7XG4gICAgICAgIHJldHVybiB0eXBlLm5hbWU7XG4gICAgfVxuICAgIGNvbnN0IG1hdGNoID0gKCcnICsgdHlwZSkubWF0Y2goL15mdW5jdGlvblxccyooW15cXHMoXSspLyk7XG4gICAgcmV0dXJuIG1hdGNoID09PSBudWxsID8gJycgOiBtYXRjaFsxXTtcbn1cbi8qKlxuICogUmVhZCB0aGUgaW5qZWN0b3IgZGVmIHR5cGUgaW4gYSB3YXkgd2hpY2ggaXMgaW1tdW5lIHRvIGFjY2lkZW50YWxseSByZWFkaW5nIGluaGVyaXRlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gdHlwZSB0eXBlIHdoaWNoIG1heSBoYXZlIGFuIGluamVjdG9yIGRlZiAoYMm1aW5qYClcbiAqL1xuZnVuY3Rpb24gZ2V0SW5qZWN0b3JEZWYodHlwZSkge1xuICAgIHJldHVybiB0eXBlICYmICh0eXBlLmhhc093blByb3BlcnR5KE5HX0lOSl9ERUYpIHx8IHR5cGUuaGFzT3duUHJvcGVydHkoTkdfSU5KRUNUT1JfREVGKSkgP1xuICAgICAgICB0eXBlW05HX0lOSl9ERUZdIDpcbiAgICAgICAgbnVsbDtcbn1cbmNvbnN0IE5HX1BST1ZfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IMm1cHJvdjogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbmNvbnN0IE5HX0lOSl9ERUYgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgybVpbmo6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG4vLyBXZSBuZWVkIHRvIGtlZXAgdGhlc2UgYXJvdW5kIHNvIHdlIGNhbiByZWFkIG9mZiBvbGQgZGVmcyBpZiBuZXcgZGVmcyBhcmUgdW5hdmFpbGFibGVcbmNvbnN0IE5HX0lOSkVDVEFCTEVfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IG5nSW5qZWN0YWJsZURlZjogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbmNvbnN0IE5HX0lOSkVDVE9SX0RFRiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyBuZ0luamVjdG9yRGVmOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogSW5qZWN0aW9uIGZsYWdzIGZvciBESS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBJbmplY3RGbGFncztcbihmdW5jdGlvbiAoSW5qZWN0RmxhZ3MpIHtcbiAgICAvLyBUT0RPKGFseGh1Yik6IG1ha2UgdGhpcyAnY29uc3QnIChhbmQgcmVtb3ZlIGBJbnRlcm5hbEluamVjdEZsYWdzYCBlbnVtKSB3aGVuIG5nYyBubyBsb25nZXJcbiAgICAvLyB3cml0ZXMgZXhwb3J0cyBvZiBpdCBpbnRvIG5nZmFjdG9yeSBmaWxlcy5cbiAgICAvKiogQ2hlY2sgc2VsZiBhbmQgY2hlY2sgcGFyZW50IGluamVjdG9yIGlmIG5lZWRlZCAqL1xuICAgIEluamVjdEZsYWdzW0luamVjdEZsYWdzW1wiRGVmYXVsdFwiXSA9IDBdID0gXCJEZWZhdWx0XCI7XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoYXQgYW4gaW5qZWN0b3Igc2hvdWxkIHJldHJpZXZlIGEgZGVwZW5kZW5jeSBmcm9tIGFueSBpbmplY3RvciB1bnRpbCByZWFjaGluZyB0aGVcbiAgICAgKiBob3N0IGVsZW1lbnQgb2YgdGhlIGN1cnJlbnQgY29tcG9uZW50LiAoT25seSB1c2VkIHdpdGggRWxlbWVudCBJbmplY3RvcilcbiAgICAgKi9cbiAgICBJbmplY3RGbGFnc1tJbmplY3RGbGFnc1tcIkhvc3RcIl0gPSAxXSA9IFwiSG9zdFwiO1xuICAgIC8qKiBEb24ndCBhc2NlbmQgdG8gYW5jZXN0b3JzIG9mIHRoZSBub2RlIHJlcXVlc3RpbmcgaW5qZWN0aW9uLiAqL1xuICAgIEluamVjdEZsYWdzW0luamVjdEZsYWdzW1wiU2VsZlwiXSA9IDJdID0gXCJTZWxmXCI7XG4gICAgLyoqIFNraXAgdGhlIG5vZGUgdGhhdCBpcyByZXF1ZXN0aW5nIGluamVjdGlvbi4gKi9cbiAgICBJbmplY3RGbGFnc1tJbmplY3RGbGFnc1tcIlNraXBTZWxmXCJdID0gNF0gPSBcIlNraXBTZWxmXCI7XG4gICAgLyoqIEluamVjdCBgZGVmYXVsdFZhbHVlYCBpbnN0ZWFkIGlmIHRva2VuIG5vdCBmb3VuZC4gKi9cbiAgICBJbmplY3RGbGFnc1tJbmplY3RGbGFnc1tcIk9wdGlvbmFsXCJdID0gOF0gPSBcIk9wdGlvbmFsXCI7XG59KShJbmplY3RGbGFncyB8fCAoSW5qZWN0RmxhZ3MgPSB7fSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ3VycmVudCBpbXBsZW1lbnRhdGlvbiBvZiBpbmplY3QuXG4gKlxuICogQnkgZGVmYXVsdCwgaXQgaXMgYGluamVjdEluamVjdG9yT25seWAsIHdoaWNoIG1ha2VzIGl0IGBJbmplY3RvcmAtb25seSBhd2FyZS4gSXQgY2FuIGJlIGNoYW5nZWRcbiAqIHRvIGBkaXJlY3RpdmVJbmplY3RgLCB3aGljaCBicmluZ3MgaW4gdGhlIGBOb2RlSW5qZWN0b3JgIHN5c3RlbSBvZiBpdnkuIEl0IGlzIGRlc2lnbmVkIHRoaXNcbiAqIHdheSBmb3IgdHdvIHJlYXNvbnM6XG4gKiAgMS4gYEluamVjdG9yYCBzaG91bGQgbm90IGRlcGVuZCBvbiBpdnkgbG9naWMuXG4gKiAgMi4gVG8gbWFpbnRhaW4gdHJlZSBzaGFrZS1hYmlsaXR5IHdlIGRvbid0IHdhbnQgdG8gYnJpbmcgaW4gdW5uZWNlc3NhcnkgY29kZS5cbiAqL1xubGV0IF9pbmplY3RJbXBsZW1lbnRhdGlvbjtcbmZ1bmN0aW9uIGdldEluamVjdEltcGxlbWVudGF0aW9uKCkge1xuICAgIHJldHVybiBfaW5qZWN0SW1wbGVtZW50YXRpb247XG59XG4vKipcbiAqIFNldHMgdGhlIGN1cnJlbnQgaW5qZWN0IGltcGxlbWVudGF0aW9uLlxuICovXG5mdW5jdGlvbiBzZXRJbmplY3RJbXBsZW1lbnRhdGlvbihpbXBsKSB7XG4gICAgY29uc3QgcHJldmlvdXMgPSBfaW5qZWN0SW1wbGVtZW50YXRpb247XG4gICAgX2luamVjdEltcGxlbWVudGF0aW9uID0gaW1wbDtcbiAgICByZXR1cm4gcHJldmlvdXM7XG59XG4vKipcbiAqIEluamVjdHMgYHJvb3RgIHRva2VucyBpbiBsaW1wIG1vZGUuXG4gKlxuICogSWYgbm8gaW5qZWN0b3IgZXhpc3RzLCB3ZSBjYW4gc3RpbGwgaW5qZWN0IHRyZWUtc2hha2FibGUgcHJvdmlkZXJzIHdoaWNoIGhhdmUgYHByb3ZpZGVkSW5gIHNldCB0b1xuICogYFwicm9vdFwiYC4gVGhpcyBpcyBrbm93biBhcyB0aGUgbGltcCBtb2RlIGluamVjdGlvbi4gSW4gc3VjaCBjYXNlIHRoZSB2YWx1ZSBpcyBzdG9yZWQgaW4gdGhlXG4gKiBpbmplY3RhYmxlIGRlZmluaXRpb24uXG4gKi9cbmZ1bmN0aW9uIGluamVjdFJvb3RMaW1wTW9kZSh0b2tlbiwgbm90Rm91bmRWYWx1ZSwgZmxhZ3MpIHtcbiAgICBjb25zdCBpbmplY3RhYmxlRGVmID0gZ2V0SW5qZWN0YWJsZURlZih0b2tlbik7XG4gICAgaWYgKGluamVjdGFibGVEZWYgJiYgaW5qZWN0YWJsZURlZi5wcm92aWRlZEluID09ICdyb290Jykge1xuICAgICAgICByZXR1cm4gaW5qZWN0YWJsZURlZi52YWx1ZSA9PT0gdW5kZWZpbmVkID8gaW5qZWN0YWJsZURlZi52YWx1ZSA9IGluamVjdGFibGVEZWYuZmFjdG9yeSgpIDpcbiAgICAgICAgICAgIGluamVjdGFibGVEZWYudmFsdWU7XG4gICAgfVxuICAgIGlmIChmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAobm90Rm91bmRWYWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gbm90Rm91bmRWYWx1ZTtcbiAgICB0aHJvd1Byb3ZpZGVyTm90Rm91bmRFcnJvcihzdHJpbmdpZnkodG9rZW4pLCAnSW5qZWN0b3InKTtcbn1cbi8qKlxuICogQXNzZXJ0IHRoYXQgYF9pbmplY3RJbXBsZW1lbnRhdGlvbmAgaXMgbm90IGBmbmAuXG4gKlxuICogVGhpcyBpcyB1c2VmdWwsIHRvIHByZXZlbnQgaW5maW5pdGUgcmVjdXJzaW9uLlxuICpcbiAqIEBwYXJhbSBmbiBGdW5jdGlvbiB3aGljaCBpdCBzaG91bGQgbm90IGVxdWFsIHRvXG4gKi9cbmZ1bmN0aW9uIGFzc2VydEluamVjdEltcGxlbWVudGF0aW9uTm90RXF1YWwoZm4pIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0Tm90RXF1YWwoX2luamVjdEltcGxlbWVudGF0aW9uLCBmbiwgJ0NhbGxpbmcgybXJtWluamVjdCB3b3VsZCBjYXVzZSBpbmZpbml0ZSByZWN1cnNpb24nKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbnZpbmNlIGNsb3N1cmUgY29tcGlsZXIgdGhhdCB0aGUgd3JhcHBlZCBmdW5jdGlvbiBoYXMgbm8gc2lkZS1lZmZlY3RzLlxuICpcbiAqIENsb3N1cmUgY29tcGlsZXIgYWx3YXlzIGFzc3VtZXMgdGhhdCBgdG9TdHJpbmdgIGhhcyBubyBzaWRlLWVmZmVjdHMuIFdlIHVzZSB0aGlzIHF1aXJrIHRvXG4gKiBhbGxvdyB1cyB0byBleGVjdXRlIGEgZnVuY3Rpb24gYnV0IGhhdmUgY2xvc3VyZSBjb21waWxlciBtYXJrIHRoZSBjYWxsIGFzIG5vLXNpZGUtZWZmZWN0cy5cbiAqIEl0IGlzIGltcG9ydGFudCB0aGF0IHRoZSByZXR1cm4gdmFsdWUgZm9yIHRoZSBgbm9TaWRlRWZmZWN0c2AgZnVuY3Rpb24gYmUgYXNzaWduZWRcbiAqIHRvIHNvbWV0aGluZyB3aGljaCBpcyByZXRhaW5lZCBvdGhlcndpc2UgdGhlIGNhbGwgdG8gYG5vU2lkZUVmZmVjdHNgIHdpbGwgYmUgcmVtb3ZlZCBieSBjbG9zdXJlXG4gKiBjb21waWxlci5cbiAqL1xuZnVuY3Rpb24gbm9TaWRlRWZmZWN0cyhmbikge1xuICAgIHJldHVybiB7IHRvU3RyaW5nOiBmbiB9LnRvU3RyaW5nKCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGUgc3RyYXRlZ3kgdGhhdCB0aGUgZGVmYXVsdCBjaGFuZ2UgZGV0ZWN0b3IgdXNlcyB0byBkZXRlY3QgY2hhbmdlcy5cbiAqIFdoZW4gc2V0LCB0YWtlcyBlZmZlY3QgdGhlIG5leHQgdGltZSBjaGFuZ2UgZGV0ZWN0aW9uIGlzIHRyaWdnZXJlZC5cbiAqXG4gKiBAc2VlIHtAbGluayBDaGFuZ2VEZXRlY3RvclJlZiN1c2FnZS1ub3RlcyBDaGFuZ2UgZGV0ZWN0aW9uIHVzYWdlfVxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIENoYW5nZURldGVjdGlvblN0cmF0ZWd5O1xuKGZ1bmN0aW9uIChDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSkge1xuICAgIC8qKlxuICAgICAqIFVzZSB0aGUgYENoZWNrT25jZWAgc3RyYXRlZ3ksIG1lYW5pbmcgdGhhdCBhdXRvbWF0aWMgY2hhbmdlIGRldGVjdGlvbiBpcyBkZWFjdGl2YXRlZFxuICAgICAqIHVudGlsIHJlYWN0aXZhdGVkIGJ5IHNldHRpbmcgdGhlIHN0cmF0ZWd5IHRvIGBEZWZhdWx0YCAoYENoZWNrQWx3YXlzYCkuXG4gICAgICogQ2hhbmdlIGRldGVjdGlvbiBjYW4gc3RpbGwgYmUgZXhwbGljaXRseSBpbnZva2VkLlxuICAgICAqIFRoaXMgc3RyYXRlZ3kgYXBwbGllcyB0byBhbGwgY2hpbGQgZGlyZWN0aXZlcyBhbmQgY2Fubm90IGJlIG92ZXJyaWRkZW4uXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbXCJPblB1c2hcIl0gPSAwXSA9IFwiT25QdXNoXCI7XG4gICAgLyoqXG4gICAgICogVXNlIHRoZSBkZWZhdWx0IGBDaGVja0Fsd2F5c2Agc3RyYXRlZ3ksIGluIHdoaWNoIGNoYW5nZSBkZXRlY3Rpb24gaXMgYXV0b21hdGljIHVudGlsXG4gICAgICogZXhwbGljaXRseSBkZWFjdGl2YXRlZC5cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneVtDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneVtcIkRlZmF1bHRcIl0gPSAxXSA9IFwiRGVmYXVsdFwiO1xufSkoQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgfHwgKENoYW5nZURldGVjdGlvblN0cmF0ZWd5ID0ge30pKTtcbi8qKlxuICogRGVmaW5lcyB0aGUgcG9zc2libGUgc3RhdGVzIG9mIHRoZSBkZWZhdWx0IGNoYW5nZSBkZXRlY3Rvci5cbiAqIEBzZWUgYENoYW5nZURldGVjdG9yUmVmYFxuICovXG52YXIgQ2hhbmdlRGV0ZWN0b3JTdGF0dXM7XG4oZnVuY3Rpb24gKENoYW5nZURldGVjdG9yU3RhdHVzKSB7XG4gICAgLyoqXG4gICAgICogQSBzdGF0ZSBpbiB3aGljaCwgYWZ0ZXIgY2FsbGluZyBgZGV0ZWN0Q2hhbmdlcygpYCwgdGhlIGNoYW5nZSBkZXRlY3RvclxuICAgICAqIHN0YXRlIGJlY29tZXMgYENoZWNrZWRgLCBhbmQgbXVzdCBiZSBleHBsaWNpdGx5IGludm9rZWQgb3IgcmVhY3RpdmF0ZWQuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbXCJDaGVja09uY2VcIl0gPSAwXSA9IFwiQ2hlY2tPbmNlXCI7XG4gICAgLyoqXG4gICAgICogQSBzdGF0ZSBpbiB3aGljaCBjaGFuZ2UgZGV0ZWN0aW9uIGlzIHNraXBwZWQgdW50aWwgdGhlIGNoYW5nZSBkZXRlY3RvciBtb2RlXG4gICAgICogYmVjb21lcyBgQ2hlY2tPbmNlYC5cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3RvclN0YXR1c1tDaGFuZ2VEZXRlY3RvclN0YXR1c1tcIkNoZWNrZWRcIl0gPSAxXSA9IFwiQ2hlY2tlZFwiO1xuICAgIC8qKlxuICAgICAqIEEgc3RhdGUgaW4gd2hpY2ggY2hhbmdlIGRldGVjdGlvbiBjb250aW51ZXMgYXV0b21hdGljYWxseSB1bnRpbCBleHBsaWNpdGx5XG4gICAgICogZGVhY3RpdmF0ZWQuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbXCJDaGVja0Fsd2F5c1wiXSA9IDJdID0gXCJDaGVja0Fsd2F5c1wiO1xuICAgIC8qKlxuICAgICAqIEEgc3RhdGUgaW4gd2hpY2ggYSBjaGFuZ2UgZGV0ZWN0b3Igc3ViIHRyZWUgaXMgbm90IGEgcGFydCBvZiB0aGUgbWFpbiB0cmVlIGFuZFxuICAgICAqIHNob3VsZCBiZSBza2lwcGVkLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzW1wiRGV0YWNoZWRcIl0gPSAzXSA9IFwiRGV0YWNoZWRcIjtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgY2hhbmdlIGRldGVjdG9yIGVuY291bnRlcmVkIGFuIGVycm9yIGNoZWNraW5nIGEgYmluZGluZ1xuICAgICAqIG9yIGNhbGxpbmcgYSBkaXJlY3RpdmUgbGlmZWN5Y2xlIG1ldGhvZCBhbmQgaXMgbm93IGluIGFuIGluY29uc2lzdGVudCBzdGF0ZS4gQ2hhbmdlXG4gICAgICogZGV0ZWN0b3JzIGluIHRoaXMgc3RhdGUgZG8gbm90IGRldGVjdCBjaGFuZ2VzLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzW1wiRXJyb3JlZFwiXSA9IDRdID0gXCJFcnJvcmVkXCI7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlIGNoYW5nZSBkZXRlY3RvciBoYXMgYmVlbiBkZXN0cm95ZWQuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbXCJEZXN0cm95ZWRcIl0gPSA1XSA9IFwiRGVzdHJveWVkXCI7XG59KShDaGFuZ2VEZXRlY3RvclN0YXR1cyB8fCAoQ2hhbmdlRGV0ZWN0b3JTdGF0dXMgPSB7fSkpO1xuLyoqXG4gKiBSZXBvcnRzIHdoZXRoZXIgYSBnaXZlbiBzdHJhdGVneSBpcyBjdXJyZW50bHkgdGhlIGRlZmF1bHQgZm9yIGNoYW5nZSBkZXRlY3Rpb24uXG4gKiBAcGFyYW0gY2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgVGhlIHN0cmF0ZWd5IHRvIGNoZWNrLlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZ2l2ZW4gc3RyYXRlZ3kgaXMgdGhlIGN1cnJlbnQgZGVmYXVsdCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICogQHNlZSBgQ2hhbmdlRGV0ZWN0b3JTdGF0dXNgXG4gKiBAc2VlIGBDaGFuZ2VEZXRlY3RvclJlZmBcbiAqL1xuZnVuY3Rpb24gaXNEZWZhdWx0Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3koY2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kpIHtcbiAgICByZXR1cm4gY2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgPT0gbnVsbCB8fFxuICAgICAgICBjaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSA9PT0gQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGVmYXVsdDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIERlZmluZXMgdGhlIENTUyBzdHlsZXMgZW5jYXBzdWxhdGlvbiBwb2xpY2llcyBmb3IgdGhlIHtAbGluayBDb21wb25lbnR9IGRlY29yYXRvcidzXG4gKiBgZW5jYXBzdWxhdGlvbmAgb3B0aW9uLlxuICpcbiAqIFNlZSB7QGxpbmsgQ29tcG9uZW50I2VuY2Fwc3VsYXRpb24gZW5jYXBzdWxhdGlvbn0uXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICoge0BleGFtcGxlIGNvcmUvdHMvbWV0YWRhdGEvZW5jYXBzdWxhdGlvbi50cyByZWdpb249J2xvbmdmb3JtJ31cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBWaWV3RW5jYXBzdWxhdGlvbiQxO1xuKGZ1bmN0aW9uIChWaWV3RW5jYXBzdWxhdGlvbikge1xuICAgIC8vIFRPRE86IGNvbnNpZGVyIG1ha2luZyBgVmlld0VuY2Fwc3VsYXRpb25gIGEgYGNvbnN0IGVudW1gIGluc3RlYWQuIFNlZVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzQ0MTE5IGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uLlxuICAgIC8qKlxuICAgICAqIEVtdWxhdGVzIGEgbmF0aXZlIFNoYWRvdyBET00gZW5jYXBzdWxhdGlvbiBiZWhhdmlvciBieSBhZGRpbmcgYSBzcGVjaWZpYyBhdHRyaWJ1dGUgdG8gdGhlXG4gICAgICogY29tcG9uZW50J3MgaG9zdCBlbGVtZW50IGFuZCBhcHBseWluZyB0aGUgc2FtZSBhdHRyaWJ1dGUgdG8gYWxsIHRoZSBDU1Mgc2VsZWN0b3JzIHByb3ZpZGVkXG4gICAgICogdmlhIHtAbGluayBDb21wb25lbnQjc3R5bGVzIHN0eWxlc30gb3Ige0BsaW5rIENvbXBvbmVudCNzdHlsZVVybHMgc3R5bGVVcmxzfS5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdGhlIGRlZmF1bHQgb3B0aW9uLlxuICAgICAqL1xuICAgIFZpZXdFbmNhcHN1bGF0aW9uW1ZpZXdFbmNhcHN1bGF0aW9uW1wiRW11bGF0ZWRcIl0gPSAwXSA9IFwiRW11bGF0ZWRcIjtcbiAgICAvLyBIaXN0b3JpY2FsbHkgdGhlIDEgdmFsdWUgd2FzIGZvciBgTmF0aXZlYCBlbmNhcHN1bGF0aW9uIHdoaWNoIGhhcyBiZWVuIHJlbW92ZWQgYXMgb2YgdjExLlxuICAgIC8qKlxuICAgICAqIERvZXNuJ3QgcHJvdmlkZSBhbnkgc29ydCBvZiBDU1Mgc3R5bGUgZW5jYXBzdWxhdGlvbiwgbWVhbmluZyB0aGF0IGFsbCB0aGUgc3R5bGVzIHByb3ZpZGVkXG4gICAgICogdmlhIHtAbGluayBDb21wb25lbnQjc3R5bGVzIHN0eWxlc30gb3Ige0BsaW5rIENvbXBvbmVudCNzdHlsZVVybHMgc3R5bGVVcmxzfSBhcmUgYXBwbGljYWJsZVxuICAgICAqIHRvIGFueSBIVE1MIGVsZW1lbnQgb2YgdGhlIGFwcGxpY2F0aW9uIHJlZ2FyZGxlc3Mgb2YgdGhlaXIgaG9zdCBDb21wb25lbnQuXG4gICAgICovXG4gICAgVmlld0VuY2Fwc3VsYXRpb25bVmlld0VuY2Fwc3VsYXRpb25bXCJOb25lXCJdID0gMl0gPSBcIk5vbmVcIjtcbiAgICAvKipcbiAgICAgKiBVc2VzIHRoZSBicm93c2VyJ3MgbmF0aXZlIFNoYWRvdyBET00gQVBJIHRvIGVuY2Fwc3VsYXRlIENTUyBzdHlsZXMsIG1lYW5pbmcgdGhhdCBpdCBjcmVhdGVzXG4gICAgICogYSBTaGFkb3dSb290IGZvciB0aGUgY29tcG9uZW50J3MgaG9zdCBlbGVtZW50IHdoaWNoIGlzIHRoZW4gdXNlZCB0byBlbmNhcHN1bGF0ZVxuICAgICAqIGFsbCB0aGUgQ29tcG9uZW50J3Mgc3R5bGluZy5cbiAgICAgKi9cbiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvbltcIlNoYWRvd0RvbVwiXSA9IDNdID0gXCJTaGFkb3dEb21cIjtcbn0pKFZpZXdFbmNhcHN1bGF0aW9uJDEgfHwgKFZpZXdFbmNhcHN1bGF0aW9uJDEgPSB7fSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IF9fZ2xvYmFsVGhpcyA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWxUaGlzO1xuY29uc3QgX193aW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3c7XG5jb25zdCBfX3NlbGYgPSB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSAmJiBzZWxmO1xuY29uc3QgX19nbG9iYWwgPSB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWw7XG4vLyBBbHdheXMgdXNlIF9fZ2xvYmFsVGhpcyBpZiBhdmFpbGFibGUsIHdoaWNoIGlzIHRoZSBzcGVjLWRlZmluZWQgZ2xvYmFsIHZhcmlhYmxlIGFjcm9zcyBhbGxcbi8vIGVudmlyb25tZW50cywgdGhlbiBmYWxsYmFjayB0byBfX2dsb2JhbCBmaXJzdCwgYmVjYXVzZSBpbiBOb2RlIHRlc3RzIGJvdGggX19nbG9iYWwgYW5kXG4vLyBfX3dpbmRvdyBtYXkgYmUgZGVmaW5lZCBhbmQgX2dsb2JhbCBzaG91bGQgYmUgX19nbG9iYWwgaW4gdGhhdCBjYXNlLlxuY29uc3QgX2dsb2JhbCA9IF9fZ2xvYmFsVGhpcyB8fCBfX2dsb2JhbCB8fCBfX3dpbmRvdyB8fCBfX3NlbGY7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gbmdEZXZNb2RlUmVzZXRQZXJmQ291bnRlcnMoKSB7XG4gICAgY29uc3QgbG9jYXRpb25TdHJpbmcgPSB0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnID8gbG9jYXRpb24udG9TdHJpbmcoKSA6ICcnO1xuICAgIGNvbnN0IG5ld0NvdW50ZXJzID0ge1xuICAgICAgICBuYW1lZENvbnN0cnVjdG9yczogbG9jYXRpb25TdHJpbmcuaW5kZXhPZignbmdEZXZNb2RlPW5hbWVkQ29uc3RydWN0b3JzJykgIT0gLTEsXG4gICAgICAgIGZpcnN0Q3JlYXRlUGFzczogMCxcbiAgICAgICAgdE5vZGU6IDAsXG4gICAgICAgIHRWaWV3OiAwLFxuICAgICAgICByZW5kZXJlckNyZWF0ZVRleHROb2RlOiAwLFxuICAgICAgICByZW5kZXJlclNldFRleHQ6IDAsXG4gICAgICAgIHJlbmRlcmVyQ3JlYXRlRWxlbWVudDogMCxcbiAgICAgICAgcmVuZGVyZXJBZGRFdmVudExpc3RlbmVyOiAwLFxuICAgICAgICByZW5kZXJlclNldEF0dHJpYnV0ZTogMCxcbiAgICAgICAgcmVuZGVyZXJSZW1vdmVBdHRyaWJ1dGU6IDAsXG4gICAgICAgIHJlbmRlcmVyU2V0UHJvcGVydHk6IDAsXG4gICAgICAgIHJlbmRlcmVyU2V0Q2xhc3NOYW1lOiAwLFxuICAgICAgICByZW5kZXJlckFkZENsYXNzOiAwLFxuICAgICAgICByZW5kZXJlclJlbW92ZUNsYXNzOiAwLFxuICAgICAgICByZW5kZXJlclNldFN0eWxlOiAwLFxuICAgICAgICByZW5kZXJlclJlbW92ZVN0eWxlOiAwLFxuICAgICAgICByZW5kZXJlckRlc3Ryb3k6IDAsXG4gICAgICAgIHJlbmRlcmVyRGVzdHJveU5vZGU6IDAsXG4gICAgICAgIHJlbmRlcmVyTW92ZU5vZGU6IDAsXG4gICAgICAgIHJlbmRlcmVyUmVtb3ZlTm9kZTogMCxcbiAgICAgICAgcmVuZGVyZXJBcHBlbmRDaGlsZDogMCxcbiAgICAgICAgcmVuZGVyZXJJbnNlcnRCZWZvcmU6IDAsXG4gICAgICAgIHJlbmRlcmVyQ3JlYXRlQ29tbWVudDogMCxcbiAgICB9O1xuICAgIC8vIE1ha2Ugc3VyZSB0byByZWZlciB0byBuZ0Rldk1vZGUgYXMgWyduZ0Rldk1vZGUnXSBmb3IgY2xvc3VyZS5cbiAgICBjb25zdCBhbGxvd05nRGV2TW9kZVRydWUgPSBsb2NhdGlvblN0cmluZy5pbmRleE9mKCduZ0Rldk1vZGU9ZmFsc2UnKSA9PT0gLTE7XG4gICAgX2dsb2JhbFsnbmdEZXZNb2RlJ10gPSBhbGxvd05nRGV2TW9kZVRydWUgJiYgbmV3Q291bnRlcnM7XG4gICAgcmV0dXJuIG5ld0NvdW50ZXJzO1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNoZWNrcyB0byBzZWUgaWYgdGhlIGBuZ0Rldk1vZGVgIGhhcyBiZWVuIHNldC4gSWYgeWVzLFxuICogdGhlbiB3ZSBob25vciBpdCwgb3RoZXJ3aXNlIHdlIGRlZmF1bHQgdG8gZGV2IG1vZGUgd2l0aCBhZGRpdGlvbmFsIGNoZWNrcy5cbiAqXG4gKiBUaGUgaWRlYSBpcyB0aGF0IHVubGVzcyB3ZSBhcmUgZG9pbmcgcHJvZHVjdGlvbiBidWlsZCB3aGVyZSB3ZSBleHBsaWNpdGx5XG4gKiBzZXQgYG5nRGV2TW9kZSA9PSBmYWxzZWAgd2Ugc2hvdWxkIGJlIGhlbHBpbmcgdGhlIGRldmVsb3BlciBieSBwcm92aWRpbmdcbiAqIGFzIG11Y2ggZWFybHkgd2FybmluZyBhbmQgZXJyb3JzIGFzIHBvc3NpYmxlLlxuICpcbiAqIGDJtcm1ZGVmaW5lQ29tcG9uZW50YCBpcyBndWFyYW50ZWVkIHRvIGhhdmUgYmVlbiBjYWxsZWQgYmVmb3JlIGFueSBjb21wb25lbnQgdGVtcGxhdGUgZnVuY3Rpb25zXG4gKiAoYW5kIHRodXMgSXZ5IGluc3RydWN0aW9ucyksIHNvIGEgc2luZ2xlIGluaXRpYWxpemF0aW9uIHRoZXJlIGlzIHN1ZmZpY2llbnQgdG8gZW5zdXJlIG5nRGV2TW9kZVxuICogaXMgZGVmaW5lZCBmb3IgdGhlIGVudGlyZSBpbnN0cnVjdGlvbiBzZXQuXG4gKlxuICogV2hlbiBjaGVja2luZyBgbmdEZXZNb2RlYCBvbiB0b3BsZXZlbCwgYWx3YXlzIGluaXQgaXQgYmVmb3JlIHJlZmVyZW5jaW5nIGl0XG4gKiAoZS5nLiBgKCh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpICYmIGluaXROZ0Rldk1vZGUoKSlgKSwgb3RoZXJ3aXNlIHlvdSBjYW5cbiAqICBnZXQgYSBgUmVmZXJlbmNlRXJyb3JgIGxpa2UgaW4gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMzE1OTUuXG4gKlxuICogRGV0YWlscyBvbiBwb3NzaWJsZSB2YWx1ZXMgZm9yIGBuZ0Rldk1vZGVgIGNhbiBiZSBmb3VuZCBvbiBpdHMgZG9jc3RyaW5nLlxuICpcbiAqIE5PVEU6XG4gKiAtIGNoYW5nZXMgdG8gdGhlIGBuZ0Rldk1vZGVgIG5hbWUgbXVzdCBiZSBzeW5jZWQgd2l0aCBgY29tcGlsZXItY2xpL3NyYy90b29saW5nLnRzYC5cbiAqL1xuZnVuY3Rpb24gaW5pdE5nRGV2TW9kZSgpIHtcbiAgICAvLyBUaGUgYmVsb3cgY2hlY2tzIGFyZSB0byBlbnN1cmUgdGhhdCBjYWxsaW5nIGBpbml0TmdEZXZNb2RlYCBtdWx0aXBsZSB0aW1lcyBkb2VzIG5vdFxuICAgIC8vIHJlc2V0IHRoZSBjb3VudGVycy5cbiAgICAvLyBJZiB0aGUgYG5nRGV2TW9kZWAgaXMgbm90IGFuIG9iamVjdCwgdGhlbiBpdCBtZWFucyB3ZSBoYXZlIG5vdCBjcmVhdGVkIHRoZSBwZXJmIGNvdW50ZXJzXG4gICAgLy8geWV0LlxuICAgIGlmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGVSZXNldFBlcmZDb3VudGVycygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eXBlb2YgbmdEZXZNb2RlICE9PSAndW5kZWZpbmVkJyAmJiAhIW5nRGV2TW9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhpcyBmaWxlIGNvbnRhaW5zIHJldXNlYWJsZSBcImVtcHR5XCIgc3ltYm9scyB0aGF0IGNhbiBiZSB1c2VkIGFzIGRlZmF1bHQgcmV0dXJuIHZhbHVlc1xuICogaW4gZGlmZmVyZW50IHBhcnRzIG9mIHRoZSByZW5kZXJpbmcgY29kZS4gQmVjYXVzZSB0aGUgc2FtZSBzeW1ib2xzIGFyZSByZXR1cm5lZCwgdGhpc1xuICogYWxsb3dzIGZvciBpZGVudGl0eSBjaGVja3MgYWdhaW5zdCB0aGVzZSB2YWx1ZXMgdG8gYmUgY29uc2lzdGVudGx5IHVzZWQgYnkgdGhlIGZyYW1ld29ya1xuICogY29kZS5cbiAqL1xuY29uc3QgRU1QVFlfT0JKID0ge307XG5jb25zdCBFTVBUWV9BUlJBWSA9IFtdO1xuLy8gZnJlZXppbmcgdGhlIHZhbHVlcyBwcmV2ZW50cyBhbnkgY29kZSBmcm9tIGFjY2lkZW50YWxseSBpbnNlcnRpbmcgbmV3IHZhbHVlcyBpblxuaWYgKCh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpICYmIGluaXROZ0Rldk1vZGUoKSkge1xuICAgIC8vIFRoZXNlIHByb3BlcnR5IGFjY2Vzc2VzIGNhbiBiZSBpZ25vcmVkIGJlY2F1c2UgbmdEZXZNb2RlIHdpbGwgYmUgc2V0IHRvIGZhbHNlXG4gICAgLy8gd2hlbiBvcHRpbWl6aW5nIGNvZGUgYW5kIHRoZSB3aG9sZSBpZiBzdGF0ZW1lbnQgd2lsbCBiZSBkcm9wcGVkLlxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbiAgICBPYmplY3QuZnJlZXplKEVNUFRZX09CSik7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuICAgIE9iamVjdC5mcmVlemUoRU1QVFlfQVJSQVkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IE5HX0NPTVBfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IMm1Y21wOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuY29uc3QgTkdfRElSX0RFRiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyDJtWRpcjogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbmNvbnN0IE5HX1BJUEVfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IMm1cGlwZTogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbmNvbnN0IE5HX01PRF9ERUYgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgybVtb2Q6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG5jb25zdCBOR19GQUNUT1JZX0RFRiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyDJtWZhYzogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbi8qKlxuICogSWYgYSBkaXJlY3RpdmUgaXMgZGlQdWJsaWMsIGJsb29tQWRkIHNldHMgYSBwcm9wZXJ0eSBvbiB0aGUgdHlwZSB3aXRoIHRoaXMgY29uc3RhbnQgYXNcbiAqIHRoZSBrZXkgYW5kIHRoZSBkaXJlY3RpdmUncyB1bmlxdWUgSUQgYXMgdGhlIHZhbHVlLiBUaGlzIGFsbG93cyB1cyB0byBtYXAgZGlyZWN0aXZlcyB0byB0aGVpclxuICogYmxvb20gZmlsdGVyIGJpdCBmb3IgREkuXG4gKi9cbi8vIFRPRE8obWlza28pOiBUaGlzIGlzIHdyb25nLiBUaGUgTkdfRUxFTUVOVF9JRCBzaG91bGQgbmV2ZXIgYmUgbWluaWZpZWQuXG5jb25zdCBOR19FTEVNRU5UX0lEID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IF9fTkdfRUxFTUVOVF9JRF9fOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmxldCBfcmVuZGVyQ29tcENvdW50ID0gMDtcbi8qKlxuICogQ3JlYXRlIGEgY29tcG9uZW50IGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqXG4gKiAjIEV4YW1wbGVcbiAqIGBgYFxuICogY2xhc3MgTXlEaXJlY3RpdmUge1xuICogICAvLyBHZW5lcmF0ZWQgYnkgQW5ndWxhciBUZW1wbGF0ZSBDb21waWxlclxuICogICAvLyBbU3ltYm9sXSBzeW50YXggd2lsbCBub3QgYmUgc3VwcG9ydGVkIGJ5IFR5cGVTY3JpcHQgdW50aWwgdjIuN1xuICogICBzdGF0aWMgybVjbXAgPSBkZWZpbmVDb21wb25lbnQoe1xuICogICAgIC4uLlxuICogICB9KTtcbiAqIH1cbiAqIGBgYFxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWRlZmluZUNvbXBvbmVudChjb21wb25lbnREZWZpbml0aW9uKSB7XG4gICAgcmV0dXJuIG5vU2lkZUVmZmVjdHMoKCkgPT4ge1xuICAgICAgICAvLyBJbml0aWFsaXplIG5nRGV2TW9kZS4gVGhpcyBtdXN0IGJlIHRoZSBmaXJzdCBzdGF0ZW1lbnQgaW4gybXJtWRlZmluZUNvbXBvbmVudC5cbiAgICAgICAgLy8gU2VlIHRoZSBgaW5pdE5nRGV2TW9kZWAgZG9jc3RyaW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAgICAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSAmJiBpbml0TmdEZXZNb2RlKCk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBjb21wb25lbnREZWZpbml0aW9uLnR5cGU7XG4gICAgICAgIGNvbnN0IGRlY2xhcmVkSW5wdXRzID0ge307XG4gICAgICAgIGNvbnN0IGRlZiA9IHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBwcm92aWRlcnNSZXNvbHZlcjogbnVsbCxcbiAgICAgICAgICAgIGRlY2xzOiBjb21wb25lbnREZWZpbml0aW9uLmRlY2xzLFxuICAgICAgICAgICAgdmFyczogY29tcG9uZW50RGVmaW5pdGlvbi52YXJzLFxuICAgICAgICAgICAgZmFjdG9yeTogbnVsbCxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBjb21wb25lbnREZWZpbml0aW9uLnRlbXBsYXRlIHx8IG51bGwsXG4gICAgICAgICAgICBjb25zdHM6IGNvbXBvbmVudERlZmluaXRpb24uY29uc3RzIHx8IG51bGwsXG4gICAgICAgICAgICBuZ0NvbnRlbnRTZWxlY3RvcnM6IGNvbXBvbmVudERlZmluaXRpb24ubmdDb250ZW50U2VsZWN0b3JzLFxuICAgICAgICAgICAgaG9zdEJpbmRpbmdzOiBjb21wb25lbnREZWZpbml0aW9uLmhvc3RCaW5kaW5ncyB8fCBudWxsLFxuICAgICAgICAgICAgaG9zdFZhcnM6IGNvbXBvbmVudERlZmluaXRpb24uaG9zdFZhcnMgfHwgMCxcbiAgICAgICAgICAgIGhvc3RBdHRyczogY29tcG9uZW50RGVmaW5pdGlvbi5ob3N0QXR0cnMgfHwgbnVsbCxcbiAgICAgICAgICAgIGNvbnRlbnRRdWVyaWVzOiBjb21wb25lbnREZWZpbml0aW9uLmNvbnRlbnRRdWVyaWVzIHx8IG51bGwsXG4gICAgICAgICAgICBkZWNsYXJlZElucHV0czogZGVjbGFyZWRJbnB1dHMsXG4gICAgICAgICAgICBpbnB1dHM6IG51bGwsXG4gICAgICAgICAgICBvdXRwdXRzOiBudWxsLFxuICAgICAgICAgICAgZXhwb3J0QXM6IGNvbXBvbmVudERlZmluaXRpb24uZXhwb3J0QXMgfHwgbnVsbCxcbiAgICAgICAgICAgIG9uUHVzaDogY29tcG9uZW50RGVmaW5pdGlvbi5jaGFuZ2VEZXRlY3Rpb24gPT09IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICAgICAgICAgIGRpcmVjdGl2ZURlZnM6IG51bGwsXG4gICAgICAgICAgICBwaXBlRGVmczogbnVsbCxcbiAgICAgICAgICAgIHNlbGVjdG9yczogY29tcG9uZW50RGVmaW5pdGlvbi5zZWxlY3RvcnMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgICAgICB2aWV3UXVlcnk6IGNvbXBvbmVudERlZmluaXRpb24udmlld1F1ZXJ5IHx8IG51bGwsXG4gICAgICAgICAgICBmZWF0dXJlczogY29tcG9uZW50RGVmaW5pdGlvbi5mZWF0dXJlcyB8fCBudWxsLFxuICAgICAgICAgICAgZGF0YTogY29tcG9uZW50RGVmaW5pdGlvbi5kYXRhIHx8IHt9LFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogY29tcG9uZW50RGVmaW5pdGlvbi5lbmNhcHN1bGF0aW9uIHx8IFZpZXdFbmNhcHN1bGF0aW9uJDEuRW11bGF0ZWQsXG4gICAgICAgICAgICBpZDogJ2MnLFxuICAgICAgICAgICAgc3R5bGVzOiBjb21wb25lbnREZWZpbml0aW9uLnN0eWxlcyB8fCBFTVBUWV9BUlJBWSxcbiAgICAgICAgICAgIF86IG51bGwsXG4gICAgICAgICAgICBzZXRJbnB1dDogbnVsbCxcbiAgICAgICAgICAgIHNjaGVtYXM6IGNvbXBvbmVudERlZmluaXRpb24uc2NoZW1hcyB8fCBudWxsLFxuICAgICAgICAgICAgdFZpZXc6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGRpcmVjdGl2ZVR5cGVzID0gY29tcG9uZW50RGVmaW5pdGlvbi5kaXJlY3RpdmVzO1xuICAgICAgICBjb25zdCBmZWF0dXJlID0gY29tcG9uZW50RGVmaW5pdGlvbi5mZWF0dXJlcztcbiAgICAgICAgY29uc3QgcGlwZVR5cGVzID0gY29tcG9uZW50RGVmaW5pdGlvbi5waXBlcztcbiAgICAgICAgZGVmLmlkICs9IF9yZW5kZXJDb21wQ291bnQrKztcbiAgICAgICAgZGVmLmlucHV0cyA9IGludmVydE9iamVjdChjb21wb25lbnREZWZpbml0aW9uLmlucHV0cywgZGVjbGFyZWRJbnB1dHMpLFxuICAgICAgICAgICAgZGVmLm91dHB1dHMgPSBpbnZlcnRPYmplY3QoY29tcG9uZW50RGVmaW5pdGlvbi5vdXRwdXRzKSxcbiAgICAgICAgICAgIGZlYXR1cmUgJiYgZmVhdHVyZS5mb3JFYWNoKChmbikgPT4gZm4oZGVmKSk7XG4gICAgICAgIGRlZi5kaXJlY3RpdmVEZWZzID0gZGlyZWN0aXZlVHlwZXMgP1xuICAgICAgICAgICAgKCkgPT4gKHR5cGVvZiBkaXJlY3RpdmVUeXBlcyA9PT0gJ2Z1bmN0aW9uJyA/IGRpcmVjdGl2ZVR5cGVzKCkgOiBkaXJlY3RpdmVUeXBlcylcbiAgICAgICAgICAgICAgICAubWFwKGV4dHJhY3REaXJlY3RpdmVEZWYpIDpcbiAgICAgICAgICAgIG51bGw7XG4gICAgICAgIGRlZi5waXBlRGVmcyA9IHBpcGVUeXBlcyA/XG4gICAgICAgICAgICAoKSA9PiAodHlwZW9mIHBpcGVUeXBlcyA9PT0gJ2Z1bmN0aW9uJyA/IHBpcGVUeXBlcygpIDogcGlwZVR5cGVzKS5tYXAoZXh0cmFjdFBpcGVEZWYpIDpcbiAgICAgICAgICAgIG51bGw7XG4gICAgICAgIHJldHVybiBkZWY7XG4gICAgfSk7XG59XG4vKipcbiAqIEdlbmVyYXRlZCBuZXh0IHRvIE5nTW9kdWxlcyB0byBtb25rZXktcGF0Y2ggZGlyZWN0aXZlIGFuZCBwaXBlIHJlZmVyZW5jZXMgb250byBhIGNvbXBvbmVudCdzXG4gKiBkZWZpbml0aW9uLCB3aGVuIGdlbmVyYXRpbmcgYSBkaXJlY3QgcmVmZXJlbmNlIGluIHRoZSBjb21wb25lbnQgZmlsZSB3b3VsZCBvdGhlcndpc2UgY3JlYXRlIGFuXG4gKiBpbXBvcnQgY3ljbGUuXG4gKlxuICogU2VlIFt0aGlzIGV4cGxhbmF0aW9uXShodHRwczovL2hhY2ttZC5pby9PZHc4MEQwcFI2eWZzT2pnXzdYQ0pnP3ZpZXcpIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXNldENvbXBvbmVudFNjb3BlKHR5cGUsIGRpcmVjdGl2ZXMsIHBpcGVzKSB7XG4gICAgY29uc3QgZGVmID0gdHlwZS7JtWNtcDtcbiAgICBkZWYuZGlyZWN0aXZlRGVmcyA9ICgpID0+IGRpcmVjdGl2ZXMubWFwKGV4dHJhY3REaXJlY3RpdmVEZWYpO1xuICAgIGRlZi5waXBlRGVmcyA9ICgpID0+IHBpcGVzLm1hcChleHRyYWN0UGlwZURlZik7XG59XG5mdW5jdGlvbiBleHRyYWN0RGlyZWN0aXZlRGVmKHR5cGUpIHtcbiAgICBjb25zdCBkZWYgPSBnZXRDb21wb25lbnREZWYodHlwZSkgfHwgZ2V0RGlyZWN0aXZlRGVmKHR5cGUpO1xuICAgIGlmIChuZ0Rldk1vZGUgJiYgIWRlZikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke3R5cGUubmFtZX0nIGlzIG5laXRoZXIgJ0NvbXBvbmVudFR5cGUnIG9yICdEaXJlY3RpdmVUeXBlJy5gKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZjtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RQaXBlRGVmKHR5cGUpIHtcbiAgICBjb25zdCBkZWYgPSBnZXRQaXBlRGVmJDEodHlwZSk7XG4gICAgaWYgKG5nRGV2TW9kZSAmJiAhZGVmKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7dHlwZS5uYW1lfScgaXMgbm90IGEgJ1BpcGVUeXBlJy5gKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZjtcbn1cbmNvbnN0IGF1dG9SZWdpc3Rlck1vZHVsZUJ5SWQgPSB7fTtcbi8qKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWRlZmluZU5nTW9kdWxlKGRlZikge1xuICAgIHJldHVybiBub1NpZGVFZmZlY3RzKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICAgICAgdHlwZTogZGVmLnR5cGUsXG4gICAgICAgICAgICBib290c3RyYXA6IGRlZi5ib290c3RyYXAgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgICAgICBkZWNsYXJhdGlvbnM6IGRlZi5kZWNsYXJhdGlvbnMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgICAgICBpbXBvcnRzOiBkZWYuaW1wb3J0cyB8fCBFTVBUWV9BUlJBWSxcbiAgICAgICAgICAgIGV4cG9ydHM6IGRlZi5leHBvcnRzIHx8IEVNUFRZX0FSUkFZLFxuICAgICAgICAgICAgdHJhbnNpdGl2ZUNvbXBpbGVTY29wZXM6IG51bGwsXG4gICAgICAgICAgICBzY2hlbWFzOiBkZWYuc2NoZW1hcyB8fCBudWxsLFxuICAgICAgICAgICAgaWQ6IGRlZi5pZCB8fCBudWxsLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoZGVmLmlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIGF1dG9SZWdpc3Rlck1vZHVsZUJ5SWRbZGVmLmlkXSA9IGRlZi50eXBlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfSk7XG59XG4vKipcbiAqIEFkZHMgdGhlIG1vZHVsZSBtZXRhZGF0YSB0aGF0IGlzIG5lY2Vzc2FyeSB0byBjb21wdXRlIHRoZSBtb2R1bGUncyB0cmFuc2l0aXZlIHNjb3BlIHRvIGFuXG4gKiBleGlzdGluZyBtb2R1bGUgZGVmaW5pdGlvbi5cbiAqXG4gKiBTY29wZSBtZXRhZGF0YSBvZiBtb2R1bGVzIGlzIG5vdCB1c2VkIGluIHByb2R1Y3Rpb24gYnVpbGRzLCBzbyBjYWxscyB0byB0aGlzIGZ1bmN0aW9uIGNhbiBiZVxuICogbWFya2VkIHB1cmUgdG8gdHJlZS1zaGFrZSBpdCBmcm9tIHRoZSBidW5kbGUsIGFsbG93aW5nIGZvciBhbGwgcmVmZXJlbmNlZCBkZWNsYXJhdGlvbnNcbiAqIHRvIGJlY29tZSBlbGlnaWJsZSBmb3IgdHJlZS1zaGFraW5nIGFzIHdlbGwuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXNldE5nTW9kdWxlU2NvcGUodHlwZSwgc2NvcGUpIHtcbiAgICByZXR1cm4gbm9TaWRlRWZmZWN0cygoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5nTW9kdWxlRGVmID0gZ2V0TmdNb2R1bGVEZWYodHlwZSwgdHJ1ZSk7XG4gICAgICAgIG5nTW9kdWxlRGVmLmRlY2xhcmF0aW9ucyA9IHNjb3BlLmRlY2xhcmF0aW9ucyB8fCBFTVBUWV9BUlJBWTtcbiAgICAgICAgbmdNb2R1bGVEZWYuaW1wb3J0cyA9IHNjb3BlLmltcG9ydHMgfHwgRU1QVFlfQVJSQVk7XG4gICAgICAgIG5nTW9kdWxlRGVmLmV4cG9ydHMgPSBzY29wZS5leHBvcnRzIHx8IEVNUFRZX0FSUkFZO1xuICAgIH0pO1xufVxuLyoqXG4gKiBJbnZlcnRzIGFuIGlucHV0cyBvciBvdXRwdXRzIGxvb2t1cCBzdWNoIHRoYXQgdGhlIGtleXMsIHdoaWNoIHdlcmUgdGhlXG4gKiBtaW5pZmllZCBrZXlzLCBhcmUgcGFydCBvZiB0aGUgdmFsdWVzLCBhbmQgdGhlIHZhbHVlcyBhcmUgcGFyc2VkIHNvIHRoYXRcbiAqIHRoZSBwdWJsaWNOYW1lIG9mIHRoZSBwcm9wZXJ0eSBpcyB0aGUgbmV3IGtleVxuICpcbiAqIGUuZy4gZm9yXG4gKlxuICogYGBgXG4gKiBjbGFzcyBDb21wIHtcbiAqICAgQElucHV0KClcbiAqICAgcHJvcE5hbWUxOiBzdHJpbmc7XG4gKlxuICogICBASW5wdXQoJ3B1YmxpY05hbWUyJylcbiAqICAgZGVjbGFyZWRQcm9wTmFtZTI6IG51bWJlcjtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIHdpbGwgYmUgc2VyaWFsaXplZCBhc1xuICpcbiAqIGBgYFxuICoge1xuICogICBwcm9wTmFtZTE6ICdwcm9wTmFtZTEnLFxuICogICBkZWNsYXJlZFByb3BOYW1lMjogWydwdWJsaWNOYW1lMicsICdkZWNsYXJlZFByb3BOYW1lMiddLFxuICogfVxuICogYGBgXG4gKlxuICogd2hpY2ggaXMgdGhhbiB0cmFuc2xhdGVkIGJ5IHRoZSBtaW5pZmllciBhczpcbiAqXG4gKiBgYGBcbiAqIHtcbiAqICAgbWluaWZpZWRQcm9wTmFtZTE6ICdwcm9wTmFtZTEnLFxuICogICBtaW5pZmllZFByb3BOYW1lMjogWydwdWJsaWNOYW1lMicsICdkZWNsYXJlZFByb3BOYW1lMiddLFxuICogfVxuICogYGBgXG4gKlxuICogYmVjb21lczogKHB1YmxpYyBuYW1lID0+IG1pbmlmaWVkTmFtZSlcbiAqXG4gKiBgYGBcbiAqIHtcbiAqICAncHJvcE5hbWUxJzogJ21pbmlmaWVkUHJvcE5hbWUxJyxcbiAqICAncHVibGljTmFtZTInOiAnbWluaWZpZWRQcm9wTmFtZTInLFxuICogfVxuICogYGBgXG4gKlxuICogT3B0aW9uYWxseSB0aGUgZnVuY3Rpb24gY2FuIHRha2UgYHNlY29uZGFyeWAgd2hpY2ggd2lsbCByZXN1bHQgaW46IChwdWJsaWMgbmFtZSA9PiBkZWNsYXJlZCBuYW1lKVxuICpcbiAqIGBgYFxuICoge1xuICogICdwcm9wTmFtZTEnOiAncHJvcE5hbWUxJyxcbiAqICAncHVibGljTmFtZTInOiAnZGVjbGFyZWRQcm9wTmFtZTInLFxuICogfVxuICogYGBgXG4gKlxuXG4gKi9cbmZ1bmN0aW9uIGludmVydE9iamVjdChvYmosIHNlY29uZGFyeSkge1xuICAgIGlmIChvYmogPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIEVNUFRZX09CSjtcbiAgICBjb25zdCBuZXdMb29rdXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IG1pbmlmaWVkS2V5IGluIG9iaikge1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KG1pbmlmaWVkS2V5KSkge1xuICAgICAgICAgICAgbGV0IHB1YmxpY05hbWUgPSBvYmpbbWluaWZpZWRLZXldO1xuICAgICAgICAgICAgbGV0IGRlY2xhcmVkTmFtZSA9IHB1YmxpY05hbWU7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwdWJsaWNOYW1lKSkge1xuICAgICAgICAgICAgICAgIGRlY2xhcmVkTmFtZSA9IHB1YmxpY05hbWVbMV07XG4gICAgICAgICAgICAgICAgcHVibGljTmFtZSA9IHB1YmxpY05hbWVbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdMb29rdXBbcHVibGljTmFtZV0gPSBtaW5pZmllZEtleTtcbiAgICAgICAgICAgIGlmIChzZWNvbmRhcnkpIHtcbiAgICAgICAgICAgICAgICAoc2Vjb25kYXJ5W3B1YmxpY05hbWVdID0gZGVjbGFyZWROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3TG9va3VwO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3QuXG4gKlxuICogIyBFeGFtcGxlXG4gKiBgYGB0c1xuICogY2xhc3MgTXlEaXJlY3RpdmUge1xuICogICAvLyBHZW5lcmF0ZWQgYnkgQW5ndWxhciBUZW1wbGF0ZSBDb21waWxlclxuICogICAvLyBbU3ltYm9sXSBzeW50YXggd2lsbCBub3QgYmUgc3VwcG9ydGVkIGJ5IFR5cGVTY3JpcHQgdW50aWwgdjIuN1xuICogICBzdGF0aWMgybVkaXIgPSDJtcm1ZGVmaW5lRGlyZWN0aXZlKHtcbiAqICAgICAuLi5cbiAqICAgfSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5jb25zdCDJtcm1ZGVmaW5lRGlyZWN0aXZlID0gybXJtWRlZmluZUNvbXBvbmVudDtcbi8qKlxuICogQ3JlYXRlIGEgcGlwZSBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiAjIEV4YW1wbGVcbiAqIGBgYFxuICogY2xhc3MgTXlQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XG4gKiAgIC8vIEdlbmVyYXRlZCBieSBBbmd1bGFyIFRlbXBsYXRlIENvbXBpbGVyXG4gKiAgIHN0YXRpYyDJtXBpcGUgPSBkZWZpbmVQaXBlKHtcbiAqICAgICAuLi5cbiAqICAgfSk7XG4gKiB9XG4gKiBgYGBcbiAqIEBwYXJhbSBwaXBlRGVmIFBpcGUgZGVmaW5pdGlvbiBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWRlZmluZVBpcGUocGlwZURlZikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHBpcGVEZWYudHlwZSxcbiAgICAgICAgbmFtZTogcGlwZURlZi5uYW1lLFxuICAgICAgICBmYWN0b3J5OiBudWxsLFxuICAgICAgICBwdXJlOiBwaXBlRGVmLnB1cmUgIT09IGZhbHNlLFxuICAgICAgICBvbkRlc3Ryb3k6IHBpcGVEZWYudHlwZS5wcm90b3R5cGUubmdPbkRlc3Ryb3kgfHwgbnVsbFxuICAgIH07XG59XG4vKipcbiAqIFRoZSBmb2xsb3dpbmcgZ2V0dGVyIG1ldGhvZHMgcmV0cmlldmUgdGhlIGRlZmluaXRpb24gZnJvbSB0aGUgdHlwZS4gQ3VycmVudGx5IHRoZSByZXRyaWV2YWxcbiAqIGhvbm9ycyBpbmhlcml0YW5jZSwgYnV0IGluIHRoZSBmdXR1cmUgd2UgbWF5IGNoYW5nZSB0aGUgcnVsZSB0byByZXF1aXJlIHRoYXQgZGVmaW5pdGlvbnMgYXJlXG4gKiBleHBsaWNpdC4gVGhpcyB3b3VsZCByZXF1aXJlIHNvbWUgc29ydCBvZiBtaWdyYXRpb24gc3RyYXRlZ3kuXG4gKi9cbmZ1bmN0aW9uIGdldENvbXBvbmVudERlZih0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGVbTkdfQ09NUF9ERUZdIHx8IG51bGw7XG59XG5mdW5jdGlvbiBnZXREaXJlY3RpdmVEZWYodHlwZSkge1xuICAgIHJldHVybiB0eXBlW05HX0RJUl9ERUZdIHx8IG51bGw7XG59XG5mdW5jdGlvbiBnZXRQaXBlRGVmJDEodHlwZSkge1xuICAgIHJldHVybiB0eXBlW05HX1BJUEVfREVGXSB8fCBudWxsO1xufVxuZnVuY3Rpb24gZ2V0TmdNb2R1bGVEZWYodHlwZSwgdGhyb3dOb3RGb3VuZCkge1xuICAgIGNvbnN0IG5nTW9kdWxlRGVmID0gdHlwZVtOR19NT0RfREVGXSB8fCBudWxsO1xuICAgIGlmICghbmdNb2R1bGVEZWYgJiYgdGhyb3dOb3RGb3VuZCA9PT0gdHJ1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFR5cGUgJHtzdHJpbmdpZnkodHlwZSl9IGRvZXMgbm90IGhhdmUgJ8m1bW9kJyBwcm9wZXJ0eS5gKTtcbiAgICB9XG4gICAgcmV0dXJuIG5nTW9kdWxlRGVmO1xufVxuXG4vKipcbiAqIFNwZWNpYWwgbG9jYXRpb24gd2hpY2ggYWxsb3dzIGVhc3kgaWRlbnRpZmljYXRpb24gb2YgdHlwZS4gSWYgd2UgaGF2ZSBhbiBhcnJheSB3aGljaCB3YXNcbiAqIHJldHJpZXZlZCBmcm9tIHRoZSBgTFZpZXdgIGFuZCB0aGF0IGFycmF5IGhhcyBgdHJ1ZWAgYXQgYFRZUEVgIGxvY2F0aW9uLCB3ZSBrbm93IGl0IGlzXG4gKiBgTENvbnRhaW5lcmAuXG4gKi9cbmNvbnN0IFRZUEUgPSAxO1xuLyoqXG4gKiBCZWxvdyBhcmUgY29uc3RhbnRzIGZvciBMQ29udGFpbmVyIGluZGljZXMgdG8gaGVscCB1cyBsb29rIHVwIExDb250YWluZXIgbWVtYmVyc1xuICogd2l0aG91dCBoYXZpbmcgdG8gcmVtZW1iZXIgdGhlIHNwZWNpZmljIGluZGljZXMuXG4gKiBVZ2xpZnkgd2lsbCBpbmxpbmUgdGhlc2Ugd2hlbiBtaW5pZnlpbmcgc28gdGhlcmUgc2hvdWxkbid0IGJlIGEgY29zdC5cbiAqL1xuLyoqXG4gKiBGbGFnIHRvIHNpZ25pZnkgdGhhdCB0aGlzIGBMQ29udGFpbmVyYCBtYXkgaGF2ZSB0cmFuc3BsYW50ZWQgdmlld3Mgd2hpY2ggbmVlZCB0byBiZSBjaGFuZ2VcbiAqIGRldGVjdGVkLiAoc2VlOiBgTFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddKWAuXG4gKlxuICogVGhpcyBmbGFnLCBvbmNlIHNldCwgaXMgbmV2ZXIgdW5zZXQgZm9yIHRoZSBgTENvbnRhaW5lcmAuIFRoaXMgbWVhbnMgdGhhdCB3aGVuIHVuc2V0IHdlIGNhbiBza2lwXG4gKiBhIGxvdCBvZiB3b3JrIGluIGByZWZyZXNoRW1iZWRkZWRWaWV3c2AuIEJ1dCB3aGVuIHNldCB3ZSBzdGlsbCBuZWVkIHRvIHZlcmlmeVxuICogdGhhdCB0aGUgYE1PVkVEX1ZJRVdTYCBhcmUgdHJhbnNwbGFudGVkIGFuZCBvbi1wdXNoLlxuICovXG5jb25zdCBIQVNfVFJBTlNQTEFOVEVEX1ZJRVdTID0gMjtcbi8vIFBBUkVOVCwgTkVYVCwgVFJBTlNQTEFOVEVEX1ZJRVdTX1RPX1JFRlJFU0ggYXJlIGluZGljZXMgMywgNCwgYW5kIDVcbi8vIEFzIHdlIGFscmVhZHkgaGF2ZSB0aGVzZSBjb25zdGFudHMgaW4gTFZpZXcsIHdlIGRvbid0IG5lZWQgdG8gcmUtY3JlYXRlIHRoZW0uXG4vLyBUX0hPU1QgaXMgaW5kZXggNlxuLy8gV2UgYWxyZWFkeSBoYXZlIHRoaXMgY29uc3RhbnRzIGluIExWaWV3LCB3ZSBkb24ndCBuZWVkIHRvIHJlLWNyZWF0ZSBpdC5cbmNvbnN0IE5BVElWRSA9IDc7XG5jb25zdCBWSUVXX1JFRlMgPSA4O1xuY29uc3QgTU9WRURfVklFV1MgPSA5O1xuLyoqXG4gKiBTaXplIG9mIExDb250YWluZXIncyBoZWFkZXIuIFJlcHJlc2VudHMgdGhlIGluZGV4IGFmdGVyIHdoaWNoIGFsbCB2aWV3cyBpbiB0aGVcbiAqIGNvbnRhaW5lciB3aWxsIGJlIGluc2VydGVkLiBXZSBuZWVkIHRvIGtlZXAgYSByZWNvcmQgb2YgY3VycmVudCB2aWV3cyBzbyB3ZSBrbm93XG4gKiB3aGljaCB2aWV3cyBhcmUgYWxyZWFkeSBpbiB0aGUgRE9NIChhbmQgZG9uJ3QgbmVlZCB0byBiZSByZS1hZGRlZCkgYW5kIHNvIHdlIGNhblxuICogcmVtb3ZlIHZpZXdzIGZyb20gdGhlIERPTSB3aGVuIHRoZXkgYXJlIG5vIGxvbmdlciByZXF1aXJlZC5cbiAqL1xuY29uc3QgQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQgPSAxMDtcbi8vIE5vdGU6IFRoaXMgaGFjayBpcyBuZWNlc3Nhcnkgc28gd2UgZG9uJ3QgZXJyb25lb3VzbHkgZ2V0IGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuLy8gZmFpbHVyZSBiYXNlZCBvbiB0eXBlcy5cbmNvbnN0IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDggPSAxO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIEJlbG93IGFyZSBjb25zdGFudHMgZm9yIExWaWV3IGluZGljZXMgdG8gaGVscCB1cyBsb29rIHVwIExWaWV3IG1lbWJlcnNcbi8vIHdpdGhvdXQgaGF2aW5nIHRvIHJlbWVtYmVyIHRoZSBzcGVjaWZpYyBpbmRpY2VzLlxuLy8gVWdsaWZ5IHdpbGwgaW5saW5lIHRoZXNlIHdoZW4gbWluaWZ5aW5nIHNvIHRoZXJlIHNob3VsZG4ndCBiZSBhIGNvc3QuXG5jb25zdCBIT1NUID0gMDtcbmNvbnN0IFRWSUVXID0gMTtcbmNvbnN0IEZMQUdTID0gMjtcbmNvbnN0IFBBUkVOVCA9IDM7XG5jb25zdCBORVhUID0gNDtcbmNvbnN0IFRSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIID0gNTtcbmNvbnN0IFRfSE9TVCA9IDY7XG5jb25zdCBDTEVBTlVQID0gNztcbmNvbnN0IENPTlRFWFQgPSA4O1xuY29uc3QgSU5KRUNUT1IkMSA9IDk7XG5jb25zdCBSRU5ERVJFUl9GQUNUT1JZID0gMTA7XG5jb25zdCBSRU5ERVJFUiA9IDExO1xuY29uc3QgU0FOSVRJWkVSID0gMTI7XG5jb25zdCBDSElMRF9IRUFEID0gMTM7XG5jb25zdCBDSElMRF9UQUlMID0gMTQ7XG4vLyBGSVhNRShtaXNrbyk6IEludmVzdGlnYXRlIGlmIHRoZSB0aHJlZSBkZWNsYXJhdGlvbnMgYXJlbid0IGFsbCBzYW1lIHRoaW5nLlxuY29uc3QgREVDTEFSQVRJT05fVklFVyA9IDE1O1xuY29uc3QgREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVcgPSAxNjtcbmNvbnN0IERFQ0xBUkFUSU9OX0xDT05UQUlORVIgPSAxNztcbmNvbnN0IFBSRU9SREVSX0hPT0tfRkxBR1MgPSAxODtcbmNvbnN0IFFVRVJJRVMgPSAxOTtcbi8qKlxuICogU2l6ZSBvZiBMVmlldydzIGhlYWRlci4gTmVjZXNzYXJ5IHRvIGFkanVzdCBmb3IgaXQgd2hlbiBzZXR0aW5nIHNsb3RzLlxuICpcbiAqIElNUE9SVEFOVDogYEhFQURFUl9PRkZTRVRgIHNob3VsZCBvbmx5IGJlIHJlZmVycmVkIHRvIHRoZSBpbiB0aGUgYMm1ybUqYCBpbnN0cnVjdGlvbnMgdG8gdHJhbnNsYXRlXG4gKiBpbnN0cnVjdGlvbiBpbmRleCBpbnRvIGBMVmlld2AgaW5kZXguIEFsbCBvdGhlciBpbmRleGVzIHNob3VsZCBiZSBpbiB0aGUgYExWaWV3YCBpbmRleCBzcGFjZSBhbmRcbiAqIHRoZXJlIHNob3VsZCBiZSBubyBuZWVkIHRvIHJlZmVyIHRvIGBIRUFERVJfT0ZGU0VUYCBhbnl3aGVyZSBlbHNlLlxuICovXG5jb25zdCBIRUFERVJfT0ZGU0VUID0gMjA7XG4vKipcbiAqIENvbnZlcnRzIGBUVmlld1R5cGVgIGludG8gaHVtYW4gcmVhZGFibGUgdGV4dC5cbiAqIE1ha2Ugc3VyZSB0aGlzIG1hdGNoZXMgd2l0aCBgVFZpZXdUeXBlYFxuICovXG5jb25zdCBUVmlld1R5cGVBc1N0cmluZyA9IFtcbiAgICAnUm9vdCcsXG4gICAgJ0NvbXBvbmVudCcsXG4gICAgJ0VtYmVkZGVkJywgLy8gMlxuXTtcbi8vIE5vdGU6IFRoaXMgaGFjayBpcyBuZWNlc3Nhcnkgc28gd2UgZG9uJ3QgZXJyb25lb3VzbHkgZ2V0IGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuLy8gZmFpbHVyZSBiYXNlZCBvbiB0eXBlcy5cbmNvbnN0IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDcgPSAxO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVHJ1ZSBpZiBgdmFsdWVgIGlzIGBMVmlld2AuXG4gKiBAcGFyYW0gdmFsdWUgd3JhcHBlZCB2YWx1ZSBvZiBgUk5vZGVgLCBgTFZpZXdgLCBgTENvbnRhaW5lcmBcbiAqL1xuZnVuY3Rpb24gaXNMVmlldyh2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWVbVFlQRV0gPT09ICdvYmplY3QnO1xufVxuLyoqXG4gKiBUcnVlIGlmIGB2YWx1ZWAgaXMgYExDb250YWluZXJgLlxuICogQHBhcmFtIHZhbHVlIHdyYXBwZWQgdmFsdWUgb2YgYFJOb2RlYCwgYExWaWV3YCwgYExDb250YWluZXJgXG4gKi9cbmZ1bmN0aW9uIGlzTENvbnRhaW5lcih2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZVtUWVBFXSA9PT0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGlzQ29udGVudFF1ZXJ5SG9zdCh0Tm9kZSkge1xuICAgIHJldHVybiAodE5vZGUuZmxhZ3MgJiA4IC8qIGhhc0NvbnRlbnRRdWVyeSAqLykgIT09IDA7XG59XG5mdW5jdGlvbiBpc0NvbXBvbmVudEhvc3QodE5vZGUpIHtcbiAgICByZXR1cm4gKHROb2RlLmZsYWdzICYgMiAvKiBpc0NvbXBvbmVudEhvc3QgKi8pID09PSAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLztcbn1cbmZ1bmN0aW9uIGlzRGlyZWN0aXZlSG9zdCh0Tm9kZSkge1xuICAgIHJldHVybiAodE5vZGUuZmxhZ3MgJiAxIC8qIGlzRGlyZWN0aXZlSG9zdCAqLykgPT09IDEgLyogaXNEaXJlY3RpdmVIb3N0ICovO1xufVxuZnVuY3Rpb24gaXNDb21wb25lbnREZWYoZGVmKSB7XG4gICAgcmV0dXJuIGRlZi50ZW1wbGF0ZSAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzUm9vdFZpZXcodGFyZ2V0KSB7XG4gICAgcmV0dXJuICh0YXJnZXRbRkxBR1NdICYgNTEyIC8qIElzUm9vdCAqLykgIT09IDA7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gW0Fzc2VydCBmdW5jdGlvbnMgZG8gbm90IGNvbnN0cmFpbnQgdHlwZSB3aGVuIHRoZXkgYXJlIGd1YXJkZWQgYnkgYSB0cnV0aHlcbi8vIGV4cHJlc3Npb24uXShodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzM3Mjk1KVxuZnVuY3Rpb24gYXNzZXJ0VE5vZGVGb3JMVmlldyh0Tm9kZSwgbFZpZXcpIHtcbiAgICBhc3NlcnRUTm9kZUZvclRWaWV3KHROb2RlLCBsVmlld1tUVklFV10pO1xufVxuZnVuY3Rpb24gYXNzZXJ0VE5vZGVGb3JUVmlldyh0Tm9kZSwgdFZpZXcpIHtcbiAgICBhc3NlcnRUTm9kZSh0Tm9kZSk7XG4gICAgdE5vZGUuaGFzT3duUHJvcGVydHkoJ3RWaWV3XycpICYmXG4gICAgICAgIGFzc2VydEVxdWFsKHROb2RlLnRWaWV3XywgdFZpZXcsICdUaGlzIFROb2RlIGRvZXMgbm90IGJlbG9uZyB0byB0aGlzIFRWaWV3LicpO1xufVxuZnVuY3Rpb24gYXNzZXJ0VE5vZGUodE5vZGUpIHtcbiAgICBhc3NlcnREZWZpbmVkKHROb2RlLCAnVE5vZGUgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgaWYgKCEodE5vZGUgJiYgdHlwZW9mIHROb2RlID09PSAnb2JqZWN0JyAmJiB0Tm9kZS5oYXNPd25Qcm9wZXJ0eSgnZGlyZWN0aXZlU3R5bGluZ0xhc3QnKSkpIHtcbiAgICAgICAgdGhyb3dFcnJvcignTm90IG9mIHR5cGUgVE5vZGUsIGdvdDogJyArIHROb2RlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRUSWN1KHRJY3UpIHtcbiAgICBhc3NlcnREZWZpbmVkKHRJY3UsICdFeHBlY3RlZCBUSWN1IHRvIGJlIGRlZmluZWQnKTtcbiAgICBpZiAoISh0eXBlb2YgdEljdS5jdXJyZW50Q2FzZUxWaWV3SW5kZXggPT09ICdudW1iZXInKSkge1xuICAgICAgICB0aHJvd0Vycm9yKCdPYmplY3QgaXMgbm90IG9mIFRJY3UgdHlwZS4nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRDb21wb25lbnRUeXBlKGFjdHVhbCwgbXNnID0gJ1R5cGUgcGFzc2VkIGluIGlzIG5vdCBDb21wb25lbnRUeXBlLCBpdCBkb2VzIG5vdCBoYXZlIFxcJ8m1Y21wXFwnIHByb3BlcnR5LicpIHtcbiAgICBpZiAoIWdldENvbXBvbmVudERlZihhY3R1YWwpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnROZ01vZHVsZVR5cGUoYWN0dWFsLCBtc2cgPSAnVHlwZSBwYXNzZWQgaW4gaXMgbm90IE5nTW9kdWxlVHlwZSwgaXQgZG9lcyBub3QgaGF2ZSBcXCfJtW1vZFxcJyBwcm9wZXJ0eS4nKSB7XG4gICAgaWYgKCFnZXROZ01vZHVsZURlZihhY3R1YWwpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRDdXJyZW50VE5vZGVJc1BhcmVudChpc1BhcmVudCkge1xuICAgIGFzc2VydEVxdWFsKGlzUGFyZW50LCB0cnVlLCAnY3VycmVudFROb2RlIHNob3VsZCBiZSBhIHBhcmVudCcpO1xufVxuZnVuY3Rpb24gYXNzZXJ0SGFzUGFyZW50KHROb2RlKSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh0Tm9kZSwgJ2N1cnJlbnRUTm9kZSBzaG91bGQgZXhpc3QhJyk7XG4gICAgYXNzZXJ0RGVmaW5lZCh0Tm9kZS5wYXJlbnQsICdjdXJyZW50VE5vZGUgc2hvdWxkIGhhdmUgYSBwYXJlbnQnKTtcbn1cbmZ1bmN0aW9uIGFzc2VydERhdGFOZXh0KGxWaWV3LCBpbmRleCwgYXJyKSB7XG4gICAgaWYgKGFyciA9PSBudWxsKVxuICAgICAgICBhcnIgPSBsVmlldztcbiAgICBhc3NlcnRFcXVhbChhcnIubGVuZ3RoLCBpbmRleCwgYGluZGV4ICR7aW5kZXh9IGV4cGVjdGVkIHRvIGJlIGF0IHRoZSBlbmQgb2YgYXJyIChsZW5ndGggJHthcnIubGVuZ3RofSlgKTtcbn1cbmZ1bmN0aW9uIGFzc2VydExDb250YWluZXIodmFsdWUpIHtcbiAgICBhc3NlcnREZWZpbmVkKHZhbHVlLCAnTENvbnRhaW5lciBtdXN0IGJlIGRlZmluZWQnKTtcbiAgICBhc3NlcnRFcXVhbChpc0xDb250YWluZXIodmFsdWUpLCB0cnVlLCAnRXhwZWN0aW5nIExDb250YWluZXInKTtcbn1cbmZ1bmN0aW9uIGFzc2VydExWaWV3T3JVbmRlZmluZWQodmFsdWUpIHtcbiAgICB2YWx1ZSAmJiBhc3NlcnRFcXVhbChpc0xWaWV3KHZhbHVlKSwgdHJ1ZSwgJ0V4cGVjdGluZyBMVmlldyBvciB1bmRlZmluZWQgb3IgbnVsbCcpO1xufVxuZnVuY3Rpb24gYXNzZXJ0TFZpZXcodmFsdWUpIHtcbiAgICBhc3NlcnREZWZpbmVkKHZhbHVlLCAnTFZpZXcgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgYXNzZXJ0RXF1YWwoaXNMVmlldyh2YWx1ZSksIHRydWUsICdFeHBlY3RpbmcgTFZpZXcnKTtcbn1cbmZ1bmN0aW9uIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0VmlldywgZXJyTWVzc2FnZSkge1xuICAgIGFzc2VydEVxdWFsKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcywgdHJ1ZSwgZXJyTWVzc2FnZSB8fCAnU2hvdWxkIG9ubHkgYmUgY2FsbGVkIGluIGZpcnN0IGNyZWF0ZSBwYXNzLicpO1xufVxuZnVuY3Rpb24gYXNzZXJ0Rmlyc3RVcGRhdGVQYXNzKHRWaWV3LCBlcnJNZXNzYWdlKSB7XG4gICAgYXNzZXJ0RXF1YWwodFZpZXcuZmlyc3RVcGRhdGVQYXNzLCB0cnVlLCBlcnJNZXNzYWdlIHx8ICdTaG91bGQgb25seSBiZSBjYWxsZWQgaW4gZmlyc3QgdXBkYXRlIHBhc3MuJyk7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBiYXNpYyBzYW5pdHkgY2hlY2sgdGhhdCBhbiBvYmplY3QgaXMgcHJvYmFibHkgYSBkaXJlY3RpdmUgZGVmLiBEaXJlY3RpdmVEZWYgaXNcbiAqIGFuIGludGVyZmFjZSwgc28gd2UgY2FuJ3QgZG8gYSBkaXJlY3QgaW5zdGFuY2VvZiBjaGVjay5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0RGlyZWN0aXZlRGVmKG9iaikge1xuICAgIGlmIChvYmoudHlwZSA9PT0gdW5kZWZpbmVkIHx8IG9iai5zZWxlY3RvcnMgPT0gdW5kZWZpbmVkIHx8IG9iai5pbnB1dHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvd0Vycm9yKGBFeHBlY3RlZCBhIERpcmVjdGl2ZURlZi9Db21wb25lbnREZWYgYW5kIHRoaXMgb2JqZWN0IGRvZXMgbm90IHNlZW0gdG8gaGF2ZSB0aGUgZXhwZWN0ZWQgc2hhcGUuYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0SW5kZXhJbkRlY2xSYW5nZShsVmlldywgaW5kZXgpIHtcbiAgICBjb25zdCB0VmlldyA9IGxWaWV3WzFdO1xuICAgIGFzc2VydEJldHdlZW4oSEVBREVSX09GRlNFVCwgdFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgsIGluZGV4KTtcbn1cbmZ1bmN0aW9uIGFzc2VydEluZGV4SW5WYXJzUmFuZ2UobFZpZXcsIGluZGV4KSB7XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1sxXTtcbiAgICBhc3NlcnRCZXR3ZWVuKHRWaWV3LmJpbmRpbmdTdGFydEluZGV4LCB0Vmlldy5leHBhbmRvU3RhcnRJbmRleCwgaW5kZXgpO1xufVxuZnVuY3Rpb24gYXNzZXJ0SW5kZXhJbkV4cGFuZG9SYW5nZShsVmlldywgaW5kZXgpIHtcbiAgICBjb25zdCB0VmlldyA9IGxWaWV3WzFdO1xuICAgIGFzc2VydEJldHdlZW4odFZpZXcuZXhwYW5kb1N0YXJ0SW5kZXgsIGxWaWV3Lmxlbmd0aCwgaW5kZXgpO1xufVxuZnVuY3Rpb24gYXNzZXJ0QmV0d2Vlbihsb3dlciwgdXBwZXIsIGluZGV4KSB7XG4gICAgaWYgKCEobG93ZXIgPD0gaW5kZXggJiYgaW5kZXggPCB1cHBlcikpIHtcbiAgICAgICAgdGhyb3dFcnJvcihgSW5kZXggb3V0IG9mIHJhbmdlIChleHBlY3RpbmcgJHtsb3dlcn0gPD0gJHtpbmRleH0gPCAke3VwcGVyfSlgKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRQcm9qZWN0aW9uU2xvdHMobFZpZXcsIGVyck1lc3NhZ2UpIHtcbiAgICBhc3NlcnREZWZpbmVkKGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXSwgJ0NvbXBvbmVudCB2aWV3cyBzaG91bGQgZXhpc3QuJyk7XG4gICAgYXNzZXJ0RGVmaW5lZChsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV11bVF9IT1NUXS5wcm9qZWN0aW9uLCBlcnJNZXNzYWdlIHx8XG4gICAgICAgICdDb21wb25lbnRzIHdpdGggcHJvamVjdGlvbiBub2RlcyAoPG5nLWNvbnRlbnQ+KSBtdXN0IGhhdmUgcHJvamVjdGlvbiBzbG90cyBkZWZpbmVkLicpO1xufVxuZnVuY3Rpb24gYXNzZXJ0UGFyZW50VmlldyhsVmlldywgZXJyTWVzc2FnZSkge1xuICAgIGFzc2VydERlZmluZWQobFZpZXcsIGVyck1lc3NhZ2UgfHwgJ0NvbXBvbmVudCB2aWV3cyBzaG91bGQgYWx3YXlzIGhhdmUgYSBwYXJlbnQgdmlldyAoY29tcG9uZW50XFwncyBob3N0IHZpZXcpJyk7XG59XG4vKipcbiAqIFRoaXMgaXMgYSBiYXNpYyBzYW5pdHkgY2hlY2sgdGhhdCB0aGUgYGluamVjdG9ySW5kZXhgIHNlZW1zIHRvIHBvaW50IHRvIHdoYXQgbG9va3MgbGlrZSBhXG4gKiBOb2RlSW5qZWN0b3IgZGF0YSBzdHJ1Y3R1cmUuXG4gKlxuICogQHBhcmFtIGxWaWV3IGBMVmlld2Agd2hpY2ggc2hvdWxkIGJlIGNoZWNrZWQuXG4gKiBAcGFyYW0gaW5qZWN0b3JJbmRleCBpbmRleCBpbnRvIHRoZSBgTFZpZXdgIHdoZXJlIHRoZSBgTm9kZUluamVjdG9yYCBpcyBleHBlY3RlZC5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0Tm9kZUluamVjdG9yKGxWaWV3LCBpbmplY3RvckluZGV4KSB7XG4gICAgYXNzZXJ0SW5kZXhJbkV4cGFuZG9SYW5nZShsVmlldywgaW5qZWN0b3JJbmRleCk7XG4gICAgYXNzZXJ0SW5kZXhJbkV4cGFuZG9SYW5nZShsVmlldywgaW5qZWN0b3JJbmRleCArIDggLyogUEFSRU5UICovKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDBdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDFdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDJdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDNdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDRdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDVdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDZdLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDddLCAnaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXInKTtcbiAgICBhc3NlcnROdW1iZXIobFZpZXdbaW5qZWN0b3JJbmRleCArIDggLyogUEFSRU5UICovXSwgJ2luamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIHBhcmVudCBpbmplY3RvcicpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGdldEZhY3RvcnlEZWYodHlwZSwgdGhyb3dOb3RGb3VuZCkge1xuICAgIGNvbnN0IGhhc0ZhY3RvcnlEZWYgPSB0eXBlLmhhc093blByb3BlcnR5KE5HX0ZBQ1RPUllfREVGKTtcbiAgICBpZiAoIWhhc0ZhY3RvcnlEZWYgJiYgdGhyb3dOb3RGb3VuZCA9PT0gdHJ1ZSAmJiBuZ0Rldk1vZGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUeXBlICR7c3RyaW5naWZ5KHR5cGUpfSBkb2VzIG5vdCBoYXZlICfJtWZhYycgcHJvcGVydHkuYCk7XG4gICAgfVxuICAgIHJldHVybiBoYXNGYWN0b3J5RGVmID8gdHlwZVtOR19GQUNUT1JZX0RFRl0gOiBudWxsO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhIGJhc2ljIGNoYW5nZSBmcm9tIGEgcHJldmlvdXMgdG8gYSBuZXcgdmFsdWUgZm9yIGEgc2luZ2xlXG4gKiBwcm9wZXJ0eSBvbiBhIGRpcmVjdGl2ZSBpbnN0YW5jZS4gUGFzc2VkIGFzIGEgdmFsdWUgaW4gYVxuICoge0BsaW5rIFNpbXBsZUNoYW5nZXN9IG9iamVjdCB0byB0aGUgYG5nT25DaGFuZ2VzYCBob29rLlxuICpcbiAqIEBzZWUgYE9uQ2hhbmdlc2BcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFNpbXBsZUNoYW5nZSB7XG4gICAgY29uc3RydWN0b3IocHJldmlvdXNWYWx1ZSwgY3VycmVudFZhbHVlLCBmaXJzdENoYW5nZSkge1xuICAgICAgICB0aGlzLnByZXZpb3VzVmFsdWUgPSBwcmV2aW91c1ZhbHVlO1xuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgdGhpcy5maXJzdENoYW5nZSA9IGZpcnN0Q2hhbmdlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayB3aGV0aGVyIHRoZSBuZXcgdmFsdWUgaXMgdGhlIGZpcnN0IHZhbHVlIGFzc2lnbmVkLlxuICAgICAqL1xuICAgIGlzRmlyc3RDaGFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0Q2hhbmdlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSBOZ09uQ2hhbmdlc0ZlYXR1cmUgZGVjb3JhdGVzIGEgY29tcG9uZW50IHdpdGggc3VwcG9ydCBmb3IgdGhlIG5nT25DaGFuZ2VzXG4gKiBsaWZlY3ljbGUgaG9vaywgc28gaXQgc2hvdWxkIGJlIGluY2x1ZGVkIGluIGFueSBjb21wb25lbnQgdGhhdCBpbXBsZW1lbnRzXG4gKiB0aGF0IGhvb2suXG4gKlxuICogSWYgdGhlIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgdXNlcyBpbmhlcml0YW5jZSwgdGhlIE5nT25DaGFuZ2VzRmVhdHVyZSBNVVNUXG4gKiBiZSBpbmNsdWRlZCBhcyBhIGZlYXR1cmUgQUZURVIge0BsaW5rIEluaGVyaXREZWZpbml0aW9uRmVhdHVyZX0sIG90aGVyd2lzZVxuICogaW5oZXJpdGVkIHByb3BlcnRpZXMgd2lsbCBub3QgYmUgcHJvcGFnYXRlZCB0byB0aGUgbmdPbkNoYW5nZXMgbGlmZWN5Y2xlXG4gKiBob29rLlxuICpcbiAqIEV4YW1wbGUgdXNhZ2U6XG4gKlxuICogYGBgXG4gKiBzdGF0aWMgybVjbXAgPSBkZWZpbmVDb21wb25lbnQoe1xuICogICAuLi5cbiAqICAgaW5wdXRzOiB7bmFtZTogJ3B1YmxpY05hbWUnfSxcbiAqICAgZmVhdHVyZXM6IFtOZ09uQ2hhbmdlc0ZlYXR1cmVdXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVOZ09uQ2hhbmdlc0ZlYXR1cmUoKSB7XG4gICAgcmV0dXJuIE5nT25DaGFuZ2VzRmVhdHVyZUltcGw7XG59XG5mdW5jdGlvbiBOZ09uQ2hhbmdlc0ZlYXR1cmVJbXBsKGRlZmluaXRpb24pIHtcbiAgICBpZiAoZGVmaW5pdGlvbi50eXBlLnByb3RvdHlwZS5uZ09uQ2hhbmdlcykge1xuICAgICAgICBkZWZpbml0aW9uLnNldElucHV0ID0gbmdPbkNoYW5nZXNTZXRJbnB1dDtcbiAgICB9XG4gICAgcmV0dXJuIHJlbWVtYmVyQ2hhbmdlSGlzdG9yeUFuZEludm9rZU9uQ2hhbmdlc0hvb2s7XG59XG4vLyBUaGlzIG9wdGlvbiBlbnN1cmVzIHRoYXQgdGhlIG5nT25DaGFuZ2VzIGxpZmVjeWNsZSBob29rIHdpbGwgYmUgaW5oZXJpdGVkXG4vLyBmcm9tIHN1cGVyY2xhc3NlcyAoaW4gSW5oZXJpdERlZmluaXRpb25GZWF0dXJlKS5cbi8qKiBAbm9jb2xsYXBzZSAqL1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuybXJtU5nT25DaGFuZ2VzRmVhdHVyZS5uZ0luaGVyaXQgPSB0cnVlO1xuLyoqXG4gKiBUaGlzIGlzIGEgc3ludGhldGljIGxpZmVjeWNsZSBob29rIHdoaWNoIGdldHMgaW5zZXJ0ZWQgaW50byBgVFZpZXcucHJlT3JkZXJIb29rc2AgdG8gc2ltdWxhdGVcbiAqIGBuZ09uQ2hhbmdlc2AuXG4gKlxuICogVGhlIGhvb2sgcmVhZHMgdGhlIGBOZ1NpbXBsZUNoYW5nZXNTdG9yZWAgZGF0YSBmcm9tIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgYW5kIGlmIGNoYW5nZXMgYXJlXG4gKiBmb3VuZCBpdCBpbnZva2VzIGBuZ09uQ2hhbmdlc2Agb24gdGhlIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0gdGhpcyBDb21wb25lbnQgaW5zdGFuY2UuIEJlY2F1c2UgdGhpcyBmdW5jdGlvbiBnZXRzIGluc2VydGVkIGludG8gYFRWaWV3LnByZU9yZGVySG9va3NgLFxuICogICAgIGl0IGlzIGd1YXJhbnRlZWQgdG8gYmUgY2FsbGVkIHdpdGggY29tcG9uZW50IGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiByZW1lbWJlckNoYW5nZUhpc3RvcnlBbmRJbnZva2VPbkNoYW5nZXNIb29rKCkge1xuICAgIGNvbnN0IHNpbXBsZUNoYW5nZXNTdG9yZSA9IGdldFNpbXBsZUNoYW5nZXNTdG9yZSh0aGlzKTtcbiAgICBjb25zdCBjdXJyZW50ID0gc2ltcGxlQ2hhbmdlc1N0b3JlID09PSBudWxsIHx8IHNpbXBsZUNoYW5nZXNTdG9yZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2ltcGxlQ2hhbmdlc1N0b3JlLmN1cnJlbnQ7XG4gICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXMgPSBzaW1wbGVDaGFuZ2VzU3RvcmUucHJldmlvdXM7XG4gICAgICAgIGlmIChwcmV2aW91cyA9PT0gRU1QVFlfT0JKKSB7XG4gICAgICAgICAgICBzaW1wbGVDaGFuZ2VzU3RvcmUucHJldmlvdXMgPSBjdXJyZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTmV3IGNoYW5nZXMgYXJlIGNvcGllZCB0byB0aGUgcHJldmlvdXMgc3RvcmUsIHNvIHRoYXQgd2UgZG9uJ3QgbG9zZSBoaXN0b3J5IGZvciBpbnB1dHNcbiAgICAgICAgICAgIC8vIHdoaWNoIHdlcmUgbm90IGNoYW5nZWQgdGhpcyB0aW1lXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzW2tleV0gPSBjdXJyZW50W2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2ltcGxlQ2hhbmdlc1N0b3JlLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLm5nT25DaGFuZ2VzKGN1cnJlbnQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5nT25DaGFuZ2VzU2V0SW5wdXQoaW5zdGFuY2UsIHZhbHVlLCBwdWJsaWNOYW1lLCBwcml2YXRlTmFtZSkge1xuICAgIGNvbnN0IHNpbXBsZUNoYW5nZXNTdG9yZSA9IGdldFNpbXBsZUNoYW5nZXNTdG9yZShpbnN0YW5jZSkgfHxcbiAgICAgICAgc2V0U2ltcGxlQ2hhbmdlc1N0b3JlKGluc3RhbmNlLCB7IHByZXZpb3VzOiBFTVBUWV9PQkosIGN1cnJlbnQ6IG51bGwgfSk7XG4gICAgY29uc3QgY3VycmVudCA9IHNpbXBsZUNoYW5nZXNTdG9yZS5jdXJyZW50IHx8IChzaW1wbGVDaGFuZ2VzU3RvcmUuY3VycmVudCA9IHt9KTtcbiAgICBjb25zdCBwcmV2aW91cyA9IHNpbXBsZUNoYW5nZXNTdG9yZS5wcmV2aW91cztcbiAgICBjb25zdCBkZWNsYXJlZE5hbWUgPSB0aGlzLmRlY2xhcmVkSW5wdXRzW3B1YmxpY05hbWVdO1xuICAgIGNvbnN0IHByZXZpb3VzQ2hhbmdlID0gcHJldmlvdXNbZGVjbGFyZWROYW1lXTtcbiAgICBjdXJyZW50W2RlY2xhcmVkTmFtZV0gPSBuZXcgU2ltcGxlQ2hhbmdlKHByZXZpb3VzQ2hhbmdlICYmIHByZXZpb3VzQ2hhbmdlLmN1cnJlbnRWYWx1ZSwgdmFsdWUsIHByZXZpb3VzID09PSBFTVBUWV9PQkopO1xuICAgIGluc3RhbmNlW3ByaXZhdGVOYW1lXSA9IHZhbHVlO1xufVxuY29uc3QgU0lNUExFX0NIQU5HRVNfU1RPUkUgPSAnX19uZ1NpbXBsZUNoYW5nZXNfXyc7XG5mdW5jdGlvbiBnZXRTaW1wbGVDaGFuZ2VzU3RvcmUoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gaW5zdGFuY2VbU0lNUExFX0NIQU5HRVNfU1RPUkVdIHx8IG51bGw7XG59XG5mdW5jdGlvbiBzZXRTaW1wbGVDaGFuZ2VzU3RvcmUoaW5zdGFuY2UsIHN0b3JlKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlW1NJTVBMRV9DSEFOR0VTX1NUT1JFXSA9IHN0b3JlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmxldCBwcm9maWxlckNhbGxiYWNrID0gbnVsbDtcbi8qKlxuICogU2V0cyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gd2hpY2ggd2lsbCBiZSBpbnZva2VkIGJlZm9yZSBhbmQgYWZ0ZXIgcGVyZm9ybWluZyBjZXJ0YWluIGFjdGlvbnMgYXRcbiAqIHJ1bnRpbWUgKGZvciBleGFtcGxlLCBiZWZvcmUgYW5kIGFmdGVyIHJ1bm5pbmcgY2hhbmdlIGRldGVjdGlvbikuXG4gKlxuICogV2FybmluZzogdGhpcyBmdW5jdGlvbiBpcyAqSU5URVJOQUwqIGFuZCBzaG91bGQgbm90IGJlIHJlbGllZCB1cG9uIGluIGFwcGxpY2F0aW9uJ3MgY29kZS5cbiAqIFRoZSBjb250cmFjdCBvZiB0aGUgZnVuY3Rpb24gbWlnaHQgYmUgY2hhbmdlZCBpbiBhbnkgcmVsZWFzZSBhbmQvb3IgdGhlIGZ1bmN0aW9uIGNhbiBiZSByZW1vdmVkXG4gKiBjb21wbGV0ZWx5LlxuICpcbiAqIEBwYXJhbSBwcm9maWxlciBmdW5jdGlvbiBwcm92aWRlZCBieSB0aGUgY2FsbGVyIG9yIG51bGwgdmFsdWUgdG8gZGlzYWJsZSBwcm9maWxpbmcuXG4gKi9cbmNvbnN0IHNldFByb2ZpbGVyID0gKHByb2ZpbGVyKSA9PiB7XG4gICAgcHJvZmlsZXJDYWxsYmFjayA9IHByb2ZpbGVyO1xufTtcbi8qKlxuICogUHJvZmlsZXIgZnVuY3Rpb24gd2hpY2ggd3JhcHMgdXNlciBjb2RlIGV4ZWN1dGVkIGJ5IHRoZSBydW50aW1lLlxuICpcbiAqIEBwYXJhbSBldmVudCBQcm9maWxlckV2ZW50IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGV4ZWN1dGlvbiBjb250ZXh0XG4gKiBAcGFyYW0gaW5zdGFuY2UgY29tcG9uZW50IGluc3RhbmNlXG4gKiBAcGFyYW0gaG9va09yTGlzdGVuZXIgbGlmZWN5Y2xlIGhvb2sgZnVuY3Rpb24gb3Igb3V0cHV0IGxpc3RlbmVyLiBUaGUgdmFsdWUgZGVwZW5kcyBvbiB0aGVcbiAqICBleGVjdXRpb24gY29udGV4dFxuICogQHJldHVybnNcbiAqL1xuY29uc3QgcHJvZmlsZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGluc3RhbmNlLCBob29rT3JMaXN0ZW5lcikge1xuICAgIGlmIChwcm9maWxlckNhbGxiYWNrICE9IG51bGwgLyogYm90aCBgbnVsbGAgYW5kIGB1bmRlZmluZWRgICovKSB7XG4gICAgICAgIHByb2ZpbGVyQ2FsbGJhY2soZXZlbnQsIGluc3RhbmNlLCBob29rT3JMaXN0ZW5lcik7XG4gICAgfVxufTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBTVkdfTkFNRVNQQUNFID0gJ3N2Zyc7XG5jb25zdCBTVkdfTkFNRVNQQUNFX1VSSSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5jb25zdCBNQVRIX01MX05BTUVTUEFDRSA9ICdtYXRoJztcbmNvbnN0IE1BVEhfTUxfTkFNRVNQQUNFX1VSSSA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGhNTC8nO1xuZnVuY3Rpb24gZ2V0TmFtZXNwYWNlVXJpKG5hbWVzcGFjZSkge1xuICAgIGNvbnN0IG5hbWUgPSBuYW1lc3BhY2UudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gbmFtZSA9PT0gU1ZHX05BTUVTUEFDRSA/IFNWR19OQU1FU1BBQ0VfVVJJIDpcbiAgICAgICAgKG5hbWUgPT09IE1BVEhfTUxfTkFNRVNQQUNFID8gTUFUSF9NTF9OQU1FU1BBQ0VfVVJJIDogbnVsbCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBNb3N0IG9mIHRoZSB1c2Ugb2YgYGRvY3VtZW50YCBpbiBBbmd1bGFyIGlzIGZyb20gd2l0aGluIHRoZSBESSBzeXN0ZW0gc28gaXQgaXMgcG9zc2libGUgdG8gc2ltcGx5XG4gKiBpbmplY3QgdGhlIGBET0NVTUVOVGAgdG9rZW4gYW5kIGFyZSBkb25lLlxuICpcbiAqIEl2eSBpcyBzcGVjaWFsIGJlY2F1c2UgaXQgZG9lcyBub3QgcmVseSB1cG9uIHRoZSBESSBhbmQgbXVzdCBnZXQgaG9sZCBvZiB0aGUgZG9jdW1lbnQgc29tZSBvdGhlclxuICogd2F5LlxuICpcbiAqIFRoZSBzb2x1dGlvbiBpcyB0byBkZWZpbmUgYGdldERvY3VtZW50KClgIGFuZCBgc2V0RG9jdW1lbnQoKWAgdG9wLWxldmVsIGZ1bmN0aW9ucyBmb3IgaXZ5LlxuICogV2hlcmV2ZXIgaXZ5IG5lZWRzIHRoZSBnbG9iYWwgZG9jdW1lbnQsIGl0IGNhbGxzIGBnZXREb2N1bWVudCgpYCBpbnN0ZWFkLlxuICpcbiAqIFdoZW4gcnVubmluZyBpdnkgb3V0c2lkZSBvZiBhIGJyb3dzZXIgZW52aXJvbm1lbnQsIGl0IGlzIG5lY2Vzc2FyeSB0byBjYWxsIGBzZXREb2N1bWVudCgpYCB0b1xuICogdGVsbCBpdnkgd2hhdCB0aGUgZ2xvYmFsIGBkb2N1bWVudGAgaXMuXG4gKlxuICogQW5ndWxhciBkb2VzIHRoaXMgZm9yIHVzIGluIGVhY2ggb2YgdGhlIHN0YW5kYXJkIHBsYXRmb3JtcyAoYEJyb3dzZXJgLCBgU2VydmVyYCwgYW5kIGBXZWJXb3JrZXJgKVxuICogYnkgY2FsbGluZyBgc2V0RG9jdW1lbnQoKWAgd2hlbiBwcm92aWRpbmcgdGhlIGBET0NVTUVOVGAgdG9rZW4uXG4gKi9cbmxldCBET0NVTUVOVCA9IHVuZGVmaW5lZDtcbi8qKlxuICogVGVsbCBpdnkgd2hhdCB0aGUgYGRvY3VtZW50YCBpcyBmb3IgdGhpcyBwbGF0Zm9ybS5cbiAqXG4gKiBJdCBpcyBvbmx5IG5lY2Vzc2FyeSB0byBjYWxsIHRoaXMgaWYgdGhlIGN1cnJlbnQgcGxhdGZvcm0gaXMgbm90IGEgYnJvd3Nlci5cbiAqXG4gKiBAcGFyYW0gZG9jdW1lbnQgVGhlIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGdsb2JhbCBgZG9jdW1lbnRgIGluIHRoaXMgZW52aXJvbm1lbnQuXG4gKi9cbmZ1bmN0aW9uIHNldERvY3VtZW50KGRvY3VtZW50KSB7XG4gICAgRE9DVU1FTlQgPSBkb2N1bWVudDtcbn1cbi8qKlxuICogQWNjZXNzIHRoZSBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSBgZG9jdW1lbnRgIGZvciB0aGlzIHBsYXRmb3JtLlxuICpcbiAqIEl2eSBjYWxscyB0aGlzIHdoZW5ldmVyIGl0IG5lZWRzIHRvIGFjY2VzcyB0aGUgYGRvY3VtZW50YCBvYmplY3QuXG4gKiBGb3IgZXhhbXBsZSB0byBjcmVhdGUgdGhlIHJlbmRlcmVyIG9yIHRvIGRvIHNhbml0aXphdGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0RG9jdW1lbnQoKSB7XG4gICAgaWYgKERPQ1VNRU5UICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIERPQ1VNRU5UO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudDtcbiAgICB9XG4gICAgLy8gTm8gXCJkb2N1bWVudFwiIGNhbiBiZSBmb3VuZC4gVGhpcyBzaG91bGQgb25seSBoYXBwZW4gaWYgd2UgYXJlIHJ1bm5pbmcgaXZ5IG91dHNpZGUgQW5ndWxhciBhbmRcbiAgICAvLyB0aGUgY3VycmVudCBwbGF0Zm9ybSBpcyBub3QgYSBicm93c2VyLiBTaW5jZSB0aGlzIGlzIG5vdCBhIHN1cHBvcnRlZCBzY2VuYXJpbyBhdCB0aGUgbW9tZW50XG4gICAgLy8gdGhpcyBzaG91bGQgbm90IGhhcHBlbiBpbiBBbmd1bGFyIGFwcHMuXG4gICAgLy8gT25jZSB3ZSBzdXBwb3J0IHJ1bm5pbmcgaXZ5IG91dHNpZGUgb2YgQW5ndWxhciB3ZSB3aWxsIG5lZWQgdG8gcHVibGlzaCBgc2V0RG9jdW1lbnQoKWAgYXMgYVxuICAgIC8vIHB1YmxpYyBBUEkuIE1lYW53aGlsZSB3ZSBqdXN0IHJldHVybiBgdW5kZWZpbmVkYCBhbmQgbGV0IHRoZSBhcHBsaWNhdGlvbiBmYWlsLlxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gVE9ETzogY2xlYW51cCBvbmNlIHRoZSBjb2RlIGlzIG1lcmdlZCBpbiBhbmd1bGFyL2FuZ3VsYXJcbnZhciBSZW5kZXJlclN0eWxlRmxhZ3MzO1xuKGZ1bmN0aW9uIChSZW5kZXJlclN0eWxlRmxhZ3MzKSB7XG4gICAgUmVuZGVyZXJTdHlsZUZsYWdzM1tSZW5kZXJlclN0eWxlRmxhZ3MzW1wiSW1wb3J0YW50XCJdID0gMV0gPSBcIkltcG9ydGFudFwiO1xuICAgIFJlbmRlcmVyU3R5bGVGbGFnczNbUmVuZGVyZXJTdHlsZUZsYWdzM1tcIkRhc2hDYXNlXCJdID0gMl0gPSBcIkRhc2hDYXNlXCI7XG59KShSZW5kZXJlclN0eWxlRmxhZ3MzIHx8IChSZW5kZXJlclN0eWxlRmxhZ3MzID0ge30pKTtcbi8qKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGByZW5kZXJlcmAgaXMgYSBgUHJvY2VkdXJhbFJlbmRlcmVyM2AgKi9cbmZ1bmN0aW9uIGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgcmV0dXJuICEhKHJlbmRlcmVyLmxpc3Rlbik7XG59XG5jb25zdCBkb21SZW5kZXJlckZhY3RvcnkzID0ge1xuICAgIGNyZWF0ZVJlbmRlcmVyOiAoaG9zdEVsZW1lbnQsIHJlbmRlcmVyVHlwZSkgPT4ge1xuICAgICAgICByZXR1cm4gZ2V0RG9jdW1lbnQoKTtcbiAgICB9XG59O1xuLy8gTm90ZTogVGhpcyBoYWNrIGlzIG5lY2Vzc2FyeSBzbyB3ZSBkb24ndCBlcnJvbmVvdXNseSBnZXQgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG4vLyBmYWlsdXJlIGJhc2VkIG9uIHR5cGVzLlxuY29uc3QgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkNiA9IDE7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBGb3IgZWZmaWNpZW5jeSByZWFzb25zIHdlIG9mdGVuIHB1dCBzZXZlcmFsIGRpZmZlcmVudCBkYXRhIHR5cGVzIChgUk5vZGVgLCBgTFZpZXdgLCBgTENvbnRhaW5lcmApXG4gKiBpbiBzYW1lIGxvY2F0aW9uIGluIGBMVmlld2AuIFRoaXMgaXMgYmVjYXVzZSB3ZSBkb24ndCB3YW50IHRvIHByZS1hbGxvY2F0ZSBzcGFjZSBmb3IgaXRcbiAqIGJlY2F1c2UgdGhlIHN0b3JhZ2UgaXMgc3BhcnNlLiBUaGlzIGZpbGUgY29udGFpbnMgdXRpbGl0aWVzIGZvciBkZWFsaW5nIHdpdGggc3VjaCBkYXRhIHR5cGVzLlxuICpcbiAqIEhvdyBkbyB3ZSBrbm93IHdoYXQgaXMgc3RvcmVkIGF0IGEgZ2l2ZW4gbG9jYXRpb24gaW4gYExWaWV3YC5cbiAqIC0gYEFycmF5LmlzQXJyYXkodmFsdWUpID09PSBmYWxzZWAgPT4gYFJOb2RlYCAoVGhlIG5vcm1hbCBzdG9yYWdlIHZhbHVlKVxuICogLSBgQXJyYXkuaXNBcnJheSh2YWx1ZSkgPT09IHRydWVgID0+IHRoZW4gdGhlIGB2YWx1ZVswXWAgcmVwcmVzZW50cyB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAqICAgLSBgdHlwZW9mIHZhbHVlW1RZUEVdID09PSAnb2JqZWN0J2AgPT4gYExWaWV3YFxuICogICAgICAtIFRoaXMgaGFwcGVucyB3aGVuIHdlIGhhdmUgYSBjb21wb25lbnQgYXQgYSBnaXZlbiBsb2NhdGlvblxuICogICAtIGB0eXBlb2YgdmFsdWVbVFlQRV0gPT09IHRydWVgID0+IGBMQ29udGFpbmVyYFxuICogICAgICAtIFRoaXMgaGFwcGVucyB3aGVuIHdlIGhhdmUgYExDb250YWluZXJgIGJpbmRpbmcgYXQgYSBnaXZlbiBsb2NhdGlvbi5cbiAqXG4gKlxuICogTk9URTogaXQgaXMgYXNzdW1lZCB0aGF0IGBBcnJheS5pc0FycmF5YCBhbmQgYHR5cGVvZmAgb3BlcmF0aW9ucyBhcmUgdmVyeSBlZmZpY2llbnQuXG4gKi9cbi8qKlxuICogUmV0dXJucyBgUk5vZGVgLlxuICogQHBhcmFtIHZhbHVlIHdyYXBwZWQgdmFsdWUgb2YgYFJOb2RlYCwgYExWaWV3YCwgYExDb250YWluZXJgXG4gKi9cbmZ1bmN0aW9uIHVud3JhcFJOb2RlKHZhbHVlKSB7XG4gICAgd2hpbGUgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWVbSE9TVF07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8qKlxuICogUmV0dXJucyBgTFZpZXdgIG9yIGBudWxsYCBpZiBub3QgZm91bmQuXG4gKiBAcGFyYW0gdmFsdWUgd3JhcHBlZCB2YWx1ZSBvZiBgUk5vZGVgLCBgTFZpZXdgLCBgTENvbnRhaW5lcmBcbiAqL1xuZnVuY3Rpb24gdW53cmFwTFZpZXcodmFsdWUpIHtcbiAgICB3aGlsZSAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgLy8gVGhpcyBjaGVjayBpcyBzYW1lIGFzIGBpc0xWaWV3KClgIGJ1dCB3ZSBkb24ndCBjYWxsIGF0IGFzIHdlIGRvbid0IHdhbnQgdG8gY2FsbFxuICAgICAgICAvLyBgQXJyYXkuaXNBcnJheSgpYCB0d2ljZSBhbmQgZ2l2ZSBKSVRlciBtb3JlIHdvcmsgZm9yIGlubGluaW5nLlxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlW1RZUEVdID09PSAnb2JqZWN0JylcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZVtIT1NUXTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFJldHVybnMgYExDb250YWluZXJgIG9yIGBudWxsYCBpZiBub3QgZm91bmQuXG4gKiBAcGFyYW0gdmFsdWUgd3JhcHBlZCB2YWx1ZSBvZiBgUk5vZGVgLCBgTFZpZXdgLCBgTENvbnRhaW5lcmBcbiAqL1xuZnVuY3Rpb24gdW53cmFwTENvbnRhaW5lcih2YWx1ZSkge1xuICAgIHdoaWxlIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAvLyBUaGlzIGNoZWNrIGlzIHNhbWUgYXMgYGlzTENvbnRhaW5lcigpYCBidXQgd2UgZG9uJ3QgY2FsbCBhdCBhcyB3ZSBkb24ndCB3YW50IHRvIGNhbGxcbiAgICAgICAgLy8gYEFycmF5LmlzQXJyYXkoKWAgdHdpY2UgYW5kIGdpdmUgSklUZXIgbW9yZSB3b3JrIGZvciBpbmxpbmluZy5cbiAgICAgICAgaWYgKHZhbHVlW1RZUEVdID09PSB0cnVlKVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlW0hPU1RdO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogUmV0cmlldmVzIGFuIGVsZW1lbnQgdmFsdWUgZnJvbSB0aGUgcHJvdmlkZWQgYHZpZXdEYXRhYCwgYnkgdW53cmFwcGluZ1xuICogZnJvbSBhbnkgY29udGFpbmVycywgY29tcG9uZW50IHZpZXdzLCBvciBzdHlsZSBjb250ZXh0cy5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlQnlJbmRleChpbmRleCwgbFZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCBpbmRleCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChpbmRleCwgSEVBREVSX09GRlNFVCwgJ0V4cGVjdGVkIHRvIGJlIHBhc3QgSEVBREVSX09GRlNFVCcpO1xuICAgIHJldHVybiB1bndyYXBSTm9kZShsVmlld1tpbmRleF0pO1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBhbiBgUk5vZGVgIGZvciBhIGdpdmVuIGBUTm9kZWAgYW5kIGBMVmlld2AuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBndWFyYW50ZWVzIGluIGRldiBtb2RlIHRvIHJldHJpZXZlIGEgbm9uLW51bGwgYFJOb2RlYC5cbiAqXG4gKiBAcGFyYW0gdE5vZGVcbiAqIEBwYXJhbSBsVmlld1xuICovXG5mdW5jdGlvbiBnZXROYXRpdmVCeVROb2RlKHROb2RlLCBsVmlldykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZUZvckxWaWV3KHROb2RlLCBsVmlldyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgdE5vZGUuaW5kZXgpO1xuICAgIGNvbnN0IG5vZGUgPSB1bndyYXBSTm9kZShsVmlld1t0Tm9kZS5pbmRleF0pO1xuICAgIG5nRGV2TW9kZSAmJiAhaXNQcm9jZWR1cmFsUmVuZGVyZXIobFZpZXdbUkVOREVSRVJdKSAmJiBhc3NlcnREb21Ob2RlKG5vZGUpO1xuICAgIHJldHVybiBub2RlO1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBhbiBgUk5vZGVgIG9yIGBudWxsYCBmb3IgYSBnaXZlbiBgVE5vZGVgIGFuZCBgTFZpZXdgLlxuICpcbiAqIFNvbWUgYFROb2RlYHMgZG9uJ3QgaGF2ZSBhc3NvY2lhdGVkIGBSTm9kZWBzLiBGb3IgZXhhbXBsZSBgUHJvamVjdGlvbmBcbiAqXG4gKiBAcGFyYW0gdE5vZGVcbiAqIEBwYXJhbSBsVmlld1xuICovXG5mdW5jdGlvbiBnZXROYXRpdmVCeVROb2RlT3JOdWxsKHROb2RlLCBsVmlldykge1xuICAgIGNvbnN0IGluZGV4ID0gdE5vZGUgPT09IG51bGwgPyAtMSA6IHROb2RlLmluZGV4O1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlRm9yTFZpZXcodE5vZGUsIGxWaWV3KTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHVud3JhcFJOb2RlKGxWaWV3W2luZGV4XSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBub2RlICE9PSBudWxsICYmICFpc1Byb2NlZHVyYWxSZW5kZXJlcihsVmlld1tSRU5ERVJFUl0pICYmIGFzc2VydERvbU5vZGUobm9kZSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8vIGZpeG1lKG1pc2tvKTogVGhlIHJldHVybiBUeXBlIHNob3VsZCBiZSBgVE5vZGV8bnVsbGBcbmZ1bmN0aW9uIGdldFROb2RlKHRWaWV3LCBpbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRHcmVhdGVyVGhhbihpbmRleCwgLTEsICd3cm9uZyBpbmRleCBmb3IgVE5vZGUnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TGVzc1RoYW4oaW5kZXgsIHRWaWV3LmRhdGEubGVuZ3RoLCAnd3JvbmcgaW5kZXggZm9yIFROb2RlJyk7XG4gICAgY29uc3QgdE5vZGUgPSB0Vmlldy5kYXRhW2luZGV4XTtcbiAgICBuZ0Rldk1vZGUgJiYgdE5vZGUgIT09IG51bGwgJiYgYXNzZXJ0VE5vZGUodE5vZGUpO1xuICAgIHJldHVybiB0Tm9kZTtcbn1cbi8qKiBSZXRyaWV2ZXMgYSB2YWx1ZSBmcm9tIGFueSBgTFZpZXdgIG9yIGBURGF0YWAuICovXG5mdW5jdGlvbiBsb2FkKHZpZXcsIGluZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZSh2aWV3LCBpbmRleCk7XG4gICAgcmV0dXJuIHZpZXdbaW5kZXhdO1xufVxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KG5vZGVJbmRleCwgaG9zdFZpZXcpIHtcbiAgICAvLyBDb3VsZCBiZSBhbiBMVmlldyBvciBhbiBMQ29udGFpbmVyLiBJZiBMQ29udGFpbmVyLCB1bndyYXAgdG8gZmluZCBMVmlldy5cbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGhvc3RWaWV3LCBub2RlSW5kZXgpO1xuICAgIGNvbnN0IHNsb3RWYWx1ZSA9IGhvc3RWaWV3W25vZGVJbmRleF07XG4gICAgY29uc3QgbFZpZXcgPSBpc0xWaWV3KHNsb3RWYWx1ZSkgPyBzbG90VmFsdWUgOiBzbG90VmFsdWVbSE9TVF07XG4gICAgcmV0dXJuIGxWaWV3O1xufVxuLyoqIENoZWNrcyB3aGV0aGVyIGEgZ2l2ZW4gdmlldyBpcyBpbiBjcmVhdGlvbiBtb2RlICovXG5mdW5jdGlvbiBpc0NyZWF0aW9uTW9kZSh2aWV3KSB7XG4gICAgcmV0dXJuICh2aWV3W0ZMQUdTXSAmIDQgLyogQ3JlYXRpb25Nb2RlICovKSA9PT0gNCAvKiBDcmVhdGlvbk1vZGUgKi87XG59XG4vKipcbiAqIFJldHVybnMgYSBib29sZWFuIGZvciB3aGV0aGVyIHRoZSB2aWV3IGlzIGF0dGFjaGVkIHRvIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIHRyZWUuXG4gKlxuICogTm90ZTogVGhpcyBkZXRlcm1pbmVzIHdoZXRoZXIgYSB2aWV3IHNob3VsZCBiZSBjaGVja2VkLCBub3Qgd2hldGhlciBpdCdzIGluc2VydGVkXG4gKiBpbnRvIGEgY29udGFpbmVyLiBGb3IgdGhhdCwgeW91J2xsIHdhbnQgYHZpZXdBdHRhY2hlZFRvQ29udGFpbmVyYCBiZWxvdy5cbiAqL1xuZnVuY3Rpb24gdmlld0F0dGFjaGVkVG9DaGFuZ2VEZXRlY3Rvcih2aWV3KSB7XG4gICAgcmV0dXJuICh2aWV3W0ZMQUdTXSAmIDEyOCAvKiBBdHRhY2hlZCAqLykgPT09IDEyOCAvKiBBdHRhY2hlZCAqLztcbn1cbi8qKiBSZXR1cm5zIGEgYm9vbGVhbiBmb3Igd2hldGhlciB0aGUgdmlldyBpcyBhdHRhY2hlZCB0byBhIGNvbnRhaW5lci4gKi9cbmZ1bmN0aW9uIHZpZXdBdHRhY2hlZFRvQ29udGFpbmVyKHZpZXcpIHtcbiAgICByZXR1cm4gaXNMQ29udGFpbmVyKHZpZXdbUEFSRU5UXSk7XG59XG5mdW5jdGlvbiBnZXRDb25zdGFudChjb25zdHMsIGluZGV4KSB7XG4gICAgaWYgKGluZGV4ID09PSBudWxsIHx8IGluZGV4ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UoY29uc3RzLCBpbmRleCk7XG4gICAgcmV0dXJuIGNvbnN0c1tpbmRleF07XG59XG4vKipcbiAqIFJlc2V0cyB0aGUgcHJlLW9yZGVyIGhvb2sgZmxhZ3Mgb2YgdGhlIHZpZXcuXG4gKiBAcGFyYW0gbFZpZXcgdGhlIExWaWV3IG9uIHdoaWNoIHRoZSBmbGFncyBhcmUgcmVzZXRcbiAqL1xuZnVuY3Rpb24gcmVzZXRQcmVPcmRlckhvb2tGbGFncyhsVmlldykge1xuICAgIGxWaWV3W1BSRU9SREVSX0hPT0tfRkxBR1NdID0gMDtcbn1cbi8qKlxuICogVXBkYXRlcyB0aGUgYFRSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIYCBjb3VudGVyIG9uIHRoZSBgTENvbnRhaW5lcmAgYXMgd2VsbCBhcyB0aGUgcGFyZW50c1xuICogd2hvc2VcbiAqICAxLiBjb3VudGVyIGdvZXMgZnJvbSAwIHRvIDEsIGluZGljYXRpbmcgdGhhdCB0aGVyZSBpcyBhIG5ldyBjaGlsZCB0aGF0IGhhcyBhIHZpZXcgdG8gcmVmcmVzaFxuICogIG9yXG4gKiAgMi4gY291bnRlciBnb2VzIGZyb20gMSB0byAwLCBpbmRpY2F0aW5nIHRoZXJlIGFyZSBubyBtb3JlIGRlc2NlbmRhbnQgdmlld3MgdG8gcmVmcmVzaFxuICovXG5mdW5jdGlvbiB1cGRhdGVUcmFuc3BsYW50ZWRWaWV3Q291bnQobENvbnRhaW5lciwgYW1vdW50KSB7XG4gICAgbENvbnRhaW5lcltUUkFOU1BMQU5URURfVklFV1NfVE9fUkVGUkVTSF0gKz0gYW1vdW50O1xuICAgIGxldCB2aWV3T3JDb250YWluZXIgPSBsQ29udGFpbmVyO1xuICAgIGxldCBwYXJlbnQgPSBsQ29udGFpbmVyW1BBUkVOVF07XG4gICAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCAmJlxuICAgICAgICAoKGFtb3VudCA9PT0gMSAmJiB2aWV3T3JDb250YWluZXJbVFJBTlNQTEFOVEVEX1ZJRVdTX1RPX1JFRlJFU0hdID09PSAxKSB8fFxuICAgICAgICAgICAgKGFtb3VudCA9PT0gLTEgJiYgdmlld09yQ29udGFpbmVyW1RSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIXSA9PT0gMCkpKSB7XG4gICAgICAgIHBhcmVudFtUUkFOU1BMQU5URURfVklFV1NfVE9fUkVGUkVTSF0gKz0gYW1vdW50O1xuICAgICAgICB2aWV3T3JDb250YWluZXIgPSBwYXJlbnQ7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudFtQQVJFTlRdO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBpbnN0cnVjdGlvblN0YXRlID0ge1xuICAgIGxGcmFtZTogY3JlYXRlTEZyYW1lKG51bGwpLFxuICAgIGJpbmRpbmdzRW5hYmxlZDogdHJ1ZSxcbiAgICBpc0luQ2hlY2tOb0NoYW5nZXNNb2RlOiBmYWxzZSxcbn07XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgaW5zdHJ1Y3Rpb24gc3RhdGUgc3RhY2sgaXMgZW1wdHkuXG4gKlxuICogSW50ZW5kZWQgdG8gYmUgY2FsbGVkIGZyb20gdGVzdHMgb25seSAodHJlZSBzaGFrZW4gb3RoZXJ3aXNlKS5cbiAqL1xuZnVuY3Rpb24gc3BlY09ubHlJc0luc3RydWN0aW9uU3RhdGVFbXB0eSgpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUucGFyZW50ID09PSBudWxsO1xufVxuZnVuY3Rpb24gZ2V0RWxlbWVudERlcHRoQ291bnQoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmVsZW1lbnREZXB0aENvdW50O1xufVxuZnVuY3Rpb24gaW5jcmVhc2VFbGVtZW50RGVwdGhDb3VudCgpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5lbGVtZW50RGVwdGhDb3VudCsrO1xufVxuZnVuY3Rpb24gZGVjcmVhc2VFbGVtZW50RGVwdGhDb3VudCgpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5lbGVtZW50RGVwdGhDb3VudC0tO1xufVxuZnVuY3Rpb24gZ2V0QmluZGluZ3NFbmFibGVkKCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmJpbmRpbmdzRW5hYmxlZDtcbn1cbi8qKlxuICogRW5hYmxlcyBkaXJlY3RpdmUgbWF0Y2hpbmcgb24gZWxlbWVudHMuXG4gKlxuICogICogRXhhbXBsZTpcbiAqIGBgYFxuICogPG15LWNvbXAgbXktZGlyZWN0aXZlPlxuICogICBTaG91bGQgbWF0Y2ggY29tcG9uZW50IC8gZGlyZWN0aXZlLlxuICogPC9teS1jb21wPlxuICogPGRpdiBuZ05vbkJpbmRhYmxlPlxuICogICA8IS0tIMm1ybVkaXNhYmxlQmluZGluZ3MoKSAtLT5cbiAqICAgPG15LWNvbXAgbXktZGlyZWN0aXZlPlxuICogICAgIFNob3VsZCBub3QgbWF0Y2ggY29tcG9uZW50IC8gZGlyZWN0aXZlIGJlY2F1c2Ugd2UgYXJlIGluIG5nTm9uQmluZGFibGUuXG4gKiAgIDwvbXktY29tcD5cbiAqICAgPCEtLSDJtcm1ZW5hYmxlQmluZGluZ3MoKSAtLT5cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWVuYWJsZUJpbmRpbmdzKCkge1xuICAgIGluc3RydWN0aW9uU3RhdGUuYmluZGluZ3NFbmFibGVkID0gdHJ1ZTtcbn1cbi8qKlxuICogRGlzYWJsZXMgZGlyZWN0aXZlIG1hdGNoaW5nIG9uIGVsZW1lbnQuXG4gKlxuICogICogRXhhbXBsZTpcbiAqIGBgYFxuICogPG15LWNvbXAgbXktZGlyZWN0aXZlPlxuICogICBTaG91bGQgbWF0Y2ggY29tcG9uZW50IC8gZGlyZWN0aXZlLlxuICogPC9teS1jb21wPlxuICogPGRpdiBuZ05vbkJpbmRhYmxlPlxuICogICA8IS0tIMm1ybVkaXNhYmxlQmluZGluZ3MoKSAtLT5cbiAqICAgPG15LWNvbXAgbXktZGlyZWN0aXZlPlxuICogICAgIFNob3VsZCBub3QgbWF0Y2ggY29tcG9uZW50IC8gZGlyZWN0aXZlIGJlY2F1c2Ugd2UgYXJlIGluIG5nTm9uQmluZGFibGUuXG4gKiAgIDwvbXktY29tcD5cbiAqICAgPCEtLSDJtcm1ZW5hYmxlQmluZGluZ3MoKSAtLT5cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWRpc2FibGVCaW5kaW5ncygpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmJpbmRpbmdzRW5hYmxlZCA9IGZhbHNlO1xufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGN1cnJlbnQgYExWaWV3YC5cbiAqL1xuZnVuY3Rpb24gZ2V0TFZpZXcoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmxWaWV3O1xufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGN1cnJlbnQgYFRWaWV3YC5cbiAqL1xuZnVuY3Rpb24gZ2V0VFZpZXcoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLnRWaWV3O1xufVxuLyoqXG4gKiBSZXN0b3JlcyBgY29udGV4dFZpZXdEYXRhYCB0byB0aGUgZ2l2ZW4gT3BhcXVlVmlld1N0YXRlIGluc3RhbmNlLlxuICpcbiAqIFVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCB0aGUgZ2V0Q3VycmVudFZpZXcoKSBpbnN0cnVjdGlvbiB0byBzYXZlIGEgc25hcHNob3RcbiAqIG9mIHRoZSBjdXJyZW50IHZpZXcgYW5kIHJlc3RvcmUgaXQgd2hlbiBsaXN0ZW5lcnMgYXJlIGludm9rZWQuIFRoaXMgYWxsb3dzXG4gKiB3YWxraW5nIHRoZSBkZWNsYXJhdGlvbiB2aWV3IHRyZWUgaW4gbGlzdGVuZXJzIHRvIGdldCB2YXJzIGZyb20gcGFyZW50IHZpZXdzLlxuICpcbiAqIEBwYXJhbSB2aWV3VG9SZXN0b3JlIFRoZSBPcGFxdWVWaWV3U3RhdGUgaW5zdGFuY2UgdG8gcmVzdG9yZS5cbiAqIEByZXR1cm5zIENvbnRleHQgb2YgdGhlIHJlc3RvcmVkIE9wYXF1ZVZpZXdTdGF0ZSBpbnN0YW5jZS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cmVzdG9yZVZpZXcodmlld1RvUmVzdG9yZSkge1xuICAgIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmNvbnRleHRMVmlldyA9IHZpZXdUb1Jlc3RvcmU7XG4gICAgcmV0dXJuIHZpZXdUb1Jlc3RvcmVbQ09OVEVYVF07XG59XG5mdW5jdGlvbiBnZXRDdXJyZW50VE5vZGUoKSB7XG4gICAgbGV0IGN1cnJlbnRUTm9kZSA9IGdldEN1cnJlbnRUTm9kZVBsYWNlaG9sZGVyT2soKTtcbiAgICB3aGlsZSAoY3VycmVudFROb2RlICE9PSBudWxsICYmIGN1cnJlbnRUTm9kZS50eXBlID09PSA2NCAvKiBQbGFjZWhvbGRlciAqLykge1xuICAgICAgICBjdXJyZW50VE5vZGUgPSBjdXJyZW50VE5vZGUucGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFROb2RlO1xufVxuZnVuY3Rpb24gZ2V0Q3VycmVudFROb2RlUGxhY2Vob2xkZXJPaygpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY3VycmVudFROb2RlO1xufVxuZnVuY3Rpb24gZ2V0Q3VycmVudFBhcmVudFROb2RlKCkge1xuICAgIGNvbnN0IGxGcmFtZSA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lO1xuICAgIGNvbnN0IGN1cnJlbnRUTm9kZSA9IGxGcmFtZS5jdXJyZW50VE5vZGU7XG4gICAgcmV0dXJuIGxGcmFtZS5pc1BhcmVudCA/IGN1cnJlbnRUTm9kZSA6IGN1cnJlbnRUTm9kZS5wYXJlbnQ7XG59XG5mdW5jdGlvbiBzZXRDdXJyZW50VE5vZGUodE5vZGUsIGlzUGFyZW50KSB7XG4gICAgbmdEZXZNb2RlICYmIHROb2RlICYmIGFzc2VydFROb2RlRm9yVFZpZXcodE5vZGUsIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLnRWaWV3KTtcbiAgICBjb25zdCBsRnJhbWUgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZTtcbiAgICBsRnJhbWUuY3VycmVudFROb2RlID0gdE5vZGU7XG4gICAgbEZyYW1lLmlzUGFyZW50ID0gaXNQYXJlbnQ7XG59XG5mdW5jdGlvbiBpc0N1cnJlbnRUTm9kZVBhcmVudCgpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuaXNQYXJlbnQ7XG59XG5mdW5jdGlvbiBzZXRDdXJyZW50VE5vZGVBc05vdFBhcmVudCgpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5pc1BhcmVudCA9IGZhbHNlO1xufVxuZnVuY3Rpb24gc2V0Q3VycmVudFROb2RlQXNQYXJlbnQoKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuaXNQYXJlbnQgPSB0cnVlO1xufVxuZnVuY3Rpb24gZ2V0Q29udGV4dExWaWV3KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jb250ZXh0TFZpZXc7XG59XG5mdW5jdGlvbiBpc0luQ2hlY2tOb0NoYW5nZXNNb2RlKCkge1xuICAgIC8vIFRPRE8obWlza28pOiByZW1vdmUgdGhpcyBmcm9tIHRoZSBMVmlldyBzaW5jZSBpdCBpcyBuZ0Rldk1vZGU9dHJ1ZSBtb2RlIG9ubHkuXG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUuaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZTtcbn1cbmZ1bmN0aW9uIHNldElzSW5DaGVja05vQ2hhbmdlc01vZGUobW9kZSkge1xuICAgIGluc3RydWN0aW9uU3RhdGUuaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSA9IG1vZGU7XG59XG4vLyB0b3AgbGV2ZWwgdmFyaWFibGVzIHNob3VsZCBub3QgYmUgZXhwb3J0ZWQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgKFBFUkZfTk9URVMubWQpXG5mdW5jdGlvbiBnZXRCaW5kaW5nUm9vdCgpIHtcbiAgICBjb25zdCBsRnJhbWUgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZTtcbiAgICBsZXQgaW5kZXggPSBsRnJhbWUuYmluZGluZ1Jvb3RJbmRleDtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIGluZGV4ID0gbEZyYW1lLmJpbmRpbmdSb290SW5kZXggPSBsRnJhbWUudFZpZXcuYmluZGluZ1N0YXJ0SW5kZXg7XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbn1cbmZ1bmN0aW9uIGdldEJpbmRpbmdJbmRleCgpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuYmluZGluZ0luZGV4O1xufVxuZnVuY3Rpb24gc2V0QmluZGluZ0luZGV4KHZhbHVlKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmJpbmRpbmdJbmRleCA9IHZhbHVlO1xufVxuZnVuY3Rpb24gbmV4dEJpbmRpbmdJbmRleCgpIHtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuYmluZGluZ0luZGV4Kys7XG59XG5mdW5jdGlvbiBpbmNyZW1lbnRCaW5kaW5nSW5kZXgoY291bnQpIHtcbiAgICBjb25zdCBsRnJhbWUgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZTtcbiAgICBjb25zdCBpbmRleCA9IGxGcmFtZS5iaW5kaW5nSW5kZXg7XG4gICAgbEZyYW1lLmJpbmRpbmdJbmRleCA9IGxGcmFtZS5iaW5kaW5nSW5kZXggKyBjb3VudDtcbiAgICByZXR1cm4gaW5kZXg7XG59XG5mdW5jdGlvbiBpc0luSTE4bkJsb2NrKCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5pbkkxOG47XG59XG5mdW5jdGlvbiBzZXRJbkkxOG5CbG9jayhpc0luSTE4bkJsb2NrKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuaW5JMThuID0gaXNJbkkxOG5CbG9jaztcbn1cbi8qKlxuICogU2V0IGEgbmV3IGJpbmRpbmcgcm9vdCBpbmRleCBzbyB0aGF0IGhvc3QgdGVtcGxhdGUgZnVuY3Rpb25zIGNhbiBleGVjdXRlLlxuICpcbiAqIEJpbmRpbmdzIGluc2lkZSB0aGUgaG9zdCB0ZW1wbGF0ZSBhcmUgMCBpbmRleC4gQnV0IGJlY2F1c2Ugd2UgZG9uJ3Qga25vdyBhaGVhZCBvZiB0aW1lXG4gKiBob3cgbWFueSBob3N0IGJpbmRpbmdzIHdlIGhhdmUgd2UgY2FuJ3QgcHJlLWNvbXB1dGUgdGhlbS4gRm9yIHRoaXMgcmVhc29uIHRoZXkgYXJlIGFsbFxuICogMCBpbmRleCBhbmQgd2UganVzdCBzaGlmdCB0aGUgcm9vdCBzbyB0aGF0IHRoZXkgbWF0Y2ggbmV4dCBhdmFpbGFibGUgbG9jYXRpb24gaW4gdGhlIExWaWV3LlxuICpcbiAqIEBwYXJhbSBiaW5kaW5nUm9vdEluZGV4IFJvb3QgaW5kZXggZm9yIGBob3N0QmluZGluZ3NgXG4gKiBAcGFyYW0gY3VycmVudERpcmVjdGl2ZUluZGV4IGBURGF0YVtjdXJyZW50RGlyZWN0aXZlSW5kZXhdYCB3aWxsIHBvaW50IHRvIHRoZSBjdXJyZW50IGRpcmVjdGl2ZVxuICogICAgICAgIHdob3NlIGBob3N0QmluZGluZ3NgIGFyZSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cbmZ1bmN0aW9uIHNldEJpbmRpbmdSb290Rm9ySG9zdEJpbmRpbmdzKGJpbmRpbmdSb290SW5kZXgsIGN1cnJlbnREaXJlY3RpdmVJbmRleCkge1xuICAgIGNvbnN0IGxGcmFtZSA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lO1xuICAgIGxGcmFtZS5iaW5kaW5nSW5kZXggPSBsRnJhbWUuYmluZGluZ1Jvb3RJbmRleCA9IGJpbmRpbmdSb290SW5kZXg7XG4gICAgc2V0Q3VycmVudERpcmVjdGl2ZUluZGV4KGN1cnJlbnREaXJlY3RpdmVJbmRleCk7XG59XG4vKipcbiAqIFdoZW4gaG9zdCBiaW5kaW5nIGlzIGV4ZWN1dGluZyB0aGlzIHBvaW50cyB0byB0aGUgZGlyZWN0aXZlIGluZGV4LlxuICogYFRWaWV3LmRhdGFbZ2V0Q3VycmVudERpcmVjdGl2ZUluZGV4KCldYCBpcyBgRGlyZWN0aXZlRGVmYFxuICogYExWaWV3W2dldEN1cnJlbnREaXJlY3RpdmVJbmRleCgpXWAgaXMgZGlyZWN0aXZlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBnZXRDdXJyZW50RGlyZWN0aXZlSW5kZXgoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleDtcbn1cbi8qKlxuICogU2V0cyBhbiBpbmRleCBvZiBhIGRpcmVjdGl2ZSB3aG9zZSBgaG9zdEJpbmRpbmdzYCBhcmUgYmVpbmcgcHJvY2Vzc2VkLlxuICpcbiAqIEBwYXJhbSBjdXJyZW50RGlyZWN0aXZlSW5kZXggYFREYXRhYCBpbmRleCB3aGVyZSBjdXJyZW50IGRpcmVjdGl2ZSBpbnN0YW5jZSBjYW4gYmUgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIHNldEN1cnJlbnREaXJlY3RpdmVJbmRleChjdXJyZW50RGlyZWN0aXZlSW5kZXgpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50RGlyZWN0aXZlSW5kZXggPSBjdXJyZW50RGlyZWN0aXZlSW5kZXg7XG59XG4vKipcbiAqIFJldHJpZXZlIHRoZSBjdXJyZW50IGBEaXJlY3RpdmVEZWZgIHdoaWNoIGlzIGFjdGl2ZSB3aGVuIGBob3N0QmluZGluZ3NgIGluc3RydWN0aW9uIGlzIGJlaW5nXG4gKiBleGVjdXRlZC5cbiAqXG4gKiBAcGFyYW0gdERhdGEgQ3VycmVudCBgVERhdGFgIHdoZXJlIHRoZSBgRGlyZWN0aXZlRGVmYCB3aWxsIGJlIGxvb2tlZCB1cCBhdC5cbiAqL1xuZnVuY3Rpb24gZ2V0Q3VycmVudERpcmVjdGl2ZURlZih0RGF0YSkge1xuICAgIGNvbnN0IGN1cnJlbnREaXJlY3RpdmVJbmRleCA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleDtcbiAgICByZXR1cm4gY3VycmVudERpcmVjdGl2ZUluZGV4ID09PSAtMSA/IG51bGwgOiB0RGF0YVtjdXJyZW50RGlyZWN0aXZlSW5kZXhdO1xufVxuZnVuY3Rpb24gZ2V0Q3VycmVudFF1ZXJ5SW5kZXgoKSB7XG4gICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmN1cnJlbnRRdWVyeUluZGV4O1xufVxuZnVuY3Rpb24gc2V0Q3VycmVudFF1ZXJ5SW5kZXgodmFsdWUpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50UXVlcnlJbmRleCA9IHZhbHVlO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgYFROb2RlYCBvZiB0aGUgbG9jYXRpb24gd2hlcmUgdGhlIGN1cnJlbnQgYExWaWV3YCBpcyBkZWNsYXJlZCBhdC5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgYW4gYExWaWV3YCB0aGF0IHdlIHdhbnQgdG8gZmluZCBwYXJlbnQgYFROb2RlYCBmb3IuXG4gKi9cbmZ1bmN0aW9uIGdldERlY2xhcmF0aW9uVE5vZGUobFZpZXcpIHtcbiAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICAvLyBSZXR1cm4gdGhlIGRlY2xhcmF0aW9uIHBhcmVudCBmb3IgZW1iZWRkZWQgdmlld3NcbiAgICBpZiAodFZpZXcudHlwZSA9PT0gMiAvKiBFbWJlZGRlZCAqLykge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0Vmlldy5kZWNsVE5vZGUsICdFbWJlZGRlZCBUTm9kZXMgc2hvdWxkIGhhdmUgZGVjbGFyYXRpb24gcGFyZW50cy4nKTtcbiAgICAgICAgcmV0dXJuIHRWaWV3LmRlY2xUTm9kZTtcbiAgICB9XG4gICAgLy8gQ29tcG9uZW50cyBkb24ndCBoYXZlIGBUVmlldy5kZWNsVE5vZGVgIGJlY2F1c2UgZWFjaCBpbnN0YW5jZSBvZiBjb21wb25lbnQgY291bGQgYmVcbiAgICAvLyBpbnNlcnRlZCBpbiBkaWZmZXJlbnQgbG9jYXRpb24sIGhlbmNlIGBUVmlldy5kZWNsVE5vZGVgIGlzIG1lYW5pbmdsZXNzLlxuICAgIC8vIEZhbGxpbmcgYmFjayB0byBgVF9IT1NUYCBpbiBjYXNlIHdlIGNyb3NzIGNvbXBvbmVudCBib3VuZGFyeS5cbiAgICBpZiAodFZpZXcudHlwZSA9PT0gMSAvKiBDb21wb25lbnQgKi8pIHtcbiAgICAgICAgcmV0dXJuIGxWaWV3W1RfSE9TVF07XG4gICAgfVxuICAgIC8vIFJlbWFpbmluZyBUTm9kZSB0eXBlIGlzIGBUVmlld1R5cGUuUm9vdGAgd2hpY2ggZG9lc24ndCBoYXZlIGEgcGFyZW50IFROb2RlLlxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBUaGlzIGlzIGEgbGlnaHQgd2VpZ2h0IHZlcnNpb24gb2YgdGhlIGBlbnRlclZpZXdgIHdoaWNoIGlzIG5lZWRlZCBieSB0aGUgREkgc3lzdGVtLlxuICpcbiAqIEBwYXJhbSBsVmlldyBgTFZpZXdgIGxvY2F0aW9uIG9mIHRoZSBESSBjb250ZXh0LlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgZm9yIERJIGNvbnRleHRcbiAqIEBwYXJhbSBmbGFncyBESSBjb250ZXh0IGZsYWdzLiBpZiBgU2tpcFNlbGZgIGZsYWcgaXMgc2V0IHRoYW4gd2Ugd2FsayB1cCB0aGUgZGVjbGFyYXRpb25cbiAqICAgICB0cmVlIGZyb20gYHROb2RlYCAgdW50aWwgd2UgZmluZCBwYXJlbnQgZGVjbGFyZWQgYFRFbGVtZW50Tm9kZWAuXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgd2UgaGF2ZSBzdWNjZXNzZnVsbHkgZW50ZXJlZCBESSBhc3NvY2lhdGVkIHdpdGggYHROb2RlYCAob3Igd2l0aCBkZWNsYXJlZFxuICogICAgIGBUTm9kZWAgaWYgYGZsYWdzYCBoYXMgIGBTa2lwU2VsZmApLiBGYWlsaW5nIHRvIGVudGVyIERJIGltcGxpZXMgdGhhdCBubyBhc3NvY2lhdGVkXG4gKiAgICAgYE5vZGVJbmplY3RvcmAgY2FuIGJlIGZvdW5kIGFuZCB3ZSBzaG91bGQgaW5zdGVhZCB1c2UgYE1vZHVsZUluamVjdG9yYC5cbiAqICAgICAtIElmIGB0cnVlYCB0aGFuIHRoaXMgY2FsbCBtdXN0IGJlIGZhbGxvd2VkIGJ5IGBsZWF2ZURJYFxuICogICAgIC0gSWYgYGZhbHNlYCB0aGFuIHRoaXMgY2FsbCBmYWlsZWQgYW5kIHdlIHNob3VsZCBOT1QgY2FsbCBgbGVhdmVESWBcbiAqL1xuZnVuY3Rpb24gZW50ZXJESShsVmlldywgdE5vZGUsIGZsYWdzKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExWaWV3T3JVbmRlZmluZWQobFZpZXcpO1xuICAgIGlmIChmbGFncyAmIEluamVjdEZsYWdzLlNraXBTZWxmKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZUZvclRWaWV3KHROb2RlLCBsVmlld1tUVklFV10pO1xuICAgICAgICBsZXQgcGFyZW50VE5vZGUgPSB0Tm9kZTtcbiAgICAgICAgbGV0IHBhcmVudExWaWV3ID0gbFZpZXc7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChwYXJlbnRUTm9kZSwgJ1BhcmVudCBUTm9kZSBzaG91bGQgYmUgZGVmaW5lZCcpO1xuICAgICAgICAgICAgcGFyZW50VE5vZGUgPSBwYXJlbnRUTm9kZS5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAocGFyZW50VE5vZGUgPT09IG51bGwgJiYgIShmbGFncyAmIEluamVjdEZsYWdzLkhvc3QpKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50VE5vZGUgPSBnZXREZWNsYXJhdGlvblROb2RlKHBhcmVudExWaWV3KTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50VE5vZGUgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vIEluIHRoaXMgY2FzZSwgYSBwYXJlbnQgZXhpc3RzIGFuZCBpcyBkZWZpbml0ZWx5IGFuIGVsZW1lbnQuIFNvIGl0IHdpbGwgZGVmaW5pdGVseVxuICAgICAgICAgICAgICAgIC8vIGhhdmUgYW4gZXhpc3RpbmcgbFZpZXcgYXMgdGhlIGRlY2xhcmF0aW9uIHZpZXcsIHdoaWNoIGlzIHdoeSB3ZSBjYW4gYXNzdW1lIGl0J3MgZGVmaW5lZC5cbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChwYXJlbnRMVmlldywgJ1BhcmVudCBMVmlldyBzaG91bGQgYmUgZGVmaW5lZCcpO1xuICAgICAgICAgICAgICAgIHBhcmVudExWaWV3ID0gcGFyZW50TFZpZXdbREVDTEFSQVRJT05fVklFV107XG4gICAgICAgICAgICAgICAgLy8gSW4gSXZ5IHRoZXJlIGFyZSBDb21tZW50IG5vZGVzIHRoYXQgY29ycmVzcG9uZCB0byBuZ0lmIGFuZCBOZ0ZvciBlbWJlZGRlZCBkaXJlY3RpdmVzXG4gICAgICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBza2lwIHRob3NlIGFuZCBsb29rIG9ubHkgYXQgRWxlbWVudHMgYW5kIEVsZW1lbnRDb250YWluZXJzIHRvIGVuc3VyZVxuICAgICAgICAgICAgICAgIC8vIHdlJ3JlIGxvb2tpbmcgYXQgdHJ1ZSBwYXJlbnQgbm9kZXMsIGFuZCBub3QgY29udGVudCBvciBvdGhlciB0eXBlcy5cbiAgICAgICAgICAgICAgICBpZiAocGFyZW50VE5vZGUudHlwZSAmICgyIC8qIEVsZW1lbnQgKi8gfCA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnRUTm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gSWYgd2UgZmFpbGVkIHRvIGZpbmQgYSBwYXJlbnQgVE5vZGUgdGhpcyBtZWFucyB0aGF0IHdlIHNob3VsZCB1c2UgbW9kdWxlIGluamVjdG9yLlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdE5vZGUgPSBwYXJlbnRUTm9kZTtcbiAgICAgICAgICAgIGxWaWV3ID0gcGFyZW50TFZpZXc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlRm9yTFZpZXcodE5vZGUsIGxWaWV3KTtcbiAgICBjb25zdCBsRnJhbWUgPSBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZSA9IGFsbG9jTEZyYW1lKCk7XG4gICAgbEZyYW1lLmN1cnJlbnRUTm9kZSA9IHROb2RlO1xuICAgIGxGcmFtZS5sVmlldyA9IGxWaWV3O1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBTd2FwIHRoZSBjdXJyZW50IGxWaWV3IHdpdGggYSBuZXcgbFZpZXcuXG4gKlxuICogRm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgd2Ugc3RvcmUgdGhlIGxWaWV3IGluIHRoZSB0b3AgbGV2ZWwgb2YgdGhlIG1vZHVsZS5cbiAqIFRoaXMgd2F5IHdlIG1pbmltaXplIHRoZSBudW1iZXIgb2YgcHJvcGVydGllcyB0byByZWFkLiBXaGVuZXZlciBhIG5ldyB2aWV3XG4gKiBpcyBlbnRlcmVkIHdlIGhhdmUgdG8gc3RvcmUgdGhlIGxWaWV3IGZvciBsYXRlciwgYW5kIHdoZW4gdGhlIHZpZXcgaXNcbiAqIGV4aXRlZCB0aGUgc3RhdGUgaGFzIHRvIGJlIHJlc3RvcmVkXG4gKlxuICogQHBhcmFtIG5ld1ZpZXcgTmV3IGxWaWV3IHRvIGJlY29tZSBhY3RpdmVcbiAqIEByZXR1cm5zIHRoZSBwcmV2aW91c2x5IGFjdGl2ZSBsVmlldztcbiAqL1xuZnVuY3Rpb24gZW50ZXJWaWV3KG5ld1ZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm90RXF1YWwobmV3Vmlld1swXSwgbmV3Vmlld1sxXSwgJz8/Pz8nKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TFZpZXdPclVuZGVmaW5lZChuZXdWaWV3KTtcbiAgICBjb25zdCBuZXdMRnJhbWUgPSBhbGxvY0xGcmFtZSgpO1xuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3TEZyYW1lLmlzUGFyZW50LCB0cnVlLCAnRXhwZWN0ZWQgY2xlYW4gTEZyYW1lJyk7XG4gICAgICAgIGFzc2VydEVxdWFsKG5ld0xGcmFtZS5sVmlldywgbnVsbCwgJ0V4cGVjdGVkIGNsZWFuIExGcmFtZScpO1xuICAgICAgICBhc3NlcnRFcXVhbChuZXdMRnJhbWUudFZpZXcsIG51bGwsICdFeHBlY3RlZCBjbGVhbiBMRnJhbWUnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3TEZyYW1lLnNlbGVjdGVkSW5kZXgsIC0xLCAnRXhwZWN0ZWQgY2xlYW4gTEZyYW1lJyk7XG4gICAgICAgIGFzc2VydEVxdWFsKG5ld0xGcmFtZS5lbGVtZW50RGVwdGhDb3VudCwgMCwgJ0V4cGVjdGVkIGNsZWFuIExGcmFtZScpO1xuICAgICAgICBhc3NlcnRFcXVhbChuZXdMRnJhbWUuY3VycmVudERpcmVjdGl2ZUluZGV4LCAtMSwgJ0V4cGVjdGVkIGNsZWFuIExGcmFtZScpO1xuICAgICAgICBhc3NlcnRFcXVhbChuZXdMRnJhbWUuY3VycmVudE5hbWVzcGFjZSwgbnVsbCwgJ0V4cGVjdGVkIGNsZWFuIExGcmFtZScpO1xuICAgICAgICBhc3NlcnRFcXVhbChuZXdMRnJhbWUuYmluZGluZ1Jvb3RJbmRleCwgLTEsICdFeHBlY3RlZCBjbGVhbiBMRnJhbWUnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwobmV3TEZyYW1lLmN1cnJlbnRRdWVyeUluZGV4LCAwLCAnRXhwZWN0ZWQgY2xlYW4gTEZyYW1lJyk7XG4gICAgfVxuICAgIGNvbnN0IHRWaWV3ID0gbmV3Vmlld1tUVklFV107XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUgPSBuZXdMRnJhbWU7XG4gICAgbmdEZXZNb2RlICYmIHRWaWV3LmZpcnN0Q2hpbGQgJiYgYXNzZXJ0VE5vZGVGb3JUVmlldyh0Vmlldy5maXJzdENoaWxkLCB0Vmlldyk7XG4gICAgbmV3TEZyYW1lLmN1cnJlbnRUTm9kZSA9IHRWaWV3LmZpcnN0Q2hpbGQ7XG4gICAgbmV3TEZyYW1lLmxWaWV3ID0gbmV3VmlldztcbiAgICBuZXdMRnJhbWUudFZpZXcgPSB0VmlldztcbiAgICBuZXdMRnJhbWUuY29udGV4dExWaWV3ID0gbmV3VmlldztcbiAgICBuZXdMRnJhbWUuYmluZGluZ0luZGV4ID0gdFZpZXcuYmluZGluZ1N0YXJ0SW5kZXg7XG4gICAgbmV3TEZyYW1lLmluSTE4biA9IGZhbHNlO1xufVxuLyoqXG4gKiBBbGxvY2F0ZXMgbmV4dCBmcmVlIExGcmFtZS4gVGhpcyBmdW5jdGlvbiB0cmllcyB0byByZXVzZSB0aGUgYExGcmFtZWBzIHRvIGxvd2VyIG1lbW9yeSBwcmVzc3VyZS5cbiAqL1xuZnVuY3Rpb24gYWxsb2NMRnJhbWUoKSB7XG4gICAgY29uc3QgY3VycmVudExGcmFtZSA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lO1xuICAgIGNvbnN0IGNoaWxkTEZyYW1lID0gY3VycmVudExGcmFtZSA9PT0gbnVsbCA/IG51bGwgOiBjdXJyZW50TEZyYW1lLmNoaWxkO1xuICAgIGNvbnN0IG5ld0xGcmFtZSA9IGNoaWxkTEZyYW1lID09PSBudWxsID8gY3JlYXRlTEZyYW1lKGN1cnJlbnRMRnJhbWUpIDogY2hpbGRMRnJhbWU7XG4gICAgcmV0dXJuIG5ld0xGcmFtZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUxGcmFtZShwYXJlbnQpIHtcbiAgICBjb25zdCBsRnJhbWUgPSB7XG4gICAgICAgIGN1cnJlbnRUTm9kZTogbnVsbCxcbiAgICAgICAgaXNQYXJlbnQ6IHRydWUsXG4gICAgICAgIGxWaWV3OiBudWxsLFxuICAgICAgICB0VmlldzogbnVsbCxcbiAgICAgICAgc2VsZWN0ZWRJbmRleDogLTEsXG4gICAgICAgIGNvbnRleHRMVmlldzogbnVsbCxcbiAgICAgICAgZWxlbWVudERlcHRoQ291bnQ6IDAsXG4gICAgICAgIGN1cnJlbnROYW1lc3BhY2U6IG51bGwsXG4gICAgICAgIGN1cnJlbnREaXJlY3RpdmVJbmRleDogLTEsXG4gICAgICAgIGJpbmRpbmdSb290SW5kZXg6IC0xLFxuICAgICAgICBiaW5kaW5nSW5kZXg6IC0xLFxuICAgICAgICBjdXJyZW50UXVlcnlJbmRleDogMCxcbiAgICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICAgIGNoaWxkOiBudWxsLFxuICAgICAgICBpbkkxOG46IGZhbHNlLFxuICAgIH07XG4gICAgcGFyZW50ICE9PSBudWxsICYmIChwYXJlbnQuY2hpbGQgPSBsRnJhbWUpOyAvLyBsaW5rIHRoZSBuZXcgTEZyYW1lIGZvciByZXVzZS5cbiAgICByZXR1cm4gbEZyYW1lO1xufVxuLyoqXG4gKiBBIGxpZ2h0d2VpZ2h0IHZlcnNpb24gb2YgbGVhdmUgd2hpY2ggaXMgdXNlZCB3aXRoIERJLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gb25seSByZXNldHMgYGN1cnJlbnRUTm9kZWAgYW5kIGBMVmlld2AgYXMgdGhvc2UgYXJlIHRoZSBvbmx5IHByb3BlcnRpZXNcbiAqIHVzZWQgd2l0aCBESSAoYGVudGVyREkoKWApLlxuICpcbiAqIE5PVEU6IFRoaXMgZnVuY3Rpb24gaXMgcmVleHBvcnRlZCBhcyBgbGVhdmVESWAuIEhvd2V2ZXIgYGxlYXZlRElgIGhhcyByZXR1cm4gdHlwZSBvZiBgdm9pZGAgd2hlcmVcbiAqIGFzIGBsZWF2ZVZpZXdMaWdodGAgaGFzIGBMRnJhbWVgLiBUaGlzIGlzIHNvIHRoYXQgYGxlYXZlVmlld0xpZ2h0YCBjYW4gYmUgdXNlZCBpbiBgbGVhdmVWaWV3YC5cbiAqL1xuZnVuY3Rpb24gbGVhdmVWaWV3TGlnaHQoKSB7XG4gICAgY29uc3Qgb2xkTEZyYW1lID0gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWU7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUgPSBvbGRMRnJhbWUucGFyZW50O1xuICAgIG9sZExGcmFtZS5jdXJyZW50VE5vZGUgPSBudWxsO1xuICAgIG9sZExGcmFtZS5sVmlldyA9IG51bGw7XG4gICAgcmV0dXJuIG9sZExGcmFtZTtcbn1cbi8qKlxuICogVGhpcyBpcyBhIGxpZ2h0d2VpZ2h0IHZlcnNpb24gb2YgdGhlIGBsZWF2ZVZpZXdgIHdoaWNoIGlzIG5lZWRlZCBieSB0aGUgREkgc3lzdGVtLlxuICpcbiAqIE5PVEU6IHRoaXMgZnVuY3Rpb24gaXMgYW4gYWxpYXMgc28gdGhhdCB3ZSBjYW4gY2hhbmdlIHRoZSB0eXBlIG9mIHRoZSBmdW5jdGlvbiB0byBoYXZlIGB2b2lkYFxuICogcmV0dXJuIHR5cGUuXG4gKi9cbmNvbnN0IGxlYXZlREkgPSBsZWF2ZVZpZXdMaWdodDtcbi8qKlxuICogTGVhdmUgdGhlIGN1cnJlbnQgYExWaWV3YFxuICpcbiAqIFRoaXMgcG9wcyB0aGUgYExGcmFtZWAgd2l0aCB0aGUgYXNzb2NpYXRlZCBgTFZpZXdgIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIElNUE9SVEFOVDogV2UgbXVzdCB6ZXJvIG91dCB0aGUgYExGcmFtZWAgdmFsdWVzIGhlcmUgb3RoZXJ3aXNlIHRoZXkgd2lsbCBiZSByZXRhaW5lZC4gVGhpcyBpc1xuICogYmVjYXVzZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyB3ZSBkb24ndCByZWxlYXNlIGBMRnJhbWVgIGJ1dCByYXRoZXIga2VlcCBpdCBmb3IgbmV4dCB1c2UuXG4gKi9cbmZ1bmN0aW9uIGxlYXZlVmlldygpIHtcbiAgICBjb25zdCBvbGRMRnJhbWUgPSBsZWF2ZVZpZXdMaWdodCgpO1xuICAgIG9sZExGcmFtZS5pc1BhcmVudCA9IHRydWU7XG4gICAgb2xkTEZyYW1lLnRWaWV3ID0gbnVsbDtcbiAgICBvbGRMRnJhbWUuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgIG9sZExGcmFtZS5jb250ZXh0TFZpZXcgPSBudWxsO1xuICAgIG9sZExGcmFtZS5lbGVtZW50RGVwdGhDb3VudCA9IDA7XG4gICAgb2xkTEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleCA9IC0xO1xuICAgIG9sZExGcmFtZS5jdXJyZW50TmFtZXNwYWNlID0gbnVsbDtcbiAgICBvbGRMRnJhbWUuYmluZGluZ1Jvb3RJbmRleCA9IC0xO1xuICAgIG9sZExGcmFtZS5iaW5kaW5nSW5kZXggPSAtMTtcbiAgICBvbGRMRnJhbWUuY3VycmVudFF1ZXJ5SW5kZXggPSAwO1xufVxuZnVuY3Rpb24gbmV4dENvbnRleHRJbXBsKGxldmVsKSB7XG4gICAgY29uc3QgY29udGV4dExWaWV3ID0gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY29udGV4dExWaWV3ID1cbiAgICAgICAgd2Fsa1VwVmlld3MobGV2ZWwsIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmNvbnRleHRMVmlldyk7XG4gICAgcmV0dXJuIGNvbnRleHRMVmlld1tDT05URVhUXTtcbn1cbmZ1bmN0aW9uIHdhbGtVcFZpZXdzKG5lc3RpbmdMZXZlbCwgY3VycmVudFZpZXcpIHtcbiAgICB3aGlsZSAobmVzdGluZ0xldmVsID4gMCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydERlZmluZWQoY3VycmVudFZpZXdbREVDTEFSQVRJT05fVklFV10sICdEZWNsYXJhdGlvbiB2aWV3IHNob3VsZCBiZSBkZWZpbmVkIGlmIG5lc3RpbmcgbGV2ZWwgaXMgZ3JlYXRlciB0aGFuIDAuJyk7XG4gICAgICAgIGN1cnJlbnRWaWV3ID0gY3VycmVudFZpZXdbREVDTEFSQVRJT05fVklFV107XG4gICAgICAgIG5lc3RpbmdMZXZlbC0tO1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFZpZXc7XG59XG4vKipcbiAqIEdldHMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBlbGVtZW50IGluZGV4LlxuICpcbiAqIFVzZWQgd2l0aCB7QGxpbmsgcHJvcGVydHl9IGluc3RydWN0aW9uIChhbmQgbW9yZSBpbiB0aGUgZnV0dXJlKSB0byBpZGVudGlmeSB0aGUgaW5kZXggaW4gdGhlXG4gKiBjdXJyZW50IGBMVmlld2AgdG8gYWN0IG9uLlxuICovXG5mdW5jdGlvbiBnZXRTZWxlY3RlZEluZGV4KCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5zZWxlY3RlZEluZGV4O1xufVxuLyoqXG4gKiBTZXRzIHRoZSBtb3N0IHJlY2VudCBpbmRleCBwYXNzZWQgdG8ge0BsaW5rIHNlbGVjdH1cbiAqXG4gKiBVc2VkIHdpdGgge0BsaW5rIHByb3BlcnR5fSBpbnN0cnVjdGlvbiAoYW5kIG1vcmUgaW4gdGhlIGZ1dHVyZSkgdG8gaWRlbnRpZnkgdGhlIGluZGV4IGluIHRoZVxuICogY3VycmVudCBgTFZpZXdgIHRvIGFjdCBvbi5cbiAqXG4gKiAoTm90ZSB0aGF0IGlmIGFuIFwiZXhpdCBmdW5jdGlvblwiIHdhcyBzZXQgZWFybGllciAodmlhIGBzZXRFbGVtZW50RXhpdEZuKClgKSB0aGVuIHRoYXQgd2lsbCBiZVxuICogcnVuIGlmIGFuZCB3aGVuIHRoZSBwcm92aWRlZCBgaW5kZXhgIHZhbHVlIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBjdXJyZW50IHNlbGVjdGVkIGluZGV4IHZhbHVlLilcbiAqL1xuZnVuY3Rpb24gc2V0U2VsZWN0ZWRJbmRleChpbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBpbmRleCAhPT0gLTEgJiZcbiAgICAgICAgYXNzZXJ0R3JlYXRlclRoYW5PckVxdWFsKGluZGV4LCBIRUFERVJfT0ZGU0VULCAnSW5kZXggbXVzdCBiZSBwYXN0IEhFQURFUl9PRkZTRVQgKG9yIC0xKS4nKTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0TGVzc1RoYW4oaW5kZXgsIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmxWaWV3Lmxlbmd0aCwgJ0NhblxcJ3Qgc2V0IGluZGV4IHBhc3NlZCBlbmQgb2YgTFZpZXcnKTtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5zZWxlY3RlZEluZGV4ID0gaW5kZXg7XG59XG4vKipcbiAqIEdldHMgdGhlIGB0Tm9kZWAgdGhhdCByZXByZXNlbnRzIGN1cnJlbnRseSBzZWxlY3RlZCBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBnZXRTZWxlY3RlZFROb2RlKCkge1xuICAgIGNvbnN0IGxGcmFtZSA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lO1xuICAgIHJldHVybiBnZXRUTm9kZShsRnJhbWUudFZpZXcsIGxGcmFtZS5zZWxlY3RlZEluZGV4KTtcbn1cbi8qKlxuICogU2V0cyB0aGUgbmFtZXNwYWNlIHVzZWQgdG8gY3JlYXRlIGVsZW1lbnRzIHRvIGAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnYCBpbiBnbG9iYWwgc3RhdGUuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtW5hbWVzcGFjZVNWRygpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50TmFtZXNwYWNlID0gU1ZHX05BTUVTUEFDRTtcbn1cbi8qKlxuICogU2V0cyB0aGUgbmFtZXNwYWNlIHVzZWQgdG8gY3JlYXRlIGVsZW1lbnRzIHRvIGAnaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoTUwvJ2AgaW4gZ2xvYmFsIHN0YXRlLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuYW1lc3BhY2VNYXRoTUwoKSB7XG4gICAgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuY3VycmVudE5hbWVzcGFjZSA9IE1BVEhfTUxfTkFNRVNQQUNFO1xufVxuLyoqXG4gKiBTZXRzIHRoZSBuYW1lc3BhY2UgdXNlZCB0byBjcmVhdGUgZWxlbWVudHMgdG8gYG51bGxgLCB3aGljaCBmb3JjZXMgZWxlbWVudCBjcmVhdGlvbiB0byB1c2VcbiAqIGBjcmVhdGVFbGVtZW50YCByYXRoZXIgdGhhbiBgY3JlYXRlRWxlbWVudE5TYC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmFtZXNwYWNlSFRNTCgpIHtcbiAgICBuYW1lc3BhY2VIVE1MSW50ZXJuYWwoKTtcbn1cbi8qKlxuICogU2V0cyB0aGUgbmFtZXNwYWNlIHVzZWQgdG8gY3JlYXRlIGVsZW1lbnRzIHRvIGBudWxsYCwgd2hpY2ggZm9yY2VzIGVsZW1lbnQgY3JlYXRpb24gdG8gdXNlXG4gKiBgY3JlYXRlRWxlbWVudGAgcmF0aGVyIHRoYW4gYGNyZWF0ZUVsZW1lbnROU2AuXG4gKi9cbmZ1bmN0aW9uIG5hbWVzcGFjZUhUTUxJbnRlcm5hbCgpIHtcbiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50TmFtZXNwYWNlID0gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldE5hbWVzcGFjZSQxKCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5jdXJyZW50TmFtZXNwYWNlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQWRkcyBhbGwgZGlyZWN0aXZlIGxpZmVjeWNsZSBob29rcyBmcm9tIHRoZSBnaXZlbiBgRGlyZWN0aXZlRGVmYCB0byB0aGUgZ2l2ZW4gYFRWaWV3YC5cbiAqXG4gKiBNdXN0IGJlIHJ1biAqb25seSogb24gdGhlIGZpcnN0IHRlbXBsYXRlIHBhc3MuXG4gKlxuICogU2V0cyB1cCB0aGUgcHJlLW9yZGVyIGhvb2tzIG9uIHRoZSBwcm92aWRlZCBgdFZpZXdgLFxuICogc2VlIHtAbGluayBIb29rRGF0YX0gZm9yIGRldGFpbHMgYWJvdXQgdGhlIGRhdGEgc3RydWN0dXJlLlxuICpcbiAqIEBwYXJhbSBkaXJlY3RpdmVJbmRleCBUaGUgaW5kZXggb2YgdGhlIGRpcmVjdGl2ZSBpbiBMVmlld1xuICogQHBhcmFtIGRpcmVjdGl2ZURlZiBUaGUgZGVmaW5pdGlvbiBjb250YWluaW5nIHRoZSBob29rcyB0byBzZXR1cCBpbiB0Vmlld1xuICogQHBhcmFtIHRWaWV3IFRoZSBjdXJyZW50IFRWaWV3XG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyUHJlT3JkZXJIb29rcyhkaXJlY3RpdmVJbmRleCwgZGlyZWN0aXZlRGVmLCB0Vmlldykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcpO1xuICAgIGNvbnN0IHsgbmdPbkNoYW5nZXMsIG5nT25Jbml0LCBuZ0RvQ2hlY2sgfSA9IGRpcmVjdGl2ZURlZi50eXBlLnByb3RvdHlwZTtcbiAgICBpZiAobmdPbkNoYW5nZXMpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZE9uQ2hhbmdlcyA9IE5nT25DaGFuZ2VzRmVhdHVyZUltcGwoZGlyZWN0aXZlRGVmKTtcbiAgICAgICAgKHRWaWV3LnByZU9yZGVySG9va3MgfHwgKHRWaWV3LnByZU9yZGVySG9va3MgPSBbXSkpLnB1c2goZGlyZWN0aXZlSW5kZXgsIHdyYXBwZWRPbkNoYW5nZXMpO1xuICAgICAgICAodFZpZXcucHJlT3JkZXJDaGVja0hvb2tzIHx8ICh0Vmlldy5wcmVPcmRlckNoZWNrSG9va3MgPSBbXSkpXG4gICAgICAgICAgICAucHVzaChkaXJlY3RpdmVJbmRleCwgd3JhcHBlZE9uQ2hhbmdlcyk7XG4gICAgfVxuICAgIGlmIChuZ09uSW5pdCkge1xuICAgICAgICAodFZpZXcucHJlT3JkZXJIb29rcyB8fCAodFZpZXcucHJlT3JkZXJIb29rcyA9IFtdKSkucHVzaCgwIC0gZGlyZWN0aXZlSW5kZXgsIG5nT25Jbml0KTtcbiAgICB9XG4gICAgaWYgKG5nRG9DaGVjaykge1xuICAgICAgICAodFZpZXcucHJlT3JkZXJIb29rcyB8fCAodFZpZXcucHJlT3JkZXJIb29rcyA9IFtdKSkucHVzaChkaXJlY3RpdmVJbmRleCwgbmdEb0NoZWNrKTtcbiAgICAgICAgKHRWaWV3LnByZU9yZGVyQ2hlY2tIb29rcyB8fCAodFZpZXcucHJlT3JkZXJDaGVja0hvb2tzID0gW10pKS5wdXNoKGRpcmVjdGl2ZUluZGV4LCBuZ0RvQ2hlY2spO1xuICAgIH1cbn1cbi8qKlxuICpcbiAqIExvb3BzIHRocm91Z2ggdGhlIGRpcmVjdGl2ZXMgb24gdGhlIHByb3ZpZGVkIGB0Tm9kZWAgYW5kIHF1ZXVlcyBob29rcyB0byBiZVxuICogcnVuIHRoYXQgYXJlIG5vdCBpbml0aWFsaXphdGlvbiBob29rcy5cbiAqXG4gKiBTaG91bGQgYmUgZXhlY3V0ZWQgZHVyaW5nIGBlbGVtZW50RW5kKClgIGFuZCBzaW1pbGFyIHRvXG4gKiBwcmVzZXJ2ZSBob29rIGV4ZWN1dGlvbiBvcmRlci4gQ29udGVudCwgdmlldywgYW5kIGRlc3Ryb3kgaG9va3MgZm9yIHByb2plY3RlZFxuICogY29tcG9uZW50cyBhbmQgZGlyZWN0aXZlcyBtdXN0IGJlIGNhbGxlZCAqYmVmb3JlKiB0aGVpciBob3N0cy5cbiAqXG4gKiBTZXRzIHVwIHRoZSBjb250ZW50LCB2aWV3LCBhbmQgZGVzdHJveSBob29rcyBvbiB0aGUgcHJvdmlkZWQgYHRWaWV3YCxcbiAqIHNlZSB7QGxpbmsgSG9va0RhdGF9IGZvciBkZXRhaWxzIGFib3V0IHRoZSBkYXRhIHN0cnVjdHVyZS5cbiAqXG4gKiBOT1RFOiBUaGlzIGRvZXMgbm90IHNldCB1cCBgb25DaGFuZ2VzYCwgYG9uSW5pdGAgb3IgYGRvQ2hlY2tgLCB0aG9zZSBhcmUgc2V0IHVwXG4gKiBzZXBhcmF0ZWx5IGF0IGBlbGVtZW50U3RhcnRgLlxuICpcbiAqIEBwYXJhbSB0VmlldyBUaGUgY3VycmVudCBUVmlld1xuICogQHBhcmFtIHROb2RlIFRoZSBUTm9kZSB3aG9zZSBkaXJlY3RpdmVzIGFyZSB0byBiZSBzZWFyY2hlZCBmb3IgaG9va3MgdG8gcXVldWVcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJQb3N0T3JkZXJIb29rcyh0VmlldywgdE5vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICAvLyBJdCdzIG5lY2Vzc2FyeSB0byBsb29wIHRocm91Z2ggdGhlIGRpcmVjdGl2ZXMgYXQgZWxlbWVudEVuZCgpIChyYXRoZXIgdGhhbiBwcm9jZXNzaW5nIGluXG4gICAgLy8gZGlyZWN0aXZlQ3JlYXRlKSBzbyB3ZSBjYW4gcHJlc2VydmUgdGhlIGN1cnJlbnQgaG9vayBvcmRlci4gQ29udGVudCwgdmlldywgYW5kIGRlc3Ryb3lcbiAgICAvLyBob29rcyBmb3IgcHJvamVjdGVkIGNvbXBvbmVudHMgYW5kIGRpcmVjdGl2ZXMgbXVzdCBiZSBjYWxsZWQgKmJlZm9yZSogdGhlaXIgaG9zdHMuXG4gICAgZm9yIChsZXQgaSA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0LCBlbmQgPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7IGkgPCBlbmQ7IGkrKykge1xuICAgICAgICBjb25zdCBkaXJlY3RpdmVEZWYgPSB0Vmlldy5kYXRhW2ldO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChkaXJlY3RpdmVEZWYsICdFeHBlY3RpbmcgRGlyZWN0aXZlRGVmJyk7XG4gICAgICAgIGNvbnN0IGxpZmVjeWNsZUhvb2tzID0gZGlyZWN0aXZlRGVmLnR5cGUucHJvdG90eXBlO1xuICAgICAgICBjb25zdCB7IG5nQWZ0ZXJDb250ZW50SW5pdCwgbmdBZnRlckNvbnRlbnRDaGVja2VkLCBuZ0FmdGVyVmlld0luaXQsIG5nQWZ0ZXJWaWV3Q2hlY2tlZCwgbmdPbkRlc3Ryb3kgfSA9IGxpZmVjeWNsZUhvb2tzO1xuICAgICAgICBpZiAobmdBZnRlckNvbnRlbnRJbml0KSB7XG4gICAgICAgICAgICAodFZpZXcuY29udGVudEhvb2tzIHx8ICh0Vmlldy5jb250ZW50SG9va3MgPSBbXSkpLnB1c2goLWksIG5nQWZ0ZXJDb250ZW50SW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5nQWZ0ZXJDb250ZW50Q2hlY2tlZCkge1xuICAgICAgICAgICAgKHRWaWV3LmNvbnRlbnRIb29rcyB8fCAodFZpZXcuY29udGVudEhvb2tzID0gW10pKS5wdXNoKGksIG5nQWZ0ZXJDb250ZW50Q2hlY2tlZCk7XG4gICAgICAgICAgICAodFZpZXcuY29udGVudENoZWNrSG9va3MgfHwgKHRWaWV3LmNvbnRlbnRDaGVja0hvb2tzID0gW10pKS5wdXNoKGksIG5nQWZ0ZXJDb250ZW50Q2hlY2tlZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5nQWZ0ZXJWaWV3SW5pdCkge1xuICAgICAgICAgICAgKHRWaWV3LnZpZXdIb29rcyB8fCAodFZpZXcudmlld0hvb2tzID0gW10pKS5wdXNoKC1pLCBuZ0FmdGVyVmlld0luaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZ0FmdGVyVmlld0NoZWNrZWQpIHtcbiAgICAgICAgICAgICh0Vmlldy52aWV3SG9va3MgfHwgKHRWaWV3LnZpZXdIb29rcyA9IFtdKSkucHVzaChpLCBuZ0FmdGVyVmlld0NoZWNrZWQpO1xuICAgICAgICAgICAgKHRWaWV3LnZpZXdDaGVja0hvb2tzIHx8ICh0Vmlldy52aWV3Q2hlY2tIb29rcyA9IFtdKSkucHVzaChpLCBuZ0FmdGVyVmlld0NoZWNrZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZ09uRGVzdHJveSAhPSBudWxsKSB7XG4gICAgICAgICAgICAodFZpZXcuZGVzdHJveUhvb2tzIHx8ICh0Vmlldy5kZXN0cm95SG9va3MgPSBbXSkpLnB1c2goaSwgbmdPbkRlc3Ryb3kpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBFeGVjdXRpbmcgaG9va3MgcmVxdWlyZXMgY29tcGxleCBsb2dpYyBhcyB3ZSBuZWVkIHRvIGRlYWwgd2l0aCAyIGNvbnN0cmFpbnRzLlxuICpcbiAqIDEuIEluaXQgaG9va3MgKG5nT25Jbml0LCBuZ0FmdGVyQ29udGVudEluaXQsIG5nQWZ0ZXJWaWV3SW5pdCkgbXVzdCBhbGwgYmUgZXhlY3V0ZWQgb25jZSBhbmQgb25seVxuICogb25jZSwgYWNyb3NzIG1hbnkgY2hhbmdlIGRldGVjdGlvbiBjeWNsZXMuIFRoaXMgbXVzdCBiZSB0cnVlIGV2ZW4gaWYgc29tZSBob29rcyB0aHJvdywgb3IgaWZcbiAqIHNvbWUgcmVjdXJzaXZlbHkgdHJpZ2dlciBhIGNoYW5nZSBkZXRlY3Rpb24gY3ljbGUuXG4gKiBUbyBzb2x2ZSB0aGF0LCBpdCBpcyByZXF1aXJlZCB0byB0cmFjayB0aGUgc3RhdGUgb2YgdGhlIGV4ZWN1dGlvbiBvZiB0aGVzZSBpbml0IGhvb2tzLlxuICogVGhpcyBpcyBkb25lIGJ5IHN0b3JpbmcgYW5kIG1haW50YWluaW5nIGZsYWdzIGluIHRoZSB2aWV3OiB0aGUge0BsaW5rIEluaXRQaGFzZVN0YXRlfSxcbiAqIGFuZCB0aGUgaW5kZXggd2l0aGluIHRoYXQgcGhhc2UuIFRoZXkgY2FuIGJlIHNlZW4gYXMgYSBjdXJzb3IgaW4gdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmU6XG4gKiBbW29uSW5pdDEsIG9uSW5pdDJdLCBbYWZ0ZXJDb250ZW50SW5pdDFdLCBbYWZ0ZXJWaWV3SW5pdDEsIGFmdGVyVmlld0luaXQyLCBhZnRlclZpZXdJbml0M11dXG4gKiBUaGV5IGFyZSBhcmUgc3RvcmVkIGFzIGZsYWdzIGluIExWaWV3W0ZMQUdTXS5cbiAqXG4gKiAyLiBQcmUtb3JkZXIgaG9va3MgY2FuIGJlIGV4ZWN1dGVkIGluIGJhdGNoZXMsIGJlY2F1c2Ugb2YgdGhlIHNlbGVjdCBpbnN0cnVjdGlvbi5cbiAqIFRvIGJlIGFibGUgdG8gcGF1c2UgYW5kIHJlc3VtZSB0aGVpciBleGVjdXRpb24sIHdlIGFsc28gbmVlZCBzb21lIHN0YXRlIGFib3V0IHRoZSBob29rJ3MgYXJyYXlcbiAqIHRoYXQgaXMgYmVpbmcgcHJvY2Vzc2VkOlxuICogLSB0aGUgaW5kZXggb2YgdGhlIG5leHQgaG9vayB0byBiZSBleGVjdXRlZFxuICogLSB0aGUgbnVtYmVyIG9mIGluaXQgaG9va3MgYWxyZWFkeSBmb3VuZCBpbiB0aGUgcHJvY2Vzc2VkIHBhcnQgb2YgdGhlICBhcnJheVxuICogVGhleSBhcmUgYXJlIHN0b3JlZCBhcyBmbGFncyBpbiBMVmlld1tQUkVPUkRFUl9IT09LX0ZMQUdTXS5cbiAqL1xuLyoqXG4gKiBFeGVjdXRlcyBwcmUtb3JkZXIgY2hlY2sgaG9va3MgKCBPbkNoYW5nZXMsIERvQ2hhbmdlcykgZ2l2ZW4gYSB2aWV3IHdoZXJlIGFsbCB0aGUgaW5pdCBob29rcyB3ZXJlXG4gKiBleGVjdXRlZCBvbmNlLiBUaGlzIGlzIGEgbGlnaHQgdmVyc2lvbiBvZiBleGVjdXRlSW5pdEFuZENoZWNrUHJlT3JkZXJIb29rcyB3aGVyZSB3ZSBjYW4gc2tpcCByZWFkXG4gKiAvIHdyaXRlIG9mIHRoZSBpbml0LWhvb2tzIHJlbGF0ZWQgZmxhZ3MuXG4gKiBAcGFyYW0gbFZpZXcgVGhlIExWaWV3IHdoZXJlIGhvb2tzIGFyZSBkZWZpbmVkXG4gKiBAcGFyYW0gaG9va3MgSG9va3MgdG8gYmUgcnVuXG4gKiBAcGFyYW0gbm9kZUluZGV4IDMgY2FzZXMgZGVwZW5kaW5nIG9uIHRoZSB2YWx1ZTpcbiAqIC0gdW5kZWZpbmVkOiBhbGwgaG9va3MgZnJvbSB0aGUgYXJyYXkgc2hvdWxkIGJlIGV4ZWN1dGVkIChwb3N0LW9yZGVyIGNhc2UpXG4gKiAtIG51bGw6IGV4ZWN1dGUgaG9va3Mgb25seSBmcm9tIHRoZSBzYXZlZCBpbmRleCB1bnRpbCB0aGUgZW5kIG9mIHRoZSBhcnJheSAocHJlLW9yZGVyIGNhc2UsIHdoZW5cbiAqIGZsdXNoaW5nIHRoZSByZW1haW5pbmcgaG9va3MpXG4gKiAtIG51bWJlcjogZXhlY3V0ZSBob29rcyBvbmx5IGZyb20gdGhlIHNhdmVkIGluZGV4IHVudGlsIHRoYXQgbm9kZSBpbmRleCBleGNsdXNpdmUgKHByZS1vcmRlclxuICogY2FzZSwgd2hlbiBleGVjdXRpbmcgc2VsZWN0KG51bWJlcikpXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVDaGVja0hvb2tzKGxWaWV3LCBob29rcywgbm9kZUluZGV4KSB7XG4gICAgY2FsbEhvb2tzKGxWaWV3LCBob29rcywgMyAvKiBJbml0UGhhc2VDb21wbGV0ZWQgKi8sIG5vZGVJbmRleCk7XG59XG4vKipcbiAqIEV4ZWN1dGVzIHBvc3Qtb3JkZXIgaW5pdCBhbmQgY2hlY2sgaG9va3MgKG9uZSBvZiBBZnRlckNvbnRlbnRJbml0LCBBZnRlckNvbnRlbnRDaGVja2VkLFxuICogQWZ0ZXJWaWV3SW5pdCwgQWZ0ZXJWaWV3Q2hlY2tlZCkgZ2l2ZW4gYSB2aWV3IHdoZXJlIHRoZXJlIGFyZSBwZW5kaW5nIGluaXQgaG9va3MgdG8gYmUgZXhlY3V0ZWQuXG4gKiBAcGFyYW0gbFZpZXcgVGhlIExWaWV3IHdoZXJlIGhvb2tzIGFyZSBkZWZpbmVkXG4gKiBAcGFyYW0gaG9va3MgSG9va3MgdG8gYmUgcnVuXG4gKiBAcGFyYW0gaW5pdFBoYXNlIEEgcGhhc2UgZm9yIHdoaWNoIGhvb2tzIHNob3VsZCBiZSBydW5cbiAqIEBwYXJhbSBub2RlSW5kZXggMyBjYXNlcyBkZXBlbmRpbmcgb24gdGhlIHZhbHVlOlxuICogLSB1bmRlZmluZWQ6IGFsbCBob29rcyBmcm9tIHRoZSBhcnJheSBzaG91bGQgYmUgZXhlY3V0ZWQgKHBvc3Qtb3JkZXIgY2FzZSlcbiAqIC0gbnVsbDogZXhlY3V0ZSBob29rcyBvbmx5IGZyb20gdGhlIHNhdmVkIGluZGV4IHVudGlsIHRoZSBlbmQgb2YgdGhlIGFycmF5IChwcmUtb3JkZXIgY2FzZSwgd2hlblxuICogZmx1c2hpbmcgdGhlIHJlbWFpbmluZyBob29rcylcbiAqIC0gbnVtYmVyOiBleGVjdXRlIGhvb2tzIG9ubHkgZnJvbSB0aGUgc2F2ZWQgaW5kZXggdW50aWwgdGhhdCBub2RlIGluZGV4IGV4Y2x1c2l2ZSAocHJlLW9yZGVyXG4gKiBjYXNlLCB3aGVuIGV4ZWN1dGluZyBzZWxlY3QobnVtYmVyKSlcbiAqL1xuZnVuY3Rpb24gZXhlY3V0ZUluaXRBbmRDaGVja0hvb2tzKGxWaWV3LCBob29rcywgaW5pdFBoYXNlLCBub2RlSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0Tm90RXF1YWwoaW5pdFBoYXNlLCAzIC8qIEluaXRQaGFzZUNvbXBsZXRlZCAqLywgJ0luaXQgcHJlLW9yZGVyIGhvb2tzIHNob3VsZCBub3QgYmUgY2FsbGVkIG1vcmUgdGhhbiBvbmNlJyk7XG4gICAgaWYgKChsVmlld1tGTEFHU10gJiAzIC8qIEluaXRQaGFzZVN0YXRlTWFzayAqLykgPT09IGluaXRQaGFzZSkge1xuICAgICAgICBjYWxsSG9va3MobFZpZXcsIGhvb2tzLCBpbml0UGhhc2UsIG5vZGVJbmRleCk7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5jcmVtZW50SW5pdFBoYXNlRmxhZ3MobFZpZXcsIGluaXRQaGFzZSkge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnROb3RFcXVhbChpbml0UGhhc2UsIDMgLyogSW5pdFBoYXNlQ29tcGxldGVkICovLCAnSW5pdCBob29rcyBwaGFzZSBzaG91bGQgbm90IGJlIGluY3JlbWVudGVkIGFmdGVyIGFsbCBpbml0IGhvb2tzIGhhdmUgYmVlbiBydW4uJyk7XG4gICAgbGV0IGZsYWdzID0gbFZpZXdbRkxBR1NdO1xuICAgIGlmICgoZmxhZ3MgJiAzIC8qIEluaXRQaGFzZVN0YXRlTWFzayAqLykgPT09IGluaXRQaGFzZSkge1xuICAgICAgICBmbGFncyAmPSAyMDQ3IC8qIEluZGV4V2l0aGluSW5pdFBoYXNlUmVzZXQgKi87XG4gICAgICAgIGZsYWdzICs9IDEgLyogSW5pdFBoYXNlU3RhdGVJbmNyZW1lbnRlciAqLztcbiAgICAgICAgbFZpZXdbRkxBR1NdID0gZmxhZ3M7XG4gICAgfVxufVxuLyoqXG4gKiBDYWxscyBsaWZlY3ljbGUgaG9va3Mgd2l0aCB0aGVpciBjb250ZXh0cywgc2tpcHBpbmcgaW5pdCBob29rcyBpZiBpdCdzIG5vdFxuICogdGhlIGZpcnN0IExWaWV3IHBhc3NcbiAqXG4gKiBAcGFyYW0gY3VycmVudFZpZXcgVGhlIGN1cnJlbnQgdmlld1xuICogQHBhcmFtIGFyciBUaGUgYXJyYXkgaW4gd2hpY2ggdGhlIGhvb2tzIGFyZSBmb3VuZFxuICogQHBhcmFtIGluaXRQaGFzZVN0YXRlIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBpbml0IHBoYXNlXG4gKiBAcGFyYW0gY3VycmVudE5vZGVJbmRleCAzIGNhc2VzIGRlcGVuZGluZyBvbiB0aGUgdmFsdWU6XG4gKiAtIHVuZGVmaW5lZDogYWxsIGhvb2tzIGZyb20gdGhlIGFycmF5IHNob3VsZCBiZSBleGVjdXRlZCAocG9zdC1vcmRlciBjYXNlKVxuICogLSBudWxsOiBleGVjdXRlIGhvb2tzIG9ubHkgZnJvbSB0aGUgc2F2ZWQgaW5kZXggdW50aWwgdGhlIGVuZCBvZiB0aGUgYXJyYXkgKHByZS1vcmRlciBjYXNlLCB3aGVuXG4gKiBmbHVzaGluZyB0aGUgcmVtYWluaW5nIGhvb2tzKVxuICogLSBudW1iZXI6IGV4ZWN1dGUgaG9va3Mgb25seSBmcm9tIHRoZSBzYXZlZCBpbmRleCB1bnRpbCB0aGF0IG5vZGUgaW5kZXggZXhjbHVzaXZlIChwcmUtb3JkZXJcbiAqIGNhc2UsIHdoZW4gZXhlY3V0aW5nIHNlbGVjdChudW1iZXIpKVxuICovXG5mdW5jdGlvbiBjYWxsSG9va3MoY3VycmVudFZpZXcsIGFyciwgaW5pdFBoYXNlLCBjdXJyZW50Tm9kZUluZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEVxdWFsKGlzSW5DaGVja05vQ2hhbmdlc01vZGUoKSwgZmFsc2UsICdIb29rcyBzaG91bGQgbmV2ZXIgYmUgcnVuIHdoZW4gaW4gY2hlY2sgbm8gY2hhbmdlcyBtb2RlLicpO1xuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBjdXJyZW50Tm9kZUluZGV4ICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAoY3VycmVudFZpZXdbUFJFT1JERVJfSE9PS19GTEFHU10gJiA2NTUzNSAvKiBJbmRleE9mVGhlTmV4dFByZU9yZGVySG9va01hc2tNYXNrICovKSA6XG4gICAgICAgIDA7XG4gICAgY29uc3Qgbm9kZUluZGV4TGltaXQgPSBjdXJyZW50Tm9kZUluZGV4ICE9IG51bGwgPyBjdXJyZW50Tm9kZUluZGV4IDogLTE7XG4gICAgY29uc3QgbWF4ID0gYXJyLmxlbmd0aCAtIDE7IC8vIFN0b3AgdGhlIGxvb3AgYXQgbGVuZ3RoIC0gMSwgYmVjYXVzZSB3ZSBsb29rIGZvciB0aGUgaG9vayBhdCBpICsgMVxuICAgIGxldCBsYXN0Tm9kZUluZGV4Rm91bmQgPSAwO1xuICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgbWF4OyBpKyspIHtcbiAgICAgICAgY29uc3QgaG9vayA9IGFycltpICsgMV07XG4gICAgICAgIGlmICh0eXBlb2YgaG9vayA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGxhc3ROb2RlSW5kZXhGb3VuZCA9IGFycltpXTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Tm9kZUluZGV4ICE9IG51bGwgJiYgbGFzdE5vZGVJbmRleEZvdW5kID49IGN1cnJlbnROb2RlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGlzSW5pdEhvb2sgPSBhcnJbaV0gPCAwO1xuICAgICAgICAgICAgaWYgKGlzSW5pdEhvb2spXG4gICAgICAgICAgICAgICAgY3VycmVudFZpZXdbUFJFT1JERVJfSE9PS19GTEFHU10gKz0gNjU1MzYgLyogTnVtYmVyT2ZJbml0SG9va3NDYWxsZWRJbmNyZW1lbnRlciAqLztcbiAgICAgICAgICAgIGlmIChsYXN0Tm9kZUluZGV4Rm91bmQgPCBub2RlSW5kZXhMaW1pdCB8fCBub2RlSW5kZXhMaW1pdCA9PSAtMSkge1xuICAgICAgICAgICAgICAgIGNhbGxIb29rKGN1cnJlbnRWaWV3LCBpbml0UGhhc2UsIGFyciwgaSk7XG4gICAgICAgICAgICAgICAgY3VycmVudFZpZXdbUFJFT1JERVJfSE9PS19GTEFHU10gPVxuICAgICAgICAgICAgICAgICAgICAoY3VycmVudFZpZXdbUFJFT1JERVJfSE9PS19GTEFHU10gJiA0Mjk0OTAxNzYwIC8qIE51bWJlck9mSW5pdEhvb2tzQ2FsbGVkTWFzayAqLykgKyBpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEV4ZWN1dGUgb25lIGhvb2sgYWdhaW5zdCB0aGUgY3VycmVudCBgTFZpZXdgLlxuICpcbiAqIEBwYXJhbSBjdXJyZW50VmlldyBUaGUgY3VycmVudCB2aWV3XG4gKiBAcGFyYW0gaW5pdFBoYXNlU3RhdGUgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGluaXQgcGhhc2VcbiAqIEBwYXJhbSBhcnIgVGhlIGFycmF5IGluIHdoaWNoIHRoZSBob29rcyBhcmUgZm91bmRcbiAqIEBwYXJhbSBpIFRoZSBjdXJyZW50IGluZGV4IHdpdGhpbiB0aGUgaG9vayBkYXRhIGFycmF5XG4gKi9cbmZ1bmN0aW9uIGNhbGxIb29rKGN1cnJlbnRWaWV3LCBpbml0UGhhc2UsIGFyciwgaSkge1xuICAgIGNvbnN0IGlzSW5pdEhvb2sgPSBhcnJbaV0gPCAwO1xuICAgIGNvbnN0IGhvb2sgPSBhcnJbaSArIDFdO1xuICAgIGNvbnN0IGRpcmVjdGl2ZUluZGV4ID0gaXNJbml0SG9vayA/IC1hcnJbaV0gOiBhcnJbaV07XG4gICAgY29uc3QgZGlyZWN0aXZlID0gY3VycmVudFZpZXdbZGlyZWN0aXZlSW5kZXhdO1xuICAgIGlmIChpc0luaXRIb29rKSB7XG4gICAgICAgIGNvbnN0IGluZGV4V2l0aGludEluaXRQaGFzZSA9IGN1cnJlbnRWaWV3W0ZMQUdTXSA+PiAxMSAvKiBJbmRleFdpdGhpbkluaXRQaGFzZVNoaWZ0ICovO1xuICAgICAgICAvLyBUaGUgaW5pdCBwaGFzZSBzdGF0ZSBtdXN0IGJlIGFsd2F5cyBjaGVja2VkIGhlcmUgYXMgaXQgbWF5IGhhdmUgYmVlbiByZWN1cnNpdmVseSB1cGRhdGVkLlxuICAgICAgICBpZiAoaW5kZXhXaXRoaW50SW5pdFBoYXNlIDxcbiAgICAgICAgICAgIChjdXJyZW50Vmlld1tQUkVPUkRFUl9IT09LX0ZMQUdTXSA+PiAxNiAvKiBOdW1iZXJPZkluaXRIb29rc0NhbGxlZFNoaWZ0ICovKSAmJlxuICAgICAgICAgICAgKGN1cnJlbnRWaWV3W0ZMQUdTXSAmIDMgLyogSW5pdFBoYXNlU3RhdGVNYXNrICovKSA9PT0gaW5pdFBoYXNlKSB7XG4gICAgICAgICAgICBjdXJyZW50Vmlld1tGTEFHU10gKz0gMjA0OCAvKiBJbmRleFdpdGhpbkluaXRQaGFzZUluY3JlbWVudGVyICovO1xuICAgICAgICAgICAgcHJvZmlsZXIoNCAvKiBMaWZlY3ljbGVIb29rU3RhcnQgKi8sIGRpcmVjdGl2ZSwgaG9vayk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGhvb2suY2FsbChkaXJlY3RpdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgcHJvZmlsZXIoNSAvKiBMaWZlY3ljbGVIb29rRW5kICovLCBkaXJlY3RpdmUsIGhvb2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwcm9maWxlcig0IC8qIExpZmVjeWNsZUhvb2tTdGFydCAqLywgZGlyZWN0aXZlLCBob29rKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGhvb2suY2FsbChkaXJlY3RpdmUpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgcHJvZmlsZXIoNSAvKiBMaWZlY3ljbGVIb29rRW5kICovLCBkaXJlY3RpdmUsIGhvb2spO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IE5PX1BBUkVOVF9JTkpFQ1RPUiA9IC0xO1xuLyoqXG4gKiBFYWNoIGluamVjdG9yIGlzIHNhdmVkIGluIDkgY29udGlndW91cyBzbG90cyBpbiBgTFZpZXdgIGFuZCA5IGNvbnRpZ3VvdXMgc2xvdHMgaW5cbiAqIGBUVmlldy5kYXRhYC4gVGhpcyBhbGxvd3MgdXMgdG8gc3RvcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGN1cnJlbnQgbm9kZSdzIHRva2VucyAod2hpY2hcbiAqIGNhbiBiZSBzaGFyZWQgaW4gYFRWaWV3YCkgYXMgd2VsbCBhcyB0aGUgdG9rZW5zIG9mIGl0cyBhbmNlc3RvciBub2RlcyAod2hpY2ggY2Fubm90IGJlXG4gKiBzaGFyZWQsIHNvIHRoZXkgbGl2ZSBpbiBgTFZpZXdgKS5cbiAqXG4gKiBFYWNoIG9mIHRoZXNlIHNsb3RzIChhc2lkZSBmcm9tIHRoZSBsYXN0IHNsb3QpIGNvbnRhaW5zIGEgYmxvb20gZmlsdGVyLiBUaGlzIGJsb29tIGZpbHRlclxuICogZGV0ZXJtaW5lcyB3aGV0aGVyIGEgZGlyZWN0aXZlIGlzIGF2YWlsYWJsZSBvbiB0aGUgYXNzb2NpYXRlZCBub2RlIG9yIG5vdC4gVGhpcyBwcmV2ZW50cyB1c1xuICogZnJvbSBzZWFyY2hpbmcgdGhlIGRpcmVjdGl2ZXMgYXJyYXkgYXQgdGhpcyBsZXZlbCB1bmxlc3MgaXQncyBwcm9iYWJsZSB0aGUgZGlyZWN0aXZlIGlzIGluIGl0LlxuICpcbiAqIFNlZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmxvb21fZmlsdGVyIGZvciBtb3JlIGFib3V0IGJsb29tIGZpbHRlcnMuXG4gKlxuICogQmVjYXVzZSBhbGwgaW5qZWN0b3JzIGhhdmUgYmVlbiBmbGF0dGVuZWQgaW50byBgTFZpZXdgIGFuZCBgVFZpZXdEYXRhYCwgdGhleSBjYW5ub3QgdHlwZWRcbiAqIHVzaW5nIGludGVyZmFjZXMgYXMgdGhleSB3ZXJlIHByZXZpb3VzbHkuIFRoZSBzdGFydCBpbmRleCBvZiBlYWNoIGBMSW5qZWN0b3JgIGFuZCBgVEluamVjdG9yYFxuICogd2lsbCBkaWZmZXIgYmFzZWQgb24gd2hlcmUgaXQgaXMgZmxhdHRlbmVkIGludG8gdGhlIG1haW4gYXJyYXksIHNvIGl0J3Mgbm90IHBvc3NpYmxlIHRvIGtub3dcbiAqIHRoZSBpbmRpY2VzIGFoZWFkIG9mIHRpbWUgYW5kIHNhdmUgdGhlaXIgdHlwZXMgaGVyZS4gVGhlIGludGVyZmFjZXMgYXJlIHN0aWxsIGluY2x1ZGVkIGhlcmVcbiAqIGZvciBkb2N1bWVudGF0aW9uIHB1cnBvc2VzLlxuICpcbiAqIGV4cG9ydCBpbnRlcmZhY2UgTEluamVjdG9yIGV4dGVuZHMgQXJyYXk8YW55PiB7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAwLTMxICAoSURzIGFyZSAlIEJMT09NX1NJWkUpXG4gKiAgICBbMF06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBDdW11bGF0aXZlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDMyLTYzXG4gKiAgICBbMV06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBDdW11bGF0aXZlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDY0LTk1XG4gKiAgICBbMl06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBDdW11bGF0aXZlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDk2LTEyN1xuICogICAgWzNdOiBudW1iZXI7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAxMjgtMTU5XG4gKiAgICBbNF06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBDdW11bGF0aXZlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDE2MCAtIDE5MVxuICogICAgWzVdOiBudW1iZXI7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAxOTIgLSAyMjNcbiAqICAgIFs2XTogbnVtYmVyO1xuICpcbiAqICAgIC8vIEN1bXVsYXRpdmUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMjI0IC0gMjU1XG4gKiAgICBbN106IG51bWJlcjtcbiAqXG4gKiAgICAvLyBXZSBuZWVkIHRvIHN0b3JlIGEgcmVmZXJlbmNlIHRvIHRoZSBpbmplY3RvcidzIHBhcmVudCBzbyBESSBjYW4ga2VlcCBsb29raW5nIHVwXG4gKiAgICAvLyB0aGUgaW5qZWN0b3IgdHJlZSB1bnRpbCBpdCBmaW5kcyB0aGUgZGVwZW5kZW5jeSBpdCdzIGxvb2tpbmcgZm9yLlxuICogICAgW1BBUkVOVF9JTkpFQ1RPUl06IG51bWJlcjtcbiAqIH1cbiAqXG4gKiBleHBvcnQgaW50ZXJmYWNlIFRJbmplY3RvciBleHRlbmRzIEFycmF5PGFueT4ge1xuICpcbiAqICAgIC8vIFNoYXJlZCBub2RlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDAtMzEgIChJRHMgYXJlICUgQkxPT01fU0laRSlcbiAqICAgIFswXTogbnVtYmVyO1xuICpcbiAqICAgIC8vIFNoYXJlZCBub2RlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDMyLTYzXG4gKiAgICBbMV06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBTaGFyZWQgbm9kZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyA2NC05NVxuICogICAgWzJdOiBudW1iZXI7XG4gKlxuICogICAgLy8gU2hhcmVkIG5vZGUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgOTYtMTI3XG4gKiAgICBbM106IG51bWJlcjtcbiAqXG4gKiAgICAvLyBTaGFyZWQgbm9kZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAxMjgtMTU5XG4gKiAgICBbNF06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBTaGFyZWQgbm9kZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAxNjAgLSAxOTFcbiAqICAgIFs1XTogbnVtYmVyO1xuICpcbiAqICAgIC8vIFNoYXJlZCBub2RlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDE5MiAtIDIyM1xuICogICAgWzZdOiBudW1iZXI7XG4gKlxuICogICAgLy8gU2hhcmVkIG5vZGUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMjI0IC0gMjU1XG4gKiAgICBbN106IG51bWJlcjtcbiAqXG4gKiAgICAvLyBOZWNlc3NhcnkgdG8gZmluZCBkaXJlY3RpdmUgaW5kaWNlcyBmb3IgYSBwYXJ0aWN1bGFyIG5vZGUuXG4gKiAgICBbVE5PREVdOiBURWxlbWVudE5vZGV8VEVsZW1lbnRDb250YWluZXJOb2RlfFRDb250YWluZXJOb2RlO1xuICogIH1cbiAqL1xuLyoqXG4gKiBGYWN0b3J5IGZvciBjcmVhdGluZyBpbnN0YW5jZXMgb2YgaW5qZWN0b3JzIGluIHRoZSBOb2RlSW5qZWN0b3IuXG4gKlxuICogVGhpcyBmYWN0b3J5IGlzIGNvbXBsaWNhdGVkIGJ5IHRoZSBmYWN0IHRoYXQgaXQgY2FuIHJlc29sdmUgYG11bHRpYCBmYWN0b3JpZXMgYXMgd2VsbC5cbiAqXG4gKiBOT1RFOiBTb21lIG9mIHRoZSBmaWVsZHMgYXJlIG9wdGlvbmFsIHdoaWNoIG1lYW5zIHRoYXQgdGhpcyBjbGFzcyBoYXMgdHdvIGhpZGRlbiBjbGFzc2VzLlxuICogLSBPbmUgd2l0aG91dCBgbXVsdGlgIHN1cHBvcnQgKG1vc3QgY29tbW9uKVxuICogLSBPbmUgd2l0aCBgbXVsdGlgIHZhbHVlcywgKHJhcmUpLlxuICpcbiAqIFNpbmNlIFZNcyBjYW4gY2FjaGUgdXAgdG8gNCBpbmxpbmUgaGlkZGVuIGNsYXNzZXMgdGhpcyBpcyBPSy5cbiAqXG4gKiAtIFNpbmdsZSBmYWN0b3J5OiBPbmx5IGByZXNvbHZpbmdgIGFuZCBgZmFjdG9yeWAgaXMgZGVmaW5lZC5cbiAqIC0gYHByb3ZpZGVyc2AgZmFjdG9yeTogYGNvbXBvbmVudFByb3ZpZGVyc2AgaXMgYSBudW1iZXIgYW5kIGBpbmRleCA9IC0xYC5cbiAqIC0gYHZpZXdQcm92aWRlcnNgIGZhY3Rvcnk6IGBjb21wb25lbnRQcm92aWRlcnNgIGlzIGEgbnVtYmVyIGFuZCBgaW5kZXhgIHBvaW50cyB0byBgcHJvdmlkZXJzYC5cbiAqL1xuY2xhc3MgTm9kZUluamVjdG9yRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogRmFjdG9yeSB0byBpbnZva2UgaW4gb3JkZXIgdG8gY3JlYXRlIGEgbmV3IGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZhY3RvcnksIFxuICAgIC8qKlxuICAgICAqIFNldCB0byBgdHJ1ZWAgaWYgdGhlIHRva2VuIGlzIGRlY2xhcmVkIGluIGB2aWV3UHJvdmlkZXJzYCAob3IgaWYgaXQgaXMgY29tcG9uZW50KS5cbiAgICAgKi9cbiAgICBpc1ZpZXdQcm92aWRlciwgaW5qZWN0SW1wbGVtZW50YXRpb24pIHtcbiAgICAgICAgdGhpcy5mYWN0b3J5ID0gZmFjdG9yeTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcmtlciBzZXQgdG8gdHJ1ZSBkdXJpbmcgZmFjdG9yeSBpbnZvY2F0aW9uIHRvIHNlZSBpZiB3ZSBnZXQgaW50byByZWN1cnNpdmUgbG9vcC5cbiAgICAgICAgICogUmVjdXJzaXZlIGxvb3AgY2F1c2VzIGFuIGVycm9yIHRvIGJlIGRpc3BsYXllZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x2aW5nID0gZmFsc2U7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGZhY3RvcnksICdGYWN0b3J5IG5vdCBzcGVjaWZpZWQnKTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKHR5cGVvZiBmYWN0b3J5LCAnZnVuY3Rpb24nLCAnRXhwZWN0ZWQgZmFjdG9yeSBmdW5jdGlvbi4nKTtcbiAgICAgICAgdGhpcy5jYW5TZWVWaWV3UHJvdmlkZXJzID0gaXNWaWV3UHJvdmlkZXI7XG4gICAgICAgIHRoaXMuaW5qZWN0SW1wbCA9IGluamVjdEltcGxlbWVudGF0aW9uO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzRmFjdG9yeShvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgTm9kZUluamVjdG9yRmFjdG9yeTtcbn1cbi8vIE5vdGU6IFRoaXMgaGFjayBpcyBuZWNlc3Nhcnkgc28gd2UgZG9uJ3QgZXJyb25lb3VzbHkgZ2V0IGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuLy8gZmFpbHVyZSBiYXNlZCBvbiB0eXBlcy5cbmNvbnN0IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDUgPSAxO1xuXG4vKipcbiAqIENvbnZlcnRzIGBUTm9kZVR5cGVgIGludG8gaHVtYW4gcmVhZGFibGUgdGV4dC5cbiAqIE1ha2Ugc3VyZSB0aGlzIG1hdGNoZXMgd2l0aCBgVE5vZGVUeXBlYFxuICovXG5mdW5jdGlvbiB0b1ROb2RlVHlwZUFzU3RyaW5nKHROb2RlVHlwZSkge1xuICAgIGxldCB0ZXh0ID0gJyc7XG4gICAgKHROb2RlVHlwZSAmIDEgLyogVGV4dCAqLykgJiYgKHRleHQgKz0gJ3xUZXh0Jyk7XG4gICAgKHROb2RlVHlwZSAmIDIgLyogRWxlbWVudCAqLykgJiYgKHRleHQgKz0gJ3xFbGVtZW50Jyk7XG4gICAgKHROb2RlVHlwZSAmIDQgLyogQ29udGFpbmVyICovKSAmJiAodGV4dCArPSAnfENvbnRhaW5lcicpO1xuICAgICh0Tm9kZVR5cGUgJiA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pICYmICh0ZXh0ICs9ICd8RWxlbWVudENvbnRhaW5lcicpO1xuICAgICh0Tm9kZVR5cGUgJiAxNiAvKiBQcm9qZWN0aW9uICovKSAmJiAodGV4dCArPSAnfFByb2plY3Rpb24nKTtcbiAgICAodE5vZGVUeXBlICYgMzIgLyogSWN1ICovKSAmJiAodGV4dCArPSAnfEljdUNvbnRhaW5lcicpO1xuICAgICh0Tm9kZVR5cGUgJiA2NCAvKiBQbGFjZWhvbGRlciAqLykgJiYgKHRleHQgKz0gJ3xQbGFjZWhvbGRlcicpO1xuICAgIHJldHVybiB0ZXh0Lmxlbmd0aCA+IDAgPyB0ZXh0LnN1YnN0cmluZygxKSA6IHRleHQ7XG59XG4vLyBOb3RlOiBUaGlzIGhhY2sgaXMgbmVjZXNzYXJ5IHNvIHdlIGRvbid0IGVycm9uZW91c2x5IGdldCBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGZhaWx1cmUgYmFzZWQgb24gdHlwZXMuXG5jb25zdCB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ0ID0gMTtcbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGBUTm9kZWAgaGFzIGEgZGlyZWN0aXZlIHdoaWNoIGhhcyBgQElucHV0KClgIGZvciBgY2xhc3NgIGJpbmRpbmcuXG4gKlxuICogYGBgXG4gKiA8ZGl2IG15LWRpciBbY2xhc3NdPVwiZXhwXCI+PC9kaXY+XG4gKiBgYGBcbiAqIGFuZFxuICogYGBgXG4gKiBARGlyZWN0aXZlKHtcbiAqIH0pXG4gKiBjbGFzcyBNeURpcmVjdGl2ZSB7XG4gKiAgIEBJbnB1dCgpXG4gKiAgIGNsYXNzOiBzdHJpbmc7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBJbiB0aGUgYWJvdmUgY2FzZSBpdCBpcyBuZWNlc3NhcnkgdG8gd3JpdGUgdGhlIHJlY29uY2lsZWQgc3R5bGluZyBpbmZvcm1hdGlvbiBpbnRvIHRoZVxuICogZGlyZWN0aXZlJ3MgaW5wdXQuXG4gKlxuICogQHBhcmFtIHROb2RlXG4gKi9cbmZ1bmN0aW9uIGhhc0NsYXNzSW5wdXQodE5vZGUpIHtcbiAgICByZXR1cm4gKHROb2RlLmZsYWdzICYgMTYgLyogaGFzQ2xhc3NJbnB1dCAqLykgIT09IDA7XG59XG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBgVE5vZGVgIGhhcyBhIGRpcmVjdGl2ZSB3aGljaCBoYXMgYEBJbnB1dCgpYCBmb3IgYHN0eWxlYCBiaW5kaW5nLlxuICpcbiAqIGBgYFxuICogPGRpdiBteS1kaXIgW3N0eWxlXT1cImV4cFwiPjwvZGl2PlxuICogYGBgXG4gKiBhbmRcbiAqIGBgYFxuICogQERpcmVjdGl2ZSh7XG4gKiB9KVxuICogY2xhc3MgTXlEaXJlY3RpdmUge1xuICogICBASW5wdXQoKVxuICogICBjbGFzczogc3RyaW5nO1xuICogfVxuICogYGBgXG4gKlxuICogSW4gdGhlIGFib3ZlIGNhc2UgaXQgaXMgbmVjZXNzYXJ5IHRvIHdyaXRlIHRoZSByZWNvbmNpbGVkIHN0eWxpbmcgaW5mb3JtYXRpb24gaW50byB0aGVcbiAqIGRpcmVjdGl2ZSdzIGlucHV0LlxuICpcbiAqIEBwYXJhbSB0Tm9kZVxuICovXG5mdW5jdGlvbiBoYXNTdHlsZUlucHV0KHROb2RlKSB7XG4gICAgcmV0dXJuICh0Tm9kZS5mbGFncyAmIDMyIC8qIGhhc1N0eWxlSW5wdXQgKi8pICE9PSAwO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgZXhwZWN0ZWRUeXBlcywgbWVzc2FnZSkge1xuICAgIGFzc2VydERlZmluZWQodE5vZGUsICdzaG91bGQgYmUgY2FsbGVkIHdpdGggYSBUTm9kZScpO1xuICAgIGlmICgodE5vZGUudHlwZSAmIGV4cGVjdGVkVHlwZXMpID09PSAwKSB7XG4gICAgICAgIHRocm93RXJyb3IobWVzc2FnZSB8fFxuICAgICAgICAgICAgYEV4cGVjdGVkIFske3RvVE5vZGVUeXBlQXNTdHJpbmcoZXhwZWN0ZWRUeXBlcyl9XSBidXQgZ290ICR7dG9UTm9kZVR5cGVBc1N0cmluZyh0Tm9kZS50eXBlKX0uYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0UHVyZVROb2RlVHlwZSh0eXBlKSB7XG4gICAgaWYgKCEodHlwZSA9PT0gMiAvKiBFbGVtZW50ICovIHx8IC8vXG4gICAgICAgIHR5cGUgPT09IDEgLyogVGV4dCAqLyB8fCAvL1xuICAgICAgICB0eXBlID09PSA0IC8qIENvbnRhaW5lciAqLyB8fCAvL1xuICAgICAgICB0eXBlID09PSA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8gfHwgLy9cbiAgICAgICAgdHlwZSA9PT0gMzIgLyogSWN1ICovIHx8IC8vXG4gICAgICAgIHR5cGUgPT09IDE2IC8qIFByb2plY3Rpb24gKi8gfHwgLy9cbiAgICAgICAgdHlwZSA9PT0gNjQgLyogUGxhY2Vob2xkZXIgKi8pKSB7XG4gICAgICAgIHRocm93RXJyb3IoYEV4cGVjdGVkIFROb2RlVHlwZSB0byBoYXZlIG9ubHkgYSBzaW5nbGUgdHlwZSBzZWxlY3RlZCwgYnV0IGdvdCAke3RvVE5vZGVUeXBlQXNTdHJpbmcodHlwZSl9LmApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBc3NpZ25zIGFsbCBhdHRyaWJ1dGUgdmFsdWVzIHRvIHRoZSBwcm92aWRlZCBlbGVtZW50IHZpYSB0aGUgaW5mZXJyZWQgcmVuZGVyZXIuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBhY2NlcHRzIHR3byBmb3JtcyBvZiBhdHRyaWJ1dGUgZW50cmllczpcbiAqXG4gKiBkZWZhdWx0OiAoa2V5LCB2YWx1ZSk6XG4gKiAgYXR0cnMgPSBba2V5MSwgdmFsdWUxLCBrZXkyLCB2YWx1ZTJdXG4gKlxuICogbmFtZXNwYWNlZDogKE5BTUVTUEFDRV9NQVJLRVIsIHVyaSwgbmFtZSwgdmFsdWUpXG4gKiAgYXR0cnMgPSBbTkFNRVNQQUNFX01BUktFUiwgdXJpLCBuYW1lLCB2YWx1ZSwgTkFNRVNQQUNFX01BUktFUiwgdXJpLCBuYW1lLCB2YWx1ZV1cbiAqXG4gKiBUaGUgYGF0dHJzYCBhcnJheSBjYW4gY29udGFpbiBhIG1peCBvZiBib3RoIHRoZSBkZWZhdWx0IGFuZCBuYW1lc3BhY2VkIGVudHJpZXMuXG4gKiBUaGUgXCJkZWZhdWx0XCIgdmFsdWVzIGFyZSBzZXQgd2l0aG91dCBhIG1hcmtlciwgYnV0IGlmIHRoZSBmdW5jdGlvbiBjb21lcyBhY3Jvc3NcbiAqIGEgbWFya2VyIHZhbHVlIHRoZW4gaXQgd2lsbCBhdHRlbXB0IHRvIHNldCBhIG5hbWVzcGFjZWQgdmFsdWUuIElmIHRoZSBtYXJrZXIgaXNcbiAqIG5vdCBvZiBhIG5hbWVzcGFjZWQgdmFsdWUgdGhlbiB0aGUgZnVuY3Rpb24gd2lsbCBxdWl0IGFuZCByZXR1cm4gdGhlIGluZGV4IHZhbHVlXG4gKiB3aGVyZSBpdCBzdG9wcGVkIGR1cmluZyB0aGUgaXRlcmF0aW9uIG9mIHRoZSBhdHRycyBhcnJheS5cbiAqXG4gKiBTZWUgW0F0dHJpYnV0ZU1hcmtlcl0gdG8gdW5kZXJzdGFuZCB3aGF0IHRoZSBuYW1lc3BhY2UgbWFya2VyIHZhbHVlIGlzLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIGluc3RydWN0aW9uIGRvZXMgbm90IHN1cHBvcnQgYXNzaWduaW5nIHN0eWxlIGFuZCBjbGFzcyB2YWx1ZXMgdG9cbiAqIGFuIGVsZW1lbnQuIFNlZSBgZWxlbWVudFN0YXJ0YCBhbmQgYGVsZW1lbnRIb3N0QXR0cnNgIHRvIGxlYXJuIGhvdyBzdHlsaW5nIHZhbHVlc1xuICogYXJlIGFwcGxpZWQgdG8gYW4gZWxlbWVudC5cbiAqIEBwYXJhbSByZW5kZXJlciBUaGUgcmVuZGVyZXIgdG8gYmUgdXNlZFxuICogQHBhcmFtIG5hdGl2ZSBUaGUgZWxlbWVudCB0aGF0IHRoZSBhdHRyaWJ1dGVzIHdpbGwgYmUgYXNzaWduZWQgdG9cbiAqIEBwYXJhbSBhdHRycyBUaGUgYXR0cmlidXRlIGFycmF5IG9mIHZhbHVlcyB0aGF0IHdpbGwgYmUgYXNzaWduZWQgdG8gdGhlIGVsZW1lbnRcbiAqIEByZXR1cm5zIHRoZSBpbmRleCB2YWx1ZSB0aGF0IHdhcyBsYXN0IGFjY2Vzc2VkIGluIHRoZSBhdHRyaWJ1dGVzIGFycmF5XG4gKi9cbmZ1bmN0aW9uIHNldFVwQXR0cmlidXRlcyhyZW5kZXJlciwgbmF0aXZlLCBhdHRycykge1xuICAgIGNvbnN0IGlzUHJvYyA9IGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBhdHRycy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhdHRyc1tpXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgbmFtZXNwYWNlcyBhcmUgc3VwcG9ydGVkLiBPdGhlciB2YWx1ZSB0eXBlcyAoc3VjaCBhcyBzdHlsZS9jbGFzc1xuICAgICAgICAgICAgLy8gZW50cmllcykgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBmdW5jdGlvbi5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gMCAvKiBOYW1lc3BhY2VVUkkgKi8pIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdlIGp1c3QgbGFuZGVkIG9uIHRoZSBtYXJrZXIgdmFsdWUgLi4uIHRoZXJlZm9yZVxuICAgICAgICAgICAgLy8gd2Ugc2hvdWxkIHNraXAgdG8gdGhlIG5leHQgZW50cnlcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZVVSSSA9IGF0dHJzW2krK107XG4gICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IGF0dHJzW2krK107XG4gICAgICAgICAgICBjb25zdCBhdHRyVmFsID0gYXR0cnNbaSsrXTtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJTZXRBdHRyaWJ1dGUrKztcbiAgICAgICAgICAgIGlzUHJvYyA/XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuc2V0QXR0cmlidXRlKG5hdGl2ZSwgYXR0ck5hbWUsIGF0dHJWYWwsIG5hbWVzcGFjZVVSSSkgOlxuICAgICAgICAgICAgICAgIG5hdGl2ZS5zZXRBdHRyaWJ1dGVOUyhuYW1lc3BhY2VVUkksIGF0dHJOYW1lLCBhdHRyVmFsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGF0dHJOYW1lIGlzIHN0cmluZztcbiAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gdmFsdWU7XG4gICAgICAgICAgICBjb25zdCBhdHRyVmFsID0gYXR0cnNbKytpXTtcbiAgICAgICAgICAgIC8vIFN0YW5kYXJkIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJTZXRBdHRyaWJ1dGUrKztcbiAgICAgICAgICAgIGlmIChpc0FuaW1hdGlvblByb3AoYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUHJvYykge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5zZXRQcm9wZXJ0eShuYXRpdmUsIGF0dHJOYW1lLCBhdHRyVmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc1Byb2MgP1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5zZXRBdHRyaWJ1dGUobmF0aXZlLCBhdHRyTmFtZSwgYXR0clZhbCkgOlxuICAgICAgICAgICAgICAgICAgICBuYXRpdmUuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBhdHRyVmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBhbm90aGVyIHBpZWNlIG9mIGNvZGUgbWF5IGl0ZXJhdGUgb3ZlciB0aGUgc2FtZSBhdHRyaWJ1dGVzIGFycmF5LiBUaGVyZWZvcmVcbiAgICAvLyBpdCBtYXkgYmUgaGVscGZ1bCB0byByZXR1cm4gdGhlIGV4YWN0IHNwb3Qgd2hlcmUgdGhlIGF0dHJpYnV0ZXMgYXJyYXkgZXhpdGVkXG4gICAgLy8gd2hldGhlciBieSBydW5uaW5nIGludG8gYW4gdW5zdXBwb3J0ZWQgbWFya2VyIG9yIGlmIGFsbCB0aGUgc3RhdGljIHZhbHVlcyB3ZXJlXG4gICAgLy8gaXRlcmF0ZWQgb3Zlci5cbiAgICByZXR1cm4gaTtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIG1hcmtlciB0aGF0IGluZGljYXRlcyB0aGF0IHRoZSBmb2xsb3dpbmdcbiAqIGF0dHJpYnV0ZSB2YWx1ZXMgaW4gYSBgVEF0dHJpYnV0ZXNgIGFycmF5IGFyZSBvbmx5IHRoZSBuYW1lcyBvZiBhdHRyaWJ1dGVzLFxuICogYW5kIG5vdCBuYW1lLXZhbHVlIHBhaXJzLlxuICogQHBhcmFtIG1hcmtlciBUaGUgYXR0cmlidXRlIG1hcmtlciB0byB0ZXN0LlxuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgbWFya2VyIGlzIGEgXCJuYW1lLW9ubHlcIiBtYXJrZXIgKGUuZy4gYEJpbmRpbmdzYCwgYFRlbXBsYXRlYCBvciBgSTE4bmApLlxuICovXG5mdW5jdGlvbiBpc05hbWVPbmx5QXR0cmlidXRlTWFya2VyKG1hcmtlcikge1xuICAgIHJldHVybiBtYXJrZXIgPT09IDMgLyogQmluZGluZ3MgKi8gfHwgbWFya2VyID09PSA0IC8qIFRlbXBsYXRlICovIHx8XG4gICAgICAgIG1hcmtlciA9PT0gNiAvKiBJMThuICovO1xufVxuZnVuY3Rpb24gaXNBbmltYXRpb25Qcm9wKG5hbWUpIHtcbiAgICAvLyBQZXJmIG5vdGU6IGFjY2Vzc2luZyBjaGFyQ29kZUF0IHRvIGNoZWNrIGZvciB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGEgc3RyaW5nIGlzIGZhc3RlciBhc1xuICAgIC8vIGNvbXBhcmVkIHRvIGFjY2Vzc2luZyBhIGNoYXJhY3RlciBhdCBpbmRleCAwIChleC4gbmFtZVswXSkuIFRoZSBtYWluIHJlYXNvbiBmb3IgdGhpcyBpcyB0aGF0XG4gICAgLy8gY2hhckNvZGVBdCBkb2Vzbid0IGFsbG9jYXRlIG1lbW9yeSB0byByZXR1cm4gYSBzdWJzdHJpbmcuXG4gICAgcmV0dXJuIG5hbWUuY2hhckNvZGVBdCgwKSA9PT0gNjQgLyogQVRfU0lHTiAqLztcbn1cbi8qKlxuICogTWVyZ2VzIGBzcmNgIGBUQXR0cmlidXRlc2AgaW50byBgZHN0YCBgVEF0dHJpYnV0ZXNgIHJlbW92aW5nIGFueSBkdXBsaWNhdGVzIGluIHRoZSBwcm9jZXNzLlxuICpcbiAqIFRoaXMgbWVyZ2UgZnVuY3Rpb24ga2VlcHMgdGhlIG9yZGVyIG9mIGF0dHJzIHNhbWUuXG4gKlxuICogQHBhcmFtIGRzdCBMb2NhdGlvbiBvZiB3aGVyZSB0aGUgbWVyZ2VkIGBUQXR0cmlidXRlc2Agc2hvdWxkIGVuZCB1cC5cbiAqIEBwYXJhbSBzcmMgYFRBdHRyaWJ1dGVzYCB3aGljaCBzaG91bGQgYmUgYXBwZW5kZWQgdG8gYGRzdGBcbiAqL1xuZnVuY3Rpb24gbWVyZ2VIb3N0QXR0cnMoZHN0LCBzcmMpIHtcbiAgICBpZiAoc3JjID09PSBudWxsIHx8IHNyYy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbiAgICBlbHNlIGlmIChkc3QgPT09IG51bGwgfHwgZHN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBXZSBoYXZlIHNvdXJjZSwgYnV0IGRzdCBpcyBlbXB0eSwganVzdCBtYWtlIGEgY29weS5cbiAgICAgICAgZHN0ID0gc3JjLnNsaWNlKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgc3JjTWFya2VyID0gLTEgLyogSW1wbGljaXRBdHRyaWJ1dGVzICovO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNyYy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHNyY1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBzcmNNYXJrZXIgPSBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHNyY01hcmtlciA9PT0gMCAvKiBOYW1lc3BhY2VVUkkgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FzZSB3aGVyZSB3ZSBuZWVkIHRvIGNvbnN1bWUgYGtleTFgLCBga2V5MmAsIGB2YWx1ZWAgaXRlbXMuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNyY01hcmtlciA9PT0gLTEgLyogSW1wbGljaXRBdHRyaWJ1dGVzICovIHx8XG4gICAgICAgICAgICAgICAgICAgIHNyY01hcmtlciA9PT0gMiAvKiBTdHlsZXMgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FzZSB3aGVyZSB3ZSBoYXZlIHRvIGNvbnN1bWUgYGtleTFgIGFuZCBgdmFsdWVgIG9ubHkuXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlSG9zdEF0dHJpYnV0ZShkc3QsIHNyY01hcmtlciwgaXRlbSwgbnVsbCwgc3JjWysraV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FzZSB3aGVyZSB3ZSBoYXZlIHRvIGNvbnN1bWUgYGtleTFgIG9ubHkuXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlSG9zdEF0dHJpYnV0ZShkc3QsIHNyY01hcmtlciwgaXRlbSwgbnVsbCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkc3Q7XG59XG4vKipcbiAqIEFwcGVuZCBga2V5YC9gdmFsdWVgIHRvIGV4aXN0aW5nIGBUQXR0cmlidXRlc2AgdGFraW5nIHJlZ2lvbiBtYXJrZXIgYW5kIGR1cGxpY2F0ZXMgaW50byBhY2NvdW50LlxuICpcbiAqIEBwYXJhbSBkc3QgYFRBdHRyaWJ1dGVzYCB0byBhcHBlbmQgdG8uXG4gKiBAcGFyYW0gbWFya2VyIFJlZ2lvbiB3aGVyZSB0aGUgYGtleWAvYHZhbHVlYCBzaG91bGQgYmUgYWRkZWQuXG4gKiBAcGFyYW0ga2V5MSBLZXkgdG8gYWRkIHRvIGBUQXR0cmlidXRlc2BcbiAqIEBwYXJhbSBrZXkyIEtleSB0byBhZGQgdG8gYFRBdHRyaWJ1dGVzYCAoaW4gY2FzZSBvZiBgQXR0cmlidXRlTWFya2VyLk5hbWVzcGFjZVVSSWApXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gYWRkIG9yIHRvIG92ZXJ3cml0ZSB0byBgVEF0dHJpYnV0ZXNgIE9ubHkgdXNlZCBpZiBgbWFya2VyYCBpcyBub3QgQ2xhc3MuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlSG9zdEF0dHJpYnV0ZShkc3QsIG1hcmtlciwga2V5MSwga2V5MiwgdmFsdWUpIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgLy8gQXNzdW1lIHRoYXQgbmV3IG1hcmtlcnMgd2lsbCBiZSBpbnNlcnRlZCBhdCB0aGUgZW5kLlxuICAgIGxldCBtYXJrZXJJbnNlcnRQb3NpdGlvbiA9IGRzdC5sZW5ndGg7XG4gICAgLy8gc2NhbiB1bnRpbCBjb3JyZWN0IHR5cGUuXG4gICAgaWYgKG1hcmtlciA9PT0gLTEgLyogSW1wbGljaXRBdHRyaWJ1dGVzICovKSB7XG4gICAgICAgIG1hcmtlckluc2VydFBvc2l0aW9uID0gLTE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB3aGlsZSAoaSA8IGRzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGRzdFZhbHVlID0gZHN0W2krK107XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRzdFZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGlmIChkc3RWYWx1ZSA9PT0gbWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckluc2VydFBvc2l0aW9uID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkc3RWYWx1ZSA+IG1hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHNhdmUgdGhpcyBhcyB3ZSB3YW50IHRoZSBtYXJrZXJzIHRvIGJlIGluc2VydGVkIGluIHNwZWNpZmljIG9yZGVyLlxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJJbnNlcnRQb3NpdGlvbiA9IGkgLSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gc2VhcmNoIHVudGlsIHlvdSBmaW5kIHBsYWNlIG9mIGluc2VydGlvblxuICAgIHdoaWxlIChpIDwgZHN0Lmxlbmd0aCkge1xuICAgICAgICBjb25zdCBpdGVtID0gZHN0W2ldO1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAvLyBzaW5jZSBgaWAgc3RhcnRlZCBhcyB0aGUgaW5kZXggYWZ0ZXIgdGhlIG1hcmtlciwgd2UgZGlkIG5vdCBmaW5kIGl0IGlmIHdlIGFyZSBhdCB0aGUgbmV4dFxuICAgICAgICAgICAgLy8gbWFya2VyXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpdGVtID09PSBrZXkxKSB7XG4gICAgICAgICAgICAvLyBXZSBhbHJlYWR5IGhhdmUgc2FtZSB0b2tlblxuICAgICAgICAgICAgaWYgKGtleTIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZHN0W2kgKyAxXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChrZXkyID09PSBkc3RbaSArIDFdKSB7XG4gICAgICAgICAgICAgICAgZHN0W2kgKyAyXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJbmNyZW1lbnQgY291bnRlci5cbiAgICAgICAgaSsrO1xuICAgICAgICBpZiAoa2V5MiAhPT0gbnVsbClcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKVxuICAgICAgICAgICAgaSsrO1xuICAgIH1cbiAgICAvLyBpbnNlcnQgYXQgbG9jYXRpb24uXG4gICAgaWYgKG1hcmtlckluc2VydFBvc2l0aW9uICE9PSAtMSkge1xuICAgICAgICBkc3Quc3BsaWNlKG1hcmtlckluc2VydFBvc2l0aW9uLCAwLCBtYXJrZXIpO1xuICAgICAgICBpID0gbWFya2VySW5zZXJ0UG9zaXRpb24gKyAxO1xuICAgIH1cbiAgICBkc3Quc3BsaWNlKGkrKywgMCwga2V5MSk7XG4gICAgaWYgKGtleTIgIT09IG51bGwpIHtcbiAgICAgICAgZHN0LnNwbGljZShpKyssIDAsIGtleTIpO1xuICAgIH1cbiAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgZHN0LnNwbGljZShpKyssIDAsIHZhbHVlKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8vIFBhcmVudCBJbmplY3RvciBVdGlscyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZ1bmN0aW9uIGhhc1BhcmVudEluamVjdG9yKHBhcmVudExvY2F0aW9uKSB7XG4gICAgcmV0dXJuIHBhcmVudExvY2F0aW9uICE9PSBOT19QQVJFTlRfSU5KRUNUT1I7XG59XG5mdW5jdGlvbiBnZXRQYXJlbnRJbmplY3RvckluZGV4KHBhcmVudExvY2F0aW9uKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcihwYXJlbnRMb2NhdGlvbiwgJ051bWJlciBleHBlY3RlZCcpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb3RFcXVhbChwYXJlbnRMb2NhdGlvbiwgLTEsICdOb3QgYSB2YWxpZCBzdGF0ZS4nKTtcbiAgICBjb25zdCBwYXJlbnRJbmplY3RvckluZGV4ID0gcGFyZW50TG9jYXRpb24gJiAzMjc2NyAvKiBJbmplY3RvckluZGV4TWFzayAqLztcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0R3JlYXRlclRoYW4ocGFyZW50SW5qZWN0b3JJbmRleCwgSEVBREVSX09GRlNFVCwgJ1BhcmVudCBpbmplY3RvciBtdXN0IGJlIHBvaW50aW5nIHBhc3QgSEVBREVSX09GRlNFVC4nKTtcbiAgICByZXR1cm4gcGFyZW50TG9jYXRpb24gJiAzMjc2NyAvKiBJbmplY3RvckluZGV4TWFzayAqLztcbn1cbmZ1bmN0aW9uIGdldFBhcmVudEluamVjdG9yVmlld09mZnNldChwYXJlbnRMb2NhdGlvbikge1xuICAgIHJldHVybiBwYXJlbnRMb2NhdGlvbiA+PiAxNiAvKiBWaWV3T2Zmc2V0U2hpZnQgKi87XG59XG4vKipcbiAqIFVud3JhcHMgYSBwYXJlbnQgaW5qZWN0b3IgbG9jYXRpb24gbnVtYmVyIHRvIGZpbmQgdGhlIHZpZXcgb2Zmc2V0IGZyb20gdGhlIGN1cnJlbnQgaW5qZWN0b3IsXG4gKiB0aGVuIHdhbGtzIHVwIHRoZSBkZWNsYXJhdGlvbiB2aWV3IHRyZWUgdW50aWwgdGhlIHZpZXcgaXMgZm91bmQgdGhhdCBjb250YWlucyB0aGUgcGFyZW50XG4gKiBpbmplY3Rvci5cbiAqXG4gKiBAcGFyYW0gbG9jYXRpb24gVGhlIGxvY2F0aW9uIG9mIHRoZSBwYXJlbnQgaW5qZWN0b3IsIHdoaWNoIGNvbnRhaW5zIHRoZSB2aWV3IG9mZnNldFxuICogQHBhcmFtIHN0YXJ0VmlldyBUaGUgTFZpZXcgaW5zdGFuY2UgZnJvbSB3aGljaCB0byBzdGFydCB3YWxraW5nIHVwIHRoZSB2aWV3IHRyZWVcbiAqIEByZXR1cm5zIFRoZSBMVmlldyBpbnN0YW5jZSB0aGF0IGNvbnRhaW5zIHRoZSBwYXJlbnQgaW5qZWN0b3JcbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50SW5qZWN0b3JWaWV3KGxvY2F0aW9uLCBzdGFydFZpZXcpIHtcbiAgICBsZXQgdmlld09mZnNldCA9IGdldFBhcmVudEluamVjdG9yVmlld09mZnNldChsb2NhdGlvbik7XG4gICAgbGV0IHBhcmVudFZpZXcgPSBzdGFydFZpZXc7XG4gICAgLy8gRm9yIG1vc3QgY2FzZXMsIHRoZSBwYXJlbnQgaW5qZWN0b3IgY2FuIGJlIGZvdW5kIG9uIHRoZSBob3N0IG5vZGUgKGUuZy4gZm9yIGNvbXBvbmVudFxuICAgIC8vIG9yIGNvbnRhaW5lciksIGJ1dCB3ZSBtdXN0IGtlZXAgdGhlIGxvb3AgaGVyZSB0byBzdXBwb3J0IHRoZSByYXJlciBjYXNlIG9mIGRlZXBseSBuZXN0ZWRcbiAgICAvLyA8bmctdGVtcGxhdGU+IHRhZ3Mgb3IgaW5saW5lIHZpZXdzLCB3aGVyZSB0aGUgcGFyZW50IGluamVjdG9yIG1pZ2h0IGxpdmUgbWFueSB2aWV3c1xuICAgIC8vIGFib3ZlIHRoZSBjaGlsZCBpbmplY3Rvci5cbiAgICB3aGlsZSAodmlld09mZnNldCA+IDApIHtcbiAgICAgICAgcGFyZW50VmlldyA9IHBhcmVudFZpZXdbREVDTEFSQVRJT05fVklFV107XG4gICAgICAgIHZpZXdPZmZzZXQtLTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmVudFZpZXc7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEZWZpbmVzIGlmIHRoZSBjYWxsIHRvIGBpbmplY3RgIHNob3VsZCBpbmNsdWRlIGB2aWV3UHJvdmlkZXJzYCBpbiBpdHMgcmVzb2x1dGlvbi5cbiAqXG4gKiBUaGlzIGlzIHNldCB0byB0cnVlIHdoZW4gd2UgdHJ5IHRvIGluc3RhbnRpYXRlIGEgY29tcG9uZW50LiBUaGlzIHZhbHVlIGlzIHJlc2V0IGluXG4gKiBgZ2V0Tm9kZUluamVjdGFibGVgIHRvIGEgdmFsdWUgd2hpY2ggbWF0Y2hlcyB0aGUgZGVjbGFyYXRpb24gbG9jYXRpb24gb2YgdGhlIHRva2VuIGFib3V0IHRvIGJlXG4gKiBpbnN0YW50aWF0ZWQuIFRoaXMgaXMgZG9uZSBzbyB0aGF0IGlmIHdlIGFyZSBpbmplY3RpbmcgYSB0b2tlbiB3aGljaCB3YXMgZGVjbGFyZWQgb3V0c2lkZSBvZlxuICogYHZpZXdQcm92aWRlcnNgIHdlIGRvbid0IGFjY2lkZW50YWxseSBwdWxsIGB2aWV3UHJvdmlkZXJzYCBpbi5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYFxuICogQEluamVjdGFibGUoKVxuICogY2xhc3MgTXlTZXJ2aWNlIHtcbiAqICAgY29uc3RydWN0b3IocHVibGljIHZhbHVlOiBTdHJpbmcpIHt9XG4gKiB9XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHByb3ZpZGVyczogW1xuICogICAgIE15U2VydmljZSxcbiAqICAgICB7cHJvdmlkZTogU3RyaW5nLCB2YWx1ZTogJ3Byb3ZpZGVycycgfVxuICogICBdXG4gKiAgIHZpZXdQcm92aWRlcnM6IFtcbiAqICAgICB7cHJvdmlkZTogU3RyaW5nLCB2YWx1ZTogJ3ZpZXdQcm92aWRlcnMnfVxuICogICBdXG4gKiB9KVxuICogY2xhc3MgTXlDb21wb25lbnQge1xuICogICBjb25zdHJ1Y3RvcihteVNlcnZpY2U6IE15U2VydmljZSwgdmFsdWU6IFN0cmluZykge1xuICogICAgIC8vIFdlIGV4cGVjdCB0aGF0IENvbXBvbmVudCBjYW4gc2VlIGludG8gYHZpZXdQcm92aWRlcnNgLlxuICogICAgIGV4cGVjdCh2YWx1ZSkudG9FcXVhbCgndmlld1Byb3ZpZGVycycpO1xuICogICAgIC8vIGBNeVNlcnZpY2VgIHdhcyBub3QgZGVjbGFyZWQgaW4gYHZpZXdQcm92aWRlcnNgIGhlbmNlIGl0IGNhbid0IHNlZSBpdC5cbiAqICAgICBleHBlY3QobXlTZXJ2aWNlLnZhbHVlKS50b0VxdWFsKCdwcm92aWRlcnMnKTtcbiAqICAgfVxuICogfVxuICpcbiAqIGBgYFxuICovXG5sZXQgaW5jbHVkZVZpZXdQcm92aWRlcnMgPSB0cnVlO1xuZnVuY3Rpb24gc2V0SW5jbHVkZVZpZXdQcm92aWRlcnModikge1xuICAgIGNvbnN0IG9sZFZhbHVlID0gaW5jbHVkZVZpZXdQcm92aWRlcnM7XG4gICAgaW5jbHVkZVZpZXdQcm92aWRlcnMgPSB2O1xuICAgIHJldHVybiBvbGRWYWx1ZTtcbn1cbi8qKlxuICogVGhlIG51bWJlciBvZiBzbG90cyBpbiBlYWNoIGJsb29tIGZpbHRlciAodXNlZCBieSBESSkuIFRoZSBsYXJnZXIgdGhpcyBudW1iZXIsIHRoZSBmZXdlclxuICogZGlyZWN0aXZlcyB0aGF0IHdpbGwgc2hhcmUgc2xvdHMsIGFuZCB0aHVzLCB0aGUgZmV3ZXIgZmFsc2UgcG9zaXRpdmVzIHdoZW4gY2hlY2tpbmcgZm9yXG4gKiB0aGUgZXhpc3RlbmNlIG9mIGEgZGlyZWN0aXZlLlxuICovXG5jb25zdCBCTE9PTV9TSVpFID0gMjU2O1xuY29uc3QgQkxPT01fTUFTSyA9IEJMT09NX1NJWkUgLSAxO1xuLyoqXG4gKiBUaGUgbnVtYmVyIG9mIGJpdHMgdGhhdCBpcyByZXByZXNlbnRlZCBieSBhIHNpbmdsZSBibG9vbSBidWNrZXQuIEpTIGJpdCBvcGVyYXRpb25zIGFyZSAzMiBiaXRzLFxuICogc28gZWFjaCBidWNrZXQgcmVwcmVzZW50cyAzMiBkaXN0aW5jdCB0b2tlbnMgd2hpY2ggYWNjb3VudHMgZm9yIGxvZzIoMzIpID0gNSBiaXRzIG9mIGEgYmxvb20gaGFzaFxuICogbnVtYmVyLlxuICovXG5jb25zdCBCTE9PTV9CVUNLRVRfQklUUyA9IDU7XG4vKiogQ291bnRlciB1c2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMgZm9yIGRpcmVjdGl2ZXMuICovXG5sZXQgbmV4dE5nRWxlbWVudElkID0gMDtcbi8qKlxuICogUmVnaXN0ZXJzIHRoaXMgZGlyZWN0aXZlIGFzIHByZXNlbnQgaW4gaXRzIG5vZGUncyBpbmplY3RvciBieSBmbGlwcGluZyB0aGUgZGlyZWN0aXZlJ3NcbiAqIGNvcnJlc3BvbmRpbmcgYml0IGluIHRoZSBpbmplY3RvcidzIGJsb29tIGZpbHRlci5cbiAqXG4gKiBAcGFyYW0gaW5qZWN0b3JJbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgaW5qZWN0b3Igd2hlcmUgdGhpcyB0b2tlbiBzaG91bGQgYmUgcmVnaXN0ZXJlZFxuICogQHBhcmFtIHRWaWV3IFRoZSBUVmlldyBmb3IgdGhlIGluamVjdG9yJ3MgYmxvb20gZmlsdGVyc1xuICogQHBhcmFtIHR5cGUgVGhlIGRpcmVjdGl2ZSB0b2tlbiB0byByZWdpc3RlclxuICovXG5mdW5jdGlvbiBibG9vbUFkZChpbmplY3RvckluZGV4LCB0VmlldywgdHlwZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbCh0Vmlldy5maXJzdENyZWF0ZVBhc3MsIHRydWUsICdleHBlY3RlZCBmaXJzdENyZWF0ZVBhc3MgdG8gYmUgdHJ1ZScpO1xuICAgIGxldCBpZDtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlkID0gdHlwZS5jaGFyQ29kZUF0KDApIHx8IDA7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUuaGFzT3duUHJvcGVydHkoTkdfRUxFTUVOVF9JRCkpIHtcbiAgICAgICAgaWQgPSB0eXBlW05HX0VMRU1FTlRfSURdO1xuICAgIH1cbiAgICAvLyBTZXQgYSB1bmlxdWUgSUQgb24gdGhlIGRpcmVjdGl2ZSB0eXBlLCBzbyBpZiBzb21ldGhpbmcgdHJpZXMgdG8gaW5qZWN0IHRoZSBkaXJlY3RpdmUsXG4gICAgLy8gd2UgY2FuIGVhc2lseSByZXRyaWV2ZSB0aGUgSUQgYW5kIGhhc2ggaXQgaW50byB0aGUgYmxvb20gYml0IHRoYXQgc2hvdWxkIGJlIGNoZWNrZWQuXG4gICAgaWYgKGlkID09IG51bGwpIHtcbiAgICAgICAgaWQgPSB0eXBlW05HX0VMRU1FTlRfSURdID0gbmV4dE5nRWxlbWVudElkKys7XG4gICAgfVxuICAgIC8vIFdlIG9ubHkgaGF2ZSBCTE9PTV9TSVpFICgyNTYpIHNsb3RzIGluIG91ciBibG9vbSBmaWx0ZXIgKDggYnVja2V0cyAqIDMyIGJpdHMgZWFjaCksXG4gICAgLy8gc28gYWxsIHVuaXF1ZSBJRHMgbXVzdCBiZSBtb2R1bG8tZWQgaW50byBhIG51bWJlciBmcm9tIDAgLSAyNTUgdG8gZml0IGludG8gdGhlIGZpbHRlci5cbiAgICBjb25zdCBibG9vbUhhc2ggPSBpZCAmIEJMT09NX01BU0s7XG4gICAgLy8gQ3JlYXRlIGEgbWFzayB0aGF0IHRhcmdldHMgdGhlIHNwZWNpZmljIGJpdCBhc3NvY2lhdGVkIHdpdGggdGhlIGRpcmVjdGl2ZS5cbiAgICAvLyBKUyBiaXQgb3BlcmF0aW9ucyBhcmUgMzIgYml0cywgc28gdGhpcyB3aWxsIGJlIGEgbnVtYmVyIGJldHdlZW4gMl4wIGFuZCAyXjMxLCBjb3JyZXNwb25kaW5nXG4gICAgLy8gdG8gYml0IHBvc2l0aW9ucyAwIC0gMzEgaW4gYSAzMiBiaXQgaW50ZWdlci5cbiAgICBjb25zdCBtYXNrID0gMSA8PCBibG9vbUhhc2g7XG4gICAgLy8gRWFjaCBibG9vbSBidWNrZXQgaW4gYHREYXRhYCByZXByZXNlbnRzIGBCTE9PTV9CVUNLRVRfQklUU2AgbnVtYmVyIG9mIGJpdHMgb2YgYGJsb29tSGFzaGAuXG4gICAgLy8gQW55IGJpdHMgaW4gYGJsb29tSGFzaGAgYmV5b25kIGBCTE9PTV9CVUNLRVRfQklUU2AgaW5kaWNhdGUgdGhlIGJ1Y2tldCBvZmZzZXQgdGhhdCB0aGUgbWFza1xuICAgIC8vIHNob3VsZCBiZSB3cml0dGVuIHRvLlxuICAgIHRWaWV3LmRhdGFbaW5qZWN0b3JJbmRleCArIChibG9vbUhhc2ggPj4gQkxPT01fQlVDS0VUX0JJVFMpXSB8PSBtYXNrO1xufVxuLyoqXG4gKiBDcmVhdGVzIChvciBnZXRzIGFuIGV4aXN0aW5nKSBpbmplY3RvciBmb3IgYSBnaXZlbiBlbGVtZW50IG9yIGNvbnRhaW5lci5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgZm9yIHdoaWNoIGFuIGluamVjdG9yIHNob3VsZCBiZSByZXRyaWV2ZWQgLyBjcmVhdGVkLlxuICogQHBhcmFtIGxWaWV3IFZpZXcgd2hlcmUgdGhlIG5vZGUgaXMgc3RvcmVkXG4gKiBAcmV0dXJucyBOb2RlIGluamVjdG9yXG4gKi9cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlTm9kZUluamVjdG9yRm9yTm9kZSh0Tm9kZSwgbFZpZXcpIHtcbiAgICBjb25zdCBleGlzdGluZ0luamVjdG9ySW5kZXggPSBnZXRJbmplY3RvckluZGV4KHROb2RlLCBsVmlldyk7XG4gICAgaWYgKGV4aXN0aW5nSW5qZWN0b3JJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nSW5qZWN0b3JJbmRleDtcbiAgICB9XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICB0Tm9kZS5pbmplY3RvckluZGV4ID0gbFZpZXcubGVuZ3RoO1xuICAgICAgICBpbnNlcnRCbG9vbSh0Vmlldy5kYXRhLCB0Tm9kZSk7IC8vIGZvdW5kYXRpb24gZm9yIG5vZGUgYmxvb21cbiAgICAgICAgaW5zZXJ0Qmxvb20obFZpZXcsIG51bGwpOyAvLyBmb3VuZGF0aW9uIGZvciBjdW11bGF0aXZlIGJsb29tXG4gICAgICAgIGluc2VydEJsb29tKHRWaWV3LmJsdWVwcmludCwgbnVsbCk7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudExvYyA9IGdldFBhcmVudEluamVjdG9yTG9jYXRpb24odE5vZGUsIGxWaWV3KTtcbiAgICBjb25zdCBpbmplY3RvckluZGV4ID0gdE5vZGUuaW5qZWN0b3JJbmRleDtcbiAgICAvLyBJZiBhIHBhcmVudCBpbmplY3RvciBjYW4ndCBiZSBmb3VuZCwgaXRzIGxvY2F0aW9uIGlzIHNldCB0byAtMS5cbiAgICAvLyBJbiB0aGF0IGNhc2UsIHdlIGRvbid0IG5lZWQgdG8gc2V0IHVwIGEgY3VtdWxhdGl2ZSBibG9vbVxuICAgIGlmIChoYXNQYXJlbnRJbmplY3RvcihwYXJlbnRMb2MpKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudEluZGV4ID0gZ2V0UGFyZW50SW5qZWN0b3JJbmRleChwYXJlbnRMb2MpO1xuICAgICAgICBjb25zdCBwYXJlbnRMVmlldyA9IGdldFBhcmVudEluamVjdG9yVmlldyhwYXJlbnRMb2MsIGxWaWV3KTtcbiAgICAgICAgY29uc3QgcGFyZW50RGF0YSA9IHBhcmVudExWaWV3W1RWSUVXXS5kYXRhO1xuICAgICAgICAvLyBDcmVhdGVzIGEgY3VtdWxhdGl2ZSBibG9vbSBmaWx0ZXIgdGhhdCBtZXJnZXMgdGhlIHBhcmVudCdzIGJsb29tIGZpbHRlclxuICAgICAgICAvLyBhbmQgaXRzIG93biBjdW11bGF0aXZlIGJsb29tICh3aGljaCBjb250YWlucyB0b2tlbnMgZm9yIGFsbCBhbmNlc3RvcnMpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOCAvKiBCTE9PTV9TSVpFICovOyBpKyspIHtcbiAgICAgICAgICAgIGxWaWV3W2luamVjdG9ySW5kZXggKyBpXSA9IHBhcmVudExWaWV3W3BhcmVudEluZGV4ICsgaV0gfCBwYXJlbnREYXRhW3BhcmVudEluZGV4ICsgaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgbFZpZXdbaW5qZWN0b3JJbmRleCArIDggLyogUEFSRU5UICovXSA9IHBhcmVudExvYztcbiAgICByZXR1cm4gaW5qZWN0b3JJbmRleDtcbn1cbmZ1bmN0aW9uIGluc2VydEJsb29tKGFyciwgZm9vdGVyKSB7XG4gICAgYXJyLnB1c2goMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgZm9vdGVyKTtcbn1cbmZ1bmN0aW9uIGdldEluamVjdG9ySW5kZXgodE5vZGUsIGxWaWV3KSB7XG4gICAgaWYgKHROb2RlLmluamVjdG9ySW5kZXggPT09IC0xIHx8XG4gICAgICAgIC8vIElmIHRoZSBpbmplY3RvciBpbmRleCBpcyB0aGUgc2FtZSBhcyBpdHMgcGFyZW50J3MgaW5qZWN0b3IgaW5kZXgsIHRoZW4gdGhlIGluZGV4IGhhcyBiZWVuXG4gICAgICAgIC8vIGNvcGllZCBkb3duIGZyb20gdGhlIHBhcmVudCBub2RlLiBObyBpbmplY3RvciBoYXMgYmVlbiBjcmVhdGVkIHlldCBvbiB0aGlzIG5vZGUuXG4gICAgICAgICh0Tm9kZS5wYXJlbnQgJiYgdE5vZGUucGFyZW50LmluamVjdG9ySW5kZXggPT09IHROb2RlLmluamVjdG9ySW5kZXgpIHx8XG4gICAgICAgIC8vIEFmdGVyIHRoZSBmaXJzdCB0ZW1wbGF0ZSBwYXNzLCB0aGUgaW5qZWN0b3IgaW5kZXggbWlnaHQgZXhpc3QgYnV0IHRoZSBwYXJlbnQgdmFsdWVzXG4gICAgICAgIC8vIG1pZ2h0IG5vdCBoYXZlIGJlZW4gY2FsY3VsYXRlZCB5ZXQgZm9yIHRoaXMgaW5zdGFuY2VcbiAgICAgICAgbFZpZXdbdE5vZGUuaW5qZWN0b3JJbmRleCArIDggLyogUEFSRU5UICovXSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCB0Tm9kZS5pbmplY3RvckluZGV4KTtcbiAgICAgICAgcmV0dXJuIHROb2RlLmluamVjdG9ySW5kZXg7XG4gICAgfVxufVxuLyoqXG4gKiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIHBhcmVudCBpbmplY3Rvciwgd2l0aCBhIHZpZXcgb2Zmc2V0IGlmIGFwcGxpY2FibGUuIFVzZWQgdG8gc2V0IHRoZVxuICogcGFyZW50IGluamVjdG9yIGluaXRpYWxseS5cbiAqXG4gKiBAcmV0dXJucyBSZXR1cm5zIGEgbnVtYmVyIHRoYXQgaXMgdGhlIGNvbWJpbmF0aW9uIG9mIHRoZSBudW1iZXIgb2YgTFZpZXdzIHRoYXQgd2UgaGF2ZSB0byBnbyB1cFxuICogdG8gZmluZCB0aGUgTFZpZXcgY29udGFpbmluZyB0aGUgcGFyZW50IGluamVjdCBBTkQgdGhlIGluZGV4IG9mIHRoZSBpbmplY3RvciB3aXRoaW4gdGhhdCBMVmlldy5cbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50SW5qZWN0b3JMb2NhdGlvbih0Tm9kZSwgbFZpZXcpIHtcbiAgICBpZiAodE5vZGUucGFyZW50ICYmIHROb2RlLnBhcmVudC5pbmplY3RvckluZGV4ICE9PSAtMSkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgcGFyZW50IGBUTm9kZWAgYW5kIHRoZXJlIGlzIGFuIGluamVjdG9yIGFzc29jaWF0ZWQgd2l0aCBpdCB3ZSBhcmUgZG9uZSwgYmVjYXVzZVxuICAgICAgICAvLyB0aGUgcGFyZW50IGluamVjdG9yIGlzIHdpdGhpbiB0aGUgY3VycmVudCBgTFZpZXdgLlxuICAgICAgICByZXR1cm4gdE5vZGUucGFyZW50LmluamVjdG9ySW5kZXg7IC8vIFZpZXdPZmZzZXQgaXMgMFxuICAgIH1cbiAgICAvLyBXaGVuIHBhcmVudCBpbmplY3RvciBsb2NhdGlvbiBpcyBjb21wdXRlZCBpdCBtYXkgYmUgb3V0c2lkZSBvZiB0aGUgY3VycmVudCB2aWV3LiAoaWUgaXQgY291bGRcbiAgICAvLyBiZSBwb2ludGluZyB0byBhIGRlY2xhcmVkIHBhcmVudCBsb2NhdGlvbikuIFRoaXMgdmFyaWFibGUgc3RvcmVzIG51bWJlciBvZiBkZWNsYXJhdGlvbiBwYXJlbnRzXG4gICAgLy8gd2UgbmVlZCB0byB3YWxrIHVwIGluIG9yZGVyIHRvIGZpbmQgdGhlIHBhcmVudCBpbmplY3RvciBsb2NhdGlvbi5cbiAgICBsZXQgZGVjbGFyYXRpb25WaWV3T2Zmc2V0ID0gMDtcbiAgICBsZXQgcGFyZW50VE5vZGUgPSBudWxsO1xuICAgIGxldCBsVmlld0N1cnNvciA9IGxWaWV3O1xuICAgIC8vIFRoZSBwYXJlbnQgaW5qZWN0b3IgaXMgbm90IGluIHRoZSBjdXJyZW50IGBMVmlld2AuIFdlIHdpbGwgaGF2ZSB0byB3YWxrIHRoZSBkZWNsYXJlZCBwYXJlbnRcbiAgICAvLyBgTFZpZXdgIGhpZXJhcmNoeSBhbmQgbG9vayBmb3IgaXQuIElmIHdlIHdhbGsgb2YgdGhlIHRvcCwgdGhhdCBtZWFucyB0aGF0IHRoZXJlIGlzIG5vIHBhcmVudFxuICAgIC8vIGBOb2RlSW5qZWN0b3JgLlxuICAgIHdoaWxlIChsVmlld0N1cnNvciAhPT0gbnVsbCkge1xuICAgICAgICAvLyBGaXJzdCBkZXRlcm1pbmUgdGhlIGBwYXJlbnRUTm9kZWAgbG9jYXRpb24uIFRoZSBwYXJlbnQgcG9pbnRlciBkaWZmZXJzIGJhc2VkIG9uIGBUVmlldy50eXBlYC5cbiAgICAgICAgY29uc3QgdFZpZXcgPSBsVmlld0N1cnNvcltUVklFV107XG4gICAgICAgIGNvbnN0IHRWaWV3VHlwZSA9IHRWaWV3LnR5cGU7XG4gICAgICAgIGlmICh0Vmlld1R5cGUgPT09IDIgLyogRW1iZWRkZWQgKi8pIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgIGFzc2VydERlZmluZWQodFZpZXcuZGVjbFROb2RlLCAnRW1iZWRkZWQgVE5vZGVzIHNob3VsZCBoYXZlIGRlY2xhcmF0aW9uIHBhcmVudHMuJyk7XG4gICAgICAgICAgICBwYXJlbnRUTm9kZSA9IHRWaWV3LmRlY2xUTm9kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0Vmlld1R5cGUgPT09IDEgLyogQ29tcG9uZW50ICovKSB7XG4gICAgICAgICAgICAvLyBDb21wb25lbnRzIGRvbid0IGhhdmUgYFRWaWV3LmRlY2xUTm9kZWAgYmVjYXVzZSBlYWNoIGluc3RhbmNlIG9mIGNvbXBvbmVudCBjb3VsZCBiZVxuICAgICAgICAgICAgLy8gaW5zZXJ0ZWQgaW4gZGlmZmVyZW50IGxvY2F0aW9uLCBoZW5jZSBgVFZpZXcuZGVjbFROb2RlYCBpcyBtZWFuaW5nbGVzcy5cbiAgICAgICAgICAgIHBhcmVudFROb2RlID0gbFZpZXdDdXJzb3JbVF9IT1NUXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbCh0Vmlldy50eXBlLCAwIC8qIFJvb3QgKi8sICdSb290IHR5cGUgZXhwZWN0ZWQnKTtcbiAgICAgICAgICAgIHBhcmVudFROb2RlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50VE5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgbm8gcGFyZW50LCB0aGFuIHdlIGFyZSBkb25lLlxuICAgICAgICAgICAgcmV0dXJuIE5PX1BBUkVOVF9JTkpFQ1RPUjtcbiAgICAgICAgfVxuICAgICAgICBuZ0Rldk1vZGUgJiYgcGFyZW50VE5vZGUgJiYgYXNzZXJ0VE5vZGVGb3JMVmlldyhwYXJlbnRUTm9kZSwgbFZpZXdDdXJzb3JbREVDTEFSQVRJT05fVklFV10pO1xuICAgICAgICAvLyBFdmVyeSBpdGVyYXRpb24gb2YgdGhlIGxvb3AgcmVxdWlyZXMgdGhhdCB3ZSBnbyB0byB0aGUgZGVjbGFyZWQgcGFyZW50LlxuICAgICAgICBkZWNsYXJhdGlvblZpZXdPZmZzZXQrKztcbiAgICAgICAgbFZpZXdDdXJzb3IgPSBsVmlld0N1cnNvcltERUNMQVJBVElPTl9WSUVXXTtcbiAgICAgICAgaWYgKHBhcmVudFROb2RlLmluamVjdG9ySW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBXZSBmb3VuZCBhIE5vZGVJbmplY3RvciB3aGljaCBwb2ludHMgdG8gc29tZXRoaW5nLlxuICAgICAgICAgICAgcmV0dXJuIChwYXJlbnRUTm9kZS5pbmplY3RvckluZGV4IHxcbiAgICAgICAgICAgICAgICAoZGVjbGFyYXRpb25WaWV3T2Zmc2V0IDw8IDE2IC8qIFZpZXdPZmZzZXRTaGlmdCAqLykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBOT19QQVJFTlRfSU5KRUNUT1I7XG59XG4vKipcbiAqIE1ha2VzIGEgdHlwZSBvciBhbiBpbmplY3Rpb24gdG9rZW4gcHVibGljIHRvIHRoZSBESSBzeXN0ZW0gYnkgYWRkaW5nIGl0IHRvIGFuXG4gKiBpbmplY3RvcidzIGJsb29tIGZpbHRlci5cbiAqXG4gKiBAcGFyYW0gZGkgVGhlIG5vZGUgaW5qZWN0b3IgaW4gd2hpY2ggYSBkaXJlY3RpdmUgd2lsbCBiZSBhZGRlZFxuICogQHBhcmFtIHRva2VuIFRoZSB0eXBlIG9yIHRoZSBpbmplY3Rpb24gdG9rZW4gdG8gYmUgbWFkZSBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gZGlQdWJsaWNJbkluamVjdG9yKGluamVjdG9ySW5kZXgsIHRWaWV3LCB0b2tlbikge1xuICAgIGJsb29tQWRkKGluamVjdG9ySW5kZXgsIHRWaWV3LCB0b2tlbik7XG59XG4vKipcbiAqIEluamVjdCBzdGF0aWMgYXR0cmlidXRlIHZhbHVlIGludG8gZGlyZWN0aXZlIGNvbnN0cnVjdG9yLlxuICpcbiAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgd2l0aCBgZmFjdG9yeWAgZnVuY3Rpb25zIHdoaWNoIGFyZSBnZW5lcmF0ZWQgYXMgcGFydCBvZlxuICogYGRlZmluZURpcmVjdGl2ZWAgb3IgYGRlZmluZUNvbXBvbmVudGAuIFRoZSBtZXRob2QgcmV0cmlldmVzIHRoZSBzdGF0aWMgdmFsdWVcbiAqIG9mIGFuIGF0dHJpYnV0ZS4gKER5bmFtaWMgYXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZCBzaW5jZSB0aGV5IGFyZSBub3QgcmVzb2x2ZWRcbiAqICBhdCB0aGUgdGltZSBvZiBpbmplY3Rpb24gYW5kIGNhbiBjaGFuZ2Ugb3ZlciB0aW1lLilcbiAqXG4gKiAjIEV4YW1wbGVcbiAqIEdpdmVuOlxuICogYGBgXG4gKiBAQ29tcG9uZW50KC4uLilcbiAqIGNsYXNzIE15Q29tcG9uZW50IHtcbiAqICAgY29uc3RydWN0b3IoQEF0dHJpYnV0ZSgndGl0bGUnKSB0aXRsZTogc3RyaW5nKSB7IC4uLiB9XG4gKiB9XG4gKiBgYGBcbiAqIFdoZW4gaW5zdGFudGlhdGVkIHdpdGhcbiAqIGBgYFxuICogPG15LWNvbXBvbmVudCB0aXRsZT1cIkhlbGxvXCI+PC9teS1jb21wb25lbnQ+XG4gKiBgYGBcbiAqXG4gKiBUaGVuIGZhY3RvcnkgbWV0aG9kIGdlbmVyYXRlZCBpczpcbiAqIGBgYFxuICogTXlDb21wb25lbnQuybVjbXAgPSBkZWZpbmVDb21wb25lbnQoe1xuICogICBmYWN0b3J5OiAoKSA9PiBuZXcgTXlDb21wb25lbnQoaW5qZWN0QXR0cmlidXRlKCd0aXRsZScpKVxuICogICAuLi5cbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGluamVjdEF0dHJpYnV0ZUltcGwodE5vZGUsIGF0dHJOYW1lVG9JbmplY3QpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAxMiAvKiBBbnlDb250YWluZXIgKi8gfCAzIC8qIEFueVJOb2RlICovKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0Tm9kZSwgJ2V4cGVjdGluZyB0Tm9kZScpO1xuICAgIGlmIChhdHRyTmFtZVRvSW5qZWN0ID09PSAnY2xhc3MnKSB7XG4gICAgICAgIHJldHVybiB0Tm9kZS5jbGFzc2VzO1xuICAgIH1cbiAgICBpZiAoYXR0ck5hbWVUb0luamVjdCA9PT0gJ3N0eWxlJykge1xuICAgICAgICByZXR1cm4gdE5vZGUuc3R5bGVzO1xuICAgIH1cbiAgICBjb25zdCBhdHRycyA9IHROb2RlLmF0dHJzO1xuICAgIGlmIChhdHRycykge1xuICAgICAgICBjb25zdCBhdHRyc0xlbmd0aCA9IGF0dHJzLmxlbmd0aDtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IGF0dHJzTGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF0dHJzW2ldO1xuICAgICAgICAgICAgLy8gSWYgd2UgaGl0IGEgYEJpbmRpbmdzYCBvciBgVGVtcGxhdGVgIG1hcmtlciB0aGVuIHdlIGFyZSBkb25lLlxuICAgICAgICAgICAgaWYgKGlzTmFtZU9ubHlBdHRyaWJ1dGVNYXJrZXIodmFsdWUpKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gU2tpcCBuYW1lc3BhY2VkIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gMCAvKiBOYW1lc3BhY2VVUkkgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBza2lwIHRoZSBuZXh0IHR3byB2YWx1ZXNcbiAgICAgICAgICAgICAgICAvLyBhcyBuYW1lc3BhY2VkIGF0dHJpYnV0ZXMgbG9va3MgbGlrZVxuICAgICAgICAgICAgICAgIC8vIFsuLi4sIEF0dHJpYnV0ZU1hcmtlci5OYW1lc3BhY2VVUkksICdodHRwOi8vc29tZXVyaS5jb20vdGVzdCcsICd0ZXN0OmV4aXN0JyxcbiAgICAgICAgICAgICAgICAvLyAnZXhpc3RWYWx1ZScsIC4uLl1cbiAgICAgICAgICAgICAgICBpID0gaSArIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgLy8gU2tpcCB0byB0aGUgZmlyc3QgdmFsdWUgb2YgdGhlIG1hcmtlZCBhdHRyaWJ1dGUuXG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgYXR0cnNMZW5ndGggJiYgdHlwZW9mIGF0dHJzW2ldID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IGF0dHJOYW1lVG9JbmplY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnNbaSArIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaSA9IGkgKyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gbm90Rm91bmRWYWx1ZU9yVGhyb3cobm90Rm91bmRWYWx1ZSwgdG9rZW4sIGZsYWdzKSB7XG4gICAgaWYgKGZsYWdzICYgSW5qZWN0RmxhZ3MuT3B0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIG5vdEZvdW5kVmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvd1Byb3ZpZGVyTm90Rm91bmRFcnJvcih0b2tlbiwgJ05vZGVJbmplY3RvcicpO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgdmFsdWUgYXNzb2NpYXRlZCB0byB0aGUgZ2l2ZW4gdG9rZW4gZnJvbSB0aGUgTW9kdWxlSW5qZWN0b3Igb3IgdGhyb3dzIGV4Y2VwdGlvblxuICpcbiAqIEBwYXJhbSBsVmlldyBUaGUgYExWaWV3YCB0aGF0IGNvbnRhaW5zIHRoZSBgdE5vZGVgXG4gKiBAcGFyYW0gdG9rZW4gVGhlIHRva2VuIHRvIGxvb2sgZm9yXG4gKiBAcGFyYW0gZmxhZ3MgSW5qZWN0aW9uIGZsYWdzXG4gKiBAcGFyYW0gbm90Rm91bmRWYWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIHdoZW4gdGhlIGluamVjdGlvbiBmbGFncyBpcyBgSW5qZWN0RmxhZ3MuT3B0aW9uYWxgXG4gKiBAcmV0dXJucyB0aGUgdmFsdWUgZnJvbSB0aGUgaW5qZWN0b3Igb3IgdGhyb3dzIGFuIGV4Y2VwdGlvblxuICovXG5mdW5jdGlvbiBsb29rdXBUb2tlblVzaW5nTW9kdWxlSW5qZWN0b3IobFZpZXcsIHRva2VuLCBmbGFncywgbm90Rm91bmRWYWx1ZSkge1xuICAgIGlmIChmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsICYmIG5vdEZvdW5kVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBUaGlzIG11c3QgYmUgc2V0IG9yIHRoZSBOdWxsSW5qZWN0b3Igd2lsbCB0aHJvdyBmb3Igb3B0aW9uYWwgZGVwc1xuICAgICAgICBub3RGb3VuZFZhbHVlID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKChmbGFncyAmIChJbmplY3RGbGFncy5TZWxmIHwgSW5qZWN0RmxhZ3MuSG9zdCkpID09PSAwKSB7XG4gICAgICAgIGNvbnN0IG1vZHVsZUluamVjdG9yID0gbFZpZXdbSU5KRUNUT1IkMV07XG4gICAgICAgIC8vIHN3aXRjaCB0byBgaW5qZWN0SW5qZWN0b3JPbmx5YCBpbXBsZW1lbnRhdGlvbiBmb3IgbW9kdWxlIGluamVjdG9yLCBzaW5jZSBtb2R1bGUgaW5qZWN0b3JcbiAgICAgICAgLy8gc2hvdWxkIG5vdCBoYXZlIGFjY2VzcyB0byBDb21wb25lbnQvRGlyZWN0aXZlIERJIHNjb3BlICh0aGF0IG1heSBoYXBwZW4gdGhyb3VnaFxuICAgICAgICAvLyBgZGlyZWN0aXZlSW5qZWN0YCBpbXBsZW1lbnRhdGlvbilcbiAgICAgICAgY29uc3QgcHJldmlvdXNJbmplY3RJbXBsZW1lbnRhdGlvbiA9IHNldEluamVjdEltcGxlbWVudGF0aW9uKHVuZGVmaW5lZCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAobW9kdWxlSW5qZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kdWxlSW5qZWN0b3IuZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlLCBmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3RSb290TGltcE1vZGUodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGZsYWdzICYgSW5qZWN0RmxhZ3MuT3B0aW9uYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SW5qZWN0SW1wbGVtZW50YXRpb24ocHJldmlvdXNJbmplY3RJbXBsZW1lbnRhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vdEZvdW5kVmFsdWVPclRocm93KG5vdEZvdW5kVmFsdWUsIHRva2VuLCBmbGFncyk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHZhbHVlIGFzc29jaWF0ZWQgdG8gdGhlIGdpdmVuIHRva2VuIGZyb20gdGhlIE5vZGVJbmplY3RvcnMgPT4gTW9kdWxlSW5qZWN0b3IuXG4gKlxuICogTG9vayBmb3IgdGhlIGluamVjdG9yIHByb3ZpZGluZyB0aGUgdG9rZW4gYnkgd2Fsa2luZyB1cCB0aGUgbm9kZSBpbmplY3RvciB0cmVlIGFuZCB0aGVuXG4gKiB0aGUgbW9kdWxlIGluamVjdG9yIHRyZWUuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBwYXRjaGVzIGB0b2tlbmAgd2l0aCBgX19OR19FTEVNRU5UX0lEX19gIHdoaWNoIGNvbnRhaW5zIHRoZSBpZCBmb3IgdGhlIGJsb29tXG4gKiBmaWx0ZXIuIGAtMWAgaXMgcmVzZXJ2ZWQgZm9yIGluamVjdGluZyBgSW5qZWN0b3JgIChpbXBsZW1lbnRlZCBieSBgTm9kZUluamVjdG9yYClcbiAqXG4gKiBAcGFyYW0gdE5vZGUgVGhlIE5vZGUgd2hlcmUgdGhlIHNlYXJjaCBmb3IgdGhlIGluamVjdG9yIHNob3VsZCBzdGFydFxuICogQHBhcmFtIGxWaWV3IFRoZSBgTFZpZXdgIHRoYXQgY29udGFpbnMgdGhlIGB0Tm9kZWBcbiAqIEBwYXJhbSB0b2tlbiBUaGUgdG9rZW4gdG8gbG9vayBmb3JcbiAqIEBwYXJhbSBmbGFncyBJbmplY3Rpb24gZmxhZ3NcbiAqIEBwYXJhbSBub3RGb3VuZFZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gd2hlbiB0aGUgaW5qZWN0aW9uIGZsYWdzIGlzIGBJbmplY3RGbGFncy5PcHRpb25hbGBcbiAqIEByZXR1cm5zIHRoZSB2YWx1ZSBmcm9tIHRoZSBpbmplY3RvciwgYG51bGxgIHdoZW4gbm90IGZvdW5kLCBvciBgbm90Rm91bmRWYWx1ZWAgaWYgcHJvdmlkZWRcbiAqL1xuZnVuY3Rpb24gZ2V0T3JDcmVhdGVJbmplY3RhYmxlKHROb2RlLCBsVmlldywgdG9rZW4sIGZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdCwgbm90Rm91bmRWYWx1ZSkge1xuICAgIGlmICh0Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBibG9vbUhhc2ggPSBibG9vbUhhc2hCaXRPckZhY3RvcnkodG9rZW4pO1xuICAgICAgICAvLyBJZiB0aGUgSUQgc3RvcmVkIGhlcmUgaXMgYSBmdW5jdGlvbiwgdGhpcyBpcyBhIHNwZWNpYWwgb2JqZWN0IGxpa2UgRWxlbWVudFJlZiBvciBUZW1wbGF0ZVJlZlxuICAgICAgICAvLyBzbyBqdXN0IGNhbGwgdGhlIGZhY3RvcnkgZnVuY3Rpb24gdG8gY3JlYXRlIGl0LlxuICAgICAgICBpZiAodHlwZW9mIGJsb29tSGFzaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaWYgKCFlbnRlckRJKGxWaWV3LCB0Tm9kZSwgZmxhZ3MpKSB7XG4gICAgICAgICAgICAgICAgLy8gRmFpbGVkIHRvIGVudGVyIERJLCB0cnkgbW9kdWxlIGluamVjdG9yIGluc3RlYWQuIElmIGEgdG9rZW4gaXMgaW5qZWN0ZWQgd2l0aCB0aGUgQEhvc3RcbiAgICAgICAgICAgICAgICAvLyBmbGFnLCB0aGUgbW9kdWxlIGluamVjdG9yIGlzIG5vdCBzZWFyY2hlZCBmb3IgdGhhdCB0b2tlbiBpbiBJdnkuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChmbGFncyAmIEluamVjdEZsYWdzLkhvc3QpID9cbiAgICAgICAgICAgICAgICAgICAgbm90Rm91bmRWYWx1ZU9yVGhyb3cobm90Rm91bmRWYWx1ZSwgdG9rZW4sIGZsYWdzKSA6XG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFRva2VuVXNpbmdNb2R1bGVJbmplY3RvcihsVmlldywgdG9rZW4sIGZsYWdzLCBub3RGb3VuZFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBibG9vbUhhc2goZmxhZ3MpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsICYmICEoZmxhZ3MgJiBJbmplY3RGbGFncy5PcHRpb25hbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3dQcm92aWRlck5vdEZvdW5kRXJyb3IodG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGxlYXZlREkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgYmxvb21IYXNoID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gQSByZWZlcmVuY2UgdG8gdGhlIHByZXZpb3VzIGluamVjdG9yIFRWaWV3IHRoYXQgd2FzIGZvdW5kIHdoaWxlIGNsaW1iaW5nIHRoZSBlbGVtZW50XG4gICAgICAgICAgICAvLyBpbmplY3RvciB0cmVlLiBUaGlzIGlzIHVzZWQgdG8ga25vdyBpZiB2aWV3UHJvdmlkZXJzIGNhbiBiZSBhY2Nlc3NlZCBvbiB0aGUgY3VycmVudFxuICAgICAgICAgICAgLy8gaW5qZWN0b3IuXG4gICAgICAgICAgICBsZXQgcHJldmlvdXNUVmlldyA9IG51bGw7XG4gICAgICAgICAgICBsZXQgaW5qZWN0b3JJbmRleCA9IGdldEluamVjdG9ySW5kZXgodE5vZGUsIGxWaWV3KTtcbiAgICAgICAgICAgIGxldCBwYXJlbnRMb2NhdGlvbiA9IE5PX1BBUkVOVF9JTkpFQ1RPUjtcbiAgICAgICAgICAgIGxldCBob3N0VEVsZW1lbnROb2RlID0gZmxhZ3MgJiBJbmplY3RGbGFncy5Ib3N0ID8gbFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddW1RfSE9TVF0gOiBudWxsO1xuICAgICAgICAgICAgLy8gSWYgd2Ugc2hvdWxkIHNraXAgdGhpcyBpbmplY3Rvciwgb3IgaWYgdGhlcmUgaXMgbm8gaW5qZWN0b3Igb24gdGhpcyBub2RlLCBzdGFydCBieVxuICAgICAgICAgICAgLy8gc2VhcmNoaW5nIHRoZSBwYXJlbnQgaW5qZWN0b3IuXG4gICAgICAgICAgICBpZiAoaW5qZWN0b3JJbmRleCA9PT0gLTEgfHwgZmxhZ3MgJiBJbmplY3RGbGFncy5Ta2lwU2VsZikge1xuICAgICAgICAgICAgICAgIHBhcmVudExvY2F0aW9uID0gaW5qZWN0b3JJbmRleCA9PT0gLTEgPyBnZXRQYXJlbnRJbmplY3RvckxvY2F0aW9uKHROb2RlLCBsVmlldykgOlxuICAgICAgICAgICAgICAgICAgICBsVmlld1tpbmplY3RvckluZGV4ICsgOCAvKiBQQVJFTlQgKi9dO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRMb2NhdGlvbiA9PT0gTk9fUEFSRU5UX0lOSkVDVE9SIHx8ICFzaG91bGRTZWFyY2hQYXJlbnQoZmxhZ3MsIGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICBpbmplY3RvckluZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1RWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgICAgICAgICAgICAgICAgICBpbmplY3RvckluZGV4ID0gZ2V0UGFyZW50SW5qZWN0b3JJbmRleChwYXJlbnRMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGxWaWV3ID0gZ2V0UGFyZW50SW5qZWN0b3JWaWV3KHBhcmVudExvY2F0aW9uLCBsVmlldyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVHJhdmVyc2UgdXAgdGhlIGluamVjdG9yIHRyZWUgdW50aWwgd2UgZmluZCBhIHBvdGVudGlhbCBtYXRjaCBvciB1bnRpbCB3ZSBrbm93IHRoZXJlXG4gICAgICAgICAgICAvLyAqaXNuJ3QqIGEgbWF0Y2guXG4gICAgICAgICAgICB3aGlsZSAoaW5qZWN0b3JJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm9kZUluamVjdG9yKGxWaWV3LCBpbmplY3RvckluZGV4KTtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGUgY3VycmVudCBpbmplY3Rvci4gSWYgaXQgbWF0Y2hlcywgc2VlIGlmIGl0IGNvbnRhaW5zIHRva2VuLlxuICAgICAgICAgICAgICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICBhc3NlcnRUTm9kZUZvckxWaWV3KHRWaWV3LmRhdGFbaW5qZWN0b3JJbmRleCArIDggLyogVE5PREUgKi9dLCBsVmlldyk7XG4gICAgICAgICAgICAgICAgaWYgKGJsb29tSGFzVG9rZW4oYmxvb21IYXNoLCBpbmplY3RvckluZGV4LCB0Vmlldy5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBoYXZlIGFuIGluamVjdG9yIHdoaWNoICptYXkqIGNvbnRhaW4gdGhlIHRva2VuLCBzbyB3ZSBzdGVwIHRocm91Z2hcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHByb3ZpZGVycyBhbmQgZGlyZWN0aXZlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGluamVjdG9yJ3MgY29ycmVzcG9uZGluZyBub2RlIHRvIGdldFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgaW5zdGFuY2UuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gc2VhcmNoVG9rZW5zT25JbmplY3RvcihpbmplY3RvckluZGV4LCBsVmlldywgdG9rZW4sIHByZXZpb3VzVFZpZXcsIGZsYWdzLCBob3N0VEVsZW1lbnROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlICE9PSBOT1RfRk9VTkQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJlbnRMb2NhdGlvbiA9IGxWaWV3W2luamVjdG9ySW5kZXggKyA4IC8qIFBBUkVOVCAqL107XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudExvY2F0aW9uICE9PSBOT19QQVJFTlRfSU5KRUNUT1IgJiZcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkU2VhcmNoUGFyZW50KGZsYWdzLCBsVmlld1tUVklFV10uZGF0YVtpbmplY3RvckluZGV4ICsgOCAvKiBUTk9ERSAqL10gPT09IGhvc3RURWxlbWVudE5vZGUpICYmXG4gICAgICAgICAgICAgICAgICAgIGJsb29tSGFzVG9rZW4oYmxvb21IYXNoLCBpbmplY3RvckluZGV4LCBsVmlldykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGRlZiB3YXNuJ3QgZm91bmQgYW55d2hlcmUgb24gdGhpcyBub2RlLCBzbyBpdCB3YXMgYSBmYWxzZSBwb3NpdGl2ZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gVHJhdmVyc2UgdXAgdGhlIHRyZWUgYW5kIGNvbnRpbnVlIHNlYXJjaGluZy5cbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNUVmlldyA9IHRWaWV3O1xuICAgICAgICAgICAgICAgICAgICBpbmplY3RvckluZGV4ID0gZ2V0UGFyZW50SW5qZWN0b3JJbmRleChwYXJlbnRMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGxWaWV3ID0gZ2V0UGFyZW50SW5qZWN0b3JWaWV3KHBhcmVudExvY2F0aW9uLCBsVmlldyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBzaG91bGQgbm90IHNlYXJjaCBwYXJlbnQgT1IgSWYgdGhlIGFuY2VzdG9yIGJsb29tIGZpbHRlciB2YWx1ZSBkb2VzIG5vdCBoYXZlIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBiaXQgY29ycmVzcG9uZGluZyB0byB0aGUgZGlyZWN0aXZlIHdlIGNhbiBnaXZlIHVwIG9uIHRyYXZlcnNpbmcgdXAgdG8gZmluZCB0aGUgc3BlY2lmaWNcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5qZWN0b3IuXG4gICAgICAgICAgICAgICAgICAgIGluamVjdG9ySW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxvb2t1cFRva2VuVXNpbmdNb2R1bGVJbmplY3RvcihsVmlldywgdG9rZW4sIGZsYWdzLCBub3RGb3VuZFZhbHVlKTtcbn1cbmNvbnN0IE5PVF9GT1VORCA9IHt9O1xuZnVuY3Rpb24gY3JlYXRlTm9kZUluamVjdG9yKCkge1xuICAgIHJldHVybiBuZXcgTm9kZUluamVjdG9yKGdldEN1cnJlbnRUTm9kZSgpLCBnZXRMVmlldygpKTtcbn1cbmZ1bmN0aW9uIHNlYXJjaFRva2Vuc09uSW5qZWN0b3IoaW5qZWN0b3JJbmRleCwgbFZpZXcsIHRva2VuLCBwcmV2aW91c1RWaWV3LCBmbGFncywgaG9zdFRFbGVtZW50Tm9kZSkge1xuICAgIGNvbnN0IGN1cnJlbnRUVmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICBjb25zdCB0Tm9kZSA9IGN1cnJlbnRUVmlldy5kYXRhW2luamVjdG9ySW5kZXggKyA4IC8qIFROT0RFICovXTtcbiAgICAvLyBGaXJzdCwgd2UgbmVlZCB0byBkZXRlcm1pbmUgaWYgdmlldyBwcm92aWRlcnMgY2FuIGJlIGFjY2Vzc2VkIGJ5IHRoZSBzdGFydGluZyBlbGVtZW50LlxuICAgIC8vIFRoZXJlIGFyZSB0d28gcG9zc2liaWxpdGllc1xuICAgIGNvbnN0IGNhbkFjY2Vzc1ZpZXdQcm92aWRlcnMgPSBwcmV2aW91c1RWaWV3ID09IG51bGwgP1xuICAgICAgICAvLyAxKSBUaGlzIGlzIHRoZSBmaXJzdCBpbnZvY2F0aW9uIGBwcmV2aW91c1RWaWV3ID09IG51bGxgIHdoaWNoIG1lYW5zIHRoYXQgd2UgYXJlIGF0IHRoZVxuICAgICAgICAvLyBgVE5vZGVgIG9mIHdoZXJlIGluamVjdG9yIGlzIHN0YXJ0aW5nIHRvIGxvb2suIEluIHN1Y2ggYSBjYXNlIHRoZSBvbmx5IHRpbWUgd2UgYXJlIGFsbG93ZWRcbiAgICAgICAgLy8gdG8gbG9vayBpbnRvIHRoZSBWaWV3UHJvdmlkZXJzIGlzIGlmOlxuICAgICAgICAvLyAtIHdlIGFyZSBvbiBhIGNvbXBvbmVudFxuICAgICAgICAvLyAtIEFORCB0aGUgaW5qZWN0b3Igc2V0IGBpbmNsdWRlVmlld1Byb3ZpZGVyc2AgdG8gdHJ1ZSAoaW1wbHlpbmcgdGhhdCB0aGUgdG9rZW4gY2FuIHNlZVxuICAgICAgICAvLyBWaWV3UHJvdmlkZXJzIGJlY2F1c2UgaXQgaXMgdGhlIENvbXBvbmVudCBvciBhIFNlcnZpY2Ugd2hpY2ggaXRzZWxmIHdhcyBkZWNsYXJlZCBpblxuICAgICAgICAvLyBWaWV3UHJvdmlkZXJzKVxuICAgICAgICAoaXNDb21wb25lbnRIb3N0KHROb2RlKSAmJiBpbmNsdWRlVmlld1Byb3ZpZGVycykgOlxuICAgICAgICAvLyAyKSBgcHJldmlvdXNUVmlldyAhPSBudWxsYCB3aGljaCBtZWFucyB0aGF0IHdlIGFyZSBub3cgd2Fsa2luZyBhY3Jvc3MgdGhlIHBhcmVudCBub2Rlcy5cbiAgICAgICAgLy8gSW4gc3VjaCBhIGNhc2Ugd2UgYXJlIG9ubHkgYWxsb3dlZCB0byBsb29rIGludG8gdGhlIFZpZXdQcm92aWRlcnMgaWY6XG4gICAgICAgIC8vIC0gV2UganVzdCBjcm9zc2VkIGZyb20gY2hpbGQgVmlldyB0byBQYXJlbnQgVmlldyBgcHJldmlvdXNUVmlldyAhPSBjdXJyZW50VFZpZXdgXG4gICAgICAgIC8vIC0gQU5EIHRoZSBwYXJlbnQgVE5vZGUgaXMgYW4gRWxlbWVudC5cbiAgICAgICAgLy8gVGhpcyBtZWFucyB0aGF0IHdlIGp1c3QgY2FtZSBmcm9tIHRoZSBDb21wb25lbnQncyBWaWV3IGFuZCB0aGVyZWZvcmUgYXJlIGFsbG93ZWQgdG8gc2VlXG4gICAgICAgIC8vIGludG8gdGhlIFZpZXdQcm92aWRlcnMuXG4gICAgICAgIChwcmV2aW91c1RWaWV3ICE9IGN1cnJlbnRUVmlldyAmJiAoKHROb2RlLnR5cGUgJiAzIC8qIEFueVJOb2RlICovKSAhPT0gMCkpO1xuICAgIC8vIFRoaXMgc3BlY2lhbCBjYXNlIGhhcHBlbnMgd2hlbiB0aGVyZSBpcyBhIEBob3N0IG9uIHRoZSBpbmplY3QgYW5kIHdoZW4gd2UgYXJlIHNlYXJjaGluZ1xuICAgIC8vIG9uIHRoZSBob3N0IGVsZW1lbnQgbm9kZS5cbiAgICBjb25zdCBpc0hvc3RTcGVjaWFsQ2FzZSA9IChmbGFncyAmIEluamVjdEZsYWdzLkhvc3QpICYmIGhvc3RURWxlbWVudE5vZGUgPT09IHROb2RlO1xuICAgIGNvbnN0IGluamVjdGFibGVJZHggPSBsb2NhdGVEaXJlY3RpdmVPclByb3ZpZGVyKHROb2RlLCBjdXJyZW50VFZpZXcsIHRva2VuLCBjYW5BY2Nlc3NWaWV3UHJvdmlkZXJzLCBpc0hvc3RTcGVjaWFsQ2FzZSk7XG4gICAgaWYgKGluamVjdGFibGVJZHggIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGdldE5vZGVJbmplY3RhYmxlKGxWaWV3LCBjdXJyZW50VFZpZXcsIGluamVjdGFibGVJZHgsIHROb2RlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBOT1RfRk9VTkQ7XG4gICAgfVxufVxuLyoqXG4gKiBTZWFyY2hlcyBmb3IgdGhlIGdpdmVuIHRva2VuIGFtb25nIHRoZSBub2RlJ3MgZGlyZWN0aXZlcyBhbmQgcHJvdmlkZXJzLlxuICpcbiAqIEBwYXJhbSB0Tm9kZSBUTm9kZSBvbiB3aGljaCBkaXJlY3RpdmVzIGFyZSBwcmVzZW50LlxuICogQHBhcmFtIHRWaWV3IFRoZSB0VmlldyB3ZSBhcmUgY3VycmVudGx5IHByb2Nlc3NpbmdcbiAqIEBwYXJhbSB0b2tlbiBQcm92aWRlciB0b2tlbiBvciB0eXBlIG9mIGEgZGlyZWN0aXZlIHRvIGxvb2sgZm9yLlxuICogQHBhcmFtIGNhbkFjY2Vzc1ZpZXdQcm92aWRlcnMgV2hldGhlciB2aWV3IHByb3ZpZGVycyBzaG91bGQgYmUgY29uc2lkZXJlZC5cbiAqIEBwYXJhbSBpc0hvc3RTcGVjaWFsQ2FzZSBXaGV0aGVyIHRoZSBob3N0IHNwZWNpYWwgY2FzZSBhcHBsaWVzLlxuICogQHJldHVybnMgSW5kZXggb2YgYSBmb3VuZCBkaXJlY3RpdmUgb3IgcHJvdmlkZXIsIG9yIG51bGwgd2hlbiBub25lIGZvdW5kLlxuICovXG5mdW5jdGlvbiBsb2NhdGVEaXJlY3RpdmVPclByb3ZpZGVyKHROb2RlLCB0VmlldywgdG9rZW4sIGNhbkFjY2Vzc1ZpZXdQcm92aWRlcnMsIGlzSG9zdFNwZWNpYWxDYXNlKSB7XG4gICAgY29uc3Qgbm9kZVByb3ZpZGVySW5kZXhlcyA9IHROb2RlLnByb3ZpZGVySW5kZXhlcztcbiAgICBjb25zdCB0SW5qZWN0YWJsZXMgPSB0Vmlldy5kYXRhO1xuICAgIGNvbnN0IGluamVjdGFibGVzU3RhcnQgPSBub2RlUHJvdmlkZXJJbmRleGVzICYgMTA0ODU3NSAvKiBQcm92aWRlcnNTdGFydEluZGV4TWFzayAqLztcbiAgICBjb25zdCBkaXJlY3RpdmVzU3RhcnQgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICBjb25zdCBkaXJlY3RpdmVFbmQgPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgY29uc3QgY3B0Vmlld1Byb3ZpZGVyc0NvdW50ID0gbm9kZVByb3ZpZGVySW5kZXhlcyA+PiAyMCAvKiBDcHRWaWV3UHJvdmlkZXJzQ291bnRTaGlmdCAqLztcbiAgICBjb25zdCBzdGFydGluZ0luZGV4ID0gY2FuQWNjZXNzVmlld1Byb3ZpZGVycyA/IGluamVjdGFibGVzU3RhcnQgOiBpbmplY3RhYmxlc1N0YXJ0ICsgY3B0Vmlld1Byb3ZpZGVyc0NvdW50O1xuICAgIC8vIFdoZW4gdGhlIGhvc3Qgc3BlY2lhbCBjYXNlIGFwcGxpZXMsIG9ubHkgdGhlIHZpZXdQcm92aWRlcnMgYW5kIHRoZSBjb21wb25lbnQgYXJlIHZpc2libGVcbiAgICBjb25zdCBlbmRJbmRleCA9IGlzSG9zdFNwZWNpYWxDYXNlID8gaW5qZWN0YWJsZXNTdGFydCArIGNwdFZpZXdQcm92aWRlcnNDb3VudCA6IGRpcmVjdGl2ZUVuZDtcbiAgICBmb3IgKGxldCBpID0gc3RhcnRpbmdJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXJUb2tlbk9yRGVmID0gdEluamVjdGFibGVzW2ldO1xuICAgICAgICBpZiAoaSA8IGRpcmVjdGl2ZXNTdGFydCAmJiB0b2tlbiA9PT0gcHJvdmlkZXJUb2tlbk9yRGVmIHx8XG4gICAgICAgICAgICBpID49IGRpcmVjdGl2ZXNTdGFydCAmJiBwcm92aWRlclRva2VuT3JEZWYudHlwZSA9PT0gdG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc0hvc3RTcGVjaWFsQ2FzZSkge1xuICAgICAgICBjb25zdCBkaXJEZWYgPSB0SW5qZWN0YWJsZXNbZGlyZWN0aXZlc1N0YXJ0XTtcbiAgICAgICAgaWYgKGRpckRlZiAmJiBpc0NvbXBvbmVudERlZihkaXJEZWYpICYmIGRpckRlZi50eXBlID09PSB0b2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZXNTdGFydDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogUmV0cmlldmUgb3IgaW5zdGFudGlhdGUgdGhlIGluamVjdGFibGUgZnJvbSB0aGUgYExWaWV3YCBhdCBwYXJ0aWN1bGFyIGBpbmRleGAuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBjaGVja3MgdG8gc2VlIGlmIHRoZSB2YWx1ZSBoYXMgYWxyZWFkeSBiZWVuIGluc3RhbnRpYXRlZCBhbmQgaWYgc28gcmV0dXJucyB0aGVcbiAqIGNhY2hlZCBgaW5qZWN0YWJsZWAuIE90aGVyd2lzZSBpZiBpdCBkZXRlY3RzIHRoYXQgdGhlIHZhbHVlIGlzIHN0aWxsIGEgZmFjdG9yeSBpdFxuICogaW5zdGFudGlhdGVzIHRoZSBgaW5qZWN0YWJsZWAgYW5kIGNhY2hlcyB0aGUgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldE5vZGVJbmplY3RhYmxlKGxWaWV3LCB0VmlldywgaW5kZXgsIHROb2RlKSB7XG4gICAgbGV0IHZhbHVlID0gbFZpZXdbaW5kZXhdO1xuICAgIGNvbnN0IHREYXRhID0gdFZpZXcuZGF0YTtcbiAgICBpZiAoaXNGYWN0b3J5KHZhbHVlKSkge1xuICAgICAgICBjb25zdCBmYWN0b3J5ID0gdmFsdWU7XG4gICAgICAgIGlmIChmYWN0b3J5LnJlc29sdmluZykge1xuICAgICAgICAgICAgdGhyb3dDeWNsaWNEZXBlbmRlbmN5RXJyb3Ioc3RyaW5naWZ5Rm9yRXJyb3IodERhdGFbaW5kZXhdKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldmlvdXNJbmNsdWRlVmlld1Byb3ZpZGVycyA9IHNldEluY2x1ZGVWaWV3UHJvdmlkZXJzKGZhY3RvcnkuY2FuU2VlVmlld1Byb3ZpZGVycyk7XG4gICAgICAgIGZhY3RvcnkucmVzb2x2aW5nID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgcHJldmlvdXNJbmplY3RJbXBsZW1lbnRhdGlvbiA9IGZhY3RvcnkuaW5qZWN0SW1wbCA/IHNldEluamVjdEltcGxlbWVudGF0aW9uKGZhY3RvcnkuaW5qZWN0SW1wbCkgOiBudWxsO1xuICAgICAgICBjb25zdCBzdWNjZXNzID0gZW50ZXJESShsVmlldywgdE5vZGUsIEluamVjdEZsYWdzLkRlZmF1bHQpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydEVxdWFsKHN1Y2Nlc3MsIHRydWUsICdCZWNhdXNlIGZsYWdzIGRvIG5vdCBjb250YWluIFxcYFNraXBTZWxmXFwnIHdlIGV4cGVjdCB0aGlzIHRvIGFsd2F5cyBzdWNjZWVkLicpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFsdWUgPSBsVmlld1tpbmRleF0gPSBmYWN0b3J5LmZhY3RvcnkodW5kZWZpbmVkLCB0RGF0YSwgbFZpZXcsIHROb2RlKTtcbiAgICAgICAgICAgIC8vIFRoaXMgY29kZSBwYXRoIGlzIGhpdCBmb3IgYm90aCBkaXJlY3RpdmVzIGFuZCBwcm92aWRlcnMuXG4gICAgICAgICAgICAvLyBGb3IgcGVyZiByZWFzb25zLCB3ZSB3YW50IHRvIGF2b2lkIHNlYXJjaGluZyBmb3IgaG9va3Mgb24gcHJvdmlkZXJzLlxuICAgICAgICAgICAgLy8gSXQgZG9lcyBubyBoYXJtIHRvIHRyeSAodGhlIGhvb2tzIGp1c3Qgd29uJ3QgZXhpc3QpLCBidXQgdGhlIGV4dHJhXG4gICAgICAgICAgICAvLyBjaGVja3MgYXJlIHVubmVjZXNzYXJ5IGFuZCB0aGlzIGlzIGEgaG90IHBhdGguIFNvIHdlIGNoZWNrIHRvIHNlZVxuICAgICAgICAgICAgLy8gaWYgdGhlIGluZGV4IG9mIHRoZSBkZXBlbmRlbmN5IGlzIGluIHRoZSBkaXJlY3RpdmUgcmFuZ2UgZm9yIHRoaXNcbiAgICAgICAgICAgIC8vIHROb2RlLiBJZiBpdCdzIG5vdCwgd2Uga25vdyBpdCdzIGEgcHJvdmlkZXIgYW5kIHNraXAgaG9vayByZWdpc3RyYXRpb24uXG4gICAgICAgICAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzICYmIGluZGV4ID49IHROb2RlLmRpcmVjdGl2ZVN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERpcmVjdGl2ZURlZih0RGF0YVtpbmRleF0pO1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyUHJlT3JkZXJIb29rcyhpbmRleCwgdERhdGFbaW5kZXhdLCB0Vmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBwcmV2aW91c0luamVjdEltcGxlbWVudGF0aW9uICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgc2V0SW5qZWN0SW1wbGVtZW50YXRpb24ocHJldmlvdXNJbmplY3RJbXBsZW1lbnRhdGlvbik7XG4gICAgICAgICAgICBzZXRJbmNsdWRlVmlld1Byb3ZpZGVycyhwcmV2aW91c0luY2x1ZGVWaWV3UHJvdmlkZXJzKTtcbiAgICAgICAgICAgIGZhY3RvcnkucmVzb2x2aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBsZWF2ZURJKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBiaXQgaW4gYW4gaW5qZWN0b3IncyBibG9vbSBmaWx0ZXIgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBkZXRlcm1pbmUgd2hldGhlciBvciBub3RcbiAqIHRoZSBkaXJlY3RpdmUgbWlnaHQgYmUgcHJvdmlkZWQgYnkgdGhlIGluamVjdG9yLlxuICpcbiAqIFdoZW4gYSBkaXJlY3RpdmUgaXMgcHVibGljLCBpdCBpcyBhZGRlZCB0byB0aGUgYmxvb20gZmlsdGVyIGFuZCBnaXZlbiBhIHVuaXF1ZSBJRCB0aGF0IGNhbiBiZVxuICogcmV0cmlldmVkIG9uIHRoZSBUeXBlLiBXaGVuIHRoZSBkaXJlY3RpdmUgaXNuJ3QgcHVibGljIG9yIHRoZSB0b2tlbiBpcyBub3QgYSBkaXJlY3RpdmUgYG51bGxgXG4gKiBpcyByZXR1cm5lZCBhcyB0aGUgbm9kZSBpbmplY3RvciBjYW4gbm90IHBvc3NpYmx5IHByb3ZpZGUgdGhhdCB0b2tlbi5cbiAqXG4gKiBAcGFyYW0gdG9rZW4gdGhlIGluamVjdGlvbiB0b2tlblxuICogQHJldHVybnMgdGhlIG1hdGNoaW5nIGJpdCB0byBjaGVjayBpbiB0aGUgYmxvb20gZmlsdGVyIG9yIGBudWxsYCBpZiB0aGUgdG9rZW4gaXMgbm90IGtub3duLlxuICogICBXaGVuIHRoZSByZXR1cm5lZCB2YWx1ZSBpcyBuZWdhdGl2ZSB0aGVuIGl0IHJlcHJlc2VudHMgc3BlY2lhbCB2YWx1ZXMgc3VjaCBhcyBgSW5qZWN0b3JgLlxuICovXG5mdW5jdGlvbiBibG9vbUhhc2hCaXRPckZhY3RvcnkodG9rZW4pIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0b2tlbiwgJ3Rva2VuIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB0b2tlbi5jaGFyQ29kZUF0KDApIHx8IDA7XG4gICAgfVxuICAgIGNvbnN0IHRva2VuSWQgPSBcbiAgICAvLyBGaXJzdCBjaGVjayB3aXRoIGBoYXNPd25Qcm9wZXJ0eWAgc28gd2UgZG9uJ3QgZ2V0IGFuIGluaGVyaXRlZCBJRC5cbiAgICB0b2tlbi5oYXNPd25Qcm9wZXJ0eShOR19FTEVNRU5UX0lEKSA/IHRva2VuW05HX0VMRU1FTlRfSURdIDogdW5kZWZpbmVkO1xuICAgIC8vIE5lZ2F0aXZlIHRva2VuIElEcyBhcmUgdXNlZCBmb3Igc3BlY2lhbCBvYmplY3RzIHN1Y2ggYXMgYEluamVjdG9yYFxuICAgIGlmICh0eXBlb2YgdG9rZW5JZCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKHRva2VuSWQgPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRva2VuSWQgJiBCTE9PTV9NQVNLO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWwodG9rZW5JZCwgLTEgLyogSW5qZWN0b3IgKi8sICdFeHBlY3RpbmcgdG8gZ2V0IFNwZWNpYWwgSW5qZWN0b3IgSWQnKTtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVOb2RlSW5qZWN0b3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0b2tlbklkO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGJsb29tSGFzVG9rZW4oYmxvb21IYXNoLCBpbmplY3RvckluZGV4LCBpbmplY3RvclZpZXcpIHtcbiAgICAvLyBDcmVhdGUgYSBtYXNrIHRoYXQgdGFyZ2V0cyB0aGUgc3BlY2lmaWMgYml0IGFzc29jaWF0ZWQgd2l0aCB0aGUgZGlyZWN0aXZlIHdlJ3JlIGxvb2tpbmcgZm9yLlxuICAgIC8vIEpTIGJpdCBvcGVyYXRpb25zIGFyZSAzMiBiaXRzLCBzbyB0aGlzIHdpbGwgYmUgYSBudW1iZXIgYmV0d2VlbiAyXjAgYW5kIDJeMzEsIGNvcnJlc3BvbmRpbmdcbiAgICAvLyB0byBiaXQgcG9zaXRpb25zIDAgLSAzMSBpbiBhIDMyIGJpdCBpbnRlZ2VyLlxuICAgIGNvbnN0IG1hc2sgPSAxIDw8IGJsb29tSGFzaDtcbiAgICAvLyBFYWNoIGJsb29tIGJ1Y2tldCBpbiBgaW5qZWN0b3JWaWV3YCByZXByZXNlbnRzIGBCTE9PTV9CVUNLRVRfQklUU2AgbnVtYmVyIG9mIGJpdHMgb2ZcbiAgICAvLyBgYmxvb21IYXNoYC4gQW55IGJpdHMgaW4gYGJsb29tSGFzaGAgYmV5b25kIGBCTE9PTV9CVUNLRVRfQklUU2AgaW5kaWNhdGUgdGhlIGJ1Y2tldCBvZmZzZXRcbiAgICAvLyB0aGF0IHNob3VsZCBiZSB1c2VkLlxuICAgIGNvbnN0IHZhbHVlID0gaW5qZWN0b3JWaWV3W2luamVjdG9ySW5kZXggKyAoYmxvb21IYXNoID4+IEJMT09NX0JVQ0tFVF9CSVRTKV07XG4gICAgLy8gSWYgdGhlIGJsb29tIGZpbHRlciB2YWx1ZSBoYXMgdGhlIGJpdCBjb3JyZXNwb25kaW5nIHRvIHRoZSBkaXJlY3RpdmUncyBibG9vbUJpdCBmbGlwcGVkIG9uLFxuICAgIC8vIHRoaXMgaW5qZWN0b3IgaXMgYSBwb3RlbnRpYWwgbWF0Y2guXG4gICAgcmV0dXJuICEhKHZhbHVlICYgbWFzayk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIGZsYWdzIHByZXZlbnQgcGFyZW50IGluamVjdG9yIGZyb20gYmVpbmcgc2VhcmNoZWQgZm9yIHRva2VucyAqL1xuZnVuY3Rpb24gc2hvdWxkU2VhcmNoUGFyZW50KGZsYWdzLCBpc0ZpcnN0SG9zdFROb2RlKSB7XG4gICAgcmV0dXJuICEoZmxhZ3MgJiBJbmplY3RGbGFncy5TZWxmKSAmJiAhKGZsYWdzICYgSW5qZWN0RmxhZ3MuSG9zdCAmJiBpc0ZpcnN0SG9zdFROb2RlKTtcbn1cbmNsYXNzIE5vZGVJbmplY3RvciB7XG4gICAgY29uc3RydWN0b3IoX3ROb2RlLCBfbFZpZXcpIHtcbiAgICAgICAgdGhpcy5fdE5vZGUgPSBfdE5vZGU7XG4gICAgICAgIHRoaXMuX2xWaWV3ID0gX2xWaWV3O1xuICAgIH1cbiAgICBnZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGZsYWdzKSB7XG4gICAgICAgIHJldHVybiBnZXRPckNyZWF0ZUluamVjdGFibGUodGhpcy5fdE5vZGUsIHRoaXMuX2xWaWV3LCB0b2tlbiwgZmxhZ3MsIG5vdEZvdW5kVmFsdWUpO1xuICAgIH1cbn1cbi8qKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWdldEluaGVyaXRlZEZhY3RvcnkodHlwZSkge1xuICAgIHJldHVybiBub1NpZGVFZmZlY3RzKCgpID0+IHtcbiAgICAgICAgY29uc3Qgb3duQ29uc3RydWN0b3IgPSB0eXBlLnByb3RvdHlwZS5jb25zdHJ1Y3RvcjtcbiAgICAgICAgY29uc3Qgb3duRmFjdG9yeSA9IG93bkNvbnN0cnVjdG9yW05HX0ZBQ1RPUllfREVGXSB8fCBnZXRGYWN0b3J5T2Yob3duQ29uc3RydWN0b3IpO1xuICAgICAgICBjb25zdCBvYmplY3RQcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlO1xuICAgICAgICBsZXQgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHR5cGUucHJvdG90eXBlKS5jb25zdHJ1Y3RvcjtcbiAgICAgICAgLy8gR28gdXAgdGhlIHByb3RvdHlwZSB1bnRpbCB3ZSBoaXQgYE9iamVjdGAuXG4gICAgICAgIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50ICE9PSBvYmplY3RQcm90b3R5cGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZhY3RvcnkgPSBwYXJlbnRbTkdfRkFDVE9SWV9ERUZdIHx8IGdldEZhY3RvcnlPZihwYXJlbnQpO1xuICAgICAgICAgICAgLy8gSWYgd2UgaGl0IHNvbWV0aGluZyB0aGF0IGhhcyBhIGZhY3RvcnkgYW5kIHRoZSBmYWN0b3J5IGlzbid0IHRoZSBzYW1lIGFzIHRoZSB0eXBlLFxuICAgICAgICAgICAgLy8gd2UndmUgZm91bmQgdGhlIGluaGVyaXRlZCBmYWN0b3J5LiBOb3RlIHRoZSBjaGVjayB0aGF0IHRoZSBmYWN0b3J5IGlzbid0IHRoZSB0eXBlJ3NcbiAgICAgICAgICAgIC8vIG93biBmYWN0b3J5IGlzIHJlZHVuZGFudCBpbiBtb3N0IGNhc2VzLCBidXQgaWYgdGhlIHVzZXIgaGFzIGN1c3RvbSBkZWNvcmF0b3JzIG9uIHRoZVxuICAgICAgICAgICAgLy8gY2xhc3MsIHRoaXMgbG9va3VwIHdpbGwgc3RhcnQgb25lIGxldmVsIGRvd24gaW4gdGhlIHByb3RvdHlwZSBjaGFpbiwgY2F1c2luZyB1cyB0b1xuICAgICAgICAgICAgLy8gZmluZCB0aGUgb3duIGZhY3RvcnkgZmlyc3QgYW5kIHBvdGVudGlhbGx5IHRyaWdnZXJpbmcgYW4gaW5maW5pdGUgbG9vcCBkb3duc3RyZWFtLlxuICAgICAgICAgICAgaWYgKGZhY3RvcnkgJiYgZmFjdG9yeSAhPT0gb3duRmFjdG9yeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWN0b3J5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBhcmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlcmUgaXMgbm8gZmFjdG9yeSBkZWZpbmVkLiBFaXRoZXIgdGhpcyB3YXMgaW1wcm9wZXIgdXNhZ2Ugb2YgaW5oZXJpdGFuY2VcbiAgICAgICAgLy8gKG5vIEFuZ3VsYXIgZGVjb3JhdG9yIG9uIHRoZSBzdXBlcmNsYXNzKSBvciB0aGVyZSBpcyBubyBjb25zdHJ1Y3RvciBhdCBhbGxcbiAgICAgICAgLy8gaW4gdGhlIGluaGVyaXRhbmNlIGNoYWluLiBTaW5jZSB0aGUgdHdvIGNhc2VzIGNhbm5vdCBiZSBkaXN0aW5ndWlzaGVkLCB0aGVcbiAgICAgICAgLy8gbGF0dGVyIGhhcyB0byBiZSBhc3N1bWVkLlxuICAgICAgICByZXR1cm4gdCA9PiBuZXcgdCgpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0RmFjdG9yeU9mKHR5cGUpIHtcbiAgICBpZiAoaXNGb3J3YXJkUmVmKHR5cGUpKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmYWN0b3J5ID0gZ2V0RmFjdG9yeU9mKHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpKTtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5ICYmIGZhY3RvcnkoKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGdldEZhY3RvcnlEZWYodHlwZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBGYWNhZGUgZm9yIHRoZSBhdHRyaWJ1dGUgaW5qZWN0aW9uIGZyb20gREkuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWluamVjdEF0dHJpYnV0ZShhdHRyTmFtZVRvSW5qZWN0KSB7XG4gICAgcmV0dXJuIGluamVjdEF0dHJpYnV0ZUltcGwoZ2V0Q3VycmVudFROb2RlKCksIGF0dHJOYW1lVG9JbmplY3QpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IEFOTk9UQVRJT05TID0gJ19fYW5ub3RhdGlvbnNfXyc7XG5jb25zdCBQQVJBTUVURVJTID0gJ19fcGFyYW1ldGVyc19fJztcbmNvbnN0IFBST1BfTUVUQURBVEEgPSAnX19wcm9wX19tZXRhZGF0YV9fJztcbi8qKlxuICogQHN1cHByZXNzIHtnbG9iYWxUaGlzfVxuICovXG5mdW5jdGlvbiBtYWtlRGVjb3JhdG9yKG5hbWUsIHByb3BzLCBwYXJlbnRDbGFzcywgYWRkaXRpb25hbFByb2Nlc3NpbmcsIHR5cGVGbikge1xuICAgIHJldHVybiBub1NpZGVFZmZlY3RzKCgpID0+IHtcbiAgICAgICAgY29uc3QgbWV0YUN0b3IgPSBtYWtlTWV0YWRhdGFDdG9yKHByb3BzKTtcbiAgICAgICAgZnVuY3Rpb24gRGVjb3JhdG9yRmFjdG9yeSguLi5hcmdzKSB7XG4gICAgICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIERlY29yYXRvckZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgICBtZXRhQ3Rvci5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYW5ub3RhdGlvbkluc3RhbmNlID0gbmV3IERlY29yYXRvckZhY3RvcnkoLi4uYXJncyk7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gVHlwZURlY29yYXRvcihjbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZUZuKVxuICAgICAgICAgICAgICAgICAgICB0eXBlRm4oY2xzLCAuLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAvLyBVc2Ugb2YgT2JqZWN0LmRlZmluZVByb3BlcnR5IGlzIGltcG9ydGFudCBzaW5jZSBpdCBjcmVhdGVzIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IHdoaWNoXG4gICAgICAgICAgICAgICAgLy8gcHJldmVudHMgdGhlIHByb3BlcnR5IGlzIGNvcGllZCBkdXJpbmcgc3ViY2xhc3NpbmcuXG4gICAgICAgICAgICAgICAgY29uc3QgYW5ub3RhdGlvbnMgPSBjbHMuaGFzT3duUHJvcGVydHkoQU5OT1RBVElPTlMpID9cbiAgICAgICAgICAgICAgICAgICAgY2xzW0FOTk9UQVRJT05TXSA6XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjbHMsIEFOTk9UQVRJT05TLCB7IHZhbHVlOiBbXSB9KVtBTk5PVEFUSU9OU107XG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbnMucHVzaChhbm5vdGF0aW9uSW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIGlmIChhZGRpdGlvbmFsUHJvY2Vzc2luZylcbiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbFByb2Nlc3NpbmcoY2xzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50Q2xhc3MpIHtcbiAgICAgICAgICAgIERlY29yYXRvckZhY3RvcnkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgICB9XG4gICAgICAgIERlY29yYXRvckZhY3RvcnkucHJvdG90eXBlLm5nTWV0YWRhdGFOYW1lID0gbmFtZTtcbiAgICAgICAgRGVjb3JhdG9yRmFjdG9yeS5hbm5vdGF0aW9uQ2xzID0gRGVjb3JhdG9yRmFjdG9yeTtcbiAgICAgICAgcmV0dXJuIERlY29yYXRvckZhY3Rvcnk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBtYWtlTWV0YWRhdGFDdG9yKHByb3BzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGN0b3IoLi4uYXJncykge1xuICAgICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IHByb3BzKC4uLmFyZ3MpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiB2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzW3Byb3BOYW1lXSA9IHZhbHVlc1twcm9wTmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gbWFrZVBhcmFtRGVjb3JhdG9yKG5hbWUsIHByb3BzLCBwYXJlbnRDbGFzcykge1xuICAgIHJldHVybiBub1NpZGVFZmZlY3RzKCgpID0+IHtcbiAgICAgICAgY29uc3QgbWV0YUN0b3IgPSBtYWtlTWV0YWRhdGFDdG9yKHByb3BzKTtcbiAgICAgICAgZnVuY3Rpb24gUGFyYW1EZWNvcmF0b3JGYWN0b3J5KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgUGFyYW1EZWNvcmF0b3JGYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgbWV0YUN0b3IuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhbm5vdGF0aW9uSW5zdGFuY2UgPSBuZXcgUGFyYW1EZWNvcmF0b3JGYWN0b3J5KC4uLmFyZ3MpO1xuICAgICAgICAgICAgUGFyYW1EZWNvcmF0b3IuYW5ub3RhdGlvbiA9IGFubm90YXRpb25JbnN0YW5jZTtcbiAgICAgICAgICAgIHJldHVybiBQYXJhbURlY29yYXRvcjtcbiAgICAgICAgICAgIGZ1bmN0aW9uIFBhcmFtRGVjb3JhdG9yKGNscywgdW51c2VkS2V5LCBpbmRleCkge1xuICAgICAgICAgICAgICAgIC8vIFVzZSBvZiBPYmplY3QuZGVmaW5lUHJvcGVydHkgaXMgaW1wb3J0YW50IHNpbmNlIGl0IGNyZWF0ZXMgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgd2hpY2hcbiAgICAgICAgICAgICAgICAvLyBwcmV2ZW50cyB0aGUgcHJvcGVydHkgaXMgY29waWVkIGR1cmluZyBzdWJjbGFzc2luZy5cbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0gY2xzLmhhc093blByb3BlcnR5KFBBUkFNRVRFUlMpID9cbiAgICAgICAgICAgICAgICAgICAgY2xzW1BBUkFNRVRFUlNdIDpcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNscywgUEFSQU1FVEVSUywgeyB2YWx1ZTogW10gfSlbUEFSQU1FVEVSU107XG4gICAgICAgICAgICAgICAgLy8gdGhlcmUgbWlnaHQgYmUgZ2FwcyBpZiBzb21lIGluIGJldHdlZW4gcGFyYW1ldGVycyBkbyBub3QgaGF2ZSBhbm5vdGF0aW9ucy5cbiAgICAgICAgICAgICAgICAvLyB3ZSBwYWQgd2l0aCBudWxscy5cbiAgICAgICAgICAgICAgICB3aGlsZSAocGFyYW1ldGVycy5sZW5ndGggPD0gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVycy5wdXNoKG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAocGFyYW1ldGVyc1tpbmRleF0gPSBwYXJhbWV0ZXJzW2luZGV4XSB8fCBbXSkucHVzaChhbm5vdGF0aW9uSW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjbHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudENsYXNzKSB7XG4gICAgICAgICAgICBQYXJhbURlY29yYXRvckZhY3RvcnkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgICB9XG4gICAgICAgIFBhcmFtRGVjb3JhdG9yRmFjdG9yeS5wcm90b3R5cGUubmdNZXRhZGF0YU5hbWUgPSBuYW1lO1xuICAgICAgICBQYXJhbURlY29yYXRvckZhY3RvcnkuYW5ub3RhdGlvbkNscyA9IFBhcmFtRGVjb3JhdG9yRmFjdG9yeTtcbiAgICAgICAgcmV0dXJuIFBhcmFtRGVjb3JhdG9yRmFjdG9yeTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG1ha2VQcm9wRGVjb3JhdG9yKG5hbWUsIHByb3BzLCBwYXJlbnRDbGFzcywgYWRkaXRpb25hbFByb2Nlc3NpbmcpIHtcbiAgICByZXR1cm4gbm9TaWRlRWZmZWN0cygoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1ldGFDdG9yID0gbWFrZU1ldGFkYXRhQ3Rvcihwcm9wcyk7XG4gICAgICAgIGZ1bmN0aW9uIFByb3BEZWNvcmF0b3JGYWN0b3J5KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgUHJvcERlY29yYXRvckZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgICBtZXRhQ3Rvci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRlY29yYXRvckluc3RhbmNlID0gbmV3IFByb3BEZWNvcmF0b3JGYWN0b3J5KC4uLmFyZ3MpO1xuICAgICAgICAgICAgZnVuY3Rpb24gUHJvcERlY29yYXRvcih0YXJnZXQsIG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25zdHJ1Y3RvciA9IHRhcmdldC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgICAgICAvLyBVc2Ugb2YgT2JqZWN0LmRlZmluZVByb3BlcnR5IGlzIGltcG9ydGFudCBiZWNhdXNlIGl0IGNyZWF0ZXMgYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgIC8vIHdoaWNoIHByZXZlbnRzIHRoZSBwcm9wZXJ0eSBmcm9tIGJlaW5nIGNvcGllZCBkdXJpbmcgc3ViY2xhc3NpbmcuXG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YSA9IGNvbnN0cnVjdG9yLmhhc093blByb3BlcnR5KFBST1BfTUVUQURBVEEpID9cbiAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0b3JbUFJPUF9NRVRBREFUQV0gOlxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uc3RydWN0b3IsIFBST1BfTUVUQURBVEEsIHsgdmFsdWU6IHt9IH0pW1BST1BfTUVUQURBVEFdO1xuICAgICAgICAgICAgICAgIG1ldGFbbmFtZV0gPSBtZXRhLmhhc093blByb3BlcnR5KG5hbWUpICYmIG1ldGFbbmFtZV0gfHwgW107XG4gICAgICAgICAgICAgICAgbWV0YVtuYW1lXS51bnNoaWZ0KGRlY29yYXRvckluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICBpZiAoYWRkaXRpb25hbFByb2Nlc3NpbmcpXG4gICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9jZXNzaW5nKHRhcmdldCwgbmFtZSwgLi4uYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUHJvcERlY29yYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50Q2xhc3MpIHtcbiAgICAgICAgICAgIFByb3BEZWNvcmF0b3JGYWN0b3J5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50Q2xhc3MucHJvdG90eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBQcm9wRGVjb3JhdG9yRmFjdG9yeS5wcm90b3R5cGUubmdNZXRhZGF0YU5hbWUgPSBuYW1lO1xuICAgICAgICBQcm9wRGVjb3JhdG9yRmFjdG9yeS5hbm5vdGF0aW9uQ2xzID0gUHJvcERlY29yYXRvckZhY3Rvcnk7XG4gICAgICAgIHJldHVybiBQcm9wRGVjb3JhdG9yRmFjdG9yeTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEF0dHJpYnV0ZSBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEF0dHJpYnV0ZSA9IG1ha2VQYXJhbURlY29yYXRvcignQXR0cmlidXRlJywgKGF0dHJpYnV0ZU5hbWUpID0+ICh7IGF0dHJpYnV0ZU5hbWUsIF9fTkdfRUxFTUVOVF9JRF9fOiAoKSA9PiDJtcm1aW5qZWN0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpIH0pKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENyZWF0ZXMgYSB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIGluIGEgREkgUHJvdmlkZXIuXG4gKlxuICogVXNlIGFuIGBJbmplY3Rpb25Ub2tlbmAgd2hlbmV2ZXIgdGhlIHR5cGUgeW91IGFyZSBpbmplY3RpbmcgaXMgbm90IHJlaWZpZWQgKGRvZXMgbm90IGhhdmUgYVxuICogcnVudGltZSByZXByZXNlbnRhdGlvbikgc3VjaCBhcyB3aGVuIGluamVjdGluZyBhbiBpbnRlcmZhY2UsIGNhbGxhYmxlIHR5cGUsIGFycmF5IG9yXG4gKiBwYXJhbWV0ZXJpemVkIHR5cGUuXG4gKlxuICogYEluamVjdGlvblRva2VuYCBpcyBwYXJhbWV0ZXJpemVkIG9uIGBUYCB3aGljaCBpcyB0aGUgdHlwZSBvZiBvYmplY3Qgd2hpY2ggd2lsbCBiZSByZXR1cm5lZCBieVxuICogdGhlIGBJbmplY3RvcmAuIFRoaXMgcHJvdmlkZXMgYW4gYWRkaXRpb25hbCBsZXZlbCBvZiB0eXBlIHNhZmV0eS5cbiAqXG4gKiBgYGBcbiAqIGludGVyZmFjZSBNeUludGVyZmFjZSB7Li4ufVxuICogY29uc3QgbXlJbnRlcmZhY2UgPSBpbmplY3Rvci5nZXQobmV3IEluamVjdGlvblRva2VuPE15SW50ZXJmYWNlPignU29tZVRva2VuJykpO1xuICogLy8gbXlJbnRlcmZhY2UgaXMgaW5mZXJyZWQgdG8gYmUgTXlJbnRlcmZhY2UuXG4gKiBgYGBcbiAqXG4gKiBXaGVuIGNyZWF0aW5nIGFuIGBJbmplY3Rpb25Ub2tlbmAsIHlvdSBjYW4gb3B0aW9uYWxseSBzcGVjaWZ5IGEgZmFjdG9yeSBmdW5jdGlvbiB3aGljaCByZXR1cm5zXG4gKiAocG9zc2libHkgYnkgY3JlYXRpbmcpIGEgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgcGFyYW1ldGVyaXplZCB0eXBlIGBUYC4gVGhpcyBzZXRzIHVwIHRoZVxuICogYEluamVjdGlvblRva2VuYCB1c2luZyB0aGlzIGZhY3RvcnkgYXMgYSBwcm92aWRlciBhcyBpZiBpdCB3YXMgZGVmaW5lZCBleHBsaWNpdGx5IGluIHRoZVxuICogYXBwbGljYXRpb24ncyByb290IGluamVjdG9yLiBJZiB0aGUgZmFjdG9yeSBmdW5jdGlvbiwgd2hpY2ggdGFrZXMgemVybyBhcmd1bWVudHMsIG5lZWRzIHRvIGluamVjdFxuICogZGVwZW5kZW5jaWVzLCBpdCBjYW4gZG8gc28gdXNpbmcgdGhlIGBpbmplY3RgIGZ1bmN0aW9uLlxuICogQXMgeW91IGNhbiBzZWUgaW4gdGhlIFRyZWUtc2hha2FibGUgSW5qZWN0aW9uVG9rZW4gZXhhbXBsZSBiZWxvdy5cbiAqXG4gKiBBZGRpdGlvbmFsbHksIGlmIGEgYGZhY3RvcnlgIGlzIHNwZWNpZmllZCB5b3UgY2FuIGFsc28gc3BlY2lmeSB0aGUgYHByb3ZpZGVkSW5gIG9wdGlvbiwgd2hpY2hcbiAqIG92ZXJyaWRlcyB0aGUgYWJvdmUgYmVoYXZpb3IgYW5kIG1hcmtzIHRoZSB0b2tlbiBhcyBiZWxvbmdpbmcgdG8gYSBwYXJ0aWN1bGFyIGBATmdNb2R1bGVgLiBBc1xuICogbWVudGlvbmVkIGFib3ZlLCBgJ3Jvb3QnYCBpcyB0aGUgZGVmYXVsdCB2YWx1ZSBmb3IgYHByb3ZpZGVkSW5gLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgQmFzaWMgRXhhbXBsZXNcbiAqXG4gKiAjIyMgUGxhaW4gSW5qZWN0aW9uVG9rZW5cbiAqXG4gKiB7QGV4YW1wbGUgY29yZS9kaS90cy9pbmplY3Rvcl9zcGVjLnRzIHJlZ2lvbj0nSW5qZWN0aW9uVG9rZW4nfVxuICpcbiAqICMjIyBUcmVlLXNoYWthYmxlIEluamVjdGlvblRva2VuXG4gKlxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvaW5qZWN0b3Jfc3BlYy50cyByZWdpb249J1NoYWthYmxlSW5qZWN0aW9uVG9rZW4nfVxuICpcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEluamVjdGlvblRva2VuIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gX2Rlc2MgICBEZXNjcmlwdGlvbiBmb3IgdGhlIHRva2VuLFxuICAgICAqICAgICAgICAgICAgICAgIHVzZWQgb25seSBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLFxuICAgICAqICAgICAgICAgICAgICAgIGl0IHNob3VsZCBidXQgZG9lcyBub3QgbmVlZCB0byBiZSB1bmlxdWVcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciB0aGUgdG9rZW4ncyB1c2FnZSwgYXMgZGVzY3JpYmVkIGFib3ZlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoX2Rlc2MsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fZGVzYyA9IF9kZXNjO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMubmdNZXRhZGF0YU5hbWUgPSAnSW5qZWN0aW9uVG9rZW4nO1xuICAgICAgICB0aGlzLsm1cHJvdiA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSAmJlxuICAgICAgICAgICAgICAgIGFzc2VydExlc3NUaGFuKG9wdGlvbnMsIDAsICdPbmx5IG5lZ2F0aXZlIG51bWJlcnMgYXJlIHN1cHBvcnRlZCBoZXJlJyk7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgc3BlY2lhbCBoYWNrIHRvIGFzc2lnbiBfX05HX0VMRU1FTlRfSURfXyB0byB0aGlzIGluc3RhbmNlLlxuICAgICAgICAgICAgLy8gU2VlIGBJbmplY3Rvck1hcmtlcnNgXG4gICAgICAgICAgICB0aGlzLl9fTkdfRUxFTUVOVF9JRF9fID0gb3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuybVwcm92ID0gybXJtWRlZmluZUluamVjdGFibGUoe1xuICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVkSW46IG9wdGlvbnMucHJvdmlkZWRJbiB8fCAncm9vdCcsXG4gICAgICAgICAgICAgICAgZmFjdG9yeTogb3B0aW9ucy5mYWN0b3J5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgSW5qZWN0aW9uVG9rZW4gJHt0aGlzLl9kZXNjfWA7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQSBESSB0b2tlbiB0aGF0IHlvdSBjYW4gdXNlIHRvIGNyZWF0ZSBhIHZpcnR1YWwgW3Byb3ZpZGVyXShndWlkZS9nbG9zc2FyeSNwcm92aWRlcilcbiAqIHRoYXQgd2lsbCBwb3B1bGF0ZSB0aGUgYGVudHJ5Q29tcG9uZW50c2AgZmllbGQgb2YgY29tcG9uZW50cyBhbmQgTmdNb2R1bGVzXG4gKiBiYXNlZCBvbiBpdHMgYHVzZVZhbHVlYCBwcm9wZXJ0eSB2YWx1ZS5cbiAqIEFsbCBjb21wb25lbnRzIHRoYXQgYXJlIHJlZmVyZW5jZWQgaW4gdGhlIGB1c2VWYWx1ZWAgdmFsdWUgKGVpdGhlciBkaXJlY3RseVxuICogb3IgaW4gYSBuZXN0ZWQgYXJyYXkgb3IgbWFwKSBhcmUgYWRkZWQgdG8gdGhlIGBlbnRyeUNvbXBvbmVudHNgIHByb3BlcnR5LlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0aGUgcm91dGVyIGNhbiBwb3B1bGF0ZSB0aGUgYGVudHJ5Q29tcG9uZW50c2BcbiAqIGZpZWxkIG9mIGFuIE5nTW9kdWxlIGJhc2VkIG9uIGEgcm91dGVyIGNvbmZpZ3VyYXRpb24gdGhhdCByZWZlcnNcbiAqIHRvIGNvbXBvbmVudHMuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogLy8gaGVscGVyIGZ1bmN0aW9uIGluc2lkZSB0aGUgcm91dGVyXG4gKiBmdW5jdGlvbiBwcm92aWRlUm91dGVzKHJvdXRlcykge1xuICogICByZXR1cm4gW1xuICogICAgIHtwcm92aWRlOiBST1VURVMsIHVzZVZhbHVlOiByb3V0ZXN9LFxuICogICAgIHtwcm92aWRlOiBBTkFMWVpFX0ZPUl9FTlRSWV9DT01QT05FTlRTLCB1c2VWYWx1ZTogcm91dGVzLCBtdWx0aTogdHJ1ZX1cbiAqICAgXTtcbiAqIH1cbiAqXG4gKiAvLyB1c2VyIGNvZGVcbiAqIGxldCByb3V0ZXMgPSBbXG4gKiAgIHtwYXRoOiAnL3Jvb3QnLCBjb21wb25lbnQ6IFJvb3RDb21wfSxcbiAqICAge3BhdGg6ICcvdGVhbXMnLCBjb21wb25lbnQ6IFRlYW1zQ29tcH1cbiAqIF07XG4gKlxuICogQE5nTW9kdWxlKHtcbiAqICAgcHJvdmlkZXJzOiBbcHJvdmlkZVJvdXRlcyhyb3V0ZXMpXVxuICogfSlcbiAqIGNsYXNzIE1vZHVsZVdpdGhSb3V0ZXMge31cbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqIEBkZXByZWNhdGVkIFNpbmNlIDkuMC4wLiBXaXRoIEl2eSwgdGhpcyBwcm9wZXJ0eSBpcyBubyBsb25nZXIgbmVjZXNzYXJ5LlxuICovXG5jb25zdCBBTkFMWVpFX0ZPUl9FTlRSWV9DT01QT05FTlRTID0gbmV3IEluamVjdGlvblRva2VuKCdBbmFseXplRm9yRW50cnlDb21wb25lbnRzJyk7XG4vLyBTdG9yZXMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgYGVtaXREaXN0aW5jdENoYW5nZXNPbmx5YCB3aGVuIHRoZSBgZW1pdERpc3RpbmN0Q2hhbmdlc09ubHlgIGlzIG5vdFxuLy8gZXhwbGljaXRseSBzZXQuXG5jb25zdCBlbWl0RGlzdGluY3RDaGFuZ2VzT25seURlZmF1bHRWYWx1ZSA9IHRydWU7XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIHF1ZXJ5IG1ldGFkYXRhLlxuICpcbiAqIEBzZWUgYENvbnRlbnRDaGlsZHJlbmAuXG4gKiBAc2VlIGBDb250ZW50Q2hpbGRgLlxuICogQHNlZSBgVmlld0NoaWxkcmVuYC5cbiAqIEBzZWUgYFZpZXdDaGlsZGAuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBRdWVyeSB7XG59XG4vKipcbiAqIENvbnRlbnRDaGlsZHJlbiBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBDb250ZW50Q2hpbGRyZW4gPSBtYWtlUHJvcERlY29yYXRvcignQ29udGVudENoaWxkcmVuJywgKHNlbGVjdG9yLCBkYXRhID0ge30pID0+IChPYmplY3QuYXNzaWduKHsgc2VsZWN0b3IsIGZpcnN0OiBmYWxzZSwgaXNWaWV3UXVlcnk6IGZhbHNlLCBkZXNjZW5kYW50czogZmFsc2UsIGVtaXREaXN0aW5jdENoYW5nZXNPbmx5OiBlbWl0RGlzdGluY3RDaGFuZ2VzT25seURlZmF1bHRWYWx1ZSB9LCBkYXRhKSksIFF1ZXJ5KTtcbi8qKlxuICogQ29udGVudENoaWxkIGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBDb250ZW50Q2hpbGQgPSBtYWtlUHJvcERlY29yYXRvcignQ29udGVudENoaWxkJywgKHNlbGVjdG9yLCBkYXRhID0ge30pID0+IChPYmplY3QuYXNzaWduKHsgc2VsZWN0b3IsIGZpcnN0OiB0cnVlLCBpc1ZpZXdRdWVyeTogZmFsc2UsIGRlc2NlbmRhbnRzOiB0cnVlIH0sIGRhdGEpKSwgUXVlcnkpO1xuLyoqXG4gKiBWaWV3Q2hpbGRyZW4gZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBWaWV3Q2hpbGRyZW4gPSBtYWtlUHJvcERlY29yYXRvcignVmlld0NoaWxkcmVuJywgKHNlbGVjdG9yLCBkYXRhID0ge30pID0+IChPYmplY3QuYXNzaWduKHsgc2VsZWN0b3IsIGZpcnN0OiBmYWxzZSwgaXNWaWV3UXVlcnk6IHRydWUsIGRlc2NlbmRhbnRzOiB0cnVlLCBlbWl0RGlzdGluY3RDaGFuZ2VzT25seTogZW1pdERpc3RpbmN0Q2hhbmdlc09ubHlEZWZhdWx0VmFsdWUgfSwgZGF0YSkpLCBRdWVyeSk7XG4vKipcbiAqIFZpZXdDaGlsZCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFZpZXdDaGlsZCA9IG1ha2VQcm9wRGVjb3JhdG9yKCdWaWV3Q2hpbGQnLCAoc2VsZWN0b3IsIGRhdGEpID0+IChPYmplY3QuYXNzaWduKHsgc2VsZWN0b3IsIGZpcnN0OiB0cnVlLCBpc1ZpZXdRdWVyeTogdHJ1ZSwgZGVzY2VuZGFudHM6IHRydWUgfSwgZGF0YSkpLCBRdWVyeSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIEZhY3RvcnlUYXJnZXQ7XG4oZnVuY3Rpb24gKEZhY3RvcnlUYXJnZXQpIHtcbiAgICBGYWN0b3J5VGFyZ2V0W0ZhY3RvcnlUYXJnZXRbXCJEaXJlY3RpdmVcIl0gPSAwXSA9IFwiRGlyZWN0aXZlXCI7XG4gICAgRmFjdG9yeVRhcmdldFtGYWN0b3J5VGFyZ2V0W1wiQ29tcG9uZW50XCJdID0gMV0gPSBcIkNvbXBvbmVudFwiO1xuICAgIEZhY3RvcnlUYXJnZXRbRmFjdG9yeVRhcmdldFtcIkluamVjdGFibGVcIl0gPSAyXSA9IFwiSW5qZWN0YWJsZVwiO1xuICAgIEZhY3RvcnlUYXJnZXRbRmFjdG9yeVRhcmdldFtcIlBpcGVcIl0gPSAzXSA9IFwiUGlwZVwiO1xuICAgIEZhY3RvcnlUYXJnZXRbRmFjdG9yeVRhcmdldFtcIk5nTW9kdWxlXCJdID0gNF0gPSBcIk5nTW9kdWxlXCI7XG59KShGYWN0b3J5VGFyZ2V0IHx8IChGYWN0b3J5VGFyZ2V0ID0ge30pKTtcbnZhciBWaWV3RW5jYXBzdWxhdGlvbjtcbihmdW5jdGlvbiAoVmlld0VuY2Fwc3VsYXRpb24pIHtcbiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvbltcIkVtdWxhdGVkXCJdID0gMF0gPSBcIkVtdWxhdGVkXCI7XG4gICAgLy8gSGlzdG9yaWNhbGx5IHRoZSAxIHZhbHVlIHdhcyBmb3IgYE5hdGl2ZWAgZW5jYXBzdWxhdGlvbiB3aGljaCBoYXMgYmVlbiByZW1vdmVkIGFzIG9mIHYxMS5cbiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvbltcIk5vbmVcIl0gPSAyXSA9IFwiTm9uZVwiO1xuICAgIFZpZXdFbmNhcHN1bGF0aW9uW1ZpZXdFbmNhcHN1bGF0aW9uW1wiU2hhZG93RG9tXCJdID0gM10gPSBcIlNoYWRvd0RvbVwiO1xufSkoVmlld0VuY2Fwc3VsYXRpb24gfHwgKFZpZXdFbmNhcHN1bGF0aW9uID0ge30pKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBnZXRDb21waWxlckZhY2FkZShyZXF1ZXN0KSB7XG4gICAgY29uc3QgZ2xvYmFsTmcgPSBfZ2xvYmFsWyduZyddO1xuICAgIGlmIChnbG9iYWxOZyAmJiBnbG9iYWxOZy7JtWNvbXBpbGVyRmFjYWRlKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxOZy7JtWNvbXBpbGVyRmFjYWRlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgIC8vIExvZyB0aGUgdHlwZSBhcyBhbiBlcnJvciBzbyB0aGF0IGEgZGV2ZWxvcGVyIGNhbiBlYXNpbHkgbmF2aWdhdGUgdG8gdGhlIHR5cGUgZnJvbSB0aGVcbiAgICAgICAgLy8gY29uc29sZS5cbiAgICAgICAgY29uc29sZS5lcnJvcihgSklUIGNvbXBpbGF0aW9uIGZhaWxlZCBmb3IgJHtyZXF1ZXN0LmtpbmR9YCwgcmVxdWVzdC50eXBlKTtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBgVGhlICR7cmVxdWVzdC5raW5kfSAnJHtyZXF1ZXN0XG4gICAgICAgICAgICAudHlwZS5uYW1lfScgbmVlZHMgdG8gYmUgY29tcGlsZWQgdXNpbmcgdGhlIEpJVCBjb21waWxlciwgYnV0ICdAYW5ndWxhci9jb21waWxlcicgaXMgbm90IGF2YWlsYWJsZS5cXG5cXG5gO1xuICAgICAgICBpZiAocmVxdWVzdC51c2FnZSA9PT0gMSAvKiBQYXJ0aWFsRGVjbGFyYXRpb24gKi8pIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gYFRoZSAke3JlcXVlc3Qua2luZH0gaXMgcGFydCBvZiBhIGxpYnJhcnkgdGhhdCBoYXMgYmVlbiBwYXJ0aWFsbHkgY29tcGlsZWQuXFxuYDtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz1cbiAgICAgICAgICAgICAgICBgSG93ZXZlciwgdGhlIEFuZ3VsYXIgTGlua2VyIGhhcyBub3QgcHJvY2Vzc2VkIHRoZSBsaWJyYXJ5IHN1Y2ggdGhhdCBKSVQgY29tcGlsYXRpb24gaXMgdXNlZCBhcyBmYWxsYmFjay5cXG5gO1xuICAgICAgICAgICAgbWVzc2FnZSArPSAnXFxuJztcbiAgICAgICAgICAgIG1lc3NhZ2UgKz1cbiAgICAgICAgICAgICAgICBgSWRlYWxseSwgdGhlIGxpYnJhcnkgaXMgcHJvY2Vzc2VkIHVzaW5nIHRoZSBBbmd1bGFyIExpbmtlciB0byBiZWNvbWUgZnVsbHkgQU9UIGNvbXBpbGVkLlxcbmA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtZXNzYWdlICs9XG4gICAgICAgICAgICAgICAgYEpJVCBjb21waWxhdGlvbiBpcyBkaXNjb3VyYWdlZCBmb3IgcHJvZHVjdGlvbiB1c2UtY2FzZXMhIENvbnNpZGVyIHVzaW5nIEFPVCBtb2RlIGluc3RlYWQuXFxuYDtcbiAgICAgICAgfVxuICAgICAgICBtZXNzYWdlICs9XG4gICAgICAgICAgICBgQWx0ZXJuYXRpdmVseSwgdGhlIEpJVCBjb21waWxlciBzaG91bGQgYmUgbG9hZGVkIGJ5IGJvb3RzdHJhcHBpbmcgdXNpbmcgJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYycgb3IgJ0Bhbmd1bGFyL3BsYXRmb3JtLXNlcnZlcicsXFxuYDtcbiAgICAgICAgbWVzc2FnZSArPVxuICAgICAgICAgICAgYG9yIG1hbnVhbGx5IHByb3ZpZGUgdGhlIGNvbXBpbGVyIHdpdGggJ2ltcG9ydCBcIkBhbmd1bGFyL2NvbXBpbGVyXCI7JyBiZWZvcmUgYm9vdHN0cmFwcGluZy5gO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0pJVCBjb21waWxlciB1bmF2YWlsYWJsZScpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFJlcHJlc2VudHMgYSB0eXBlIHRoYXQgYSBDb21wb25lbnQgb3Igb3RoZXIgb2JqZWN0IGlzIGluc3RhbmNlcyBvZi5cbiAqXG4gKiBBbiBleGFtcGxlIG9mIGEgYFR5cGVgIGlzIGBNeUN1c3RvbUNvbXBvbmVudGAgY2xhc3MsIHdoaWNoIGluIEphdmFTY3JpcHQgaXMgcmVwcmVzZW50ZWQgYnlcbiAqIHRoZSBgTXlDdXN0b21Db21wb25lbnRgIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgVHlwZSA9IEZ1bmN0aW9uO1xuZnVuY3Rpb24gaXNUeXBlKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEVTNiBzcHJlYWQsIGFkZCBlYWNoIGl0ZW0gdG8gYW4gYXJyYXkuXG4gKlxuICogQHBhcmFtIGl0ZW1zIFRoZSBpdGVtcyB0byBhZGRcbiAqIEBwYXJhbSBhcnIgVGhlIGFycmF5IHRvIHdoaWNoIHlvdSB3YW50IHRvIGFkZCB0aGUgaXRlbXNcbiAqL1xuZnVuY3Rpb24gYWRkQWxsVG9BcnJheShpdGVtcywgYXJyKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcnIucHVzaChpdGVtc1tpXSk7XG4gICAgfVxufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBjb250ZW50cyBvZiB0d28gYXJyYXlzIGlzIGlkZW50aWNhbFxuICpcbiAqIEBwYXJhbSBhIGZpcnN0IGFycmF5XG4gKiBAcGFyYW0gYiBzZWNvbmQgYXJyYXlcbiAqIEBwYXJhbSBpZGVudGl0eUFjY2Vzc29yIE9wdGlvbmFsIGZ1bmN0aW9uIGZvciBleHRyYWN0aW5nIHN0YWJsZSBvYmplY3QgaWRlbnRpdHkgZnJvbSBhIHZhbHVlIGluXG4gKiAgICAgdGhlIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheUVxdWFscyhhLCBiLCBpZGVudGl0eUFjY2Vzc29yKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgdmFsdWVBID0gYVtpXTtcbiAgICAgICAgbGV0IHZhbHVlQiA9IGJbaV07XG4gICAgICAgIGlmIChpZGVudGl0eUFjY2Vzc29yKSB7XG4gICAgICAgICAgICB2YWx1ZUEgPSBpZGVudGl0eUFjY2Vzc29yKHZhbHVlQSk7XG4gICAgICAgICAgICB2YWx1ZUIgPSBpZGVudGl0eUFjY2Vzc29yKHZhbHVlQik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlQiAhPT0gdmFsdWVBKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIEZsYXR0ZW5zIGFuIGFycmF5LlxuICovXG5mdW5jdGlvbiBmbGF0dGVuKGxpc3QsIGRzdCkge1xuICAgIGlmIChkc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgZHN0ID0gbGlzdDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGl0ZW0gPSBsaXN0W2ldO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkge1xuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBpbmxpbmUgaXQuXG4gICAgICAgICAgICBpZiAoZHN0ID09PSBsaXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gT3VyIGFzc3VtcHRpb24gdGhhdCB0aGUgbGlzdCB3YXMgYWxyZWFkeSBmbGF0IHdhcyB3cm9uZyBhbmRcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGNsb25lIGZsYXQgc2luY2Ugd2UgbmVlZCB0byB3cml0ZSB0byBpdC5cbiAgICAgICAgICAgICAgICBkc3QgPSBsaXN0LnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmxhdHRlbihpdGVtLCBkc3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRzdCAhPT0gbGlzdCkge1xuICAgICAgICAgICAgZHN0LnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRzdDtcbn1cbmZ1bmN0aW9uIGRlZXBGb3JFYWNoKGlucHV0LCBmbikge1xuICAgIGlucHV0LmZvckVhY2godmFsdWUgPT4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBkZWVwRm9yRWFjaCh2YWx1ZSwgZm4pIDogZm4odmFsdWUpKTtcbn1cbmZ1bmN0aW9uIGFkZFRvQXJyYXkoYXJyLCBpbmRleCwgdmFsdWUpIHtcbiAgICAvLyBwZXJmOiBhcnJheS5wdXNoIGlzIGZhc3RlciB0aGFuIGFycmF5LnNwbGljZSFcbiAgICBpZiAoaW5kZXggPj0gYXJyLmxlbmd0aCkge1xuICAgICAgICBhcnIucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAwLCB2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVtb3ZlRnJvbUFycmF5KGFyciwgaW5kZXgpIHtcbiAgICAvLyBwZXJmOiBhcnJheS5wb3AgaXMgZmFzdGVyIHRoYW4gYXJyYXkuc3BsaWNlIVxuICAgIGlmIChpbmRleCA+PSBhcnIubGVuZ3RoIC0gMSkge1xuICAgICAgICByZXR1cm4gYXJyLnBvcCgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGFyci5zcGxpY2UoaW5kZXgsIDEpWzBdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5ld0FycmF5KHNpemUsIHZhbHVlKSB7XG4gICAgY29uc3QgbGlzdCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgIGxpc3QucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBsaXN0O1xufVxuLyoqXG4gKiBSZW1vdmUgaXRlbSBmcm9tIGFycmF5IChTYW1lIGFzIGBBcnJheS5zcGxpY2UoKWAgYnV0IGZhc3Rlci4pXG4gKlxuICogYEFycmF5LnNwbGljZSgpYCBpcyBub3QgYXMgZmFzdCBiZWNhdXNlIGl0IGhhcyB0byBhbGxvY2F0ZSBhbiBhcnJheSBmb3IgdGhlIGVsZW1lbnRzIHdoaWNoIHdlcmVcbiAqIHJlbW92ZWQuIFRoaXMgY2F1c2VzIG1lbW9yeSBwcmVzc3VyZSBhbmQgc2xvd3MgZG93biBjb2RlIHdoZW4gbW9zdCBvZiB0aGUgdGltZSB3ZSBkb24ndFxuICogY2FyZSBhYm91dCB0aGUgZGVsZXRlZCBpdGVtcyBhcnJheS5cbiAqXG4gKiBodHRwczovL2pzcGVyZi5jb20vZmFzdC1hcnJheS1zcGxpY2UgKEFib3V0IDIweCBmYXN0ZXIpXG4gKlxuICogQHBhcmFtIGFycmF5IEFycmF5IHRvIHNwbGljZVxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIGVsZW1lbnQgaW4gYXJyYXkgdG8gcmVtb3ZlLlxuICogQHBhcmFtIGNvdW50IE51bWJlciBvZiBpdGVtcyB0byByZW1vdmUuXG4gKi9cbmZ1bmN0aW9uIGFycmF5U3BsaWNlKGFycmF5LCBpbmRleCwgY291bnQpIHtcbiAgICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGggLSBjb3VudDtcbiAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBjb3VudF07XG4gICAgICAgIGluZGV4Kys7XG4gICAgfVxuICAgIHdoaWxlIChjb3VudC0tKSB7XG4gICAgICAgIGFycmF5LnBvcCgpOyAvLyBzaHJpbmsgdGhlIGFycmF5XG4gICAgfVxufVxuLyoqXG4gKiBTYW1lIGFzIGBBcnJheS5zcGxpY2UoaW5kZXgsIDAsIHZhbHVlKWAgYnV0IGZhc3Rlci5cbiAqXG4gKiBgQXJyYXkuc3BsaWNlKClgIGlzIG5vdCBmYXN0IGJlY2F1c2UgaXQgaGFzIHRvIGFsbG9jYXRlIGFuIGFycmF5IGZvciB0aGUgZWxlbWVudHMgd2hpY2ggd2VyZVxuICogcmVtb3ZlZC4gVGhpcyBjYXVzZXMgbWVtb3J5IHByZXNzdXJlIGFuZCBzbG93cyBkb3duIGNvZGUgd2hlbiBtb3N0IG9mIHRoZSB0aW1lIHdlIGRvbid0XG4gKiBjYXJlIGFib3V0IHRoZSBkZWxldGVkIGl0ZW1zIGFycmF5LlxuICpcbiAqIEBwYXJhbSBhcnJheSBBcnJheSB0byBzcGxpY2UuXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggaW4gYXJyYXkgd2hlcmUgdGhlIGB2YWx1ZWAgc2hvdWxkIGJlIGFkZGVkLlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIGFkZCB0byBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlJbnNlcnQoYXJyYXksIGluZGV4LCB2YWx1ZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMZXNzVGhhbk9yRXF1YWwoaW5kZXgsIGFycmF5Lmxlbmd0aCwgJ0NhblxcJ3QgaW5zZXJ0IHBhc3QgYXJyYXkgZW5kLicpO1xuICAgIGxldCBlbmQgPSBhcnJheS5sZW5ndGg7XG4gICAgd2hpbGUgKGVuZCA+IGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzRW5kID0gZW5kIC0gMTtcbiAgICAgICAgYXJyYXlbZW5kXSA9IGFycmF5W3ByZXZpb3VzRW5kXTtcbiAgICAgICAgZW5kID0gcHJldmlvdXNFbmQ7XG4gICAgfVxuICAgIGFycmF5W2luZGV4XSA9IHZhbHVlO1xufVxuLyoqXG4gKiBTYW1lIGFzIGBBcnJheS5zcGxpY2UyKGluZGV4LCAwLCB2YWx1ZTEsIHZhbHVlMilgIGJ1dCBmYXN0ZXIuXG4gKlxuICogYEFycmF5LnNwbGljZSgpYCBpcyBub3QgZmFzdCBiZWNhdXNlIGl0IGhhcyB0byBhbGxvY2F0ZSBhbiBhcnJheSBmb3IgdGhlIGVsZW1lbnRzIHdoaWNoIHdlcmVcbiAqIHJlbW92ZWQuIFRoaXMgY2F1c2VzIG1lbW9yeSBwcmVzc3VyZSBhbmQgc2xvd3MgZG93biBjb2RlIHdoZW4gbW9zdCBvZiB0aGUgdGltZSB3ZSBkb24ndFxuICogY2FyZSBhYm91dCB0aGUgZGVsZXRlZCBpdGVtcyBhcnJheS5cbiAqXG4gKiBAcGFyYW0gYXJyYXkgQXJyYXkgdG8gc3BsaWNlLlxuICogQHBhcmFtIGluZGV4IEluZGV4IGluIGFycmF5IHdoZXJlIHRoZSBgdmFsdWVgIHNob3VsZCBiZSBhZGRlZC5cbiAqIEBwYXJhbSB2YWx1ZTEgVmFsdWUgdG8gYWRkIHRvIGFycmF5LlxuICogQHBhcmFtIHZhbHVlMiBWYWx1ZSB0byBhZGQgdG8gYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5SW5zZXJ0MihhcnJheSwgaW5kZXgsIHZhbHVlMSwgdmFsdWUyKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExlc3NUaGFuT3JFcXVhbChpbmRleCwgYXJyYXkubGVuZ3RoLCAnQ2FuXFwndCBpbnNlcnQgcGFzdCBhcnJheSBlbmQuJyk7XG4gICAgbGV0IGVuZCA9IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoZW5kID09IGluZGV4KSB7XG4gICAgICAgIC8vIGluc2VydGluZyBhdCB0aGUgZW5kLlxuICAgICAgICBhcnJheS5wdXNoKHZhbHVlMSwgdmFsdWUyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZW5kID09PSAxKSB7XG4gICAgICAgIC8vIGNvcm5lciBjYXNlIHdoZW4gd2UgaGF2ZSBsZXNzIGl0ZW1zIGluIGFycmF5IHRoYW4gd2UgaGF2ZSBpdGVtcyB0byBpbnNlcnQuXG4gICAgICAgIGFycmF5LnB1c2godmFsdWUyLCBhcnJheVswXSk7XG4gICAgICAgIGFycmF5WzBdID0gdmFsdWUxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZW5kLS07XG4gICAgICAgIGFycmF5LnB1c2goYXJyYXlbZW5kIC0gMV0sIGFycmF5W2VuZF0pO1xuICAgICAgICB3aGlsZSAoZW5kID4gaW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzRW5kID0gZW5kIC0gMjtcbiAgICAgICAgICAgIGFycmF5W2VuZF0gPSBhcnJheVtwcmV2aW91c0VuZF07XG4gICAgICAgICAgICBlbmQtLTtcbiAgICAgICAgfVxuICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTE7XG4gICAgICAgIGFycmF5W2luZGV4ICsgMV0gPSB2YWx1ZTI7XG4gICAgfVxufVxuLyoqXG4gKiBJbnNlcnQgYSBgdmFsdWVgIGludG8gYW4gYGFycmF5YCBzbyB0aGF0IHRoZSBhcnJheSByZW1haW5zIHNvcnRlZC5cbiAqXG4gKiBOT1RFOlxuICogLSBEdXBsaWNhdGVzIGFyZSBub3QgYWxsb3dlZCwgYW5kIGFyZSBpZ25vcmVkLlxuICogLSBUaGlzIHVzZXMgYmluYXJ5IHNlYXJjaCBhbGdvcml0aG0gZm9yIGZhc3QgaW5zZXJ0cy5cbiAqXG4gKiBAcGFyYW0gYXJyYXkgQSBzb3J0ZWQgYXJyYXkgdG8gaW5zZXJ0IGludG8uXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc2VydC5cbiAqIEByZXR1cm5zIGluZGV4IG9mIHRoZSBpbnNlcnRlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlJbnNlcnRTb3J0ZWQoYXJyYXksIHZhbHVlKSB7XG4gICAgbGV0IGluZGV4ID0gYXJyYXlJbmRleE9mU29ydGVkKGFycmF5LCB2YWx1ZSk7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAvLyBpZiB3ZSBkaWQgbm90IGZpbmQgaXQgaW5zZXJ0IGl0LlxuICAgICAgICBpbmRleCA9IH5pbmRleDtcbiAgICAgICAgYXJyYXlJbnNlcnQoYXJyYXksIGluZGV4LCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbn1cbi8qKlxuICogUmVtb3ZlIGB2YWx1ZWAgZnJvbSBhIHNvcnRlZCBgYXJyYXlgLlxuICpcbiAqIE5PVEU6XG4gKiAtIFRoaXMgdXNlcyBiaW5hcnkgc2VhcmNoIGFsZ29yaXRobSBmb3IgZmFzdCByZW1vdmFscy5cbiAqXG4gKiBAcGFyYW0gYXJyYXkgQSBzb3J0ZWQgYXJyYXkgdG8gcmVtb3ZlIGZyb20uXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIGluZGV4IG9mIHRoZSByZW1vdmVkIHZhbHVlLlxuICogICAtIHBvc2l0aXZlIGluZGV4IGlmIHZhbHVlIGZvdW5kIGFuZCByZW1vdmVkLlxuICogICAtIG5lZ2F0aXZlIGluZGV4IGlmIHZhbHVlIG5vdCBmb3VuZC4gKGB+aW5kZXhgIHRvIGdldCB0aGUgdmFsdWUgd2hlcmUgaXQgc2hvdWxkIGhhdmUgYmVlblxuICogICAgIGluc2VydGVkKVxuICovXG5mdW5jdGlvbiBhcnJheVJlbW92ZVNvcnRlZChhcnJheSwgdmFsdWUpIHtcbiAgICBjb25zdCBpbmRleCA9IGFycmF5SW5kZXhPZlNvcnRlZChhcnJheSwgdmFsdWUpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIGFycmF5U3BsaWNlKGFycmF5LCBpbmRleCwgMSk7XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbn1cbi8qKlxuICogR2V0IGFuIGluZGV4IG9mIGFuIGB2YWx1ZWAgaW4gYSBzb3J0ZWQgYGFycmF5YC5cbiAqXG4gKiBOT1RFOlxuICogLSBUaGlzIHVzZXMgYmluYXJ5IHNlYXJjaCBhbGdvcml0aG0gZm9yIGZhc3QgcmVtb3ZhbHMuXG4gKlxuICogQHBhcmFtIGFycmF5IEEgc29ydGVkIGFycmF5IHRvIGJpbmFyeSBzZWFyY2guXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGxvb2sgZm9yLlxuICogQHJldHVybnMgaW5kZXggb2YgdGhlIHZhbHVlLlxuICogICAtIHBvc2l0aXZlIGluZGV4IGlmIHZhbHVlIGZvdW5kLlxuICogICAtIG5lZ2F0aXZlIGluZGV4IGlmIHZhbHVlIG5vdCBmb3VuZC4gKGB+aW5kZXhgIHRvIGdldCB0aGUgdmFsdWUgd2hlcmUgaXQgc2hvdWxkIGhhdmUgYmVlblxuICogICAgIGxvY2F0ZWQpXG4gKi9cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZlNvcnRlZChhcnJheSwgdmFsdWUpIHtcbiAgICByZXR1cm4gX2FycmF5SW5kZXhPZlNvcnRlZChhcnJheSwgdmFsdWUsIDApO1xufVxuLyoqXG4gKiBTZXQgYSBgdmFsdWVgIGZvciBhIGBrZXlgLlxuICpcbiAqIEBwYXJhbSBrZXlWYWx1ZUFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byBsb2NhdGUgb3IgY3JlYXRlLlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQgZm9yIGEgYGtleWAuXG4gKiBAcmV0dXJucyBpbmRleCAoYWx3YXlzIGV2ZW4pIG9mIHdoZXJlIHRoZSB2YWx1ZSB2YXMgc2V0LlxuICovXG5mdW5jdGlvbiBrZXlWYWx1ZUFycmF5U2V0KGtleVZhbHVlQXJyYXksIGtleSwgdmFsdWUpIHtcbiAgICBsZXQgaW5kZXggPSBrZXlWYWx1ZUFycmF5SW5kZXhPZihrZXlWYWx1ZUFycmF5LCBrZXkpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIC8vIGlmIHdlIGZvdW5kIGl0IHNldCBpdC5cbiAgICAgICAga2V5VmFsdWVBcnJheVtpbmRleCB8IDFdID0gdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbmRleCA9IH5pbmRleDtcbiAgICAgICAgYXJyYXlJbnNlcnQyKGtleVZhbHVlQXJyYXksIGluZGV4LCBrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBhIGB2YWx1ZWAgZm9yIGEgYGtleWAgKG9uIGB1bmRlZmluZWRgIGlmIG5vdCBmb3VuZC4pXG4gKlxuICogQHBhcmFtIGtleVZhbHVlQXJyYXkgdG8gc2VhcmNoLlxuICogQHBhcmFtIGtleSBUaGUga2V5IHRvIGxvY2F0ZS5cbiAqIEByZXR1cm4gVGhlIGB2YWx1ZWAgc3RvcmVkIGF0IHRoZSBga2V5YCBsb2NhdGlvbiBvciBgdW5kZWZpbmVkIGlmIG5vdCBmb3VuZC5cbiAqL1xuZnVuY3Rpb24ga2V5VmFsdWVBcnJheUdldChrZXlWYWx1ZUFycmF5LCBrZXkpIHtcbiAgICBjb25zdCBpbmRleCA9IGtleVZhbHVlQXJyYXlJbmRleE9mKGtleVZhbHVlQXJyYXksIGtleSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgLy8gaWYgd2UgZm91bmQgaXQgcmV0cmlldmUgaXQuXG4gICAgICAgIHJldHVybiBrZXlWYWx1ZUFycmF5W2luZGV4IHwgMV07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4vKipcbiAqIFJldHJpZXZlIGEgYGtleWAgaW5kZXggdmFsdWUgaW4gdGhlIGFycmF5IG9yIGAtMWAgaWYgbm90IGZvdW5kLlxuICpcbiAqIEBwYXJhbSBrZXlWYWx1ZUFycmF5IHRvIHNlYXJjaC5cbiAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byBsb2NhdGUuXG4gKiBAcmV0dXJucyBpbmRleCBvZiB3aGVyZSB0aGUga2V5IGlzIChvciBzaG91bGQgaGF2ZSBiZWVuLilcbiAqICAgLSBwb3NpdGl2ZSAoZXZlbikgaW5kZXggaWYga2V5IGZvdW5kLlxuICogICAtIG5lZ2F0aXZlIGluZGV4IGlmIGtleSBub3QgZm91bmQuIChgfmluZGV4YCAoZXZlbikgdG8gZ2V0IHRoZSBpbmRleCB3aGVyZSBpdCBzaG91bGQgaGF2ZVxuICogICAgIGJlZW4gaW5zZXJ0ZWQuKVxuICovXG5mdW5jdGlvbiBrZXlWYWx1ZUFycmF5SW5kZXhPZihrZXlWYWx1ZUFycmF5LCBrZXkpIHtcbiAgICByZXR1cm4gX2FycmF5SW5kZXhPZlNvcnRlZChrZXlWYWx1ZUFycmF5LCBrZXksIDEpO1xufVxuLyoqXG4gKiBEZWxldGUgYSBga2V5YCAoYW5kIGB2YWx1ZWApIGZyb20gdGhlIGBLZXlWYWx1ZUFycmF5YC5cbiAqXG4gKiBAcGFyYW0ga2V5VmFsdWVBcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gbG9jYXRlIG9yIGRlbGV0ZSAoaWYgZXhpc3QpLlxuICogQHJldHVybnMgaW5kZXggb2Ygd2hlcmUgdGhlIGtleSB3YXMgKG9yIHNob3VsZCBoYXZlIGJlZW4uKVxuICogICAtIHBvc2l0aXZlIChldmVuKSBpbmRleCBpZiBrZXkgZm91bmQgYW5kIGRlbGV0ZWQuXG4gKiAgIC0gbmVnYXRpdmUgaW5kZXggaWYga2V5IG5vdCBmb3VuZC4gKGB+aW5kZXhgIChldmVuKSB0byBnZXQgdGhlIGluZGV4IHdoZXJlIGl0IHNob3VsZCBoYXZlXG4gKiAgICAgYmVlbi4pXG4gKi9cbmZ1bmN0aW9uIGtleVZhbHVlQXJyYXlEZWxldGUoa2V5VmFsdWVBcnJheSwga2V5KSB7XG4gICAgY29uc3QgaW5kZXggPSBrZXlWYWx1ZUFycmF5SW5kZXhPZihrZXlWYWx1ZUFycmF5LCBrZXkpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIC8vIGlmIHdlIGZvdW5kIGl0IHJlbW92ZSBpdC5cbiAgICAgICAgYXJyYXlTcGxpY2Uoa2V5VmFsdWVBcnJheSwgaW5kZXgsIDIpO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG59XG4vKipcbiAqIElOVEVSTkFMOiBHZXQgYW4gaW5kZXggb2YgYW4gYHZhbHVlYCBpbiBhIHNvcnRlZCBgYXJyYXlgIGJ5IGdyb3VwaW5nIHNlYXJjaCBieSBgc2hpZnRgLlxuICpcbiAqIE5PVEU6XG4gKiAtIFRoaXMgdXNlcyBiaW5hcnkgc2VhcmNoIGFsZ29yaXRobSBmb3IgZmFzdCByZW1vdmFscy5cbiAqXG4gKiBAcGFyYW0gYXJyYXkgQSBzb3J0ZWQgYXJyYXkgdG8gYmluYXJ5IHNlYXJjaC5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gbG9vayBmb3IuXG4gKiBAcGFyYW0gc2hpZnQgZ3JvdXBpbmcgc2hpZnQuXG4gKiAgIC0gYDBgIG1lYW5zIGxvb2sgYXQgZXZlcnkgbG9jYXRpb25cbiAqICAgLSBgMWAgbWVhbnMgb25seSBsb29rIGF0IGV2ZXJ5IG90aGVyIChldmVuKSBsb2NhdGlvbiAodGhlIG9kZCBsb2NhdGlvbnMgYXJlIHRvIGJlIGlnbm9yZWQgYXNcbiAqICAgICAgICAgdGhleSBhcmUgdmFsdWVzLilcbiAqIEByZXR1cm5zIGluZGV4IG9mIHRoZSB2YWx1ZS5cbiAqICAgLSBwb3NpdGl2ZSBpbmRleCBpZiB2YWx1ZSBmb3VuZC5cbiAqICAgLSBuZWdhdGl2ZSBpbmRleCBpZiB2YWx1ZSBub3QgZm91bmQuIChgfmluZGV4YCB0byBnZXQgdGhlIHZhbHVlIHdoZXJlIGl0IHNob3VsZCBoYXZlIGJlZW5cbiAqIGluc2VydGVkKVxuICovXG5mdW5jdGlvbiBfYXJyYXlJbmRleE9mU29ydGVkKGFycmF5LCB2YWx1ZSwgc2hpZnQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwoQXJyYXkuaXNBcnJheShhcnJheSksIHRydWUsICdFeHBlY3RpbmcgYW4gYXJyYXknKTtcbiAgICBsZXQgc3RhcnQgPSAwO1xuICAgIGxldCBlbmQgPSBhcnJheS5sZW5ndGggPj4gc2hpZnQ7XG4gICAgd2hpbGUgKGVuZCAhPT0gc3RhcnQpIHtcbiAgICAgICAgY29uc3QgbWlkZGxlID0gc3RhcnQgKyAoKGVuZCAtIHN0YXJ0KSA+PiAxKTsgLy8gZmluZCB0aGUgbWlkZGxlLlxuICAgICAgICBjb25zdCBjdXJyZW50ID0gYXJyYXlbbWlkZGxlIDw8IHNoaWZ0XTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBjdXJyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gKG1pZGRsZSA8PCBzaGlmdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VycmVudCA+IHZhbHVlKSB7XG4gICAgICAgICAgICBlbmQgPSBtaWRkbGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGFydCA9IG1pZGRsZSArIDE7IC8vIFdlIGFscmVhZHkgc2VhcmNoZWQgbWlkZGxlIHNvIG1ha2UgaXQgbm9uLWluY2x1c2l2ZSBieSBhZGRpbmcgMVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB+KGVuZCA8PCBzaGlmdCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLypcbiAqICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbiAqIEF0dGVudGlvbjogVGhlc2UgUmVndWxhciBleHByZXNzaW9ucyBoYXZlIHRvIGhvbGQgZXZlbiBpZiB0aGUgY29kZSBpcyBtaW5pZmllZCFcbiAqICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4gKi9cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHRoYXQgZGV0ZWN0cyBwYXNzLXRocm91Z2ggY29uc3RydWN0b3JzIGZvciBFUzUgb3V0cHV0LiBUaGlzIFJlZ2V4XG4gKiBpbnRlbmRzIHRvIGNhcHR1cmUgdGhlIGNvbW1vbiBkZWxlZ2F0aW9uIHBhdHRlcm4gZW1pdHRlZCBieSBUeXBlU2NyaXB0IGFuZCBCYWJlbC4gQWxzb1xuICogaXQgaW50ZW5kcyB0byBjYXB0dXJlIHRoZSBwYXR0ZXJuIHdoZXJlIGV4aXN0aW5nIGNvbnN0cnVjdG9ycyBoYXZlIGJlZW4gZG93bmxldmVsZWQgZnJvbVxuICogRVMyMDE1IHRvIEVTNSB1c2luZyBUeXBlU2NyaXB0IHcvIGRvd25sZXZlbCBpdGVyYXRpb24uIGUuZy5cbiAqXG4gKiBgYGBcbiAqICAgZnVuY3Rpb24gTXlDbGFzcygpIHtcbiAqICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICogYGBgXG4gKlxuICogZG93bmxldmVsZWQgdG8gRVM1IHdpdGggYGRvd25sZXZlbEl0ZXJhdGlvbmAgZm9yIFR5cGVTY3JpcHQgPCA0LjI6XG4gKiBgYGBcbiAqICAgZnVuY3Rpb24gTXlDbGFzcygpIHtcbiAqICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgX19zcHJlYWQoYXJndW1lbnRzKSkgfHwgdGhpcztcbiAqIGBgYFxuICpcbiAqIG9yIGRvd25sZXZlbGVkIHRvIEVTNSB3aXRoIGBkb3dubGV2ZWxJdGVyYXRpb25gIGZvciBUeXBlU2NyaXB0ID49IDQuMjpcbiAqIGBgYFxuICogICBmdW5jdGlvbiBNeUNsYXNzKCkge1xuICogICAgIHZhciBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJndW1lbnRzKSwgZmFsc2UpKSB8fCB0aGlzO1xuICogYGBgXG4gKlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBpbjogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMzg0NTMuXG4gKi9cbmNvbnN0IEVTNV9ERUxFR0FURV9DVE9SID0gL15mdW5jdGlvblxccytcXFMrXFwoXFwpXFxzKntbXFxzXFxTXStcXC5hcHBseVxcKHRoaXMsXFxzKihhcmd1bWVudHN8KD86W14oKV0rXFwoXFxbXFxdLCk/W14oKV0rXFwoYXJndW1lbnRzXFwpLiopXFwpLztcbi8qKiBSZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBkZXRlY3RzIEVTMjAxNSBjbGFzc2VzIHdoaWNoIGV4dGVuZCBmcm9tIG90aGVyIGNsYXNzZXMuICovXG5jb25zdCBFUzIwMTVfSU5IRVJJVEVEX0NMQVNTID0gL15jbGFzc1xccytbQS1aYS16XFxkJF9dKlxccypleHRlbmRzXFxzK1tee10rey87XG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGRldGVjdHMgRVMyMDE1IGNsYXNzZXMgd2hpY2ggZXh0ZW5kIGZyb20gb3RoZXIgY2xhc3NlcyBhbmRcbiAqIGhhdmUgYW4gZXhwbGljaXQgY29uc3RydWN0b3IgZGVmaW5lZC5cbiAqL1xuY29uc3QgRVMyMDE1X0lOSEVSSVRFRF9DTEFTU19XSVRIX0NUT1IgPSAvXmNsYXNzXFxzK1tBLVphLXpcXGQkX10qXFxzKmV4dGVuZHNcXHMrW157XSt7W1xcc1xcU10qY29uc3RydWN0b3JcXHMqXFwoLztcbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHRoYXQgZGV0ZWN0cyBFUzIwMTUgY2xhc3NlcyB3aGljaCBleHRlbmQgZnJvbSBvdGhlciBjbGFzc2VzXG4gKiBhbmQgaW5oZXJpdCBhIGNvbnN0cnVjdG9yLlxuICovXG5jb25zdCBFUzIwMTVfSU5IRVJJVEVEX0NMQVNTX1dJVEhfREVMRUdBVEVfQ1RPUiA9IC9eY2xhc3NcXHMrW0EtWmEtelxcZCRfXSpcXHMqZXh0ZW5kc1xccytbXntdK3tbXFxzXFxTXSpjb25zdHJ1Y3RvclxccypcXChcXClcXHMqe1tefV0qc3VwZXJcXChcXC5cXC5cXC5hcmd1bWVudHNcXCkvO1xuLyoqXG4gKiBEZXRlcm1pbmUgd2hldGhlciBhIHN0cmluZ2lmaWVkIHR5cGUgaXMgYSBjbGFzcyB3aGljaCBkZWxlZ2F0ZXMgaXRzIGNvbnN0cnVjdG9yXG4gKiB0byBpdHMgcGFyZW50LlxuICpcbiAqIFRoaXMgaXMgbm90IHRyaXZpYWwgc2luY2UgY29tcGlsZWQgY29kZSBjYW4gYWN0dWFsbHkgY29udGFpbiBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uXG4gKiBldmVuIGlmIHRoZSBvcmlnaW5hbCBzb3VyY2UgY29kZSBkaWQgbm90LiBGb3IgaW5zdGFuY2UsIHdoZW4gdGhlIGNoaWxkIGNsYXNzIGNvbnRhaW5zXG4gKiBhbiBpbml0aWFsaXplZCBpbnN0YW5jZSBwcm9wZXJ0eS5cbiAqL1xuZnVuY3Rpb24gaXNEZWxlZ2F0ZUN0b3IodHlwZVN0cikge1xuICAgIHJldHVybiBFUzVfREVMRUdBVEVfQ1RPUi50ZXN0KHR5cGVTdHIpIHx8XG4gICAgICAgIEVTMjAxNV9JTkhFUklURURfQ0xBU1NfV0lUSF9ERUxFR0FURV9DVE9SLnRlc3QodHlwZVN0cikgfHxcbiAgICAgICAgKEVTMjAxNV9JTkhFUklURURfQ0xBU1MudGVzdCh0eXBlU3RyKSAmJiAhRVMyMDE1X0lOSEVSSVRFRF9DTEFTU19XSVRIX0NUT1IudGVzdCh0eXBlU3RyKSk7XG59XG5jbGFzcyBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzIHtcbiAgICBjb25zdHJ1Y3RvcihyZWZsZWN0KSB7XG4gICAgICAgIHRoaXMuX3JlZmxlY3QgPSByZWZsZWN0IHx8IF9nbG9iYWxbJ1JlZmxlY3QnXTtcbiAgICB9XG4gICAgaXNSZWZsZWN0aW9uRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZhY3RvcnkodCkge1xuICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IG5ldyB0KC4uLmFyZ3MpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3ppcFR5cGVzQW5kQW5ub3RhdGlvbnMocGFyYW1UeXBlcywgcGFyYW1Bbm5vdGF0aW9ucykge1xuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICBpZiAodHlwZW9mIHBhcmFtVHlwZXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXdBcnJheShwYXJhbUFubm90YXRpb25zLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXdBcnJheShwYXJhbVR5cGVzLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIFRTIG91dHB1dHMgT2JqZWN0IGZvciBwYXJhbWV0ZXJzIHdpdGhvdXQgdHlwZXMsIHdoaWxlIFRyYWNldXIgb21pdHNcbiAgICAgICAgICAgIC8vIHRoZSBhbm5vdGF0aW9ucy4gRm9yIG5vdyB3ZSBwcmVzZXJ2ZSB0aGUgVHJhY2V1ciBiZWhhdmlvciB0byBhaWRcbiAgICAgICAgICAgIC8vIG1pZ3JhdGlvbiwgYnV0IHRoaXMgY2FuIGJlIHJldmlzaXRlZC5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW1UeXBlcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtVHlwZXNbaV0gJiYgcGFyYW1UeXBlc1tpXSAhPSBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBbcGFyYW1UeXBlc1tpXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJhbUFubm90YXRpb25zICYmIHBhcmFtQW5ub3RhdGlvbnNbaV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IHJlc3VsdFtpXS5jb25jYXQocGFyYW1Bbm5vdGF0aW9uc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgX293blBhcmFtZXRlcnModHlwZSwgcGFyZW50Q3Rvcikge1xuICAgICAgICBjb25zdCB0eXBlU3RyID0gdHlwZS50b1N0cmluZygpO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIG5vIGRlY29yYXRvcnMsIHdlIG9ubHkgaGF2ZSBmdW5jdGlvbi5sZW5ndGggYXMgbWV0YWRhdGEuXG4gICAgICAgIC8vIEluIHRoYXQgY2FzZSwgdG8gZGV0ZWN0IHdoZXRoZXIgYSBjaGlsZCBjbGFzcyBkZWNsYXJlZCBhbiBvd24gY29uc3RydWN0b3Igb3Igbm90LFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGxvb2sgaW5zaWRlIG9mIHRoYXQgY29uc3RydWN0b3IgdG8gY2hlY2sgd2hldGhlciBpdCBpc1xuICAgICAgICAvLyBqdXN0IGNhbGxpbmcgdGhlIHBhcmVudC5cbiAgICAgICAgLy8gVGhpcyBhbHNvIGhlbHBzIHRvIHdvcmsgYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzEyNDM5XG4gICAgICAgIC8vIHRoYXQgc2V0cyAnZGVzaWduOnBhcmFtdHlwZXMnIHRvIFtdXG4gICAgICAgIC8vIGlmIGEgY2xhc3MgaW5oZXJpdHMgZnJvbSBhbm90aGVyIGNsYXNzIGJ1dCBoYXMgbm8gY3RvciBkZWNsYXJlZCBpdHNlbGYuXG4gICAgICAgIGlmIChpc0RlbGVnYXRlQ3Rvcih0eXBlU3RyKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJlZmVyIHRoZSBkaXJlY3QgQVBJLlxuICAgICAgICBpZiAodHlwZS5wYXJhbWV0ZXJzICYmIHR5cGUucGFyYW1ldGVycyAhPT0gcGFyZW50Q3Rvci5wYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZS5wYXJhbWV0ZXJzO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFQSSBvZiB0c2lja2xlIGZvciBsb3dlcmluZyBkZWNvcmF0b3JzIHRvIHByb3BlcnRpZXMgb24gdGhlIGNsYXNzLlxuICAgICAgICBjb25zdCB0c2lja2xlQ3RvclBhcmFtcyA9IHR5cGUuY3RvclBhcmFtZXRlcnM7XG4gICAgICAgIGlmICh0c2lja2xlQ3RvclBhcmFtcyAmJiB0c2lja2xlQ3RvclBhcmFtcyAhPT0gcGFyZW50Q3Rvci5jdG9yUGFyYW1ldGVycykge1xuICAgICAgICAgICAgLy8gTmV3ZXIgdHNpY2tsZSB1c2VzIGEgZnVuY3Rpb24gY2xvc3VyZVxuICAgICAgICAgICAgLy8gUmV0YWluIHRoZSBub24tZnVuY3Rpb24gY2FzZSBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG9sZGVyIHRzaWNrbGVcbiAgICAgICAgICAgIGNvbnN0IGN0b3JQYXJhbWV0ZXJzID0gdHlwZW9mIHRzaWNrbGVDdG9yUGFyYW1zID09PSAnZnVuY3Rpb24nID8gdHNpY2tsZUN0b3JQYXJhbXMoKSA6IHRzaWNrbGVDdG9yUGFyYW1zO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1UeXBlcyA9IGN0b3JQYXJhbWV0ZXJzLm1hcCgoY3RvclBhcmFtKSA9PiBjdG9yUGFyYW0gJiYgY3RvclBhcmFtLnR5cGUpO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1Bbm5vdGF0aW9ucyA9IGN0b3JQYXJhbWV0ZXJzLm1hcCgoY3RvclBhcmFtKSA9PiBjdG9yUGFyYW0gJiYgY29udmVydFRzaWNrbGVEZWNvcmF0b3JJbnRvTWV0YWRhdGEoY3RvclBhcmFtLmRlY29yYXRvcnMpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl96aXBUeXBlc0FuZEFubm90YXRpb25zKHBhcmFtVHlwZXMsIHBhcmFtQW5ub3RhdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFQSSBmb3IgbWV0YWRhdGEgY3JlYXRlZCBieSBpbnZva2luZyB0aGUgZGVjb3JhdG9ycy5cbiAgICAgICAgY29uc3QgcGFyYW1Bbm5vdGF0aW9ucyA9IHR5cGUuaGFzT3duUHJvcGVydHkoUEFSQU1FVEVSUykgJiYgdHlwZVtQQVJBTUVURVJTXTtcbiAgICAgICAgY29uc3QgcGFyYW1UeXBlcyA9IHRoaXMuX3JlZmxlY3QgJiYgdGhpcy5fcmVmbGVjdC5nZXRPd25NZXRhZGF0YSAmJlxuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdC5nZXRPd25NZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCB0eXBlKTtcbiAgICAgICAgaWYgKHBhcmFtVHlwZXMgfHwgcGFyYW1Bbm5vdGF0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ppcFR5cGVzQW5kQW5ub3RhdGlvbnMocGFyYW1UeXBlcywgcGFyYW1Bbm5vdGF0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgYSBjbGFzcyBoYXMgbm8gZGVjb3JhdG9ycywgYXQgbGVhc3QgY3JlYXRlIG1ldGFkYXRhXG4gICAgICAgIC8vIGJhc2VkIG9uIGZ1bmN0aW9uLmxlbmd0aC5cbiAgICAgICAgLy8gTm90ZTogV2Uga25vdyB0aGF0IHRoaXMgaXMgYSByZWFsIGNvbnN0cnVjdG9yIGFzIHdlIGNoZWNrZWRcbiAgICAgICAgLy8gdGhlIGNvbnRlbnQgb2YgdGhlIGNvbnN0cnVjdG9yIGFib3ZlLlxuICAgICAgICByZXR1cm4gbmV3QXJyYXkodHlwZS5sZW5ndGgpO1xuICAgIH1cbiAgICBwYXJhbWV0ZXJzKHR5cGUpIHtcbiAgICAgICAgLy8gTm90ZTogb25seSByZXBvcnQgbWV0YWRhdGEgaWYgd2UgaGF2ZSBhdCBsZWFzdCBvbmUgY2xhc3MgZGVjb3JhdG9yXG4gICAgICAgIC8vIHRvIHN0YXkgaW4gc3luYyB3aXRoIHRoZSBzdGF0aWMgcmVmbGVjdG9yLlxuICAgICAgICBpZiAoIWlzVHlwZSh0eXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmVudEN0b3IgPSBnZXRQYXJlbnRDdG9yKHR5cGUpO1xuICAgICAgICBsZXQgcGFyYW1ldGVycyA9IHRoaXMuX293blBhcmFtZXRlcnModHlwZSwgcGFyZW50Q3Rvcik7XG4gICAgICAgIGlmICghcGFyYW1ldGVycyAmJiBwYXJlbnRDdG9yICE9PSBPYmplY3QpIHtcbiAgICAgICAgICAgIHBhcmFtZXRlcnMgPSB0aGlzLnBhcmFtZXRlcnMocGFyZW50Q3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmFtZXRlcnMgfHwgW107XG4gICAgfVxuICAgIF9vd25Bbm5vdGF0aW9ucyh0eXBlT3JGdW5jLCBwYXJlbnRDdG9yKSB7XG4gICAgICAgIC8vIFByZWZlciB0aGUgZGlyZWN0IEFQSS5cbiAgICAgICAgaWYgKHR5cGVPckZ1bmMuYW5ub3RhdGlvbnMgJiYgdHlwZU9yRnVuYy5hbm5vdGF0aW9ucyAhPT0gcGFyZW50Q3Rvci5hbm5vdGF0aW9ucykge1xuICAgICAgICAgICAgbGV0IGFubm90YXRpb25zID0gdHlwZU9yRnVuYy5hbm5vdGF0aW9ucztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYW5ub3RhdGlvbnMgPT09ICdmdW5jdGlvbicgJiYgYW5ub3RhdGlvbnMuYW5ub3RhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9ucyA9IGFubm90YXRpb25zLmFubm90YXRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFubm90YXRpb25zO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFQSSBvZiB0c2lja2xlIGZvciBsb3dlcmluZyBkZWNvcmF0b3JzIHRvIHByb3BlcnRpZXMgb24gdGhlIGNsYXNzLlxuICAgICAgICBpZiAodHlwZU9yRnVuYy5kZWNvcmF0b3JzICYmIHR5cGVPckZ1bmMuZGVjb3JhdG9ycyAhPT0gcGFyZW50Q3Rvci5kZWNvcmF0b3JzKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udmVydFRzaWNrbGVEZWNvcmF0b3JJbnRvTWV0YWRhdGEodHlwZU9yRnVuYy5kZWNvcmF0b3JzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgZm9yIG1ldGFkYXRhIGNyZWF0ZWQgYnkgaW52b2tpbmcgdGhlIGRlY29yYXRvcnMuXG4gICAgICAgIGlmICh0eXBlT3JGdW5jLmhhc093blByb3BlcnR5KEFOTk9UQVRJT05TKSkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVPckZ1bmNbQU5OT1RBVElPTlNdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBhbm5vdGF0aW9ucyh0eXBlT3JGdW5jKSB7XG4gICAgICAgIGlmICghaXNUeXBlKHR5cGVPckZ1bmMpKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyZW50Q3RvciA9IGdldFBhcmVudEN0b3IodHlwZU9yRnVuYyk7XG4gICAgICAgIGNvbnN0IG93bkFubm90YXRpb25zID0gdGhpcy5fb3duQW5ub3RhdGlvbnModHlwZU9yRnVuYywgcGFyZW50Q3RvcikgfHwgW107XG4gICAgICAgIGNvbnN0IHBhcmVudEFubm90YXRpb25zID0gcGFyZW50Q3RvciAhPT0gT2JqZWN0ID8gdGhpcy5hbm5vdGF0aW9ucyhwYXJlbnRDdG9yKSA6IFtdO1xuICAgICAgICByZXR1cm4gcGFyZW50QW5ub3RhdGlvbnMuY29uY2F0KG93bkFubm90YXRpb25zKTtcbiAgICB9XG4gICAgX293blByb3BNZXRhZGF0YSh0eXBlT3JGdW5jLCBwYXJlbnRDdG9yKSB7XG4gICAgICAgIC8vIFByZWZlciB0aGUgZGlyZWN0IEFQSS5cbiAgICAgICAgaWYgKHR5cGVPckZ1bmMucHJvcE1ldGFkYXRhICYmXG4gICAgICAgICAgICB0eXBlT3JGdW5jLnByb3BNZXRhZGF0YSAhPT0gcGFyZW50Q3Rvci5wcm9wTWV0YWRhdGEpIHtcbiAgICAgICAgICAgIGxldCBwcm9wTWV0YWRhdGEgPSB0eXBlT3JGdW5jLnByb3BNZXRhZGF0YTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcE1ldGFkYXRhID09PSAnZnVuY3Rpb24nICYmIHByb3BNZXRhZGF0YS5wcm9wTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICBwcm9wTWV0YWRhdGEgPSBwcm9wTWV0YWRhdGEucHJvcE1ldGFkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb3BNZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgb2YgdHNpY2tsZSBmb3IgbG93ZXJpbmcgZGVjb3JhdG9ycyB0byBwcm9wZXJ0aWVzIG9uIHRoZSBjbGFzcy5cbiAgICAgICAgaWYgKHR5cGVPckZ1bmMucHJvcERlY29yYXRvcnMgJiZcbiAgICAgICAgICAgIHR5cGVPckZ1bmMucHJvcERlY29yYXRvcnMgIT09IHBhcmVudEN0b3IucHJvcERlY29yYXRvcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BEZWNvcmF0b3JzID0gdHlwZU9yRnVuYy5wcm9wRGVjb3JhdG9ycztcbiAgICAgICAgICAgIGNvbnN0IHByb3BNZXRhZGF0YSA9IHt9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXMocHJvcERlY29yYXRvcnMpLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICAgICAgICAgICAgcHJvcE1ldGFkYXRhW3Byb3BdID0gY29udmVydFRzaWNrbGVEZWNvcmF0b3JJbnRvTWV0YWRhdGEocHJvcERlY29yYXRvcnNbcHJvcF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvcE1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFQSSBmb3IgbWV0YWRhdGEgY3JlYXRlZCBieSBpbnZva2luZyB0aGUgZGVjb3JhdG9ycy5cbiAgICAgICAgaWYgKHR5cGVPckZ1bmMuaGFzT3duUHJvcGVydHkoUFJPUF9NRVRBREFUQSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlT3JGdW5jW1BST1BfTUVUQURBVEFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBwcm9wTWV0YWRhdGEodHlwZU9yRnVuYykge1xuICAgICAgICBpZiAoIWlzVHlwZSh0eXBlT3JGdW5jKSkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmVudEN0b3IgPSBnZXRQYXJlbnRDdG9yKHR5cGVPckZ1bmMpO1xuICAgICAgICBjb25zdCBwcm9wTWV0YWRhdGEgPSB7fTtcbiAgICAgICAgaWYgKHBhcmVudEN0b3IgIT09IE9iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50UHJvcE1ldGFkYXRhID0gdGhpcy5wcm9wTWV0YWRhdGEocGFyZW50Q3Rvcik7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhwYXJlbnRQcm9wTWV0YWRhdGEpLmZvckVhY2goKHByb3BOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJvcE1ldGFkYXRhW3Byb3BOYW1lXSA9IHBhcmVudFByb3BNZXRhZGF0YVtwcm9wTmFtZV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvd25Qcm9wTWV0YWRhdGEgPSB0aGlzLl9vd25Qcm9wTWV0YWRhdGEodHlwZU9yRnVuYywgcGFyZW50Q3Rvcik7XG4gICAgICAgIGlmIChvd25Qcm9wTWV0YWRhdGEpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG93blByb3BNZXRhZGF0YSkuZm9yRWFjaCgocHJvcE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNvcmF0b3JzID0gW107XG4gICAgICAgICAgICAgICAgaWYgKHByb3BNZXRhZGF0YS5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjb3JhdG9ycy5wdXNoKC4uLnByb3BNZXRhZGF0YVtwcm9wTmFtZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWNvcmF0b3JzLnB1c2goLi4ub3duUHJvcE1ldGFkYXRhW3Byb3BOYW1lXSk7XG4gICAgICAgICAgICAgICAgcHJvcE1ldGFkYXRhW3Byb3BOYW1lXSA9IGRlY29yYXRvcnM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvcE1ldGFkYXRhO1xuICAgIH1cbiAgICBvd25Qcm9wTWV0YWRhdGEodHlwZU9yRnVuYykge1xuICAgICAgICBpZiAoIWlzVHlwZSh0eXBlT3JGdW5jKSkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9vd25Qcm9wTWV0YWRhdGEodHlwZU9yRnVuYywgZ2V0UGFyZW50Q3Rvcih0eXBlT3JGdW5jKSkgfHwge307XG4gICAgfVxuICAgIGhhc0xpZmVjeWNsZUhvb2sodHlwZSwgbGNQcm9wZXJ0eSkge1xuICAgICAgICByZXR1cm4gdHlwZSBpbnN0YW5jZW9mIFR5cGUgJiYgbGNQcm9wZXJ0eSBpbiB0eXBlLnByb3RvdHlwZTtcbiAgICB9XG4gICAgZ3VhcmRzKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBnZXR0ZXIobmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKCdvJywgJ3JldHVybiBvLicgKyBuYW1lICsgJzsnKTtcbiAgICB9XG4gICAgc2V0dGVyKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbignbycsICd2JywgJ3JldHVybiBvLicgKyBuYW1lICsgJyA9IHY7Jyk7XG4gICAgfVxuICAgIG1ldGhvZChuYW1lKSB7XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uQm9keSA9IGBpZiAoIW8uJHtuYW1lfSkgdGhyb3cgbmV3IEVycm9yKCdcIiR7bmFtZX1cIiBpcyB1bmRlZmluZWQnKTtcbiAgICAgICAgcmV0dXJuIG8uJHtuYW1lfS5hcHBseShvLCBhcmdzKTtgO1xuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKCdvJywgJ2FyZ3MnLCBmdW5jdGlvbkJvZHkpO1xuICAgIH1cbiAgICAvLyBUaGVyZSBpcyBub3QgYSBjb25jZXB0IG9mIGltcG9ydCB1cmkgaW4gSnMsIGJ1dCB0aGlzIGlzIHVzZWZ1bCBpbiBkZXZlbG9waW5nIERhcnQgYXBwbGljYXRpb25zLlxuICAgIGltcG9ydFVyaSh0eXBlKSB7XG4gICAgICAgIC8vIFN0YXRpY1N5bWJvbFxuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGVbJ2ZpbGVQYXRoJ10pIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlWydmaWxlUGF0aCddO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJ1bnRpbWUgdHlwZVxuICAgICAgICByZXR1cm4gYC4vJHtzdHJpbmdpZnkodHlwZSl9YDtcbiAgICB9XG4gICAgcmVzb3VyY2VVcmkodHlwZSkge1xuICAgICAgICByZXR1cm4gYC4vJHtzdHJpbmdpZnkodHlwZSl9YDtcbiAgICB9XG4gICAgcmVzb2x2ZUlkZW50aWZpZXIobmFtZSwgbW9kdWxlVXJsLCBtZW1iZXJzLCBydW50aW1lKSB7XG4gICAgICAgIHJldHVybiBydW50aW1lO1xuICAgIH1cbiAgICByZXNvbHZlRW51bShlbnVtSWRlbnRpZmllciwgbmFtZSkge1xuICAgICAgICByZXR1cm4gZW51bUlkZW50aWZpZXJbbmFtZV07XG4gICAgfVxufVxuZnVuY3Rpb24gY29udmVydFRzaWNrbGVEZWNvcmF0b3JJbnRvTWV0YWRhdGEoZGVjb3JhdG9ySW52b2NhdGlvbnMpIHtcbiAgICBpZiAoIWRlY29yYXRvckludm9jYXRpb25zKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY29yYXRvckludm9jYXRpb25zLm1hcChkZWNvcmF0b3JJbnZvY2F0aW9uID0+IHtcbiAgICAgICAgY29uc3QgZGVjb3JhdG9yVHlwZSA9IGRlY29yYXRvckludm9jYXRpb24udHlwZTtcbiAgICAgICAgY29uc3QgYW5ub3RhdGlvbkNscyA9IGRlY29yYXRvclR5cGUuYW5ub3RhdGlvbkNscztcbiAgICAgICAgY29uc3QgYW5ub3RhdGlvbkFyZ3MgPSBkZWNvcmF0b3JJbnZvY2F0aW9uLmFyZ3MgPyBkZWNvcmF0b3JJbnZvY2F0aW9uLmFyZ3MgOiBbXTtcbiAgICAgICAgcmV0dXJuIG5ldyBhbm5vdGF0aW9uQ2xzKC4uLmFubm90YXRpb25BcmdzKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldFBhcmVudEN0b3IoY3Rvcikge1xuICAgIGNvbnN0IHBhcmVudFByb3RvID0gY3Rvci5wcm90b3R5cGUgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY3Rvci5wcm90b3R5cGUpIDogbnVsbDtcbiAgICBjb25zdCBwYXJlbnRDdG9yID0gcGFyZW50UHJvdG8gPyBwYXJlbnRQcm90by5jb25zdHJ1Y3RvciA6IG51bGw7XG4gICAgLy8gTm90ZTogV2UgYWx3YXlzIHVzZSBgT2JqZWN0YCBhcyB0aGUgbnVsbCB2YWx1ZVxuICAgIC8vIHRvIHNpbXBsaWZ5IGNoZWNraW5nIGxhdGVyIG9uLlxuICAgIHJldHVybiBwYXJlbnRDdG9yIHx8IE9iamVjdDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBfVEhST1dfSUZfTk9UX0ZPVU5EID0ge307XG5jb25zdCBUSFJPV19JRl9OT1RfRk9VTkQgPSBfVEhST1dfSUZfTk9UX0ZPVU5EO1xuLypcbiAqIE5hbWUgb2YgYSBwcm9wZXJ0eSAodGhhdCB3ZSBwYXRjaCBvbnRvIERJIGRlY29yYXRvciksIHdoaWNoIGlzIHVzZWQgYXMgYW4gYW5ub3RhdGlvbiBvZiB3aGljaFxuICogSW5qZWN0RmxhZyB0aGlzIGRlY29yYXRvciByZXByZXNlbnRzLiBUaGlzIGFsbG93cyB0byBhdm9pZCBkaXJlY3QgcmVmZXJlbmNlcyB0byB0aGUgREkgZGVjb3JhdG9yc1xuICogaW4gdGhlIGNvZGUsIHRodXMgbWFraW5nIHRoZW0gdHJlZS1zaGFrYWJsZS5cbiAqL1xuY29uc3QgRElfREVDT1JBVE9SX0ZMQUcgPSAnX19OR19ESV9GTEFHX18nO1xuY29uc3QgTkdfVEVNUF9UT0tFTl9QQVRIID0gJ25nVGVtcFRva2VuUGF0aCc7XG5jb25zdCBOR19UT0tFTl9QQVRIID0gJ25nVG9rZW5QYXRoJztcbmNvbnN0IE5FV19MSU5FID0gL1xcbi9nbTtcbmNvbnN0IE5PX05FV19MSU5FID0gJ8m1JztcbmNvbnN0IFNPVVJDRSA9ICdfX3NvdXJjZSc7XG5jb25zdCBVU0VfVkFMVUUkMSA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyBwcm92aWRlOiBTdHJpbmcsIHVzZVZhbHVlOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuLyoqXG4gKiBDdXJyZW50IGluamVjdG9yIHZhbHVlIHVzZWQgYnkgYGluamVjdGAuXG4gKiAtIGB1bmRlZmluZWRgOiBpdCBpcyBhbiBlcnJvciB0byBjYWxsIGBpbmplY3RgXG4gKiAtIGBudWxsYDogYGluamVjdGAgY2FuIGJlIGNhbGxlZCBidXQgdGhlcmUgaXMgbm8gaW5qZWN0b3IgKGxpbXAtbW9kZSkuXG4gKiAtIEluamVjdG9yIGluc3RhbmNlOiBVc2UgdGhlIGluamVjdG9yIGZvciByZXNvbHV0aW9uLlxuICovXG5sZXQgX2N1cnJlbnRJbmplY3RvciA9IHVuZGVmaW5lZDtcbmZ1bmN0aW9uIHNldEN1cnJlbnRJbmplY3RvcihpbmplY3Rvcikge1xuICAgIGNvbnN0IGZvcm1lciA9IF9jdXJyZW50SW5qZWN0b3I7XG4gICAgX2N1cnJlbnRJbmplY3RvciA9IGluamVjdG9yO1xuICAgIHJldHVybiBmb3JtZXI7XG59XG5mdW5jdGlvbiBpbmplY3RJbmplY3Rvck9ubHkodG9rZW4sIGZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdCkge1xuICAgIGlmIChfY3VycmVudEluamVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgYGluamVjdCgpIG11c3QgYmUgY2FsbGVkIGZyb20gYW4gaW5qZWN0aW9uIGNvbnRleHRgIDpcbiAgICAgICAgICAgICcnO1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDIwMyAvKiBNSVNTSU5HX0lOSkVDVElPTl9DT05URVhUICovLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgICBlbHNlIGlmIChfY3VycmVudEluamVjdG9yID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpbmplY3RSb290TGltcE1vZGUodG9rZW4sIHVuZGVmaW5lZCwgZmxhZ3MpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF9jdXJyZW50SW5qZWN0b3IuZ2V0KHRva2VuLCBmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsID8gbnVsbCA6IHVuZGVmaW5lZCwgZmxhZ3MpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIMm1ybVpbmplY3QodG9rZW4sIGZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdCkge1xuICAgIHJldHVybiAoZ2V0SW5qZWN0SW1wbGVtZW50YXRpb24oKSB8fCBpbmplY3RJbmplY3Rvck9ubHkpKHJlc29sdmVGb3J3YXJkUmVmKHRva2VuKSwgZmxhZ3MpO1xufVxuLyoqXG4gKiBUaHJvd3MgYW4gZXJyb3IgaW5kaWNhdGluZyB0aGF0IGEgZmFjdG9yeSBmdW5jdGlvbiBjb3VsZCBub3QgYmUgZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlciBmb3IgYVxuICogcGFydGljdWxhciBjbGFzcy5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGFsbG93cyB0aGUgYWN0dWFsIGVycm9yIG1lc3NhZ2UgdG8gYmUgb3B0aW1pemVkIGF3YXkgd2hlbiBuZ0Rldk1vZGUgaXMgdHVybmVkXG4gKiBvZmYsIHNhdmluZyBieXRlcyBvZiBnZW5lcmF0ZWQgY29kZSB3aGlsZSBzdGlsbCBwcm92aWRpbmcgYSBnb29kIGV4cGVyaWVuY2UgaW4gZGV2IG1vZGUuXG4gKlxuICogVGhlIG5hbWUgb2YgdGhlIGNsYXNzIGlzIG5vdCBtZW50aW9uZWQgaGVyZSwgYnV0IHdpbGwgYmUgaW4gdGhlIGdlbmVyYXRlZCBmYWN0b3J5IGZ1bmN0aW9uIG5hbWVcbiAqIGFuZCB0aHVzIGluIHRoZSBzdGFjayB0cmFjZS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aW52YWxpZEZhY3RvcnlEZXAoaW5kZXgpIHtcbiAgICBjb25zdCBtc2cgPSBuZ0Rldk1vZGUgP1xuICAgICAgICBgVGhpcyBjb25zdHJ1Y3RvciBpcyBub3QgY29tcGF0aWJsZSB3aXRoIEFuZ3VsYXIgRGVwZW5kZW5jeSBJbmplY3Rpb24gYmVjYXVzZSBpdHMgZGVwZW5kZW5jeSBhdCBpbmRleCAke2luZGV4fSBvZiB0aGUgcGFyYW1ldGVyIGxpc3QgaXMgaW52YWxpZC5cblRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgZGVwZW5kZW5jeSB0eXBlIGlzIGEgcHJpbWl0aXZlIGxpa2UgYSBzdHJpbmcgb3IgaWYgYW4gYW5jZXN0b3Igb2YgdGhpcyBjbGFzcyBpcyBtaXNzaW5nIGFuIEFuZ3VsYXIgZGVjb3JhdG9yLlxuXG5QbGVhc2UgY2hlY2sgdGhhdCAxKSB0aGUgdHlwZSBmb3IgdGhlIHBhcmFtZXRlciBhdCBpbmRleCAke2luZGV4fSBpcyBjb3JyZWN0IGFuZCAyKSB0aGUgY29ycmVjdCBBbmd1bGFyIGRlY29yYXRvcnMgYXJlIGRlZmluZWQgZm9yIHRoaXMgY2xhc3MgYW5kIGl0cyBhbmNlc3RvcnMuYCA6XG4gICAgICAgICdpbnZhbGlkJztcbiAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbn1cbi8qKlxuICogSW5qZWN0cyBhIHRva2VuIGZyb20gdGhlIGN1cnJlbnRseSBhY3RpdmUgaW5qZWN0b3IuXG4gKlxuICogTXVzdCBiZSB1c2VkIGluIHRoZSBjb250ZXh0IG9mIGEgZmFjdG9yeSBmdW5jdGlvbiBzdWNoIGFzIG9uZSBkZWZpbmVkIGZvciBhblxuICogYEluamVjdGlvblRva2VuYC4gVGhyb3dzIGFuIGVycm9yIGlmIG5vdCBjYWxsZWQgZnJvbSBzdWNoIGEgY29udGV4dC5cbiAqXG4gKiBXaXRoaW4gc3VjaCBhIGZhY3RvcnkgZnVuY3Rpb24sIHVzaW5nIHRoaXMgZnVuY3Rpb24gdG8gcmVxdWVzdCBpbmplY3Rpb24gb2YgYSBkZXBlbmRlbmN5XG4gKiBpcyBmYXN0ZXIgYW5kIG1vcmUgdHlwZS1zYWZlIHRoYW4gcHJvdmlkaW5nIGFuIGFkZGl0aW9uYWwgYXJyYXkgb2YgZGVwZW5kZW5jaWVzXG4gKiAoYXMgaGFzIGJlZW4gY29tbW9uIHdpdGggYHVzZUZhY3RvcnlgIHByb3ZpZGVycykuXG4gKlxuICogQHBhcmFtIHRva2VuIFRoZSBpbmplY3Rpb24gdG9rZW4gZm9yIHRoZSBkZXBlbmRlbmN5IHRvIGJlIGluamVjdGVkLlxuICogQHBhcmFtIGZsYWdzIE9wdGlvbmFsIGZsYWdzIHRoYXQgY29udHJvbCBob3cgaW5qZWN0aW9uIGlzIGV4ZWN1dGVkLlxuICogVGhlIGZsYWdzIGNvcnJlc3BvbmQgdG8gaW5qZWN0aW9uIHN0cmF0ZWdpZXMgdGhhdCBjYW4gYmUgc3BlY2lmaWVkIHdpdGhcbiAqIHBhcmFtZXRlciBkZWNvcmF0b3JzIGBASG9zdGAsIGBAU2VsZmAsIGBAU2tpcFNlZmAsIGFuZCBgQE9wdGlvbmFsYC5cbiAqIEByZXR1cm5zIHRoZSBpbmplY3RlZCB2YWx1ZSBpZiBpbmplY3Rpb24gaXMgc3VjY2Vzc2Z1bCwgYG51bGxgIG90aGVyd2lzZS5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvaW5qZWN0b3Jfc3BlYy50cyByZWdpb249J1NoYWthYmxlSW5qZWN0aW9uVG9rZW4nfVxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgaW5qZWN0ID0gybXJtWluamVjdDtcbmZ1bmN0aW9uIGluamVjdEFyZ3ModHlwZXMpIHtcbiAgICBjb25zdCBhcmdzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBhcmcgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlc1tpXSk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcbiAgICAgICAgICAgIGlmIChhcmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgICAgICAgICAnQXJndW1lbnRzIGFycmF5IG11c3QgaGF2ZSBhcmd1bWVudHMuJyA6XG4gICAgICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTAwIC8qIElOVkFMSURfRElGRkVSX0lOUFVUICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHR5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBsZXQgZmxhZ3MgPSBJbmplY3RGbGFncy5EZWZhdWx0O1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhcmcubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhID0gYXJnW2pdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZsYWcgPSBnZXRJbmplY3RGbGFnKG1ldGEpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmxhZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIHdoZW4gd2UgaGFuZGxlIEBJbmplY3QgZGVjb3JhdG9yLlxuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZyA9PT0gLTEgLyogSW5qZWN0ICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gbWV0YS50b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdzIHw9IGZsYWc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBtZXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyZ3MucHVzaCjJtcm1aW5qZWN0KHR5cGUsIGZsYWdzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhcmdzLnB1c2goybXJtWluamVjdChhcmcpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJncztcbn1cbi8qKlxuICogQXR0YWNoZXMgYSBnaXZlbiBJbmplY3RGbGFnIHRvIGEgZ2l2ZW4gZGVjb3JhdG9yIHVzaW5nIG1vbmtleS1wYXRjaGluZy5cbiAqIFNpbmNlIERJIGRlY29yYXRvcnMgY2FuIGJlIHVzZWQgaW4gcHJvdmlkZXJzIGBkZXBzYCBhcnJheSAod2hlbiBwcm92aWRlciBpcyBjb25maWd1cmVkIHVzaW5nXG4gKiBgdXNlRmFjdG9yeWApIHdpdGhvdXQgaW5pdGlhbGl6YXRpb24gKGUuZy4gYEhvc3RgKSBhbmQgYXMgYW4gaW5zdGFuY2UgKGUuZy4gYG5ldyBIb3N0KClgKSwgd2VcbiAqIGF0dGFjaCB0aGUgZmxhZyB0byBtYWtlIGl0IGF2YWlsYWJsZSBib3RoIGFzIGEgc3RhdGljIHByb3BlcnR5IGFuZCBhcyBhIGZpZWxkIG9uIGRlY29yYXRvclxuICogaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIGRlY29yYXRvciBQcm92aWRlZCBESSBkZWNvcmF0b3IuXG4gKiBAcGFyYW0gZmxhZyBJbmplY3RGbGFnIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQuXG4gKi9cbmZ1bmN0aW9uIGF0dGFjaEluamVjdEZsYWcoZGVjb3JhdG9yLCBmbGFnKSB7XG4gICAgZGVjb3JhdG9yW0RJX0RFQ09SQVRPUl9GTEFHXSA9IGZsYWc7XG4gICAgZGVjb3JhdG9yLnByb3RvdHlwZVtESV9ERUNPUkFUT1JfRkxBR10gPSBmbGFnO1xuICAgIHJldHVybiBkZWNvcmF0b3I7XG59XG4vKipcbiAqIFJlYWRzIG1vbmtleS1wYXRjaGVkIHByb3BlcnR5IHRoYXQgY29udGFpbnMgSW5qZWN0RmxhZyBhdHRhY2hlZCB0byBhIGRlY29yYXRvci5cbiAqXG4gKiBAcGFyYW0gdG9rZW4gVG9rZW4gdGhhdCBtYXkgY29udGFpbiBtb25rZXktcGF0Y2hlZCBESSBmbGFncyBwcm9wZXJ0eS5cbiAqL1xuZnVuY3Rpb24gZ2V0SW5qZWN0RmxhZyh0b2tlbikge1xuICAgIHJldHVybiB0b2tlbltESV9ERUNPUkFUT1JfRkxBR107XG59XG5mdW5jdGlvbiBjYXRjaEluamVjdG9yRXJyb3IoZSwgdG9rZW4sIGluamVjdG9yRXJyb3JOYW1lLCBzb3VyY2UpIHtcbiAgICBjb25zdCB0b2tlblBhdGggPSBlW05HX1RFTVBfVE9LRU5fUEFUSF07XG4gICAgaWYgKHRva2VuW1NPVVJDRV0pIHtcbiAgICAgICAgdG9rZW5QYXRoLnVuc2hpZnQodG9rZW5bU09VUkNFXSk7XG4gICAgfVxuICAgIGUubWVzc2FnZSA9IGZvcm1hdEVycm9yKCdcXG4nICsgZS5tZXNzYWdlLCB0b2tlblBhdGgsIGluamVjdG9yRXJyb3JOYW1lLCBzb3VyY2UpO1xuICAgIGVbTkdfVE9LRU5fUEFUSF0gPSB0b2tlblBhdGg7XG4gICAgZVtOR19URU1QX1RPS0VOX1BBVEhdID0gbnVsbDtcbiAgICB0aHJvdyBlO1xufVxuZnVuY3Rpb24gZm9ybWF0RXJyb3IodGV4dCwgb2JqLCBpbmplY3RvckVycm9yTmFtZSwgc291cmNlID0gbnVsbCkge1xuICAgIHRleHQgPSB0ZXh0ICYmIHRleHQuY2hhckF0KDApID09PSAnXFxuJyAmJiB0ZXh0LmNoYXJBdCgxKSA9PSBOT19ORVdfTElORSA/IHRleHQuc3Vic3RyKDIpIDogdGV4dDtcbiAgICBsZXQgY29udGV4dCA9IHN0cmluZ2lmeShvYmopO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgY29udGV4dCA9IG9iai5tYXAoc3RyaW5naWZ5KS5qb2luKCcgLT4gJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGxldCBwYXJ0cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGtleSArICc6JyArICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogc3RyaW5naWZ5KHZhbHVlKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQgPSBgeyR7cGFydHMuam9pbignLCAnKX19YDtcbiAgICB9XG4gICAgcmV0dXJuIGAke2luamVjdG9yRXJyb3JOYW1lfSR7c291cmNlID8gJygnICsgc291cmNlICsgJyknIDogJyd9WyR7Y29udGV4dH1dOiAke3RleHQucmVwbGFjZShORVdfTElORSwgJ1xcbiAgJyl9YDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEluamVjdCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEluamVjdCA9IGF0dGFjaEluamVjdEZsYWcoXG4vLyBEaXNhYmxlIHRzbGludCBiZWNhdXNlIGBEZWNvcmF0b3JGbGFnc2AgaXMgYSBjb25zdCBlbnVtIHdoaWNoIGdldHMgaW5saW5lZC5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tdG9wbGV2ZWwtcHJvcGVydHktYWNjZXNzXG5tYWtlUGFyYW1EZWNvcmF0b3IoJ0luamVjdCcsICh0b2tlbikgPT4gKHsgdG9rZW4gfSkpLCAtMSAvKiBJbmplY3QgKi8pO1xuLyoqXG4gKiBPcHRpb25hbCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IE9wdGlvbmFsID0gXG4vLyBEaXNhYmxlIHRzbGludCBiZWNhdXNlIGBJbnRlcm5hbEluamVjdEZsYWdzYCBpcyBhIGNvbnN0IGVudW0gd2hpY2ggZ2V0cyBpbmxpbmVkLlxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbmF0dGFjaEluamVjdEZsYWcobWFrZVBhcmFtRGVjb3JhdG9yKCdPcHRpb25hbCcpLCA4IC8qIE9wdGlvbmFsICovKTtcbi8qKlxuICogU2VsZiBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFNlbGYgPSBcbi8vIERpc2FibGUgdHNsaW50IGJlY2F1c2UgYEludGVybmFsSW5qZWN0RmxhZ3NgIGlzIGEgY29uc3QgZW51bSB3aGljaCBnZXRzIGlubGluZWQuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuYXR0YWNoSW5qZWN0RmxhZyhtYWtlUGFyYW1EZWNvcmF0b3IoJ1NlbGYnKSwgMiAvKiBTZWxmICovKTtcbi8qKlxuICogYFNraXBTZWxmYCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFNraXBTZWxmID0gXG4vLyBEaXNhYmxlIHRzbGludCBiZWNhdXNlIGBJbnRlcm5hbEluamVjdEZsYWdzYCBpcyBhIGNvbnN0IGVudW0gd2hpY2ggZ2V0cyBpbmxpbmVkLlxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbmF0dGFjaEluamVjdEZsYWcobWFrZVBhcmFtRGVjb3JhdG9yKCdTa2lwU2VsZicpLCA0IC8qIFNraXBTZWxmICovKTtcbi8qKlxuICogSG9zdCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEhvc3QgPSBcbi8vIERpc2FibGUgdHNsaW50IGJlY2F1c2UgYEludGVybmFsSW5qZWN0RmxhZ3NgIGlzIGEgY29uc3QgZW51bSB3aGljaCBnZXRzIGlubGluZWQuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2Vzc1xuYXR0YWNoSW5qZWN0RmxhZyhtYWtlUGFyYW1EZWNvcmF0b3IoJ0hvc3QnKSwgMSAvKiBIb3N0ICovKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5sZXQgX3JlZmxlY3QgPSBudWxsO1xuZnVuY3Rpb24gZ2V0UmVmbGVjdCgpIHtcbiAgICByZXR1cm4gKF9yZWZsZWN0ID0gX3JlZmxlY3QgfHwgbmV3IFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMoKSk7XG59XG5mdW5jdGlvbiByZWZsZWN0RGVwZW5kZW5jaWVzKHR5cGUpIHtcbiAgICByZXR1cm4gY29udmVydERlcGVuZGVuY2llcyhnZXRSZWZsZWN0KCkucGFyYW1ldGVycyh0eXBlKSk7XG59XG5mdW5jdGlvbiBjb252ZXJ0RGVwZW5kZW5jaWVzKGRlcHMpIHtcbiAgICByZXR1cm4gZGVwcy5tYXAoZGVwID0+IHJlZmxlY3REZXBlbmRlbmN5KGRlcCkpO1xufVxuZnVuY3Rpb24gcmVmbGVjdERlcGVuZGVuY3koZGVwKSB7XG4gICAgY29uc3QgbWV0YSA9IHtcbiAgICAgICAgdG9rZW46IG51bGwsXG4gICAgICAgIGF0dHJpYnV0ZTogbnVsbCxcbiAgICAgICAgaG9zdDogZmFsc2UsXG4gICAgICAgIG9wdGlvbmFsOiBmYWxzZSxcbiAgICAgICAgc2VsZjogZmFsc2UsXG4gICAgICAgIHNraXBTZWxmOiBmYWxzZSxcbiAgICB9O1xuICAgIGlmIChBcnJheS5pc0FycmF5KGRlcCkgJiYgZGVwLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBkZXAubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gZGVwW2pdO1xuICAgICAgICAgICAgaWYgKHBhcmFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBwYXJhbSBtYXkgYmUgdW5kZWZpbmVkIGlmIHR5cGUgb2YgZGVwIGlzIG5vdCBzZXQgYnkgbmd0c2NcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBhcmFtKTtcbiAgICAgICAgICAgIGlmIChwYXJhbSBpbnN0YW5jZW9mIE9wdGlvbmFsIHx8IHByb3RvLm5nTWV0YWRhdGFOYW1lID09PSAnT3B0aW9uYWwnKSB7XG4gICAgICAgICAgICAgICAgbWV0YS5vcHRpb25hbCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIFNraXBTZWxmIHx8IHByb3RvLm5nTWV0YWRhdGFOYW1lID09PSAnU2tpcFNlbGYnKSB7XG4gICAgICAgICAgICAgICAgbWV0YS5za2lwU2VsZiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIFNlbGYgfHwgcHJvdG8ubmdNZXRhZGF0YU5hbWUgPT09ICdTZWxmJykge1xuICAgICAgICAgICAgICAgIG1ldGEuc2VsZiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIEhvc3QgfHwgcHJvdG8ubmdNZXRhZGF0YU5hbWUgPT09ICdIb3N0Jykge1xuICAgICAgICAgICAgICAgIG1ldGEuaG9zdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIEluamVjdCkge1xuICAgICAgICAgICAgICAgIG1ldGEudG9rZW4gPSBwYXJhbS50b2tlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtIGluc3RhbmNlb2YgQXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtLmF0dHJpYnV0ZU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEF0dHJpYnV0ZSBuYW1lIG11c3QgYmUgZGVmaW5lZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWV0YS5hdHRyaWJ1dGUgPSBwYXJhbS5hdHRyaWJ1dGVOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWV0YS50b2tlbiA9IHBhcmFtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGRlcCA9PT0gdW5kZWZpbmVkIHx8IChBcnJheS5pc0FycmF5KGRlcCkgJiYgZGVwLmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgbWV0YS50b2tlbiA9IG51bGw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtZXRhLnRva2VuID0gZGVwO1xuICAgIH1cbiAgICByZXR1cm4gbWV0YTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSByZXNvdXJjZSBVUkxzIG9uIGBAQ29tcG9uZW50YCB3aGVuIHVzZWQgd2l0aCBKSVQgY29tcGlsYXRpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqIGBgYFxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnbXktY29tcCcsXG4gKiAgIHRlbXBsYXRlVXJsOiAnbXktY29tcC5odG1sJywgLy8gVGhpcyByZXF1aXJlcyBhc3luY2hyb25vdXMgcmVzb2x1dGlvblxuICogfSlcbiAqIGNsYXNzIE15Q29tcG9uZW50e1xuICogfVxuICpcbiAqIC8vIENhbGxpbmcgYHJlbmRlckNvbXBvbmVudGAgd2lsbCBmYWlsIGJlY2F1c2UgYHJlbmRlckNvbXBvbmVudGAgaXMgYSBzeW5jaHJvbm91cyBwcm9jZXNzXG4gKiAvLyBhbmQgYE15Q29tcG9uZW50YCdzIGBAQ29tcG9uZW50LnRlbXBsYXRlVXJsYCBuZWVkcyB0byBiZSByZXNvbHZlZCBhc3luY2hyb25vdXNseS5cbiAqXG4gKiAvLyBDYWxsaW5nIGByZXNvbHZlQ29tcG9uZW50UmVzb3VyY2VzKClgIHdpbGwgcmVzb2x2ZSBgQENvbXBvbmVudC50ZW1wbGF0ZVVybGAgaW50b1xuICogLy8gYEBDb21wb25lbnQudGVtcGxhdGVgLCB3aGljaCBhbGxvd3MgYHJlbmRlckNvbXBvbmVudGAgdG8gcHJvY2VlZCBpbiBhIHN5bmNocm9ub3VzIG1hbm5lci5cbiAqXG4gKiAvLyBVc2UgYnJvd3NlcidzIGBmZXRjaCgpYCBmdW5jdGlvbiBhcyB0aGUgZGVmYXVsdCByZXNvdXJjZSByZXNvbHV0aW9uIHN0cmF0ZWd5LlxuICogcmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcyhmZXRjaCkudGhlbigoKSA9PiB7XG4gKiAgIC8vIEFmdGVyIHJlc29sdXRpb24gYWxsIFVSTHMgaGF2ZSBiZWVuIGNvbnZlcnRlZCBpbnRvIGB0ZW1wbGF0ZWAgc3RyaW5ncy5cbiAqICAgcmVuZGVyQ29tcG9uZW50KE15Q29tcG9uZW50KTtcbiAqIH0pO1xuICpcbiAqIGBgYFxuICpcbiAqIE5PVEU6IEluIEFPVCB0aGUgcmVzb2x1dGlvbiBoYXBwZW5zIGR1cmluZyBjb21waWxhdGlvbiwgYW5kIHNvIHRoZXJlIHNob3VsZCBiZSBubyBuZWVkXG4gKiB0byBjYWxsIHRoaXMgbWV0aG9kIG91dHNpZGUgSklUIG1vZGUuXG4gKlxuICogQHBhcmFtIHJlc291cmNlUmVzb2x2ZXIgYSBmdW5jdGlvbiB3aGljaCBpcyByZXNwb25zaWJsZSBmb3IgcmV0dXJuaW5nIGEgYFByb21pc2VgIHRvIHRoZVxuICogY29udGVudHMgb2YgdGhlIHJlc29sdmVkIFVSTC4gQnJvd3NlcidzIGBmZXRjaCgpYCBtZXRob2QgaXMgYSBnb29kIGRlZmF1bHQgaW1wbGVtZW50YXRpb24uXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVDb21wb25lbnRSZXNvdXJjZXMocmVzb3VyY2VSZXNvbHZlcikge1xuICAgIC8vIFN0b3JlIGFsbCBwcm9taXNlcyB3aGljaCBhcmUgZmV0Y2hpbmcgdGhlIHJlc291cmNlcy5cbiAgICBjb25zdCBjb21wb25lbnRSZXNvbHZlZCA9IFtdO1xuICAgIC8vIENhY2hlIHNvIHRoYXQgd2UgZG9uJ3QgZmV0Y2ggdGhlIHNhbWUgcmVzb3VyY2UgbW9yZSB0aGFuIG9uY2UuXG4gICAgY29uc3QgdXJsTWFwID0gbmV3IE1hcCgpO1xuICAgIGZ1bmN0aW9uIGNhY2hlZFJlc291cmNlUmVzb2x2ZSh1cmwpIHtcbiAgICAgICAgbGV0IHByb21pc2UgPSB1cmxNYXAuZ2V0KHVybCk7XG4gICAgICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICAgICAgY29uc3QgcmVzcCA9IHJlc291cmNlUmVzb2x2ZXIodXJsKTtcbiAgICAgICAgICAgIHVybE1hcC5zZXQodXJsLCBwcm9taXNlID0gcmVzcC50aGVuKHVud3JhcFJlc3BvbnNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIGNvbXBvbmVudFJlc291cmNlUmVzb2x1dGlvblF1ZXVlLmZvckVhY2goKGNvbXBvbmVudCwgdHlwZSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgICBpZiAoY29tcG9uZW50LnRlbXBsYXRlVXJsKSB7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKGNhY2hlZFJlc291cmNlUmVzb2x2ZShjb21wb25lbnQudGVtcGxhdGVVcmwpLnRoZW4oKHRlbXBsYXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50LnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3R5bGVVcmxzID0gY29tcG9uZW50LnN0eWxlVXJscztcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gY29tcG9uZW50LnN0eWxlcyB8fCAoY29tcG9uZW50LnN0eWxlcyA9IFtdKTtcbiAgICAgICAgY29uc3Qgc3R5bGVPZmZzZXQgPSBjb21wb25lbnQuc3R5bGVzLmxlbmd0aDtcbiAgICAgICAgc3R5bGVVcmxzICYmIHN0eWxlVXJscy5mb3JFYWNoKChzdHlsZVVybCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHN0eWxlcy5wdXNoKCcnKTsgLy8gcHJlLWFsbG9jYXRlIGFycmF5LlxuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChjYWNoZWRSZXNvdXJjZVJlc29sdmUoc3R5bGVVcmwpLnRoZW4oKHN0eWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgc3R5bGVzW3N0eWxlT2Zmc2V0ICsgaW5kZXhdID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgc3R5bGVVcmxzLnNwbGljZShzdHlsZVVybHMuaW5kZXhPZihzdHlsZVVybCksIDEpO1xuICAgICAgICAgICAgICAgIGlmIChzdHlsZVVybHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LnN0eWxlVXJscyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmdWxseVJlc29sdmVkID0gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4gY29tcG9uZW50RGVmUmVzb2x2ZWQodHlwZSkpO1xuICAgICAgICBjb21wb25lbnRSZXNvbHZlZC5wdXNoKGZ1bGx5UmVzb2x2ZWQpO1xuICAgIH0pO1xuICAgIGNsZWFyUmVzb2x1dGlvbk9mQ29tcG9uZW50UmVzb3VyY2VzUXVldWUoKTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoY29tcG9uZW50UmVzb2x2ZWQpLnRoZW4oKCkgPT4gdW5kZWZpbmVkKTtcbn1cbmxldCBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZSA9IG5ldyBNYXAoKTtcbi8vIFRyYWNrIHdoZW4gZXhpc3RpbmcgybVjbXAgZm9yIGEgVHlwZSBpcyB3YWl0aW5nIG9uIHJlc291cmNlcy5cbmNvbnN0IGNvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uID0gbmV3IFNldCgpO1xuZnVuY3Rpb24gbWF5YmVRdWV1ZVJlc29sdXRpb25PZkNvbXBvbmVudFJlc291cmNlcyh0eXBlLCBtZXRhZGF0YSkge1xuICAgIGlmIChjb21wb25lbnROZWVkc1Jlc29sdXRpb24obWV0YWRhdGEpKSB7XG4gICAgICAgIGNvbXBvbmVudFJlc291cmNlUmVzb2x1dGlvblF1ZXVlLnNldCh0eXBlLCBtZXRhZGF0YSk7XG4gICAgICAgIGNvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uLmFkZCh0eXBlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0NvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uKHR5cGUpIHtcbiAgICByZXR1cm4gY29tcG9uZW50RGVmUGVuZGluZ1Jlc29sdXRpb24uaGFzKHR5cGUpO1xufVxuZnVuY3Rpb24gY29tcG9uZW50TmVlZHNSZXNvbHV0aW9uKGNvbXBvbmVudCkge1xuICAgIHJldHVybiAhISgoY29tcG9uZW50LnRlbXBsYXRlVXJsICYmICFjb21wb25lbnQuaGFzT3duUHJvcGVydHkoJ3RlbXBsYXRlJykpIHx8XG4gICAgICAgIGNvbXBvbmVudC5zdHlsZVVybHMgJiYgY29tcG9uZW50LnN0eWxlVXJscy5sZW5ndGgpO1xufVxuZnVuY3Rpb24gY2xlYXJSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXNRdWV1ZSgpIHtcbiAgICBjb25zdCBvbGQgPSBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZTtcbiAgICBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZSA9IG5ldyBNYXAoKTtcbiAgICByZXR1cm4gb2xkO1xufVxuZnVuY3Rpb24gcmVzdG9yZUNvbXBvbmVudFJlc29sdXRpb25RdWV1ZShxdWV1ZSkge1xuICAgIGNvbXBvbmVudERlZlBlbmRpbmdSZXNvbHV0aW9uLmNsZWFyKCk7XG4gICAgcXVldWUuZm9yRWFjaCgoXywgdHlwZSkgPT4gY29tcG9uZW50RGVmUGVuZGluZ1Jlc29sdXRpb24uYWRkKHR5cGUpKTtcbiAgICBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZSA9IHF1ZXVlO1xufVxuZnVuY3Rpb24gaXNDb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZUVtcHR5KCkge1xuICAgIHJldHVybiBjb21wb25lbnRSZXNvdXJjZVJlc29sdXRpb25RdWV1ZS5zaXplID09PSAwO1xufVxuZnVuY3Rpb24gdW53cmFwUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gdHlwZW9mIHJlc3BvbnNlID09ICdzdHJpbmcnID8gcmVzcG9uc2UgOiByZXNwb25zZS50ZXh0KCk7XG59XG5mdW5jdGlvbiBjb21wb25lbnREZWZSZXNvbHZlZCh0eXBlKSB7XG4gICAgY29tcG9uZW50RGVmUGVuZGluZ1Jlc29sdXRpb24uZGVsZXRlKHR5cGUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhlIFRydXN0ZWQgVHlwZXMgcG9saWN5LCBvciBudWxsIGlmIFRydXN0ZWQgVHlwZXMgYXJlIG5vdFxuICogZW5hYmxlZC9zdXBwb3J0ZWQsIG9yIHVuZGVmaW5lZCBpZiB0aGUgcG9saWN5IGhhcyBub3QgYmVlbiBjcmVhdGVkIHlldC5cbiAqL1xubGV0IHBvbGljeSQxO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBUcnVzdGVkIFR5cGVzIHBvbGljeSwgb3IgbnVsbCBpZiBUcnVzdGVkIFR5cGVzIGFyZSBub3RcbiAqIGVuYWJsZWQvc3VwcG9ydGVkLiBUaGUgZmlyc3QgY2FsbCB0byB0aGlzIGZ1bmN0aW9uIHdpbGwgY3JlYXRlIHRoZSBwb2xpY3kuXG4gKi9cbmZ1bmN0aW9uIGdldFBvbGljeSQxKCkge1xuICAgIGlmIChwb2xpY3kkMSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBvbGljeSQxID0gbnVsbDtcbiAgICAgICAgaWYgKF9nbG9iYWwudHJ1c3RlZFR5cGVzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBvbGljeSQxID0gX2dsb2JhbC50cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5KCdhbmd1bGFyJywge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVIVE1MOiAocykgPT4gcyxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2NyaXB0OiAocykgPT4gcyxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2NyaXB0VVJMOiAocykgPT4gcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgICAgIC8vIHRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3kgdGhyb3dzIGlmIGNhbGxlZCB3aXRoIGEgbmFtZSB0aGF0IGlzXG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSByZWdpc3RlcmVkLCBldmVuIGluIHJlcG9ydC1vbmx5IG1vZGUuIFVudGlsIHRoZSBBUEkgY2hhbmdlcyxcbiAgICAgICAgICAgICAgICAvLyBjYXRjaCB0aGUgZXJyb3Igbm90IHRvIGJyZWFrIHRoZSBhcHBsaWNhdGlvbnMgZnVuY3Rpb25hbGx5LiBJbiBzdWNoXG4gICAgICAgICAgICAgICAgLy8gY2FzZXMsIHRoZSBjb2RlIHdpbGwgZmFsbCBiYWNrIHRvIHVzaW5nIHN0cmluZ3MuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBvbGljeSQxO1xufVxuLyoqXG4gKiBVbnNhZmVseSBwcm9tb3RlIGEgc3RyaW5nIHRvIGEgVHJ1c3RlZEhUTUwsIGZhbGxpbmcgYmFjayB0byBzdHJpbmdzIHdoZW5cbiAqIFRydXN0ZWQgVHlwZXMgYXJlIG5vdCBhdmFpbGFibGUuXG4gKiBAc2VjdXJpdHkgVGhpcyBpcyBhIHNlY3VyaXR5LXNlbnNpdGl2ZSBmdW5jdGlvbjsgYW55IHVzZSBvZiB0aGlzIGZ1bmN0aW9uXG4gKiBtdXN0IGdvIHRocm91Z2ggc2VjdXJpdHkgcmV2aWV3LiBJbiBwYXJ0aWN1bGFyLCBpdCBtdXN0IGJlIGFzc3VyZWQgdGhhdCB0aGVcbiAqIHByb3ZpZGVkIHN0cmluZyB3aWxsIG5ldmVyIGNhdXNlIGFuIFhTUyB2dWxuZXJhYmlsaXR5IGlmIHVzZWQgaW4gYSBjb250ZXh0XG4gKiB0aGF0IHdpbGwgYmUgaW50ZXJwcmV0ZWQgYXMgSFRNTCBieSBhIGJyb3dzZXIsIGUuZy4gd2hlbiBhc3NpZ25pbmcgdG9cbiAqIGVsZW1lbnQuaW5uZXJIVE1MLlxuICovXG5mdW5jdGlvbiB0cnVzdGVkSFRNTEZyb21TdHJpbmcoaHRtbCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKChfYSA9IGdldFBvbGljeSQxKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jcmVhdGVIVE1MKGh0bWwpKSB8fCBodG1sO1xufVxuLyoqXG4gKiBVbnNhZmVseSBwcm9tb3RlIGEgc3RyaW5nIHRvIGEgVHJ1c3RlZFNjcmlwdCwgZmFsbGluZyBiYWNrIHRvIHN0cmluZ3Mgd2hlblxuICogVHJ1c3RlZCBUeXBlcyBhcmUgbm90IGF2YWlsYWJsZS5cbiAqIEBzZWN1cml0eSBJbiBwYXJ0aWN1bGFyLCBpdCBtdXN0IGJlIGFzc3VyZWQgdGhhdCB0aGUgcHJvdmlkZWQgc3RyaW5nIHdpbGxcbiAqIG5ldmVyIGNhdXNlIGFuIFhTUyB2dWxuZXJhYmlsaXR5IGlmIHVzZWQgaW4gYSBjb250ZXh0IHRoYXQgd2lsbCBiZVxuICogaW50ZXJwcmV0ZWQgYW5kIGV4ZWN1dGVkIGFzIGEgc2NyaXB0IGJ5IGEgYnJvd3NlciwgZS5nLiB3aGVuIGNhbGxpbmcgZXZhbC5cbiAqL1xuZnVuY3Rpb24gdHJ1c3RlZFNjcmlwdEZyb21TdHJpbmcoc2NyaXB0KSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoKF9hID0gZ2V0UG9saWN5JDEoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNyZWF0ZVNjcmlwdChzY3JpcHQpKSB8fCBzY3JpcHQ7XG59XG4vKipcbiAqIFVuc2FmZWx5IHByb21vdGUgYSBzdHJpbmcgdG8gYSBUcnVzdGVkU2NyaXB0VVJMLCBmYWxsaW5nIGJhY2sgdG8gc3RyaW5nc1xuICogd2hlbiBUcnVzdGVkIFR5cGVzIGFyZSBub3QgYXZhaWxhYmxlLlxuICogQHNlY3VyaXR5IFRoaXMgaXMgYSBzZWN1cml0eS1zZW5zaXRpdmUgZnVuY3Rpb247IGFueSB1c2Ugb2YgdGhpcyBmdW5jdGlvblxuICogbXVzdCBnbyB0aHJvdWdoIHNlY3VyaXR5IHJldmlldy4gSW4gcGFydGljdWxhciwgaXQgbXVzdCBiZSBhc3N1cmVkIHRoYXQgdGhlXG4gKiBwcm92aWRlZCBzdHJpbmcgd2lsbCBuZXZlciBjYXVzZSBhbiBYU1MgdnVsbmVyYWJpbGl0eSBpZiB1c2VkIGluIGEgY29udGV4dFxuICogdGhhdCB3aWxsIGNhdXNlIGEgYnJvd3NlciB0byBsb2FkIGFuZCBleGVjdXRlIGEgcmVzb3VyY2UsIGUuZy4gd2hlblxuICogYXNzaWduaW5nIHRvIHNjcmlwdC5zcmMuXG4gKi9cbmZ1bmN0aW9uIHRydXN0ZWRTY3JpcHRVUkxGcm9tU3RyaW5nKHVybCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKChfYSA9IGdldFBvbGljeSQxKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jcmVhdGVTY3JpcHRVUkwodXJsKSkgfHwgdXJsO1xufVxuLyoqXG4gKiBVbnNhZmVseSBjYWxsIHRoZSBGdW5jdGlvbiBjb25zdHJ1Y3RvciB3aXRoIHRoZSBnaXZlbiBzdHJpbmcgYXJndW1lbnRzLiBJdFxuICogaXMgb25seSBhdmFpbGFibGUgaW4gZGV2ZWxvcG1lbnQgbW9kZSwgYW5kIHNob3VsZCBiZSBzdHJpcHBlZCBvdXQgb2ZcbiAqIHByb2R1Y3Rpb24gY29kZS5cbiAqIEBzZWN1cml0eSBUaGlzIGlzIGEgc2VjdXJpdHktc2Vuc2l0aXZlIGZ1bmN0aW9uOyBhbnkgdXNlIG9mIHRoaXMgZnVuY3Rpb25cbiAqIG11c3QgZ28gdGhyb3VnaCBzZWN1cml0eSByZXZpZXcuIEluIHBhcnRpY3VsYXIsIGl0IG11c3QgYmUgYXNzdXJlZCB0aGF0IGl0XG4gKiBpcyBvbmx5IGNhbGxlZCBmcm9tIGRldmVsb3BtZW50IGNvZGUsIGFzIHVzZSBpbiBwcm9kdWN0aW9uIGNvZGUgY2FuIGxlYWQgdG9cbiAqIFhTUyB2dWxuZXJhYmlsaXRpZXMuXG4gKi9cbmZ1bmN0aW9uIG5ld1RydXN0ZWRGdW5jdGlvbkZvckRldiguLi5hcmdzKSB7XG4gICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbmV3VHJ1c3RlZEZ1bmN0aW9uRm9yRGV2IHNob3VsZCBuZXZlciBiZSBjYWxsZWQgaW4gcHJvZHVjdGlvbicpO1xuICAgIH1cbiAgICBpZiAoIV9nbG9iYWwudHJ1c3RlZFR5cGVzKSB7XG4gICAgICAgIC8vIEluIGVudmlyb25tZW50cyB0aGF0IGRvbid0IHN1cHBvcnQgVHJ1c3RlZCBUeXBlcywgZmFsbCBiYWNrIHRvIHRoZSBtb3N0XG4gICAgICAgIC8vIHN0cmFpZ2h0Zm9yd2FyZCBpbXBsZW1lbnRhdGlvbjpcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbiguLi5hcmdzKTtcbiAgICB9XG4gICAgLy8gQ2hyb21lIGN1cnJlbnRseSBkb2VzIG5vdCBzdXBwb3J0IHBhc3NpbmcgVHJ1c3RlZFNjcmlwdCB0byB0aGUgRnVuY3Rpb25cbiAgICAvLyBjb25zdHJ1Y3Rvci4gVGhlIGZvbGxvd2luZyBpbXBsZW1lbnRzIHRoZSB3b3JrYXJvdW5kIHByb3Bvc2VkIG9uIHRoZSBwYWdlXG4gICAgLy8gYmVsb3csIHdoZXJlIHRoZSBDaHJvbWl1bSBidWcgaXMgYWxzbyByZWZlcmVuY2VkOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93M2Mvd2ViYXBwc2VjLXRydXN0ZWQtdHlwZXMvd2lraS9UcnVzdGVkLVR5cGVzLWZvci1mdW5jdGlvbi1jb25zdHJ1Y3RvclxuICAgIGNvbnN0IGZuQXJncyA9IGFyZ3Muc2xpY2UoMCwgLTEpLmpvaW4oJywnKTtcbiAgICBjb25zdCBmbkJvZHkgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgY29uc3QgYm9keSA9IGAoZnVuY3Rpb24gYW5vbnltb3VzKCR7Zm5BcmdzfVxuKSB7ICR7Zm5Cb2R5fVxufSlgO1xuICAgIC8vIFVzaW5nIGV2YWwgZGlyZWN0bHkgY29uZnVzZXMgdGhlIGNvbXBpbGVyIGFuZCBwcmV2ZW50cyB0aGlzIG1vZHVsZSBmcm9tXG4gICAgLy8gYmVpbmcgc3RyaXBwZWQgb3V0IG9mIEpTIGJpbmFyaWVzIGV2ZW4gaWYgbm90IHVzZWQuIFRoZSBnbG9iYWxbJ2V2YWwnXVxuICAgIC8vIGluZGlyZWN0aW9uIGZpeGVzIHRoYXQuXG4gICAgY29uc3QgZm4gPSBfZ2xvYmFsWydldmFsJ10odHJ1c3RlZFNjcmlwdEZyb21TdHJpbmcoYm9keSkpO1xuICAgIGlmIChmbi5iaW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgYSBicm93c2VyIGJ1ZyB0aGF0IG9ubHkgZXhpc3RzIGluIENocm9tZSA4Mywgd2hlcmUgcGFzc2luZ1xuICAgICAgICAvLyBhIFRydXN0ZWRTY3JpcHQgdG8gZXZhbCBqdXN0IHJldHVybnMgdGhlIFRydXN0ZWRTY3JpcHQgYmFjayB3aXRob3V0XG4gICAgICAgIC8vIGV2YWx1YXRpbmcgaXQuIEluIHRoYXQgY2FzZSwgZmFsbCBiYWNrIHRvIHRoZSBtb3N0IHN0cmFpZ2h0Zm9yd2FyZFxuICAgICAgICAvLyBpbXBsZW1lbnRhdGlvbjpcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbiguLi5hcmdzKTtcbiAgICB9XG4gICAgLy8gVG8gY29tcGxldGVseSBtaW1pYyB0aGUgYmVoYXZpb3Igb2YgY2FsbGluZyBcIm5ldyBGdW5jdGlvblwiLCB0d28gbW9yZVxuICAgIC8vIHRoaW5ncyBuZWVkIHRvIGhhcHBlbjpcbiAgICAvLyAxLiBTdHJpbmdpZnlpbmcgdGhlIHJlc3VsdGluZyBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGl0cyBzb3VyY2UgY29kZVxuICAgIGZuLnRvU3RyaW5nID0gKCkgPT4gYm9keTtcbiAgICAvLyAyLiBXaGVuIGNhbGxpbmcgdGhlIHJlc3VsdGluZyBmdW5jdGlvbiwgYHRoaXNgIHNob3VsZCByZWZlciB0byBgZ2xvYmFsYFxuICAgIHJldHVybiBmbi5iaW5kKF9nbG9iYWwpO1xuICAgIC8vIFdoZW4gVHJ1c3RlZCBUeXBlcyBzdXBwb3J0IGluIEZ1bmN0aW9uIGNvbnN0cnVjdG9ycyBpcyB3aWRlbHkgYXZhaWxhYmxlLFxuICAgIC8vIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIGZ1bmN0aW9uIGNhbiBiZSBzaW1wbGlmaWVkIHRvOlxuICAgIC8vIHJldHVybiBuZXcgRnVuY3Rpb24oLi4uYXJncy5tYXAoYSA9PiB0cnVzdGVkU2NyaXB0RnJvbVN0cmluZyhhKSkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhlIFRydXN0ZWQgVHlwZXMgcG9saWN5LCBvciBudWxsIGlmIFRydXN0ZWQgVHlwZXMgYXJlIG5vdFxuICogZW5hYmxlZC9zdXBwb3J0ZWQsIG9yIHVuZGVmaW5lZCBpZiB0aGUgcG9saWN5IGhhcyBub3QgYmVlbiBjcmVhdGVkIHlldC5cbiAqL1xubGV0IHBvbGljeTtcbi8qKlxuICogUmV0dXJucyB0aGUgVHJ1c3RlZCBUeXBlcyBwb2xpY3ksIG9yIG51bGwgaWYgVHJ1c3RlZCBUeXBlcyBhcmUgbm90XG4gKiBlbmFibGVkL3N1cHBvcnRlZC4gVGhlIGZpcnN0IGNhbGwgdG8gdGhpcyBmdW5jdGlvbiB3aWxsIGNyZWF0ZSB0aGUgcG9saWN5LlxuICovXG5mdW5jdGlvbiBnZXRQb2xpY3koKSB7XG4gICAgaWYgKHBvbGljeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBvbGljeSA9IG51bGw7XG4gICAgICAgIGlmIChfZ2xvYmFsLnRydXN0ZWRUeXBlcykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwb2xpY3kgPSBfZ2xvYmFsLnRydXN0ZWRUeXBlc1xuICAgICAgICAgICAgICAgICAgICAuY3JlYXRlUG9saWN5KCdhbmd1bGFyI3Vuc2FmZS1ieXBhc3MnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUhUTUw6IChzKSA9PiBzLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVTY3JpcHQ6IChzKSA9PiBzLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVTY3JpcHRVUkw6IChzKSA9PiBzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICAgICAgLy8gdHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeSB0aHJvd3MgaWYgY2FsbGVkIHdpdGggYSBuYW1lIHRoYXQgaXNcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IHJlZ2lzdGVyZWQsIGV2ZW4gaW4gcmVwb3J0LW9ubHkgbW9kZS4gVW50aWwgdGhlIEFQSSBjaGFuZ2VzLFxuICAgICAgICAgICAgICAgIC8vIGNhdGNoIHRoZSBlcnJvciBub3QgdG8gYnJlYWsgdGhlIGFwcGxpY2F0aW9ucyBmdW5jdGlvbmFsbHkuIEluIHN1Y2hcbiAgICAgICAgICAgICAgICAvLyBjYXNlcywgdGhlIGNvZGUgd2lsbCBmYWxsIGJhY2sgdG8gdXNpbmcgc3RyaW5ncy5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcG9saWN5O1xufVxuLyoqXG4gKiBVbnNhZmVseSBwcm9tb3RlIGEgc3RyaW5nIHRvIGEgVHJ1c3RlZEhUTUwsIGZhbGxpbmcgYmFjayB0byBzdHJpbmdzIHdoZW5cbiAqIFRydXN0ZWQgVHlwZXMgYXJlIG5vdCBhdmFpbGFibGUuXG4gKiBAc2VjdXJpdHkgVGhpcyBpcyBhIHNlY3VyaXR5LXNlbnNpdGl2ZSBmdW5jdGlvbjsgYW55IHVzZSBvZiB0aGlzIGZ1bmN0aW9uXG4gKiBtdXN0IGdvIHRocm91Z2ggc2VjdXJpdHkgcmV2aWV3LiBJbiBwYXJ0aWN1bGFyLCBpdCBtdXN0IGJlIGFzc3VyZWQgdGhhdCBpdFxuICogaXMgb25seSBwYXNzZWQgc3RyaW5ncyB0aGF0IGNvbWUgZGlyZWN0bHkgZnJvbSBjdXN0b20gc2FuaXRpemVycyBvciB0aGVcbiAqIGJ5cGFzc1NlY3VyaXR5VHJ1c3QqIGZ1bmN0aW9ucy5cbiAqL1xuZnVuY3Rpb24gdHJ1c3RlZEhUTUxGcm9tU3RyaW5nQnlwYXNzKGh0bWwpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICgoX2EgPSBnZXRQb2xpY3koKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNyZWF0ZUhUTUwoaHRtbCkpIHx8IGh0bWw7XG59XG4vKipcbiAqIFVuc2FmZWx5IHByb21vdGUgYSBzdHJpbmcgdG8gYSBUcnVzdGVkU2NyaXB0LCBmYWxsaW5nIGJhY2sgdG8gc3RyaW5ncyB3aGVuXG4gKiBUcnVzdGVkIFR5cGVzIGFyZSBub3QgYXZhaWxhYmxlLlxuICogQHNlY3VyaXR5IFRoaXMgaXMgYSBzZWN1cml0eS1zZW5zaXRpdmUgZnVuY3Rpb247IGFueSB1c2Ugb2YgdGhpcyBmdW5jdGlvblxuICogbXVzdCBnbyB0aHJvdWdoIHNlY3VyaXR5IHJldmlldy4gSW4gcGFydGljdWxhciwgaXQgbXVzdCBiZSBhc3N1cmVkIHRoYXQgaXRcbiAqIGlzIG9ubHkgcGFzc2VkIHN0cmluZ3MgdGhhdCBjb21lIGRpcmVjdGx5IGZyb20gY3VzdG9tIHNhbml0aXplcnMgb3IgdGhlXG4gKiBieXBhc3NTZWN1cml0eVRydXN0KiBmdW5jdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIHRydXN0ZWRTY3JpcHRGcm9tU3RyaW5nQnlwYXNzKHNjcmlwdCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKChfYSA9IGdldFBvbGljeSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY3JlYXRlU2NyaXB0KHNjcmlwdCkpIHx8IHNjcmlwdDtcbn1cbi8qKlxuICogVW5zYWZlbHkgcHJvbW90ZSBhIHN0cmluZyB0byBhIFRydXN0ZWRTY3JpcHRVUkwsIGZhbGxpbmcgYmFjayB0byBzdHJpbmdzXG4gKiB3aGVuIFRydXN0ZWQgVHlwZXMgYXJlIG5vdCBhdmFpbGFibGUuXG4gKiBAc2VjdXJpdHkgVGhpcyBpcyBhIHNlY3VyaXR5LXNlbnNpdGl2ZSBmdW5jdGlvbjsgYW55IHVzZSBvZiB0aGlzIGZ1bmN0aW9uXG4gKiBtdXN0IGdvIHRocm91Z2ggc2VjdXJpdHkgcmV2aWV3LiBJbiBwYXJ0aWN1bGFyLCBpdCBtdXN0IGJlIGFzc3VyZWQgdGhhdCBpdFxuICogaXMgb25seSBwYXNzZWQgc3RyaW5ncyB0aGF0IGNvbWUgZGlyZWN0bHkgZnJvbSBjdXN0b20gc2FuaXRpemVycyBvciB0aGVcbiAqIGJ5cGFzc1NlY3VyaXR5VHJ1c3QqIGZ1bmN0aW9ucy5cbiAqL1xuZnVuY3Rpb24gdHJ1c3RlZFNjcmlwdFVSTEZyb21TdHJpbmdCeXBhc3ModXJsKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoKF9hID0gZ2V0UG9saWN5KCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jcmVhdGVTY3JpcHRVUkwodXJsKSkgfHwgdXJsO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNsYXNzIFNhZmVWYWx1ZUltcGwge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHkpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5ID0gY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgU2FmZVZhbHVlIG11c3QgdXNlIFtwcm9wZXJ0eV09YmluZGluZzogJHt0aGlzLmNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHl9YCArXG4gICAgICAgICAgICBgIChzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylgO1xuICAgIH1cbn1cbmNsYXNzIFNhZmVIdG1sSW1wbCBleHRlbmRzIFNhZmVWYWx1ZUltcGwge1xuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJIVE1MXCIgLyogSHRtbCAqLztcbiAgICB9XG59XG5jbGFzcyBTYWZlU3R5bGVJbXBsIGV4dGVuZHMgU2FmZVZhbHVlSW1wbCB7XG4gICAgZ2V0VHlwZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlN0eWxlXCIgLyogU3R5bGUgKi87XG4gICAgfVxufVxuY2xhc3MgU2FmZVNjcmlwdEltcGwgZXh0ZW5kcyBTYWZlVmFsdWVJbXBsIHtcbiAgICBnZXRUeXBlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiU2NyaXB0XCIgLyogU2NyaXB0ICovO1xuICAgIH1cbn1cbmNsYXNzIFNhZmVVcmxJbXBsIGV4dGVuZHMgU2FmZVZhbHVlSW1wbCB7XG4gICAgZ2V0VHlwZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlVSTFwiIC8qIFVybCAqLztcbiAgICB9XG59XG5jbGFzcyBTYWZlUmVzb3VyY2VVcmxJbXBsIGV4dGVuZHMgU2FmZVZhbHVlSW1wbCB7XG4gICAgZ2V0VHlwZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlJlc291cmNlVVJMXCIgLyogUmVzb3VyY2VVcmwgKi87XG4gICAgfVxufVxuZnVuY3Rpb24gdW53cmFwU2FmZVZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgU2FmZVZhbHVlSW1wbCA/IHZhbHVlLmNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHkgOlxuICAgICAgICB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGFsbG93U2FuaXRpemF0aW9uQnlwYXNzQW5kVGhyb3codmFsdWUsIHR5cGUpIHtcbiAgICBjb25zdCBhY3R1YWxUeXBlID0gZ2V0U2FuaXRpemF0aW9uQnlwYXNzVHlwZSh2YWx1ZSk7XG4gICAgaWYgKGFjdHVhbFR5cGUgIT0gbnVsbCAmJiBhY3R1YWxUeXBlICE9PSB0eXBlKSB7XG4gICAgICAgIC8vIEFsbG93IFJlc291cmNlVVJMcyBpbiBVUkwgY29udGV4dHMsIHRoZXkgYXJlIHN0cmljdGx5IG1vcmUgdHJ1c3RlZC5cbiAgICAgICAgaWYgKGFjdHVhbFR5cGUgPT09IFwiUmVzb3VyY2VVUkxcIiAvKiBSZXNvdXJjZVVybCAqLyAmJiB0eXBlID09PSBcIlVSTFwiIC8qIFVybCAqLylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlcXVpcmVkIGEgc2FmZSAke3R5cGV9LCBnb3QgYSAke2FjdHVhbFR5cGV9IChzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylgKTtcbiAgICB9XG4gICAgcmV0dXJuIGFjdHVhbFR5cGUgPT09IHR5cGU7XG59XG5mdW5jdGlvbiBnZXRTYW5pdGl6YXRpb25CeXBhc3NUeXBlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgU2FmZVZhbHVlSW1wbCAmJiB2YWx1ZS5nZXRUeXBlTmFtZSgpIHx8IG51bGw7XG59XG4vKipcbiAqIE1hcmsgYGh0bWxgIHN0cmluZyBhcyB0cnVzdGVkLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd3JhcHMgdGhlIHRydXN0ZWQgc3RyaW5nIGluIGBTdHJpbmdgIGFuZCBicmFuZHMgaXQgaW4gYSB3YXkgd2hpY2ggbWFrZXMgaXRcbiAqIHJlY29nbml6YWJsZSB0byB7QGxpbmsgaHRtbFNhbml0aXplcn0gdG8gYmUgdHJ1c3RlZCBpbXBsaWNpdGx5LlxuICpcbiAqIEBwYXJhbSB0cnVzdGVkSHRtbCBgaHRtbGAgc3RyaW5nIHdoaWNoIG5lZWRzIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqIEByZXR1cm5zIGEgYGh0bWxgIHdoaWNoIGhhcyBiZWVuIGJyYW5kZWQgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICovXG5mdW5jdGlvbiBieXBhc3NTYW5pdGl6YXRpb25UcnVzdEh0bWwodHJ1c3RlZEh0bWwpIHtcbiAgICByZXR1cm4gbmV3IFNhZmVIdG1sSW1wbCh0cnVzdGVkSHRtbCk7XG59XG4vKipcbiAqIE1hcmsgYHN0eWxlYCBzdHJpbmcgYXMgdHJ1c3RlZC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdyYXBzIHRoZSB0cnVzdGVkIHN0cmluZyBpbiBgU3RyaW5nYCBhbmQgYnJhbmRzIGl0IGluIGEgd2F5IHdoaWNoIG1ha2VzIGl0XG4gKiByZWNvZ25pemFibGUgdG8ge0BsaW5rIHN0eWxlU2FuaXRpemVyfSB0byBiZSB0cnVzdGVkIGltcGxpY2l0bHkuXG4gKlxuICogQHBhcmFtIHRydXN0ZWRTdHlsZSBgc3R5bGVgIHN0cmluZyB3aGljaCBuZWVkcyB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKiBAcmV0dXJucyBhIGBzdHlsZWAgaGljaCBoYXMgYmVlbiBicmFuZGVkIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqL1xuZnVuY3Rpb24gYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTdHlsZSh0cnVzdGVkU3R5bGUpIHtcbiAgICByZXR1cm4gbmV3IFNhZmVTdHlsZUltcGwodHJ1c3RlZFN0eWxlKTtcbn1cbi8qKlxuICogTWFyayBgc2NyaXB0YCBzdHJpbmcgYXMgdHJ1c3RlZC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdyYXBzIHRoZSB0cnVzdGVkIHN0cmluZyBpbiBgU3RyaW5nYCBhbmQgYnJhbmRzIGl0IGluIGEgd2F5IHdoaWNoIG1ha2VzIGl0XG4gKiByZWNvZ25pemFibGUgdG8ge0BsaW5rIHNjcmlwdFNhbml0aXplcn0gdG8gYmUgdHJ1c3RlZCBpbXBsaWNpdGx5LlxuICpcbiAqIEBwYXJhbSB0cnVzdGVkU2NyaXB0IGBzY3JpcHRgIHN0cmluZyB3aGljaCBuZWVkcyB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKiBAcmV0dXJucyBhIGBzY3JpcHRgIHdoaWNoIGhhcyBiZWVuIGJyYW5kZWQgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICovXG5mdW5jdGlvbiBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFNjcmlwdCh0cnVzdGVkU2NyaXB0KSB7XG4gICAgcmV0dXJuIG5ldyBTYWZlU2NyaXB0SW1wbCh0cnVzdGVkU2NyaXB0KTtcbn1cbi8qKlxuICogTWFyayBgdXJsYCBzdHJpbmcgYXMgdHJ1c3RlZC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdyYXBzIHRoZSB0cnVzdGVkIHN0cmluZyBpbiBgU3RyaW5nYCBhbmQgYnJhbmRzIGl0IGluIGEgd2F5IHdoaWNoIG1ha2VzIGl0XG4gKiByZWNvZ25pemFibGUgdG8ge0BsaW5rIHVybFNhbml0aXplcn0gdG8gYmUgdHJ1c3RlZCBpbXBsaWNpdGx5LlxuICpcbiAqIEBwYXJhbSB0cnVzdGVkVXJsIGB1cmxgIHN0cmluZyB3aGljaCBuZWVkcyB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKiBAcmV0dXJucyBhIGB1cmxgICB3aGljaCBoYXMgYmVlbiBicmFuZGVkIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqL1xuZnVuY3Rpb24gYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RVcmwodHJ1c3RlZFVybCkge1xuICAgIHJldHVybiBuZXcgU2FmZVVybEltcGwodHJ1c3RlZFVybCk7XG59XG4vKipcbiAqIE1hcmsgYHVybGAgc3RyaW5nIGFzIHRydXN0ZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3cmFwcyB0aGUgdHJ1c3RlZCBzdHJpbmcgaW4gYFN0cmluZ2AgYW5kIGJyYW5kcyBpdCBpbiBhIHdheSB3aGljaCBtYWtlcyBpdFxuICogcmVjb2duaXphYmxlIHRvIHtAbGluayByZXNvdXJjZVVybFNhbml0aXplcn0gdG8gYmUgdHJ1c3RlZCBpbXBsaWNpdGx5LlxuICpcbiAqIEBwYXJhbSB0cnVzdGVkUmVzb3VyY2VVcmwgYHVybGAgc3RyaW5nIHdoaWNoIG5lZWRzIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqIEByZXR1cm5zIGEgYHVybGAgd2hpY2ggaGFzIGJlZW4gYnJhbmRlZCB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0UmVzb3VyY2VVcmwodHJ1c3RlZFJlc291cmNlVXJsKSB7XG4gICAgcmV0dXJuIG5ldyBTYWZlUmVzb3VyY2VVcmxJbXBsKHRydXN0ZWRSZXNvdXJjZVVybCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGlzIGhlbHBlciBpcyB1c2VkIHRvIGdldCBob2xkIG9mIGFuIGluZXJ0IHRyZWUgb2YgRE9NIGVsZW1lbnRzIGNvbnRhaW5pbmcgZGlydHkgSFRNTFxuICogdGhhdCBuZWVkcyBzYW5pdGl6aW5nLlxuICogRGVwZW5kaW5nIHVwb24gYnJvd3NlciBzdXBwb3J0IHdlIHVzZSBvbmUgb2YgdHdvIHN0cmF0ZWdpZXMgZm9yIGRvaW5nIHRoaXMuXG4gKiBEZWZhdWx0OiBET01QYXJzZXIgc3RyYXRlZ3lcbiAqIEZhbGxiYWNrOiBJbmVydERvY3VtZW50IHN0cmF0ZWd5XG4gKi9cbmZ1bmN0aW9uIGdldEluZXJ0Qm9keUhlbHBlcihkZWZhdWx0RG9jKSB7XG4gICAgY29uc3QgaW5lcnREb2N1bWVudEhlbHBlciA9IG5ldyBJbmVydERvY3VtZW50SGVscGVyKGRlZmF1bHREb2MpO1xuICAgIHJldHVybiBpc0RPTVBhcnNlckF2YWlsYWJsZSgpID8gbmV3IERPTVBhcnNlckhlbHBlcihpbmVydERvY3VtZW50SGVscGVyKSA6IGluZXJ0RG9jdW1lbnRIZWxwZXI7XG59XG4vKipcbiAqIFVzZXMgRE9NUGFyc2VyIHRvIGNyZWF0ZSBhbmQgZmlsbCBhbiBpbmVydCBib2R5IGVsZW1lbnQuXG4gKiBUaGlzIGlzIHRoZSBkZWZhdWx0IHN0cmF0ZWd5IHVzZWQgaW4gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGl0LlxuICovXG5jbGFzcyBET01QYXJzZXJIZWxwZXIge1xuICAgIGNvbnN0cnVjdG9yKGluZXJ0RG9jdW1lbnRIZWxwZXIpIHtcbiAgICAgICAgdGhpcy5pbmVydERvY3VtZW50SGVscGVyID0gaW5lcnREb2N1bWVudEhlbHBlcjtcbiAgICB9XG4gICAgZ2V0SW5lcnRCb2R5RWxlbWVudChodG1sKSB7XG4gICAgICAgIC8vIFdlIGFkZCB0aGVzZSBleHRyYSBlbGVtZW50cyB0byBlbnN1cmUgdGhhdCB0aGUgcmVzdCBvZiB0aGUgY29udGVudCBpcyBwYXJzZWQgYXMgZXhwZWN0ZWRcbiAgICAgICAgLy8gZS5nLiBsZWFkaW5nIHdoaXRlc3BhY2UgaXMgbWFpbnRhaW5lZCBhbmQgdGFncyBsaWtlIGA8bWV0YT5gIGRvIG5vdCBnZXQgaG9pc3RlZCB0byB0aGVcbiAgICAgICAgLy8gYDxoZWFkPmAgdGFnLiBOb3RlIHRoYXQgdGhlIGA8Ym9keT5gIHRhZyBpcyBjbG9zZWQgaW1wbGljaXRseSB0byBwcmV2ZW50IHVuY2xvc2VkIHRhZ3NcbiAgICAgICAgLy8gaW4gYGh0bWxgIGZyb20gY29uc3VtaW5nIHRoZSBvdGhlcndpc2UgZXhwbGljaXQgYDwvYm9keT5gIHRhZy5cbiAgICAgICAgaHRtbCA9ICc8Ym9keT48cmVtb3ZlPjwvcmVtb3ZlPicgKyBodG1sO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IG5ldyB3aW5kb3cuRE9NUGFyc2VyKClcbiAgICAgICAgICAgICAgICAucGFyc2VGcm9tU3RyaW5nKHRydXN0ZWRIVE1MRnJvbVN0cmluZyhodG1sKSwgJ3RleHQvaHRtbCcpXG4gICAgICAgICAgICAgICAgLmJvZHk7XG4gICAgICAgICAgICBpZiAoYm9keSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIEluIHNvbWUgYnJvd3NlcnMgKGUuZy4gTW96aWxsYS81LjAgaVBhZCBBcHBsZVdlYktpdCBNb2JpbGUpIHRoZSBgYm9keWAgcHJvcGVydHkgb25seVxuICAgICAgICAgICAgICAgIC8vIGJlY29tZXMgYXZhaWxhYmxlIGluIHRoZSBmb2xsb3dpbmcgdGljayBvZiB0aGUgSlMgZW5naW5lLiBJbiB0aGF0IGNhc2Ugd2UgZmFsbCBiYWNrIHRvXG4gICAgICAgICAgICAgICAgLy8gdGhlIGBpbmVydERvY3VtZW50SGVscGVyYCBpbnN0ZWFkLlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluZXJ0RG9jdW1lbnRIZWxwZXIuZ2V0SW5lcnRCb2R5RWxlbWVudChodG1sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoYm9keS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIHJldHVybiBib2R5O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFVzZSBhbiBIVE1MNSBgdGVtcGxhdGVgIGVsZW1lbnQsIGlmIHN1cHBvcnRlZCwgb3IgYW4gaW5lcnQgYm9keSBlbGVtZW50IGNyZWF0ZWQgdmlhXG4gKiBgY3JlYXRlSHRtbERvY3VtZW50YCB0byBjcmVhdGUgYW5kIGZpbGwgYW4gaW5lcnQgRE9NIGVsZW1lbnQuXG4gKiBUaGlzIGlzIHRoZSBmYWxsYmFjayBzdHJhdGVneSBpZiB0aGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IERPTVBhcnNlci5cbiAqL1xuY2xhc3MgSW5lcnREb2N1bWVudEhlbHBlciB7XG4gICAgY29uc3RydWN0b3IoZGVmYXVsdERvYykge1xuICAgICAgICB0aGlzLmRlZmF1bHREb2MgPSBkZWZhdWx0RG9jO1xuICAgICAgICB0aGlzLmluZXJ0RG9jdW1lbnQgPSB0aGlzLmRlZmF1bHREb2MuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCdzYW5pdGl6YXRpb24taW5lcnQnKTtcbiAgICAgICAgaWYgKHRoaXMuaW5lcnREb2N1bWVudC5ib2R5ID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIHVzdWFsbHkgdGhlcmUgc2hvdWxkIGJlIG9ubHkgb25lIGJvZHkgZWxlbWVudCBpbiB0aGUgZG9jdW1lbnQsIGJ1dCBJRSBkb2Vzbid0IGhhdmUgYW55LCBzb1xuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBjcmVhdGUgb25lLlxuICAgICAgICAgICAgY29uc3QgaW5lcnRIdG1sID0gdGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2h0bWwnKTtcbiAgICAgICAgICAgIHRoaXMuaW5lcnREb2N1bWVudC5hcHBlbmRDaGlsZChpbmVydEh0bWwpO1xuICAgICAgICAgICAgY29uc3QgaW5lcnRCb2R5RWxlbWVudCA9IHRoaXMuaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib2R5Jyk7XG4gICAgICAgICAgICBpbmVydEh0bWwuYXBwZW5kQ2hpbGQoaW5lcnRCb2R5RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0SW5lcnRCb2R5RWxlbWVudChodG1sKSB7XG4gICAgICAgIC8vIFByZWZlciB1c2luZyA8dGVtcGxhdGU+IGVsZW1lbnQgaWYgc3VwcG9ydGVkLlxuICAgICAgICBjb25zdCB0ZW1wbGF0ZUVsID0gdGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgICAgIGlmICgnY29udGVudCcgaW4gdGVtcGxhdGVFbCkge1xuICAgICAgICAgICAgdGVtcGxhdGVFbC5pbm5lckhUTUwgPSB0cnVzdGVkSFRNTEZyb21TdHJpbmcoaHRtbCk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcGxhdGVFbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3RlIHRoYXQgcHJldmlvdXNseSB3ZSB1c2VkIHRvIGRvIHNvbWV0aGluZyBsaWtlIGB0aGlzLmluZXJ0RG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSBodG1sYFxuICAgICAgICAvLyBhbmQgd2UgcmV0dXJuZWQgdGhlIGluZXJ0IGBib2R5YCBub2RlLiBUaGlzIHdhcyBjaGFuZ2VkLCBiZWNhdXNlIElFIHNlZW1zIHRvIHRyZWF0IHNldHRpbmdcbiAgICAgICAgLy8gYGlubmVySFRNTGAgb24gYW4gaW5zZXJ0ZWQgZWxlbWVudCBkaWZmZXJlbnRseSwgY29tcGFyZWQgdG8gb25lIHRoYXQgaGFzbid0IGJlZW4gaW5zZXJ0ZWRcbiAgICAgICAgLy8geWV0LiBJbiBwYXJ0aWN1bGFyLCBJRSBhcHBlYXJzIHRvIHNwbGl0IHNvbWUgb2YgdGhlIHRleHQgaW50byBtdWx0aXBsZSB0ZXh0IG5vZGVzIHJhdGhlclxuICAgICAgICAvLyB0aGFuIGtlZXBpbmcgdGhlbSBpbiBhIHNpbmdsZSBvbmUgd2hpY2ggZW5kcyB1cCBtZXNzaW5nIHdpdGggSXZ5J3MgaTE4biBwYXJzaW5nIGZ1cnRoZXJcbiAgICAgICAgLy8gZG93biB0aGUgbGluZS4gVGhpcyBoYXMgYmVlbiB3b3JrZWQgYXJvdW5kIGJ5IGNyZWF0aW5nIGEgbmV3IGluZXJ0IGBib2R5YCBhbmQgdXNpbmcgaXQgYXNcbiAgICAgICAgLy8gdGhlIHJvb3Qgbm9kZSBpbiB3aGljaCB3ZSBpbnNlcnQgdGhlIEhUTUwuXG4gICAgICAgIGNvbnN0IGluZXJ0Qm9keSA9IHRoaXMuaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib2R5Jyk7XG4gICAgICAgIGluZXJ0Qm9keS5pbm5lckhUTUwgPSB0cnVzdGVkSFRNTEZyb21TdHJpbmcoaHRtbCk7XG4gICAgICAgIC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcbiAgICAgICAgLy8gc3RyaXAgY3VzdG9tLW5hbWVzcGFjZWQgYXR0cmlidXRlcyBvbiBJRTw9MTFcbiAgICAgICAgaWYgKHRoaXMuZGVmYXVsdERvYy5kb2N1bWVudE1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RyaXBDdXN0b21Oc0F0dHJzKGluZXJ0Qm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZXJ0Qm9keTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiBJRTExIGNvbWVzIGFjcm9zcyBhbiB1bmtub3duIG5hbWVzcGFjZWQgYXR0cmlidXRlIGUuZy4gJ3hsaW5rOmZvbycgaXQgYWRkcyAneG1sbnM6bnMxJ1xuICAgICAqIGF0dHJpYnV0ZSB0byBkZWNsYXJlIG5zMSBuYW1lc3BhY2UgYW5kIHByZWZpeGVzIHRoZSBhdHRyaWJ1dGUgd2l0aCAnbnMxJyAoZS5nLlxuICAgICAqICduczE6eGxpbms6Zm9vJykuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHVuZGVzaXJhYmxlIHNpbmNlIHdlIGRvbid0IHdhbnQgdG8gYWxsb3cgYW55IG9mIHRoZXNlIGN1c3RvbSBhdHRyaWJ1dGVzLiBUaGlzIG1ldGhvZFxuICAgICAqIHN0cmlwcyB0aGVtIGFsbC5cbiAgICAgKi9cbiAgICBzdHJpcEN1c3RvbU5zQXR0cnMoZWwpIHtcbiAgICAgICAgY29uc3QgZWxBdHRycyA9IGVsLmF0dHJpYnV0ZXM7XG4gICAgICAgIC8vIGxvb3AgYmFja3dhcmRzIHNvIHRoYXQgd2UgY2FuIHN1cHBvcnQgcmVtb3ZhbHMuXG4gICAgICAgIGZvciAobGV0IGkgPSBlbEF0dHJzLmxlbmd0aCAtIDE7IDAgPCBpOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYiA9IGVsQXR0cnMuaXRlbShpKTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gYXR0cmliLm5hbWU7XG4gICAgICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICd4bWxuczpuczEnIHx8IGF0dHJOYW1lLmluZGV4T2YoJ25zMTonKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNoaWxkTm9kZSA9IGVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgIHdoaWxlIChjaGlsZE5vZGUpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZE5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKVxuICAgICAgICAgICAgICAgIHRoaXMuc3RyaXBDdXN0b21Oc0F0dHJzKGNoaWxkTm9kZSk7XG4gICAgICAgICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFdlIG5lZWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIERPTVBhcnNlciBleGlzdHMgaW4gdGhlIGdsb2JhbCBjb250ZXh0IGFuZFxuICogc3VwcG9ydHMgcGFyc2luZyBIVE1MOyBIVE1MIHBhcnNpbmcgc3VwcG9ydCBpcyBub3QgYXMgd2lkZSBhcyBvdGhlciBmb3JtYXRzLCBzZWVcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9ET01QYXJzZXIjQnJvd3Nlcl9jb21wYXRpYmlsaXR5LlxuICpcbiAqIEBzdXBwcmVzcyB7dXNlbGVzc0NvZGV9XG4gKi9cbmZ1bmN0aW9uIGlzRE9NUGFyc2VyQXZhaWxhYmxlKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAhIW5ldyB3aW5kb3cuRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHRydXN0ZWRIVE1MRnJvbVN0cmluZygnJyksICd0ZXh0L2h0bWwnKTtcbiAgICB9XG4gICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIHBhdHRlcm4gdGhhdCByZWNvZ25pemVzIGEgY29tbW9ubHkgdXNlZnVsIHN1YnNldCBvZiBVUkxzIHRoYXQgYXJlIHNhZmUuXG4gKlxuICogVGhpcyByZWd1bGFyIGV4cHJlc3Npb24gbWF0Y2hlcyBhIHN1YnNldCBvZiBVUkxzIHRoYXQgd2lsbCBub3QgY2F1c2Ugc2NyaXB0XG4gKiBleGVjdXRpb24gaWYgdXNlZCBpbiBVUkwgY29udGV4dCB3aXRoaW4gYSBIVE1MIGRvY3VtZW50LiBTcGVjaWZpY2FsbHksIHRoaXNcbiAqIHJlZ3VsYXIgZXhwcmVzc2lvbiBtYXRjaGVzIGlmIChjb21tZW50IGZyb20gaGVyZSBvbiBhbmQgcmVnZXggY29waWVkIGZyb21cbiAqIFNveSdzIEVzY2FwaW5nQ29udmVudGlvbnMpOlxuICogKDEpIEVpdGhlciBhbiBhbGxvd2VkIHByb3RvY29sIChodHRwLCBodHRwcywgbWFpbHRvIG9yIGZ0cCkuXG4gKiAoMikgb3Igbm8gcHJvdG9jb2wuICBBIHByb3RvY29sIG11c3QgYmUgZm9sbG93ZWQgYnkgYSBjb2xvbi4gVGhlIGJlbG93XG4gKiAgICAgYWxsb3dzIHRoYXQgYnkgYWxsb3dpbmcgY29sb25zIG9ubHkgYWZ0ZXIgb25lIG9mIHRoZSBjaGFyYWN0ZXJzIFsvPyNdLlxuICogICAgIEEgY29sb24gYWZ0ZXIgYSBoYXNoICgjKSBtdXN0IGJlIGluIHRoZSBmcmFnbWVudC5cbiAqICAgICBPdGhlcndpc2UsIGEgY29sb24gYWZ0ZXIgYSAoPykgbXVzdCBiZSBpbiBhIHF1ZXJ5LlxuICogICAgIE90aGVyd2lzZSwgYSBjb2xvbiBhZnRlciBhIHNpbmdsZSBzb2xpZHVzICgvKSBtdXN0IGJlIGluIGEgcGF0aC5cbiAqICAgICBPdGhlcndpc2UsIGEgY29sb24gYWZ0ZXIgYSBkb3VibGUgc29saWR1cyAoLy8pIG11c3QgYmUgaW4gdGhlIGF1dGhvcml0eVxuICogICAgIChiZWZvcmUgcG9ydCkuXG4gKlxuICogVGhlIHBhdHRlcm4gZGlzYWxsb3dzICYsIHVzZWQgaW4gSFRNTCBlbnRpdHkgZGVjbGFyYXRpb25zIGJlZm9yZVxuICogb25lIG9mIHRoZSBjaGFyYWN0ZXJzIGluIFsvPyNdLiBUaGlzIGRpc2FsbG93cyBIVE1MIGVudGl0aWVzIHVzZWQgaW4gdGhlXG4gKiBwcm90b2NvbCBuYW1lLCB3aGljaCBzaG91bGQgbmV2ZXIgaGFwcGVuLCBlLmcuIFwiaCYjMTE2O3RwXCIgZm9yIFwiaHR0cFwiLlxuICogSXQgYWxzbyBkaXNhbGxvd3MgSFRNTCBlbnRpdGllcyBpbiB0aGUgZmlyc3QgcGF0aCBwYXJ0IG9mIGEgcmVsYXRpdmUgcGF0aCxcbiAqIGUuZy4gXCJmb28mbHQ7YmFyL2JhelwiLiAgT3VyIGV4aXN0aW5nIGVzY2FwaW5nIGZ1bmN0aW9ucyBzaG91bGQgbm90IHByb2R1Y2VcbiAqIHRoYXQuIE1vcmUgaW1wb3J0YW50bHksIGl0IGRpc2FsbG93cyBtYXNraW5nIG9mIGEgY29sb24sXG4gKiBlLmcuIFwiamF2YXNjcmlwdCYjNTg7Li4uXCIuXG4gKlxuICogVGhpcyByZWd1bGFyIGV4cHJlc3Npb24gd2FzIHRha2VuIGZyb20gdGhlIENsb3N1cmUgc2FuaXRpemF0aW9uIGxpYnJhcnkuXG4gKi9cbmNvbnN0IFNBRkVfVVJMX1BBVFRFUk4gPSAvXig/Oig/Omh0dHBzP3xtYWlsdG98ZnRwfHRlbHxmaWxlfHNtcyk6fFteJjovPyNdKig/OlsvPyNdfCQpKS9naTtcbi8qIEEgcGF0dGVybiB0aGF0IG1hdGNoZXMgc2FmZSBzcmNzZXQgdmFsdWVzICovXG5jb25zdCBTQUZFX1NSQ1NFVF9QQVRURVJOID0gL14oPzooPzpodHRwcz98ZmlsZSk6fFteJjovPyNdKig/OlsvPyNdfCQpKS9naTtcbi8qKiBBIHBhdHRlcm4gdGhhdCBtYXRjaGVzIHNhZmUgZGF0YSBVUkxzLiBPbmx5IG1hdGNoZXMgaW1hZ2UsIHZpZGVvIGFuZCBhdWRpbyB0eXBlcy4gKi9cbmNvbnN0IERBVEFfVVJMX1BBVFRFUk4gPSAvXmRhdGE6KD86aW1hZ2VcXC8oPzpibXB8Z2lmfGpwZWd8anBnfHBuZ3x0aWZmfHdlYnApfHZpZGVvXFwvKD86bXBlZ3xtcDR8b2dnfHdlYm0pfGF1ZGlvXFwvKD86bXAzfG9nYXxvZ2d8b3B1cykpO2Jhc2U2NCxbYS16MC05K1xcL10rPSokL2k7XG5mdW5jdGlvbiBfc2FuaXRpemVVcmwodXJsKSB7XG4gICAgdXJsID0gU3RyaW5nKHVybCk7XG4gICAgaWYgKHVybC5tYXRjaChTQUZFX1VSTF9QQVRURVJOKSB8fCB1cmwubWF0Y2goREFUQV9VUkxfUEFUVEVSTikpXG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFdBUk5JTkc6IHNhbml0aXppbmcgdW5zYWZlIFVSTCB2YWx1ZSAke3VybH0gKHNlZSBodHRwczovL2cuY28vbmcvc2VjdXJpdHkjeHNzKWApO1xuICAgIH1cbiAgICByZXR1cm4gJ3Vuc2FmZTonICsgdXJsO1xufVxuZnVuY3Rpb24gc2FuaXRpemVTcmNzZXQoc3Jjc2V0KSB7XG4gICAgc3Jjc2V0ID0gU3RyaW5nKHNyY3NldCk7XG4gICAgcmV0dXJuIHNyY3NldC5zcGxpdCgnLCcpLm1hcCgoc3Jjc2V0KSA9PiBfc2FuaXRpemVVcmwoc3Jjc2V0LnRyaW0oKSkpLmpvaW4oJywgJyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gdGFnU2V0KHRhZ3MpIHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHQgb2YgdGFncy5zcGxpdCgnLCcpKVxuICAgICAgICByZXNbdF0gPSB0cnVlO1xuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBtZXJnZSguLi5zZXRzKSB7XG4gICAgY29uc3QgcmVzID0ge307XG4gICAgZm9yIChjb25zdCBzIG9mIHNldHMpIHtcbiAgICAgICAgZm9yIChjb25zdCB2IGluIHMpIHtcbiAgICAgICAgICAgIGlmIChzLmhhc093blByb3BlcnR5KHYpKVxuICAgICAgICAgICAgICAgIHJlc1t2XSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbi8vIEdvb2Qgc291cmNlIG9mIGluZm8gYWJvdXQgZWxlbWVudHMgYW5kIGF0dHJpYnV0ZXNcbi8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI3NlbWFudGljc1xuLy8gaHR0cHM6Ly9zaW1vbi5odG1sNS5vcmcvaHRtbC1lbGVtZW50c1xuLy8gU2FmZSBWb2lkIEVsZW1lbnRzIC0gSFRNTDVcbi8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI3ZvaWQtZWxlbWVudHNcbmNvbnN0IFZPSURfRUxFTUVOVFMgPSB0YWdTZXQoJ2FyZWEsYnIsY29sLGhyLGltZyx3YnInKTtcbi8vIEVsZW1lbnRzIHRoYXQgeW91IGNhbiwgaW50ZW50aW9uYWxseSwgbGVhdmUgb3BlbiAoYW5kIHdoaWNoIGNsb3NlIHRoZW1zZWx2ZXMpXG4vLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNvcHRpb25hbC10YWdzXG5jb25zdCBPUFRJT05BTF9FTkRfVEFHX0JMT0NLX0VMRU1FTlRTID0gdGFnU2V0KCdjb2xncm91cCxkZCxkdCxsaSxwLHRib2R5LHRkLHRmb290LHRoLHRoZWFkLHRyJyk7XG5jb25zdCBPUFRJT05BTF9FTkRfVEFHX0lOTElORV9FTEVNRU5UUyA9IHRhZ1NldCgncnAscnQnKTtcbmNvbnN0IE9QVElPTkFMX0VORF9UQUdfRUxFTUVOVFMgPSBtZXJnZShPUFRJT05BTF9FTkRfVEFHX0lOTElORV9FTEVNRU5UUywgT1BUSU9OQUxfRU5EX1RBR19CTE9DS19FTEVNRU5UUyk7XG4vLyBTYWZlIEJsb2NrIEVsZW1lbnRzIC0gSFRNTDVcbmNvbnN0IEJMT0NLX0VMRU1FTlRTID0gbWVyZ2UoT1BUSU9OQUxfRU5EX1RBR19CTE9DS19FTEVNRU5UUywgdGFnU2V0KCdhZGRyZXNzLGFydGljbGUsJyArXG4gICAgJ2FzaWRlLGJsb2NrcXVvdGUsY2FwdGlvbixjZW50ZXIsZGVsLGRldGFpbHMsZGlhbG9nLGRpcixkaXYsZGwsZmlndXJlLGZpZ2NhcHRpb24sZm9vdGVyLGgxLGgyLGgzLGg0LGg1LCcgK1xuICAgICdoNixoZWFkZXIsaGdyb3VwLGhyLGlucyxtYWluLG1hcCxtZW51LG5hdixvbCxwcmUsc2VjdGlvbixzdW1tYXJ5LHRhYmxlLHVsJykpO1xuLy8gSW5saW5lIEVsZW1lbnRzIC0gSFRNTDVcbmNvbnN0IElOTElORV9FTEVNRU5UUyA9IG1lcmdlKE9QVElPTkFMX0VORF9UQUdfSU5MSU5FX0VMRU1FTlRTLCB0YWdTZXQoJ2EsYWJicixhY3JvbnltLGF1ZGlvLGIsJyArXG4gICAgJ2JkaSxiZG8sYmlnLGJyLGNpdGUsY29kZSxkZWwsZGZuLGVtLGZvbnQsaSxpbWcsaW5zLGtiZCxsYWJlbCxtYXAsbWFyayxwaWN0dXJlLHEscnVieSxycCxydCxzLCcgK1xuICAgICdzYW1wLHNtYWxsLHNvdXJjZSxzcGFuLHN0cmlrZSxzdHJvbmcsc3ViLHN1cCx0aW1lLHRyYWNrLHR0LHUsdmFyLHZpZGVvJykpO1xuY29uc3QgVkFMSURfRUxFTUVOVFMgPSBtZXJnZShWT0lEX0VMRU1FTlRTLCBCTE9DS19FTEVNRU5UUywgSU5MSU5FX0VMRU1FTlRTLCBPUFRJT05BTF9FTkRfVEFHX0VMRU1FTlRTKTtcbi8vIEF0dHJpYnV0ZXMgdGhhdCBoYXZlIGhyZWYgYW5kIGhlbmNlIG5lZWQgdG8gYmUgc2FuaXRpemVkXG5jb25zdCBVUklfQVRUUlMgPSB0YWdTZXQoJ2JhY2tncm91bmQsY2l0ZSxocmVmLGl0ZW10eXBlLGxvbmdkZXNjLHBvc3RlcixzcmMseGxpbms6aHJlZicpO1xuLy8gQXR0cmlidXRlcyB0aGF0IGhhdmUgc3BlY2lhbCBocmVmIHNldCBoZW5jZSBuZWVkIHRvIGJlIHNhbml0aXplZFxuY29uc3QgU1JDU0VUX0FUVFJTID0gdGFnU2V0KCdzcmNzZXQnKTtcbmNvbnN0IEhUTUxfQVRUUlMgPSB0YWdTZXQoJ2FiYnIsYWNjZXNza2V5LGFsaWduLGFsdCxhdXRvcGxheSxheGlzLGJnY29sb3IsYm9yZGVyLGNlbGxwYWRkaW5nLGNlbGxzcGFjaW5nLGNsYXNzLGNsZWFyLGNvbG9yLGNvbHMsY29sc3BhbiwnICtcbiAgICAnY29tcGFjdCxjb250cm9scyxjb29yZHMsZGF0ZXRpbWUsZGVmYXVsdCxkaXIsZG93bmxvYWQsZmFjZSxoZWFkZXJzLGhlaWdodCxoaWRkZW4saHJlZmxhbmcsaHNwYWNlLCcgK1xuICAgICdpc21hcCxpdGVtc2NvcGUsaXRlbXByb3Asa2luZCxsYWJlbCxsYW5nLGxhbmd1YWdlLGxvb3AsbWVkaWEsbXV0ZWQsbm9ocmVmLG5vd3JhcCxvcGVuLHByZWxvYWQscmVsLHJldixyb2xlLHJvd3Mscm93c3BhbixydWxlcywnICtcbiAgICAnc2NvcGUsc2Nyb2xsaW5nLHNoYXBlLHNpemUsc2l6ZXMsc3BhbixzcmNsYW5nLHN0YXJ0LHN1bW1hcnksdGFiaW5kZXgsdGFyZ2V0LHRpdGxlLHRyYW5zbGF0ZSx0eXBlLHVzZW1hcCwnICtcbiAgICAndmFsaWduLHZhbHVlLHZzcGFjZSx3aWR0aCcpO1xuLy8gQWNjZXNzaWJpbGl0eSBhdHRyaWJ1dGVzIGFzIHBlciBXQUktQVJJQSAxLjEgKFczQyBXb3JraW5nIERyYWZ0IDE0IERlY2VtYmVyIDIwMTgpXG5jb25zdCBBUklBX0FUVFJTID0gdGFnU2V0KCdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQsYXJpYS1hdG9taWMsYXJpYS1hdXRvY29tcGxldGUsYXJpYS1idXN5LGFyaWEtY2hlY2tlZCxhcmlhLWNvbGNvdW50LGFyaWEtY29saW5kZXgsJyArXG4gICAgJ2FyaWEtY29sc3BhbixhcmlhLWNvbnRyb2xzLGFyaWEtY3VycmVudCxhcmlhLWRlc2NyaWJlZGJ5LGFyaWEtZGV0YWlscyxhcmlhLWRpc2FibGVkLGFyaWEtZHJvcGVmZmVjdCwnICtcbiAgICAnYXJpYS1lcnJvcm1lc3NhZ2UsYXJpYS1leHBhbmRlZCxhcmlhLWZsb3d0byxhcmlhLWdyYWJiZWQsYXJpYS1oYXNwb3B1cCxhcmlhLWhpZGRlbixhcmlhLWludmFsaWQsJyArXG4gICAgJ2FyaWEta2V5c2hvcnRjdXRzLGFyaWEtbGFiZWwsYXJpYS1sYWJlbGxlZGJ5LGFyaWEtbGV2ZWwsYXJpYS1saXZlLGFyaWEtbW9kYWwsYXJpYS1tdWx0aWxpbmUsJyArXG4gICAgJ2FyaWEtbXVsdGlzZWxlY3RhYmxlLGFyaWEtb3JpZW50YXRpb24sYXJpYS1vd25zLGFyaWEtcGxhY2Vob2xkZXIsYXJpYS1wb3NpbnNldCxhcmlhLXByZXNzZWQsYXJpYS1yZWFkb25seSwnICtcbiAgICAnYXJpYS1yZWxldmFudCxhcmlhLXJlcXVpcmVkLGFyaWEtcm9sZWRlc2NyaXB0aW9uLGFyaWEtcm93Y291bnQsYXJpYS1yb3dpbmRleCxhcmlhLXJvd3NwYW4sYXJpYS1zZWxlY3RlZCwnICtcbiAgICAnYXJpYS1zZXRzaXplLGFyaWEtc29ydCxhcmlhLXZhbHVlbWF4LGFyaWEtdmFsdWVtaW4sYXJpYS12YWx1ZW5vdyxhcmlhLXZhbHVldGV4dCcpO1xuLy8gTkI6IFRoaXMgY3VycmVudGx5IGNvbnNjaW91c2x5IGRvZXNuJ3Qgc3VwcG9ydCBTVkcuIFNWRyBzYW5pdGl6YXRpb24gaGFzIGhhZCBzZXZlcmFsIHNlY3VyaXR5XG4vLyBpc3N1ZXMgaW4gdGhlIHBhc3QsIHNvIGl0IHNlZW1zIHNhZmVyIHRvIGxlYXZlIGl0IG91dCBpZiBwb3NzaWJsZS4gSWYgc3VwcG9ydCBmb3IgYmluZGluZyBTVkcgdmlhXG4vLyBpbm5lckhUTUwgaXMgcmVxdWlyZWQsIFNWRyBhdHRyaWJ1dGVzIHNob3VsZCBiZSBhZGRlZCBoZXJlLlxuLy8gTkI6IFNhbml0aXphdGlvbiBkb2VzIG5vdCBhbGxvdyA8Zm9ybT4gZWxlbWVudHMgb3Igb3RoZXIgYWN0aXZlIGVsZW1lbnRzICg8YnV0dG9uPiBldGMpLiBUaG9zZVxuLy8gY2FuIGJlIHNhbml0aXplZCwgYnV0IHRoZXkgaW5jcmVhc2Ugc2VjdXJpdHkgc3VyZmFjZSBhcmVhIHdpdGhvdXQgYSBsZWdpdGltYXRlIHVzZSBjYXNlLCBzbyB0aGV5XG4vLyBhcmUgbGVmdCBvdXQgaGVyZS5cbmNvbnN0IFZBTElEX0FUVFJTID0gbWVyZ2UoVVJJX0FUVFJTLCBTUkNTRVRfQVRUUlMsIEhUTUxfQVRUUlMsIEFSSUFfQVRUUlMpO1xuLy8gRWxlbWVudHMgd2hvc2UgY29udGVudCBzaG91bGQgbm90IGJlIHRyYXZlcnNlZC9wcmVzZXJ2ZWQsIGlmIHRoZSBlbGVtZW50cyB0aGVtc2VsdmVzIGFyZSBpbnZhbGlkLlxuLy9cbi8vIFR5cGljYWxseSwgYDxpbnZhbGlkPlNvbWUgY29udGVudDwvaW52YWxpZD5gIHdvdWxkIHRyYXZlcnNlIChhbmQgaW4gdGhpcyBjYXNlIHByZXNlcnZlKVxuLy8gYFNvbWUgY29udGVudGAsIGJ1dCBzdHJpcCBgaW52YWxpZC1lbGVtZW50YCBvcGVuaW5nL2Nsb3NpbmcgdGFncy4gRm9yIHNvbWUgZWxlbWVudHMsIHRob3VnaCwgd2Vcbi8vIGRvbid0IHdhbnQgdG8gcHJlc2VydmUgdGhlIGNvbnRlbnQsIGlmIHRoZSBlbGVtZW50cyB0aGVtc2VsdmVzIGFyZSBnb2luZyB0byBiZSByZW1vdmVkLlxuY29uc3QgU0tJUF9UUkFWRVJTSU5HX0NPTlRFTlRfSUZfSU5WQUxJRF9FTEVNRU5UUyA9IHRhZ1NldCgnc2NyaXB0LHN0eWxlLHRlbXBsYXRlJyk7XG4vKipcbiAqIFNhbml0aXppbmdIdG1sU2VyaWFsaXplciBzZXJpYWxpemVzIGEgRE9NIGZyYWdtZW50LCBzdHJpcHBpbmcgb3V0IGFueSB1bnNhZmUgZWxlbWVudHMgYW5kIHVuc2FmZVxuICogYXR0cmlidXRlcy5cbiAqL1xuY2xhc3MgU2FuaXRpemluZ0h0bWxTZXJpYWxpemVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gRXhwbGljaXRseSB0cmFjayBpZiBzb21ldGhpbmcgd2FzIHN0cmlwcGVkLCB0byBhdm9pZCBhY2NpZGVudGFsbHkgd2FybmluZyBvZiBzYW5pdGl6YXRpb24ganVzdFxuICAgICAgICAvLyBiZWNhdXNlIGNoYXJhY3RlcnMgd2VyZSByZS1lbmNvZGVkLlxuICAgICAgICB0aGlzLnNhbml0aXplZFNvbWV0aGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ1ZiA9IFtdO1xuICAgIH1cbiAgICBzYW5pdGl6ZUNoaWxkcmVuKGVsKSB7XG4gICAgICAgIC8vIFRoaXMgY2Fubm90IHVzZSBhIFRyZWVXYWxrZXIsIGFzIGl0IGhhcyB0byBydW4gb24gQW5ndWxhcidzIHZhcmlvdXMgRE9NIGFkYXB0ZXJzLlxuICAgICAgICAvLyBIb3dldmVyIHRoaXMgY29kZSBuZXZlciBhY2Nlc3NlcyBwcm9wZXJ0aWVzIG9mZiBvZiBgZG9jdW1lbnRgIGJlZm9yZSBkZWxldGluZyBpdHMgY29udGVudHNcbiAgICAgICAgLy8gYWdhaW4sIHNvIGl0IHNob3VsZG4ndCBiZSB2dWxuZXJhYmxlIHRvIERPTSBjbG9iYmVyaW5nLlxuICAgICAgICBsZXQgY3VycmVudCA9IGVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGxldCB0cmF2ZXJzZUNvbnRlbnQgPSB0cnVlO1xuICAgICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgdHJhdmVyc2VDb250ZW50ID0gdGhpcy5zdGFydEVsZW1lbnQoY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50Lm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcnMoY3VycmVudC5ub2RlVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU3RyaXAgbm9uLWVsZW1lbnQsIG5vbi10ZXh0IG5vZGVzLlxuICAgICAgICAgICAgICAgIHRoaXMuc2FuaXRpemVkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cmF2ZXJzZUNvbnRlbnQgJiYgY3VycmVudC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gTGVhdmluZyB0aGUgZWxlbWVudC4gV2FsayB1cCBhbmQgdG8gdGhlIHJpZ2h0LCBjbG9zaW5nIHRhZ3MgYXMgd2UgZ28uXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kRWxlbWVudChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSB0aGlzLmNoZWNrQ2xvYmJlcmVkRWxlbWVudChjdXJyZW50LCBjdXJyZW50Lm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB0aGlzLmNoZWNrQ2xvYmJlcmVkRWxlbWVudChjdXJyZW50LCBjdXJyZW50LnBhcmVudE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmJ1Zi5qb2luKCcnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2FuaXRpemVzIGFuIG9wZW5pbmcgZWxlbWVudCB0YWcgKGlmIHZhbGlkKSBhbmQgcmV0dXJucyB3aGV0aGVyIHRoZSBlbGVtZW50J3MgY29udGVudHMgc2hvdWxkXG4gICAgICogYmUgdHJhdmVyc2VkLiBFbGVtZW50IGNvbnRlbnQgbXVzdCBhbHdheXMgYmUgdHJhdmVyc2VkIChldmVuIGlmIHRoZSBlbGVtZW50IGl0c2VsZiBpcyBub3RcbiAgICAgKiB2YWxpZC9zYWZlKSwgdW5sZXNzIHRoZSBlbGVtZW50IGlzIG9uZSBvZiBgU0tJUF9UUkFWRVJTSU5HX0NPTlRFTlRfSUZfSU5WQUxJRF9FTEVNRU5UU2AuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBzYW5pdGl6ZS5cbiAgICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIGVsZW1lbnQncyBjb250ZW50cyBzaG91bGQgYmUgdHJhdmVyc2VkLlxuICAgICAqL1xuICAgIHN0YXJ0RWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSBlbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICghVkFMSURfRUxFTUVOVFMuaGFzT3duUHJvcGVydHkodGFnTmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXMuc2FuaXRpemVkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiAhU0tJUF9UUkFWRVJTSU5HX0NPTlRFTlRfSUZfSU5WQUxJRF9FTEVNRU5UUy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1Zi5wdXNoKCc8Jyk7XG4gICAgICAgIHRoaXMuYnVmLnB1c2godGFnTmFtZSk7XG4gICAgICAgIGNvbnN0IGVsQXR0cnMgPSBlbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxBdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxBdHRyID0gZWxBdHRycy5pdGVtKGkpO1xuICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSBlbEF0dHIubmFtZTtcbiAgICAgICAgICAgIGNvbnN0IGxvd2VyID0gYXR0ck5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmICghVkFMSURfQVRUUlMuaGFzT3duUHJvcGVydHkobG93ZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zYW5pdGl6ZWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHZhbHVlID0gZWxBdHRyLnZhbHVlO1xuICAgICAgICAgICAgLy8gVE9ETyhtYXJ0aW5wcm9ic3QpOiBTcGVjaWFsIGNhc2UgaW1hZ2UgVVJJcyBmb3IgZGF0YTppbWFnZS8uLi5cbiAgICAgICAgICAgIGlmIChVUklfQVRUUlNbbG93ZXJdKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gX3Nhbml0aXplVXJsKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChTUkNTRVRfQVRUUlNbbG93ZXJdKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gc2FuaXRpemVTcmNzZXQodmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5idWYucHVzaCgnICcsIGF0dHJOYW1lLCAnPVwiJywgZW5jb2RlRW50aXRpZXModmFsdWUpLCAnXCInKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1Zi5wdXNoKCc+Jyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbmRFbGVtZW50KGN1cnJlbnQpIHtcbiAgICAgICAgY29uc3QgdGFnTmFtZSA9IGN1cnJlbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKFZBTElEX0VMRU1FTlRTLmhhc093blByb3BlcnR5KHRhZ05hbWUpICYmICFWT0lEX0VMRU1FTlRTLmhhc093blByb3BlcnR5KHRhZ05hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLmJ1Zi5wdXNoKCc8LycpO1xuICAgICAgICAgICAgdGhpcy5idWYucHVzaCh0YWdOYW1lKTtcbiAgICAgICAgICAgIHRoaXMuYnVmLnB1c2goJz4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjaGFycyhjaGFycykge1xuICAgICAgICB0aGlzLmJ1Zi5wdXNoKGVuY29kZUVudGl0aWVzKGNoYXJzKSk7XG4gICAgfVxuICAgIGNoZWNrQ2xvYmJlcmVkRWxlbWVudChub2RlLCBuZXh0Tm9kZSkge1xuICAgICAgICBpZiAobmV4dE5vZGUgJiZcbiAgICAgICAgICAgIChub2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG5leHROb2RlKSAmXG4gICAgICAgICAgICAgICAgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkpID09PSBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2FuaXRpemUgaHRtbCBiZWNhdXNlIHRoZSBlbGVtZW50IGlzIGNsb2JiZXJlZDogJHtub2RlLm91dGVySFRNTH1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dE5vZGU7XG4gICAgfVxufVxuLy8gUmVndWxhciBFeHByZXNzaW9ucyBmb3IgcGFyc2luZyB0YWdzIGFuZCBhdHRyaWJ1dGVzXG5jb25zdCBTVVJST0dBVEVfUEFJUl9SRUdFWFAgPSAvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXS9nO1xuLy8gISB0byB+IGlzIHRoZSBBU0NJSSByYW5nZS5cbmNvbnN0IE5PTl9BTFBIQU5VTUVSSUNfUkVHRVhQID0gLyhbXlxcIy1+IHwhXSkvZztcbi8qKlxuICogRXNjYXBlcyBhbGwgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIGNoYXJhY3RlcnMsIHNvIHRoYXQgdGhlXG4gKiByZXN1bHRpbmcgc3RyaW5nIGNhbiBiZSBzYWZlbHkgaW5zZXJ0ZWQgaW50byBhdHRyaWJ1dGUgb3JcbiAqIGVsZW1lbnQgdGV4dC5cbiAqIEBwYXJhbSB2YWx1ZVxuICovXG5mdW5jdGlvbiBlbmNvZGVFbnRpdGllcyh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC8mL2csICcmYW1wOycpXG4gICAgICAgIC5yZXBsYWNlKFNVUlJPR0FURV9QQUlSX1JFR0VYUCwgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgIGNvbnN0IGhpID0gbWF0Y2guY2hhckNvZGVBdCgwKTtcbiAgICAgICAgY29uc3QgbG93ID0gbWF0Y2guY2hhckNvZGVBdCgxKTtcbiAgICAgICAgcmV0dXJuICcmIycgKyAoKChoaSAtIDB4RDgwMCkgKiAweDQwMCkgKyAobG93IC0gMHhEQzAwKSArIDB4MTAwMDApICsgJzsnO1xuICAgIH0pXG4gICAgICAgIC5yZXBsYWNlKE5PTl9BTFBIQU5VTUVSSUNfUkVHRVhQLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuICcmIycgKyBtYXRjaC5jaGFyQ29kZUF0KDApICsgJzsnO1xuICAgIH0pXG4gICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcbn1cbmxldCBpbmVydEJvZHlIZWxwZXI7XG4vKipcbiAqIFNhbml0aXplcyB0aGUgZ2l2ZW4gdW5zYWZlLCB1bnRydXN0ZWQgSFRNTCBmcmFnbWVudCwgYW5kIHJldHVybnMgSFRNTCB0ZXh0IHRoYXQgaXMgc2FmZSB0byBhZGQgdG9cbiAqIHRoZSBET00gaW4gYSBicm93c2VyIGVudmlyb25tZW50LlxuICovXG5mdW5jdGlvbiBfc2FuaXRpemVIdG1sKGRlZmF1bHREb2MsIHVuc2FmZUh0bWxJbnB1dCkge1xuICAgIGxldCBpbmVydEJvZHlFbGVtZW50ID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgICBpbmVydEJvZHlIZWxwZXIgPSBpbmVydEJvZHlIZWxwZXIgfHwgZ2V0SW5lcnRCb2R5SGVscGVyKGRlZmF1bHREb2MpO1xuICAgICAgICAvLyBNYWtlIHN1cmUgdW5zYWZlSHRtbCBpcyBhY3R1YWxseSBhIHN0cmluZyAoVHlwZVNjcmlwdCB0eXBlcyBhcmUgbm90IGVuZm9yY2VkIGF0IHJ1bnRpbWUpLlxuICAgICAgICBsZXQgdW5zYWZlSHRtbCA9IHVuc2FmZUh0bWxJbnB1dCA/IFN0cmluZyh1bnNhZmVIdG1sSW5wdXQpIDogJyc7XG4gICAgICAgIGluZXJ0Qm9keUVsZW1lbnQgPSBpbmVydEJvZHlIZWxwZXIuZ2V0SW5lcnRCb2R5RWxlbWVudCh1bnNhZmVIdG1sKTtcbiAgICAgICAgLy8gbVhTUyBwcm90ZWN0aW9uLiBSZXBlYXRlZGx5IHBhcnNlIHRoZSBkb2N1bWVudCB0byBtYWtlIHN1cmUgaXQgc3RhYmlsaXplcywgc28gdGhhdCBhIGJyb3dzZXJcbiAgICAgICAgLy8gdHJ5aW5nIHRvIGF1dG8tY29ycmVjdCBpbmNvcnJlY3QgSFRNTCBjYW5ub3QgY2F1c2UgZm9ybWVybHkgaW5lcnQgSFRNTCB0byBiZWNvbWUgZGFuZ2Vyb3VzLlxuICAgICAgICBsZXQgbVhTU0F0dGVtcHRzID0gNTtcbiAgICAgICAgbGV0IHBhcnNlZEh0bWwgPSB1bnNhZmVIdG1sO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAobVhTU0F0dGVtcHRzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc2FuaXRpemUgaHRtbCBiZWNhdXNlIHRoZSBpbnB1dCBpcyB1bnN0YWJsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbVhTU0F0dGVtcHRzLS07XG4gICAgICAgICAgICB1bnNhZmVIdG1sID0gcGFyc2VkSHRtbDtcbiAgICAgICAgICAgIHBhcnNlZEh0bWwgPSBpbmVydEJvZHlFbGVtZW50LmlubmVySFRNTDtcbiAgICAgICAgICAgIGluZXJ0Qm9keUVsZW1lbnQgPSBpbmVydEJvZHlIZWxwZXIuZ2V0SW5lcnRCb2R5RWxlbWVudCh1bnNhZmVIdG1sKTtcbiAgICAgICAgfSB3aGlsZSAodW5zYWZlSHRtbCAhPT0gcGFyc2VkSHRtbCk7XG4gICAgICAgIGNvbnN0IHNhbml0aXplciA9IG5ldyBTYW5pdGl6aW5nSHRtbFNlcmlhbGl6ZXIoKTtcbiAgICAgICAgY29uc3Qgc2FmZUh0bWwgPSBzYW5pdGl6ZXIuc2FuaXRpemVDaGlsZHJlbihnZXRUZW1wbGF0ZUNvbnRlbnQoaW5lcnRCb2R5RWxlbWVudCkgfHwgaW5lcnRCb2R5RWxlbWVudCk7XG4gICAgICAgIGlmICgodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSAmJiBzYW5pdGl6ZXIuc2FuaXRpemVkU29tZXRoaW5nKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IHNhbml0aXppbmcgSFRNTCBzdHJpcHBlZCBzb21lIGNvbnRlbnQsIHNlZSBodHRwczovL2cuY28vbmcvc2VjdXJpdHkjeHNzJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydXN0ZWRIVE1MRnJvbVN0cmluZyhzYWZlSHRtbCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICAvLyBJbiBjYXNlIGFueXRoaW5nIGdvZXMgd3JvbmcsIGNsZWFyIG91dCBpbmVydEVsZW1lbnQgdG8gcmVzZXQgdGhlIGVudGlyZSBET00gc3RydWN0dXJlLlxuICAgICAgICBpZiAoaW5lcnRCb2R5RWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gZ2V0VGVtcGxhdGVDb250ZW50KGluZXJ0Qm9keUVsZW1lbnQpIHx8IGluZXJ0Qm9keUVsZW1lbnQ7XG4gICAgICAgICAgICB3aGlsZSAocGFyZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQocGFyZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0VGVtcGxhdGVDb250ZW50KGVsKSB7XG4gICAgcmV0dXJuICdjb250ZW50JyBpbiBlbCAvKiogTWljcm9zb2Z0L1R5cGVTY3JpcHQjMjE1MTcgKi8gJiYgaXNUZW1wbGF0ZUVsZW1lbnQoZWwpID9cbiAgICAgICAgZWwuY29udGVudCA6XG4gICAgICAgIG51bGw7XG59XG5mdW5jdGlvbiBpc1RlbXBsYXRlRWxlbWVudChlbCkge1xuICAgIHJldHVybiBlbC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgJiYgZWwubm9kZU5hbWUgPT09ICdURU1QTEFURSc7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIFNlY3VyaXR5Q29udGV4dCBtYXJrcyBhIGxvY2F0aW9uIHRoYXQgaGFzIGRhbmdlcm91cyBzZWN1cml0eSBpbXBsaWNhdGlvbnMsIGUuZy4gYSBET00gcHJvcGVydHlcbiAqIGxpa2UgYGlubmVySFRNTGAgdGhhdCBjb3VsZCBjYXVzZSBDcm9zcyBTaXRlIFNjcmlwdGluZyAoWFNTKSBzZWN1cml0eSBidWdzIHdoZW4gaW1wcm9wZXJseVxuICogaGFuZGxlZC5cbiAqXG4gKiBTZWUgRG9tU2FuaXRpemVyIGZvciBtb3JlIGRldGFpbHMgb24gc2VjdXJpdHkgaW4gQW5ndWxhciBhcHBsaWNhdGlvbnMuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgU2VjdXJpdHlDb250ZXh0O1xuKGZ1bmN0aW9uIChTZWN1cml0eUNvbnRleHQpIHtcbiAgICBTZWN1cml0eUNvbnRleHRbU2VjdXJpdHlDb250ZXh0W1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dFtcIkhUTUxcIl0gPSAxXSA9IFwiSFRNTFwiO1xuICAgIFNlY3VyaXR5Q29udGV4dFtTZWN1cml0eUNvbnRleHRbXCJTVFlMRVwiXSA9IDJdID0gXCJTVFlMRVwiO1xuICAgIFNlY3VyaXR5Q29udGV4dFtTZWN1cml0eUNvbnRleHRbXCJTQ1JJUFRcIl0gPSAzXSA9IFwiU0NSSVBUXCI7XG4gICAgU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dFtcIlVSTFwiXSA9IDRdID0gXCJVUkxcIjtcbiAgICBTZWN1cml0eUNvbnRleHRbU2VjdXJpdHlDb250ZXh0W1wiUkVTT1VSQ0VfVVJMXCJdID0gNV0gPSBcIlJFU09VUkNFX1VSTFwiO1xufSkoU2VjdXJpdHlDb250ZXh0IHx8IChTZWN1cml0eUNvbnRleHQgPSB7fSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQW4gYGh0bWxgIHNhbml0aXplciB3aGljaCBjb252ZXJ0cyB1bnRydXN0ZWQgYGh0bWxgICoqc3RyaW5nKiogaW50byB0cnVzdGVkIHN0cmluZyBieSByZW1vdmluZ1xuICogZGFuZ2Vyb3VzIGNvbnRlbnQuXG4gKlxuICogVGhpcyBtZXRob2QgcGFyc2VzIHRoZSBgaHRtbGAgYW5kIGxvY2F0ZXMgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIGNvbnRlbnQgKHN1Y2ggYXMgdXJscyBhbmRcbiAqIGphdmFzY3JpcHQpIGFuZCByZW1vdmVzIGl0LlxuICpcbiAqIEl0IGlzIHBvc3NpYmxlIHRvIG1hcmsgYSBzdHJpbmcgYXMgdHJ1c3RlZCBieSBjYWxsaW5nIHtAbGluayBieXBhc3NTYW5pdGl6YXRpb25UcnVzdEh0bWx9LlxuICpcbiAqIEBwYXJhbSB1bnNhZmVIdG1sIHVudHJ1c3RlZCBgaHRtbGAsIHR5cGljYWxseSBmcm9tIHRoZSB1c2VyLlxuICogQHJldHVybnMgYGh0bWxgIHN0cmluZyB3aGljaCBpcyBzYWZlIHRvIGRpc3BsYXkgdG8gdXNlciwgYmVjYXVzZSBhbGwgb2YgdGhlIGRhbmdlcm91cyBqYXZhc2NyaXB0XG4gKiBhbmQgdXJscyBoYXZlIGJlZW4gcmVtb3ZlZC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c2FuaXRpemVIdG1sKHVuc2FmZUh0bWwpIHtcbiAgICBjb25zdCBzYW5pdGl6ZXIgPSBnZXRTYW5pdGl6ZXIoKTtcbiAgICBpZiAoc2FuaXRpemVyKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkSFRNTEZyb21TdHJpbmdCeXBhc3Moc2FuaXRpemVyLnNhbml0aXplKFNlY3VyaXR5Q29udGV4dC5IVE1MLCB1bnNhZmVIdG1sKSB8fCAnJyk7XG4gICAgfVxuICAgIGlmIChhbGxvd1Nhbml0aXphdGlvbkJ5cGFzc0FuZFRocm93KHVuc2FmZUh0bWwsIFwiSFRNTFwiIC8qIEh0bWwgKi8pKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkSFRNTEZyb21TdHJpbmdCeXBhc3ModW53cmFwU2FmZVZhbHVlKHVuc2FmZUh0bWwpKTtcbiAgICB9XG4gICAgcmV0dXJuIF9zYW5pdGl6ZUh0bWwoZ2V0RG9jdW1lbnQoKSwgcmVuZGVyU3RyaW5naWZ5KHVuc2FmZUh0bWwpKTtcbn1cbi8qKlxuICogQSBgc3R5bGVgIHNhbml0aXplciB3aGljaCBjb252ZXJ0cyB1bnRydXN0ZWQgYHN0eWxlYCAqKnN0cmluZyoqIGludG8gdHJ1c3RlZCBzdHJpbmcgYnkgcmVtb3ZpbmdcbiAqIGRhbmdlcm91cyBjb250ZW50LlxuICpcbiAqIEl0IGlzIHBvc3NpYmxlIHRvIG1hcmsgYSBzdHJpbmcgYXMgdHJ1c3RlZCBieSBjYWxsaW5nIHtAbGluayBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFN0eWxlfS5cbiAqXG4gKiBAcGFyYW0gdW5zYWZlU3R5bGUgdW50cnVzdGVkIGBzdHlsZWAsIHR5cGljYWxseSBmcm9tIHRoZSB1c2VyLlxuICogQHJldHVybnMgYHN0eWxlYCBzdHJpbmcgd2hpY2ggaXMgc2FmZSB0byBiaW5kIHRvIHRoZSBgc3R5bGVgIHByb3BlcnRpZXMuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXNhbml0aXplU3R5bGUodW5zYWZlU3R5bGUpIHtcbiAgICBjb25zdCBzYW5pdGl6ZXIgPSBnZXRTYW5pdGl6ZXIoKTtcbiAgICBpZiAoc2FuaXRpemVyKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZXIuc2FuaXRpemUoU2VjdXJpdHlDb250ZXh0LlNUWUxFLCB1bnNhZmVTdHlsZSkgfHwgJyc7XG4gICAgfVxuICAgIGlmIChhbGxvd1Nhbml0aXphdGlvbkJ5cGFzc0FuZFRocm93KHVuc2FmZVN0eWxlLCBcIlN0eWxlXCIgLyogU3R5bGUgKi8pKSB7XG4gICAgICAgIHJldHVybiB1bndyYXBTYWZlVmFsdWUodW5zYWZlU3R5bGUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyU3RyaW5naWZ5KHVuc2FmZVN0eWxlKTtcbn1cbi8qKlxuICogQSBgdXJsYCBzYW5pdGl6ZXIgd2hpY2ggY29udmVydHMgdW50cnVzdGVkIGB1cmxgICoqc3RyaW5nKiogaW50byB0cnVzdGVkIHN0cmluZyBieSByZW1vdmluZ1xuICogZGFuZ2Vyb3VzXG4gKiBjb250ZW50LlxuICpcbiAqIFRoaXMgbWV0aG9kIHBhcnNlcyB0aGUgYHVybGAgYW5kIGxvY2F0ZXMgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIGNvbnRlbnQgKHN1Y2ggYXMgamF2YXNjcmlwdCkgYW5kXG4gKiByZW1vdmVzIGl0LlxuICpcbiAqIEl0IGlzIHBvc3NpYmxlIHRvIG1hcmsgYSBzdHJpbmcgYXMgdHJ1c3RlZCBieSBjYWxsaW5nIHtAbGluayBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFVybH0uXG4gKlxuICogQHBhcmFtIHVuc2FmZVVybCB1bnRydXN0ZWQgYHVybGAsIHR5cGljYWxseSBmcm9tIHRoZSB1c2VyLlxuICogQHJldHVybnMgYHVybGAgc3RyaW5nIHdoaWNoIGlzIHNhZmUgdG8gYmluZCB0byB0aGUgYHNyY2AgcHJvcGVydGllcyBzdWNoIGFzIGA8aW1nIHNyYz5gLCBiZWNhdXNlXG4gKiBhbGwgb2YgdGhlIGRhbmdlcm91cyBqYXZhc2NyaXB0IGhhcyBiZWVuIHJlbW92ZWQuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXNhbml0aXplVXJsKHVuc2FmZVVybCkge1xuICAgIGNvbnN0IHNhbml0aXplciA9IGdldFNhbml0aXplcigpO1xuICAgIGlmIChzYW5pdGl6ZXIpIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplci5zYW5pdGl6ZShTZWN1cml0eUNvbnRleHQuVVJMLCB1bnNhZmVVcmwpIHx8ICcnO1xuICAgIH1cbiAgICBpZiAoYWxsb3dTYW5pdGl6YXRpb25CeXBhc3NBbmRUaHJvdyh1bnNhZmVVcmwsIFwiVVJMXCIgLyogVXJsICovKSkge1xuICAgICAgICByZXR1cm4gdW53cmFwU2FmZVZhbHVlKHVuc2FmZVVybCk7XG4gICAgfVxuICAgIHJldHVybiBfc2FuaXRpemVVcmwocmVuZGVyU3RyaW5naWZ5KHVuc2FmZVVybCkpO1xufVxuLyoqXG4gKiBBIGB1cmxgIHNhbml0aXplciB3aGljaCBvbmx5IGxldHMgdHJ1c3RlZCBgdXJsYHMgdGhyb3VnaC5cbiAqXG4gKiBUaGlzIHBhc3NlcyBvbmx5IGB1cmxgcyBtYXJrZWQgdHJ1c3RlZCBieSBjYWxsaW5nIHtAbGluayBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFJlc291cmNlVXJsfS5cbiAqXG4gKiBAcGFyYW0gdW5zYWZlUmVzb3VyY2VVcmwgdW50cnVzdGVkIGB1cmxgLCB0eXBpY2FsbHkgZnJvbSB0aGUgdXNlci5cbiAqIEByZXR1cm5zIGB1cmxgIHN0cmluZyB3aGljaCBpcyBzYWZlIHRvIGJpbmQgdG8gdGhlIGBzcmNgIHByb3BlcnRpZXMgc3VjaCBhcyBgPGltZyBzcmM+YCwgYmVjYXVzZVxuICogb25seSB0cnVzdGVkIGB1cmxgcyBoYXZlIGJlZW4gYWxsb3dlZCB0byBwYXNzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzYW5pdGl6ZVJlc291cmNlVXJsKHVuc2FmZVJlc291cmNlVXJsKSB7XG4gICAgY29uc3Qgc2FuaXRpemVyID0gZ2V0U2FuaXRpemVyKCk7XG4gICAgaWYgKHNhbml0aXplcikge1xuICAgICAgICByZXR1cm4gdHJ1c3RlZFNjcmlwdFVSTEZyb21TdHJpbmdCeXBhc3Moc2FuaXRpemVyLnNhbml0aXplKFNlY3VyaXR5Q29udGV4dC5SRVNPVVJDRV9VUkwsIHVuc2FmZVJlc291cmNlVXJsKSB8fCAnJyk7XG4gICAgfVxuICAgIGlmIChhbGxvd1Nhbml0aXphdGlvbkJ5cGFzc0FuZFRocm93KHVuc2FmZVJlc291cmNlVXJsLCBcIlJlc291cmNlVVJMXCIgLyogUmVzb3VyY2VVcmwgKi8pKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkU2NyaXB0VVJMRnJvbVN0cmluZ0J5cGFzcyh1bndyYXBTYWZlVmFsdWUodW5zYWZlUmVzb3VyY2VVcmwpKTtcbiAgICB9XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAndW5zYWZlIHZhbHVlIHVzZWQgaW4gYSByZXNvdXJjZSBVUkwgY29udGV4dCAoc2VlIGh0dHBzOi8vZy5jby9uZy9zZWN1cml0eSN4c3MpJyA6XG4gICAgICAgICcnO1xuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTA0IC8qIFVOU0FGRV9WQUxVRV9JTl9SRVNPVVJDRV9VUkwgKi8sIGVycm9yTWVzc2FnZSk7XG59XG4vKipcbiAqIEEgYHNjcmlwdGAgc2FuaXRpemVyIHdoaWNoIG9ubHkgbGV0cyB0cnVzdGVkIGphdmFzY3JpcHQgdGhyb3VnaC5cbiAqXG4gKiBUaGlzIHBhc3NlcyBvbmx5IGBzY3JpcHRgcyBtYXJrZWQgdHJ1c3RlZCBieSBjYWxsaW5nIHtAbGlua1xuICogYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTY3JpcHR9LlxuICpcbiAqIEBwYXJhbSB1bnNhZmVTY3JpcHQgdW50cnVzdGVkIGBzY3JpcHRgLCB0eXBpY2FsbHkgZnJvbSB0aGUgdXNlci5cbiAqIEByZXR1cm5zIGB1cmxgIHN0cmluZyB3aGljaCBpcyBzYWZlIHRvIGJpbmQgdG8gdGhlIGA8c2NyaXB0PmAgZWxlbWVudCBzdWNoIGFzIGA8aW1nIHNyYz5gLFxuICogYmVjYXVzZSBvbmx5IHRydXN0ZWQgYHNjcmlwdHNgIGhhdmUgYmVlbiBhbGxvd2VkIHRvIHBhc3MuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXNhbml0aXplU2NyaXB0KHVuc2FmZVNjcmlwdCkge1xuICAgIGNvbnN0IHNhbml0aXplciA9IGdldFNhbml0aXplcigpO1xuICAgIGlmIChzYW5pdGl6ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydXN0ZWRTY3JpcHRGcm9tU3RyaW5nQnlwYXNzKHNhbml0aXplci5zYW5pdGl6ZShTZWN1cml0eUNvbnRleHQuU0NSSVBULCB1bnNhZmVTY3JpcHQpIHx8ICcnKTtcbiAgICB9XG4gICAgaWYgKGFsbG93U2FuaXRpemF0aW9uQnlwYXNzQW5kVGhyb3codW5zYWZlU2NyaXB0LCBcIlNjcmlwdFwiIC8qIFNjcmlwdCAqLykpIHtcbiAgICAgICAgcmV0dXJuIHRydXN0ZWRTY3JpcHRGcm9tU3RyaW5nQnlwYXNzKHVud3JhcFNhZmVWYWx1ZSh1bnNhZmVTY3JpcHQpKTtcbiAgICB9XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAndW5zYWZlIHZhbHVlIHVzZWQgaW4gYSBzY3JpcHQgY29udGV4dCcgOlxuICAgICAgICAnJztcbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDkwNSAvKiBVTlNBRkVfVkFMVUVfSU5fU0NSSVBUICovLCBlcnJvck1lc3NhZ2UpO1xufVxuLyoqXG4gKiBBIHRlbXBsYXRlIHRhZyBmdW5jdGlvbiBmb3IgcHJvbW90aW5nIHRoZSBhc3NvY2lhdGVkIGNvbnN0YW50IGxpdGVyYWwgdG8gYVxuICogVHJ1c3RlZEhUTUwuIEludGVycG9sYXRpb24gaXMgZXhwbGljaXRseSBub3QgYWxsb3dlZC5cbiAqXG4gKiBAcGFyYW0gaHRtbCBjb25zdGFudCB0ZW1wbGF0ZSBsaXRlcmFsIGNvbnRhaW5pbmcgdHJ1c3RlZCBIVE1MLlxuICogQHJldHVybnMgVHJ1c3RlZEhUTUwgd3JhcHBpbmcgYGh0bWxgLlxuICpcbiAqIEBzZWN1cml0eSBUaGlzIGlzIGEgc2VjdXJpdHktc2Vuc2l0aXZlIGZ1bmN0aW9uIGFuZCBzaG91bGQgb25seSBiZSB1c2VkIHRvXG4gKiBjb252ZXJ0IGNvbnN0YW50IHZhbHVlcyBvZiBhdHRyaWJ1dGVzIGFuZCBwcm9wZXJ0aWVzIGZvdW5kIGluXG4gKiBhcHBsaWNhdGlvbi1wcm92aWRlZCBBbmd1bGFyIHRlbXBsYXRlcyB0byBUcnVzdGVkSFRNTC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dHJ1c3RDb25zdGFudEh0bWwoaHRtbCkge1xuICAgIC8vIFRoZSBmb2xsb3dpbmcgcnVudGltZSBjaGVjayBlbnN1cmVzIHRoYXQgdGhlIGZ1bmN0aW9uIHdhcyBjYWxsZWQgYXMgYVxuICAgIC8vIHRlbXBsYXRlIHRhZyAoZS5nLiDJtcm1dHJ1c3RDb25zdGFudEh0bWxgY29udGVudGApLCB3aXRob3V0IGFueSBpbnRlcnBvbGF0aW9uXG4gICAgLy8gKGUuZy4gbm90IMm1ybV0cnVzdENvbnN0YW50SHRtbGBjb250ZW50ICR7dmFyaWFibGV9YCkuIEEgVGVtcGxhdGVTdHJpbmdzQXJyYXlcbiAgICAvLyBpcyBhbiBhcnJheSB3aXRoIGEgYHJhd2AgcHJvcGVydHkgdGhhdCBpcyBhbHNvIGFuIGFycmF5LiBUaGUgYXNzb2NpYXRlZFxuICAgIC8vIHRlbXBsYXRlIGxpdGVyYWwgaGFzIG5vIGludGVycG9sYXRpb24gaWYgYW5kIG9ubHkgaWYgdGhlIGxlbmd0aCBvZiB0aGVcbiAgICAvLyBUZW1wbGF0ZVN0cmluZ3NBcnJheSBpcyAxLlxuICAgIGlmIChuZ0Rldk1vZGUgJiYgKCFBcnJheS5pc0FycmF5KGh0bWwpIHx8ICFBcnJheS5pc0FycmF5KGh0bWwucmF3KSB8fCBodG1sLmxlbmd0aCAhPT0gMSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGludGVycG9sYXRpb24gaW4gdHJ1c3RlZCBIVE1MIGNvbnN0YW50OiAke2h0bWwuam9pbignPycpfWApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1c3RlZEhUTUxGcm9tU3RyaW5nKGh0bWxbMF0pO1xufVxuLyoqXG4gKiBBIHRlbXBsYXRlIHRhZyBmdW5jdGlvbiBmb3IgcHJvbW90aW5nIHRoZSBhc3NvY2lhdGVkIGNvbnN0YW50IGxpdGVyYWwgdG8gYVxuICogVHJ1c3RlZFNjcmlwdFVSTC4gSW50ZXJwb2xhdGlvbiBpcyBleHBsaWNpdGx5IG5vdCBhbGxvd2VkLlxuICpcbiAqIEBwYXJhbSB1cmwgY29uc3RhbnQgdGVtcGxhdGUgbGl0ZXJhbCBjb250YWluaW5nIGEgdHJ1c3RlZCBzY3JpcHQgVVJMLlxuICogQHJldHVybnMgVHJ1c3RlZFNjcmlwdFVSTCB3cmFwcGluZyBgdXJsYC5cbiAqXG4gKiBAc2VjdXJpdHkgVGhpcyBpcyBhIHNlY3VyaXR5LXNlbnNpdGl2ZSBmdW5jdGlvbiBhbmQgc2hvdWxkIG9ubHkgYmUgdXNlZCB0b1xuICogY29udmVydCBjb25zdGFudCB2YWx1ZXMgb2YgYXR0cmlidXRlcyBhbmQgcHJvcGVydGllcyBmb3VuZCBpblxuICogYXBwbGljYXRpb24tcHJvdmlkZWQgQW5ndWxhciB0ZW1wbGF0ZXMgdG8gVHJ1c3RlZFNjcmlwdFVSTC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dHJ1c3RDb25zdGFudFJlc291cmNlVXJsKHVybCkge1xuICAgIC8vIFRoZSBmb2xsb3dpbmcgcnVudGltZSBjaGVjayBlbnN1cmVzIHRoYXQgdGhlIGZ1bmN0aW9uIHdhcyBjYWxsZWQgYXMgYVxuICAgIC8vIHRlbXBsYXRlIHRhZyAoZS5nLiDJtcm1dHJ1c3RDb25zdGFudFJlc291cmNlVXJsYGNvbnRlbnRgKSwgd2l0aG91dCBhbnlcbiAgICAvLyBpbnRlcnBvbGF0aW9uIChlLmcuIG5vdCDJtcm1dHJ1c3RDb25zdGFudFJlc291cmNlVXJsYGNvbnRlbnQgJHt2YXJpYWJsZX1gKS4gQVxuICAgIC8vIFRlbXBsYXRlU3RyaW5nc0FycmF5IGlzIGFuIGFycmF5IHdpdGggYSBgcmF3YCBwcm9wZXJ0eSB0aGF0IGlzIGFsc28gYW5cbiAgICAvLyBhcnJheS4gVGhlIGFzc29jaWF0ZWQgdGVtcGxhdGUgbGl0ZXJhbCBoYXMgbm8gaW50ZXJwb2xhdGlvbiBpZiBhbmQgb25seSBpZlxuICAgIC8vIHRoZSBsZW5ndGggb2YgdGhlIFRlbXBsYXRlU3RyaW5nc0FycmF5IGlzIDEuXG4gICAgaWYgKG5nRGV2TW9kZSAmJiAoIUFycmF5LmlzQXJyYXkodXJsKSB8fCAhQXJyYXkuaXNBcnJheSh1cmwucmF3KSB8fCB1cmwubGVuZ3RoICE9PSAxKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgaW50ZXJwb2xhdGlvbiBpbiB0cnVzdGVkIFVSTCBjb25zdGFudDogJHt1cmwuam9pbignPycpfWApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1c3RlZFNjcmlwdFVSTEZyb21TdHJpbmcodXJsWzBdKTtcbn1cbi8qKlxuICogRGV0ZWN0cyB3aGljaCBzYW5pdGl6ZXIgdG8gdXNlIGZvciBVUkwgcHJvcGVydHksIGJhc2VkIG9uIHRhZyBuYW1lIGFuZCBwcm9wIG5hbWUuXG4gKlxuICogVGhlIHJ1bGVzIGFyZSBiYXNlZCBvbiB0aGUgUkVTT1VSQ0VfVVJMIGNvbnRleHQgY29uZmlnIGZyb21cbiAqIGBwYWNrYWdlcy9jb21waWxlci9zcmMvc2NoZW1hL2RvbV9zZWN1cml0eV9zY2hlbWEudHNgLlxuICogSWYgdGFnIGFuZCBwcm9wIG5hbWVzIGRvbid0IG1hdGNoIFJlc291cmNlIFVSTCBzY2hlbWEsIHVzZSBVUkwgc2FuaXRpemVyLlxuICovXG5mdW5jdGlvbiBnZXRVcmxTYW5pdGl6ZXIodGFnLCBwcm9wKSB7XG4gICAgaWYgKChwcm9wID09PSAnc3JjJyAmJlxuICAgICAgICAodGFnID09PSAnZW1iZWQnIHx8IHRhZyA9PT0gJ2ZyYW1lJyB8fCB0YWcgPT09ICdpZnJhbWUnIHx8IHRhZyA9PT0gJ21lZGlhJyB8fFxuICAgICAgICAgICAgdGFnID09PSAnc2NyaXB0JykpIHx8XG4gICAgICAgIChwcm9wID09PSAnaHJlZicgJiYgKHRhZyA9PT0gJ2Jhc2UnIHx8IHRhZyA9PT0gJ2xpbmsnKSkpIHtcbiAgICAgICAgcmV0dXJuIMm1ybVzYW5pdGl6ZVJlc291cmNlVXJsO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXNhbml0aXplVXJsO1xufVxuLyoqXG4gKiBTYW5pdGl6ZXMgVVJMLCBzZWxlY3Rpbmcgc2FuaXRpemVyIGZ1bmN0aW9uIGJhc2VkIG9uIHRhZyBhbmQgcHJvcGVydHkgbmFtZXMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGluIGNhc2Ugd2UgY2FuJ3QgZGVmaW5lIHNlY3VyaXR5IGNvbnRleHQgYXQgY29tcGlsZSB0aW1lLCB3aGVuIG9ubHkgcHJvcFxuICogbmFtZSBpcyBhdmFpbGFibGUuIFRoaXMgaGFwcGVucyB3aGVuIHdlIGdlbmVyYXRlIGhvc3QgYmluZGluZ3MgZm9yIERpcmVjdGl2ZXMvQ29tcG9uZW50cy4gVGhlXG4gKiBob3N0IGVsZW1lbnQgaXMgdW5rbm93biBhdCBjb21waWxlIHRpbWUsIHNvIHdlIGRlZmVyIGNhbGN1bGF0aW9uIG9mIHNwZWNpZmljIHNhbml0aXplciB0b1xuICogcnVudGltZS5cbiAqXG4gKiBAcGFyYW0gdW5zYWZlVXJsIHVudHJ1c3RlZCBgdXJsYCwgdHlwaWNhbGx5IGZyb20gdGhlIHVzZXIuXG4gKiBAcGFyYW0gdGFnIHRhcmdldCBlbGVtZW50IHRhZyBuYW1lLlxuICogQHBhcmFtIHByb3AgbmFtZSBvZiB0aGUgcHJvcGVydHkgdGhhdCBjb250YWlucyB0aGUgdmFsdWUuXG4gKiBAcmV0dXJucyBgdXJsYCBzdHJpbmcgd2hpY2ggaXMgc2FmZSB0byBiaW5kLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzYW5pdGl6ZVVybE9yUmVzb3VyY2VVcmwodW5zYWZlVXJsLCB0YWcsIHByb3ApIHtcbiAgICByZXR1cm4gZ2V0VXJsU2FuaXRpemVyKHRhZywgcHJvcCkodW5zYWZlVXJsKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlQWdhaW5zdEV2ZW50UHJvcGVydGllcyhuYW1lKSB7XG4gICAgaWYgKG5hbWUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCdvbicpKSB7XG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGBCaW5kaW5nIHRvIGV2ZW50IHByb3BlcnR5ICcke25hbWV9JyBpcyBkaXNhbGxvd2VkIGZvciBzZWN1cml0eSByZWFzb25zLCBgICtcbiAgICAgICAgICAgIGBwbGVhc2UgdXNlICgke25hbWUuc2xpY2UoMil9KT0uLi5gICtcbiAgICAgICAgICAgIGBcXG5JZiAnJHtuYW1lfScgaXMgYSBkaXJlY3RpdmUgaW5wdXQsIG1ha2Ugc3VyZSB0aGUgZGlyZWN0aXZlIGlzIGltcG9ydGVkIGJ5IHRoZWAgK1xuICAgICAgICAgICAgYCBjdXJyZW50IG1vZHVsZS5gO1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDMwNiAvKiBJTlZBTElEX0VWRU5UX0JJTkRJTkcgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVBZ2FpbnN0RXZlbnRBdHRyaWJ1dGVzKG5hbWUpIHtcbiAgICBpZiAobmFtZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ29uJykpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYEJpbmRpbmcgdG8gZXZlbnQgYXR0cmlidXRlICcke25hbWV9JyBpcyBkaXNhbGxvd2VkIGZvciBzZWN1cml0eSByZWFzb25zLCBgICtcbiAgICAgICAgICAgIGBwbGVhc2UgdXNlICgke25hbWUuc2xpY2UoMil9KT0uLi5gO1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDMwNiAvKiBJTlZBTElEX0VWRU5UX0JJTkRJTkcgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0U2FuaXRpemVyKCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICByZXR1cm4gbFZpZXcgJiYgbFZpZXdbU0FOSVRJWkVSXTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJldHVybnMgdGhlIG1hdGNoaW5nIGBMQ29udGV4dGAgZGF0YSBmb3IgYSBnaXZlbiBET00gbm9kZSwgZGlyZWN0aXZlIG9yIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgZXhhbWluZSB0aGUgcHJvdmlkZWQgRE9NIGVsZW1lbnQsIGNvbXBvbmVudCwgb3IgZGlyZWN0aXZlIGluc3RhbmNlXFwnc1xuICogbW9ua2V5LXBhdGNoZWQgcHJvcGVydHkgdG8gZGVyaXZlIHRoZSBgTENvbnRleHRgIGRhdGEuIE9uY2UgY2FsbGVkIHRoZW4gdGhlIG1vbmtleS1wYXRjaGVkXG4gKiB2YWx1ZSB3aWxsIGJlIHRoYXQgb2YgdGhlIG5ld2x5IGNyZWF0ZWQgYExDb250ZXh0YC5cbiAqXG4gKiBJZiB0aGUgbW9ua2V5LXBhdGNoZWQgdmFsdWUgaXMgdGhlIGBMVmlld2AgaW5zdGFuY2UgdGhlbiB0aGUgY29udGV4dCB2YWx1ZSBmb3IgdGhhdFxuICogdGFyZ2V0IHdpbGwgYmUgY3JlYXRlZCBhbmQgdGhlIG1vbmtleS1wYXRjaCByZWZlcmVuY2Ugd2lsbCBiZSB1cGRhdGVkLiBUaGVyZWZvcmUgd2hlbiB0aGlzXG4gKiBmdW5jdGlvbiBpcyBjYWxsZWQgaXQgbWF5IG11dGF0ZSB0aGUgcHJvdmlkZWQgZWxlbWVudFxcJ3MsIGNvbXBvbmVudFxcJ3Mgb3IgYW55IG9mIHRoZSBhc3NvY2lhdGVkXG4gKiBkaXJlY3RpdmVcXCdzIG1vbmtleS1wYXRjaCB2YWx1ZXMuXG4gKlxuICogSWYgdGhlIG1vbmtleS1wYXRjaCB2YWx1ZSBpcyBub3QgZGV0ZWN0ZWQgdGhlbiB0aGUgY29kZSB3aWxsIHdhbGsgdXAgdGhlIERPTSB1bnRpbCBhbiBlbGVtZW50XG4gKiBpcyBmb3VuZCB3aGljaCBjb250YWlucyBhIG1vbmtleS1wYXRjaCByZWZlcmVuY2UuIFdoZW4gdGhhdCBvY2N1cnMgdGhlbiB0aGUgcHJvdmlkZWQgZWxlbWVudFxuICogd2lsbCBiZSB1cGRhdGVkIHdpdGggYSBuZXcgY29udGV4dCAod2hpY2ggaXMgdGhlbiByZXR1cm5lZCkuIElmIHRoZSBtb25rZXktcGF0Y2ggdmFsdWUgaXMgbm90XG4gKiBkZXRlY3RlZCBmb3IgYSBjb21wb25lbnQvZGlyZWN0aXZlIGluc3RhbmNlIHRoZW4gaXQgd2lsbCB0aHJvdyBhbiBlcnJvciAoYWxsIGNvbXBvbmVudHMgYW5kXG4gKiBkaXJlY3RpdmVzIHNob3VsZCBiZSBhdXRvbWF0aWNhbGx5IG1vbmtleS1wYXRjaGVkIGJ5IGl2eSkuXG4gKlxuICogQHBhcmFtIHRhcmdldCBDb21wb25lbnQsIERpcmVjdGl2ZSBvciBET00gTm9kZS5cbiAqL1xuZnVuY3Rpb24gZ2V0TENvbnRleHQodGFyZ2V0KSB7XG4gICAgbGV0IG1wVmFsdWUgPSByZWFkUGF0Y2hlZERhdGEodGFyZ2V0KTtcbiAgICBpZiAobXBWYWx1ZSkge1xuICAgICAgICAvLyBvbmx5IHdoZW4gaXQncyBhbiBhcnJheSBpcyBpdCBjb25zaWRlcmVkIGFuIExWaWV3IGluc3RhbmNlXG4gICAgICAgIC8vIC4uLiBvdGhlcndpc2UgaXQncyBhbiBhbHJlYWR5IGNvbnN0cnVjdGVkIExDb250ZXh0IGluc3RhbmNlXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG1wVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBsVmlldyA9IG1wVmFsdWU7XG4gICAgICAgICAgICBsZXQgbm9kZUluZGV4O1xuICAgICAgICAgICAgbGV0IGNvbXBvbmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGxldCBkaXJlY3RpdmVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKGlzQ29tcG9uZW50SW5zdGFuY2UodGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIG5vZGVJbmRleCA9IGZpbmRWaWFDb21wb25lbnQobFZpZXcsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwcm92aWRlZCBjb21wb25lbnQgd2FzIG5vdCBmb3VuZCBpbiB0aGUgYXBwbGljYXRpb24nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29tcG9uZW50ID0gdGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNEaXJlY3RpdmVJbnN0YW5jZSh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgbm9kZUluZGV4ID0gZmluZFZpYURpcmVjdGl2ZShsVmlldywgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZUluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHByb3ZpZGVkIGRpcmVjdGl2ZSB3YXMgbm90IGZvdW5kIGluIHRoZSBhcHBsaWNhdGlvbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaXJlY3RpdmVzID0gZ2V0RGlyZWN0aXZlc0F0Tm9kZUluZGV4KG5vZGVJbmRleCwgbFZpZXcsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGVJbmRleCA9IGZpbmRWaWFOYXRpdmVFbGVtZW50KGxWaWV3LCB0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGhlIGdvYWwgaXMgbm90IHRvIGZpbGwgdGhlIGVudGlyZSBjb250ZXh0IGZ1bGwgb2YgZGF0YSBiZWNhdXNlIHRoZSBsb29rdXBzXG4gICAgICAgICAgICAvLyBhcmUgZXhwZW5zaXZlLiBJbnN0ZWFkLCBvbmx5IHRoZSB0YXJnZXQgZGF0YSAodGhlIGVsZW1lbnQsIGNvbXBvbmVudCwgY29udGFpbmVyLCBJQ1VcbiAgICAgICAgICAgIC8vIGV4cHJlc3Npb24gb3IgZGlyZWN0aXZlIGRldGFpbHMpIGFyZSBmaWxsZWQgaW50byB0aGUgY29udGV4dC4gSWYgY2FsbGVkIG11bHRpcGxlIHRpbWVzXG4gICAgICAgICAgICAvLyB3aXRoIGRpZmZlcmVudCB0YXJnZXQgdmFsdWVzIHRoZW4gdGhlIG1pc3NpbmcgdGFyZ2V0IGRhdGEgd2lsbCBiZSBmaWxsZWQgaW4uXG4gICAgICAgICAgICBjb25zdCBuYXRpdmUgPSB1bndyYXBSTm9kZShsVmlld1tub2RlSW5kZXhdKTtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQ3R4ID0gcmVhZFBhdGNoZWREYXRhKG5hdGl2ZSk7XG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gKGV4aXN0aW5nQ3R4ICYmICFBcnJheS5pc0FycmF5KGV4aXN0aW5nQ3R4KSkgP1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nQ3R4IDpcbiAgICAgICAgICAgICAgICBjcmVhdGVMQ29udGV4dChsVmlldywgbm9kZUluZGV4LCBuYXRpdmUpO1xuICAgICAgICAgICAgLy8gb25seSB3aGVuIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gZGlzY292ZXJlZCB0aGVuIHVwZGF0ZSB0aGUgbW9ua2V5LXBhdGNoXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50ICYmIGNvbnRleHQuY29tcG9uZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBhdHRhY2hQYXRjaERhdGEoY29udGV4dC5jb21wb25lbnQsIGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb25seSB3aGVuIHRoZSBkaXJlY3RpdmVzIGhhdmUgYmVlbiBkaXNjb3ZlcmVkIHRoZW4gdXBkYXRlIHRoZSBtb25rZXktcGF0Y2hcbiAgICAgICAgICAgIGlmIChkaXJlY3RpdmVzICYmIGNvbnRleHQuZGlyZWN0aXZlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpcmVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKGRpcmVjdGl2ZXNbaV0sIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF0dGFjaFBhdGNoRGF0YShjb250ZXh0Lm5hdGl2ZSwgY29udGV4dCk7XG4gICAgICAgICAgICBtcFZhbHVlID0gY29udGV4dDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgckVsZW1lbnQgPSB0YXJnZXQ7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREb21Ob2RlKHJFbGVtZW50KTtcbiAgICAgICAgLy8gaWYgdGhlIGNvbnRleHQgaXMgbm90IGZvdW5kIHRoZW4gd2UgbmVlZCB0byB0cmF2ZXJzZSB1cHdhcmRzIHVwIHRoZSBET01cbiAgICAgICAgLy8gdG8gZmluZCB0aGUgbmVhcmVzdCBlbGVtZW50IHRoYXQgaGFzIGFscmVhZHkgYmVlbiBtb25rZXkgcGF0Y2hlZCB3aXRoIGRhdGFcbiAgICAgICAgbGV0IHBhcmVudCA9IHJFbGVtZW50O1xuICAgICAgICB3aGlsZSAocGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudENvbnRleHQgPSByZWFkUGF0Y2hlZERhdGEocGFyZW50KTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGxWaWV3O1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcmVudENvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxWaWV3ID0gcGFyZW50Q29udGV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxWaWV3ID0gcGFyZW50Q29udGV4dC5sVmlldztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdGhlIGVkZ2Ugb2YgdGhlIGFwcCB3YXMgYWxzbyByZWFjaGVkIGhlcmUgdGhyb3VnaCBhbm90aGVyIG1lYW5zXG4gICAgICAgICAgICAgICAgLy8gKG1heWJlIGJlY2F1c2UgdGhlIERPTSB3YXMgY2hhbmdlZCBtYW51YWxseSkuXG4gICAgICAgICAgICAgICAgaWYgKCFsVmlldykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBmaW5kVmlhTmF0aXZlRWxlbWVudChsVmlldywgckVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hdGl2ZSA9IHVud3JhcFJOb2RlKGxWaWV3W2luZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVMQ29udGV4dChsVmlldywgaW5kZXgsIG5hdGl2ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaFBhdGNoRGF0YShuYXRpdmUsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBtcFZhbHVlID0gY29udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtcFZhbHVlIHx8IG51bGw7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gZW1wdHkgaW5zdGFuY2Ugb2YgYSBgTENvbnRleHRgIGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTENvbnRleHQobFZpZXcsIG5vZGVJbmRleCwgbmF0aXZlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbFZpZXcsXG4gICAgICAgIG5vZGVJbmRleCxcbiAgICAgICAgbmF0aXZlLFxuICAgICAgICBjb21wb25lbnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgZGlyZWN0aXZlczogdW5kZWZpbmVkLFxuICAgICAgICBsb2NhbFJlZnM6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBUYWtlcyBhIGNvbXBvbmVudCBpbnN0YW5jZSBhbmQgcmV0dXJucyB0aGUgdmlldyBmb3IgdGhhdCBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudEluc3RhbmNlXG4gKiBAcmV0dXJucyBUaGUgY29tcG9uZW50J3Mgdmlld1xuICovXG5mdW5jdGlvbiBnZXRDb21wb25lbnRWaWV3QnlJbnN0YW5jZShjb21wb25lbnRJbnN0YW5jZSkge1xuICAgIGxldCBsVmlldyA9IHJlYWRQYXRjaGVkRGF0YShjb21wb25lbnRJbnN0YW5jZSk7XG4gICAgbGV0IHZpZXc7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobFZpZXcpKSB7XG4gICAgICAgIGNvbnN0IG5vZGVJbmRleCA9IGZpbmRWaWFDb21wb25lbnQobFZpZXcsIGNvbXBvbmVudEluc3RhbmNlKTtcbiAgICAgICAgdmlldyA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleChub2RlSW5kZXgsIGxWaWV3KTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUxDb250ZXh0KGxWaWV3LCBub2RlSW5kZXgsIHZpZXdbSE9TVF0pO1xuICAgICAgICBjb250ZXh0LmNvbXBvbmVudCA9IGNvbXBvbmVudEluc3RhbmNlO1xuICAgICAgICBhdHRhY2hQYXRjaERhdGEoY29tcG9uZW50SW5zdGFuY2UsIGNvbnRleHQpO1xuICAgICAgICBhdHRhY2hQYXRjaERhdGEoY29udGV4dC5uYXRpdmUsIGNvbnRleHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGxWaWV3O1xuICAgICAgICB2aWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KGNvbnRleHQubm9kZUluZGV4LCBjb250ZXh0LmxWaWV3KTtcbiAgICB9XG4gICAgcmV0dXJuIHZpZXc7XG59XG4vKipcbiAqIFRoaXMgcHJvcGVydHkgd2lsbCBiZSBtb25rZXktcGF0Y2hlZCBvbiBlbGVtZW50cywgY29tcG9uZW50cyBhbmQgZGlyZWN0aXZlcy5cbiAqL1xuY29uc3QgTU9OS0VZX1BBVENIX0tFWV9OQU1FID0gJ19fbmdDb250ZXh0X18nO1xuLyoqXG4gKiBBc3NpZ25zIHRoZSBnaXZlbiBkYXRhIHRvIHRoZSBnaXZlbiB0YXJnZXQgKHdoaWNoIGNvdWxkIGJlIGEgY29tcG9uZW50LFxuICogZGlyZWN0aXZlIG9yIERPTSBub2RlIGluc3RhbmNlKSB1c2luZyBtb25rZXktcGF0Y2hpbmcuXG4gKi9cbmZ1bmN0aW9uIGF0dGFjaFBhdGNoRGF0YSh0YXJnZXQsIGRhdGEpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0YXJnZXQsICdUYXJnZXQgZXhwZWN0ZWQnKTtcbiAgICB0YXJnZXRbTU9OS0VZX1BBVENIX0tFWV9OQU1FXSA9IGRhdGE7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1vbmtleS1wYXRjaCB2YWx1ZSBkYXRhIHByZXNlbnQgb24gdGhlIHRhcmdldCAod2hpY2ggY291bGQgYmVcbiAqIGEgY29tcG9uZW50LCBkaXJlY3RpdmUgb3IgYSBET00gbm9kZSkuXG4gKi9cbmZ1bmN0aW9uIHJlYWRQYXRjaGVkRGF0YSh0YXJnZXQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0YXJnZXQsICdUYXJnZXQgZXhwZWN0ZWQnKTtcbiAgICByZXR1cm4gdGFyZ2V0W01PTktFWV9QQVRDSF9LRVlfTkFNRV0gfHwgbnVsbDtcbn1cbmZ1bmN0aW9uIHJlYWRQYXRjaGVkTFZpZXcodGFyZ2V0KSB7XG4gICAgY29uc3QgdmFsdWUgPSByZWFkUGF0Y2hlZERhdGEodGFyZ2V0KTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiB2YWx1ZS5sVmlldztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBpc0NvbXBvbmVudEluc3RhbmNlKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlICYmIGluc3RhbmNlLmNvbnN0cnVjdG9yICYmIGluc3RhbmNlLmNvbnN0cnVjdG9yLsm1Y21wO1xufVxuZnVuY3Rpb24gaXNEaXJlY3RpdmVJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgIHJldHVybiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5jb25zdHJ1Y3RvciAmJiBpbnN0YW5jZS5jb25zdHJ1Y3Rvci7JtWRpcjtcbn1cbi8qKlxuICogTG9jYXRlcyB0aGUgZWxlbWVudCB3aXRoaW4gdGhlIGdpdmVuIExWaWV3IGFuZCByZXR1cm5zIHRoZSBtYXRjaGluZyBpbmRleFxuICovXG5mdW5jdGlvbiBmaW5kVmlhTmF0aXZlRWxlbWVudChsVmlldywgdGFyZ2V0KSB7XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgZm9yIChsZXQgaSA9IEhFQURFUl9PRkZTRVQ7IGkgPCB0Vmlldy5iaW5kaW5nU3RhcnRJbmRleDsgaSsrKSB7XG4gICAgICAgIGlmICh1bndyYXBSTm9kZShsVmlld1tpXSkgPT09IHRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuLyoqXG4gKiBMb2NhdGVzIHRoZSBuZXh0IHROb2RlIChjaGlsZCwgc2libGluZyBvciBwYXJlbnQpLlxuICovXG5mdW5jdGlvbiB0cmF2ZXJzZU5leHRFbGVtZW50KHROb2RlKSB7XG4gICAgaWYgKHROb2RlLmNoaWxkKSB7XG4gICAgICAgIHJldHVybiB0Tm9kZS5jaGlsZDtcbiAgICB9XG4gICAgZWxzZSBpZiAodE5vZGUubmV4dCkge1xuICAgICAgICByZXR1cm4gdE5vZGUubmV4dDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIExldCdzIHRha2UgdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZTogPGRpdj48c3Bhbj50ZXh0PC9zcGFuPjwvZGl2Pjxjb21wb25lbnQvPlxuICAgICAgICAvLyBBZnRlciBjaGVja2luZyB0aGUgdGV4dCBub2RlLCB3ZSBuZWVkIHRvIGZpbmQgdGhlIG5leHQgcGFyZW50IHRoYXQgaGFzIGEgXCJuZXh0XCIgVE5vZGUsXG4gICAgICAgIC8vIGluIHRoaXMgY2FzZSB0aGUgcGFyZW50IGBkaXZgLCBzbyB0aGF0IHdlIGNhbiBmaW5kIHRoZSBjb21wb25lbnQuXG4gICAgICAgIHdoaWxlICh0Tm9kZS5wYXJlbnQgJiYgIXROb2RlLnBhcmVudC5uZXh0KSB7XG4gICAgICAgICAgICB0Tm9kZSA9IHROb2RlLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdE5vZGUucGFyZW50ICYmIHROb2RlLnBhcmVudC5uZXh0O1xuICAgIH1cbn1cbi8qKlxuICogTG9jYXRlcyB0aGUgY29tcG9uZW50IHdpdGhpbiB0aGUgZ2l2ZW4gTFZpZXcgYW5kIHJldHVybnMgdGhlIG1hdGNoaW5nIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGZpbmRWaWFDb21wb25lbnQobFZpZXcsIGNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgY29uc3QgY29tcG9uZW50SW5kaWNlcyA9IGxWaWV3W1RWSUVXXS5jb21wb25lbnRzO1xuICAgIGlmIChjb21wb25lbnRJbmRpY2VzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcG9uZW50SW5kaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudENvbXBvbmVudEluZGV4ID0gY29tcG9uZW50SW5kaWNlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgoZWxlbWVudENvbXBvbmVudEluZGV4LCBsVmlldyk7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50Vmlld1tDT05URVhUXSA9PT0gY29tcG9uZW50SW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudENvbXBvbmVudEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCByb290Q29tcG9uZW50VmlldyA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleChIRUFERVJfT0ZGU0VULCBsVmlldyk7XG4gICAgICAgIGNvbnN0IHJvb3RDb21wb25lbnQgPSByb290Q29tcG9uZW50Vmlld1tDT05URVhUXTtcbiAgICAgICAgaWYgKHJvb3RDb21wb25lbnQgPT09IGNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgICAgICAgICAvLyB3ZSBhcmUgZGVhbGluZyB3aXRoIHRoZSByb290IGVsZW1lbnQgaGVyZSB0aGVyZWZvcmUgd2Uga25vdyB0aGF0IHRoZVxuICAgICAgICAgICAgLy8gZWxlbWVudCBpcyB0aGUgdmVyeSBmaXJzdCBlbGVtZW50IGFmdGVyIHRoZSBIRUFERVIgZGF0YSBpbiB0aGUgbFZpZXdcbiAgICAgICAgICAgIHJldHVybiBIRUFERVJfT0ZGU0VUO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbi8qKlxuICogTG9jYXRlcyB0aGUgZGlyZWN0aXZlIHdpdGhpbiB0aGUgZ2l2ZW4gTFZpZXcgYW5kIHJldHVybnMgdGhlIG1hdGNoaW5nIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGZpbmRWaWFEaXJlY3RpdmUobFZpZXcsIGRpcmVjdGl2ZUluc3RhbmNlKSB7XG4gICAgLy8gaWYgYSBkaXJlY3RpdmUgaXMgbW9ua2V5IHBhdGNoZWQgdGhlbiBpdCB3aWxsIChieSBkZWZhdWx0KVxuICAgIC8vIGhhdmUgYSByZWZlcmVuY2UgdG8gdGhlIExWaWV3IG9mIHRoZSBjdXJyZW50IHZpZXcuIFRoZVxuICAgIC8vIGVsZW1lbnQgYm91bmQgdG8gdGhlIGRpcmVjdGl2ZSBiZWluZyBzZWFyY2ggbGl2ZXMgc29tZXdoZXJlXG4gICAgLy8gaW4gdGhlIHZpZXcgZGF0YS4gV2UgbG9vcCB0aHJvdWdoIHRoZSBub2RlcyBhbmQgY2hlY2sgdGhlaXJcbiAgICAvLyBsaXN0IG9mIGRpcmVjdGl2ZXMgZm9yIHRoZSBpbnN0YW5jZS5cbiAgICBsZXQgdE5vZGUgPSBsVmlld1tUVklFV10uZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAodE5vZGUpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aXZlSW5kZXhTdGFydCA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0O1xuICAgICAgICBjb25zdCBkaXJlY3RpdmVJbmRleEVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICAgICAgZm9yIChsZXQgaSA9IGRpcmVjdGl2ZUluZGV4U3RhcnQ7IGkgPCBkaXJlY3RpdmVJbmRleEVuZDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobFZpZXdbaV0gPT09IGRpcmVjdGl2ZUluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHROb2RlLmluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHROb2RlID0gdHJhdmVyc2VOZXh0RWxlbWVudCh0Tm9kZSk7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbi8qKlxuICogUmV0dXJucyBhIGxpc3Qgb2YgZGlyZWN0aXZlcyBleHRyYWN0ZWQgZnJvbSB0aGUgZ2l2ZW4gdmlldyBiYXNlZCBvbiB0aGVcbiAqIHByb3ZpZGVkIGxpc3Qgb2YgZGlyZWN0aXZlIGluZGV4IHZhbHVlcy5cbiAqXG4gKiBAcGFyYW0gbm9kZUluZGV4IFRoZSBub2RlIGluZGV4XG4gKiBAcGFyYW0gbFZpZXcgVGhlIHRhcmdldCB2aWV3IGRhdGFcbiAqIEBwYXJhbSBpbmNsdWRlQ29tcG9uZW50cyBXaGV0aGVyIG9yIG5vdCB0byBpbmNsdWRlIGNvbXBvbmVudHMgaW4gcmV0dXJuZWQgZGlyZWN0aXZlc1xuICovXG5mdW5jdGlvbiBnZXREaXJlY3RpdmVzQXROb2RlSW5kZXgobm9kZUluZGV4LCBsVmlldywgaW5jbHVkZUNvbXBvbmVudHMpIHtcbiAgICBjb25zdCB0Tm9kZSA9IGxWaWV3W1RWSUVXXS5kYXRhW25vZGVJbmRleF07XG4gICAgbGV0IGRpcmVjdGl2ZVN0YXJ0SW5kZXggPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICBpZiAoZGlyZWN0aXZlU3RhcnRJbmRleCA9PSAwKVxuICAgICAgICByZXR1cm4gRU1QVFlfQVJSQVk7XG4gICAgY29uc3QgZGlyZWN0aXZlRW5kSW5kZXggPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgaWYgKCFpbmNsdWRlQ29tcG9uZW50cyAmJiB0Tm9kZS5mbGFncyAmIDIgLyogaXNDb21wb25lbnRIb3N0ICovKVxuICAgICAgICBkaXJlY3RpdmVTdGFydEluZGV4Kys7XG4gICAgcmV0dXJuIGxWaWV3LnNsaWNlKGRpcmVjdGl2ZVN0YXJ0SW5kZXgsIGRpcmVjdGl2ZUVuZEluZGV4KTtcbn1cbmZ1bmN0aW9uIGdldENvbXBvbmVudEF0Tm9kZUluZGV4KG5vZGVJbmRleCwgbFZpZXcpIHtcbiAgICBjb25zdCB0Tm9kZSA9IGxWaWV3W1RWSUVXXS5kYXRhW25vZGVJbmRleF07XG4gICAgbGV0IGRpcmVjdGl2ZVN0YXJ0SW5kZXggPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICByZXR1cm4gdE5vZGUuZmxhZ3MgJiAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLyA/IGxWaWV3W2RpcmVjdGl2ZVN0YXJ0SW5kZXhdIDogbnVsbDtcbn1cbi8qKlxuICogUmV0dXJucyBhIG1hcCBvZiBsb2NhbCByZWZlcmVuY2VzIChsb2NhbCByZWZlcmVuY2UgbmFtZSA9PiBlbGVtZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZSkgdGhhdFxuICogZXhpc3Qgb24gYSBnaXZlbiBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBkaXNjb3ZlckxvY2FsUmVmcyhsVmlldywgbm9kZUluZGV4KSB7XG4gICAgY29uc3QgdE5vZGUgPSBsVmlld1tUVklFV10uZGF0YVtub2RlSW5kZXhdO1xuICAgIGlmICh0Tm9kZSAmJiB0Tm9kZS5sb2NhbE5hbWVzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBsZXQgbG9jYWxJbmRleCA9IHROb2RlLmluZGV4ICsgMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0Tm9kZS5sb2NhbE5hbWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICByZXN1bHRbdE5vZGUubG9jYWxOYW1lc1tpXV0gPSBsVmlld1tsb2NhbEluZGV4XTtcbiAgICAgICAgICAgIGxvY2FsSW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBFUlJPUl9PUklHSU5BTF9FUlJPUiA9ICduZ09yaWdpbmFsRXJyb3InO1xuY29uc3QgRVJST1JfTE9HR0VSID0gJ25nRXJyb3JMb2dnZXInO1xuZnVuY3Rpb24gd3JhcHBlZEVycm9yKG1lc3NhZ2UsIG9yaWdpbmFsRXJyb3IpIHtcbiAgICBjb25zdCBtc2cgPSBgJHttZXNzYWdlfSBjYXVzZWQgYnk6ICR7b3JpZ2luYWxFcnJvciBpbnN0YW5jZW9mIEVycm9yID8gb3JpZ2luYWxFcnJvci5tZXNzYWdlIDogb3JpZ2luYWxFcnJvcn1gO1xuICAgIGNvbnN0IGVycm9yID0gRXJyb3IobXNnKTtcbiAgICBlcnJvcltFUlJPUl9PUklHSU5BTF9FUlJPUl0gPSBvcmlnaW5hbEVycm9yO1xuICAgIHJldHVybiBlcnJvcjtcbn1cbmZ1bmN0aW9uIGdldE9yaWdpbmFsRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3JbRVJST1JfT1JJR0lOQUxfRVJST1JdO1xufVxuZnVuY3Rpb24gZ2V0RXJyb3JMb2dnZXIoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3IgJiYgZXJyb3JbRVJST1JfTE9HR0VSXSB8fCBkZWZhdWx0RXJyb3JMb2dnZXI7XG59XG5mdW5jdGlvbiBkZWZhdWx0RXJyb3JMb2dnZXIoY29uc29sZSwgLi4udmFsdWVzKSB7XG4gICAgY29uc29sZS5lcnJvciguLi52YWx1ZXMpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUHJvdmlkZXMgYSBob29rIGZvciBjZW50cmFsaXplZCBleGNlcHRpb24gaGFuZGxpbmcuXG4gKlxuICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgYEVycm9ySGFuZGxlcmAgcHJpbnRzIGVycm9yIG1lc3NhZ2VzIHRvIHRoZSBgY29uc29sZWAuIFRvXG4gKiBpbnRlcmNlcHQgZXJyb3IgaGFuZGxpbmcsIHdyaXRlIGEgY3VzdG9tIGV4Y2VwdGlvbiBoYW5kbGVyIHRoYXQgcmVwbGFjZXMgdGhpcyBkZWZhdWx0IGFzXG4gKiBhcHByb3ByaWF0ZSBmb3IgeW91ciBhcHAuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgXG4gKiBjbGFzcyBNeUVycm9ySGFuZGxlciBpbXBsZW1lbnRzIEVycm9ySGFuZGxlciB7XG4gKiAgIGhhbmRsZUVycm9yKGVycm9yKSB7XG4gKiAgICAgLy8gZG8gc29tZXRoaW5nIHdpdGggdGhlIGV4Y2VwdGlvblxuICogICB9XG4gKiB9XG4gKlxuICogQE5nTW9kdWxlKHtcbiAqICAgcHJvdmlkZXJzOiBbe3Byb3ZpZGU6IEVycm9ySGFuZGxlciwgdXNlQ2xhc3M6IE15RXJyb3JIYW5kbGVyfV1cbiAqIH0pXG4gKiBjbGFzcyBNeU1vZHVsZSB7fVxuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBFcnJvckhhbmRsZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jb25zb2xlID0gY29uc29sZTtcbiAgICB9XG4gICAgaGFuZGxlRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxFcnJvciA9IHRoaXMuX2ZpbmRPcmlnaW5hbEVycm9yKGVycm9yKTtcbiAgICAgICAgLy8gTm90ZTogQnJvd3NlciBjb25zb2xlcyBzaG93IHRoZSBwbGFjZSBmcm9tIHdoZXJlIGNvbnNvbGUuZXJyb3Igd2FzIGNhbGxlZC5cbiAgICAgICAgLy8gV2UgY2FuIHVzZSB0aGlzIHRvIGdpdmUgdXNlcnMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXJyb3IuXG4gICAgICAgIGNvbnN0IGVycm9yTG9nZ2VyID0gZ2V0RXJyb3JMb2dnZXIoZXJyb3IpO1xuICAgICAgICBlcnJvckxvZ2dlcih0aGlzLl9jb25zb2xlLCBgRVJST1JgLCBlcnJvcik7XG4gICAgICAgIGlmIChvcmlnaW5hbEVycm9yKSB7XG4gICAgICAgICAgICBlcnJvckxvZ2dlcih0aGlzLl9jb25zb2xlLCBgT1JJR0lOQUwgRVJST1JgLCBvcmlnaW5hbEVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2ZpbmRPcmlnaW5hbEVycm9yKGVycm9yKSB7XG4gICAgICAgIGxldCBlID0gZXJyb3IgJiYgZ2V0T3JpZ2luYWxFcnJvcihlcnJvcik7XG4gICAgICAgIHdoaWxlIChlICYmIGdldE9yaWdpbmFsRXJyb3IoZSkpIHtcbiAgICAgICAgICAgIGUgPSBnZXRPcmlnaW5hbEVycm9yKGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlIHx8IG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRGVmaW5lcyBhIHNjaGVtYSB0aGF0IGFsbG93cyBhbiBOZ01vZHVsZSB0byBjb250YWluIHRoZSBmb2xsb3dpbmc6XG4gKiAtIE5vbi1Bbmd1bGFyIGVsZW1lbnRzIG5hbWVkIHdpdGggZGFzaCBjYXNlIChgLWApLlxuICogLSBFbGVtZW50IHByb3BlcnRpZXMgbmFtZWQgd2l0aCBkYXNoIGNhc2UgKGAtYCkuXG4gKiBEYXNoIGNhc2UgaXMgdGhlIG5hbWluZyBjb252ZW50aW9uIGZvciBjdXN0b20gZWxlbWVudHMuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBDVVNUT01fRUxFTUVOVFNfU0NIRU1BID0ge1xuICAgIG5hbWU6ICdjdXN0b20tZWxlbWVudHMnXG59O1xuLyoqXG4gKiBEZWZpbmVzIGEgc2NoZW1hIHRoYXQgYWxsb3dzIGFueSBwcm9wZXJ0eSBvbiBhbnkgZWxlbWVudC5cbiAqXG4gKiBUaGlzIHNjaGVtYSBhbGxvd3MgeW91IHRvIGlnbm9yZSB0aGUgZXJyb3JzIHJlbGF0ZWQgdG8gYW55IHVua25vd24gZWxlbWVudHMgb3IgcHJvcGVydGllcyBpbiBhXG4gKiB0ZW1wbGF0ZS4gVGhlIHVzYWdlIG9mIHRoaXMgc2NoZW1hIGlzIGdlbmVyYWxseSBkaXNjb3VyYWdlZCBiZWNhdXNlIGl0IHByZXZlbnRzIHVzZWZ1bCB2YWxpZGF0aW9uXG4gKiBhbmQgbWF5IGhpZGUgcmVhbCBlcnJvcnMgaW4geW91ciB0ZW1wbGF0ZS4gQ29uc2lkZXIgdXNpbmcgdGhlIGBDVVNUT01fRUxFTUVOVFNfU0NIRU1BYCBpbnN0ZWFkLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgTk9fRVJST1JTX1NDSEVNQSA9IHtcbiAgICBuYW1lOiAnbm8tZXJyb3JzLXNjaGVtYSdcbn07XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEaXNhbGxvd2VkIHN0cmluZ3MgaW4gdGhlIGNvbW1lbnQuXG4gKlxuICogc2VlOiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNjb21tZW50c1xuICovXG5jb25zdCBDT01NRU5UX0RJU0FMTE9XRUQgPSAvXj58Xi0+fDwhLS18LS0+fC0tIT58PCEtJC9nO1xuLyoqXG4gKiBEZWxpbWl0ZXIgaW4gdGhlIGRpc2FsbG93ZWQgc3RyaW5ncyB3aGljaCBuZWVkcyB0byBiZSB3cmFwcGVkIHdpdGggemVybyB3aXRoIGNoYXJhY3Rlci5cbiAqL1xuY29uc3QgQ09NTUVOVF9ERUxJTUlURVIgPSAvKDx8PikvO1xuY29uc3QgQ09NTUVOVF9ERUxJTUlURVJfRVNDQVBFRCA9ICdcXHUyMDBCJDFcXHUyMDBCJztcbi8qKlxuICogRXNjYXBlIHRoZSBjb250ZW50IG9mIGNvbW1lbnQgc3RyaW5ncyBzbyB0aGF0IGl0IGNhbiBiZSBzYWZlbHkgaW5zZXJ0ZWQgaW50byBhIGNvbW1lbnQgbm9kZS5cbiAqXG4gKiBUaGUgaXNzdWUgaXMgdGhhdCBIVE1MIGRvZXMgbm90IHNwZWNpZnkgYW55IHdheSB0byBlc2NhcGUgY29tbWVudCBlbmQgdGV4dCBpbnNpZGUgdGhlIGNvbW1lbnQuXG4gKiBDb25zaWRlcjogYDwhLS0gVGhlIHdheSB5b3UgY2xvc2UgYSBjb21tZW50IGlzIHdpdGggXCI+XCIsIGFuZCBcIi0+XCIgYXQgdGhlIGJlZ2lubmluZyBvciBieSBcIi0tPlwiIG9yXG4gKiBcIi0tIT5cIiBhdCB0aGUgZW5kLiAtLT5gLiBBYm92ZSB0aGUgYFwiLS0+XCJgIGlzIG1lYW50IHRvIGJlIHRleHQgbm90IGFuIGVuZCB0byB0aGUgY29tbWVudC4gVGhpc1xuICogY2FuIGJlIGNyZWF0ZWQgcHJvZ3JhbW1hdGljYWxseSB0aHJvdWdoIERPTSBBUElzLiAoYDwhLS1gIGFyZSBhbHNvIGRpc2FsbG93ZWQuKVxuICpcbiAqIHNlZTogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjY29tbWVudHNcbiAqXG4gKiBgYGBcbiAqIGRpdi5pbm5lckhUTUwgPSBkaXYuaW5uZXJIVE1MXG4gKiBgYGBcbiAqXG4gKiBPbmUgd291bGQgZXhwZWN0IHRoYXQgdGhlIGFib3ZlIGNvZGUgd291bGQgYmUgc2FmZSB0byBkbywgYnV0IGl0IHR1cm5zIG91dCB0aGF0IGJlY2F1c2UgY29tbWVudFxuICogdGV4dCBpcyBub3QgZXNjYXBlZCwgdGhlIGNvbW1lbnQgbWF5IGNvbnRhaW4gdGV4dCB3aGljaCB3aWxsIHByZW1hdHVyZWx5IGNsb3NlIHRoZSBjb21tZW50XG4gKiBvcGVuaW5nIHVwIHRoZSBhcHBsaWNhdGlvbiBmb3IgWFNTIGF0dGFjay4gKEluIFNTUiB3ZSBwcm9ncmFtbWF0aWNhbGx5IGNyZWF0ZSBjb21tZW50IG5vZGVzIHdoaWNoXG4gKiBtYXkgY29udGFpbiBzdWNoIHRleHQgYW5kIGV4cGVjdCB0aGVtIHRvIGJlIHNhZmUuKVxuICpcbiAqIFRoaXMgZnVuY3Rpb24gZXNjYXBlcyB0aGUgY29tbWVudCB0ZXh0IGJ5IGxvb2tpbmcgZm9yIGNvbW1lbnQgZGVsaW1pdGVycyAoYDxgIGFuZCBgPmApIGFuZFxuICogc3Vycm91bmRpbmcgdGhlbSB3aXRoIGBfPl9gIHdoZXJlIHRoZSBgX2AgaXMgYSB6ZXJvIHdpZHRoIHNwYWNlIGBcXHUyMDBCYC4gVGhlIHJlc3VsdCBpcyB0aGF0IGlmIGFcbiAqIGNvbW1lbnQgY29udGFpbnMgYW55IG9mIHRoZSBjb21tZW50IHN0YXJ0L2VuZCBkZWxpbWl0ZXJzIChzdWNoIGFzIGA8IS0tYCwgYC0tPmAgb3IgYC0tIT5gKSB0aGVcbiAqIHRleHQgaXQgd2lsbCByZW5kZXIgbm9ybWFsbHkgYnV0IGl0IHdpbGwgbm90IGNhdXNlIHRoZSBIVE1MIHBhcnNlciB0byBjbG9zZS9vcGVuIHRoZSBjb21tZW50LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSB0ZXh0IHRvIG1ha2Ugc2FmZSBmb3IgY29tbWVudCBub2RlIGJ5IGVzY2FwaW5nIHRoZSBjb21tZW50IG9wZW4vY2xvc2UgY2hhcmFjdGVyXG4gKiAgICAgc2VxdWVuY2UuXG4gKi9cbmZ1bmN0aW9uIGVzY2FwZUNvbW1lbnRUZXh0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoQ09NTUVOVF9ESVNBTExPV0VELCAodGV4dCkgPT4gdGV4dC5yZXBsYWNlKENPTU1FTlRfREVMSU1JVEVSLCBDT01NRU5UX0RFTElNSVRFUl9FU0NBUEVEKSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplRGVidWdCaW5kaW5nTmFtZShuYW1lKSB7XG4gICAgLy8gQXR0cmlidXRlIG5hbWVzIHdpdGggYCRgIChlZyBgeC15JGApIGFyZSB2YWxpZCBwZXIgc3BlYywgYnV0IHVuc3VwcG9ydGVkIGJ5IHNvbWUgYnJvd3NlcnNcbiAgICBuYW1lID0gY2FtZWxDYXNlVG9EYXNoQ2FzZShuYW1lLnJlcGxhY2UoL1skQF0vZywgJ18nKSk7XG4gICAgcmV0dXJuIGBuZy1yZWZsZWN0LSR7bmFtZX1gO1xufVxuY29uc3QgQ0FNRUxfQ0FTRV9SRUdFWFAgPSAvKFtBLVpdKS9nO1xuZnVuY3Rpb24gY2FtZWxDYXNlVG9EYXNoQ2FzZShpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKENBTUVMX0NBU0VfUkVHRVhQLCAoLi4ubSkgPT4gJy0nICsgbVsxXS50b0xvd2VyQ2FzZSgpKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZURlYnVnQmluZGluZ1ZhbHVlKHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gTGltaXQgdGhlIHNpemUgb2YgdGhlIHZhbHVlIGFzIG90aGVyd2lzZSB0aGUgRE9NIGp1c3QgZ2V0cyBwb2xsdXRlZC5cbiAgICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgPyB2YWx1ZS50b1N0cmluZygpLnNsaWNlKDAsIDMwKSA6IHZhbHVlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gJ1tFUlJPUl0gRXhjZXB0aW9uIHdoaWxlIHRyeWluZyB0byBzZXJpYWxpemUgdGhlIHZhbHVlJztcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgZGVmYXVsdFNjaGVkdWxlciA9ICgoKSA9PiAodHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgLy8gYnJvd3NlciBvbmx5XG4gICAgc2V0VGltZW91dCAvLyBldmVyeXRoaW5nIGVsc2VcbilcbiAgICAuYmluZChfZ2xvYmFsKSkoKTtcbi8qKlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVyZXNvbHZlV2luZG93KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xufVxuLyoqXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXJlc29sdmVEb2N1bWVudChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudDtcbn1cbi8qKlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVyZXNvbHZlQm9keShlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5O1xufVxuLyoqXG4gKiBUaGUgc3BlY2lhbCBkZWxpbWl0ZXIgd2UgdXNlIHRvIHNlcGFyYXRlIHByb3BlcnR5IG5hbWVzLCBwcmVmaXhlcywgYW5kIHN1ZmZpeGVzXG4gKiBpbiBwcm9wZXJ0eSBiaW5kaW5nIG1ldGFkYXRhLiBTZWUgc3RvcmVCaW5kaW5nTWV0YWRhdGEoKS5cbiAqXG4gKiBXZSBpbnRlbnRpb25hbGx5IHVzZSB0aGUgVW5pY29kZSBcIlJFUExBQ0VNRU5UIENIQVJBQ1RFUlwiIChVK0ZGRkQpIGFzIGEgZGVsaW1pdGVyXG4gKiBiZWNhdXNlIGl0IGlzIGEgdmVyeSB1bmNvbW1vbiBjaGFyYWN0ZXIgdGhhdCBpcyB1bmxpa2VseSB0byBiZSBwYXJ0IG9mIGEgdXNlcidzXG4gKiBwcm9wZXJ0eSBuYW1lcyBvciBpbnRlcnBvbGF0aW9uIHN0cmluZ3MuIElmIGl0IGlzIGluIGZhY3QgdXNlZCBpbiBhIHByb3BlcnR5XG4gKiBiaW5kaW5nLCBEZWJ1Z0VsZW1lbnQucHJvcGVydGllcyB3aWxsIG5vdCByZXR1cm4gdGhlIGNvcnJlY3QgdmFsdWUgZm9yIHRoYXRcbiAqIGJpbmRpbmcuIEhvd2V2ZXIsIHRoZXJlIHNob3VsZCBiZSBubyBydW50aW1lIGVmZmVjdCBmb3IgcmVhbCBhcHBsaWNhdGlvbnMuXG4gKlxuICogVGhpcyBjaGFyYWN0ZXIgaXMgdHlwaWNhbGx5IHJlbmRlcmVkIGFzIGEgcXVlc3Rpb24gbWFyayBpbnNpZGUgb2YgYSBkaWFtb25kLlxuICogU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NwZWNpYWxzXyhVbmljb2RlX2Jsb2NrKVxuICpcbiAqL1xuY29uc3QgSU5URVJQT0xBVElPTl9ERUxJTUlURVIgPSBg77+9YDtcbi8qKlxuICogVW53cmFwIGEgdmFsdWUgd2hpY2ggbWlnaHQgYmUgYmVoaW5kIGEgY2xvc3VyZSAoZm9yIGZvcndhcmQgZGVjbGFyYXRpb24gcmVhc29ucykuXG4gKi9cbmZ1bmN0aW9uIG1heWJlVW53cmFwRm4odmFsdWUpIHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICByZXR1cm4gdmFsdWUoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqIENhbGxlZCB3aGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBjb21wb25lbnQgc2VsZWN0b3JzIHRoYXQgbWF0Y2ggYSBnaXZlbiBub2RlICovXG5mdW5jdGlvbiB0aHJvd011bHRpcGxlQ29tcG9uZW50RXJyb3IodE5vZGUpIHtcbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKC0zMDAgLyogTVVMVElQTEVfQ09NUE9ORU5UU19NQVRDSCAqLywgYE11bHRpcGxlIGNvbXBvbmVudHMgbWF0Y2ggbm9kZSB3aXRoIHRhZ25hbWUgJHt0Tm9kZS52YWx1ZX1gKTtcbn1cbi8qKiBUaHJvd3MgYW4gRXhwcmVzc2lvbkNoYW5nZWRBZnRlckNoZWNrZWQgZXJyb3IgaWYgY2hlY2tOb0NoYW5nZXMgbW9kZSBpcyBvbi4gKi9cbmZ1bmN0aW9uIHRocm93RXJyb3JJZk5vQ2hhbmdlc01vZGUoY3JlYXRpb25Nb2RlLCBvbGRWYWx1ZSwgY3VyclZhbHVlLCBwcm9wTmFtZSkge1xuICAgIGNvbnN0IGZpZWxkID0gcHJvcE5hbWUgPyBgIGZvciAnJHtwcm9wTmFtZX0nYCA6ICcnO1xuICAgIGxldCBtc2cgPSBgRXhwcmVzc2lvbkNoYW5nZWRBZnRlckl0SGFzQmVlbkNoZWNrZWRFcnJvcjogRXhwcmVzc2lvbiBoYXMgY2hhbmdlZCBhZnRlciBpdCB3YXMgY2hlY2tlZC4gUHJldmlvdXMgdmFsdWUke2ZpZWxkfTogJyR7b2xkVmFsdWV9Jy4gQ3VycmVudCB2YWx1ZTogJyR7Y3VyclZhbHVlfScuYDtcbiAgICBpZiAoY3JlYXRpb25Nb2RlKSB7XG4gICAgICAgIG1zZyArPVxuICAgICAgICAgICAgYCBJdCBzZWVtcyBsaWtlIHRoZSB2aWV3IGhhcyBiZWVuIGNyZWF0ZWQgYWZ0ZXIgaXRzIHBhcmVudCBhbmQgaXRzIGNoaWxkcmVuIGhhdmUgYmVlbiBkaXJ0eSBjaGVja2VkLmAgK1xuICAgICAgICAgICAgICAgIGAgSGFzIGl0IGJlZW4gY3JlYXRlZCBpbiBhIGNoYW5nZSBkZXRlY3Rpb24gaG9vaz9gO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKC0xMDAgLyogRVhQUkVTU0lPTl9DSEFOR0VEX0FGVEVSX0NIRUNLRUQgKi8sIG1zZyk7XG59XG5mdW5jdGlvbiBjb25zdHJ1Y3REZXRhaWxzRm9ySW50ZXJwb2xhdGlvbihsVmlldywgcm9vdEluZGV4LCBleHByZXNzaW9uSW5kZXgsIG1ldGEsIGNoYW5nZWRWYWx1ZSkge1xuICAgIGNvbnN0IFtwcm9wTmFtZSwgcHJlZml4LCAuLi5jaHVua3NdID0gbWV0YS5zcGxpdChJTlRFUlBPTEFUSU9OX0RFTElNSVRFUik7XG4gICAgbGV0IG9sZFZhbHVlID0gcHJlZml4LCBuZXdWYWx1ZSA9IHByZWZpeDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNodW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzbG90SWR4ID0gcm9vdEluZGV4ICsgaTtcbiAgICAgICAgb2xkVmFsdWUgKz0gYCR7bFZpZXdbc2xvdElkeF19JHtjaHVua3NbaV19YDtcbiAgICAgICAgbmV3VmFsdWUgKz0gYCR7c2xvdElkeCA9PT0gZXhwcmVzc2lvbkluZGV4ID8gY2hhbmdlZFZhbHVlIDogbFZpZXdbc2xvdElkeF19JHtjaHVua3NbaV19YDtcbiAgICB9XG4gICAgcmV0dXJuIHsgcHJvcE5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSB9O1xufVxuLyoqXG4gKiBDb25zdHJ1Y3RzIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGRldGFpbHMgZm9yIHRoZSBFeHByZXNzaW9uQ2hhbmdlZEFmdGVySXRIYXNCZWVuQ2hlY2tlZEVycm9yOlxuICogLSBwcm9wZXJ0eSBuYW1lIChmb3IgcHJvcGVydHkgYmluZGluZ3Mgb3IgaW50ZXJwb2xhdGlvbnMpXG4gKiAtIG9sZCBhbmQgbmV3IHZhbHVlcywgZW5yaWNoZWQgdXNpbmcgaW5mb3JtYXRpb24gZnJvbSBtZXRhZGF0YVxuICpcbiAqIE1vcmUgaW5mb3JtYXRpb24gb24gdGhlIG1ldGFkYXRhIHN0b3JhZ2UgZm9ybWF0IGNhbiBiZSBmb3VuZCBpbiBgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YWBcbiAqIGZ1bmN0aW9uIGRlc2NyaXB0aW9uLlxuICovXG5mdW5jdGlvbiBnZXRFeHByZXNzaW9uQ2hhbmdlZEVycm9yRGV0YWlscyhsVmlldywgYmluZGluZ0luZGV4LCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICBjb25zdCB0RGF0YSA9IGxWaWV3W1RWSUVXXS5kYXRhO1xuICAgIGNvbnN0IG1ldGFkYXRhID0gdERhdGFbYmluZGluZ0luZGV4XTtcbiAgICBpZiAodHlwZW9mIG1ldGFkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBtZXRhZGF0YSBmb3IgcHJvcGVydHkgaW50ZXJwb2xhdGlvblxuICAgICAgICBpZiAobWV0YWRhdGEuaW5kZXhPZihJTlRFUlBPTEFUSU9OX0RFTElNSVRFUikgPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnN0cnVjdERldGFpbHNGb3JJbnRlcnBvbGF0aW9uKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGJpbmRpbmdJbmRleCwgbWV0YWRhdGEsIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtZXRhZGF0YSBmb3IgcHJvcGVydHkgYmluZGluZ1xuICAgICAgICByZXR1cm4geyBwcm9wTmFtZTogbWV0YWRhdGEsIG9sZFZhbHVlLCBuZXdWYWx1ZSB9O1xuICAgIH1cbiAgICAvLyBtZXRhZGF0YSBpcyBub3QgYXZhaWxhYmxlIGZvciB0aGlzIGV4cHJlc3Npb24sIGNoZWNrIGlmIHRoaXMgZXhwcmVzc2lvbiBpcyBhIHBhcnQgb2YgdGhlXG4gICAgLy8gcHJvcGVydHkgaW50ZXJwb2xhdGlvbiBieSBnb2luZyBmcm9tIHRoZSBjdXJyZW50IGJpbmRpbmcgaW5kZXggbGVmdCBhbmQgbG9vayBmb3IgYSBzdHJpbmcgdGhhdFxuICAgIC8vIGNvbnRhaW5zIElOVEVSUE9MQVRJT05fREVMSU1JVEVSLCB0aGUgbGF5b3V0IGluIHRWaWV3LmRhdGEgZm9yIHRoaXMgY2FzZSB3aWxsIGxvb2sgbGlrZSB0aGlzOlxuICAgIC8vIFsuLi4sICdpZO+/vVByZWZpeCDvv70gYW5kIO+/vSBzdWZmaXgnLCBudWxsLCBudWxsLCBudWxsLCAuLi5dXG4gICAgaWYgKG1ldGFkYXRhID09PSBudWxsKSB7XG4gICAgICAgIGxldCBpZHggPSBiaW5kaW5nSW5kZXggLSAxO1xuICAgICAgICB3aGlsZSAodHlwZW9mIHREYXRhW2lkeF0gIT09ICdzdHJpbmcnICYmIHREYXRhW2lkeCArIDFdID09PSBudWxsKSB7XG4gICAgICAgICAgICBpZHgtLTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXRhID0gdERhdGFbaWR4XTtcbiAgICAgICAgaWYgKHR5cGVvZiBtZXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IG1ldGEubWF0Y2gobmV3IFJlZ0V4cChJTlRFUlBPTEFUSU9OX0RFTElNSVRFUiwgJ2cnKSk7XG4gICAgICAgICAgICAvLyBmaXJzdCBpbnRlcnBvbGF0aW9uIGRlbGltaXRlciBzZXBhcmF0ZXMgcHJvcGVydHkgbmFtZSBmcm9tIGludGVycG9sYXRpb24gcGFydHMgKGluIGNhc2Ugb2ZcbiAgICAgICAgICAgIC8vIHByb3BlcnR5IGludGVycG9sYXRpb25zKSwgc28gd2Ugc3VidHJhY3Qgb25lIGZyb20gdG90YWwgbnVtYmVyIG9mIGZvdW5kIGRlbGltaXRlcnNcbiAgICAgICAgICAgIGlmIChtYXRjaGVzICYmIChtYXRjaGVzLmxlbmd0aCAtIDEpID4gYmluZGluZ0luZGV4IC0gaWR4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0cnVjdERldGFpbHNGb3JJbnRlcnBvbGF0aW9uKGxWaWV3LCBpZHgsIGJpbmRpbmdJbmRleCwgbWV0YSwgbmV3VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHByb3BOYW1lOiB1bmRlZmluZWQsIG9sZFZhbHVlLCBuZXdWYWx1ZSB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRmxhZ3MgZm9yIHJlbmRlcmVyLXNwZWNpZmljIHN0eWxlIG1vZGlmaWVycy5cbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFJlbmRlcmVyU3R5bGVGbGFnczI7XG4oZnVuY3Rpb24gKFJlbmRlcmVyU3R5bGVGbGFnczIpIHtcbiAgICAvLyBUT0RPKG1pc2tvKTogVGhpcyBuZWVkcyB0byBiZSByZWZhY3RvcmVkIGludG8gYSBzZXBhcmF0ZSBmaWxlIHNvIHRoYXQgaXQgY2FuIGJlIGltcG9ydGVkIGZyb21cbiAgICAvLyBgbm9kZV9tYW5pcHVsYXRpb24udHNgIEN1cnJlbnRseSBkb2luZyB0aGUgaW1wb3J0IGNhdXNlIHJlc29sdXRpb24gb3JkZXIgdG8gY2hhbmdlIGFuZCBmYWlsc1xuICAgIC8vIHRoZSB0ZXN0cy4gVGhlIHdvcmsgYXJvdW5kIGlzIHRvIGhhdmUgaGFyZCBjb2RlZCB2YWx1ZSBpbiBgbm9kZV9tYW5pcHVsYXRpb24udHNgIGZvciBub3cuXG4gICAgLyoqXG4gICAgICogTWFya3MgYSBzdHlsZSBhcyBpbXBvcnRhbnQuXG4gICAgICovXG4gICAgUmVuZGVyZXJTdHlsZUZsYWdzMltSZW5kZXJlclN0eWxlRmxhZ3MyW1wiSW1wb3J0YW50XCJdID0gMV0gPSBcIkltcG9ydGFudFwiO1xuICAgIC8qKlxuICAgICAqIE1hcmtzIGEgc3R5bGUgYXMgdXNpbmcgZGFzaCBjYXNlIG5hbWluZyAodGhpcy1pcy1kYXNoLWNhc2UpLlxuICAgICAqL1xuICAgIFJlbmRlcmVyU3R5bGVGbGFnczJbUmVuZGVyZXJTdHlsZUZsYWdzMltcIkRhc2hDYXNlXCJdID0gMl0gPSBcIkRhc2hDYXNlXCI7XG59KShSZW5kZXJlclN0eWxlRmxhZ3MyIHx8IChSZW5kZXJlclN0eWxlRmxhZ3MyID0ge30pKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5sZXQgX2ljdUNvbnRhaW5lckl0ZXJhdGU7XG4vKipcbiAqIEl0ZXJhdG9yIHdoaWNoIHByb3ZpZGVzIGFiaWxpdHkgdG8gdmlzaXQgYWxsIG9mIHRoZSBgVEljdUNvbnRhaW5lck5vZGVgIHJvb3QgYFJOb2RlYHMuXG4gKi9cbmZ1bmN0aW9uIGljdUNvbnRhaW5lckl0ZXJhdGUodEljdUNvbnRhaW5lck5vZGUsIGxWaWV3KSB7XG4gICAgcmV0dXJuIF9pY3VDb250YWluZXJJdGVyYXRlKHRJY3VDb250YWluZXJOb2RlLCBsVmlldyk7XG59XG4vKipcbiAqIEVuc3VyZXMgdGhhdCBgSWN1Q29udGFpbmVyVmlzaXRvcmAncyBpbXBsZW1lbnRhdGlvbiBpcyBwcmVzZW50LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgaW52b2tlZCB3aGVuIGkxOG4gaW5zdHJ1Y3Rpb24gY29tZXMgYWNyb3NzIGFuIElDVS4gVGhlIHB1cnBvc2UgaXMgdG8gYWxsb3cgdGhlXG4gKiBidW5kbGVyIHRvIHRyZWUgc2hha2UgSUNVIGxvZ2ljIGFuZCBvbmx5IGxvYWQgaXQgaWYgSUNVIGluc3RydWN0aW9uIGlzIGV4ZWN1dGVkLlxuICovXG5mdW5jdGlvbiBlbnN1cmVJY3VDb250YWluZXJWaXNpdG9yTG9hZGVkKGxvYWRlcikge1xuICAgIGlmIChfaWN1Q29udGFpbmVySXRlcmF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIERvIG5vdCBpbmxpbmUgdGhpcyBmdW5jdGlvbi4gV2Ugd2FudCB0byBrZWVwIGBlbnN1cmVJY3VDb250YWluZXJWaXNpdG9yTG9hZGVkYCBsaWdodCwgc28gaXRcbiAgICAgICAgLy8gY2FuIGJlIGlubGluZWQgaW50byBjYWxsLXNpdGUuXG4gICAgICAgIF9pY3VDb250YWluZXJJdGVyYXRlID0gbG9hZGVyKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIE5vdGU6IFRoaXMgaGFjayBpcyBuZWNlc3Nhcnkgc28gd2UgZG9uJ3QgZXJyb25lb3VzbHkgZ2V0IGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuLy8gZmFpbHVyZSBiYXNlZCBvbiB0eXBlcy5cbmNvbnN0IHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDMgPSAxO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogR2V0cyB0aGUgcGFyZW50IExWaWV3IG9mIHRoZSBwYXNzZWQgTFZpZXcsIGlmIHRoZSBQQVJFTlQgaXMgYW4gTENvbnRhaW5lciwgd2lsbCBnZXQgdGhlIHBhcmVudCBvZlxuICogdGhhdCBMQ29udGFpbmVyLCB3aGljaCBpcyBhbiBMVmlld1xuICogQHBhcmFtIGxWaWV3IHRoZSBsVmlldyB3aG9zZSBwYXJlbnQgdG8gZ2V0XG4gKi9cbmZ1bmN0aW9uIGdldExWaWV3UGFyZW50KGxWaWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExWaWV3KGxWaWV3KTtcbiAgICBjb25zdCBwYXJlbnQgPSBsVmlld1tQQVJFTlRdO1xuICAgIHJldHVybiBpc0xDb250YWluZXIocGFyZW50KSA/IHBhcmVudFtQQVJFTlRdIDogcGFyZW50O1xufVxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgcm9vdCB2aWV3IGZyb20gYW55IGNvbXBvbmVudCBvciBgTFZpZXdgIGJ5IHdhbGtpbmcgdGhlIHBhcmVudCBgTFZpZXdgIHVudGlsXG4gKiByZWFjaGluZyB0aGUgcm9vdCBgTFZpZXdgLlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnRPckxWaWV3IGFueSBjb21wb25lbnQgb3IgYExWaWV3YFxuICovXG5mdW5jdGlvbiBnZXRSb290Vmlldyhjb21wb25lbnRPckxWaWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoY29tcG9uZW50T3JMVmlldywgJ2NvbXBvbmVudCcpO1xuICAgIGxldCBsVmlldyA9IGlzTFZpZXcoY29tcG9uZW50T3JMVmlldykgPyBjb21wb25lbnRPckxWaWV3IDogcmVhZFBhdGNoZWRMVmlldyhjb21wb25lbnRPckxWaWV3KTtcbiAgICB3aGlsZSAobFZpZXcgJiYgIShsVmlld1tGTEFHU10gJiA1MTIgLyogSXNSb290ICovKSkge1xuICAgICAgICBsVmlldyA9IGdldExWaWV3UGFyZW50KGxWaWV3KTtcbiAgICB9XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExWaWV3KGxWaWV3KTtcbiAgICByZXR1cm4gbFZpZXc7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGBSb290Q29udGV4dGAgaW5zdGFuY2UgdGhhdCBpcyBhc3NvY2lhdGVkIHdpdGhcbiAqIHRoZSBhcHBsaWNhdGlvbiB3aGVyZSB0aGUgdGFyZ2V0IGlzIHNpdHVhdGVkLiBJdCBkb2VzIHRoaXMgYnkgd2Fsa2luZyB0aGUgcGFyZW50IHZpZXdzIHVudGlsIGl0XG4gKiBnZXRzIHRvIHRoZSByb290IHZpZXcsIHRoZW4gZ2V0dGluZyB0aGUgY29udGV4dCBvZmYgb2YgdGhhdC5cbiAqXG4gKiBAcGFyYW0gdmlld09yQ29tcG9uZW50IHRoZSBgTFZpZXdgIG9yIGNvbXBvbmVudCB0byBnZXQgdGhlIHJvb3QgY29udGV4dCBmb3IuXG4gKi9cbmZ1bmN0aW9uIGdldFJvb3RDb250ZXh0KHZpZXdPckNvbXBvbmVudCkge1xuICAgIGNvbnN0IHJvb3RWaWV3ID0gZ2V0Um9vdFZpZXcodmlld09yQ29tcG9uZW50KTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RGVmaW5lZChyb290Vmlld1tDT05URVhUXSwgJ1Jvb3RWaWV3IGhhcyBubyBjb250ZXh0LiBQZXJoYXBzIGl0IGlzIGRpc2Nvbm5lY3RlZD8nKTtcbiAgICByZXR1cm4gcm9vdFZpZXdbQ09OVEVYVF07XG59XG4vKipcbiAqIEdldHMgdGhlIGZpcnN0IGBMQ29udGFpbmVyYCBpbiB0aGUgTFZpZXcgb3IgYG51bGxgIGlmIG5vbmUgZXhpc3RzLlxuICovXG5mdW5jdGlvbiBnZXRGaXJzdExDb250YWluZXIobFZpZXcpIHtcbiAgICByZXR1cm4gZ2V0TmVhcmVzdExDb250YWluZXIobFZpZXdbQ0hJTERfSEVBRF0pO1xufVxuLyoqXG4gKiBHZXRzIHRoZSBuZXh0IGBMQ29udGFpbmVyYCB0aGF0IGlzIGEgc2libGluZyBvZiB0aGUgZ2l2ZW4gY29udGFpbmVyLlxuICovXG5mdW5jdGlvbiBnZXROZXh0TENvbnRhaW5lcihjb250YWluZXIpIHtcbiAgICByZXR1cm4gZ2V0TmVhcmVzdExDb250YWluZXIoY29udGFpbmVyW05FWFRdKTtcbn1cbmZ1bmN0aW9uIGdldE5lYXJlc3RMQ29udGFpbmVyKHZpZXdPckNvbnRhaW5lcikge1xuICAgIHdoaWxlICh2aWV3T3JDb250YWluZXIgIT09IG51bGwgJiYgIWlzTENvbnRhaW5lcih2aWV3T3JDb250YWluZXIpKSB7XG4gICAgICAgIHZpZXdPckNvbnRhaW5lciA9IHZpZXdPckNvbnRhaW5lcltORVhUXTtcbiAgICB9XG4gICAgcmV0dXJuIHZpZXdPckNvbnRhaW5lcjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCB1bnVzZWRWYWx1ZVRvUGxhY2F0ZUFqZCQyID0gdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkOCArIHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDQgKyB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQzICsgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkNiArIHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDc7XG4vKipcbiAqIE5PVEU6IGZvciBwZXJmb3JtYW5jZSByZWFzb25zLCB0aGUgcG9zc2libGUgYWN0aW9ucyBhcmUgaW5saW5lZCB3aXRoaW4gdGhlIGZ1bmN0aW9uIGluc3RlYWQgb2ZcbiAqIGJlaW5nIHBhc3NlZCBhcyBhbiBhcmd1bWVudC5cbiAqL1xuZnVuY3Rpb24gYXBwbHlUb0VsZW1lbnRPckNvbnRhaW5lcihhY3Rpb24sIHJlbmRlcmVyLCBwYXJlbnQsIGxOb2RlVG9IYW5kbGUsIGJlZm9yZU5vZGUpIHtcbiAgICAvLyBJZiB0aGlzIHNsb3Qgd2FzIGFsbG9jYXRlZCBmb3IgYSB0ZXh0IG5vZGUgZHluYW1pY2FsbHkgY3JlYXRlZCBieSBpMThuLCB0aGUgdGV4dCBub2RlIGl0c2VsZlxuICAgIC8vIHdvbid0IGJlIGNyZWF0ZWQgdW50aWwgaTE4bkFwcGx5KCkgaW4gdGhlIHVwZGF0ZSBibG9jaywgc28gdGhpcyBub2RlIHNob3VsZCBiZSBza2lwcGVkLlxuICAgIC8vIEZvciBtb3JlIGluZm8sIHNlZSBcIklDVSBleHByZXNzaW9ucyBzaG91bGQgd29yayBpbnNpZGUgYW4gbmdUZW1wbGF0ZU91dGxldCBpbnNpZGUgYW4gbmdGb3JcIlxuICAgIC8vIGluIGBpMThuX3NwZWMudHNgLlxuICAgIGlmIChsTm9kZVRvSGFuZGxlICE9IG51bGwpIHtcbiAgICAgICAgbGV0IGxDb250YWluZXI7XG4gICAgICAgIGxldCBpc0NvbXBvbmVudCA9IGZhbHNlO1xuICAgICAgICAvLyBXZSBhcmUgZXhwZWN0aW5nIGFuIFJOb2RlLCBidXQgaW4gdGhlIGNhc2Ugb2YgYSBjb21wb25lbnQgb3IgTENvbnRhaW5lciB0aGUgYFJOb2RlYCBpc1xuICAgICAgICAvLyB3cmFwcGVkIGluIGFuIGFycmF5IHdoaWNoIG5lZWRzIHRvIGJlIHVud3JhcHBlZC4gV2UgbmVlZCB0byBrbm93IGlmIGl0IGlzIGEgY29tcG9uZW50IGFuZCBpZlxuICAgICAgICAvLyBpdCBoYXMgTENvbnRhaW5lciBzbyB0aGF0IHdlIGNhbiBwcm9jZXNzIGFsbCBvZiB0aG9zZSBjYXNlcyBhcHByb3ByaWF0ZWx5LlxuICAgICAgICBpZiAoaXNMQ29udGFpbmVyKGxOb2RlVG9IYW5kbGUpKSB7XG4gICAgICAgICAgICBsQ29udGFpbmVyID0gbE5vZGVUb0hhbmRsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0xWaWV3KGxOb2RlVG9IYW5kbGUpKSB7XG4gICAgICAgICAgICBpc0NvbXBvbmVudCA9IHRydWU7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChsTm9kZVRvSGFuZGxlW0hPU1RdLCAnSE9TVCBtdXN0IGJlIGRlZmluZWQgZm9yIGEgY29tcG9uZW50IExWaWV3Jyk7XG4gICAgICAgICAgICBsTm9kZVRvSGFuZGxlID0gbE5vZGVUb0hhbmRsZVtIT1NUXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByTm9kZSA9IHVud3JhcFJOb2RlKGxOb2RlVG9IYW5kbGUpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgIWlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSAmJiBhc3NlcnREb21Ob2RlKHJOb2RlKTtcbiAgICAgICAgaWYgKGFjdGlvbiA9PT0gMCAvKiBDcmVhdGUgKi8gJiYgcGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoYmVmb3JlTm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlQXBwZW5kQ2hpbGQocmVuZGVyZXIsIHBhcmVudCwgck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBwYXJlbnQsIHJOb2RlLCBiZWZvcmVOb2RlIHx8IG51bGwsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFjdGlvbiA9PT0gMSAvKiBJbnNlcnQgKi8gJiYgcGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBuYXRpdmVJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudCwgck5vZGUsIGJlZm9yZU5vZGUgfHwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYWN0aW9uID09PSAyIC8qIERldGFjaCAqLykge1xuICAgICAgICAgICAgbmF0aXZlUmVtb3ZlTm9kZShyZW5kZXJlciwgck5vZGUsIGlzQ29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhY3Rpb24gPT09IDMgLyogRGVzdHJveSAqLykge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckRlc3Ryb3lOb2RlKys7XG4gICAgICAgICAgICByZW5kZXJlci5kZXN0cm95Tm9kZShyTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxDb250YWluZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgYXBwbHlDb250YWluZXIocmVuZGVyZXIsIGFjdGlvbiwgbENvbnRhaW5lciwgcGFyZW50LCBiZWZvcmVOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVRleHROb2RlKHJlbmRlcmVyLCB2YWx1ZSkge1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJDcmVhdGVUZXh0Tm9kZSsrO1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJTZXRUZXh0Kys7XG4gICAgcmV0dXJuIGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSA/IHJlbmRlcmVyLmNyZWF0ZVRleHQodmFsdWUpIDpcbiAgICAgICAgcmVuZGVyZXIuY3JlYXRlVGV4dE5vZGUodmFsdWUpO1xufVxuZnVuY3Rpb24gdXBkYXRlVGV4dE5vZGUocmVuZGVyZXIsIHJOb2RlLCB2YWx1ZSkge1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJTZXRUZXh0Kys7XG4gICAgaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID8gcmVuZGVyZXIuc2V0VmFsdWUock5vZGUsIHZhbHVlKSA6IHJOb2RlLnRleHRDb250ZW50ID0gdmFsdWU7XG59XG5mdW5jdGlvbiBjcmVhdGVDb21tZW50Tm9kZShyZW5kZXJlciwgdmFsdWUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlQ29tbWVudCsrO1xuICAgIC8vIGlzUHJvY2VkdXJhbFJlbmRlcmVyIGNoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBib3RoIGBSZW5kZXJlcjJgIGFuZCBgUmVuZGVyZXIzYCBoYXZlIHRoZSBzYW1lXG4gICAgLy8gbWV0aG9kIG5hbWUuXG4gICAgcmV0dXJuIHJlbmRlcmVyLmNyZWF0ZUNvbW1lbnQoZXNjYXBlQ29tbWVudFRleHQodmFsdWUpKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5hdGl2ZSBlbGVtZW50IGZyb20gYSB0YWcgbmFtZSwgdXNpbmcgYSByZW5kZXJlci5cbiAqIEBwYXJhbSByZW5kZXJlciBBIHJlbmRlcmVyIHRvIHVzZVxuICogQHBhcmFtIG5hbWUgdGhlIHRhZyBuYW1lXG4gKiBAcGFyYW0gbmFtZXNwYWNlIE9wdGlvbmFsIG5hbWVzcGFjZSBmb3IgZWxlbWVudC5cbiAqIEByZXR1cm5zIHRoZSBlbGVtZW50IGNyZWF0ZWRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRWxlbWVudE5vZGUocmVuZGVyZXIsIG5hbWUsIG5hbWVzcGFjZSkge1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJDcmVhdGVFbGVtZW50Kys7XG4gICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICByZXR1cm4gcmVuZGVyZXIuY3JlYXRlRWxlbWVudChuYW1lLCBuYW1lc3BhY2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlVXJpID0gbmFtZXNwYWNlICE9PSBudWxsID8gZ2V0TmFtZXNwYWNlVXJpKG5hbWVzcGFjZSkgOiBudWxsO1xuICAgICAgICByZXR1cm4gbmFtZXNwYWNlVXJpID09PSBudWxsID8gcmVuZGVyZXIuY3JlYXRlRWxlbWVudChuYW1lKSA6XG4gICAgICAgICAgICByZW5kZXJlci5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlVXJpLCBuYW1lKTtcbiAgICB9XG59XG4vKipcbiAqIFJlbW92ZXMgYWxsIERPTSBlbGVtZW50cyBhc3NvY2lhdGVkIHdpdGggYSB2aWV3LlxuICpcbiAqIEJlY2F1c2Ugc29tZSByb290IG5vZGVzIG9mIHRoZSB2aWV3IG1heSBiZSBjb250YWluZXJzLCB3ZSBzb21ldGltZXMgbmVlZFxuICogdG8gcHJvcGFnYXRlIGRlZXBseSBpbnRvIHRoZSBuZXN0ZWQgY29udGFpbmVycyB0byByZW1vdmUgYWxsIGVsZW1lbnRzIGluIHRoZVxuICogdmlld3MgYmVuZWF0aCBpdC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGBUVmlldycgb2YgdGhlIGBMVmlld2AgZnJvbSB3aGljaCBlbGVtZW50cyBzaG91bGQgYmUgYWRkZWQgb3IgcmVtb3ZlZFxuICogQHBhcmFtIGxWaWV3IFRoZSB2aWV3IGZyb20gd2hpY2ggZWxlbWVudHMgc2hvdWxkIGJlIGFkZGVkIG9yIHJlbW92ZWRcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlVmlld0Zyb21Db250YWluZXIodFZpZXcsIGxWaWV3KSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgYXBwbHlWaWV3KHRWaWV3LCBsVmlldywgcmVuZGVyZXIsIDIgLyogRGV0YWNoICovLCBudWxsLCBudWxsKTtcbiAgICBsVmlld1tIT1NUXSA9IG51bGw7XG4gICAgbFZpZXdbVF9IT1NUXSA9IG51bGw7XG59XG4vKipcbiAqIEFkZHMgYWxsIERPTSBlbGVtZW50cyBhc3NvY2lhdGVkIHdpdGggYSB2aWV3LlxuICpcbiAqIEJlY2F1c2Ugc29tZSByb290IG5vZGVzIG9mIHRoZSB2aWV3IG1heSBiZSBjb250YWluZXJzLCB3ZSBzb21ldGltZXMgbmVlZFxuICogdG8gcHJvcGFnYXRlIGRlZXBseSBpbnRvIHRoZSBuZXN0ZWQgY29udGFpbmVycyB0byBhZGQgYWxsIGVsZW1lbnRzIGluIHRoZVxuICogdmlld3MgYmVuZWF0aCBpdC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGBUVmlldycgb2YgdGhlIGBMVmlld2AgZnJvbSB3aGljaCBlbGVtZW50cyBzaG91bGQgYmUgYWRkZWQgb3IgcmVtb3ZlZFxuICogQHBhcmFtIHBhcmVudFROb2RlIFRoZSBgVE5vZGVgIHdoZXJlIHRoZSBgTFZpZXdgIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAqIEBwYXJhbSByZW5kZXJlciBDdXJyZW50IHJlbmRlcmVyIHRvIHVzZSBmb3IgRE9NIG1hbmlwdWxhdGlvbnMuXG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgZnJvbSB3aGljaCBlbGVtZW50cyBzaG91bGQgYmUgYWRkZWQgb3IgcmVtb3ZlZFxuICogQHBhcmFtIHBhcmVudE5hdGl2ZU5vZGUgVGhlIHBhcmVudCBgUkVsZW1lbnRgIHdoZXJlIGl0IHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvLlxuICogQHBhcmFtIGJlZm9yZU5vZGUgVGhlIG5vZGUgYmVmb3JlIHdoaWNoIGVsZW1lbnRzIHNob3VsZCBiZSBhZGRlZCwgaWYgaW5zZXJ0IG1vZGVcbiAqL1xuZnVuY3Rpb24gYWRkVmlld1RvQ29udGFpbmVyKHRWaWV3LCBwYXJlbnRUTm9kZSwgcmVuZGVyZXIsIGxWaWV3LCBwYXJlbnROYXRpdmVOb2RlLCBiZWZvcmVOb2RlKSB7XG4gICAgbFZpZXdbSE9TVF0gPSBwYXJlbnROYXRpdmVOb2RlO1xuICAgIGxWaWV3W1RfSE9TVF0gPSBwYXJlbnRUTm9kZTtcbiAgICBhcHBseVZpZXcodFZpZXcsIGxWaWV3LCByZW5kZXJlciwgMSAvKiBJbnNlcnQgKi8sIHBhcmVudE5hdGl2ZU5vZGUsIGJlZm9yZU5vZGUpO1xufVxuLyoqXG4gKiBEZXRhY2ggYSBgTFZpZXdgIGZyb20gdGhlIERPTSBieSBkZXRhY2hpbmcgaXRzIG5vZGVzLlxuICpcbiAqIEBwYXJhbSB0VmlldyBUaGUgYFRWaWV3JyBvZiB0aGUgYExWaWV3YCB0byBiZSBkZXRhY2hlZFxuICogQHBhcmFtIGxWaWV3IHRoZSBgTFZpZXdgIHRvIGJlIGRldGFjaGVkLlxuICovXG5mdW5jdGlvbiByZW5kZXJEZXRhY2hWaWV3KHRWaWV3LCBsVmlldykge1xuICAgIGFwcGx5Vmlldyh0VmlldywgbFZpZXcsIGxWaWV3W1JFTkRFUkVSXSwgMiAvKiBEZXRhY2ggKi8sIG51bGwsIG51bGwpO1xufVxuLyoqXG4gKiBUcmF2ZXJzZXMgZG93biBhbmQgdXAgdGhlIHRyZWUgb2Ygdmlld3MgYW5kIGNvbnRhaW5lcnMgdG8gcmVtb3ZlIGxpc3RlbmVycyBhbmRcbiAqIGNhbGwgb25EZXN0cm95IGNhbGxiYWNrcy5cbiAqXG4gKiBOb3RlczpcbiAqICAtIEJlY2F1c2UgaXQncyB1c2VkIGZvciBvbkRlc3Ryb3kgY2FsbHMsIGl0IG5lZWRzIHRvIGJlIGJvdHRvbS11cC5cbiAqICAtIE11c3QgcHJvY2VzcyBjb250YWluZXJzIGluc3RlYWQgb2YgdGhlaXIgdmlld3MgdG8gYXZvaWQgc3BsaWNpbmdcbiAqICB3aGVuIHZpZXdzIGFyZSBkZXN0cm95ZWQgYW5kIHJlLWFkZGVkLlxuICogIC0gVXNpbmcgYSB3aGlsZSBsb29wIGJlY2F1c2UgaXQncyBmYXN0ZXIgdGhhbiByZWN1cnNpb25cbiAqICAtIERlc3Ryb3kgb25seSBjYWxsZWQgb24gbW92ZW1lbnQgdG8gc2libGluZyBvciBtb3ZlbWVudCB0byBwYXJlbnQgKGxhdGVyYWxseSBvciB1cClcbiAqXG4gKiAgQHBhcmFtIHJvb3RWaWV3IFRoZSB2aWV3IHRvIGRlc3Ryb3lcbiAqL1xuZnVuY3Rpb24gZGVzdHJveVZpZXdUcmVlKHJvb3RWaWV3KSB7XG4gICAgLy8gSWYgdGhlIHZpZXcgaGFzIG5vIGNoaWxkcmVuLCB3ZSBjYW4gY2xlYW4gaXQgdXAgYW5kIHJldHVybiBlYXJseS5cbiAgICBsZXQgbFZpZXdPckxDb250YWluZXIgPSByb290Vmlld1tDSElMRF9IRUFEXTtcbiAgICBpZiAoIWxWaWV3T3JMQ29udGFpbmVyKSB7XG4gICAgICAgIHJldHVybiBjbGVhblVwVmlldyhyb290Vmlld1tUVklFV10sIHJvb3RWaWV3KTtcbiAgICB9XG4gICAgd2hpbGUgKGxWaWV3T3JMQ29udGFpbmVyKSB7XG4gICAgICAgIGxldCBuZXh0ID0gbnVsbDtcbiAgICAgICAgaWYgKGlzTFZpZXcobFZpZXdPckxDb250YWluZXIpKSB7XG4gICAgICAgICAgICAvLyBJZiBMVmlldywgdHJhdmVyc2UgZG93biB0byBjaGlsZC5cbiAgICAgICAgICAgIG5leHQgPSBsVmlld09yTENvbnRhaW5lcltDSElMRF9IRUFEXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMQ29udGFpbmVyKGxWaWV3T3JMQ29udGFpbmVyKTtcbiAgICAgICAgICAgIC8vIElmIGNvbnRhaW5lciwgdHJhdmVyc2UgZG93biB0byBpdHMgZmlyc3QgTFZpZXcuXG4gICAgICAgICAgICBjb25zdCBmaXJzdFZpZXcgPSBsVmlld09yTENvbnRhaW5lcltDT05UQUlORVJfSEVBREVSX09GRlNFVF07XG4gICAgICAgICAgICBpZiAoZmlyc3RWaWV3KVxuICAgICAgICAgICAgICAgIG5leHQgPSBmaXJzdFZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgICAvLyBPbmx5IGNsZWFuIHVwIHZpZXcgd2hlbiBtb3ZpbmcgdG8gdGhlIHNpZGUgb3IgdXAsIGFzIGRlc3Ryb3kgaG9va3NcbiAgICAgICAgICAgIC8vIHNob3VsZCBiZSBjYWxsZWQgaW4gb3JkZXIgZnJvbSB0aGUgYm90dG9tIHVwLlxuICAgICAgICAgICAgd2hpbGUgKGxWaWV3T3JMQ29udGFpbmVyICYmICFsVmlld09yTENvbnRhaW5lcltORVhUXSAmJiBsVmlld09yTENvbnRhaW5lciAhPT0gcm9vdFZpZXcpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNMVmlldyhsVmlld09yTENvbnRhaW5lcikpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYW5VcFZpZXcobFZpZXdPckxDb250YWluZXJbVFZJRVddLCBsVmlld09yTENvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxWaWV3T3JMQ29udGFpbmVyID0gbFZpZXdPckxDb250YWluZXJbUEFSRU5UXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsVmlld09yTENvbnRhaW5lciA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICBsVmlld09yTENvbnRhaW5lciA9IHJvb3RWaWV3O1xuICAgICAgICAgICAgaWYgKGlzTFZpZXcobFZpZXdPckxDb250YWluZXIpKSB7XG4gICAgICAgICAgICAgICAgY2xlYW5VcFZpZXcobFZpZXdPckxDb250YWluZXJbVFZJRVddLCBsVmlld09yTENvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0ID0gbFZpZXdPckxDb250YWluZXIgJiYgbFZpZXdPckxDb250YWluZXJbTkVYVF07XG4gICAgICAgIH1cbiAgICAgICAgbFZpZXdPckxDb250YWluZXIgPSBuZXh0O1xuICAgIH1cbn1cbi8qKlxuICogSW5zZXJ0cyBhIHZpZXcgaW50byBhIGNvbnRhaW5lci5cbiAqXG4gKiBUaGlzIGFkZHMgdGhlIHZpZXcgdG8gdGhlIGNvbnRhaW5lcidzIGFycmF5IG9mIGFjdGl2ZSB2aWV3cyBpbiB0aGUgY29ycmVjdFxuICogcG9zaXRpb24uIEl0IGFsc28gYWRkcyB0aGUgdmlldydzIGVsZW1lbnRzIHRvIHRoZSBET00gaWYgdGhlIGNvbnRhaW5lciBpc24ndCBhXG4gKiByb290IG5vZGUgb2YgYW5vdGhlciB2aWV3IChpbiB0aGF0IGNhc2UsIHRoZSB2aWV3J3MgZWxlbWVudHMgd2lsbCBiZSBhZGRlZCB3aGVuXG4gKiB0aGUgY29udGFpbmVyJ3MgcGFyZW50IHZpZXcgaXMgYWRkZWQgbGF0ZXIpLlxuICpcbiAqIEBwYXJhbSB0VmlldyBUaGUgYFRWaWV3JyBvZiB0aGUgYExWaWV3YCB0byBpbnNlcnRcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyB0byBpbnNlcnRcbiAqIEBwYXJhbSBsQ29udGFpbmVyIFRoZSBjb250YWluZXIgaW50byB3aGljaCB0aGUgdmlldyBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAqIEBwYXJhbSBpbmRleCBXaGljaCBpbmRleCBpbiB0aGUgY29udGFpbmVyIHRvIGluc2VydCB0aGUgY2hpbGQgdmlldyBpbnRvXG4gKi9cbmZ1bmN0aW9uIGluc2VydFZpZXcodFZpZXcsIGxWaWV3LCBsQ29udGFpbmVyLCBpbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlldyhsVmlldyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExDb250YWluZXIobENvbnRhaW5lcik7XG4gICAgY29uc3QgaW5kZXhJbkNvbnRhaW5lciA9IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUICsgaW5kZXg7XG4gICAgY29uc3QgY29udGFpbmVyTGVuZ3RoID0gbENvbnRhaW5lci5sZW5ndGg7XG4gICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAvLyBUaGlzIGlzIGEgbmV3IHZpZXcsIHdlIG5lZWQgdG8gYWRkIGl0IHRvIHRoZSBjaGlsZHJlbi5cbiAgICAgICAgbENvbnRhaW5lcltpbmRleEluQ29udGFpbmVyIC0gMV1bTkVYVF0gPSBsVmlldztcbiAgICB9XG4gICAgaWYgKGluZGV4IDwgY29udGFpbmVyTGVuZ3RoIC0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQpIHtcbiAgICAgICAgbFZpZXdbTkVYVF0gPSBsQ29udGFpbmVyW2luZGV4SW5Db250YWluZXJdO1xuICAgICAgICBhZGRUb0FycmF5KGxDb250YWluZXIsIENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUICsgaW5kZXgsIGxWaWV3KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxDb250YWluZXIucHVzaChsVmlldyk7XG4gICAgICAgIGxWaWV3W05FWFRdID0gbnVsbDtcbiAgICB9XG4gICAgbFZpZXdbUEFSRU5UXSA9IGxDb250YWluZXI7XG4gICAgLy8gdHJhY2sgdmlld3Mgd2hlcmUgZGVjbGFyYXRpb24gYW5kIGluc2VydGlvbiBwb2ludHMgYXJlIGRpZmZlcmVudFxuICAgIGNvbnN0IGRlY2xhcmF0aW9uTENvbnRhaW5lciA9IGxWaWV3W0RFQ0xBUkFUSU9OX0xDT05UQUlORVJdO1xuICAgIGlmIChkZWNsYXJhdGlvbkxDb250YWluZXIgIT09IG51bGwgJiYgbENvbnRhaW5lciAhPT0gZGVjbGFyYXRpb25MQ29udGFpbmVyKSB7XG4gICAgICAgIHRyYWNrTW92ZWRWaWV3KGRlY2xhcmF0aW9uTENvbnRhaW5lciwgbFZpZXcpO1xuICAgIH1cbiAgICAvLyBub3RpZnkgcXVlcnkgdGhhdCBhIG5ldyB2aWV3IGhhcyBiZWVuIGFkZGVkXG4gICAgY29uc3QgbFF1ZXJpZXMgPSBsVmlld1tRVUVSSUVTXTtcbiAgICBpZiAobFF1ZXJpZXMgIT09IG51bGwpIHtcbiAgICAgICAgbFF1ZXJpZXMuaW5zZXJ0Vmlldyh0Vmlldyk7XG4gICAgfVxuICAgIC8vIFNldHMgdGhlIGF0dGFjaGVkIGZsYWdcbiAgICBsVmlld1tGTEFHU10gfD0gMTI4IC8qIEF0dGFjaGVkICovO1xufVxuLyoqXG4gKiBUcmFjayB2aWV3cyBjcmVhdGVkIGZyb20gdGhlIGRlY2xhcmF0aW9uIGNvbnRhaW5lciAoVGVtcGxhdGVSZWYpIGFuZCBpbnNlcnRlZCBpbnRvIGFcbiAqIGRpZmZlcmVudCBMQ29udGFpbmVyLlxuICovXG5mdW5jdGlvbiB0cmFja01vdmVkVmlldyhkZWNsYXJhdGlvbkNvbnRhaW5lciwgbFZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChsVmlldywgJ0xWaWV3IHJlcXVpcmVkJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExDb250YWluZXIoZGVjbGFyYXRpb25Db250YWluZXIpO1xuICAgIGNvbnN0IG1vdmVkVmlld3MgPSBkZWNsYXJhdGlvbkNvbnRhaW5lcltNT1ZFRF9WSUVXU107XG4gICAgY29uc3QgaW5zZXJ0ZWRMQ29udGFpbmVyID0gbFZpZXdbUEFSRU5UXTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TENvbnRhaW5lcihpbnNlcnRlZExDb250YWluZXIpO1xuICAgIGNvbnN0IGluc2VydGVkQ29tcG9uZW50TFZpZXcgPSBpbnNlcnRlZExDb250YWluZXJbUEFSRU5UXVtERUNMQVJBVElPTl9DT01QT05FTlRfVklFV107XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoaW5zZXJ0ZWRDb21wb25lbnRMVmlldywgJ01pc3NpbmcgaW5zZXJ0ZWRDb21wb25lbnRMVmlldycpO1xuICAgIGNvbnN0IGRlY2xhcmVkQ29tcG9uZW50TFZpZXcgPSBsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV107XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZGVjbGFyZWRDb21wb25lbnRMVmlldywgJ01pc3NpbmcgZGVjbGFyZWRDb21wb25lbnRMVmlldycpO1xuICAgIGlmIChkZWNsYXJlZENvbXBvbmVudExWaWV3ICE9PSBpbnNlcnRlZENvbXBvbmVudExWaWV3KSB7XG4gICAgICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIGRlY2xhcmF0aW9uLWNvbXBvbmVudCBpcyBub3Qgc2FtZSBhcyBpbnNlcnRpb24tY29tcG9uZW50OyB0aGlzIG1lYW5zIHRoYXRcbiAgICAgICAgLy8gdGhpcyBpcyBhIHRyYW5zcGxhbnRlZCB2aWV3LiBNYXJrIHRoZSBkZWNsYXJlZCBsVmlldyBhcyBoYXZpbmcgdHJhbnNwbGFudGVkIHZpZXdzIHNvIHRoYXRcbiAgICAgICAgLy8gdGhvc2Ugdmlld3MgY2FuIHBhcnRpY2lwYXRlIGluIENELlxuICAgICAgICBkZWNsYXJhdGlvbkNvbnRhaW5lcltIQVNfVFJBTlNQTEFOVEVEX1ZJRVdTXSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChtb3ZlZFZpZXdzID09PSBudWxsKSB7XG4gICAgICAgIGRlY2xhcmF0aW9uQ29udGFpbmVyW01PVkVEX1ZJRVdTXSA9IFtsVmlld107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtb3ZlZFZpZXdzLnB1c2gobFZpZXcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGFjaE1vdmVkVmlldyhkZWNsYXJhdGlvbkNvbnRhaW5lciwgbFZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TENvbnRhaW5lcihkZWNsYXJhdGlvbkNvbnRhaW5lcik7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydERlZmluZWQoZGVjbGFyYXRpb25Db250YWluZXJbTU9WRURfVklFV1NdLCAnQSBwcm9qZWN0ZWQgdmlldyBzaG91bGQgYmVsb25nIHRvIGEgbm9uLWVtcHR5IHByb2plY3RlZCB2aWV3cyBjb2xsZWN0aW9uJyk7XG4gICAgY29uc3QgbW92ZWRWaWV3cyA9IGRlY2xhcmF0aW9uQ29udGFpbmVyW01PVkVEX1ZJRVdTXTtcbiAgICBjb25zdCBkZWNsYXJhdGlvblZpZXdJbmRleCA9IG1vdmVkVmlld3MuaW5kZXhPZihsVmlldyk7XG4gICAgY29uc3QgaW5zZXJ0aW9uTENvbnRhaW5lciA9IGxWaWV3W1BBUkVOVF07XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExDb250YWluZXIoaW5zZXJ0aW9uTENvbnRhaW5lcik7XG4gICAgLy8gSWYgdGhlIHZpZXcgd2FzIG1hcmtlZCBmb3IgcmVmcmVzaCBidXQgdGhlbiBkZXRhY2hlZCBiZWZvcmUgaXQgd2FzIGNoZWNrZWQgKHdoZXJlIHRoZSBmbGFnXG4gICAgLy8gd291bGQgYmUgY2xlYXJlZCBhbmQgdGhlIGNvdW50ZXIgZGVjcmVtZW50ZWQpLCB3ZSBuZWVkIHRvIGRlY3JlbWVudCB0aGUgdmlldyBjb3VudGVyIGhlcmVcbiAgICAvLyBpbnN0ZWFkLlxuICAgIGlmIChsVmlld1tGTEFHU10gJiAxMDI0IC8qIFJlZnJlc2hUcmFuc3BsYW50ZWRWaWV3ICovKSB7XG4gICAgICAgIGxWaWV3W0ZMQUdTXSAmPSB+MTAyNCAvKiBSZWZyZXNoVHJhbnNwbGFudGVkVmlldyAqLztcbiAgICAgICAgdXBkYXRlVHJhbnNwbGFudGVkVmlld0NvdW50KGluc2VydGlvbkxDb250YWluZXIsIC0xKTtcbiAgICB9XG4gICAgbW92ZWRWaWV3cy5zcGxpY2UoZGVjbGFyYXRpb25WaWV3SW5kZXgsIDEpO1xufVxuLyoqXG4gKiBEZXRhY2hlcyBhIHZpZXcgZnJvbSBhIGNvbnRhaW5lci5cbiAqXG4gKiBUaGlzIG1ldGhvZCByZW1vdmVzIHRoZSB2aWV3IGZyb20gdGhlIGNvbnRhaW5lcidzIGFycmF5IG9mIGFjdGl2ZSB2aWV3cy4gSXQgYWxzb1xuICogcmVtb3ZlcyB0aGUgdmlldydzIGVsZW1lbnRzIGZyb20gdGhlIERPTS5cbiAqXG4gKiBAcGFyYW0gbENvbnRhaW5lciBUaGUgY29udGFpbmVyIGZyb20gd2hpY2ggdG8gZGV0YWNoIGEgdmlld1xuICogQHBhcmFtIHJlbW92ZUluZGV4IFRoZSBpbmRleCBvZiB0aGUgdmlldyB0byBkZXRhY2hcbiAqIEByZXR1cm5zIERldGFjaGVkIExWaWV3IGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBkZXRhY2hWaWV3KGxDb250YWluZXIsIHJlbW92ZUluZGV4KSB7XG4gICAgaWYgKGxDb250YWluZXIubGVuZ3RoIDw9IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgaW5kZXhJbkNvbnRhaW5lciA9IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUICsgcmVtb3ZlSW5kZXg7XG4gICAgY29uc3Qgdmlld1RvRGV0YWNoID0gbENvbnRhaW5lcltpbmRleEluQ29udGFpbmVyXTtcbiAgICBpZiAodmlld1RvRGV0YWNoKSB7XG4gICAgICAgIGNvbnN0IGRlY2xhcmF0aW9uTENvbnRhaW5lciA9IHZpZXdUb0RldGFjaFtERUNMQVJBVElPTl9MQ09OVEFJTkVSXTtcbiAgICAgICAgaWYgKGRlY2xhcmF0aW9uTENvbnRhaW5lciAhPT0gbnVsbCAmJiBkZWNsYXJhdGlvbkxDb250YWluZXIgIT09IGxDb250YWluZXIpIHtcbiAgICAgICAgICAgIGRldGFjaE1vdmVkVmlldyhkZWNsYXJhdGlvbkxDb250YWluZXIsIHZpZXdUb0RldGFjaCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbW92ZUluZGV4ID4gMCkge1xuICAgICAgICAgICAgbENvbnRhaW5lcltpbmRleEluQ29udGFpbmVyIC0gMV1bTkVYVF0gPSB2aWV3VG9EZXRhY2hbTkVYVF07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVtb3ZlZExWaWV3ID0gcmVtb3ZlRnJvbUFycmF5KGxDb250YWluZXIsIENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUICsgcmVtb3ZlSW5kZXgpO1xuICAgICAgICByZW1vdmVWaWV3RnJvbUNvbnRhaW5lcih2aWV3VG9EZXRhY2hbVFZJRVddLCB2aWV3VG9EZXRhY2gpO1xuICAgICAgICAvLyBub3RpZnkgcXVlcnkgdGhhdCBhIHZpZXcgaGFzIGJlZW4gcmVtb3ZlZFxuICAgICAgICBjb25zdCBsUXVlcmllcyA9IHJlbW92ZWRMVmlld1tRVUVSSUVTXTtcbiAgICAgICAgaWYgKGxRdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBsUXVlcmllcy5kZXRhY2hWaWV3KHJlbW92ZWRMVmlld1tUVklFV10pO1xuICAgICAgICB9XG4gICAgICAgIHZpZXdUb0RldGFjaFtQQVJFTlRdID0gbnVsbDtcbiAgICAgICAgdmlld1RvRGV0YWNoW05FWFRdID0gbnVsbDtcbiAgICAgICAgLy8gVW5zZXRzIHRoZSBhdHRhY2hlZCBmbGFnXG4gICAgICAgIHZpZXdUb0RldGFjaFtGTEFHU10gJj0gfjEyOCAvKiBBdHRhY2hlZCAqLztcbiAgICB9XG4gICAgcmV0dXJuIHZpZXdUb0RldGFjaDtcbn1cbi8qKlxuICogQSBzdGFuZGFsb25lIGZ1bmN0aW9uIHdoaWNoIGRlc3Ryb3lzIGFuIExWaWV3LFxuICogY29uZHVjdGluZyBjbGVhbiB1cCAoZS5nLiByZW1vdmluZyBsaXN0ZW5lcnMsIGNhbGxpbmcgb25EZXN0cm95cykuXG4gKlxuICogQHBhcmFtIHRWaWV3IFRoZSBgVFZpZXcnIG9mIHRoZSBgTFZpZXdgIHRvIGJlIGRlc3Ryb3llZFxuICogQHBhcmFtIGxWaWV3IFRoZSB2aWV3IHRvIGJlIGRlc3Ryb3llZC5cbiAqL1xuZnVuY3Rpb24gZGVzdHJveUxWaWV3KHRWaWV3LCBsVmlldykge1xuICAgIGlmICghKGxWaWV3W0ZMQUdTXSAmIDI1NiAvKiBEZXN0cm95ZWQgKi8pKSB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgICAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpICYmIHJlbmRlcmVyLmRlc3Ryb3lOb2RlKSB7XG4gICAgICAgICAgICBhcHBseVZpZXcodFZpZXcsIGxWaWV3LCByZW5kZXJlciwgMyAvKiBEZXN0cm95ICovLCBudWxsLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBkZXN0cm95Vmlld1RyZWUobFZpZXcpO1xuICAgIH1cbn1cbi8qKlxuICogQ2FsbHMgb25EZXN0cm95cyBob29rcyBmb3IgYWxsIGRpcmVjdGl2ZXMgYW5kIHBpcGVzIGluIGEgZ2l2ZW4gdmlldyBhbmQgdGhlbiByZW1vdmVzIGFsbFxuICogbGlzdGVuZXJzLiBMaXN0ZW5lcnMgYXJlIHJlbW92ZWQgYXMgdGhlIGxhc3Qgc3RlcCBzbyBldmVudHMgZGVsaXZlcmVkIGluIHRoZSBvbkRlc3Ryb3lzIGhvb2tzXG4gKiBjYW4gYmUgcHJvcGFnYXRlZCB0byBAT3V0cHV0IGxpc3RlbmVycy5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgYFRWaWV3YCBmb3IgdGhlIGBMVmlld2AgdG8gY2xlYW4gdXAuXG4gKiBAcGFyYW0gbFZpZXcgVGhlIExWaWV3IHRvIGNsZWFuIHVwXG4gKi9cbmZ1bmN0aW9uIGNsZWFuVXBWaWV3KHRWaWV3LCBsVmlldykge1xuICAgIGlmICghKGxWaWV3W0ZMQUdTXSAmIDI1NiAvKiBEZXN0cm95ZWQgKi8pKSB7XG4gICAgICAgIC8vIFVzdWFsbHkgdGhlIEF0dGFjaGVkIGZsYWcgaXMgcmVtb3ZlZCB3aGVuIHRoZSB2aWV3IGlzIGRldGFjaGVkIGZyb20gaXRzIHBhcmVudCwgaG93ZXZlclxuICAgICAgICAvLyBpZiBpdCdzIGEgcm9vdCB2aWV3LCB0aGUgZmxhZyB3b24ndCBiZSB1bnNldCBoZW5jZSB3aHkgd2UncmUgYWxzbyByZW1vdmluZyBvbiBkZXN0cm95LlxuICAgICAgICBsVmlld1tGTEFHU10gJj0gfjEyOCAvKiBBdHRhY2hlZCAqLztcbiAgICAgICAgLy8gTWFyayB0aGUgTFZpZXcgYXMgZGVzdHJveWVkICpiZWZvcmUqIGV4ZWN1dGluZyB0aGUgb25EZXN0cm95IGhvb2tzLiBBbiBvbkRlc3Ryb3kgaG9va1xuICAgICAgICAvLyBydW5zIGFyYml0cmFyeSB1c2VyIGNvZGUsIHdoaWNoIGNvdWxkIGluY2x1ZGUgaXRzIG93biBgdmlld1JlZi5kZXN0cm95KClgIChvciBzaW1pbGFyKS4gSWZcbiAgICAgICAgLy8gV2UgZG9uJ3QgZmxhZyB0aGUgdmlldyBhcyBkZXN0cm95ZWQgYmVmb3JlIHRoZSBob29rcywgdGhpcyBjb3VsZCBsZWFkIHRvIGFuIGluZmluaXRlIGxvb3AuXG4gICAgICAgIC8vIFRoaXMgYWxzbyBhbGlnbnMgd2l0aCB0aGUgVmlld0VuZ2luZSBiZWhhdmlvci4gSXQgYWxzbyBtZWFucyB0aGF0IHRoZSBvbkRlc3Ryb3kgaG9vayBpc1xuICAgICAgICAvLyByZWFsbHkgbW9yZSBvZiBhbiBcImFmdGVyRGVzdHJveVwiIGhvb2sgaWYgeW91IHRoaW5rIGFib3V0IGl0LlxuICAgICAgICBsVmlld1tGTEFHU10gfD0gMjU2IC8qIERlc3Ryb3llZCAqLztcbiAgICAgICAgZXhlY3V0ZU9uRGVzdHJveXModFZpZXcsIGxWaWV3KTtcbiAgICAgICAgcHJvY2Vzc0NsZWFudXBzKHRWaWV3LCBsVmlldyk7XG4gICAgICAgIC8vIEZvciBjb21wb25lbnQgdmlld3Mgb25seSwgdGhlIGxvY2FsIHJlbmRlcmVyIGlzIGRlc3Ryb3llZCBhdCBjbGVhbiB1cCB0aW1lLlxuICAgICAgICBpZiAobFZpZXdbVFZJRVddLnR5cGUgPT09IDEgLyogQ29tcG9uZW50ICovICYmIGlzUHJvY2VkdXJhbFJlbmRlcmVyKGxWaWV3W1JFTkRFUkVSXSkpIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJEZXN0cm95Kys7XG4gICAgICAgICAgICBsVmlld1tSRU5ERVJFUl0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlY2xhcmF0aW9uQ29udGFpbmVyID0gbFZpZXdbREVDTEFSQVRJT05fTENPTlRBSU5FUl07XG4gICAgICAgIC8vIHdlIGFyZSBkZWFsaW5nIHdpdGggYW4gZW1iZWRkZWQgdmlldyB0aGF0IGlzIHN0aWxsIGluc2VydGVkIGludG8gYSBjb250YWluZXJcbiAgICAgICAgaWYgKGRlY2xhcmF0aW9uQ29udGFpbmVyICE9PSBudWxsICYmIGlzTENvbnRhaW5lcihsVmlld1tQQVJFTlRdKSkge1xuICAgICAgICAgICAgLy8gYW5kIHRoaXMgaXMgYSBwcm9qZWN0ZWQgdmlld1xuICAgICAgICAgICAgaWYgKGRlY2xhcmF0aW9uQ29udGFpbmVyICE9PSBsVmlld1tQQVJFTlRdKSB7XG4gICAgICAgICAgICAgICAgZGV0YWNoTW92ZWRWaWV3KGRlY2xhcmF0aW9uQ29udGFpbmVyLCBsVmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGb3IgZW1iZWRkZWQgdmlld3Mgc3RpbGwgYXR0YWNoZWQgdG8gYSBjb250YWluZXI6IHJlbW92ZSBxdWVyeSByZXN1bHQgZnJvbSB0aGlzIHZpZXcuXG4gICAgICAgICAgICBjb25zdCBsUXVlcmllcyA9IGxWaWV3W1FVRVJJRVNdO1xuICAgICAgICAgICAgaWYgKGxRdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbFF1ZXJpZXMuZGV0YWNoVmlldyh0Vmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKiogUmVtb3ZlcyBsaXN0ZW5lcnMgYW5kIHVuc3Vic2NyaWJlcyBmcm9tIG91dHB1dCBzdWJzY3JpcHRpb25zICovXG5mdW5jdGlvbiBwcm9jZXNzQ2xlYW51cHModFZpZXcsIGxWaWV3KSB7XG4gICAgY29uc3QgdENsZWFudXAgPSB0Vmlldy5jbGVhbnVwO1xuICAgIGNvbnN0IGxDbGVhbnVwID0gbFZpZXdbQ0xFQU5VUF07XG4gICAgLy8gYExDbGVhbnVwYCBjb250YWlucyBib3RoIHNoYXJlIGluZm9ybWF0aW9uIHdpdGggYFRDbGVhbnVwYCBhcyB3ZWxsIGFzIGluc3RhbmNlIHNwZWNpZmljXG4gICAgLy8gaW5mb3JtYXRpb24gYXBwZW5kZWQgYXQgdGhlIGVuZC4gV2UgbmVlZCB0byBrbm93IHdoZXJlIHRoZSBlbmQgb2YgdGhlIGBUQ2xlYW51cGAgaW5mb3JtYXRpb25cbiAgICAvLyBpcywgYW5kIHdlIHRyYWNrIHRoaXMgd2l0aCBgbGFzdExDbGVhbnVwSW5kZXhgLlxuICAgIGxldCBsYXN0TENsZWFudXBJbmRleCA9IC0xO1xuICAgIGlmICh0Q2xlYW51cCAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRDbGVhbnVwLmxlbmd0aCAtIDE7IGkgKz0gMikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0Q2xlYW51cFtpXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgbmF0aXZlIERPTSBsaXN0ZW5lclxuICAgICAgICAgICAgICAgIGNvbnN0IGlkeE9yVGFyZ2V0R2V0dGVyID0gdENsZWFudXBbaSArIDFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHR5cGVvZiBpZHhPclRhcmdldEdldHRlciA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAgICAgIGlkeE9yVGFyZ2V0R2V0dGVyKGxWaWV3KSA6XG4gICAgICAgICAgICAgICAgICAgIHVud3JhcFJOb2RlKGxWaWV3W2lkeE9yVGFyZ2V0R2V0dGVyXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdGVuZXIgPSBsQ2xlYW51cFtsYXN0TENsZWFudXBJbmRleCA9IHRDbGVhbnVwW2kgKyAyXV07XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlQ2FwdHVyZU9yU3ViSWR4ID0gdENsZWFudXBbaSArIDNdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdXNlQ2FwdHVyZU9yU3ViSWR4ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbmF0aXZlIERPTSBsaXN0ZW5lciByZWdpc3RlcmVkIHdpdGggUmVuZGVyZXIzXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHRDbGVhbnVwW2ldLCBsaXN0ZW5lciwgdXNlQ2FwdHVyZU9yU3ViSWR4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VDYXB0dXJlT3JTdWJJZHggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdW5yZWdpc3RlclxuICAgICAgICAgICAgICAgICAgICAgICAgbENsZWFudXBbbGFzdExDbGVhbnVwSW5kZXggPSB1c2VDYXB0dXJlT3JTdWJJZHhdKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWJzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxDbGVhbnVwW2xhc3RMQ2xlYW51cEluZGV4ID0gLXVzZUNhcHR1cmVPclN1YklkeF0udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgY2xlYW51cCBmdW5jdGlvbiB0aGF0IGlzIGdyb3VwZWQgd2l0aCB0aGUgaW5kZXggb2YgaXRzIGNvbnRleHRcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gbENsZWFudXBbbGFzdExDbGVhbnVwSW5kZXggPSB0Q2xlYW51cFtpICsgMV1dO1xuICAgICAgICAgICAgICAgIHRDbGVhbnVwW2ldLmNhbGwoY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxDbGVhbnVwICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBsYXN0TENsZWFudXBJbmRleCArIDE7IGkgPCBsQ2xlYW51cC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2VDbGVhbnVwRm4gPSBsQ2xlYW51cFtpXTtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGdW5jdGlvbihpbnN0YW5jZUNsZWFudXBGbiwgJ0V4cGVjdGluZyBpbnN0YW5jZSBjbGVhbnVwIGZ1bmN0aW9uLicpO1xuICAgICAgICAgICAgaW5zdGFuY2VDbGVhbnVwRm4oKTtcbiAgICAgICAgfVxuICAgICAgICBsVmlld1tDTEVBTlVQXSA9IG51bGw7XG4gICAgfVxufVxuLyoqIENhbGxzIG9uRGVzdHJveSBob29rcyBmb3IgdGhpcyB2aWV3ICovXG5mdW5jdGlvbiBleGVjdXRlT25EZXN0cm95cyh0VmlldywgbFZpZXcpIHtcbiAgICBsZXQgZGVzdHJveUhvb2tzO1xuICAgIGlmICh0VmlldyAhPSBudWxsICYmIChkZXN0cm95SG9va3MgPSB0Vmlldy5kZXN0cm95SG9va3MpICE9IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXN0cm95SG9va3MubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBsVmlld1tkZXN0cm95SG9va3NbaV1dO1xuICAgICAgICAgICAgLy8gT25seSBjYWxsIHRoZSBkZXN0cm95IGhvb2sgaWYgdGhlIGNvbnRleHQgaGFzIGJlZW4gcmVxdWVzdGVkLlxuICAgICAgICAgICAgaWYgKCEoY29udGV4dCBpbnN0YW5jZW9mIE5vZGVJbmplY3RvckZhY3RvcnkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9DYWxsID0gZGVzdHJveUhvb2tzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0b0NhbGwpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdG9DYWxsLmxlbmd0aDsgaiArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxsQ29udGV4dCA9IGNvbnRleHRbdG9DYWxsW2pdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvb2sgPSB0b0NhbGxbaiArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZXIoNCAvKiBMaWZlY3ljbGVIb29rU3RhcnQgKi8sIGNhbGxDb250ZXh0LCBob29rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9vay5jYWxsKGNhbGxDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGVyKDUgLyogTGlmZWN5Y2xlSG9va0VuZCAqLywgY2FsbENvbnRleHQsIGhvb2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcm9maWxlcig0IC8qIExpZmVjeWNsZUhvb2tTdGFydCAqLywgY29udGV4dCwgdG9DYWxsKTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvQ2FsbC5jYWxsKGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZXIoNSAvKiBMaWZlY3ljbGVIb29rRW5kICovLCBjb250ZXh0LCB0b0NhbGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIGEgbmF0aXZlIGVsZW1lbnQgaWYgYSBub2RlIGNhbiBiZSBpbnNlcnRlZCBpbnRvIHRoZSBnaXZlbiBwYXJlbnQuXG4gKlxuICogVGhlcmUgYXJlIHR3byByZWFzb25zIHdoeSB3ZSBtYXkgbm90IGJlIGFibGUgdG8gaW5zZXJ0IGEgZWxlbWVudCBpbW1lZGlhdGVseS5cbiAqIC0gUHJvamVjdGlvbjogV2hlbiBjcmVhdGluZyBhIGNoaWxkIGNvbnRlbnQgZWxlbWVudCBvZiBhIGNvbXBvbmVudCwgd2UgaGF2ZSB0byBza2lwIHRoZVxuICogICBpbnNlcnRpb24gYmVjYXVzZSB0aGUgY29udGVudCBvZiBhIGNvbXBvbmVudCB3aWxsIGJlIHByb2plY3RlZC5cbiAqICAgYDxjb21wb25lbnQ+PGNvbnRlbnQ+ZGVsYXllZCBkdWUgdG8gcHJvamVjdGlvbjwvY29udGVudD48L2NvbXBvbmVudD5gXG4gKiAtIFBhcmVudCBjb250YWluZXIgaXMgZGlzY29ubmVjdGVkOiBUaGlzIGNhbiBoYXBwZW4gd2hlbiB3ZSBhcmUgaW5zZXJ0aW5nIGEgdmlldyBpbnRvXG4gKiAgIHBhcmVudCBjb250YWluZXIsIHdoaWNoIGl0c2VsZiBpcyBkaXNjb25uZWN0ZWQuIEZvciBleGFtcGxlIHRoZSBwYXJlbnQgY29udGFpbmVyIGlzIHBhcnRcbiAqICAgb2YgYSBWaWV3IHdoaWNoIGhhcyBub3QgYmUgaW5zZXJ0ZWQgb3IgaXMgbWFkZSBmb3IgcHJvamVjdGlvbiBidXQgaGFzIG5vdCBiZWVuIGluc2VydGVkXG4gKiAgIGludG8gZGVzdGluYXRpb24uXG4gKlxuICogQHBhcmFtIHRWaWV3OiBDdXJyZW50IGBUVmlld2AuXG4gKiBAcGFyYW0gdE5vZGU6IGBUTm9kZWAgZm9yIHdoaWNoIHdlIHdpc2ggdG8gcmV0cmlldmUgcmVuZGVyIHBhcmVudC5cbiAqIEBwYXJhbSBsVmlldzogQ3VycmVudCBgTFZpZXdgLlxuICovXG5mdW5jdGlvbiBnZXRQYXJlbnRSRWxlbWVudCh0VmlldywgdE5vZGUsIGxWaWV3KSB7XG4gICAgcmV0dXJuIGdldENsb3Nlc3RSRWxlbWVudCh0VmlldywgdE5vZGUucGFyZW50LCBsVmlldyk7XG59XG4vKipcbiAqIEdldCBjbG9zZXN0IGBSRWxlbWVudGAgb3IgYG51bGxgIGlmIGl0IGNhbid0IGJlIGZvdW5kLlxuICpcbiAqIElmIGBUTm9kZWAgaXMgYFROb2RlVHlwZS5FbGVtZW50YCA9PiByZXR1cm4gYFJFbGVtZW50YCBhdCBgTFZpZXdbdE5vZGUuaW5kZXhdYCBsb2NhdGlvbi5cbiAqIElmIGBUTm9kZWAgaXMgYFROb2RlVHlwZS5FbGVtZW50Q29udGFpbmVyfEljdUNvbnRhaW5gID0+IHJldHVybiB0aGUgcGFyZW50IChyZWN1cnNpdmVseSkuXG4gKiBJZiBgVE5vZGVgIGlzIGBudWxsYCB0aGVuIHJldHVybiBob3N0IGBSRWxlbWVudGA6XG4gKiAgIC0gcmV0dXJuIGBudWxsYCBpZiBwcm9qZWN0aW9uXG4gKiAgIC0gcmV0dXJuIGBudWxsYCBpZiBwYXJlbnQgY29udGFpbmVyIGlzIGRpc2Nvbm5lY3RlZCAod2UgaGF2ZSBubyBwYXJlbnQuKVxuICpcbiAqIEBwYXJhbSB0VmlldzogQ3VycmVudCBgVFZpZXdgLlxuICogQHBhcmFtIHROb2RlOiBgVE5vZGVgIGZvciB3aGljaCB3ZSB3aXNoIHRvIHJldHJpZXZlIGBSRWxlbWVudGAgKG9yIGBudWxsYCBpZiBob3N0IGVsZW1lbnQgaXNcbiAqICAgICBuZWVkZWQpLlxuICogQHBhcmFtIGxWaWV3OiBDdXJyZW50IGBMVmlld2AuXG4gKiBAcmV0dXJucyBgbnVsbGAgaWYgdGhlIGBSRWxlbWVudGAgY2FuJ3QgYmUgZGV0ZXJtaW5lZCBhdCB0aGlzIHRpbWUgKG5vIHBhcmVudCAvIHByb2plY3Rpb24pXG4gKi9cbmZ1bmN0aW9uIGdldENsb3Nlc3RSRWxlbWVudCh0VmlldywgdE5vZGUsIGxWaWV3KSB7XG4gICAgbGV0IHBhcmVudFROb2RlID0gdE5vZGU7XG4gICAgLy8gU2tpcCBvdmVyIGVsZW1lbnQgYW5kIElDVSBjb250YWluZXJzIGFzIHRob3NlIGFyZSByZXByZXNlbnRlZCBieSBhIGNvbW1lbnQgbm9kZSBhbmRcbiAgICAvLyBjYW4ndCBiZSB1c2VkIGFzIGEgcmVuZGVyIHBhcmVudC5cbiAgICB3aGlsZSAocGFyZW50VE5vZGUgIT09IG51bGwgJiZcbiAgICAgICAgKHBhcmVudFROb2RlLnR5cGUgJiAoOCAvKiBFbGVtZW50Q29udGFpbmVyICovIHwgMzIgLyogSWN1ICovKSkpIHtcbiAgICAgICAgdE5vZGUgPSBwYXJlbnRUTm9kZTtcbiAgICAgICAgcGFyZW50VE5vZGUgPSB0Tm9kZS5wYXJlbnQ7XG4gICAgfVxuICAgIC8vIElmIHRoZSBwYXJlbnQgdE5vZGUgaXMgbnVsbCwgdGhlbiB3ZSBhcmUgaW5zZXJ0aW5nIGFjcm9zcyB2aWV3czogZWl0aGVyIGludG8gYW4gZW1iZWRkZWQgdmlld1xuICAgIC8vIG9yIGEgY29tcG9uZW50IHZpZXcuXG4gICAgaWYgKHBhcmVudFROb2RlID09PSBudWxsKSB7XG4gICAgICAgIC8vIFdlIGFyZSBpbnNlcnRpbmcgYSByb290IGVsZW1lbnQgb2YgdGhlIGNvbXBvbmVudCB2aWV3IGludG8gdGhlIGNvbXBvbmVudCBob3N0IGVsZW1lbnQgYW5kXG4gICAgICAgIC8vIGl0IHNob3VsZCBhbHdheXMgYmUgZWFnZXIuXG4gICAgICAgIHJldHVybiBsVmlld1tIT1NUXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUocGFyZW50VE5vZGUsIDMgLyogQW55Uk5vZGUgKi8gfCA0IC8qIENvbnRhaW5lciAqLyk7XG4gICAgICAgIGlmIChwYXJlbnRUTm9kZS5mbGFncyAmIDIgLyogaXNDb21wb25lbnRIb3N0ICovKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVGb3JMVmlldyhwYXJlbnRUTm9kZSwgbFZpZXcpO1xuICAgICAgICAgICAgY29uc3QgZW5jYXBzdWxhdGlvbiA9IHRWaWV3LmRhdGFbcGFyZW50VE5vZGUuZGlyZWN0aXZlU3RhcnRdLmVuY2Fwc3VsYXRpb247XG4gICAgICAgICAgICAvLyBXZSd2ZSBnb3QgYSBwYXJlbnQgd2hpY2ggaXMgYW4gZWxlbWVudCBpbiB0aGUgY3VycmVudCB2aWV3LiBXZSBqdXN0IG5lZWQgdG8gdmVyaWZ5IGlmIHRoZVxuICAgICAgICAgICAgLy8gcGFyZW50IGVsZW1lbnQgaXMgbm90IGEgY29tcG9uZW50LiBDb21wb25lbnQncyBjb250ZW50IG5vZGVzIGFyZSBub3QgaW5zZXJ0ZWQgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgdGhleSB3aWxsIGJlIHByb2plY3RlZCwgYW5kIHNvIGRvaW5nIGluc2VydCBhdCB0aGlzIHBvaW50IHdvdWxkIGJlIHdhc3RlZnVsLlxuICAgICAgICAgICAgLy8gU2luY2UgdGhlIHByb2plY3Rpb24gd291bGQgdGhlbiBtb3ZlIGl0IHRvIGl0cyBmaW5hbCBkZXN0aW5hdGlvbi4gTm90ZSB0aGF0IHdlIGNhbid0XG4gICAgICAgICAgICAvLyBtYWtlIHRoaXMgYXNzdW1wdGlvbiB3aGVuIHVzaW5nIHRoZSBTaGFkb3cgRE9NLCBiZWNhdXNlIHRoZSBuYXRpdmUgcHJvamVjdGlvbiBwbGFjZWhvbGRlcnNcbiAgICAgICAgICAgIC8vICg8Y29udGVudD4gb3IgPHNsb3Q+KSBoYXZlIHRvIGJlIGluIHBsYWNlIGFzIGVsZW1lbnRzIGFyZSBiZWluZyBpbnNlcnRlZC5cbiAgICAgICAgICAgIGlmIChlbmNhcHN1bGF0aW9uID09PSBWaWV3RW5jYXBzdWxhdGlvbiQxLk5vbmUgfHxcbiAgICAgICAgICAgICAgICBlbmNhcHN1bGF0aW9uID09PSBWaWV3RW5jYXBzdWxhdGlvbiQxLkVtdWxhdGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdldE5hdGl2ZUJ5VE5vZGUocGFyZW50VE5vZGUsIGxWaWV3KTtcbiAgICB9XG59XG4vKipcbiAqIEluc2VydHMgYSBuYXRpdmUgbm9kZSBiZWZvcmUgYW5vdGhlciBuYXRpdmUgbm9kZSBmb3IgYSBnaXZlbiBwYXJlbnQgdXNpbmcge0BsaW5rIFJlbmRlcmVyM30uXG4gKiBUaGlzIGlzIGEgdXRpbGl0eSBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHdoZW4gbmF0aXZlIG5vZGVzIHdlcmUgZGV0ZXJtaW5lZCAtIGl0IGFic3RyYWN0cyBhblxuICogYWN0dWFsIHJlbmRlcmVyIGJlaW5nIHVzZWQuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZUluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50LCBjaGlsZCwgYmVmb3JlTm9kZSwgaXNNb3ZlKSB7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckluc2VydEJlZm9yZSsrO1xuICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgcmVuZGVyZXIuaW5zZXJ0QmVmb3JlKHBhcmVudCwgY2hpbGQsIGJlZm9yZU5vZGUsIGlzTW92ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBiZWZvcmVOb2RlLCBpc01vdmUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5hdGl2ZUFwcGVuZENoaWxkKHJlbmRlcmVyLCBwYXJlbnQsIGNoaWxkKSB7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckFwcGVuZENoaWxkKys7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQocGFyZW50LCAncGFyZW50IG5vZGUgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICByZW5kZXJlci5hcHBlbmRDaGlsZChwYXJlbnQsIGNoaWxkKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgfVxufVxuZnVuY3Rpb24gbmF0aXZlQXBwZW5kT3JJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudCwgY2hpbGQsIGJlZm9yZU5vZGUsIGlzTW92ZSkge1xuICAgIGlmIChiZWZvcmVOb2RlICE9PSBudWxsKSB7XG4gICAgICAgIG5hdGl2ZUluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50LCBjaGlsZCwgYmVmb3JlTm9kZSwgaXNNb3ZlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5hdGl2ZUFwcGVuZENoaWxkKHJlbmRlcmVyLCBwYXJlbnQsIGNoaWxkKTtcbiAgICB9XG59XG4vKiogUmVtb3ZlcyBhIG5vZGUgZnJvbSB0aGUgRE9NIGdpdmVuIGl0cyBuYXRpdmUgcGFyZW50LiAqL1xuZnVuY3Rpb24gbmF0aXZlUmVtb3ZlQ2hpbGQocmVuZGVyZXIsIHBhcmVudCwgY2hpbGQsIGlzSG9zdEVsZW1lbnQpIHtcbiAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgIHJlbmRlcmVyLnJlbW92ZUNoaWxkKHBhcmVudCwgY2hpbGQsIGlzSG9zdEVsZW1lbnQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgYSBuYXRpdmUgcGFyZW50IG9mIGEgZ2l2ZW4gbmF0aXZlIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZVBhcmVudE5vZGUocmVuZGVyZXIsIG5vZGUpIHtcbiAgICByZXR1cm4gKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSA/IHJlbmRlcmVyLnBhcmVudE5vZGUobm9kZSkgOiBub2RlLnBhcmVudE5vZGUpO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgbmF0aXZlIHNpYmxpbmcgb2YgYSBnaXZlbiBuYXRpdmUgbm9kZS5cbiAqL1xuZnVuY3Rpb24gbmF0aXZlTmV4dFNpYmxpbmcocmVuZGVyZXIsIG5vZGUpIHtcbiAgICByZXR1cm4gaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID8gcmVuZGVyZXIubmV4dFNpYmxpbmcobm9kZSkgOiBub2RlLm5leHRTaWJsaW5nO1xufVxuLyoqXG4gKiBGaW5kIGEgbm9kZSBpbiBmcm9udCBvZiB3aGljaCBgY3VycmVudFROb2RlYCBzaG91bGQgYmUgaW5zZXJ0ZWQuXG4gKlxuICogVGhpcyBtZXRob2QgZGV0ZXJtaW5lcyB0aGUgYFJOb2RlYCBpbiBmcm9udCBvZiB3aGljaCB3ZSBzaG91bGQgaW5zZXJ0IHRoZSBgY3VycmVudFJOb2RlYC4gVGhpc1xuICogdGFrZXMgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YCBpbnRvIGFjY291bnQgaWYgaTE4biBjb2RlIGhhcyBiZWVuIGludm9rZWQuXG4gKlxuICogQHBhcmFtIHBhcmVudFROb2RlIHBhcmVudCBgVE5vZGVgXG4gKiBAcGFyYW0gY3VycmVudFROb2RlIGN1cnJlbnQgYFROb2RlYCAoVGhlIG5vZGUgd2hpY2ggd2Ugd291bGQgbGlrZSB0byBpbnNlcnQgaW50byB0aGUgRE9NKVxuICogQHBhcmFtIGxWaWV3IGN1cnJlbnQgYExWaWV3YFxuICovXG5mdW5jdGlvbiBnZXRJbnNlcnRJbkZyb250T2ZSTm9kZShwYXJlbnRUTm9kZSwgY3VycmVudFROb2RlLCBsVmlldykge1xuICAgIHJldHVybiBfZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoSTE4bihwYXJlbnRUTm9kZSwgY3VycmVudFROb2RlLCBsVmlldyk7XG59XG4vKipcbiAqIEZpbmQgYSBub2RlIGluIGZyb250IG9mIHdoaWNoIGBjdXJyZW50VE5vZGVgIHNob3VsZCBiZSBpbnNlcnRlZC4gKERvZXMgbm90IHRha2UgaTE4biBpbnRvXG4gKiBhY2NvdW50KVxuICpcbiAqIFRoaXMgbWV0aG9kIGRldGVybWluZXMgdGhlIGBSTm9kZWAgaW4gZnJvbnQgb2Ygd2hpY2ggd2Ugc2hvdWxkIGluc2VydCB0aGUgYGN1cnJlbnRSTm9kZWAuIFRoaXNcbiAqIGRvZXMgbm90IHRha2UgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YCBpbnRvIGFjY291bnQuXG4gKlxuICogQHBhcmFtIHBhcmVudFROb2RlIHBhcmVudCBgVE5vZGVgXG4gKiBAcGFyYW0gY3VycmVudFROb2RlIGN1cnJlbnQgYFROb2RlYCAoVGhlIG5vZGUgd2hpY2ggd2Ugd291bGQgbGlrZSB0byBpbnNlcnQgaW50byB0aGUgRE9NKVxuICogQHBhcmFtIGxWaWV3IGN1cnJlbnQgYExWaWV3YFxuICovXG5mdW5jdGlvbiBnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhOb0kxOG4ocGFyZW50VE5vZGUsIGN1cnJlbnRUTm9kZSwgbFZpZXcpIHtcbiAgICBpZiAocGFyZW50VE5vZGUudHlwZSAmICg4IC8qIEVsZW1lbnRDb250YWluZXIgKi8gfCAzMiAvKiBJY3UgKi8pKSB7XG4gICAgICAgIHJldHVybiBnZXROYXRpdmVCeVROb2RlKHBhcmVudFROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBUcmVlIHNoYWthYmxlIGJvdW5kYXJ5IGZvciBgZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoSTE4bmAgZnVuY3Rpb24uXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIG9ubHkgYmUgc2V0IGlmIGkxOG4gY29kZSBydW5zLlxuICovXG5sZXQgX2dldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG4gPSBnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhOb0kxOG47XG4vKipcbiAqIFRyZWUgc2hha2FibGUgYm91bmRhcnkgZm9yIGBwcm9jZXNzSTE4bkluc2VydEJlZm9yZWAgZnVuY3Rpb24uXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIG9ubHkgYmUgc2V0IGlmIGkxOG4gY29kZSBydW5zLlxuICovXG5sZXQgX3Byb2Nlc3NJMThuSW5zZXJ0QmVmb3JlO1xuZnVuY3Rpb24gc2V0STE4bkhhbmRsaW5nKGdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG4sIHByb2Nlc3NJMThuSW5zZXJ0QmVmb3JlKSB7XG4gICAgX2dldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG4gPSBnZXRJbnNlcnRJbkZyb250T2ZSTm9kZVdpdGhJMThuO1xuICAgIF9wcm9jZXNzSTE4bkluc2VydEJlZm9yZSA9IHByb2Nlc3NJMThuSW5zZXJ0QmVmb3JlO1xufVxuLyoqXG4gKiBBcHBlbmRzIHRoZSBgY2hpbGRgIG5hdGl2ZSBub2RlIChvciBhIGNvbGxlY3Rpb24gb2Ygbm9kZXMpIHRvIHRoZSBgcGFyZW50YC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGBUVmlldycgdG8gYmUgYXBwZW5kZWRcbiAqIEBwYXJhbSBsVmlldyBUaGUgY3VycmVudCBMVmlld1xuICogQHBhcmFtIGNoaWxkUk5vZGUgVGhlIG5hdGl2ZSBjaGlsZCAob3IgY2hpbGRyZW4pIHRoYXQgc2hvdWxkIGJlIGFwcGVuZGVkXG4gKiBAcGFyYW0gY2hpbGRUTm9kZSBUaGUgVE5vZGUgb2YgdGhlIGNoaWxkIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gYXBwZW5kQ2hpbGQodFZpZXcsIGxWaWV3LCBjaGlsZFJOb2RlLCBjaGlsZFROb2RlKSB7XG4gICAgY29uc3QgcGFyZW50Uk5vZGUgPSBnZXRQYXJlbnRSRWxlbWVudCh0VmlldywgY2hpbGRUTm9kZSwgbFZpZXcpO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgIGNvbnN0IHBhcmVudFROb2RlID0gY2hpbGRUTm9kZS5wYXJlbnQgfHwgbFZpZXdbVF9IT1NUXTtcbiAgICBjb25zdCBhbmNob3JOb2RlID0gZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGUocGFyZW50VE5vZGUsIGNoaWxkVE5vZGUsIGxWaWV3KTtcbiAgICBpZiAocGFyZW50Uk5vZGUgIT0gbnVsbCkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZFJOb2RlKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZFJOb2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlQXBwZW5kT3JJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudFJOb2RlLCBjaGlsZFJOb2RlW2ldLCBhbmNob3JOb2RlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuYXRpdmVBcHBlbmRPckluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50Uk5vZGUsIGNoaWxkUk5vZGUsIGFuY2hvck5vZGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcHJvY2Vzc0kxOG5JbnNlcnRCZWZvcmUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBfcHJvY2Vzc0kxOG5JbnNlcnRCZWZvcmUocmVuZGVyZXIsIGNoaWxkVE5vZGUsIGxWaWV3LCBjaGlsZFJOb2RlLCBwYXJlbnRSTm9kZSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGZpcnN0IG5hdGl2ZSBub2RlIGZvciBhIGdpdmVuIExWaWV3LCBzdGFydGluZyBmcm9tIHRoZSBwcm92aWRlZCBUTm9kZS5cbiAqXG4gKiBOYXRpdmUgbm9kZXMgYXJlIHJldHVybmVkIGluIHRoZSBvcmRlciBpbiB3aGljaCB0aG9zZSBhcHBlYXIgaW4gdGhlIG5hdGl2ZSB0cmVlIChET00pLlxuICovXG5mdW5jdGlvbiBnZXRGaXJzdE5hdGl2ZU5vZGUobFZpZXcsIHROb2RlKSB7XG4gICAgaWYgKHROb2RlICE9PSBudWxsKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAzIC8qIEFueVJOb2RlICovIHwgMTIgLyogQW55Q29udGFpbmVyICovIHwgMzIgLyogSWN1ICovIHwgMTYgLyogUHJvamVjdGlvbiAqLyk7XG4gICAgICAgIGNvbnN0IHROb2RlVHlwZSA9IHROb2RlLnR5cGU7XG4gICAgICAgIGlmICh0Tm9kZVR5cGUgJiAzIC8qIEFueVJOb2RlICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHROb2RlVHlwZSAmIDQgLyogQ29udGFpbmVyICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0QmVmb3JlTm9kZUZvclZpZXcoLTEsIGxWaWV3W3ROb2RlLmluZGV4XSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodE5vZGVUeXBlICYgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKSB7XG4gICAgICAgICAgICBjb25zdCBlbEljdUNvbnRhaW5lckNoaWxkID0gdE5vZGUuY2hpbGQ7XG4gICAgICAgICAgICBpZiAoZWxJY3VDb250YWluZXJDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRGaXJzdE5hdGl2ZU5vZGUobFZpZXcsIGVsSWN1Q29udGFpbmVyQ2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgck5vZGVPckxDb250YWluZXIgPSBsVmlld1t0Tm9kZS5pbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGlzTENvbnRhaW5lcihyTm9kZU9yTENvbnRhaW5lcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEJlZm9yZU5vZGVGb3JWaWV3KC0xLCByTm9kZU9yTENvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW53cmFwUk5vZGUock5vZGVPckxDb250YWluZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0Tm9kZVR5cGUgJiAzMiAvKiBJY3UgKi8pIHtcbiAgICAgICAgICAgIGxldCBuZXh0Uk5vZGUgPSBpY3VDb250YWluZXJJdGVyYXRlKHROb2RlLCBsVmlldyk7XG4gICAgICAgICAgICBsZXQgck5vZGUgPSBuZXh0Uk5vZGUoKTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBJQ1UgY29udGFpbmVyIGhhcyBubyBub2RlcywgdGhhbiB3ZSB1c2UgdGhlIElDVSBhbmNob3IgYXMgdGhlIG5vZGUuXG4gICAgICAgICAgICByZXR1cm4gck5vZGUgfHwgdW53cmFwUk5vZGUobFZpZXdbdE5vZGUuaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3Rpb25Ob2RlcyA9IGdldFByb2plY3Rpb25Ob2RlcyhsVmlldywgdE5vZGUpO1xuICAgICAgICAgICAgaWYgKHByb2plY3Rpb25Ob2RlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb2plY3Rpb25Ob2RlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb2plY3Rpb25Ob2Rlc1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50VmlldyA9IGdldExWaWV3UGFyZW50KGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXSk7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFBhcmVudFZpZXcocGFyZW50Vmlldyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEZpcnN0TmF0aXZlTm9kZShwYXJlbnRWaWV3LCBwcm9qZWN0aW9uTm9kZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEZpcnN0TmF0aXZlTm9kZShsVmlldywgdE5vZGUubmV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBnZXRQcm9qZWN0aW9uTm9kZXMobFZpZXcsIHROb2RlKSB7XG4gICAgaWYgKHROb2RlICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV107XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEhvc3QgPSBjb21wb25lbnRWaWV3W1RfSE9TVF07XG4gICAgICAgIGNvbnN0IHNsb3RJZHggPSB0Tm9kZS5wcm9qZWN0aW9uO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0UHJvamVjdGlvblNsb3RzKGxWaWV3KTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudEhvc3QucHJvamVjdGlvbltzbG90SWR4XTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBnZXRCZWZvcmVOb2RlRm9yVmlldyh2aWV3SW5kZXhJbkNvbnRhaW5lciwgbENvbnRhaW5lcikge1xuICAgIGNvbnN0IG5leHRWaWV3SW5kZXggPSBDT05UQUlORVJfSEVBREVSX09GRlNFVCArIHZpZXdJbmRleEluQ29udGFpbmVyICsgMTtcbiAgICBpZiAobmV4dFZpZXdJbmRleCA8IGxDb250YWluZXIubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gbENvbnRhaW5lcltuZXh0Vmlld0luZGV4XTtcbiAgICAgICAgY29uc3QgZmlyc3RUTm9kZU9mVmlldyA9IGxWaWV3W1RWSUVXXS5maXJzdENoaWxkO1xuICAgICAgICBpZiAoZmlyc3RUTm9kZU9mVmlldyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEZpcnN0TmF0aXZlTm9kZShsVmlldywgZmlyc3RUTm9kZU9mVmlldyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxDb250YWluZXJbTkFUSVZFXTtcbn1cbi8qKlxuICogUmVtb3ZlcyBhIG5hdGl2ZSBub2RlIGl0c2VsZiB1c2luZyBhIGdpdmVuIHJlbmRlcmVyLiBUbyByZW1vdmUgdGhlIG5vZGUgd2UgYXJlIGxvb2tpbmcgdXAgaXRzXG4gKiBwYXJlbnQgZnJvbSB0aGUgbmF0aXZlIHRyZWUgYXMgbm90IGFsbCBwbGF0Zm9ybXMgLyBicm93c2VycyBzdXBwb3J0IHRoZSBlcXVpdmFsZW50IG9mXG4gKiBub2RlLnJlbW92ZSgpLlxuICpcbiAqIEBwYXJhbSByZW5kZXJlciBBIHJlbmRlcmVyIHRvIGJlIHVzZWRcbiAqIEBwYXJhbSByTm9kZSBUaGUgbmF0aXZlIG5vZGUgdGhhdCBzaG91bGQgYmUgcmVtb3ZlZFxuICogQHBhcmFtIGlzSG9zdEVsZW1lbnQgQSBmbGFnIGluZGljYXRpbmcgaWYgYSBub2RlIHRvIGJlIHJlbW92ZWQgaXMgYSBob3N0IG9mIGEgY29tcG9uZW50LlxuICovXG5mdW5jdGlvbiBuYXRpdmVSZW1vdmVOb2RlKHJlbmRlcmVyLCByTm9kZSwgaXNIb3N0RWxlbWVudCkge1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJSZW1vdmVOb2RlKys7XG4gICAgY29uc3QgbmF0aXZlUGFyZW50ID0gbmF0aXZlUGFyZW50Tm9kZShyZW5kZXJlciwgck5vZGUpO1xuICAgIGlmIChuYXRpdmVQYXJlbnQpIHtcbiAgICAgICAgbmF0aXZlUmVtb3ZlQ2hpbGQocmVuZGVyZXIsIG5hdGl2ZVBhcmVudCwgck5vZGUsIGlzSG9zdEVsZW1lbnQpO1xuICAgIH1cbn1cbi8qKlxuICogUGVyZm9ybXMgdGhlIG9wZXJhdGlvbiBvZiBgYWN0aW9uYCBvbiB0aGUgbm9kZS4gVHlwaWNhbGx5IHRoaXMgaW52b2x2ZXMgaW5zZXJ0aW5nIG9yIHJlbW92aW5nXG4gKiBub2RlcyBvbiB0aGUgTFZpZXcgb3IgcHJvamVjdGlvbiBib3VuZGFyeS5cbiAqL1xuZnVuY3Rpb24gYXBwbHlOb2RlcyhyZW5kZXJlciwgYWN0aW9uLCB0Tm9kZSwgbFZpZXcsIHBhcmVudFJFbGVtZW50LCBiZWZvcmVOb2RlLCBpc1Byb2plY3Rpb24pIHtcbiAgICB3aGlsZSAodE5vZGUgIT0gbnVsbCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVGb3JMVmlldyh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMyAvKiBBbnlSTm9kZSAqLyB8IDEyIC8qIEFueUNvbnRhaW5lciAqLyB8IDE2IC8qIFByb2plY3Rpb24gKi8gfCAzMiAvKiBJY3UgKi8pO1xuICAgICAgICBjb25zdCByYXdTbG90VmFsdWUgPSBsVmlld1t0Tm9kZS5pbmRleF07XG4gICAgICAgIGNvbnN0IHROb2RlVHlwZSA9IHROb2RlLnR5cGU7XG4gICAgICAgIGlmIChpc1Byb2plY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09IDAgLyogQ3JlYXRlICovKSB7XG4gICAgICAgICAgICAgICAgcmF3U2xvdFZhbHVlICYmIGF0dGFjaFBhdGNoRGF0YSh1bndyYXBSTm9kZShyYXdTbG90VmFsdWUpLCBsVmlldyk7XG4gICAgICAgICAgICAgICAgdE5vZGUuZmxhZ3MgfD0gNCAvKiBpc1Byb2plY3RlZCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoKHROb2RlLmZsYWdzICYgNjQgLyogaXNEZXRhY2hlZCAqLykgIT09IDY0IC8qIGlzRGV0YWNoZWQgKi8pIHtcbiAgICAgICAgICAgIGlmICh0Tm9kZVR5cGUgJiA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pIHtcbiAgICAgICAgICAgICAgICBhcHBseU5vZGVzKHJlbmRlcmVyLCBhY3Rpb24sIHROb2RlLmNoaWxkLCBsVmlldywgcGFyZW50UkVsZW1lbnQsIGJlZm9yZU5vZGUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBhcHBseVRvRWxlbWVudE9yQ29udGFpbmVyKGFjdGlvbiwgcmVuZGVyZXIsIHBhcmVudFJFbGVtZW50LCByYXdTbG90VmFsdWUsIGJlZm9yZU5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodE5vZGVUeXBlICYgMzIgLyogSWN1ICovKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFJOb2RlID0gaWN1Q29udGFpbmVySXRlcmF0ZSh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICAgICAgICAgIGxldCByTm9kZTtcbiAgICAgICAgICAgICAgICB3aGlsZSAock5vZGUgPSBuZXh0Uk5vZGUoKSkge1xuICAgICAgICAgICAgICAgICAgICBhcHBseVRvRWxlbWVudE9yQ29udGFpbmVyKGFjdGlvbiwgcmVuZGVyZXIsIHBhcmVudFJFbGVtZW50LCByTm9kZSwgYmVmb3JlTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFwcGx5VG9FbGVtZW50T3JDb250YWluZXIoYWN0aW9uLCByZW5kZXJlciwgcGFyZW50UkVsZW1lbnQsIHJhd1Nsb3RWYWx1ZSwgYmVmb3JlTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0Tm9kZVR5cGUgJiAxNiAvKiBQcm9qZWN0aW9uICovKSB7XG4gICAgICAgICAgICAgICAgYXBwbHlQcm9qZWN0aW9uUmVjdXJzaXZlKHJlbmRlcmVyLCBhY3Rpb24sIGxWaWV3LCB0Tm9kZSwgcGFyZW50UkVsZW1lbnQsIGJlZm9yZU5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMyAvKiBBbnlSTm9kZSAqLyB8IDQgLyogQ29udGFpbmVyICovKTtcbiAgICAgICAgICAgICAgICBhcHBseVRvRWxlbWVudE9yQ29udGFpbmVyKGFjdGlvbiwgcmVuZGVyZXIsIHBhcmVudFJFbGVtZW50LCByYXdTbG90VmFsdWUsIGJlZm9yZU5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHROb2RlID0gaXNQcm9qZWN0aW9uID8gdE5vZGUucHJvamVjdGlvbk5leHQgOiB0Tm9kZS5uZXh0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFwcGx5Vmlldyh0VmlldywgbFZpZXcsIHJlbmRlcmVyLCBhY3Rpb24sIHBhcmVudFJFbGVtZW50LCBiZWZvcmVOb2RlKSB7XG4gICAgYXBwbHlOb2RlcyhyZW5kZXJlciwgYWN0aW9uLCB0Vmlldy5maXJzdENoaWxkLCBsVmlldywgcGFyZW50UkVsZW1lbnQsIGJlZm9yZU5vZGUsIGZhbHNlKTtcbn1cbi8qKlxuICogYGFwcGx5UHJvamVjdGlvbmAgcGVyZm9ybXMgb3BlcmF0aW9uIG9uIHRoZSBwcm9qZWN0aW9uLlxuICpcbiAqIEluc2VydGluZyBhIHByb2plY3Rpb24gcmVxdWlyZXMgdXMgdG8gbG9jYXRlIHRoZSBwcm9qZWN0ZWQgbm9kZXMgZnJvbSB0aGUgcGFyZW50IGNvbXBvbmVudC4gVGhlXG4gKiBjb21wbGljYXRpb24gaXMgdGhhdCB0aG9zZSBub2RlcyB0aGVtc2VsdmVzIGNvdWxkIGJlIHJlLXByb2plY3RlZCBmcm9tIHRoZWlyIHBhcmVudCBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHRWaWV3IFRoZSBgVFZpZXdgIG9mIGBMVmlld2Agd2hpY2ggbmVlZHMgdG8gYmUgaW5zZXJ0ZWQsIGRldGFjaGVkLCBkZXN0cm95ZWRcbiAqIEBwYXJhbSBsVmlldyBUaGUgYExWaWV3YCB3aGljaCBuZWVkcyB0byBiZSBpbnNlcnRlZCwgZGV0YWNoZWQsIGRlc3Ryb3llZC5cbiAqIEBwYXJhbSB0UHJvamVjdGlvbk5vZGUgbm9kZSB0byBwcm9qZWN0XG4gKi9cbmZ1bmN0aW9uIGFwcGx5UHJvamVjdGlvbih0VmlldywgbFZpZXcsIHRQcm9qZWN0aW9uTm9kZSkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgIGNvbnN0IHBhcmVudFJOb2RlID0gZ2V0UGFyZW50UkVsZW1lbnQodFZpZXcsIHRQcm9qZWN0aW9uTm9kZSwgbFZpZXcpO1xuICAgIGNvbnN0IHBhcmVudFROb2RlID0gdFByb2plY3Rpb25Ob2RlLnBhcmVudCB8fCBsVmlld1tUX0hPU1RdO1xuICAgIGxldCBiZWZvcmVOb2RlID0gZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGUocGFyZW50VE5vZGUsIHRQcm9qZWN0aW9uTm9kZSwgbFZpZXcpO1xuICAgIGFwcGx5UHJvamVjdGlvblJlY3Vyc2l2ZShyZW5kZXJlciwgMCAvKiBDcmVhdGUgKi8sIGxWaWV3LCB0UHJvamVjdGlvbk5vZGUsIHBhcmVudFJOb2RlLCBiZWZvcmVOb2RlKTtcbn1cbi8qKlxuICogYGFwcGx5UHJvamVjdGlvblJlY3Vyc2l2ZWAgcGVyZm9ybXMgb3BlcmF0aW9uIG9uIHRoZSBwcm9qZWN0aW9uIHNwZWNpZmllZCBieSBgYWN0aW9uYCAoaW5zZXJ0LFxuICogZGV0YWNoLCBkZXN0cm95KVxuICpcbiAqIEluc2VydGluZyBhIHByb2plY3Rpb24gcmVxdWlyZXMgdXMgdG8gbG9jYXRlIHRoZSBwcm9qZWN0ZWQgbm9kZXMgZnJvbSB0aGUgcGFyZW50IGNvbXBvbmVudC4gVGhlXG4gKiBjb21wbGljYXRpb24gaXMgdGhhdCB0aG9zZSBub2RlcyB0aGVtc2VsdmVzIGNvdWxkIGJlIHJlLXByb2plY3RlZCBmcm9tIHRoZWlyIHBhcmVudCBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHJlbmRlcmVyIFJlbmRlciB0byB1c2VcbiAqIEBwYXJhbSBhY3Rpb24gYWN0aW9uIHRvIHBlcmZvcm0gKGluc2VydCwgZGV0YWNoLCBkZXN0cm95KVxuICogQHBhcmFtIGxWaWV3IFRoZSBMVmlldyB3aGljaCBuZWVkcyB0byBiZSBpbnNlcnRlZCwgZGV0YWNoZWQsIGRlc3Ryb3llZC5cbiAqIEBwYXJhbSB0UHJvamVjdGlvbk5vZGUgbm9kZSB0byBwcm9qZWN0XG4gKiBAcGFyYW0gcGFyZW50UkVsZW1lbnQgcGFyZW50IERPTSBlbGVtZW50IGZvciBpbnNlcnRpb24vcmVtb3ZhbC5cbiAqIEBwYXJhbSBiZWZvcmVOb2RlIEJlZm9yZSB3aGljaCBub2RlIHRoZSBpbnNlcnRpb25zIHNob3VsZCBoYXBwZW4uXG4gKi9cbmZ1bmN0aW9uIGFwcGx5UHJvamVjdGlvblJlY3Vyc2l2ZShyZW5kZXJlciwgYWN0aW9uLCBsVmlldywgdFByb2plY3Rpb25Ob2RlLCBwYXJlbnRSRWxlbWVudCwgYmVmb3JlTm9kZSkge1xuICAgIGNvbnN0IGNvbXBvbmVudExWaWV3ID0gbFZpZXdbREVDTEFSQVRJT05fQ09NUE9ORU5UX1ZJRVddO1xuICAgIGNvbnN0IGNvbXBvbmVudE5vZGUgPSBjb21wb25lbnRMVmlld1tUX0hPU1RdO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbCh0eXBlb2YgdFByb2plY3Rpb25Ob2RlLnByb2plY3Rpb24sICdudW1iZXInLCAnZXhwZWN0aW5nIHByb2plY3Rpb24gaW5kZXgnKTtcbiAgICBjb25zdCBub2RlVG9Qcm9qZWN0T3JSTm9kZXMgPSBjb21wb25lbnROb2RlLnByb2plY3Rpb25bdFByb2plY3Rpb25Ob2RlLnByb2plY3Rpb25dO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGVUb1Byb2plY3RPclJOb2RlcykpIHtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgbm90IGV4aXN0LCBpdCBpcyBhIGJpdCBvZiBhIGhhY2suIFdoZW4gd2UgYm9vdHN0cmFwIGEgdG9wIGxldmVsIG5vZGUgYW5kIHdlXG4gICAgICAgIC8vIG5lZWQgdG8gc3VwcG9ydCBwYXNzaW5nIHByb2plY3RhYmxlIG5vZGVzLCBzbyB3ZSBjaGVhdCBhbmQgcHV0IHRoZW0gaW4gdGhlIFROb2RlXG4gICAgICAgIC8vIG9mIHRoZSBIb3N0IFRWaWV3LiAoWWVzIHdlIHB1dCBpbnN0YW5jZSBpbmZvIGF0IHRoZSBUIExldmVsKS4gV2UgY2FuIGdldCBhd2F5IHdpdGggaXRcbiAgICAgICAgLy8gYmVjYXVzZSB3ZSBrbm93IHRoYXQgdGhhdCBUVmlldyBpcyBub3Qgc2hhcmVkIGFuZCB0aGVyZWZvcmUgaXQgd2lsbCBub3QgYmUgYSBwcm9ibGVtLlxuICAgICAgICAvLyBUaGlzIHNob3VsZCBiZSByZWZhY3RvcmVkIGFuZCBjbGVhbmVkIHVwLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVUb1Byb2plY3RPclJOb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgck5vZGUgPSBub2RlVG9Qcm9qZWN0T3JSTm9kZXNbaV07XG4gICAgICAgICAgICBhcHBseVRvRWxlbWVudE9yQ29udGFpbmVyKGFjdGlvbiwgcmVuZGVyZXIsIHBhcmVudFJFbGVtZW50LCByTm9kZSwgYmVmb3JlTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBub2RlVG9Qcm9qZWN0ID0gbm9kZVRvUHJvamVjdE9yUk5vZGVzO1xuICAgICAgICBjb25zdCBwcm9qZWN0ZWRDb21wb25lbnRMVmlldyA9IGNvbXBvbmVudExWaWV3W1BBUkVOVF07XG4gICAgICAgIGFwcGx5Tm9kZXMocmVuZGVyZXIsIGFjdGlvbiwgbm9kZVRvUHJvamVjdCwgcHJvamVjdGVkQ29tcG9uZW50TFZpZXcsIHBhcmVudFJFbGVtZW50LCBiZWZvcmVOb2RlLCB0cnVlKTtcbiAgICB9XG59XG4vKipcbiAqIGBhcHBseUNvbnRhaW5lcmAgcGVyZm9ybXMgYW4gb3BlcmF0aW9uIG9uIHRoZSBjb250YWluZXIgYW5kIGl0cyB2aWV3cyBhcyBzcGVjaWZpZWQgYnlcbiAqIGBhY3Rpb25gIChpbnNlcnQsIGRldGFjaCwgZGVzdHJveSlcbiAqXG4gKiBJbnNlcnRpbmcgYSBDb250YWluZXIgaXMgY29tcGxpY2F0ZWQgYnkgdGhlIGZhY3QgdGhhdCB0aGUgY29udGFpbmVyIG1heSBoYXZlIFZpZXdzIHdoaWNoXG4gKiB0aGVtc2VsdmVzIGhhdmUgY29udGFpbmVycyBvciBwcm9qZWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0gcmVuZGVyZXIgUmVuZGVyZXIgdG8gdXNlXG4gKiBAcGFyYW0gYWN0aW9uIGFjdGlvbiB0byBwZXJmb3JtIChpbnNlcnQsIGRldGFjaCwgZGVzdHJveSlcbiAqIEBwYXJhbSBsQ29udGFpbmVyIFRoZSBMQ29udGFpbmVyIHdoaWNoIG5lZWRzIHRvIGJlIGluc2VydGVkLCBkZXRhY2hlZCwgZGVzdHJveWVkLlxuICogQHBhcmFtIHBhcmVudFJFbGVtZW50IHBhcmVudCBET00gZWxlbWVudCBmb3IgaW5zZXJ0aW9uL3JlbW92YWwuXG4gKiBAcGFyYW0gYmVmb3JlTm9kZSBCZWZvcmUgd2hpY2ggbm9kZSB0aGUgaW5zZXJ0aW9ucyBzaG91bGQgaGFwcGVuLlxuICovXG5mdW5jdGlvbiBhcHBseUNvbnRhaW5lcihyZW5kZXJlciwgYWN0aW9uLCBsQ29udGFpbmVyLCBwYXJlbnRSRWxlbWVudCwgYmVmb3JlTm9kZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMQ29udGFpbmVyKGxDb250YWluZXIpO1xuICAgIGNvbnN0IGFuY2hvciA9IGxDb250YWluZXJbTkFUSVZFXTsgLy8gTENvbnRhaW5lciBoYXMgaXRzIG93biBiZWZvcmUgbm9kZS5cbiAgICBjb25zdCBuYXRpdmUgPSB1bndyYXBSTm9kZShsQ29udGFpbmVyKTtcbiAgICAvLyBBbiBMQ29udGFpbmVyIGNhbiBiZSBjcmVhdGVkIGR5bmFtaWNhbGx5IG9uIGFueSBub2RlIGJ5IGluamVjdGluZyBWaWV3Q29udGFpbmVyUmVmLlxuICAgIC8vIEFza2luZyBmb3IgYSBWaWV3Q29udGFpbmVyUmVmIG9uIGFuIGVsZW1lbnQgd2lsbCByZXN1bHQgaW4gYSBjcmVhdGlvbiBvZiBhIHNlcGFyYXRlIGFuY2hvclxuICAgIC8vIG5vZGUgKGNvbW1lbnQgaW4gdGhlIERPTSkgdGhhdCB3aWxsIGJlIGRpZmZlcmVudCBmcm9tIHRoZSBMQ29udGFpbmVyJ3MgaG9zdCBub2RlLiBJbiB0aGlzXG4gICAgLy8gcGFydGljdWxhciBjYXNlIHdlIG5lZWQgdG8gZXhlY3V0ZSBhY3Rpb24gb24gMiBub2RlczpcbiAgICAvLyAtIGNvbnRhaW5lcidzIGhvc3Qgbm9kZSAodGhpcyBpcyBkb25lIGluIHRoZSBleGVjdXRlQWN0aW9uT25FbGVtZW50T3JDb250YWluZXIpXG4gICAgLy8gLSBjb250YWluZXIncyBob3N0IG5vZGUgKHRoaXMgaXMgZG9uZSBoZXJlKVxuICAgIGlmIChhbmNob3IgIT09IG5hdGl2ZSkge1xuICAgICAgICAvLyBUaGlzIGlzIHZlcnkgc3RyYW5nZSB0byBtZSAoTWlza28pLiBJIHdvdWxkIGV4cGVjdCB0aGF0IHRoZSBuYXRpdmUgaXMgc2FtZSBhcyBhbmNob3IuIElcbiAgICAgICAgLy8gZG9uJ3Qgc2VlIGEgcmVhc29uIHdoeSB0aGV5IHNob3VsZCBiZSBkaWZmZXJlbnQsIGJ1dCB0aGV5IGFyZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgdGhleSBhcmUgd2UgbmVlZCB0byBwcm9jZXNzIHRoZSBzZWNvbmQgYW5jaG9yIGFzIHdlbGwuXG4gICAgICAgIGFwcGx5VG9FbGVtZW50T3JDb250YWluZXIoYWN0aW9uLCByZW5kZXJlciwgcGFyZW50UkVsZW1lbnQsIGFuY2hvciwgYmVmb3JlTm9kZSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSBDT05UQUlORVJfSEVBREVSX09GRlNFVDsgaSA8IGxDb250YWluZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbFZpZXcgPSBsQ29udGFpbmVyW2ldO1xuICAgICAgICBhcHBseVZpZXcobFZpZXdbVFZJRVddLCBsVmlldywgcmVuZGVyZXIsIGFjdGlvbiwgcGFyZW50UkVsZW1lbnQsIGFuY2hvcik7XG4gICAgfVxufVxuLyoqXG4gKiBXcml0ZXMgY2xhc3Mvc3R5bGUgdG8gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0gcmVuZGVyZXIgUmVuZGVyZXIgdG8gdXNlLlxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgaXQgc2hvdWxkIGJlIHdyaXR0ZW4gdG8gYGNsYXNzYCAoYGZhbHNlYCB0byB3cml0ZSB0byBgc3R5bGVgKVxuICogQHBhcmFtIHJOb2RlIFRoZSBOb2RlIHRvIHdyaXRlIHRvLlxuICogQHBhcmFtIHByb3AgUHJvcGVydHkgdG8gd3JpdGUgdG8uIFRoaXMgd291bGQgYmUgdGhlIGNsYXNzL3N0eWxlIG5hbWUuXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gd3JpdGUuIElmIGBudWxsYC9gdW5kZWZpbmVkYC9gZmFsc2VgIHRoaXMgaXMgY29uc2lkZXJlZCBhIHJlbW92ZSAoc2V0L2FkZFxuICogICAgICAgIG90aGVyd2lzZSkuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5U3R5bGluZyhyZW5kZXJlciwgaXNDbGFzc0Jhc2VkLCByTm9kZSwgcHJvcCwgdmFsdWUpIHtcbiAgICBjb25zdCBpc1Byb2NlZHVyYWwgPSBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcik7XG4gICAgaWYgKGlzQ2xhc3NCYXNlZCkge1xuICAgICAgICAvLyBXZSBhY3R1YWxseSB3YW50IEpTIHRydWUvZmFsc2UgaGVyZSBiZWNhdXNlIGFueSB0cnV0aHkgdmFsdWUgc2hvdWxkIGFkZCB0aGUgY2xhc3NcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclJlbW92ZUNsYXNzKys7XG4gICAgICAgICAgICBpZiAoaXNQcm9jZWR1cmFsKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIucmVtb3ZlQ2xhc3Mock5vZGUsIHByb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgck5vZGUuY2xhc3NMaXN0LnJlbW92ZShwcm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJBZGRDbGFzcysrO1xuICAgICAgICAgICAgaWYgKGlzUHJvY2VkdXJhbCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmFkZENsYXNzKHJOb2RlLCBwcm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHJOb2RlLmNsYXNzTGlzdCwgJ0hUTUxFbGVtZW50IGV4cGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgck5vZGUuY2xhc3NMaXN0LmFkZChwcm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IGZsYWdzID0gcHJvcC5pbmRleE9mKCctJykgPT09IC0xID8gdW5kZWZpbmVkIDogUmVuZGVyZXJTdHlsZUZsYWdzMi5EYXNoQ2FzZTtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwgLyoqIHx8IHZhbHVlID09PSB1bmRlZmluZWQgKi8pIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJSZW1vdmVTdHlsZSsrO1xuICAgICAgICAgICAgaWYgKGlzUHJvY2VkdXJhbCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnJlbW92ZVN0eWxlKHJOb2RlLCBwcm9wLCBmbGFncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByTm9kZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShwcm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEEgdmFsdWUgaXMgaW1wb3J0YW50IGlmIGl0IGVuZHMgd2l0aCBgIWltcG9ydGFudGAuIFRoZSBzdHlsZVxuICAgICAgICAgICAgLy8gcGFyc2VyIHN0cmlwcyBhbnkgc2VtaWNvbG9ucyBhdCB0aGUgZW5kIG9mIHRoZSB2YWx1ZS5cbiAgICAgICAgICAgIGNvbnN0IGlzSW1wb3J0YW50ID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlLmVuZHNXaXRoKCchaW1wb3J0YW50JykgOiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChpc0ltcG9ydGFudCkge1xuICAgICAgICAgICAgICAgIC8vICFpbXBvcnRhbnQgaGFzIHRvIGJlIHN0cmlwcGVkIGZyb20gdGhlIHZhbHVlIGZvciBpdCB0byBiZSB2YWxpZC5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDAsIC0xMCk7XG4gICAgICAgICAgICAgICAgZmxhZ3MgfD0gUmVuZGVyZXJTdHlsZUZsYWdzMi5JbXBvcnRhbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0U3R5bGUrKztcbiAgICAgICAgICAgIGlmIChpc1Byb2NlZHVyYWwpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5zZXRTdHlsZShyTm9kZSwgcHJvcCwgdmFsdWUsIGZsYWdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHJOb2RlLnN0eWxlLCAnSFRNTEVsZW1lbnQgZXhwZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICByTm9kZS5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wLCB2YWx1ZSwgaXNJbXBvcnRhbnQgPyAnaW1wb3J0YW50JyA6ICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogV3JpdGUgYGNzc1RleHRgIHRvIGBSRWxlbWVudGAuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBkb2VzIGRpcmVjdCB3cml0ZSB3aXRob3V0IGFueSByZWNvbmNpbGlhdGlvbi4gVXNlZCBmb3Igd3JpdGluZyBpbml0aWFsIHZhbHVlcywgc29cbiAqIHRoYXQgc3RhdGljIHN0eWxpbmcgdmFsdWVzIGRvIG5vdCBwdWxsIGluIHRoZSBzdHlsZSBwYXJzZXIuXG4gKlxuICogQHBhcmFtIHJlbmRlcmVyIFJlbmRlcmVyIHRvIHVzZVxuICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgd2hpY2ggbmVlZHMgdG8gYmUgdXBkYXRlZC5cbiAqIEBwYXJhbSBuZXdWYWx1ZSBUaGUgbmV3IGNsYXNzIGxpc3QgdG8gd3JpdGUuXG4gKi9cbmZ1bmN0aW9uIHdyaXRlRGlyZWN0U3R5bGUocmVuZGVyZXIsIGVsZW1lbnQsIG5ld1ZhbHVlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFN0cmluZyhuZXdWYWx1ZSwgJ1xcJ25ld1ZhbHVlXFwnIHNob3VsZCBiZSBhIHN0cmluZycpO1xuICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgcmVuZGVyZXIuc2V0QXR0cmlidXRlKGVsZW1lbnQsICdzdHlsZScsIG5ld1ZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IG5ld1ZhbHVlO1xuICAgIH1cbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0U3R5bGUrKztcbn1cbi8qKlxuICogV3JpdGUgYGNsYXNzTmFtZWAgdG8gYFJFbGVtZW50YC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGRvZXMgZGlyZWN0IHdyaXRlIHdpdGhvdXQgYW55IHJlY29uY2lsaWF0aW9uLiBVc2VkIGZvciB3cml0aW5nIGluaXRpYWwgdmFsdWVzLCBzb1xuICogdGhhdCBzdGF0aWMgc3R5bGluZyB2YWx1ZXMgZG8gbm90IHB1bGwgaW4gdGhlIHN0eWxlIHBhcnNlci5cbiAqXG4gKiBAcGFyYW0gcmVuZGVyZXIgUmVuZGVyZXIgdG8gdXNlXG4gKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB3aGljaCBuZWVkcyB0byBiZSB1cGRhdGVkLlxuICogQHBhcmFtIG5ld1ZhbHVlIFRoZSBuZXcgY2xhc3MgbGlzdCB0byB3cml0ZS5cbiAqL1xuZnVuY3Rpb24gd3JpdGVEaXJlY3RDbGFzcyhyZW5kZXJlciwgZWxlbWVudCwgbmV3VmFsdWUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0U3RyaW5nKG5ld1ZhbHVlLCAnXFwnbmV3VmFsdWVcXCcgc2hvdWxkIGJlIGEgc3RyaW5nJyk7XG4gICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICBpZiAobmV3VmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICAvLyBUaGVyZSBhcmUgdGVzdHMgaW4gYGdvb2dsZTNgIHdoaWNoIGV4cGVjdCBgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJylgIHRvIGJlIGBudWxsYC5cbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAnY2xhc3MnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNldEF0dHJpYnV0ZShlbGVtZW50LCAnY2xhc3MnLCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gbmV3VmFsdWU7XG4gICAgfVxuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJTZXRDbGFzc05hbWUrKztcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJldHVybnMgYW4gaW5kZXggb2YgYGNsYXNzVG9TZWFyY2hgIGluIGBjbGFzc05hbWVgIHRha2luZyB0b2tlbiBib3VuZGFyaWVzIGludG8gYWNjb3VudC5cbiAqXG4gKiBgY2xhc3NJbmRleE9mKCdBQiBBJywgJ0EnLCAwKWAgd2lsbCBiZSAzIChub3QgMCBzaW5jZSBgQUIhPT1BYClcbiAqXG4gKiBAcGFyYW0gY2xhc3NOYW1lIEEgc3RyaW5nIGNvbnRhaW5pbmcgY2xhc3NlcyAod2hpdGVzcGFjZSBzZXBhcmF0ZWQpXG4gKiBAcGFyYW0gY2xhc3NUb1NlYXJjaCBBIGNsYXNzIG5hbWUgdG8gbG9jYXRlXG4gKiBAcGFyYW0gc3RhcnRpbmdJbmRleCBTdGFydGluZyBsb2NhdGlvbiBvZiBzZWFyY2hcbiAqIEByZXR1cm5zIGFuIGluZGV4IG9mIHRoZSBsb2NhdGVkIGNsYXNzIChvciAtMSBpZiBub3QgZm91bmQpXG4gKi9cbmZ1bmN0aW9uIGNsYXNzSW5kZXhPZihjbGFzc05hbWUsIGNsYXNzVG9TZWFyY2gsIHN0YXJ0aW5nSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm90RXF1YWwoY2xhc3NUb1NlYXJjaCwgJycsICdjYW4gbm90IGxvb2sgZm9yIFwiXCIgc3RyaW5nLicpO1xuICAgIGxldCBlbmQgPSBjbGFzc05hbWUubGVuZ3RoO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IGZvdW5kSW5kZXggPSBjbGFzc05hbWUuaW5kZXhPZihjbGFzc1RvU2VhcmNoLCBzdGFydGluZ0luZGV4KTtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKVxuICAgICAgICAgICAgcmV0dXJuIGZvdW5kSW5kZXg7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ID09PSAwIHx8IGNsYXNzTmFtZS5jaGFyQ29kZUF0KGZvdW5kSW5kZXggLSAxKSA8PSAzMiAvKiBTUEFDRSAqLykge1xuICAgICAgICAgICAgLy8gRW5zdXJlIHRoYXQgaXQgaGFzIGxlYWRpbmcgd2hpdGVzcGFjZVxuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gY2xhc3NUb1NlYXJjaC5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZm91bmRJbmRleCArIGxlbmd0aCA9PT0gZW5kIHx8XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lLmNoYXJDb2RlQXQoZm91bmRJbmRleCArIGxlbmd0aCkgPD0gMzIgLyogU1BBQ0UgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgdGhhdCBpdCBoYXMgdHJhaWxpbmcgd2hpdGVzcGFjZVxuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZhbHNlIHBvc2l0aXZlLCBrZWVwIHNlYXJjaGluZyBmcm9tIHdoZXJlIHdlIGxlZnQgb2ZmLlxuICAgICAgICBzdGFydGluZ0luZGV4ID0gZm91bmRJbmRleCArIDE7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IHVudXNlZFZhbHVlVG9QbGFjYXRlQWpkJDEgPSB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ0ICsgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkMztcbmNvbnN0IE5HX1RFTVBMQVRFX1NFTEVDVE9SID0gJ25nLXRlbXBsYXRlJztcbi8qKlxuICogU2VhcmNoIHRoZSBgVEF0dHJpYnV0ZXNgIHRvIHNlZSBpZiBpdCBjb250YWlucyBgY3NzQ2xhc3NUb01hdGNoYCAoY2FzZSBpbnNlbnNpdGl2ZSlcbiAqXG4gKiBAcGFyYW0gYXR0cnMgYFRBdHRyaWJ1dGVzYCB0byBzZWFyY2ggdGhyb3VnaC5cbiAqIEBwYXJhbSBjc3NDbGFzc1RvTWF0Y2ggY2xhc3MgdG8gbWF0Y2ggKGxvd2VyY2FzZSlcbiAqIEBwYXJhbSBpc1Byb2plY3Rpb25Nb2RlIFdoZXRoZXIgb3Igbm90IGNsYXNzIG1hdGNoaW5nIHNob3VsZCBsb29rIGludG8gdGhlIGF0dHJpYnV0ZSBgY2xhc3NgIGluXG4gKiAgICBhZGRpdGlvbiB0byB0aGUgYEF0dHJpYnV0ZU1hcmtlci5DbGFzc2VzYC5cbiAqL1xuZnVuY3Rpb24gaXNDc3NDbGFzc01hdGNoaW5nKGF0dHJzLCBjc3NDbGFzc1RvTWF0Y2gsIGlzUHJvamVjdGlvbk1vZGUpIHtcbiAgICAvLyBUT0RPKG1pc2tvKTogVGhlIGZhY3QgdGhhdCB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGtub3cgYWJvdXQgYGlzUHJvamVjdGlvbk1vZGVgIHNlZW1zIHN1c3BlY3QuXG4gICAgLy8gSXQgaXMgc3RyYW5nZSB0byBtZSB0aGF0IHNvbWV0aW1lcyB0aGUgY2xhc3MgaW5mb3JtYXRpb24gY29tZXMgaW4gZm9ybSBvZiBgY2xhc3NgIGF0dHJpYnV0ZVxuICAgIC8vIGFuZCBzb21ldGltZXMgaW4gZm9ybSBvZiBgQXR0cmlidXRlTWFya2VyLkNsYXNzZXNgLiBTb21lIGludmVzdGlnYXRpb24gaXMgbmVlZGVkIHRvIGRldGVybWluZVxuICAgIC8vIGlmIHRoYXQgaXMgdGhlIHJpZ2h0IGJlaGF2aW9yLlxuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChjc3NDbGFzc1RvTWF0Y2gsIGNzc0NsYXNzVG9NYXRjaC50b0xvd2VyQ2FzZSgpLCAnQ2xhc3MgbmFtZSBleHBlY3RlZCB0byBiZSBsb3dlcmNhc2UuJyk7XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgYXR0cnMubGVuZ3RoKSB7XG4gICAgICAgIGxldCBpdGVtID0gYXR0cnNbaSsrXTtcbiAgICAgICAgaWYgKGlzUHJvamVjdGlvbk1vZGUgJiYgaXRlbSA9PT0gJ2NsYXNzJykge1xuICAgICAgICAgICAgaXRlbSA9IGF0dHJzW2ldO1xuICAgICAgICAgICAgaWYgKGNsYXNzSW5kZXhPZihpdGVtLnRvTG93ZXJDYXNlKCksIGNzc0NsYXNzVG9NYXRjaCwgMCkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXRlbSA9PT0gMSAvKiBDbGFzc2VzICovKSB7XG4gICAgICAgICAgICAvLyBXZSBmb3VuZCB0aGUgY2xhc3NlcyBzZWN0aW9uLiBTdGFydCBzZWFyY2hpbmcgZm9yIHRoZSBjbGFzcy5cbiAgICAgICAgICAgIHdoaWxlIChpIDwgYXR0cnMubGVuZ3RoICYmIHR5cGVvZiAoaXRlbSA9IGF0dHJzW2krK10pID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgLy8gd2hpbGUgd2UgaGF2ZSBzdHJpbmdzXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udG9Mb3dlckNhc2UoKSA9PT0gY3NzQ2xhc3NUb01hdGNoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSBgdE5vZGVgIHJlcHJlc2VudHMgYW4gaW5saW5lIHRlbXBsYXRlIChlLmcuIGAqbmdGb3JgKS5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgY3VycmVudCBUTm9kZVxuICovXG5mdW5jdGlvbiBpc0lubGluZVRlbXBsYXRlKHROb2RlKSB7XG4gICAgcmV0dXJuIHROb2RlLnR5cGUgPT09IDQgLyogQ29udGFpbmVyICovICYmIHROb2RlLnZhbHVlICE9PSBOR19URU1QTEFURV9TRUxFQ1RPUjtcbn1cbi8qKlxuICogRnVuY3Rpb24gdGhhdCBjaGVja3Mgd2hldGhlciBhIGdpdmVuIHROb2RlIG1hdGNoZXMgdGFnLWJhc2VkIHNlbGVjdG9yIGFuZCBoYXMgYSB2YWxpZCB0eXBlLlxuICpcbiAqIE1hdGNoaW5nIGNhbiBiZSBwZXJmb3JtZWQgaW4gMiBtb2RlczogcHJvamVjdGlvbiBtb2RlICh3aGVuIHdlIHByb2plY3Qgbm9kZXMpIGFuZCByZWd1bGFyXG4gKiBkaXJlY3RpdmUgbWF0Y2hpbmcgbW9kZTpcbiAqIC0gaW4gdGhlIFwiZGlyZWN0aXZlIG1hdGNoaW5nXCIgbW9kZSB3ZSBkbyBfbm90XyB0YWtlIFRDb250YWluZXIncyB0YWdOYW1lIGludG8gYWNjb3VudCBpZiBpdCBpc1xuICogZGlmZmVyZW50IGZyb20gTkdfVEVNUExBVEVfU0VMRUNUT1IgKHZhbHVlIGRpZmZlcmVudCBmcm9tIE5HX1RFTVBMQVRFX1NFTEVDVE9SIGluZGljYXRlcyB0aGF0IGFcbiAqIHRhZyBuYW1lIHdhcyBleHRyYWN0ZWQgZnJvbSAqIHN5bnRheCBzbyB3ZSB3b3VsZCBtYXRjaCB0aGUgc2FtZSBkaXJlY3RpdmUgdHdpY2UpO1xuICogLSBpbiB0aGUgXCJwcm9qZWN0aW9uXCIgbW9kZSwgd2UgdXNlIGEgdGFnIG5hbWUgcG90ZW50aWFsbHkgZXh0cmFjdGVkIGZyb20gdGhlICogc3ludGF4IHByb2Nlc3NpbmdcbiAqIChhcHBsaWNhYmxlIHRvIFROb2RlVHlwZS5Db250YWluZXIgb25seSkuXG4gKi9cbmZ1bmN0aW9uIGhhc1RhZ0FuZFR5cGVNYXRjaCh0Tm9kZSwgY3VycmVudFNlbGVjdG9yLCBpc1Byb2plY3Rpb25Nb2RlKSB7XG4gICAgY29uc3QgdGFnTmFtZVRvQ29tcGFyZSA9IHROb2RlLnR5cGUgPT09IDQgLyogQ29udGFpbmVyICovICYmICFpc1Byb2plY3Rpb25Nb2RlID8gTkdfVEVNUExBVEVfU0VMRUNUT1IgOiB0Tm9kZS52YWx1ZTtcbiAgICByZXR1cm4gY3VycmVudFNlbGVjdG9yID09PSB0YWdOYW1lVG9Db21wYXJlO1xufVxuLyoqXG4gKiBBIHV0aWxpdHkgZnVuY3Rpb24gdG8gbWF0Y2ggYW4gSXZ5IG5vZGUgc3RhdGljIGRhdGEgYWdhaW5zdCBhIHNpbXBsZSBDU1Mgc2VsZWN0b3JcbiAqXG4gKiBAcGFyYW0gbm9kZSBzdGF0aWMgZGF0YSBvZiB0aGUgbm9kZSB0byBtYXRjaFxuICogQHBhcmFtIHNlbGVjdG9yIFRoZSBzZWxlY3RvciB0byB0cnkgbWF0Y2hpbmcgYWdhaW5zdCB0aGUgbm9kZS5cbiAqIEBwYXJhbSBpc1Byb2plY3Rpb25Nb2RlIGlmIGB0cnVlYCB3ZSBhcmUgbWF0Y2hpbmcgZm9yIGNvbnRlbnQgcHJvamVjdGlvbiwgb3RoZXJ3aXNlIHdlIGFyZSBkb2luZ1xuICogZGlyZWN0aXZlIG1hdGNoaW5nLlxuICogQHJldHVybnMgdHJ1ZSBpZiBub2RlIG1hdGNoZXMgdGhlIHNlbGVjdG9yLlxuICovXG5mdW5jdGlvbiBpc05vZGVNYXRjaGluZ1NlbGVjdG9yKHROb2RlLCBzZWxlY3RvciwgaXNQcm9qZWN0aW9uTW9kZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHNlbGVjdG9yWzBdLCAnU2VsZWN0b3Igc2hvdWxkIGhhdmUgYSB0YWcgbmFtZScpO1xuICAgIGxldCBtb2RlID0gNCAvKiBFTEVNRU5UICovO1xuICAgIGNvbnN0IG5vZGVBdHRycyA9IHROb2RlLmF0dHJzIHx8IFtdO1xuICAgIC8vIEZpbmQgdGhlIGluZGV4IG9mIGZpcnN0IGF0dHJpYnV0ZSB0aGF0IGhhcyBubyB2YWx1ZSwgb25seSBhIG5hbWUuXG4gICAgY29uc3QgbmFtZU9ubHlNYXJrZXJJZHggPSBnZXROYW1lT25seU1hcmtlckluZGV4KG5vZGVBdHRycyk7XG4gICAgLy8gV2hlbiBwcm9jZXNzaW5nIFwiOm5vdFwiIHNlbGVjdG9ycywgd2Ugc2tpcCB0byB0aGUgbmV4dCBcIjpub3RcIiBpZiB0aGVcbiAgICAvLyBjdXJyZW50IG9uZSBkb2Vzbid0IG1hdGNoXG4gICAgbGV0IHNraXBUb05leHRTZWxlY3RvciA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0b3IubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHNlbGVjdG9yW2ldO1xuICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBmaW5pc2ggcHJvY2Vzc2luZyBhIDpub3Qgc2VsZWN0b3IgYW5kIGl0IGhhc24ndCBmYWlsZWQsIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgaWYgKCFza2lwVG9OZXh0U2VsZWN0b3IgJiYgIWlzUG9zaXRpdmUobW9kZSkgJiYgIWlzUG9zaXRpdmUoY3VycmVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgc2tpcHBpbmcgdG8gdGhlIG5leHQgOm5vdCgpIGFuZCB0aGlzIG1vZGUgZmxhZyBpcyBwb3NpdGl2ZSxcbiAgICAgICAgICAgIC8vIGl0J3MgYSBwYXJ0IG9mIHRoZSBjdXJyZW50IDpub3QoKSBzZWxlY3RvciwgYW5kIHdlIHNob3VsZCBrZWVwIHNraXBwaW5nXG4gICAgICAgICAgICBpZiAoc2tpcFRvTmV4dFNlbGVjdG9yICYmIGlzUG9zaXRpdmUoY3VycmVudCkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBza2lwVG9OZXh0U2VsZWN0b3IgPSBmYWxzZTtcbiAgICAgICAgICAgIG1vZGUgPSBjdXJyZW50IHwgKG1vZGUgJiAxIC8qIE5PVCAqLyk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2tpcFRvTmV4dFNlbGVjdG9yKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGlmIChtb2RlICYgNCAvKiBFTEVNRU5UICovKSB7XG4gICAgICAgICAgICBtb2RlID0gMiAvKiBBVFRSSUJVVEUgKi8gfCBtb2RlICYgMSAvKiBOT1QgKi87XG4gICAgICAgICAgICBpZiAoY3VycmVudCAhPT0gJycgJiYgIWhhc1RhZ0FuZFR5cGVNYXRjaCh0Tm9kZSwgY3VycmVudCwgaXNQcm9qZWN0aW9uTW9kZSkgfHxcbiAgICAgICAgICAgICAgICBjdXJyZW50ID09PSAnJyAmJiBzZWxlY3Rvci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNQb3NpdGl2ZShtb2RlKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIHNraXBUb05leHRTZWxlY3RvciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RvckF0dHJWYWx1ZSA9IG1vZGUgJiA4IC8qIENMQVNTICovID8gY3VycmVudCA6IHNlbGVjdG9yWysraV07XG4gICAgICAgICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIG1hdGNoaW5nIGFnYWluc3QgY2xhc3NlcyB3aGVuIGEgdE5vZGUgaGFzIGJlZW4gaW5zdGFudGlhdGVkIHdpdGhcbiAgICAgICAgICAgIC8vIGNsYXNzIGFuZCBzdHlsZSB2YWx1ZXMgYXMgc2VwYXJhdGUgYXR0cmlidXRlIHZhbHVlcyAoZS5nLiBbJ3RpdGxlJywgQ0xBU1MsICdmb28nXSlcbiAgICAgICAgICAgIGlmICgobW9kZSAmIDggLyogQ0xBU1MgKi8pICYmIHROb2RlLmF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0Nzc0NsYXNzTWF0Y2hpbmcodE5vZGUuYXR0cnMsIHNlbGVjdG9yQXR0clZhbHVlLCBpc1Byb2plY3Rpb25Nb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNQb3NpdGl2ZShtb2RlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFRvTmV4dFNlbGVjdG9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IChtb2RlICYgOCAvKiBDTEFTUyAqLykgPyAnY2xhc3MnIDogY3VycmVudDtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJJbmRleEluTm9kZSA9IGZpbmRBdHRySW5kZXhJbk5vZGUoYXR0ck5hbWUsIG5vZGVBdHRycywgaXNJbmxpbmVUZW1wbGF0ZSh0Tm9kZSksIGlzUHJvamVjdGlvbk1vZGUpO1xuICAgICAgICAgICAgaWYgKGF0dHJJbmRleEluTm9kZSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNQb3NpdGl2ZShtb2RlKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIHNraXBUb05leHRTZWxlY3RvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VsZWN0b3JBdHRyVmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5vZGVBdHRyVmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJJbmRleEluTm9kZSA+IG5hbWVPbmx5TWFya2VySWR4KSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVBdHRyVmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0Tm90RXF1YWwobm9kZUF0dHJzW2F0dHJJbmRleEluTm9kZV0sIDAgLyogTmFtZXNwYWNlVVJJICovLCAnV2UgZG8gbm90IG1hdGNoIGRpcmVjdGl2ZXMgb24gbmFtZXNwYWNlZCBhdHRyaWJ1dGVzJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGxvd2VyY2FzZSB0aGUgYXR0cmlidXRlIHZhbHVlIHRvIGJlIGFibGUgdG8gbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgLy8gc2VsZWN0b3JzIHdpdGhvdXQgY2FzZS1zZW5zaXRpdml0eVxuICAgICAgICAgICAgICAgICAgICAvLyAoc2VsZWN0b3JzIGFyZSBhbHJlYWR5IGluIGxvd2VyY2FzZSB3aGVuIGdlbmVyYXRlZClcbiAgICAgICAgICAgICAgICAgICAgbm9kZUF0dHJWYWx1ZSA9IG5vZGVBdHRyc1thdHRySW5kZXhJbk5vZGUgKyAxXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjb21wYXJlQWdhaW5zdENsYXNzTmFtZSA9IG1vZGUgJiA4IC8qIENMQVNTICovID8gbm9kZUF0dHJWYWx1ZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmVBZ2FpbnN0Q2xhc3NOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzSW5kZXhPZihjb21wYXJlQWdhaW5zdENsYXNzTmFtZSwgc2VsZWN0b3JBdHRyVmFsdWUsIDApICE9PSAtMSB8fFxuICAgICAgICAgICAgICAgICAgICBtb2RlICYgMiAvKiBBVFRSSUJVVEUgKi8gJiYgc2VsZWN0b3JBdHRyVmFsdWUgIT09IG5vZGVBdHRyVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUG9zaXRpdmUobW9kZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNraXBUb05leHRTZWxlY3RvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpc1Bvc2l0aXZlKG1vZGUpIHx8IHNraXBUb05leHRTZWxlY3Rvcjtcbn1cbmZ1bmN0aW9uIGlzUG9zaXRpdmUobW9kZSkge1xuICAgIHJldHVybiAobW9kZSAmIDEgLyogTk9UICovKSA9PT0gMDtcbn1cbi8qKlxuICogRXhhbWluZXMgdGhlIGF0dHJpYnV0ZSdzIGRlZmluaXRpb24gYXJyYXkgZm9yIGEgbm9kZSB0byBmaW5kIHRoZSBpbmRleCBvZiB0aGVcbiAqIGF0dHJpYnV0ZSB0aGF0IG1hdGNoZXMgdGhlIGdpdmVuIGBuYW1lYC5cbiAqXG4gKiBOT1RFOiBUaGlzIHdpbGwgbm90IG1hdGNoIG5hbWVzcGFjZWQgYXR0cmlidXRlcy5cbiAqXG4gKiBBdHRyaWJ1dGUgbWF0Y2hpbmcgZGVwZW5kcyB1cG9uIGBpc0lubGluZVRlbXBsYXRlYCBhbmQgYGlzUHJvamVjdGlvbk1vZGVgLlxuICogVGhlIGZvbGxvd2luZyB0YWJsZSBzdW1tYXJpemVzIHdoaWNoIHR5cGVzIG9mIGF0dHJpYnV0ZXMgd2UgYXR0ZW1wdCB0byBtYXRjaDpcbiAqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogTW9kZXMgICAgICAgICAgICAgICAgICAgfCBOb3JtYWwgQXR0cmlidXRlcyB8IEJpbmRpbmdzIEF0dHJpYnV0ZXMgfCBUZW1wbGF0ZSBBdHRyaWJ1dGVzIHwgSTE4blxuICogQXR0cmlidXRlc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIElubGluZSArIFByb2plY3Rpb24gICAgIHwgWUVTICAgICAgICAgICAgICAgfCBZRVMgICAgICAgICAgICAgICAgIHwgTk8gICAgICAgICAgICAgICAgICB8IFlFU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIElubGluZSArIERpcmVjdGl2ZSAgICAgIHwgTk8gICAgICAgICAgICAgICAgfCBOTyAgICAgICAgICAgICAgICAgIHwgWUVTICAgICAgICAgICAgICAgICB8IE5PXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogTm9uLWlubGluZSArIFByb2plY3Rpb24gfCBZRVMgICAgICAgICAgICAgICB8IFlFUyAgICAgICAgICAgICAgICAgfCBOTyAgICAgICAgICAgICAgICAgIHwgWUVTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogTm9uLWlubGluZSArIERpcmVjdGl2ZSAgfCBZRVMgICAgICAgICAgICAgICB8IFlFUyAgICAgICAgICAgICAgICAgfCBOTyAgICAgICAgICAgICAgICAgIHwgWUVTXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICpcbiAqIEBwYXJhbSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gZmluZFxuICogQHBhcmFtIGF0dHJzIHRoZSBhdHRyaWJ1dGUgYXJyYXkgdG8gZXhhbWluZVxuICogQHBhcmFtIGlzSW5saW5lVGVtcGxhdGUgdHJ1ZSBpZiB0aGUgbm9kZSBiZWluZyBtYXRjaGVkIGlzIGFuIGlubGluZSB0ZW1wbGF0ZSAoZS5nLiBgKm5nRm9yYClcbiAqIHJhdGhlciB0aGFuIGEgbWFudWFsbHkgZXhwYW5kZWQgdGVtcGxhdGUgbm9kZSAoZS5nIGA8bmctdGVtcGxhdGU+YCkuXG4gKiBAcGFyYW0gaXNQcm9qZWN0aW9uTW9kZSB0cnVlIGlmIHdlIGFyZSBtYXRjaGluZyBhZ2FpbnN0IGNvbnRlbnQgcHJvamVjdGlvbiBvdGhlcndpc2Ugd2UgYXJlXG4gKiBtYXRjaGluZyBhZ2FpbnN0IGRpcmVjdGl2ZXMuXG4gKi9cbmZ1bmN0aW9uIGZpbmRBdHRySW5kZXhJbk5vZGUobmFtZSwgYXR0cnMsIGlzSW5saW5lVGVtcGxhdGUsIGlzUHJvamVjdGlvbk1vZGUpIHtcbiAgICBpZiAoYXR0cnMgPT09IG51bGwpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICBsZXQgaSA9IDA7XG4gICAgaWYgKGlzUHJvamVjdGlvbk1vZGUgfHwgIWlzSW5saW5lVGVtcGxhdGUpIHtcbiAgICAgICAgbGV0IGJpbmRpbmdzTW9kZSA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAoaSA8IGF0dHJzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgbWF5YmVBdHRyTmFtZSA9IGF0dHJzW2ldO1xuICAgICAgICAgICAgaWYgKG1heWJlQXR0ck5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1heWJlQXR0ck5hbWUgPT09IDMgLyogQmluZGluZ3MgKi8gfHwgbWF5YmVBdHRyTmFtZSA9PT0gNiAvKiBJMThuICovKSB7XG4gICAgICAgICAgICAgICAgYmluZGluZ3NNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1heWJlQXR0ck5hbWUgPT09IDEgLyogQ2xhc3NlcyAqLyB8fCBtYXliZUF0dHJOYW1lID09PSAyIC8qIFN0eWxlcyAqLykge1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGF0dHJzWysraV07XG4gICAgICAgICAgICAgICAgLy8gV2Ugc2hvdWxkIHNraXAgY2xhc3NlcyBoZXJlIGJlY2F1c2Ugd2UgaGF2ZSBhIHNlcGFyYXRlIG1lY2hhbmlzbSBmb3JcbiAgICAgICAgICAgICAgICAvLyBtYXRjaGluZyBjbGFzc2VzIGluIHByb2plY3Rpb24gbW9kZS5cbiAgICAgICAgICAgICAgICB3aGlsZSAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGF0dHJzWysraV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWF5YmVBdHRyTmFtZSA9PT0gNCAvKiBUZW1wbGF0ZSAqLykge1xuICAgICAgICAgICAgICAgIC8vIFdlIGRvIG5vdCBjYXJlIGFib3V0IFRlbXBsYXRlIGF0dHJpYnV0ZXMgaW4gdGhpcyBzY2VuYXJpby5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1heWJlQXR0ck5hbWUgPT09IDAgLyogTmFtZXNwYWNlVVJJICovKSB7XG4gICAgICAgICAgICAgICAgLy8gU2tpcCB0aGUgd2hvbGUgbmFtZXNwYWNlZCBhdHRyaWJ1dGUgYW5kIHZhbHVlLiBUaGlzIGlzIGJ5IGRlc2lnbi5cbiAgICAgICAgICAgICAgICBpICs9IDQ7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJbiBiaW5kaW5nIG1vZGUgdGhlcmUgYXJlIG9ubHkgbmFtZXMsIHJhdGhlciB0aGFuIG5hbWUtdmFsdWUgcGFpcnMuXG4gICAgICAgICAgICBpICs9IGJpbmRpbmdzTW9kZSA/IDEgOiAyO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGRpZCBub3QgbWF0Y2ggdGhlIGF0dHJpYnV0ZVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbWF0Y2hUZW1wbGF0ZUF0dHJpYnV0ZShhdHRycywgbmFtZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNOb2RlTWF0Y2hpbmdTZWxlY3Rvckxpc3QodE5vZGUsIHNlbGVjdG9yLCBpc1Byb2plY3Rpb25Nb2RlID0gZmFsc2UpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdG9yLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpc05vZGVNYXRjaGluZ1NlbGVjdG9yKHROb2RlLCBzZWxlY3RvcltpXSwgaXNQcm9qZWN0aW9uTW9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldFByb2plY3RBc0F0dHJWYWx1ZSh0Tm9kZSkge1xuICAgIGNvbnN0IG5vZGVBdHRycyA9IHROb2RlLmF0dHJzO1xuICAgIGlmIChub2RlQXR0cnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBuZ1Byb2plY3RBc0F0dHJJZHggPSBub2RlQXR0cnMuaW5kZXhPZig1IC8qIFByb2plY3RBcyAqLyk7XG4gICAgICAgIC8vIG9ubHkgY2hlY2sgZm9yIG5nUHJvamVjdEFzIGluIGF0dHJpYnV0ZSBuYW1lcywgZG9uJ3QgYWNjaWRlbnRhbGx5IG1hdGNoIGF0dHJpYnV0ZSdzIHZhbHVlXG4gICAgICAgIC8vIChhdHRyaWJ1dGUgbmFtZXMgYXJlIHN0b3JlZCBhdCBldmVuIGluZGV4ZXMpXG4gICAgICAgIGlmICgobmdQcm9qZWN0QXNBdHRySWR4ICYgMSkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlQXR0cnNbbmdQcm9qZWN0QXNBdHRySWR4ICsgMV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBnZXROYW1lT25seU1hcmtlckluZGV4KG5vZGVBdHRycykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZUF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG5vZGVBdHRyID0gbm9kZUF0dHJzW2ldO1xuICAgICAgICBpZiAoaXNOYW1lT25seUF0dHJpYnV0ZU1hcmtlcihub2RlQXR0cikpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlQXR0cnMubGVuZ3RoO1xufVxuZnVuY3Rpb24gbWF0Y2hUZW1wbGF0ZUF0dHJpYnV0ZShhdHRycywgbmFtZSkge1xuICAgIGxldCBpID0gYXR0cnMuaW5kZXhPZig0IC8qIFRlbXBsYXRlICovKTtcbiAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgIGkrKztcbiAgICAgICAgd2hpbGUgKGkgPCBhdHRycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHIgPSBhdHRyc1tpXTtcbiAgICAgICAgICAgIC8vIFJldHVybiBpbiBjYXNlIHdlIGNoZWNrZWQgYWxsIHRlbXBsYXRlIGF0dHJzIGFuZCBhcmUgc3dpdGNoaW5nIHRvIHRoZSBuZXh0IHNlY3Rpb24gaW4gdGhlXG4gICAgICAgICAgICAvLyBhdHRycyBhcnJheSAodGhhdCBzdGFydHMgd2l0aCBhIG51bWJlciB0aGF0IHJlcHJlc2VudHMgYW4gYXR0cmlidXRlIG1hcmtlcikuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGF0dHIgPT09ICdudW1iZXInKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChhdHRyID09PSBuYW1lKVxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSBzZWxlY3RvciBpcyBpbnNpZGUgYSBDc3NTZWxlY3Rvckxpc3RcbiAqIEBwYXJhbSBzZWxlY3RvciBTZWxlY3RvciB0byBiZSBjaGVja2VkLlxuICogQHBhcmFtIGxpc3QgTGlzdCBpbiB3aGljaCB0byBsb29rIGZvciB0aGUgc2VsZWN0b3IuXG4gKi9cbmZ1bmN0aW9uIGlzU2VsZWN0b3JJblNlbGVjdG9yTGlzdChzZWxlY3RvciwgbGlzdCkge1xuICAgIHNlbGVjdG9yTGlzdExvb3A6IGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjdXJyZW50U2VsZWN0b3JJbkxpc3QgPSBsaXN0W2ldO1xuICAgICAgICBpZiAoc2VsZWN0b3IubGVuZ3RoICE9PSBjdXJyZW50U2VsZWN0b3JJbkxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNlbGVjdG9yLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0b3Jbal0gIT09IGN1cnJlbnRTZWxlY3RvckluTGlzdFtqXSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlIHNlbGVjdG9yTGlzdExvb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIG1heWJlV3JhcEluTm90U2VsZWN0b3IoaXNOZWdhdGl2ZU1vZGUsIGNodW5rKSB7XG4gICAgcmV0dXJuIGlzTmVnYXRpdmVNb2RlID8gJzpub3QoJyArIGNodW5rLnRyaW0oKSArICcpJyA6IGNodW5rO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5Q1NTU2VsZWN0b3Ioc2VsZWN0b3IpIHtcbiAgICBsZXQgcmVzdWx0ID0gc2VsZWN0b3JbMF07XG4gICAgbGV0IGkgPSAxO1xuICAgIGxldCBtb2RlID0gMiAvKiBBVFRSSUJVVEUgKi87XG4gICAgbGV0IGN1cnJlbnRDaHVuayA9ICcnO1xuICAgIGxldCBpc05lZ2F0aXZlTW9kZSA9IGZhbHNlO1xuICAgIHdoaWxlIChpIDwgc2VsZWN0b3IubGVuZ3RoKSB7XG4gICAgICAgIGxldCB2YWx1ZU9yTWFya2VyID0gc2VsZWN0b3JbaV07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWVPck1hcmtlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmIChtb2RlICYgMiAvKiBBVFRSSUJVVEUgKi8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyVmFsdWUgPSBzZWxlY3RvclsrK2ldO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDaHVuayArPVxuICAgICAgICAgICAgICAgICAgICAnWycgKyB2YWx1ZU9yTWFya2VyICsgKGF0dHJWYWx1ZS5sZW5ndGggPiAwID8gJz1cIicgKyBhdHRyVmFsdWUgKyAnXCInIDogJycpICsgJ10nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobW9kZSAmIDggLyogQ0xBU1MgKi8pIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2h1bmsgKz0gJy4nICsgdmFsdWVPck1hcmtlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgJiA0IC8qIEVMRU1FTlQgKi8pIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2h1bmsgKz0gJyAnICsgdmFsdWVPck1hcmtlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBBcHBlbmQgY3VycmVudCBjaHVuayB0byB0aGUgZmluYWwgcmVzdWx0IGluIGNhc2Ugd2UgY29tZSBhY3Jvc3MgU2VsZWN0b3JGbGFnLCB3aGljaFxuICAgICAgICAgICAgLy8gaW5kaWNhdGVzIHRoYXQgdGhlIHByZXZpb3VzIHNlY3Rpb24gb2YgYSBzZWxlY3RvciBpcyBvdmVyLiBXZSBuZWVkIHRvIGFjY3VtdWxhdGUgY29udGVudFxuICAgICAgICAgICAgLy8gYmV0d2VlbiBmbGFncyB0byBtYWtlIHN1cmUgd2Ugd3JhcCB0aGUgY2h1bmsgbGF0ZXIgaW4gOm5vdCgpIHNlbGVjdG9yIGlmIG5lZWRlZCwgZS5nLlxuICAgICAgICAgICAgLy8gYGBgXG4gICAgICAgICAgICAvLyAgWycnLCBGbGFncy5DTEFTUywgJy5jbGFzc0EnLCBGbGFncy5DTEFTUyB8IEZsYWdzLk5PVCwgJy5jbGFzc0InLCAnLmNsYXNzQyddXG4gICAgICAgICAgICAvLyBgYGBcbiAgICAgICAgICAgIC8vIHNob3VsZCBiZSB0cmFuc2Zvcm1lZCB0byBgLmNsYXNzQSA6bm90KC5jbGFzc0IgLmNsYXNzQylgLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIE5vdGU6IGZvciBuZWdhdGl2ZSBzZWxlY3RvciBwYXJ0LCB3ZSBhY2N1bXVsYXRlIGNvbnRlbnQgYmV0d2VlbiBmbGFncyB1bnRpbCB3ZSBmaW5kIHRoZVxuICAgICAgICAgICAgLy8gbmV4dCBuZWdhdGl2ZSBmbGFnLiBUaGlzIGlzIG5lZWRlZCB0byBzdXBwb3J0IGEgY2FzZSB3aGVyZSBgOm5vdCgpYCBydWxlIGNvbnRhaW5zIG1vcmUgdGhhblxuICAgICAgICAgICAgLy8gb25lIGNodW5rLCBlLmcuIHRoZSBmb2xsb3dpbmcgc2VsZWN0b3I6XG4gICAgICAgICAgICAvLyBgYGBcbiAgICAgICAgICAgIC8vICBbJycsIEZsYWdzLkVMRU1FTlQgfCBGbGFncy5OT1QsICdwJywgRmxhZ3MuQ0xBU1MsICdmb28nLCBGbGFncy5DTEFTUyB8IEZsYWdzLk5PVCwgJ2JhciddXG4gICAgICAgICAgICAvLyBgYGBcbiAgICAgICAgICAgIC8vIHNob3VsZCBiZSBzdHJpbmdpZmllZCB0byBgOm5vdChwLmZvbykgOm5vdCguYmFyKWBcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBpZiAoY3VycmVudENodW5rICE9PSAnJyAmJiAhaXNQb3NpdGl2ZSh2YWx1ZU9yTWFya2VyKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBtYXliZVdyYXBJbk5vdFNlbGVjdG9yKGlzTmVnYXRpdmVNb2RlLCBjdXJyZW50Q2h1bmspO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDaHVuayA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW9kZSA9IHZhbHVlT3JNYXJrZXI7XG4gICAgICAgICAgICAvLyBBY2NvcmRpbmcgdG8gQ3NzU2VsZWN0b3Igc3BlYywgb25jZSB3ZSBjb21lIGFjcm9zcyBgU2VsZWN0b3JGbGFncy5OT1RgIGZsYWcsIHRoZSBuZWdhdGl2ZVxuICAgICAgICAgICAgLy8gbW9kZSBpcyBtYWludGFpbmVkIGZvciByZW1haW5pbmcgY2h1bmtzIG9mIGEgc2VsZWN0b3IuXG4gICAgICAgICAgICBpc05lZ2F0aXZlTW9kZSA9IGlzTmVnYXRpdmVNb2RlIHx8ICFpc1Bvc2l0aXZlKG1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRDaHVuayAhPT0gJycpIHtcbiAgICAgICAgcmVzdWx0ICs9IG1heWJlV3JhcEluTm90U2VsZWN0b3IoaXNOZWdhdGl2ZU1vZGUsIGN1cnJlbnRDaHVuayk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgQ1NTIHNlbGVjdG9yIGluIHBhcnNlZCBmb3JtLlxuICpcbiAqIENvbXBvbmVudERlZiBhbmQgRGlyZWN0aXZlRGVmIGFyZSBnZW5lcmF0ZWQgd2l0aCB0aGUgc2VsZWN0b3IgaW4gcGFyc2VkIGZvcm0gdG8gYXZvaWQgZG9pbmdcbiAqIGFkZGl0aW9uYWwgcGFyc2luZyBhdCBydW50aW1lIChmb3IgZXhhbXBsZSwgZm9yIGRpcmVjdGl2ZSBtYXRjaGluZykuIEhvd2V2ZXIgaW4gc29tZSBjYXNlcyAoZm9yXG4gKiBleGFtcGxlLCB3aGlsZSBib290c3RyYXBwaW5nIGEgY29tcG9uZW50KSwgYSBzdHJpbmcgdmVyc2lvbiBvZiB0aGUgc2VsZWN0b3IgaXMgcmVxdWlyZWQgdG8gcXVlcnlcbiAqIGZvciB0aGUgaG9zdCBlbGVtZW50IG9uIHRoZSBwYWdlLiBUaGlzIGZ1bmN0aW9uIHRha2VzIHRoZSBwYXJzZWQgZm9ybSBvZiBhIHNlbGVjdG9yIGFuZCByZXR1cm5zXG4gKiBpdHMgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICpcbiAqIEBwYXJhbSBzZWxlY3Rvckxpc3Qgc2VsZWN0b3IgaW4gcGFyc2VkIGZvcm1cbiAqIEByZXR1cm5zIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIGdpdmVuIHNlbGVjdG9yXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeUNTU1NlbGVjdG9yTGlzdChzZWxlY3Rvckxpc3QpIHtcbiAgICByZXR1cm4gc2VsZWN0b3JMaXN0Lm1hcChzdHJpbmdpZnlDU1NTZWxlY3Rvcikuam9pbignLCcpO1xufVxuLyoqXG4gKiBFeHRyYWN0cyBhdHRyaWJ1dGVzIGFuZCBjbGFzc2VzIGluZm9ybWF0aW9uIGZyb20gYSBnaXZlbiBDU1Mgc2VsZWN0b3IuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHdoaWxlIGNyZWF0aW5nIGEgY29tcG9uZW50IGR5bmFtaWNhbGx5LiBJbiB0aGlzIGNhc2UsIHRoZSBob3N0IGVsZW1lbnRcbiAqICh0aGF0IGlzIGNyZWF0ZWQgZHluYW1pY2FsbHkpIHNob3VsZCBjb250YWluIGF0dHJpYnV0ZXMgYW5kIGNsYXNzZXMgc3BlY2lmaWVkIGluIGNvbXBvbmVudCdzIENTU1xuICogc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIHNlbGVjdG9yIENTUyBzZWxlY3RvciBpbiBwYXJzZWQgZm9ybSAoaW4gYSBmb3JtIG9mIGFycmF5KVxuICogQHJldHVybnMgb2JqZWN0IHdpdGggYGF0dHJzYCBhbmQgYGNsYXNzZXNgIGZpZWxkcyB0aGF0IGNvbnRhaW4gZXh0cmFjdGVkIGluZm9ybWF0aW9uXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RBdHRyc0FuZENsYXNzZXNGcm9tU2VsZWN0b3Ioc2VsZWN0b3IpIHtcbiAgICBjb25zdCBhdHRycyA9IFtdO1xuICAgIGNvbnN0IGNsYXNzZXMgPSBbXTtcbiAgICBsZXQgaSA9IDE7XG4gICAgbGV0IG1vZGUgPSAyIC8qIEFUVFJJQlVURSAqLztcbiAgICB3aGlsZSAoaSA8IHNlbGVjdG9yLmxlbmd0aCkge1xuICAgICAgICBsZXQgdmFsdWVPck1hcmtlciA9IHNlbGVjdG9yW2ldO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlT3JNYXJrZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gMiAvKiBBVFRSSUJVVEUgKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVPck1hcmtlciAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cnMucHVzaCh2YWx1ZU9yTWFya2VyLCBzZWxlY3RvclsrK2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtb2RlID09PSA4IC8qIENMQVNTICovKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKHZhbHVlT3JNYXJrZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQWNjb3JkaW5nIHRvIENzc1NlbGVjdG9yIHNwZWMsIG9uY2Ugd2UgY29tZSBhY3Jvc3MgYFNlbGVjdG9yRmxhZ3MuTk9UYCBmbGFnLCB0aGUgbmVnYXRpdmVcbiAgICAgICAgICAgIC8vIG1vZGUgaXMgbWFpbnRhaW5lZCBmb3IgcmVtYWluaW5nIGNodW5rcyBvZiBhIHNlbGVjdG9yLiBTaW5jZSBhdHRyaWJ1dGVzIGFuZCBjbGFzc2VzIGFyZVxuICAgICAgICAgICAgLy8gZXh0cmFjdGVkIG9ubHkgZm9yIFwicG9zaXRpdmVcIiBwYXJ0IG9mIHRoZSBzZWxlY3Rvciwgd2UgY2FuIHN0b3AgaGVyZS5cbiAgICAgICAgICAgIGlmICghaXNQb3NpdGl2ZShtb2RlKSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIG1vZGUgPSB2YWx1ZU9yTWFya2VyO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIHsgYXR0cnMsIGNsYXNzZXMgfTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKiogQSBzcGVjaWFsIHZhbHVlIHdoaWNoIGRlc2lnbmF0ZXMgdGhhdCBhIHZhbHVlIGhhcyBub3QgY2hhbmdlZC4gKi9cbmNvbnN0IE5PX0NIQU5HRSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID8geyBfX2JyYW5kX186ICdOT19DSEFOR0UnIH0gOiB7fTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFkdmFuY2VzIHRvIGFuIGVsZW1lbnQgZm9yIGxhdGVyIGJpbmRpbmcgaW5zdHJ1Y3Rpb25zLlxuICpcbiAqIFVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBpbnN0cnVjdGlvbnMgbGlrZSB7QGxpbmsgcHJvcGVydHl9IHRvIGFjdCBvbiBlbGVtZW50cyB3aXRoIHNwZWNpZmllZFxuICogaW5kaWNlcywgZm9yIGV4YW1wbGUgdGhvc2UgY3JlYXRlZCB3aXRoIHtAbGluayBlbGVtZW50fSBvciB7QGxpbmsgZWxlbWVudFN0YXJ0fS5cbiAqXG4gKiBgYGB0c1xuICogKHJmOiBSZW5kZXJGbGFncywgY3R4OiBhbnkpID0+IHtcbiAqICAgaWYgKHJmICYgMSkge1xuICogICAgIHRleHQoMCwgJ0hlbGxvJyk7XG4gKiAgICAgdGV4dCgxLCAnR29vZGJ5ZScpXG4gKiAgICAgZWxlbWVudCgyLCAnZGl2Jyk7XG4gKiAgIH1cbiAqICAgaWYgKHJmICYgMikge1xuICogICAgIGFkdmFuY2UoMik7IC8vIEFkdmFuY2UgdHdpY2UgdG8gdGhlIDxkaXY+LlxuICogICAgIHByb3BlcnR5KCd0aXRsZScsICd0ZXN0Jyk7XG4gKiAgIH1cbiAqICB9XG4gKiBgYGBcbiAqIEBwYXJhbSBkZWx0YSBOdW1iZXIgb2YgZWxlbWVudHMgdG8gYWR2YW5jZSBmb3J3YXJkcyBieS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1YWR2YW5jZShkZWx0YSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRHcmVhdGVyVGhhbihkZWx0YSwgMCwgJ0NhbiBvbmx5IGFkdmFuY2UgZm9yd2FyZCcpO1xuICAgIHNlbGVjdEluZGV4SW50ZXJuYWwoZ2V0VFZpZXcoKSwgZ2V0TFZpZXcoKSwgZ2V0U2VsZWN0ZWRJbmRleCgpICsgZGVsdGEsIGlzSW5DaGVja05vQ2hhbmdlc01vZGUoKSk7XG59XG5mdW5jdGlvbiBzZWxlY3RJbmRleEludGVybmFsKHRWaWV3LCBsVmlldywgaW5kZXgsIGNoZWNrTm9DaGFuZ2VzTW9kZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluRGVjbFJhbmdlKGxWaWV3LCBpbmRleCk7XG4gICAgLy8gRmx1c2ggdGhlIGluaXRpYWwgaG9va3MgZm9yIGVsZW1lbnRzIGluIHRoZSB2aWV3IHRoYXQgaGF2ZSBiZWVuIGFkZGVkIHVwIHRvIHRoaXMgcG9pbnQuXG4gICAgLy8gUEVSRiBXQVJOSU5HOiBkbyBOT1QgZXh0cmFjdCB0aGlzIHRvIGEgc2VwYXJhdGUgZnVuY3Rpb24gd2l0aG91dCBydW5uaW5nIGJlbmNobWFya3NcbiAgICBpZiAoIWNoZWNrTm9DaGFuZ2VzTW9kZSkge1xuICAgICAgICBjb25zdCBob29rc0luaXRQaGFzZUNvbXBsZXRlZCA9IChsVmlld1tGTEFHU10gJiAzIC8qIEluaXRQaGFzZVN0YXRlTWFzayAqLykgPT09IDMgLyogSW5pdFBoYXNlQ29tcGxldGVkICovO1xuICAgICAgICBpZiAoaG9va3NJbml0UGhhc2VDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZU9yZGVyQ2hlY2tIb29rcyA9IHRWaWV3LnByZU9yZGVyQ2hlY2tIb29rcztcbiAgICAgICAgICAgIGlmIChwcmVPcmRlckNoZWNrSG9va3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBleGVjdXRlQ2hlY2tIb29rcyhsVmlldywgcHJlT3JkZXJDaGVja0hvb2tzLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwcmVPcmRlckhvb2tzID0gdFZpZXcucHJlT3JkZXJIb29rcztcbiAgICAgICAgICAgIGlmIChwcmVPcmRlckhvb2tzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZXhlY3V0ZUluaXRBbmRDaGVja0hvb2tzKGxWaWV3LCBwcmVPcmRlckhvb2tzLCAwIC8qIE9uSW5pdEhvb2tzVG9CZVJ1biAqLywgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFdlIG11c3Qgc2V0IHRoZSBzZWxlY3RlZCBpbmRleCAqYWZ0ZXIqIHJ1bm5pbmcgdGhlIGhvb2tzLCBiZWNhdXNlIGhvb2tzIG1heSBoYXZlIHNpZGUtZWZmZWN0c1xuICAgIC8vIHRoYXQgY2F1c2Ugb3RoZXIgdGVtcGxhdGUgZnVuY3Rpb25zIHRvIHJ1biwgdGh1cyB1cGRhdGluZyB0aGUgc2VsZWN0ZWQgaW5kZXgsIHdoaWNoIGlzIGdsb2JhbFxuICAgIC8vIHN0YXRlLiBJZiB3ZSBydW4gYHNldFNlbGVjdGVkSW5kZXhgICpiZWZvcmUqIHdlIHJ1biB0aGUgaG9va3MsIGluIHNvbWUgY2FzZXMgdGhlIHNlbGVjdGVkIGluZGV4XG4gICAgLy8gd2lsbCBiZSBhbHRlcmVkIGJ5IHRoZSB0aW1lIHdlIGxlYXZlIHRoZSBgybXJtWFkdmFuY2VgIGluc3RydWN0aW9uLlxuICAgIHNldFNlbGVjdGVkSW5kZXgoaW5kZXgpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVEhJUyBGSUxFIENPTlRBSU5TIENPREUgV0hJQ0ggU0hPVUxEIEJFIFRSRUUgU0hBS0VOIEFORCBORVZFUiBDQUxMRUQgRlJPTSBQUk9EVUNUSU9OIENPREUhISFcbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGFuIGBBcnJheWAgY29uc3RydWN0aW9uIHdpdGggYSBnaXZlbiBuYW1lLiBUaGlzIGlzIHVzZWZ1bCB3aGVuXG4gKiBsb29raW5nIGZvciBtZW1vcnkgY29uc3VtcHRpb24gdG8gc2VlIHdoYXQgdGltZSBvZiBhcnJheSBpdCBpcy5cbiAqXG4gKlxuICogQHBhcmFtIG5hbWUgTmFtZSB0byBnaXZlIHRvIHRoZSBjb25zdHJ1Y3RvclxuICogQHJldHVybnMgQSBzdWJjbGFzcyBvZiBgQXJyYXlgIGlmIHBvc3NpYmxlLiBUaGlzIGNhbiBvbmx5IGJlIGRvbmUgaW5cbiAqICAgICAgICAgIGVudmlyb25tZW50cyB3aGljaCBzdXBwb3J0IGBjbGFzc2AgY29uc3RydWN0LlxuICovXG5mdW5jdGlvbiBjcmVhdGVOYW1lZEFycmF5VHlwZShuYW1lKSB7XG4gICAgLy8gVGhpcyBzaG91bGQgbmV2ZXIgYmUgY2FsbGVkIGluIHByb2QgbW9kZSwgc28gbGV0J3MgdmVyaWZ5IHRoYXQgaXMgdGhlIGNhc2UuXG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gSWYgdGhpcyBmdW5jdGlvbiB3ZXJlIGNvbXByb21pc2VkIHRoZSBmb2xsb3dpbmcgY291bGQgbGVhZCB0byBhcmJpdHJhcnlcbiAgICAgICAgICAgIC8vIHNjcmlwdCBleGVjdXRpb24uIFdlIGJsZXNzIGl0IHdpdGggVHJ1c3RlZCBUeXBlcyBhbnl3YXkgc2luY2UgdGhpc1xuICAgICAgICAgICAgLy8gZnVuY3Rpb24gaXMgc3RyaXBwZWQgb3V0IG9mIHByb2R1Y3Rpb24gYmluYXJpZXMuXG4gICAgICAgICAgICByZXR1cm4gKG5ld1RydXN0ZWRGdW5jdGlvbkZvckRldignQXJyYXknLCBgcmV0dXJuIGNsYXNzICR7bmFtZX0gZXh0ZW5kcyBBcnJheXt9YCkpKEFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gSWYgaXQgZG9lcyBub3Qgd29yayBqdXN0IGdpdmUgdXAgYW5kIGZhbGwgYmFjayB0byByZWd1bGFyIEFycmF5LlxuICAgICAgICAgICAgcmV0dXJuIEFycmF5O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xvb2tzIGxpa2Ugd2UgYXJlIGluIFxcJ3Byb2QgbW9kZVxcJywgYnV0IHdlIGFyZSBjcmVhdGluZyBhIG5hbWVkIEFycmF5IHR5cGUsIHdoaWNoIGlzIHdyb25nISBDaGVjayB5b3VyIGNvZGUnKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gdG9UU3R5bGluZ1JhbmdlKHByZXYsIG5leHQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVySW5SYW5nZShwcmV2LCAwLCAzMjc2NyAvKiBVTlNJR05FRF9NQVNLICovKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVySW5SYW5nZShuZXh0LCAwLCAzMjc2NyAvKiBVTlNJR05FRF9NQVNLICovKTtcbiAgICByZXR1cm4gKHByZXYgPDwgMTcgLyogUFJFVl9TSElGVCAqLyB8IG5leHQgPDwgMiAvKiBORVhUX1NISUZUICovKTtcbn1cbmZ1bmN0aW9uIGdldFRTdHlsaW5nUmFuZ2VQcmV2KHRTdHlsaW5nUmFuZ2UpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKHRTdHlsaW5nUmFuZ2UsICdleHBlY3RlZCBudW1iZXInKTtcbiAgICByZXR1cm4gKHRTdHlsaW5nUmFuZ2UgPj4gMTcgLyogUFJFVl9TSElGVCAqLykgJiAzMjc2NyAvKiBVTlNJR05FRF9NQVNLICovO1xufVxuZnVuY3Rpb24gZ2V0VFN0eWxpbmdSYW5nZVByZXZEdXBsaWNhdGUodFN0eWxpbmdSYW5nZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIodFN0eWxpbmdSYW5nZSwgJ2V4cGVjdGVkIG51bWJlcicpO1xuICAgIHJldHVybiAodFN0eWxpbmdSYW5nZSAmIDIgLyogUFJFVl9EVVBMSUNBVEUgKi8pID09XG4gICAgICAgIDIgLyogUFJFVl9EVVBMSUNBVEUgKi87XG59XG5mdW5jdGlvbiBzZXRUU3R5bGluZ1JhbmdlUHJldih0U3R5bGluZ1JhbmdlLCBwcmV2aW91cykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIodFN0eWxpbmdSYW5nZSwgJ2V4cGVjdGVkIG51bWJlcicpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXJJblJhbmdlKHByZXZpb3VzLCAwLCAzMjc2NyAvKiBVTlNJR05FRF9NQVNLICovKTtcbiAgICByZXR1cm4gKCh0U3R5bGluZ1JhbmdlICYgfjQyOTQ4MzYyMjQgLyogUFJFVl9NQVNLICovKSB8XG4gICAgICAgIChwcmV2aW91cyA8PCAxNyAvKiBQUkVWX1NISUZUICovKSk7XG59XG5mdW5jdGlvbiBzZXRUU3R5bGluZ1JhbmdlUHJldkR1cGxpY2F0ZSh0U3R5bGluZ1JhbmdlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcih0U3R5bGluZ1JhbmdlLCAnZXhwZWN0ZWQgbnVtYmVyJyk7XG4gICAgcmV0dXJuICh0U3R5bGluZ1JhbmdlIHwgMiAvKiBQUkVWX0RVUExJQ0FURSAqLyk7XG59XG5mdW5jdGlvbiBnZXRUU3R5bGluZ1JhbmdlTmV4dCh0U3R5bGluZ1JhbmdlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcih0U3R5bGluZ1JhbmdlLCAnZXhwZWN0ZWQgbnVtYmVyJyk7XG4gICAgcmV0dXJuICh0U3R5bGluZ1JhbmdlICYgMTMxMDY4IC8qIE5FWFRfTUFTSyAqLykgPj4gMiAvKiBORVhUX1NISUZUICovO1xufVxuZnVuY3Rpb24gc2V0VFN0eWxpbmdSYW5nZU5leHQodFN0eWxpbmdSYW5nZSwgbmV4dCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXIodFN0eWxpbmdSYW5nZSwgJ2V4cGVjdGVkIG51bWJlcicpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROdW1iZXJJblJhbmdlKG5leHQsIDAsIDMyNzY3IC8qIFVOU0lHTkVEX01BU0sgKi8pO1xuICAgIHJldHVybiAoKHRTdHlsaW5nUmFuZ2UgJiB+MTMxMDY4IC8qIE5FWFRfTUFTSyAqLykgfCAvL1xuICAgICAgICBuZXh0IDw8IDIgLyogTkVYVF9TSElGVCAqLyk7XG59XG5mdW5jdGlvbiBnZXRUU3R5bGluZ1JhbmdlTmV4dER1cGxpY2F0ZSh0U3R5bGluZ1JhbmdlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcih0U3R5bGluZ1JhbmdlLCAnZXhwZWN0ZWQgbnVtYmVyJyk7XG4gICAgcmV0dXJuICh0U3R5bGluZ1JhbmdlICYgMSAvKiBORVhUX0RVUExJQ0FURSAqLykgPT09XG4gICAgICAgIDEgLyogTkVYVF9EVVBMSUNBVEUgKi87XG59XG5mdW5jdGlvbiBzZXRUU3R5bGluZ1JhbmdlTmV4dER1cGxpY2F0ZSh0U3R5bGluZ1JhbmdlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcih0U3R5bGluZ1JhbmdlLCAnZXhwZWN0ZWQgbnVtYmVyJyk7XG4gICAgcmV0dXJuICh0U3R5bGluZ1JhbmdlIHwgMSAvKiBORVhUX0RVUExJQ0FURSAqLyk7XG59XG5mdW5jdGlvbiBnZXRUU3R5bGluZ1JhbmdlVGFpbCh0U3R5bGluZ1JhbmdlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcih0U3R5bGluZ1JhbmdlLCAnZXhwZWN0ZWQgbnVtYmVyJyk7XG4gICAgY29uc3QgbmV4dCA9IGdldFRTdHlsaW5nUmFuZ2VOZXh0KHRTdHlsaW5nUmFuZ2UpO1xuICAgIHJldHVybiBuZXh0ID09PSAwID8gZ2V0VFN0eWxpbmdSYW5nZVByZXYodFN0eWxpbmdSYW5nZSkgOiBuZXh0O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUGF0Y2ggYSBgZGVidWdgIHByb3BlcnR5IG9uIHRvcCBvZiB0aGUgZXhpc3Rpbmcgb2JqZWN0LlxuICpcbiAqIE5PVEU6IGFsd2F5cyBjYWxsIHRoaXMgbWV0aG9kIHdpdGggYG5nRGV2TW9kZSAmJiBhdHRhY2hEZWJ1Z09iamVjdCguLi4pYFxuICpcbiAqIEBwYXJhbSBvYmogT2JqZWN0IHRvIHBhdGNoXG4gKiBAcGFyYW0gZGVidWcgVmFsdWUgdG8gcGF0Y2hcbiAqL1xuZnVuY3Rpb24gYXR0YWNoRGVidWdPYmplY3Qob2JqLCBkZWJ1Zykge1xuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgJ2RlYnVnJywgeyB2YWx1ZTogZGVidWcsIGVudW1lcmFibGU6IGZhbHNlIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIG1ldGhvZCBzaG91bGQgYmUgZ3VhcmRlZCB3aXRoIGBuZ0Rldk1vZGVgIHNvIHRoYXQgaXQgY2FuIGJlIHRyZWUgc2hha2VuIGluIHByb2R1Y3Rpb24hJyk7XG4gICAgfVxufVxuLyoqXG4gKiBQYXRjaCBhIGBkZWJ1Z2AgcHJvcGVydHkgZ2V0dGVyIG9uIHRvcCBvZiB0aGUgZXhpc3Rpbmcgb2JqZWN0LlxuICpcbiAqIE5PVEU6IGFsd2F5cyBjYWxsIHRoaXMgbWV0aG9kIHdpdGggYG5nRGV2TW9kZSAmJiBhdHRhY2hEZWJ1Z09iamVjdCguLi4pYFxuICpcbiAqIEBwYXJhbSBvYmogT2JqZWN0IHRvIHBhdGNoXG4gKiBAcGFyYW0gZGVidWdHZXR0ZXIgR2V0dGVyIHJldHVybmluZyBhIHZhbHVlIHRvIHBhdGNoXG4gKi9cbmZ1bmN0aW9uIGF0dGFjaERlYnVnR2V0dGVyKG9iaiwgZGVidWdHZXR0ZXIpIHtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICdkZWJ1ZycsIHsgZ2V0OiBkZWJ1Z0dldHRlciwgZW51bWVyYWJsZTogZmFsc2UgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgbWV0aG9kIHNob3VsZCBiZSBndWFyZGVkIHdpdGggYG5nRGV2TW9kZWAgc28gdGhhdCBpdCBjYW4gYmUgdHJlZSBzaGFrZW4gaW4gcHJvZHVjdGlvbiEnKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLypcbiAqIFRoaXMgZmlsZSBjb250YWlucyBjb25kaXRpb25hbGx5IGF0dGFjaGVkIGNsYXNzZXMgd2hpY2ggcHJvdmlkZSBodW1hbiByZWFkYWJsZSAoZGVidWcpIGxldmVsXG4gKiBpbmZvcm1hdGlvbiBmb3IgYExWaWV3YCwgYExDb250YWluZXJgIGFuZCBvdGhlciBpbnRlcm5hbCBkYXRhIHN0cnVjdHVyZXMuIFRoZXNlIGRhdGEgc3RydWN0dXJlc1xuICogYXJlIHN0b3JlZCBpbnRlcm5hbGx5IGFzIGFycmF5IHdoaWNoIG1ha2VzIGl0IHZlcnkgZGlmZmljdWx0IGR1cmluZyBkZWJ1Z2dpbmcgdG8gcmVhc29uIGFib3V0IHRoZVxuICogY3VycmVudCBzdGF0ZSBvZiB0aGUgc3lzdGVtLlxuICpcbiAqIFBhdGNoaW5nIHRoZSBhcnJheSB3aXRoIGV4dHJhIHByb3BlcnR5IGRvZXMgY2hhbmdlIHRoZSBhcnJheSdzIGhpZGRlbiBjbGFzcycgYnV0IGl0IGRvZXMgbm90XG4gKiBjaGFuZ2UgdGhlIGNvc3Qgb2YgYWNjZXNzLCB0aGVyZWZvcmUgdGhpcyBwYXRjaGluZyBzaG91bGQgbm90IGhhdmUgc2lnbmlmaWNhbnQgaWYgYW55IGltcGFjdCBpblxuICogYG5nRGV2TW9kZWAgbW9kZS4gKHNlZTogaHR0cHM6Ly9qc3BlcmYuY29tL2FycmF5LXZzLW1vbmtleS1wYXRjaC1hcnJheSlcbiAqXG4gKiBTbyBpbnN0ZWFkIG9mIHNlZWluZzpcbiAqIGBgYFxuICogQXJyYXkoMzApIFtPYmplY3QsIDY1OSwgbnVsbCwg4oCmXVxuICogYGBgXG4gKlxuICogWW91IGdldCB0byBzZWU6XG4gKiBgYGBcbiAqIExWaWV3RGVidWcge1xuICogICB2aWV3czogWy4uLl0sXG4gKiAgIGZsYWdzOiB7YXR0YWNoZWQ6IHRydWUsIC4uLn1cbiAqICAgbm9kZXM6IFtcbiAqICAgICB7aHRtbDogJzxkaXYgaWQ9XCIxMjNcIj4nLCAuLi4sIG5vZGVzOiBbXG4gKiAgICAgICB7aHRtbDogJzxzcGFuPicsIC4uLiwgbm9kZXM6IG51bGx9XG4gKiAgICAgXX1cbiAqICAgXVxuICogfVxuICogYGBgXG4gKi9cbmxldCBMVklFV19DT01QT05FTlRfQ0FDSEU7XG5sZXQgTFZJRVdfRU1CRURERURfQ0FDSEU7XG5sZXQgTFZJRVdfUk9PVDtcbmxldCBMVklFV19DT01QT05FTlQ7XG5sZXQgTFZJRVdfRU1CRURERUQ7XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2xvbmVzIGEgYmx1ZXByaW50IGFuZCBjcmVhdGVzIExWaWV3LlxuICpcbiAqIFNpbXBsZSBzbGljZSB3aWxsIGtlZXAgdGhlIHNhbWUgdHlwZSwgYW5kIHdlIG5lZWQgaXQgdG8gYmUgTFZpZXdcbiAqL1xuZnVuY3Rpb24gY2xvbmVUb0xWaWV3RnJvbVRWaWV3Qmx1ZXByaW50KHRWaWV3KSB7XG4gICAgY29uc3QgZGVidWdUVmlldyA9IHRWaWV3O1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXdUb0Nsb25lKGRlYnVnVFZpZXcudHlwZSwgdFZpZXcudGVtcGxhdGUgJiYgdFZpZXcudGVtcGxhdGUubmFtZSk7XG4gICAgcmV0dXJuIGxWaWV3LmNvbmNhdCh0Vmlldy5ibHVlcHJpbnQpO1xufVxuY2xhc3MgTFJvb3RWaWV3IGV4dGVuZHMgQXJyYXkge1xufVxuY2xhc3MgTENvbXBvbmVudFZpZXcgZXh0ZW5kcyBBcnJheSB7XG59XG5jbGFzcyBMRW1iZWRkZWRWaWV3IGV4dGVuZHMgQXJyYXkge1xufVxuZnVuY3Rpb24gZ2V0TFZpZXdUb0Nsb25lKHR5cGUsIG5hbWUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAwIC8qIFJvb3QgKi86XG4gICAgICAgICAgICBpZiAoTFZJRVdfUk9PVCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIExWSUVXX1JPT1QgPSBuZXcgTFJvb3RWaWV3KCk7XG4gICAgICAgICAgICByZXR1cm4gTFZJRVdfUk9PVDtcbiAgICAgICAgY2FzZSAxIC8qIENvbXBvbmVudCAqLzpcbiAgICAgICAgICAgIGlmICghbmdEZXZNb2RlIHx8ICFuZ0Rldk1vZGUubmFtZWRDb25zdHJ1Y3RvcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoTFZJRVdfQ09NUE9ORU5UID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIExWSUVXX0NPTVBPTkVOVCA9IG5ldyBMQ29tcG9uZW50VmlldygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBMVklFV19DT01QT05FTlQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTFZJRVdfQ09NUE9ORU5UX0NBQ0hFID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgTFZJRVdfQ09NUE9ORU5UX0NBQ0hFID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgbGV0IGNvbXBvbmVudEFycmF5ID0gTFZJRVdfQ09NUE9ORU5UX0NBQ0hFLmdldChuYW1lKTtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnRBcnJheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50QXJyYXkgPSBuZXcgKGNyZWF0ZU5hbWVkQXJyYXlUeXBlKCdMQ29tcG9uZW50VmlldycgKyBuYW1lU3VmZml4KG5hbWUpKSkoKTtcbiAgICAgICAgICAgICAgICBMVklFV19DT01QT05FTlRfQ0FDSEUuc2V0KG5hbWUsIGNvbXBvbmVudEFycmF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnRBcnJheTtcbiAgICAgICAgY2FzZSAyIC8qIEVtYmVkZGVkICovOlxuICAgICAgICAgICAgaWYgKCFuZ0Rldk1vZGUgfHwgIW5nRGV2TW9kZS5uYW1lZENvbnN0cnVjdG9ycykge1xuICAgICAgICAgICAgICAgIGlmIChMVklFV19FTUJFRERFRCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICBMVklFV19FTUJFRERFRCA9IG5ldyBMRW1iZWRkZWRWaWV3KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIExWSUVXX0VNQkVEREVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKExWSUVXX0VNQkVEREVEX0NBQ0hFID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgTFZJRVdfRU1CRURERURfQ0FDSEUgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICBsZXQgZW1iZWRkZWRBcnJheSA9IExWSUVXX0VNQkVEREVEX0NBQ0hFLmdldChuYW1lKTtcbiAgICAgICAgICAgIGlmIChlbWJlZGRlZEFycmF5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBlbWJlZGRlZEFycmF5ID0gbmV3IChjcmVhdGVOYW1lZEFycmF5VHlwZSgnTEVtYmVkZGVkVmlldycgKyBuYW1lU3VmZml4KG5hbWUpKSkoKTtcbiAgICAgICAgICAgICAgICBMVklFV19FTUJFRERFRF9DQUNIRS5zZXQobmFtZSwgZW1iZWRkZWRBcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZW1iZWRkZWRBcnJheTtcbiAgICB9XG59XG5mdW5jdGlvbiBuYW1lU3VmZml4KHRleHQpIHtcbiAgICBpZiAodGV4dCA9PSBudWxsKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgY29uc3QgaW5kZXggPSB0ZXh0Lmxhc3RJbmRleE9mKCdfVGVtcGxhdGUnKTtcbiAgICByZXR1cm4gJ18nICsgKGluZGV4ID09PSAtMSA/IHRleHQgOiB0ZXh0LnN1YnN0cigwLCBpbmRleCkpO1xufVxuLyoqXG4gKiBUaGlzIGNsYXNzIGlzIGEgZGVidWcgdmVyc2lvbiBvZiBPYmplY3QgbGl0ZXJhbCBzbyB0aGF0IHdlIGNhbiBoYXZlIGNvbnN0cnVjdG9yIG5hbWUgc2hvdyB1cFxuICogaW5cbiAqIGRlYnVnIHRvb2xzIGluIG5nRGV2TW9kZS5cbiAqL1xuY29uc3QgVFZpZXdDb25zdHJ1Y3RvciA9IGNsYXNzIFRWaWV3IHtcbiAgICBjb25zdHJ1Y3Rvcih0eXBlLCBibHVlcHJpbnQsIHRlbXBsYXRlLCBxdWVyaWVzLCB2aWV3UXVlcnksIGRlY2xUTm9kZSwgZGF0YSwgYmluZGluZ1N0YXJ0SW5kZXgsIGV4cGFuZG9TdGFydEluZGV4LCBob3N0QmluZGluZ09wQ29kZXMsIGZpcnN0Q3JlYXRlUGFzcywgZmlyc3RVcGRhdGVQYXNzLCBzdGF0aWNWaWV3UXVlcmllcywgc3RhdGljQ29udGVudFF1ZXJpZXMsIHByZU9yZGVySG9va3MsIHByZU9yZGVyQ2hlY2tIb29rcywgY29udGVudEhvb2tzLCBjb250ZW50Q2hlY2tIb29rcywgdmlld0hvb2tzLCB2aWV3Q2hlY2tIb29rcywgZGVzdHJveUhvb2tzLCBjbGVhbnVwLCBjb250ZW50UXVlcmllcywgY29tcG9uZW50cywgZGlyZWN0aXZlUmVnaXN0cnksIHBpcGVSZWdpc3RyeSwgZmlyc3RDaGlsZCwgc2NoZW1hcywgY29uc3RzLCBpbmNvbXBsZXRlRmlyc3RQYXNzLCBfZGVjbHMsIF92YXJzKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuYmx1ZXByaW50ID0gYmx1ZXByaW50O1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAgIHRoaXMucXVlcmllcyA9IHF1ZXJpZXM7XG4gICAgICAgIHRoaXMudmlld1F1ZXJ5ID0gdmlld1F1ZXJ5O1xuICAgICAgICB0aGlzLmRlY2xUTm9kZSA9IGRlY2xUTm9kZTtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5iaW5kaW5nU3RhcnRJbmRleCA9IGJpbmRpbmdTdGFydEluZGV4O1xuICAgICAgICB0aGlzLmV4cGFuZG9TdGFydEluZGV4ID0gZXhwYW5kb1N0YXJ0SW5kZXg7XG4gICAgICAgIHRoaXMuaG9zdEJpbmRpbmdPcENvZGVzID0gaG9zdEJpbmRpbmdPcENvZGVzO1xuICAgICAgICB0aGlzLmZpcnN0Q3JlYXRlUGFzcyA9IGZpcnN0Q3JlYXRlUGFzcztcbiAgICAgICAgdGhpcy5maXJzdFVwZGF0ZVBhc3MgPSBmaXJzdFVwZGF0ZVBhc3M7XG4gICAgICAgIHRoaXMuc3RhdGljVmlld1F1ZXJpZXMgPSBzdGF0aWNWaWV3UXVlcmllcztcbiAgICAgICAgdGhpcy5zdGF0aWNDb250ZW50UXVlcmllcyA9IHN0YXRpY0NvbnRlbnRRdWVyaWVzO1xuICAgICAgICB0aGlzLnByZU9yZGVySG9va3MgPSBwcmVPcmRlckhvb2tzO1xuICAgICAgICB0aGlzLnByZU9yZGVyQ2hlY2tIb29rcyA9IHByZU9yZGVyQ2hlY2tIb29rcztcbiAgICAgICAgdGhpcy5jb250ZW50SG9va3MgPSBjb250ZW50SG9va3M7XG4gICAgICAgIHRoaXMuY29udGVudENoZWNrSG9va3MgPSBjb250ZW50Q2hlY2tIb29rcztcbiAgICAgICAgdGhpcy52aWV3SG9va3MgPSB2aWV3SG9va3M7XG4gICAgICAgIHRoaXMudmlld0NoZWNrSG9va3MgPSB2aWV3Q2hlY2tIb29rcztcbiAgICAgICAgdGhpcy5kZXN0cm95SG9va3MgPSBkZXN0cm95SG9va3M7XG4gICAgICAgIHRoaXMuY2xlYW51cCA9IGNsZWFudXA7XG4gICAgICAgIHRoaXMuY29udGVudFF1ZXJpZXMgPSBjb250ZW50UXVlcmllcztcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gY29tcG9uZW50cztcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVSZWdpc3RyeSA9IGRpcmVjdGl2ZVJlZ2lzdHJ5O1xuICAgICAgICB0aGlzLnBpcGVSZWdpc3RyeSA9IHBpcGVSZWdpc3RyeTtcbiAgICAgICAgdGhpcy5maXJzdENoaWxkID0gZmlyc3RDaGlsZDtcbiAgICAgICAgdGhpcy5zY2hlbWFzID0gc2NoZW1hcztcbiAgICAgICAgdGhpcy5jb25zdHMgPSBjb25zdHM7XG4gICAgICAgIHRoaXMuaW5jb21wbGV0ZUZpcnN0UGFzcyA9IGluY29tcGxldGVGaXJzdFBhc3M7XG4gICAgICAgIHRoaXMuX2RlY2xzID0gX2RlY2xzO1xuICAgICAgICB0aGlzLl92YXJzID0gX3ZhcnM7XG4gICAgfVxuICAgIGdldCB0ZW1wbGF0ZV8oKSB7XG4gICAgICAgIGNvbnN0IGJ1ZiA9IFtdO1xuICAgICAgICBwcm9jZXNzVE5vZGVDaGlsZHJlbih0aGlzLmZpcnN0Q2hpbGQsIGJ1Zik7XG4gICAgICAgIHJldHVybiBidWYuam9pbignJyk7XG4gICAgfVxuICAgIGdldCB0eXBlXygpIHtcbiAgICAgICAgcmV0dXJuIFRWaWV3VHlwZUFzU3RyaW5nW3RoaXMudHlwZV0gfHwgYFRWaWV3VHlwZS4/JHt0aGlzLnR5cGV9P2A7XG4gICAgfVxufTtcbmNsYXNzIFROb2RlIHtcbiAgICBjb25zdHJ1Y3Rvcih0Vmlld18sIC8vXG4gICAgdHlwZSwgLy9cbiAgICBpbmRleCwgLy9cbiAgICBpbnNlcnRCZWZvcmVJbmRleCwgLy9cbiAgICBpbmplY3RvckluZGV4LCAvL1xuICAgIGRpcmVjdGl2ZVN0YXJ0LCAvL1xuICAgIGRpcmVjdGl2ZUVuZCwgLy9cbiAgICBkaXJlY3RpdmVTdHlsaW5nTGFzdCwgLy9cbiAgICBwcm9wZXJ0eUJpbmRpbmdzLCAvL1xuICAgIGZsYWdzLCAvL1xuICAgIHByb3ZpZGVySW5kZXhlcywgLy9cbiAgICB2YWx1ZSwgLy9cbiAgICBhdHRycywgLy9cbiAgICBtZXJnZWRBdHRycywgLy9cbiAgICBsb2NhbE5hbWVzLCAvL1xuICAgIGluaXRpYWxJbnB1dHMsIC8vXG4gICAgaW5wdXRzLCAvL1xuICAgIG91dHB1dHMsIC8vXG4gICAgdFZpZXdzLCAvL1xuICAgIG5leHQsIC8vXG4gICAgcHJvamVjdGlvbk5leHQsIC8vXG4gICAgY2hpbGQsIC8vXG4gICAgcGFyZW50LCAvL1xuICAgIHByb2plY3Rpb24sIC8vXG4gICAgc3R5bGVzLCAvL1xuICAgIHN0eWxlc1dpdGhvdXRIb3N0LCAvL1xuICAgIHJlc2lkdWFsU3R5bGVzLCAvL1xuICAgIGNsYXNzZXMsIC8vXG4gICAgY2xhc3Nlc1dpdGhvdXRIb3N0LCAvL1xuICAgIHJlc2lkdWFsQ2xhc3NlcywgLy9cbiAgICBjbGFzc0JpbmRpbmdzLCAvL1xuICAgIHN0eWxlQmluZGluZ3MpIHtcbiAgICAgICAgdGhpcy50Vmlld18gPSB0Vmlld187XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5pbnNlcnRCZWZvcmVJbmRleCA9IGluc2VydEJlZm9yZUluZGV4O1xuICAgICAgICB0aGlzLmluamVjdG9ySW5kZXggPSBpbmplY3RvckluZGV4O1xuICAgICAgICB0aGlzLmRpcmVjdGl2ZVN0YXJ0ID0gZGlyZWN0aXZlU3RhcnQ7XG4gICAgICAgIHRoaXMuZGlyZWN0aXZlRW5kID0gZGlyZWN0aXZlRW5kO1xuICAgICAgICB0aGlzLmRpcmVjdGl2ZVN0eWxpbmdMYXN0ID0gZGlyZWN0aXZlU3R5bGluZ0xhc3Q7XG4gICAgICAgIHRoaXMucHJvcGVydHlCaW5kaW5ncyA9IHByb3BlcnR5QmluZGluZ3M7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcbiAgICAgICAgdGhpcy5wcm92aWRlckluZGV4ZXMgPSBwcm92aWRlckluZGV4ZXM7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5hdHRycyA9IGF0dHJzO1xuICAgICAgICB0aGlzLm1lcmdlZEF0dHJzID0gbWVyZ2VkQXR0cnM7XG4gICAgICAgIHRoaXMubG9jYWxOYW1lcyA9IGxvY2FsTmFtZXM7XG4gICAgICAgIHRoaXMuaW5pdGlhbElucHV0cyA9IGluaXRpYWxJbnB1dHM7XG4gICAgICAgIHRoaXMuaW5wdXRzID0gaW5wdXRzO1xuICAgICAgICB0aGlzLm91dHB1dHMgPSBvdXRwdXRzO1xuICAgICAgICB0aGlzLnRWaWV3cyA9IHRWaWV3cztcbiAgICAgICAgdGhpcy5uZXh0ID0gbmV4dDtcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uTmV4dCA9IHByb2plY3Rpb25OZXh0O1xuICAgICAgICB0aGlzLmNoaWxkID0gY2hpbGQ7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLnByb2plY3Rpb24gPSBwcm9qZWN0aW9uO1xuICAgICAgICB0aGlzLnN0eWxlcyA9IHN0eWxlcztcbiAgICAgICAgdGhpcy5zdHlsZXNXaXRob3V0SG9zdCA9IHN0eWxlc1dpdGhvdXRIb3N0O1xuICAgICAgICB0aGlzLnJlc2lkdWFsU3R5bGVzID0gcmVzaWR1YWxTdHlsZXM7XG4gICAgICAgIHRoaXMuY2xhc3NlcyA9IGNsYXNzZXM7XG4gICAgICAgIHRoaXMuY2xhc3Nlc1dpdGhvdXRIb3N0ID0gY2xhc3Nlc1dpdGhvdXRIb3N0O1xuICAgICAgICB0aGlzLnJlc2lkdWFsQ2xhc3NlcyA9IHJlc2lkdWFsQ2xhc3NlcztcbiAgICAgICAgdGhpcy5jbGFzc0JpbmRpbmdzID0gY2xhc3NCaW5kaW5ncztcbiAgICAgICAgdGhpcy5zdHlsZUJpbmRpbmdzID0gc3R5bGVCaW5kaW5ncztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgaHVtYW4gZGVidWcgdmVyc2lvbiBvZiB0aGUgc2V0IG9mIGBOb2RlSW5qZWN0b3JgcyB3aGljaCB3aWxsIGJlIGNvbnN1bHRlZCB3aGVuXG4gICAgICogcmVzb2x2aW5nIHRva2VucyBmcm9tIHRoaXMgYFROb2RlYC5cbiAgICAgKlxuICAgICAqIFdoZW4gZGVidWdnaW5nIGFwcGxpY2F0aW9ucywgaXQgaXMgb2Z0ZW4gZGlmZmljdWx0IHRvIGRldGVybWluZSB3aGljaCBgTm9kZUluamVjdG9yYHMgd2lsbCBiZVxuICAgICAqIGNvbnN1bHRlZC4gVGhpcyBtZXRob2Qgc2hvd3MgYSBsaXN0IG9mIGBEZWJ1Z05vZGVgcyByZXByZXNlbnRpbmcgdGhlIGBUTm9kZWBzIHdoaWNoIHdpbGwgYmVcbiAgICAgKiBjb25zdWx0ZWQgaW4gb3JkZXIgd2hlbiByZXNvbHZpbmcgYSB0b2tlbiBzdGFydGluZyBhdCB0aGlzIGBUTm9kZWAuXG4gICAgICpcbiAgICAgKiBUaGUgb3JpZ2luYWwgZGF0YSBpcyBzdG9yZWQgaW4gYExWaWV3YCBhbmQgYFRWaWV3YCB3aXRoIGEgbG90IG9mIG9mZnNldCBpbmRleGVzLCBhbmQgc28gaXQgaXNcbiAgICAgKiBkaWZmaWN1bHQgdG8gcmVhc29uIGFib3V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGxWaWV3IFRoZSBgTFZpZXdgIGluc3RhbmNlIGZvciB0aGlzIGBUTm9kZWAuXG4gICAgICovXG4gICAgZGVidWdOb2RlSW5qZWN0b3JQYXRoKGxWaWV3KSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBbXTtcbiAgICAgICAgbGV0IGluamVjdG9ySW5kZXggPSBnZXRJbmplY3RvckluZGV4KHRoaXMsIGxWaWV3KTtcbiAgICAgICAgaWYgKGluamVjdG9ySW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBMb29rcyBsaWtlIHRoZSBjdXJyZW50IGBUTm9kZWAgZG9lcyBub3QgaGF2ZSBgTm9kZUluamVjdG9yYCBhc3NvY2lhdGVkIHdpdGggaXQgPT4gbG9vayBmb3JcbiAgICAgICAgICAgIC8vIHBhcmVudCBOb2RlSW5qZWN0b3IuXG4gICAgICAgICAgICBjb25zdCBwYXJlbnRMb2NhdGlvbiA9IGdldFBhcmVudEluamVjdG9yTG9jYXRpb24odGhpcywgbFZpZXcpO1xuICAgICAgICAgICAgaWYgKHBhcmVudExvY2F0aW9uICE9PSBOT19QQVJFTlRfSU5KRUNUT1IpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBmb3VuZCBhIHBhcmVudCwgc28gc3RhcnQgc2VhcmNoaW5nIGZyb20gdGhlIHBhcmVudCBsb2NhdGlvbi5cbiAgICAgICAgICAgICAgICBpbmplY3RvckluZGV4ID0gZ2V0UGFyZW50SW5qZWN0b3JJbmRleChwYXJlbnRMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgbFZpZXcgPSBnZXRQYXJlbnRJbmplY3RvclZpZXcocGFyZW50TG9jYXRpb24sIGxWaWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE5vIHBhcmVudHMgaGF2ZSBiZWVuIGZvdW5kLCBzbyB0aGVyZSBhcmUgbm8gYE5vZGVJbmplY3RvcmBzIHRvIGNvbnN1bHQuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluamVjdG9ySW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm9kZUluamVjdG9yKGxWaWV3LCBpbmplY3RvckluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IHROb2RlID0gbFZpZXdbVFZJRVddLmRhdGFbaW5qZWN0b3JJbmRleCArIDggLyogVE5PREUgKi9dO1xuICAgICAgICAgICAgcGF0aC5wdXNoKGJ1aWxkRGVidWdOb2RlKHROb2RlLCBsVmlldykpO1xuICAgICAgICAgICAgY29uc3QgcGFyZW50TG9jYXRpb24gPSBsVmlld1tpbmplY3RvckluZGV4ICsgOCAvKiBQQVJFTlQgKi9dO1xuICAgICAgICAgICAgaWYgKHBhcmVudExvY2F0aW9uID09PSBOT19QQVJFTlRfSU5KRUNUT1IpIHtcbiAgICAgICAgICAgICAgICBpbmplY3RvckluZGV4ID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbmplY3RvckluZGV4ID0gZ2V0UGFyZW50SW5qZWN0b3JJbmRleChwYXJlbnRMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgbFZpZXcgPSBnZXRQYXJlbnRJbmplY3RvclZpZXcocGFyZW50TG9jYXRpb24sIGxWaWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG4gICAgZ2V0IHR5cGVfKCkge1xuICAgICAgICByZXR1cm4gdG9UTm9kZVR5cGVBc1N0cmluZyh0aGlzLnR5cGUpIHx8IGBUTm9kZVR5cGUuPyR7dGhpcy50eXBlfT9gO1xuICAgIH1cbiAgICBnZXQgZmxhZ3NfKCkge1xuICAgICAgICBjb25zdCBmbGFncyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5mbGFncyAmIDE2IC8qIGhhc0NsYXNzSW5wdXQgKi8pXG4gICAgICAgICAgICBmbGFncy5wdXNoKCdUTm9kZUZsYWdzLmhhc0NsYXNzSW5wdXQnKTtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MgJiA4IC8qIGhhc0NvbnRlbnRRdWVyeSAqLylcbiAgICAgICAgICAgIGZsYWdzLnB1c2goJ1ROb2RlRmxhZ3MuaGFzQ29udGVudFF1ZXJ5Jyk7XG4gICAgICAgIGlmICh0aGlzLmZsYWdzICYgMzIgLyogaGFzU3R5bGVJbnB1dCAqLylcbiAgICAgICAgICAgIGZsYWdzLnB1c2goJ1ROb2RlRmxhZ3MuaGFzU3R5bGVJbnB1dCcpO1xuICAgICAgICBpZiAodGhpcy5mbGFncyAmIDEyOCAvKiBoYXNIb3N0QmluZGluZ3MgKi8pXG4gICAgICAgICAgICBmbGFncy5wdXNoKCdUTm9kZUZsYWdzLmhhc0hvc3RCaW5kaW5ncycpO1xuICAgICAgICBpZiAodGhpcy5mbGFncyAmIDIgLyogaXNDb21wb25lbnRIb3N0ICovKVxuICAgICAgICAgICAgZmxhZ3MucHVzaCgnVE5vZGVGbGFncy5pc0NvbXBvbmVudEhvc3QnKTtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MgJiAxIC8qIGlzRGlyZWN0aXZlSG9zdCAqLylcbiAgICAgICAgICAgIGZsYWdzLnB1c2goJ1ROb2RlRmxhZ3MuaXNEaXJlY3RpdmVIb3N0Jyk7XG4gICAgICAgIGlmICh0aGlzLmZsYWdzICYgNjQgLyogaXNEZXRhY2hlZCAqLylcbiAgICAgICAgICAgIGZsYWdzLnB1c2goJ1ROb2RlRmxhZ3MuaXNEZXRhY2hlZCcpO1xuICAgICAgICBpZiAodGhpcy5mbGFncyAmIDQgLyogaXNQcm9qZWN0ZWQgKi8pXG4gICAgICAgICAgICBmbGFncy5wdXNoKCdUTm9kZUZsYWdzLmlzUHJvamVjdGVkJyk7XG4gICAgICAgIHJldHVybiBmbGFncy5qb2luKCd8Jyk7XG4gICAgfVxuICAgIGdldCB0ZW1wbGF0ZV8oKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgJiAxIC8qIFRleHQgKi8pXG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICAgICAgY29uc3QgYnVmID0gW107XG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSB0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ3N0cmluZycgJiYgdGhpcy52YWx1ZSB8fCB0aGlzLnR5cGVfO1xuICAgICAgICBidWYucHVzaCgnPCcsIHRhZ05hbWUpO1xuICAgICAgICBpZiAodGhpcy5mbGFncykge1xuICAgICAgICAgICAgYnVmLnB1c2goJyAnLCB0aGlzLmZsYWdzXyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXR0cnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hdHRycy5sZW5ndGg7KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSB0aGlzLmF0dHJzW2krK107XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhdHRyTmFtZSA9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0clZhbHVlID0gdGhpcy5hdHRyc1tpKytdO1xuICAgICAgICAgICAgICAgIGJ1Zi5wdXNoKCcgJywgYXR0ck5hbWUsICc9XCInLCBhdHRyVmFsdWUsICdcIicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJ1Zi5wdXNoKCc+Jyk7XG4gICAgICAgIHByb2Nlc3NUTm9kZUNoaWxkcmVuKHRoaXMuY2hpbGQsIGJ1Zik7XG4gICAgICAgIGJ1Zi5wdXNoKCc8LycsIHRhZ05hbWUsICc+Jyk7XG4gICAgICAgIHJldHVybiBidWYuam9pbignJyk7XG4gICAgfVxuICAgIGdldCBzdHlsZUJpbmRpbmdzXygpIHtcbiAgICAgICAgcmV0dXJuIHRvRGVidWdTdHlsZUJpbmRpbmcodGhpcywgZmFsc2UpO1xuICAgIH1cbiAgICBnZXQgY2xhc3NCaW5kaW5nc18oKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnU3R5bGVCaW5kaW5nKHRoaXMsIHRydWUpO1xuICAgIH1cbiAgICBnZXQgcHJvdmlkZXJJbmRleFN0YXJ0XygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJJbmRleGVzICYgMTA0ODU3NSAvKiBQcm92aWRlcnNTdGFydEluZGV4TWFzayAqLztcbiAgICB9XG4gICAgZ2V0IHByb3ZpZGVySW5kZXhFbmRfKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlckluZGV4U3RhcnRfICtcbiAgICAgICAgICAgICh0aGlzLnByb3ZpZGVySW5kZXhlcyA+Pj4gMjAgLyogQ3B0Vmlld1Byb3ZpZGVyc0NvdW50U2hpZnQgKi8pO1xuICAgIH1cbn1cbmNvbnN0IFROb2RlRGVidWcgPSBUTm9kZTtcbmZ1bmN0aW9uIHRvRGVidWdTdHlsZUJpbmRpbmcodE5vZGUsIGlzQ2xhc3NCYXNlZCkge1xuICAgIGNvbnN0IHREYXRhID0gdE5vZGUudFZpZXdfLmRhdGE7XG4gICAgY29uc3QgYmluZGluZ3MgPSBbXTtcbiAgICBjb25zdCByYW5nZSA9IGlzQ2xhc3NCYXNlZCA/IHROb2RlLmNsYXNzQmluZGluZ3MgOiB0Tm9kZS5zdHlsZUJpbmRpbmdzO1xuICAgIGNvbnN0IHByZXYgPSBnZXRUU3R5bGluZ1JhbmdlUHJldihyYW5nZSk7XG4gICAgY29uc3QgbmV4dCA9IGdldFRTdHlsaW5nUmFuZ2VOZXh0KHJhbmdlKTtcbiAgICBsZXQgaXNUZW1wbGF0ZSA9IG5leHQgIT09IDA7XG4gICAgbGV0IGN1cnNvciA9IGlzVGVtcGxhdGUgPyBuZXh0IDogcHJldjtcbiAgICB3aGlsZSAoY3Vyc29yICE9PSAwKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1LZXkgPSB0RGF0YVtjdXJzb3JdO1xuICAgICAgICBjb25zdCBpdGVtUmFuZ2UgPSB0RGF0YVtjdXJzb3IgKyAxXTtcbiAgICAgICAgYmluZGluZ3MudW5zaGlmdCh7XG4gICAgICAgICAgICBrZXk6IGl0ZW1LZXksXG4gICAgICAgICAgICBpbmRleDogY3Vyc29yLFxuICAgICAgICAgICAgaXNUZW1wbGF0ZTogaXNUZW1wbGF0ZSxcbiAgICAgICAgICAgIHByZXZEdXBsaWNhdGU6IGdldFRTdHlsaW5nUmFuZ2VQcmV2RHVwbGljYXRlKGl0ZW1SYW5nZSksXG4gICAgICAgICAgICBuZXh0RHVwbGljYXRlOiBnZXRUU3R5bGluZ1JhbmdlTmV4dER1cGxpY2F0ZShpdGVtUmFuZ2UpLFxuICAgICAgICAgICAgbmV4dEluZGV4OiBnZXRUU3R5bGluZ1JhbmdlTmV4dChpdGVtUmFuZ2UpLFxuICAgICAgICAgICAgcHJldkluZGV4OiBnZXRUU3R5bGluZ1JhbmdlUHJldihpdGVtUmFuZ2UpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGN1cnNvciA9PT0gcHJldilcbiAgICAgICAgICAgIGlzVGVtcGxhdGUgPSBmYWxzZTtcbiAgICAgICAgY3Vyc29yID0gZ2V0VFN0eWxpbmdSYW5nZVByZXYoaXRlbVJhbmdlKTtcbiAgICB9XG4gICAgYmluZGluZ3MucHVzaCgoaXNDbGFzc0Jhc2VkID8gdE5vZGUucmVzaWR1YWxDbGFzc2VzIDogdE5vZGUucmVzaWR1YWxTdHlsZXMpIHx8IG51bGwpO1xuICAgIHJldHVybiBiaW5kaW5ncztcbn1cbmZ1bmN0aW9uIHByb2Nlc3NUTm9kZUNoaWxkcmVuKHROb2RlLCBidWYpIHtcbiAgICB3aGlsZSAodE5vZGUpIHtcbiAgICAgICAgYnVmLnB1c2godE5vZGUudGVtcGxhdGVfKTtcbiAgICAgICAgdE5vZGUgPSB0Tm9kZS5uZXh0O1xuICAgIH1cbn1cbmNsYXNzIFRWaWV3RGF0YSBleHRlbmRzIEFycmF5IHtcbn1cbmxldCBUVklFV0RBVEFfRU1QVFk7IC8vIGNhbid0IGluaXRpYWxpemUgaGVyZSBvciBpdCB3aWxsIG5vdCBiZSB0cmVlIHNoYWtlbiwgYmVjYXVzZVxuLy8gYExWaWV3YCBjb25zdHJ1Y3RvciBjb3VsZCBoYXZlIHNpZGUtZWZmZWN0cy5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjbG9uZXMgYSBibHVlcHJpbnQgYW5kIGNyZWF0ZXMgVERhdGEuXG4gKlxuICogU2ltcGxlIHNsaWNlIHdpbGwga2VlcCB0aGUgc2FtZSB0eXBlLCBhbmQgd2UgbmVlZCBpdCB0byBiZSBURGF0YVxuICovXG5mdW5jdGlvbiBjbG9uZVRvVFZpZXdEYXRhKGxpc3QpIHtcbiAgICBpZiAoVFZJRVdEQVRBX0VNUFRZID09PSB1bmRlZmluZWQpXG4gICAgICAgIFRWSUVXREFUQV9FTVBUWSA9IG5ldyBUVmlld0RhdGEoKTtcbiAgICByZXR1cm4gVFZJRVdEQVRBX0VNUFRZLmNvbmNhdChsaXN0KTtcbn1cbmNsYXNzIExWaWV3Qmx1ZXByaW50IGV4dGVuZHMgQXJyYXkge1xufVxuY2xhc3MgTWF0Y2hlc0FycmF5IGV4dGVuZHMgQXJyYXkge1xufVxuY2xhc3MgVFZpZXdDb21wb25lbnRzIGV4dGVuZHMgQXJyYXkge1xufVxuY2xhc3MgVE5vZGVMb2NhbE5hbWVzIGV4dGVuZHMgQXJyYXkge1xufVxuY2xhc3MgVE5vZGVJbml0aWFsSW5wdXRzIGV4dGVuZHMgQXJyYXkge1xufVxuY2xhc3MgTENsZWFudXAgZXh0ZW5kcyBBcnJheSB7XG59XG5jbGFzcyBUQ2xlYW51cCBleHRlbmRzIEFycmF5IHtcbn1cbmZ1bmN0aW9uIGF0dGFjaExWaWV3RGVidWcobFZpZXcpIHtcbiAgICBhdHRhY2hEZWJ1Z09iamVjdChsVmlldywgbmV3IExWaWV3RGVidWcobFZpZXcpKTtcbn1cbmZ1bmN0aW9uIGF0dGFjaExDb250YWluZXJEZWJ1ZyhsQ29udGFpbmVyKSB7XG4gICAgYXR0YWNoRGVidWdPYmplY3QobENvbnRhaW5lciwgbmV3IExDb250YWluZXJEZWJ1ZyhsQ29udGFpbmVyKSk7XG59XG5mdW5jdGlvbiB0b0RlYnVnKG9iaikge1xuICAgIGlmIChvYmopIHtcbiAgICAgICAgY29uc3QgZGVidWcgPSBvYmouZGVidWc7XG4gICAgICAgIGFzc2VydERlZmluZWQoZGVidWcsICdPYmplY3QgZG9lcyBub3QgaGF2ZSBhIGRlYnVnIHJlcHJlc2VudGF0aW9uLicpO1xuICAgICAgICByZXR1cm4gZGVidWc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbn1cbi8qKlxuICogVXNlIHRoaXMgbWV0aG9kIHRvIHVud3JhcCBhIG5hdGl2ZSBlbGVtZW50IGluIGBMVmlld2AgYW5kIGNvbnZlcnQgaXQgaW50byBIVE1MIGZvciBlYXNpZXJcbiAqIHJlYWRpbmcuXG4gKlxuICogQHBhcmFtIHZhbHVlIHBvc3NpYmx5IHdyYXBwZWQgbmF0aXZlIERPTSBub2RlLlxuICogQHBhcmFtIGluY2x1ZGVDaGlsZHJlbiBJZiBgdHJ1ZWAgdGhlbiB0aGUgc2VyaWFsaXplZCBIVE1MIGZvcm0gd2lsbCBpbmNsdWRlIGNoaWxkIGVsZW1lbnRzXG4gKiAoc2FtZVxuICogYXMgYG91dGVySFRNTGApLiBJZiBgZmFsc2VgIHRoZW4gdGhlIHNlcmlhbGl6ZWQgSFRNTCBmb3JtIHdpbGwgb25seSBjb250YWluIHRoZSBlbGVtZW50XG4gKiBpdHNlbGZcbiAqICh3aWxsIG5vdCBzZXJpYWxpemUgY2hpbGQgZWxlbWVudHMpLlxuICovXG5mdW5jdGlvbiB0b0h0bWwodmFsdWUsIGluY2x1ZGVDaGlsZHJlbiA9IGZhbHNlKSB7XG4gICAgY29uc3Qgbm9kZSA9IHVud3JhcFJOb2RlKHZhbHVlKTtcbiAgICBpZiAobm9kZSkge1xuICAgICAgICBzd2l0Y2ggKG5vZGUubm9kZVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgTm9kZS5URVhUX05PREU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICBjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOlxuICAgICAgICAgICAgICAgIHJldHVybiBgPCEtLSR7bm9kZS50ZXh0Q29udGVudH0tLT5gO1xuICAgICAgICAgICAgY2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRlckhUTUwgPSBub2RlLm91dGVySFRNTDtcbiAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZUNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvdXRlckhUTUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbm5lckhUTUwgPSAnPicgKyBub2RlLmlubmVySFRNTCArICc8JztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChvdXRlckhUTUwuc3BsaXQoaW5uZXJIVE1MKVswXSkgKyAnPic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuY2xhc3MgTFZpZXdEZWJ1ZyB7XG4gICAgY29uc3RydWN0b3IoX3Jhd19sVmlldykge1xuICAgICAgICB0aGlzLl9yYXdfbFZpZXcgPSBfcmF3X2xWaWV3O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGbGFncyBhc3NvY2lhdGVkIHdpdGggdGhlIGBMVmlld2AgdW5wYWNrZWQgaW50byBhIG1vcmUgcmVhZGFibGUgc3RhdGUuXG4gICAgICovXG4gICAgZ2V0IGZsYWdzKCkge1xuICAgICAgICBjb25zdCBmbGFncyA9IHRoaXMuX3Jhd19sVmlld1tGTEFHU107XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfX3Jhd19fZmxhZ3NfXzogZmxhZ3MsXG4gICAgICAgICAgICBpbml0UGhhc2VTdGF0ZTogZmxhZ3MgJiAzIC8qIEluaXRQaGFzZVN0YXRlTWFzayAqLyxcbiAgICAgICAgICAgIGNyZWF0aW9uTW9kZTogISEoZmxhZ3MgJiA0IC8qIENyZWF0aW9uTW9kZSAqLyksXG4gICAgICAgICAgICBmaXJzdFZpZXdQYXNzOiAhIShmbGFncyAmIDggLyogRmlyc3RMVmlld1Bhc3MgKi8pLFxuICAgICAgICAgICAgY2hlY2tBbHdheXM6ICEhKGZsYWdzICYgMTYgLyogQ2hlY2tBbHdheXMgKi8pLFxuICAgICAgICAgICAgZGlydHk6ICEhKGZsYWdzICYgNjQgLyogRGlydHkgKi8pLFxuICAgICAgICAgICAgYXR0YWNoZWQ6ICEhKGZsYWdzICYgMTI4IC8qIEF0dGFjaGVkICovKSxcbiAgICAgICAgICAgIGRlc3Ryb3llZDogISEoZmxhZ3MgJiAyNTYgLyogRGVzdHJveWVkICovKSxcbiAgICAgICAgICAgIGlzUm9vdDogISEoZmxhZ3MgJiA1MTIgLyogSXNSb290ICovKSxcbiAgICAgICAgICAgIGluZGV4V2l0aGluSW5pdFBoYXNlOiBmbGFncyA+PiAxMSAvKiBJbmRleFdpdGhpbkluaXRQaGFzZVNoaWZ0ICovLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Zyh0aGlzLl9yYXdfbFZpZXdbUEFSRU5UXSk7XG4gICAgfVxuICAgIGdldCBob3N0SFRNTCgpIHtcbiAgICAgICAgcmV0dXJuIHRvSHRtbCh0aGlzLl9yYXdfbFZpZXdbSE9TVF0sIHRydWUpO1xuICAgIH1cbiAgICBnZXQgaHRtbCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm5vZGVzIHx8IFtdKS5tYXAobWFwVG9IVE1MKS5qb2luKCcnKTtcbiAgICB9XG4gICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbFZpZXdbQ09OVEVYVF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB0cmVlIG9mIG5vZGVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBgTFZpZXdgLiBUaGUgbm9kZXMgaGF2ZSBiZWVuIG5vcm1hbGl6ZWQgaW50b1xuICAgICAqIGEgdHJlZSBzdHJ1Y3R1cmUgd2l0aCByZWxldmFudCBkZXRhaWxzIHB1bGxlZCBvdXQgZm9yIHJlYWRhYmlsaXR5LlxuICAgICAqL1xuICAgIGdldCBub2RlcygpIHtcbiAgICAgICAgY29uc3QgbFZpZXcgPSB0aGlzLl9yYXdfbFZpZXc7XG4gICAgICAgIGNvbnN0IHROb2RlID0gbFZpZXdbVFZJRVddLmZpcnN0Q2hpbGQ7XG4gICAgICAgIHJldHVybiB0b0RlYnVnTm9kZXModE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgZ2V0IHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50Vmlldy50ZW1wbGF0ZV87XG4gICAgfVxuICAgIGdldCB0VmlldygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sVmlld1tUVklFV107XG4gICAgfVxuICAgIGdldCBjbGVhbnVwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xWaWV3W0NMRUFOVVBdO1xuICAgIH1cbiAgICBnZXQgaW5qZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbFZpZXdbSU5KRUNUT1IkMV07XG4gICAgfVxuICAgIGdldCByZW5kZXJlckZhY3RvcnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbFZpZXdbUkVOREVSRVJfRkFDVE9SWV07XG4gICAgfVxuICAgIGdldCByZW5kZXJlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sVmlld1tSRU5ERVJFUl07XG4gICAgfVxuICAgIGdldCBzYW5pdGl6ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbFZpZXdbU0FOSVRJWkVSXTtcbiAgICB9XG4gICAgZ2V0IGNoaWxkSGVhZCgpIHtcbiAgICAgICAgcmV0dXJuIHRvRGVidWcodGhpcy5fcmF3X2xWaWV3W0NISUxEX0hFQURdKTtcbiAgICB9XG4gICAgZ2V0IG5leHQoKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnKHRoaXMuX3Jhd19sVmlld1tORVhUXSk7XG4gICAgfVxuICAgIGdldCBjaGlsZFRhaWwoKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnKHRoaXMuX3Jhd19sVmlld1tDSElMRF9UQUlMXSk7XG4gICAgfVxuICAgIGdldCBkZWNsYXJhdGlvblZpZXcoKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnKHRoaXMuX3Jhd19sVmlld1tERUNMQVJBVElPTl9WSUVXXSk7XG4gICAgfVxuICAgIGdldCBxdWVyaWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xWaWV3W1FVRVJJRVNdO1xuICAgIH1cbiAgICBnZXQgdEhvc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdfbFZpZXdbVF9IT1NUXTtcbiAgICB9XG4gICAgZ2V0IGRlY2xzKCkge1xuICAgICAgICByZXR1cm4gdG9MVmlld1JhbmdlKHRoaXMudFZpZXcsIHRoaXMuX3Jhd19sVmlldywgSEVBREVSX09GRlNFVCwgdGhpcy50Vmlldy5iaW5kaW5nU3RhcnRJbmRleCk7XG4gICAgfVxuICAgIGdldCB2YXJzKCkge1xuICAgICAgICByZXR1cm4gdG9MVmlld1JhbmdlKHRoaXMudFZpZXcsIHRoaXMuX3Jhd19sVmlldywgdGhpcy50Vmlldy5iaW5kaW5nU3RhcnRJbmRleCwgdGhpcy50Vmlldy5leHBhbmRvU3RhcnRJbmRleCk7XG4gICAgfVxuICAgIGdldCBleHBhbmRvKCkge1xuICAgICAgICByZXR1cm4gdG9MVmlld1JhbmdlKHRoaXMudFZpZXcsIHRoaXMuX3Jhd19sVmlldywgdGhpcy50Vmlldy5leHBhbmRvU3RhcnRJbmRleCwgdGhpcy5fcmF3X2xWaWV3Lmxlbmd0aCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZWQgdmlldyBvZiBjaGlsZCB2aWV3cyAoYW5kIGNvbnRhaW5lcnMpIGF0dGFjaGVkIGF0IHRoaXMgbG9jYXRpb24uXG4gICAgICovXG4gICAgZ2V0IGNoaWxkVmlld3MoKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkVmlld3MgPSBbXTtcbiAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZEhlYWQ7XG4gICAgICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgICAgICAgY2hpbGRWaWV3cy5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIGNoaWxkID0gY2hpbGQubmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRWaWV3cztcbiAgICB9XG59XG5mdW5jdGlvbiBtYXBUb0hUTUwobm9kZSkge1xuICAgIGlmIChub2RlLnR5cGUgPT09ICdFbGVtZW50Q29udGFpbmVyJykge1xuICAgICAgICByZXR1cm4gKG5vZGUuY2hpbGRyZW4gfHwgW10pLm1hcChtYXBUb0hUTUwpLmpvaW4oJycpO1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlLnR5cGUgPT09ICdJY3VDb250YWluZXInKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdG9IdG1sKG5vZGUubmF0aXZlLCB0cnVlKSB8fCAnJztcbiAgICB9XG59XG5mdW5jdGlvbiB0b0xWaWV3UmFuZ2UodFZpZXcsIGxWaWV3LCBzdGFydCwgZW5kKSB7XG4gICAgbGV0IGNvbnRlbnQgPSBbXTtcbiAgICBmb3IgKGxldCBpbmRleCA9IHN0YXJ0OyBpbmRleCA8IGVuZDsgaW5kZXgrKykge1xuICAgICAgICBjb250ZW50LnB1c2goeyBpbmRleDogaW5kZXgsIHQ6IHRWaWV3LmRhdGFbaW5kZXhdLCBsOiBsVmlld1tpbmRleF0gfSk7XG4gICAgfVxuICAgIHJldHVybiB7IHN0YXJ0OiBzdGFydCwgZW5kOiBlbmQsIGxlbmd0aDogZW5kIC0gc3RhcnQsIGNvbnRlbnQ6IGNvbnRlbnQgfTtcbn1cbi8qKlxuICogVHVybnMgYSBmbGF0IGxpc3Qgb2Ygbm9kZXMgaW50byBhIHRyZWUgYnkgd2Fsa2luZyB0aGUgYXNzb2NpYXRlZCBgVE5vZGVgIHRyZWUuXG4gKlxuICogQHBhcmFtIHROb2RlXG4gKiBAcGFyYW0gbFZpZXdcbiAqL1xuZnVuY3Rpb24gdG9EZWJ1Z05vZGVzKHROb2RlLCBsVmlldykge1xuICAgIGlmICh0Tm9kZSkge1xuICAgICAgICBjb25zdCBkZWJ1Z05vZGVzID0gW107XG4gICAgICAgIGxldCB0Tm9kZUN1cnNvciA9IHROb2RlO1xuICAgICAgICB3aGlsZSAodE5vZGVDdXJzb3IpIHtcbiAgICAgICAgICAgIGRlYnVnTm9kZXMucHVzaChidWlsZERlYnVnTm9kZSh0Tm9kZUN1cnNvciwgbFZpZXcpKTtcbiAgICAgICAgICAgIHROb2RlQ3Vyc29yID0gdE5vZGVDdXJzb3IubmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVidWdOb2RlcztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59XG5mdW5jdGlvbiBidWlsZERlYnVnTm9kZSh0Tm9kZSwgbFZpZXcpIHtcbiAgICBjb25zdCByYXdWYWx1ZSA9IGxWaWV3W3ROb2RlLmluZGV4XTtcbiAgICBjb25zdCBuYXRpdmUgPSB1bndyYXBSTm9kZShyYXdWYWx1ZSk7XG4gICAgY29uc3QgZmFjdG9yaWVzID0gW107XG4gICAgY29uc3QgaW5zdGFuY2VzID0gW107XG4gICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgZm9yIChsZXQgaSA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0OyBpIDwgdE5vZGUuZGlyZWN0aXZlRW5kOyBpKyspIHtcbiAgICAgICAgY29uc3QgZGVmID0gdFZpZXcuZGF0YVtpXTtcbiAgICAgICAgZmFjdG9yaWVzLnB1c2goZGVmLnR5cGUpO1xuICAgICAgICBpbnN0YW5jZXMucHVzaChsVmlld1tpXSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGh0bWw6IHRvSHRtbChuYXRpdmUpLFxuICAgICAgICB0eXBlOiB0b1ROb2RlVHlwZUFzU3RyaW5nKHROb2RlLnR5cGUpLFxuICAgICAgICB0Tm9kZSxcbiAgICAgICAgbmF0aXZlOiBuYXRpdmUsXG4gICAgICAgIGNoaWxkcmVuOiB0b0RlYnVnTm9kZXModE5vZGUuY2hpbGQsIGxWaWV3KSxcbiAgICAgICAgZmFjdG9yaWVzLFxuICAgICAgICBpbnN0YW5jZXMsXG4gICAgICAgIGluamVjdG9yOiBidWlsZE5vZGVJbmplY3RvckRlYnVnKHROb2RlLCB0VmlldywgbFZpZXcpLFxuICAgICAgICBnZXQgaW5qZWN0b3JSZXNvbHV0aW9uUGF0aCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0Tm9kZS5kZWJ1Z05vZGVJbmplY3RvclBhdGgobFZpZXcpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBidWlsZE5vZGVJbmplY3RvckRlYnVnKHROb2RlLCB0VmlldywgbFZpZXcpIHtcbiAgICBjb25zdCB2aWV3UHJvdmlkZXJzID0gW107XG4gICAgZm9yIChsZXQgaSA9IHROb2RlLnByb3ZpZGVySW5kZXhTdGFydF87IGkgPCB0Tm9kZS5wcm92aWRlckluZGV4RW5kXzsgaSsrKSB7XG4gICAgICAgIHZpZXdQcm92aWRlcnMucHVzaCh0Vmlldy5kYXRhW2ldKTtcbiAgICB9XG4gICAgY29uc3QgcHJvdmlkZXJzID0gW107XG4gICAgZm9yIChsZXQgaSA9IHROb2RlLnByb3ZpZGVySW5kZXhFbmRfOyBpIDwgdE5vZGUuZGlyZWN0aXZlRW5kOyBpKyspIHtcbiAgICAgICAgcHJvdmlkZXJzLnB1c2godFZpZXcuZGF0YVtpXSk7XG4gICAgfVxuICAgIGNvbnN0IG5vZGVJbmplY3RvckRlYnVnID0ge1xuICAgICAgICBibG9vbTogdG9CbG9vbShsVmlldywgdE5vZGUuaW5qZWN0b3JJbmRleCksXG4gICAgICAgIGN1bXVsYXRpdmVCbG9vbTogdG9CbG9vbSh0Vmlldy5kYXRhLCB0Tm9kZS5pbmplY3RvckluZGV4KSxcbiAgICAgICAgcHJvdmlkZXJzLFxuICAgICAgICB2aWV3UHJvdmlkZXJzLFxuICAgICAgICBwYXJlbnRJbmplY3RvckluZGV4OiBsVmlld1t0Tm9kZS5wcm92aWRlckluZGV4U3RhcnRfIC0gMV0sXG4gICAgfTtcbiAgICByZXR1cm4gbm9kZUluamVjdG9yRGVidWc7XG59XG4vKipcbiAqIENvbnZlcnQgYSBudW1iZXIgYXQgYGlkeGAgbG9jYXRpb24gaW4gYGFycmF5YCBpbnRvIGJpbmFyeSByZXByZXNlbnRhdGlvbi5cbiAqXG4gKiBAcGFyYW0gYXJyYXlcbiAqIEBwYXJhbSBpZHhcbiAqL1xuZnVuY3Rpb24gYmluYXJ5KGFycmF5LCBpZHgpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGFycmF5W2lkeF07XG4gICAgLy8gSWYgbm90IGEgbnVtYmVyIHdlIHByaW50IDggYD9gIHRvIHJldGFpbiBhbGlnbm1lbnQgYnV0IGxldCB1c2VyIGtub3cgdGhhdCBpdCB3YXMgY2FsbGVkIG9uXG4gICAgLy8gd3JvbmcgdHlwZS5cbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJylcbiAgICAgICAgcmV0dXJuICc/Pz8/Pz8/Pyc7XG4gICAgLy8gV2UgcHJlZml4IDBzIHNvIHRoYXQgd2UgaGF2ZSBjb25zdGFudCBsZW5ndGggbnVtYmVyXG4gICAgY29uc3QgdGV4dCA9ICcwMDAwMDAwMCcgKyB2YWx1ZS50b1N0cmluZygyKTtcbiAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcodGV4dC5sZW5ndGggLSA4KTtcbn1cbi8qKlxuICogQ29udmVydCBhIGJsb29tIGZpbHRlciBhdCBsb2NhdGlvbiBgaWR4YCBpbiBgYXJyYXlgIGludG8gYmluYXJ5IHJlcHJlc2VudGF0aW9uLlxuICpcbiAqIEBwYXJhbSBhcnJheVxuICogQHBhcmFtIGlkeFxuICovXG5mdW5jdGlvbiB0b0Jsb29tKGFycmF5LCBpZHgpIHtcbiAgICBpZiAoaWR4IDwgMCkge1xuICAgICAgICByZXR1cm4gJ05PX05PREVfSU5KRUNUT1InO1xuICAgIH1cbiAgICByZXR1cm4gYCR7YmluYXJ5KGFycmF5LCBpZHggKyA3KX1fJHtiaW5hcnkoYXJyYXksIGlkeCArIDYpfV8ke2JpbmFyeShhcnJheSwgaWR4ICsgNSl9XyR7YmluYXJ5KGFycmF5LCBpZHggKyA0KX1fJHtiaW5hcnkoYXJyYXksIGlkeCArIDMpfV8ke2JpbmFyeShhcnJheSwgaWR4ICsgMil9XyR7YmluYXJ5KGFycmF5LCBpZHggKyAxKX1fJHtiaW5hcnkoYXJyYXksIGlkeCArIDApfWA7XG59XG5jbGFzcyBMQ29udGFpbmVyRGVidWcge1xuICAgIGNvbnN0cnVjdG9yKF9yYXdfbENvbnRhaW5lcikge1xuICAgICAgICB0aGlzLl9yYXdfbENvbnRhaW5lciA9IF9yYXdfbENvbnRhaW5lcjtcbiAgICB9XG4gICAgZ2V0IGhhc1RyYW5zcGxhbnRlZFZpZXdzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xDb250YWluZXJbSEFTX1RSQU5TUExBTlRFRF9WSUVXU107XG4gICAgfVxuICAgIGdldCB2aWV3cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sQ29udGFpbmVyLnNsaWNlKENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUKVxuICAgICAgICAgICAgLm1hcCh0b0RlYnVnKTtcbiAgICB9XG4gICAgZ2V0IHBhcmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRvRGVidWcodGhpcy5fcmF3X2xDb250YWluZXJbUEFSRU5UXSk7XG4gICAgfVxuICAgIGdldCBtb3ZlZFZpZXdzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xDb250YWluZXJbTU9WRURfVklFV1NdO1xuICAgIH1cbiAgICBnZXQgaG9zdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd19sQ29udGFpbmVyW0hPU1RdO1xuICAgIH1cbiAgICBnZXQgbmF0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3X2xDb250YWluZXJbTkFUSVZFXTtcbiAgICB9XG4gICAgZ2V0IG5leHQoKSB7XG4gICAgICAgIHJldHVybiB0b0RlYnVnKHRoaXMuX3Jhd19sQ29udGFpbmVyW05FWFRdKTtcbiAgICB9XG59XG5cbi8qKlxuICogQSBwZXJtYW5lbnQgbWFya2VyIHByb21pc2Ugd2hpY2ggc2lnbmlmaWVzIHRoYXQgdGhlIGN1cnJlbnQgQ0QgdHJlZSBpc1xuICogY2xlYW4uXG4gKi9cbmNvbnN0IF9DTEVBTl9QUk9NSVNFID0gKCgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSkoKTtcbi8qKlxuICogSW52b2tlIGBIb3N0QmluZGluZ3NGdW5jdGlvbmBzIGZvciB2aWV3LlxuICpcbiAqIFRoaXMgbWV0aG9kcyBleGVjdXRlcyBgVFZpZXcuaG9zdEJpbmRpbmdPcENvZGVzYC4gSXQgaXMgdXNlZCB0byBleGVjdXRlIHRoZVxuICogYEhvc3RCaW5kaW5nc0Z1bmN0aW9uYHMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IGBMVmlld2AuXG4gKlxuICogQHBhcmFtIHRWaWV3IEN1cnJlbnQgYFRWaWV3YC5cbiAqIEBwYXJhbSBsVmlldyBDdXJyZW50IGBMVmlld2AuXG4gKi9cbmZ1bmN0aW9uIHByb2Nlc3NIb3N0QmluZGluZ09wQ29kZXModFZpZXcsIGxWaWV3KSB7XG4gICAgY29uc3QgaG9zdEJpbmRpbmdPcENvZGVzID0gdFZpZXcuaG9zdEJpbmRpbmdPcENvZGVzO1xuICAgIGlmIChob3N0QmluZGluZ09wQ29kZXMgPT09IG51bGwpXG4gICAgICAgIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvc3RCaW5kaW5nT3BDb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgb3BDb2RlID0gaG9zdEJpbmRpbmdPcENvZGVzW2ldO1xuICAgICAgICAgICAgaWYgKG9wQ29kZSA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyBOZWdhdGl2ZSBudW1iZXJzIGFyZSBlbGVtZW50IGluZGV4ZXMuXG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRJbmRleCh+b3BDb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFBvc2l0aXZlIG51bWJlcnMgYXJlIE51bWJlclR1cGxlIHdoaWNoIHN0b3JlIGJpbmRpbmdSb290SW5kZXggYW5kIGRpcmVjdGl2ZUluZGV4LlxuICAgICAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZUlkeCA9IG9wQ29kZTtcbiAgICAgICAgICAgICAgICBjb25zdCBiaW5kaW5nUm9vdEluZHggPSBob3N0QmluZGluZ09wQ29kZXNbKytpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBob3N0QmluZGluZ0ZuID0gaG9zdEJpbmRpbmdPcENvZGVzWysraV07XG4gICAgICAgICAgICAgICAgc2V0QmluZGluZ1Jvb3RGb3JIb3N0QmluZGluZ3MoYmluZGluZ1Jvb3RJbmR4LCBkaXJlY3RpdmVJZHgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBsVmlld1tkaXJlY3RpdmVJZHhdO1xuICAgICAgICAgICAgICAgIGhvc3RCaW5kaW5nRm4oMiAvKiBVcGRhdGUgKi8sIGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBzZXRTZWxlY3RlZEluZGV4KC0xKTtcbiAgICB9XG59XG4vKiogUmVmcmVzaGVzIGFsbCBjb250ZW50IHF1ZXJpZXMgZGVjbGFyZWQgYnkgZGlyZWN0aXZlcyBpbiBhIGdpdmVuIHZpZXcgKi9cbmZ1bmN0aW9uIHJlZnJlc2hDb250ZW50UXVlcmllcyh0VmlldywgbFZpZXcpIHtcbiAgICBjb25zdCBjb250ZW50UXVlcmllcyA9IHRWaWV3LmNvbnRlbnRRdWVyaWVzO1xuICAgIGlmIChjb250ZW50UXVlcmllcyAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRlbnRRdWVyaWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVN0YXJ0SWR4ID0gY29udGVudFF1ZXJpZXNbaV07XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmVEZWZJZHggPSBjb250ZW50UXVlcmllc1tpICsgMV07XG4gICAgICAgICAgICBpZiAoZGlyZWN0aXZlRGVmSWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZURlZiA9IHRWaWV3LmRhdGFbZGlyZWN0aXZlRGVmSWR4XTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChkaXJlY3RpdmVEZWYsICdEaXJlY3RpdmVEZWYgbm90IGZvdW5kLicpO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICBhc3NlcnREZWZpbmVkKGRpcmVjdGl2ZURlZi5jb250ZW50UXVlcmllcywgJ2NvbnRlbnRRdWVyaWVzIGZ1bmN0aW9uIHNob3VsZCBiZSBkZWZpbmVkJyk7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFF1ZXJ5SW5kZXgocXVlcnlTdGFydElkeCk7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlRGVmLmNvbnRlbnRRdWVyaWVzKDIgLyogVXBkYXRlICovLCBsVmlld1tkaXJlY3RpdmVEZWZJZHhdLCBkaXJlY3RpdmVEZWZJZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqIFJlZnJlc2hlcyBjaGlsZCBjb21wb25lbnRzIGluIHRoZSBjdXJyZW50IHZpZXcgKHVwZGF0ZSBtb2RlKS4gKi9cbmZ1bmN0aW9uIHJlZnJlc2hDaGlsZENvbXBvbmVudHMoaG9zdExWaWV3LCBjb21wb25lbnRzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21wb25lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlZnJlc2hDb21wb25lbnQoaG9zdExWaWV3LCBjb21wb25lbnRzW2ldKTtcbiAgICB9XG59XG4vKiogUmVuZGVycyBjaGlsZCBjb21wb25lbnRzIGluIHRoZSBjdXJyZW50IHZpZXcgKGNyZWF0aW9uIG1vZGUpLiAqL1xuZnVuY3Rpb24gcmVuZGVyQ2hpbGRDb21wb25lbnRzKGhvc3RMVmlldywgY29tcG9uZW50cykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZW5kZXJDb21wb25lbnQkMShob3N0TFZpZXcsIGNvbXBvbmVudHNbaV0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUxWaWV3KHBhcmVudExWaWV3LCB0VmlldywgY29udGV4dCwgZmxhZ3MsIGhvc3QsIHRIb3N0Tm9kZSwgcmVuZGVyZXJGYWN0b3J5LCByZW5kZXJlciwgc2FuaXRpemVyLCBpbmplY3Rvcikge1xuICAgIGNvbnN0IGxWaWV3ID0gbmdEZXZNb2RlID8gY2xvbmVUb0xWaWV3RnJvbVRWaWV3Qmx1ZXByaW50KHRWaWV3KSA6IHRWaWV3LmJsdWVwcmludC5zbGljZSgpO1xuICAgIGxWaWV3W0hPU1RdID0gaG9zdDtcbiAgICBsVmlld1tGTEFHU10gPSBmbGFncyB8IDQgLyogQ3JlYXRpb25Nb2RlICovIHwgMTI4IC8qIEF0dGFjaGVkICovIHwgOCAvKiBGaXJzdExWaWV3UGFzcyAqLztcbiAgICByZXNldFByZU9yZGVySG9va0ZsYWdzKGxWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgdFZpZXcuZGVjbFROb2RlICYmIHBhcmVudExWaWV3ICYmIGFzc2VydFROb2RlRm9yTFZpZXcodFZpZXcuZGVjbFROb2RlLCBwYXJlbnRMVmlldyk7XG4gICAgbFZpZXdbUEFSRU5UXSA9IGxWaWV3W0RFQ0xBUkFUSU9OX1ZJRVddID0gcGFyZW50TFZpZXc7XG4gICAgbFZpZXdbQ09OVEVYVF0gPSBjb250ZXh0O1xuICAgIGxWaWV3W1JFTkRFUkVSX0ZBQ1RPUlldID0gKHJlbmRlcmVyRmFjdG9yeSB8fCBwYXJlbnRMVmlldyAmJiBwYXJlbnRMVmlld1tSRU5ERVJFUl9GQUNUT1JZXSk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobFZpZXdbUkVOREVSRVJfRkFDVE9SWV0sICdSZW5kZXJlckZhY3RvcnkgaXMgcmVxdWlyZWQnKTtcbiAgICBsVmlld1tSRU5ERVJFUl0gPSAocmVuZGVyZXIgfHwgcGFyZW50TFZpZXcgJiYgcGFyZW50TFZpZXdbUkVOREVSRVJdKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChsVmlld1tSRU5ERVJFUl0sICdSZW5kZXJlciBpcyByZXF1aXJlZCcpO1xuICAgIGxWaWV3W1NBTklUSVpFUl0gPSBzYW5pdGl6ZXIgfHwgcGFyZW50TFZpZXcgJiYgcGFyZW50TFZpZXdbU0FOSVRJWkVSXSB8fCBudWxsO1xuICAgIGxWaWV3W0lOSkVDVE9SJDFdID0gaW5qZWN0b3IgfHwgcGFyZW50TFZpZXcgJiYgcGFyZW50TFZpZXdbSU5KRUNUT1IkMV0gfHwgbnVsbDtcbiAgICBsVmlld1tUX0hPU1RdID0gdEhvc3ROb2RlO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbCh0Vmlldy50eXBlID09IDIgLyogRW1iZWRkZWQgKi8gPyBwYXJlbnRMVmlldyAhPT0gbnVsbCA6IHRydWUsIHRydWUsICdFbWJlZGRlZCB2aWV3cyBtdXN0IGhhdmUgcGFyZW50TFZpZXcnKTtcbiAgICBsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV10gPVxuICAgICAgICB0Vmlldy50eXBlID09IDIgLyogRW1iZWRkZWQgKi8gPyBwYXJlbnRMVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV10gOiBsVmlldztcbiAgICBuZ0Rldk1vZGUgJiYgYXR0YWNoTFZpZXdEZWJ1ZyhsVmlldyk7XG4gICAgcmV0dXJuIGxWaWV3O1xufVxuZnVuY3Rpb24gZ2V0T3JDcmVhdGVUTm9kZSh0VmlldywgaW5kZXgsIHR5cGUsIG5hbWUsIGF0dHJzKSB7XG4gICAgbmdEZXZNb2RlICYmIGluZGV4ICE9PSAwICYmIC8vIDAgYXJlIGJvZ3VzIG5vZGVzIGFuZCB0aGV5IGFyZSBPSy4gU2VlIGBjcmVhdGVDb250YWluZXJSZWZgIGluXG4gICAgICAgIC8vIGB2aWV3X2VuZ2luZV9jb21wYXRpYmlsaXR5YCBmb3IgYWRkaXRpb25hbCBjb250ZXh0LlxuICAgICAgICBhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwoaW5kZXgsIEhFQURFUl9PRkZTRVQsICdUTm9kZXMgY2FuXFwndCBiZSBpbiB0aGUgTFZpZXcgaGVhZGVyLicpO1xuICAgIC8vIEtlZXAgdGhpcyBmdW5jdGlvbiBzaG9ydCwgc28gdGhhdCB0aGUgVk0gd2lsbCBpbmxpbmUgaXQuXG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFB1cmVUTm9kZVR5cGUodHlwZSk7XG4gICAgbGV0IHROb2RlID0gdFZpZXcuZGF0YVtpbmRleF07XG4gICAgaWYgKHROb2RlID09PSBudWxsKSB7XG4gICAgICAgIHROb2RlID0gY3JlYXRlVE5vZGVBdEluZGV4KHRWaWV3LCBpbmRleCwgdHlwZSwgbmFtZSwgYXR0cnMpO1xuICAgICAgICBpZiAoaXNJbkkxOG5CbG9jaygpKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgaW4gaTE4biBibG9jayB0aGVuIGFsbCBlbGVtZW50cyBzaG91bGQgYmUgcHJlIGRlY2xhcmVkIHRocm91Z2ggYFBsYWNlaG9sZGVyYFxuICAgICAgICAgICAgLy8gU2VlIGBUTm9kZVR5cGUuUGxhY2Vob2xkZXJgIGFuZCBgTEZyYW1lLmluSTE4bmAgZm9yIG1vcmUgY29udGV4dC5cbiAgICAgICAgICAgIC8vIElmIHRoZSBgVE5vZGVgIHdhcyBub3QgcHJlLWRlY2xhcmVkIHRoYW4gaXQgbWVhbnMgaXQgd2FzIG5vdCBtZW50aW9uZWQgd2hpY2ggbWVhbnMgaXQgd2FzXG4gICAgICAgICAgICAvLyByZW1vdmVkLCBzbyB3ZSBtYXJrIGl0IGFzIGRldGFjaGVkLlxuICAgICAgICAgICAgdE5vZGUuZmxhZ3MgfD0gNjQgLyogaXNEZXRhY2hlZCAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0Tm9kZS50eXBlICYgNjQgLyogUGxhY2Vob2xkZXIgKi8pIHtcbiAgICAgICAgdE5vZGUudHlwZSA9IHR5cGU7XG4gICAgICAgIHROb2RlLnZhbHVlID0gbmFtZTtcbiAgICAgICAgdE5vZGUuYXR0cnMgPSBhdHRycztcbiAgICAgICAgY29uc3QgcGFyZW50ID0gZ2V0Q3VycmVudFBhcmVudFROb2RlKCk7XG4gICAgICAgIHROb2RlLmluamVjdG9ySW5kZXggPSBwYXJlbnQgPT09IG51bGwgPyAtMSA6IHBhcmVudC5pbmplY3RvckluZGV4O1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVGb3JUVmlldyh0Tm9kZSwgdFZpZXcpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwoaW5kZXgsIHROb2RlLmluZGV4LCAnRXhwZWN0aW5nIHNhbWUgaW5kZXgnKTtcbiAgICB9XG4gICAgc2V0Q3VycmVudFROb2RlKHROb2RlLCB0cnVlKTtcbiAgICByZXR1cm4gdE5vZGU7XG59XG5mdW5jdGlvbiBjcmVhdGVUTm9kZUF0SW5kZXgodFZpZXcsIGluZGV4LCB0eXBlLCBuYW1lLCBhdHRycykge1xuICAgIGNvbnN0IGN1cnJlbnRUTm9kZSA9IGdldEN1cnJlbnRUTm9kZVBsYWNlaG9sZGVyT2soKTtcbiAgICBjb25zdCBpc1BhcmVudCA9IGlzQ3VycmVudFROb2RlUGFyZW50KCk7XG4gICAgY29uc3QgcGFyZW50ID0gaXNQYXJlbnQgPyBjdXJyZW50VE5vZGUgOiBjdXJyZW50VE5vZGUgJiYgY3VycmVudFROb2RlLnBhcmVudDtcbiAgICAvLyBQYXJlbnRzIGNhbm5vdCBjcm9zcyBjb21wb25lbnQgYm91bmRhcmllcyBiZWNhdXNlIGNvbXBvbmVudHMgd2lsbCBiZSB1c2VkIGluIG11bHRpcGxlIHBsYWNlcy5cbiAgICBjb25zdCB0Tm9kZSA9IHRWaWV3LmRhdGFbaW5kZXhdID1cbiAgICAgICAgY3JlYXRlVE5vZGUodFZpZXcsIHBhcmVudCwgdHlwZSwgaW5kZXgsIG5hbWUsIGF0dHJzKTtcbiAgICAvLyBBc3NpZ24gYSBwb2ludGVyIHRvIHRoZSBmaXJzdCBjaGlsZCBub2RlIG9mIGEgZ2l2ZW4gdmlldy4gVGhlIGZpcnN0IG5vZGUgaXMgbm90IGFsd2F5cyB0aGUgb25lXG4gICAgLy8gYXQgaW5kZXggMCwgaW4gY2FzZSBvZiBpMThuLCBpbmRleCAwIGNhbiBiZSB0aGUgaW5zdHJ1Y3Rpb24gYGkxOG5TdGFydGAgYW5kIHRoZSBmaXJzdCBub2RlIGhhc1xuICAgIC8vIHRoZSBpbmRleCAxIG9yIG1vcmUsIHNvIHdlIGNhbid0IGp1c3QgY2hlY2sgbm9kZSBpbmRleC5cbiAgICBpZiAodFZpZXcuZmlyc3RDaGlsZCA9PT0gbnVsbCkge1xuICAgICAgICB0Vmlldy5maXJzdENoaWxkID0gdE5vZGU7XG4gICAgfVxuICAgIGlmIChjdXJyZW50VE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGlzUGFyZW50KSB7XG4gICAgICAgICAgICAvLyBGSVhNRShtaXNrbyk6IFRoaXMgbG9naWMgbG9va3MgdW5uZWNlc3NhcmlseSBjb21wbGljYXRlZC4gQ291bGQgd2Ugc2ltcGxpZnk/XG4gICAgICAgICAgICBpZiAoY3VycmVudFROb2RlLmNoaWxkID09IG51bGwgJiYgdE5vZGUucGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXJlIGluIHRoZSBzYW1lIHZpZXcsIHdoaWNoIG1lYW5zIHdlIGFyZSBhZGRpbmcgY29udGVudCBub2RlIHRvIHRoZSBwYXJlbnQgdmlldy5cbiAgICAgICAgICAgICAgICBjdXJyZW50VE5vZGUuY2hpbGQgPSB0Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50VE5vZGUubmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIEluIHRoZSBjYXNlIG9mIGkxOG4gdGhlIGBjdXJyZW50VE5vZGVgIG1heSBhbHJlYWR5IGJlIGxpbmtlZCwgaW4gd2hpY2ggY2FzZSB3ZSBkb24ndCB3YW50XG4gICAgICAgICAgICAgICAgLy8gdG8gYnJlYWsgdGhlIGxpbmtzIHdoaWNoIGkxOG4gY3JlYXRlZC5cbiAgICAgICAgICAgICAgICBjdXJyZW50VE5vZGUubmV4dCA9IHROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0Tm9kZTtcbn1cbi8qKlxuICogV2hlbiBlbGVtZW50cyBhcmUgY3JlYXRlZCBkeW5hbWljYWxseSBhZnRlciBhIHZpZXcgYmx1ZXByaW50IGlzIGNyZWF0ZWQgKGUuZy4gdGhyb3VnaFxuICogaTE4bkFwcGx5KCkpLCB3ZSBuZWVkIHRvIGFkanVzdCB0aGUgYmx1ZXByaW50IGZvciBmdXR1cmVcbiAqIHRlbXBsYXRlIHBhc3Nlcy5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgYFRWaWV3YCBhc3NvY2lhdGVkIHdpdGggYExWaWV3YFxuICogQHBhcmFtIGxWaWV3IFRoZSBgTFZpZXdgIGNvbnRhaW5pbmcgdGhlIGJsdWVwcmludCB0byBhZGp1c3RcbiAqIEBwYXJhbSBudW1TbG90c1RvQWxsb2MgVGhlIG51bWJlciBvZiBzbG90cyB0byBhbGxvYyBpbiB0aGUgTFZpZXcsIHNob3VsZCBiZSA+MFxuICogQHBhcmFtIGluaXRpYWxWYWx1ZSBJbml0aWFsIHZhbHVlIHRvIHN0b3JlIGluIGJsdWVwcmludFxuICovXG5mdW5jdGlvbiBhbGxvY0V4cGFuZG8odFZpZXcsIGxWaWV3LCBudW1TbG90c1RvQWxsb2MsIGluaXRpYWxWYWx1ZSkge1xuICAgIGlmIChudW1TbG90c1RvQWxsb2MgPT09IDApXG4gICAgICAgIHJldHVybiAtMTtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0Vmlldyk7XG4gICAgICAgIGFzc2VydFNhbWUodFZpZXcsIGxWaWV3W1RWSUVXXSwgJ2BMVmlld2AgbXVzdCBiZSBhc3NvY2lhdGVkIHdpdGggYFRWaWV3YCEnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwodFZpZXcuZGF0YS5sZW5ndGgsIGxWaWV3Lmxlbmd0aCwgJ0V4cGVjdGluZyBMVmlldyB0byBiZSBzYW1lIHNpemUgYXMgVFZpZXcnKTtcbiAgICAgICAgYXNzZXJ0RXF1YWwodFZpZXcuZGF0YS5sZW5ndGgsIHRWaWV3LmJsdWVwcmludC5sZW5ndGgsICdFeHBlY3RpbmcgQmx1ZXByaW50IHRvIGJlIHNhbWUgc2l6ZSBhcyBUVmlldycpO1xuICAgICAgICBhc3NlcnRGaXJzdFVwZGF0ZVBhc3ModFZpZXcpO1xuICAgIH1cbiAgICBjb25zdCBhbGxvY0lkeCA9IGxWaWV3Lmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVNsb3RzVG9BbGxvYzsgaSsrKSB7XG4gICAgICAgIGxWaWV3LnB1c2goaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgdFZpZXcuYmx1ZXByaW50LnB1c2goaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgdFZpZXcuZGF0YS5wdXNoKG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gYWxsb2NJZHg7XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLyBSZW5kZXJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vKipcbiAqIFByb2Nlc3NlcyBhIHZpZXcgaW4gdGhlIGNyZWF0aW9uIG1vZGUuIFRoaXMgaW5jbHVkZXMgYSBudW1iZXIgb2Ygc3RlcHMgaW4gYSBzcGVjaWZpYyBvcmRlcjpcbiAqIC0gY3JlYXRpbmcgdmlldyBxdWVyeSBmdW5jdGlvbnMgKGlmIGFueSk7XG4gKiAtIGV4ZWN1dGluZyBhIHRlbXBsYXRlIGZ1bmN0aW9uIGluIHRoZSBjcmVhdGlvbiBtb2RlO1xuICogLSB1cGRhdGluZyBzdGF0aWMgcXVlcmllcyAoaWYgYW55KTtcbiAqIC0gY3JlYXRpbmcgY2hpbGQgY29tcG9uZW50cyBkZWZpbmVkIGluIGEgZ2l2ZW4gdmlldy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyVmlldyh0VmlldywgbFZpZXcsIGNvbnRleHQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwoaXNDcmVhdGlvbk1vZGUobFZpZXcpLCB0cnVlLCAnU2hvdWxkIGJlIHJ1biBpbiBjcmVhdGlvbiBtb2RlJyk7XG4gICAgZW50ZXJWaWV3KGxWaWV3KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB2aWV3UXVlcnkgPSB0Vmlldy52aWV3UXVlcnk7XG4gICAgICAgIGlmICh2aWV3UXVlcnkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGV4ZWN1dGVWaWV3UXVlcnlGbigxIC8qIENyZWF0ZSAqLywgdmlld1F1ZXJ5LCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFeGVjdXRlIGEgdGVtcGxhdGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgdmlldywgaWYgaXQgZXhpc3RzLiBBIHRlbXBsYXRlIGZ1bmN0aW9uIG1pZ2h0IG5vdCBiZVxuICAgICAgICAvLyBkZWZpbmVkIGZvciB0aGUgcm9vdCBjb21wb25lbnQgdmlld3MuXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlRm4gPSB0Vmlldy50ZW1wbGF0ZTtcbiAgICAgICAgaWYgKHRlbXBsYXRlRm4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGV4ZWN1dGVUZW1wbGF0ZSh0VmlldywgbFZpZXcsIHRlbXBsYXRlRm4sIDEgLyogQ3JlYXRlICovLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGlzIG5lZWRzIHRvIGJlIHNldCBiZWZvcmUgY2hpbGRyZW4gYXJlIHByb2Nlc3NlZCB0byBzdXBwb3J0IHJlY3Vyc2l2ZSBjb21wb25lbnRzLlxuICAgICAgICAvLyBUaGlzIG11c3QgYmUgc2V0IHRvIGZhbHNlIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBmaXJzdCBjcmVhdGlvbiBydW4gYmVjYXVzZSBpbiBhblxuICAgICAgICAvLyBuZ0ZvciBsb29wLCBhbGwgdGhlIHZpZXdzIHdpbGwgYmUgY3JlYXRlZCB0b2dldGhlciBiZWZvcmUgdXBkYXRlIG1vZGUgcnVucyBhbmQgdHVybnNcbiAgICAgICAgLy8gb2ZmIGZpcnN0Q3JlYXRlUGFzcy4gSWYgd2UgZG9uJ3Qgc2V0IGl0IGhlcmUsIGluc3RhbmNlcyB3aWxsIHBlcmZvcm0gZGlyZWN0aXZlXG4gICAgICAgIC8vIG1hdGNoaW5nLCBldGMgYWdhaW4gYW5kIGFnYWluLlxuICAgICAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgICAgICB0Vmlldy5maXJzdENyZWF0ZVBhc3MgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSByZXNvbHZlIGNvbnRlbnQgcXVlcmllcyBzcGVjaWZpY2FsbHkgbWFya2VkIGFzIGBzdGF0aWNgIGluIGNyZWF0aW9uIG1vZGUuIER5bmFtaWNcbiAgICAgICAgLy8gY29udGVudCBxdWVyaWVzIGFyZSByZXNvbHZlZCBkdXJpbmcgY2hhbmdlIGRldGVjdGlvbiAoaS5lLiB1cGRhdGUgbW9kZSksIGFmdGVyIGVtYmVkZGVkXG4gICAgICAgIC8vIHZpZXdzIGFyZSByZWZyZXNoZWQgKHNlZSBibG9jayBhYm92ZSkuXG4gICAgICAgIGlmICh0Vmlldy5zdGF0aWNDb250ZW50UXVlcmllcykge1xuICAgICAgICAgICAgcmVmcmVzaENvbnRlbnRRdWVyaWVzKHRWaWV3LCBsVmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgbXVzdCBtYXRlcmlhbGl6ZSBxdWVyeSByZXN1bHRzIGJlZm9yZSBjaGlsZCBjb21wb25lbnRzIGFyZSBwcm9jZXNzZWRcbiAgICAgICAgLy8gaW4gY2FzZSBhIGNoaWxkIGNvbXBvbmVudCBoYXMgcHJvamVjdGVkIGEgY29udGFpbmVyLiBUaGUgTENvbnRhaW5lciBuZWVkc1xuICAgICAgICAvLyB0byBleGlzdCBzbyB0aGUgZW1iZWRkZWQgdmlld3MgYXJlIHByb3Blcmx5IGF0dGFjaGVkIGJ5IHRoZSBjb250YWluZXIuXG4gICAgICAgIGlmICh0Vmlldy5zdGF0aWNWaWV3UXVlcmllcykge1xuICAgICAgICAgICAgZXhlY3V0ZVZpZXdRdWVyeUZuKDIgLyogVXBkYXRlICovLCB0Vmlldy52aWV3UXVlcnksIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbmRlciBjaGlsZCBjb21wb25lbnQgdmlld3MuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudHMgPSB0Vmlldy5jb21wb25lbnRzO1xuICAgICAgICBpZiAoY29tcG9uZW50cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVuZGVyQ2hpbGRDb21wb25lbnRzKGxWaWV3LCBjb21wb25lbnRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gSWYgd2UgZGlkbid0IG1hbmFnZSB0byBnZXQgcGFzdCB0aGUgZmlyc3QgdGVtcGxhdGUgcGFzcyBkdWUgdG9cbiAgICAgICAgLy8gYW4gZXJyb3IsIG1hcmsgdGhlIHZpZXcgYXMgY29ycnVwdGVkIHNvIHdlIGNhbiB0cnkgdG8gcmVjb3Zlci5cbiAgICAgICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICAgICAgdFZpZXcuaW5jb21wbGV0ZUZpcnN0UGFzcyA9IHRydWU7XG4gICAgICAgICAgICB0Vmlldy5maXJzdENyZWF0ZVBhc3MgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGxWaWV3W0ZMQUdTXSAmPSB+NCAvKiBDcmVhdGlvbk1vZGUgKi87XG4gICAgICAgIGxlYXZlVmlldygpO1xuICAgIH1cbn1cbi8qKlxuICogUHJvY2Vzc2VzIGEgdmlldyBpbiB1cGRhdGUgbW9kZS4gVGhpcyBpbmNsdWRlcyBhIG51bWJlciBvZiBzdGVwcyBpbiBhIHNwZWNpZmljIG9yZGVyOlxuICogLSBleGVjdXRpbmcgYSB0ZW1wbGF0ZSBmdW5jdGlvbiBpbiB1cGRhdGUgbW9kZTtcbiAqIC0gZXhlY3V0aW5nIGhvb2tzO1xuICogLSByZWZyZXNoaW5nIHF1ZXJpZXM7XG4gKiAtIHNldHRpbmcgaG9zdCBiaW5kaW5ncztcbiAqIC0gcmVmcmVzaGluZyBjaGlsZCAoZW1iZWRkZWQgYW5kIGNvbXBvbmVudCkgdmlld3MuXG4gKi9cbmZ1bmN0aW9uIHJlZnJlc2hWaWV3KHRWaWV3LCBsVmlldywgdGVtcGxhdGVGbiwgY29udGV4dCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbChpc0NyZWF0aW9uTW9kZShsVmlldyksIGZhbHNlLCAnU2hvdWxkIGJlIHJ1biBpbiB1cGRhdGUgbW9kZScpO1xuICAgIGNvbnN0IGZsYWdzID0gbFZpZXdbRkxBR1NdO1xuICAgIGlmICgoZmxhZ3MgJiAyNTYgLyogRGVzdHJveWVkICovKSA9PT0gMjU2IC8qIERlc3Ryb3llZCAqLylcbiAgICAgICAgcmV0dXJuO1xuICAgIGVudGVyVmlldyhsVmlldyk7XG4gICAgLy8gQ2hlY2sgbm8gY2hhbmdlcyBtb2RlIGlzIGEgZGV2IG9ubHkgbW9kZSB1c2VkIHRvIHZlcmlmeSB0aGF0IGJpbmRpbmdzIGhhdmUgbm90IGNoYW5nZWRcbiAgICAvLyBzaW5jZSB0aGV5IHdlcmUgYXNzaWduZWQuIFdlIGRvIG5vdCB3YW50IHRvIGV4ZWN1dGUgbGlmZWN5Y2xlIGhvb2tzIGluIHRoYXQgbW9kZS5cbiAgICBjb25zdCBpc0luQ2hlY2tOb0NoYW5nZXNQYXNzID0gaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSgpO1xuICAgIHRyeSB7XG4gICAgICAgIHJlc2V0UHJlT3JkZXJIb29rRmxhZ3MobFZpZXcpO1xuICAgICAgICBzZXRCaW5kaW5nSW5kZXgodFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgpO1xuICAgICAgICBpZiAodGVtcGxhdGVGbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZXhlY3V0ZVRlbXBsYXRlKHRWaWV3LCBsVmlldywgdGVtcGxhdGVGbiwgMiAvKiBVcGRhdGUgKi8sIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhvb2tzSW5pdFBoYXNlQ29tcGxldGVkID0gKGZsYWdzICYgMyAvKiBJbml0UGhhc2VTdGF0ZU1hc2sgKi8pID09PSAzIC8qIEluaXRQaGFzZUNvbXBsZXRlZCAqLztcbiAgICAgICAgLy8gZXhlY3V0ZSBwcmUtb3JkZXIgaG9va3MgKE9uSW5pdCwgT25DaGFuZ2VzLCBEb0NoZWNrKVxuICAgICAgICAvLyBQRVJGIFdBUk5JTkc6IGRvIE5PVCBleHRyYWN0IHRoaXMgdG8gYSBzZXBhcmF0ZSBmdW5jdGlvbiB3aXRob3V0IHJ1bm5pbmcgYmVuY2htYXJrc1xuICAgICAgICBpZiAoIWlzSW5DaGVja05vQ2hhbmdlc1Bhc3MpIHtcbiAgICAgICAgICAgIGlmIChob29rc0luaXRQaGFzZUNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZU9yZGVyQ2hlY2tIb29rcyA9IHRWaWV3LnByZU9yZGVyQ2hlY2tIb29rcztcbiAgICAgICAgICAgICAgICBpZiAocHJlT3JkZXJDaGVja0hvb2tzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVDaGVja0hvb2tzKGxWaWV3LCBwcmVPcmRlckNoZWNrSG9va3MsIG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZU9yZGVySG9va3MgPSB0Vmlldy5wcmVPcmRlckhvb2tzO1xuICAgICAgICAgICAgICAgIGlmIChwcmVPcmRlckhvb2tzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVJbml0QW5kQ2hlY2tIb29rcyhsVmlldywgcHJlT3JkZXJIb29rcywgMCAvKiBPbkluaXRIb29rc1RvQmVSdW4gKi8sIG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmNyZW1lbnRJbml0UGhhc2VGbGFncyhsVmlldywgMCAvKiBPbkluaXRIb29rc1RvQmVSdW4gKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZpcnN0IG1hcmsgdHJhbnNwbGFudGVkIHZpZXdzIHRoYXQgYXJlIGRlY2xhcmVkIGluIHRoaXMgbFZpZXcgYXMgbmVlZGluZyBhIHJlZnJlc2ggYXQgdGhlaXJcbiAgICAgICAgLy8gaW5zZXJ0aW9uIHBvaW50cy4gVGhpcyBpcyBuZWVkZWQgdG8gYXZvaWQgdGhlIHNpdHVhdGlvbiB3aGVyZSB0aGUgdGVtcGxhdGUgaXMgZGVmaW5lZCBpbiB0aGlzXG4gICAgICAgIC8vIGBMVmlld2AgYnV0IGl0cyBkZWNsYXJhdGlvbiBhcHBlYXJzIGFmdGVyIHRoZSBpbnNlcnRpb24gY29tcG9uZW50LlxuICAgICAgICBtYXJrVHJhbnNwbGFudGVkVmlld3NGb3JSZWZyZXNoKGxWaWV3KTtcbiAgICAgICAgcmVmcmVzaEVtYmVkZGVkVmlld3MobFZpZXcpO1xuICAgICAgICAvLyBDb250ZW50IHF1ZXJ5IHJlc3VsdHMgbXVzdCBiZSByZWZyZXNoZWQgYmVmb3JlIGNvbnRlbnQgaG9va3MgYXJlIGNhbGxlZC5cbiAgICAgICAgaWYgKHRWaWV3LmNvbnRlbnRRdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZWZyZXNoQ29udGVudFF1ZXJpZXModFZpZXcsIGxWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBleGVjdXRlIGNvbnRlbnQgaG9va3MgKEFmdGVyQ29udGVudEluaXQsIEFmdGVyQ29udGVudENoZWNrZWQpXG4gICAgICAgIC8vIFBFUkYgV0FSTklORzogZG8gTk9UIGV4dHJhY3QgdGhpcyB0byBhIHNlcGFyYXRlIGZ1bmN0aW9uIHdpdGhvdXQgcnVubmluZyBiZW5jaG1hcmtzXG4gICAgICAgIGlmICghaXNJbkNoZWNrTm9DaGFuZ2VzUGFzcykge1xuICAgICAgICAgICAgaWYgKGhvb2tzSW5pdFBoYXNlQ29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudENoZWNrSG9va3MgPSB0Vmlldy5jb250ZW50Q2hlY2tIb29rcztcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudENoZWNrSG9va3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZUNoZWNrSG9va3MobFZpZXcsIGNvbnRlbnRDaGVja0hvb2tzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50SG9va3MgPSB0Vmlldy5jb250ZW50SG9va3M7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRIb29rcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBleGVjdXRlSW5pdEFuZENoZWNrSG9va3MobFZpZXcsIGNvbnRlbnRIb29rcywgMSAvKiBBZnRlckNvbnRlbnRJbml0SG9va3NUb0JlUnVuICovKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50SW5pdFBoYXNlRmxhZ3MobFZpZXcsIDEgLyogQWZ0ZXJDb250ZW50SW5pdEhvb2tzVG9CZVJ1biAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzc0hvc3RCaW5kaW5nT3BDb2Rlcyh0VmlldywgbFZpZXcpO1xuICAgICAgICAvLyBSZWZyZXNoIGNoaWxkIGNvbXBvbmVudCB2aWV3cy5cbiAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IHRWaWV3LmNvbXBvbmVudHM7XG4gICAgICAgIGlmIChjb21wb25lbnRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZWZyZXNoQ2hpbGRDb21wb25lbnRzKGxWaWV3LCBjb21wb25lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBWaWV3IHF1ZXJpZXMgbXVzdCBleGVjdXRlIGFmdGVyIHJlZnJlc2hpbmcgY2hpbGQgY29tcG9uZW50cyBiZWNhdXNlIGEgdGVtcGxhdGUgaW4gdGhpcyB2aWV3XG4gICAgICAgIC8vIGNvdWxkIGJlIGluc2VydGVkIGluIGEgY2hpbGQgY29tcG9uZW50LiBJZiB0aGUgdmlldyBxdWVyeSBleGVjdXRlcyBiZWZvcmUgY2hpbGQgY29tcG9uZW50XG4gICAgICAgIC8vIHJlZnJlc2gsIHRoZSB0ZW1wbGF0ZSBtaWdodCBub3QgeWV0IGJlIGluc2VydGVkLlxuICAgICAgICBjb25zdCB2aWV3UXVlcnkgPSB0Vmlldy52aWV3UXVlcnk7XG4gICAgICAgIGlmICh2aWV3UXVlcnkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGV4ZWN1dGVWaWV3UXVlcnlGbigyIC8qIFVwZGF0ZSAqLywgdmlld1F1ZXJ5LCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBleGVjdXRlIHZpZXcgaG9va3MgKEFmdGVyVmlld0luaXQsIEFmdGVyVmlld0NoZWNrZWQpXG4gICAgICAgIC8vIFBFUkYgV0FSTklORzogZG8gTk9UIGV4dHJhY3QgdGhpcyB0byBhIHNlcGFyYXRlIGZ1bmN0aW9uIHdpdGhvdXQgcnVubmluZyBiZW5jaG1hcmtzXG4gICAgICAgIGlmICghaXNJbkNoZWNrTm9DaGFuZ2VzUGFzcykge1xuICAgICAgICAgICAgaWYgKGhvb2tzSW5pdFBoYXNlQ29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgdmlld0NoZWNrSG9va3MgPSB0Vmlldy52aWV3Q2hlY2tIb29rcztcbiAgICAgICAgICAgICAgICBpZiAodmlld0NoZWNrSG9va3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZUNoZWNrSG9va3MobFZpZXcsIHZpZXdDaGVja0hvb2tzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2aWV3SG9va3MgPSB0Vmlldy52aWV3SG9va3M7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXdIb29rcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBleGVjdXRlSW5pdEFuZENoZWNrSG9va3MobFZpZXcsIHZpZXdIb29rcywgMiAvKiBBZnRlclZpZXdJbml0SG9va3NUb0JlUnVuICovKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50SW5pdFBoYXNlRmxhZ3MobFZpZXcsIDIgLyogQWZ0ZXJWaWV3SW5pdEhvb2tzVG9CZVJ1biAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRWaWV3LmZpcnN0VXBkYXRlUGFzcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBtYWtlIHN1cmUgdGhhdCB3ZSBvbmx5IGZsaXAgdGhlIGZsYWcgb24gc3VjY2Vzc2Z1bCBgcmVmcmVzaFZpZXdgIG9ubHlcbiAgICAgICAgICAgIC8vIERvbid0IGRvIHRoaXMgaW4gYGZpbmFsbHlgIGJsb2NrLlxuICAgICAgICAgICAgLy8gSWYgd2UgZGlkIHRoaXMgaW4gYGZpbmFsbHlgIGJsb2NrIHRoZW4gYW4gZXhjZXB0aW9uIGNvdWxkIGJsb2NrIHRoZSBleGVjdXRpb24gb2Ygc3R5bGluZ1xuICAgICAgICAgICAgLy8gaW5zdHJ1Y3Rpb25zIHdoaWNoIGluIHR1cm4gd291bGQgYmUgdW5hYmxlIHRvIGluc2VydCB0aGVtc2VsdmVzIGludG8gdGhlIHN0eWxpbmcgbGlua2VkXG4gICAgICAgICAgICAvLyBsaXN0LiBUaGUgcmVzdWx0IG9mIHRoaXMgd291bGQgYmUgdGhhdCBpZiB0aGUgZXhjZXB0aW9uIHdvdWxkIG5vdCBiZSB0aHJvdyBvbiBzdWJzZXF1ZW50IENEXG4gICAgICAgICAgICAvLyB0aGUgc3R5bGluZyB3b3VsZCBiZSB1bmFibGUgdG8gcHJvY2VzcyBpdCBkYXRhIGFuZCByZWZsZWN0IHRvIHRoZSBET00uXG4gICAgICAgICAgICB0Vmlldy5maXJzdFVwZGF0ZVBhc3MgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEbyBub3QgcmVzZXQgdGhlIGRpcnR5IHN0YXRlIHdoZW4gcnVubmluZyBpbiBjaGVjayBubyBjaGFuZ2VzIG1vZGUuIFdlIGRvbid0IHdhbnQgY29tcG9uZW50c1xuICAgICAgICAvLyB0byBiZWhhdmUgZGlmZmVyZW50bHkgZGVwZW5kaW5nIG9uIHdoZXRoZXIgY2hlY2sgbm8gY2hhbmdlcyBpcyBlbmFibGVkIG9yIG5vdC4gRm9yIGV4YW1wbGU6XG4gICAgICAgIC8vIE1hcmtpbmcgYW4gT25QdXNoIGNvbXBvbmVudCBhcyBkaXJ0eSBmcm9tIHdpdGhpbiB0aGUgYG5nQWZ0ZXJWaWV3SW5pdGAgaG9vayBpbiBvcmRlciB0b1xuICAgICAgICAvLyByZWZyZXNoIGEgYE5nQ2xhc3NgIGJpbmRpbmcgc2hvdWxkIHdvcmsuIElmIHdlIHdvdWxkIHJlc2V0IHRoZSBkaXJ0eSBzdGF0ZSBpbiB0aGUgY2hlY2tcbiAgICAgICAgLy8gbm8gY2hhbmdlcyBjeWNsZSwgdGhlIGNvbXBvbmVudCB3b3VsZCBiZSBub3QgYmUgZGlydHkgZm9yIHRoZSBuZXh0IHVwZGF0ZSBwYXNzLiBUaGlzIHdvdWxkXG4gICAgICAgIC8vIGJlIGRpZmZlcmVudCBpbiBwcm9kdWN0aW9uIG1vZGUgd2hlcmUgdGhlIGNvbXBvbmVudCBkaXJ0eSBzdGF0ZSBpcyBub3QgcmVzZXQuXG4gICAgICAgIGlmICghaXNJbkNoZWNrTm9DaGFuZ2VzUGFzcykge1xuICAgICAgICAgICAgbFZpZXdbRkxBR1NdICY9IH4oNjQgLyogRGlydHkgKi8gfCA4IC8qIEZpcnN0TFZpZXdQYXNzICovKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobFZpZXdbRkxBR1NdICYgMTAyNCAvKiBSZWZyZXNoVHJhbnNwbGFudGVkVmlldyAqLykge1xuICAgICAgICAgICAgbFZpZXdbRkxBR1NdICY9IH4xMDI0IC8qIFJlZnJlc2hUcmFuc3BsYW50ZWRWaWV3ICovO1xuICAgICAgICAgICAgdXBkYXRlVHJhbnNwbGFudGVkVmlld0NvdW50KGxWaWV3W1BBUkVOVF0sIC0xKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgbGVhdmVWaWV3KCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50T3JUZW1wbGF0ZSh0VmlldywgbFZpZXcsIHRlbXBsYXRlRm4sIGNvbnRleHQpIHtcbiAgICBjb25zdCByZW5kZXJlckZhY3RvcnkgPSBsVmlld1tSRU5ERVJFUl9GQUNUT1JZXTtcbiAgICBjb25zdCBub3JtYWxFeGVjdXRpb25QYXRoID0gIWlzSW5DaGVja05vQ2hhbmdlc01vZGUoKTtcbiAgICBjb25zdCBjcmVhdGlvbk1vZGVJc0FjdGl2ZSA9IGlzQ3JlYXRpb25Nb2RlKGxWaWV3KTtcbiAgICB0cnkge1xuICAgICAgICBpZiAobm9ybWFsRXhlY3V0aW9uUGF0aCAmJiAhY3JlYXRpb25Nb2RlSXNBY3RpdmUgJiYgcmVuZGVyZXJGYWN0b3J5LmJlZ2luKSB7XG4gICAgICAgICAgICByZW5kZXJlckZhY3RvcnkuYmVnaW4oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3JlYXRpb25Nb2RlSXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJlbmRlclZpZXcodFZpZXcsIGxWaWV3LCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZWZyZXNoVmlldyh0VmlldywgbFZpZXcsIHRlbXBsYXRlRm4sIGNvbnRleHQpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgaWYgKG5vcm1hbEV4ZWN1dGlvblBhdGggJiYgIWNyZWF0aW9uTW9kZUlzQWN0aXZlICYmIHJlbmRlcmVyRmFjdG9yeS5lbmQpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyRmFjdG9yeS5lbmQoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGV4ZWN1dGVUZW1wbGF0ZSh0VmlldywgbFZpZXcsIHRlbXBsYXRlRm4sIHJmLCBjb250ZXh0KSB7XG4gICAgY29uc3QgcHJldlNlbGVjdGVkSW5kZXggPSBnZXRTZWxlY3RlZEluZGV4KCk7XG4gICAgY29uc3QgaXNVcGRhdGVQaGFzZSA9IHJmICYgMiAvKiBVcGRhdGUgKi87XG4gICAgdHJ5IHtcbiAgICAgICAgc2V0U2VsZWN0ZWRJbmRleCgtMSk7XG4gICAgICAgIGlmIChpc1VwZGF0ZVBoYXNlICYmIGxWaWV3Lmxlbmd0aCA+IEhFQURFUl9PRkZTRVQpIHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UncmUgdXBkYXRpbmcsIGluaGVyZW50bHkgc2VsZWN0IDAgc28gd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIGhhdmUgdG8gZ2VuZXJhdGUgdGhhdCBpbnN0cnVjdGlvbiBmb3IgbW9zdCB1cGRhdGUgYmxvY2tzLlxuICAgICAgICAgICAgc2VsZWN0SW5kZXhJbnRlcm5hbCh0VmlldywgbFZpZXcsIEhFQURFUl9PRkZTRVQsIGlzSW5DaGVja05vQ2hhbmdlc01vZGUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJlSG9va1R5cGUgPSBpc1VwZGF0ZVBoYXNlID8gMiAvKiBUZW1wbGF0ZVVwZGF0ZVN0YXJ0ICovIDogMCAvKiBUZW1wbGF0ZUNyZWF0ZVN0YXJ0ICovO1xuICAgICAgICBwcm9maWxlcihwcmVIb29rVHlwZSwgY29udGV4dCk7XG4gICAgICAgIHRlbXBsYXRlRm4ocmYsIGNvbnRleHQpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgc2V0U2VsZWN0ZWRJbmRleChwcmV2U2VsZWN0ZWRJbmRleCk7XG4gICAgICAgIGNvbnN0IHBvc3RIb29rVHlwZSA9IGlzVXBkYXRlUGhhc2UgPyAzIC8qIFRlbXBsYXRlVXBkYXRlRW5kICovIDogMSAvKiBUZW1wbGF0ZUNyZWF0ZUVuZCAqLztcbiAgICAgICAgcHJvZmlsZXIocG9zdEhvb2tUeXBlLCBjb250ZXh0KTtcbiAgICB9XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLyBFbGVtZW50XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZnVuY3Rpb24gZXhlY3V0ZUNvbnRlbnRRdWVyaWVzKHRWaWV3LCB0Tm9kZSwgbFZpZXcpIHtcbiAgICBpZiAoaXNDb250ZW50UXVlcnlIb3N0KHROb2RlKSkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0O1xuICAgICAgICBjb25zdCBlbmQgPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgICAgIGZvciAobGV0IGRpcmVjdGl2ZUluZGV4ID0gc3RhcnQ7IGRpcmVjdGl2ZUluZGV4IDwgZW5kOyBkaXJlY3RpdmVJbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBkZWYgPSB0Vmlldy5kYXRhW2RpcmVjdGl2ZUluZGV4XTtcbiAgICAgICAgICAgIGlmIChkZWYuY29udGVudFF1ZXJpZXMpIHtcbiAgICAgICAgICAgICAgICBkZWYuY29udGVudFF1ZXJpZXMoMSAvKiBDcmVhdGUgKi8sIGxWaWV3W2RpcmVjdGl2ZUluZGV4XSwgZGlyZWN0aXZlSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGVzIGRpcmVjdGl2ZSBpbnN0YW5jZXMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURpcmVjdGl2ZXNJbnN0YW5jZXModFZpZXcsIGxWaWV3LCB0Tm9kZSkge1xuICAgIGlmICghZ2V0QmluZGluZ3NFbmFibGVkKCkpXG4gICAgICAgIHJldHVybjtcbiAgICBpbnN0YW50aWF0ZUFsbERpcmVjdGl2ZXModFZpZXcsIGxWaWV3LCB0Tm9kZSwgZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgbFZpZXcpKTtcbiAgICBpZiAoKHROb2RlLmZsYWdzICYgMTI4IC8qIGhhc0hvc3RCaW5kaW5ncyAqLykgPT09IDEyOCAvKiBoYXNIb3N0QmluZGluZ3MgKi8pIHtcbiAgICAgICAgaW52b2tlRGlyZWN0aXZlc0hvc3RCaW5kaW5ncyh0VmlldywgbFZpZXcsIHROb2RlKTtcbiAgICB9XG59XG4vKipcbiAqIFRha2VzIGEgbGlzdCBvZiBsb2NhbCBuYW1lcyBhbmQgaW5kaWNlcyBhbmQgcHVzaGVzIHRoZSByZXNvbHZlZCBsb2NhbCB2YXJpYWJsZSB2YWx1ZXNcbiAqIHRvIExWaWV3IGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZXkgYXJlIGxvYWRlZCBpbiB0aGUgdGVtcGxhdGUgd2l0aCBsb2FkKCkuXG4gKi9cbmZ1bmN0aW9uIHNhdmVSZXNvbHZlZExvY2Fsc0luRGF0YSh2aWV3RGF0YSwgdE5vZGUsIGxvY2FsUmVmRXh0cmFjdG9yID0gZ2V0TmF0aXZlQnlUTm9kZSkge1xuICAgIGNvbnN0IGxvY2FsTmFtZXMgPSB0Tm9kZS5sb2NhbE5hbWVzO1xuICAgIGlmIChsb2NhbE5hbWVzICE9PSBudWxsKSB7XG4gICAgICAgIGxldCBsb2NhbEluZGV4ID0gdE5vZGUuaW5kZXggKyAxO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsTmFtZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gbG9jYWxOYW1lc1tpICsgMV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGluZGV4ID09PSAtMSA/XG4gICAgICAgICAgICAgICAgbG9jYWxSZWZFeHRyYWN0b3IodE5vZGUsIHZpZXdEYXRhKSA6XG4gICAgICAgICAgICAgICAgdmlld0RhdGFbaW5kZXhdO1xuICAgICAgICAgICAgdmlld0RhdGFbbG9jYWxJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBHZXRzIFRWaWV3IGZyb20gYSB0ZW1wbGF0ZSBmdW5jdGlvbiBvciBjcmVhdGVzIGEgbmV3IFRWaWV3XG4gKiBpZiBpdCBkb2Vzbid0IGFscmVhZHkgZXhpc3QuXG4gKlxuICogQHBhcmFtIGRlZiBDb21wb25lbnREZWZcbiAqIEByZXR1cm5zIFRWaWV3XG4gKi9cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlVENvbXBvbmVudFZpZXcoZGVmKSB7XG4gICAgY29uc3QgdFZpZXcgPSBkZWYudFZpZXc7XG4gICAgLy8gQ3JlYXRlIGEgVFZpZXcgaWYgdGhlcmUgaXNuJ3Qgb25lLCBvciByZWNyZWF0ZSBpdCBpZiB0aGUgZmlyc3QgY3JlYXRlIHBhc3MgZGlkbid0XG4gICAgLy8gY29tcGxldGUgc3VjY2Vzc2Z1bGx5IHNpbmNlIHdlIGNhbid0IGtub3cgZm9yIHN1cmUgd2hldGhlciBpdCdzIGluIGEgdXNhYmxlIHNoYXBlLlxuICAgIGlmICh0VmlldyA9PT0gbnVsbCB8fCB0Vmlldy5pbmNvbXBsZXRlRmlyc3RQYXNzKSB7XG4gICAgICAgIC8vIERlY2xhcmF0aW9uIG5vZGUgaGVyZSBpcyBudWxsIHNpbmNlIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gd2UgZHluYW1pY2FsbHkgY3JlYXRlIGFcbiAgICAgICAgLy8gY29tcG9uZW50IGFuZCBoZW5jZSB0aGVyZSBpcyBubyBkZWNsYXJhdGlvbi5cbiAgICAgICAgY29uc3QgZGVjbFROb2RlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGRlZi50VmlldyA9IGNyZWF0ZVRWaWV3KDEgLyogQ29tcG9uZW50ICovLCBkZWNsVE5vZGUsIGRlZi50ZW1wbGF0ZSwgZGVmLmRlY2xzLCBkZWYudmFycywgZGVmLmRpcmVjdGl2ZURlZnMsIGRlZi5waXBlRGVmcywgZGVmLnZpZXdRdWVyeSwgZGVmLnNjaGVtYXMsIGRlZi5jb25zdHMpO1xuICAgIH1cbiAgICByZXR1cm4gdFZpZXc7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBUVmlldyBpbnN0YW5jZVxuICpcbiAqIEBwYXJhbSB0eXBlIFR5cGUgb2YgYFRWaWV3YC5cbiAqIEBwYXJhbSBkZWNsVE5vZGUgRGVjbGFyYXRpb24gbG9jYXRpb24gb2YgdGhpcyBgVFZpZXdgLlxuICogQHBhcmFtIHRlbXBsYXRlRm4gVGVtcGxhdGUgZnVuY3Rpb25cbiAqIEBwYXJhbSBkZWNscyBUaGUgbnVtYmVyIG9mIG5vZGVzLCBsb2NhbCByZWZzLCBhbmQgcGlwZXMgaW4gdGhpcyB0ZW1wbGF0ZVxuICogQHBhcmFtIGRpcmVjdGl2ZXMgUmVnaXN0cnkgb2YgZGlyZWN0aXZlcyBmb3IgdGhpcyB2aWV3XG4gKiBAcGFyYW0gcGlwZXMgUmVnaXN0cnkgb2YgcGlwZXMgZm9yIHRoaXMgdmlld1xuICogQHBhcmFtIHZpZXdRdWVyeSBWaWV3IHF1ZXJpZXMgZm9yIHRoaXMgdmlld1xuICogQHBhcmFtIHNjaGVtYXMgU2NoZW1hcyBmb3IgdGhpcyB2aWV3XG4gKiBAcGFyYW0gY29uc3RzIENvbnN0YW50cyBmb3IgdGhpcyB2aWV3XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVRWaWV3KHR5cGUsIGRlY2xUTm9kZSwgdGVtcGxhdGVGbiwgZGVjbHMsIHZhcnMsIGRpcmVjdGl2ZXMsIHBpcGVzLCB2aWV3UXVlcnksIHNjaGVtYXMsIGNvbnN0c09yRmFjdG9yeSkge1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUudFZpZXcrKztcbiAgICBjb25zdCBiaW5kaW5nU3RhcnRJbmRleCA9IEhFQURFUl9PRkZTRVQgKyBkZWNscztcbiAgICAvLyBUaGlzIGxlbmd0aCBkb2VzIG5vdCB5ZXQgY29udGFpbiBob3N0IGJpbmRpbmdzIGZyb20gY2hpbGQgZGlyZWN0aXZlcyBiZWNhdXNlIGF0IHRoaXMgcG9pbnQsXG4gICAgLy8gd2UgZG9uJ3Qga25vdyB3aGljaCBkaXJlY3RpdmVzIGFyZSBhY3RpdmUgb24gdGhpcyB0ZW1wbGF0ZS4gQXMgc29vbiBhcyBhIGRpcmVjdGl2ZSBpcyBtYXRjaGVkXG4gICAgLy8gdGhhdCBoYXMgYSBob3N0IGJpbmRpbmcsIHdlIHdpbGwgdXBkYXRlIHRoZSBibHVlcHJpbnQgd2l0aCB0aGF0IGRlZidzIGhvc3RWYXJzIGNvdW50LlxuICAgIGNvbnN0IGluaXRpYWxWaWV3TGVuZ3RoID0gYmluZGluZ1N0YXJ0SW5kZXggKyB2YXJzO1xuICAgIGNvbnN0IGJsdWVwcmludCA9IGNyZWF0ZVZpZXdCbHVlcHJpbnQoYmluZGluZ1N0YXJ0SW5kZXgsIGluaXRpYWxWaWV3TGVuZ3RoKTtcbiAgICBjb25zdCBjb25zdHMgPSB0eXBlb2YgY29uc3RzT3JGYWN0b3J5ID09PSAnZnVuY3Rpb24nID8gY29uc3RzT3JGYWN0b3J5KCkgOiBjb25zdHNPckZhY3Rvcnk7XG4gICAgY29uc3QgdFZpZXcgPSBibHVlcHJpbnRbVFZJRVddID0gbmdEZXZNb2RlID9cbiAgICAgICAgbmV3IFRWaWV3Q29uc3RydWN0b3IodHlwZSwgLy8gdHlwZTogVFZpZXdUeXBlLFxuICAgICAgICBibHVlcHJpbnQsIC8vIGJsdWVwcmludDogTFZpZXcsXG4gICAgICAgIHRlbXBsYXRlRm4sIC8vIHRlbXBsYXRlOiBDb21wb25lbnRUZW1wbGF0ZTx7fT58bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gcXVlcmllczogVFF1ZXJpZXN8bnVsbFxuICAgICAgICB2aWV3UXVlcnksIC8vIHZpZXdRdWVyeTogVmlld1F1ZXJpZXNGdW5jdGlvbjx7fT58bnVsbCxcbiAgICAgICAgZGVjbFROb2RlLCAvLyBkZWNsVE5vZGU6IFROb2RlfG51bGwsXG4gICAgICAgIGNsb25lVG9UVmlld0RhdGEoYmx1ZXByaW50KS5maWxsKG51bGwsIGJpbmRpbmdTdGFydEluZGV4KSwgLy8gZGF0YTogVERhdGEsXG4gICAgICAgIGJpbmRpbmdTdGFydEluZGV4LCAvLyBiaW5kaW5nU3RhcnRJbmRleDogbnVtYmVyLFxuICAgICAgICBpbml0aWFsVmlld0xlbmd0aCwgLy8gZXhwYW5kb1N0YXJ0SW5kZXg6IG51bWJlcixcbiAgICAgICAgbnVsbCwgLy8gaG9zdEJpbmRpbmdPcENvZGVzOiBIb3N0QmluZGluZ09wQ29kZXMsXG4gICAgICAgIHRydWUsIC8vIGZpcnN0Q3JlYXRlUGFzczogYm9vbGVhbixcbiAgICAgICAgdHJ1ZSwgLy8gZmlyc3RVcGRhdGVQYXNzOiBib29sZWFuLFxuICAgICAgICBmYWxzZSwgLy8gc3RhdGljVmlld1F1ZXJpZXM6IGJvb2xlYW4sXG4gICAgICAgIGZhbHNlLCAvLyBzdGF0aWNDb250ZW50UXVlcmllczogYm9vbGVhbixcbiAgICAgICAgbnVsbCwgLy8gcHJlT3JkZXJIb29rczogSG9va0RhdGF8bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gcHJlT3JkZXJDaGVja0hvb2tzOiBIb29rRGF0YXxudWxsLFxuICAgICAgICBudWxsLCAvLyBjb250ZW50SG9va3M6IEhvb2tEYXRhfG51bGwsXG4gICAgICAgIG51bGwsIC8vIGNvbnRlbnRDaGVja0hvb2tzOiBIb29rRGF0YXxudWxsLFxuICAgICAgICBudWxsLCAvLyB2aWV3SG9va3M6IEhvb2tEYXRhfG51bGwsXG4gICAgICAgIG51bGwsIC8vIHZpZXdDaGVja0hvb2tzOiBIb29rRGF0YXxudWxsLFxuICAgICAgICBudWxsLCAvLyBkZXN0cm95SG9va3M6IERlc3Ryb3lIb29rRGF0YXxudWxsLFxuICAgICAgICBudWxsLCAvLyBjbGVhbnVwOiBhbnlbXXxudWxsLFxuICAgICAgICBudWxsLCAvLyBjb250ZW50UXVlcmllczogbnVtYmVyW118bnVsbCxcbiAgICAgICAgbnVsbCwgLy8gY29tcG9uZW50czogbnVtYmVyW118bnVsbCxcbiAgICAgICAgdHlwZW9mIGRpcmVjdGl2ZXMgPT09ICdmdW5jdGlvbicgPyAvL1xuICAgICAgICAgICAgZGlyZWN0aXZlcygpIDogLy9cbiAgICAgICAgICAgIGRpcmVjdGl2ZXMsIC8vIGRpcmVjdGl2ZVJlZ2lzdHJ5OiBEaXJlY3RpdmVEZWZMaXN0fG51bGwsXG4gICAgICAgIHR5cGVvZiBwaXBlcyA9PT0gJ2Z1bmN0aW9uJyA/IHBpcGVzKCkgOiBwaXBlcywgLy8gcGlwZVJlZ2lzdHJ5OiBQaXBlRGVmTGlzdHxudWxsLFxuICAgICAgICBudWxsLCAvLyBmaXJzdENoaWxkOiBUTm9kZXxudWxsLFxuICAgICAgICBzY2hlbWFzLCAvLyBzY2hlbWFzOiBTY2hlbWFNZXRhZGF0YVtdfG51bGwsXG4gICAgICAgIGNvbnN0cywgLy8gY29uc3RzOiBUQ29uc3RhbnRzfG51bGxcbiAgICAgICAgZmFsc2UsIC8vIGluY29tcGxldGVGaXJzdFBhc3M6IGJvb2xlYW5cbiAgICAgICAgZGVjbHMsIC8vIG5nRGV2TW9kZSBvbmx5OiBkZWNsc1xuICAgICAgICB2YXJzKSA6XG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBibHVlcHJpbnQ6IGJsdWVwcmludCxcbiAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZUZuLFxuICAgICAgICAgICAgcXVlcmllczogbnVsbCxcbiAgICAgICAgICAgIHZpZXdRdWVyeTogdmlld1F1ZXJ5LFxuICAgICAgICAgICAgZGVjbFROb2RlOiBkZWNsVE5vZGUsXG4gICAgICAgICAgICBkYXRhOiBibHVlcHJpbnQuc2xpY2UoKS5maWxsKG51bGwsIGJpbmRpbmdTdGFydEluZGV4KSxcbiAgICAgICAgICAgIGJpbmRpbmdTdGFydEluZGV4OiBiaW5kaW5nU3RhcnRJbmRleCxcbiAgICAgICAgICAgIGV4cGFuZG9TdGFydEluZGV4OiBpbml0aWFsVmlld0xlbmd0aCxcbiAgICAgICAgICAgIGhvc3RCaW5kaW5nT3BDb2RlczogbnVsbCxcbiAgICAgICAgICAgIGZpcnN0Q3JlYXRlUGFzczogdHJ1ZSxcbiAgICAgICAgICAgIGZpcnN0VXBkYXRlUGFzczogdHJ1ZSxcbiAgICAgICAgICAgIHN0YXRpY1ZpZXdRdWVyaWVzOiBmYWxzZSxcbiAgICAgICAgICAgIHN0YXRpY0NvbnRlbnRRdWVyaWVzOiBmYWxzZSxcbiAgICAgICAgICAgIHByZU9yZGVySG9va3M6IG51bGwsXG4gICAgICAgICAgICBwcmVPcmRlckNoZWNrSG9va3M6IG51bGwsXG4gICAgICAgICAgICBjb250ZW50SG9va3M6IG51bGwsXG4gICAgICAgICAgICBjb250ZW50Q2hlY2tIb29rczogbnVsbCxcbiAgICAgICAgICAgIHZpZXdIb29rczogbnVsbCxcbiAgICAgICAgICAgIHZpZXdDaGVja0hvb2tzOiBudWxsLFxuICAgICAgICAgICAgZGVzdHJveUhvb2tzOiBudWxsLFxuICAgICAgICAgICAgY2xlYW51cDogbnVsbCxcbiAgICAgICAgICAgIGNvbnRlbnRRdWVyaWVzOiBudWxsLFxuICAgICAgICAgICAgY29tcG9uZW50czogbnVsbCxcbiAgICAgICAgICAgIGRpcmVjdGl2ZVJlZ2lzdHJ5OiB0eXBlb2YgZGlyZWN0aXZlcyA9PT0gJ2Z1bmN0aW9uJyA/IGRpcmVjdGl2ZXMoKSA6IGRpcmVjdGl2ZXMsXG4gICAgICAgICAgICBwaXBlUmVnaXN0cnk6IHR5cGVvZiBwaXBlcyA9PT0gJ2Z1bmN0aW9uJyA/IHBpcGVzKCkgOiBwaXBlcyxcbiAgICAgICAgICAgIGZpcnN0Q2hpbGQ6IG51bGwsXG4gICAgICAgICAgICBzY2hlbWFzOiBzY2hlbWFzLFxuICAgICAgICAgICAgY29uc3RzOiBjb25zdHMsXG4gICAgICAgICAgICBpbmNvbXBsZXRlRmlyc3RQYXNzOiBmYWxzZVxuICAgICAgICB9O1xuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgLy8gRm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgaXQgaXMgaW1wb3J0YW50IHRoYXQgdGhlIHRWaWV3IHJldGFpbnMgdGhlIHNhbWUgc2hhcGUgZHVyaW5nIHJ1bnRpbWUuXG4gICAgICAgIC8vIChUbyBtYWtlIHN1cmUgdGhhdCBhbGwgb2YgdGhlIGNvZGUgaXMgbW9ub21vcnBoaWMuKSBGb3IgdGhpcyByZWFzb24gd2Ugc2VhbCB0aGUgb2JqZWN0IHRvXG4gICAgICAgIC8vIHByZXZlbnQgY2xhc3MgdHJhbnNpdGlvbnMuXG4gICAgICAgIE9iamVjdC5zZWFsKHRWaWV3KTtcbiAgICB9XG4gICAgcmV0dXJuIHRWaWV3O1xufVxuZnVuY3Rpb24gY3JlYXRlVmlld0JsdWVwcmludChiaW5kaW5nU3RhcnRJbmRleCwgaW5pdGlhbFZpZXdMZW5ndGgpIHtcbiAgICBjb25zdCBibHVlcHJpbnQgPSBuZ0Rldk1vZGUgPyBuZXcgTFZpZXdCbHVlcHJpbnQoKSA6IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5pdGlhbFZpZXdMZW5ndGg7IGkrKykge1xuICAgICAgICBibHVlcHJpbnQucHVzaChpIDwgYmluZGluZ1N0YXJ0SW5kZXggPyBudWxsIDogTk9fQ0hBTkdFKTtcbiAgICB9XG4gICAgcmV0dXJuIGJsdWVwcmludDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yKHRleHQsIHRva2VuKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihgUmVuZGVyZXI6ICR7dGV4dH0gWyR7c3RyaW5naWZ5Rm9yRXJyb3IodG9rZW4pfV1gKTtcbn1cbmZ1bmN0aW9uIGFzc2VydEhvc3ROb2RlRXhpc3RzKHJFbGVtZW50LCBlbGVtZW50T3JTZWxlY3Rvcikge1xuICAgIGlmICghckVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50T3JTZWxlY3RvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdIb3N0IG5vZGUgd2l0aCBzZWxlY3RvciBub3QgZm91bmQ6JywgZWxlbWVudE9yU2VsZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0hvc3Qgbm9kZSBpcyByZXF1aXJlZDonLCBlbGVtZW50T3JTZWxlY3Rvcik7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIExvY2F0ZXMgdGhlIGhvc3QgbmF0aXZlIGVsZW1lbnQsIHVzZWQgZm9yIGJvb3RzdHJhcHBpbmcgZXhpc3Rpbmcgbm9kZXMgaW50byByZW5kZXJpbmcgcGlwZWxpbmUuXG4gKlxuICogQHBhcmFtIHJlbmRlcmVyRmFjdG9yeSBGYWN0b3J5IGZ1bmN0aW9uIHRvIGNyZWF0ZSByZW5kZXJlciBpbnN0YW5jZS5cbiAqIEBwYXJhbSBlbGVtZW50T3JTZWxlY3RvciBSZW5kZXIgZWxlbWVudCBvciBDU1Mgc2VsZWN0b3IgdG8gbG9jYXRlIHRoZSBlbGVtZW50LlxuICogQHBhcmFtIGVuY2Fwc3VsYXRpb24gVmlldyBFbmNhcHN1bGF0aW9uIGRlZmluZWQgZm9yIGNvbXBvbmVudCB0aGF0IHJlcXVlc3RzIGhvc3QgZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gbG9jYXRlSG9zdEVsZW1lbnQocmVuZGVyZXIsIGVsZW1lbnRPclNlbGVjdG9yLCBlbmNhcHN1bGF0aW9uKSB7XG4gICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICAvLyBXaGVuIHVzaW5nIG5hdGl2ZSBTaGFkb3cgRE9NLCBkbyBub3QgY2xlYXIgaG9zdCBlbGVtZW50IHRvIGFsbG93IG5hdGl2ZSBzbG90IHByb2plY3Rpb25cbiAgICAgICAgY29uc3QgcHJlc2VydmVDb250ZW50ID0gZW5jYXBzdWxhdGlvbiA9PT0gVmlld0VuY2Fwc3VsYXRpb24kMS5TaGFkb3dEb207XG4gICAgICAgIHJldHVybiByZW5kZXJlci5zZWxlY3RSb290RWxlbWVudChlbGVtZW50T3JTZWxlY3RvciwgcHJlc2VydmVDb250ZW50KTtcbiAgICB9XG4gICAgbGV0IHJFbGVtZW50ID0gdHlwZW9mIGVsZW1lbnRPclNlbGVjdG9yID09PSAnc3RyaW5nJyA/XG4gICAgICAgIHJlbmRlcmVyLnF1ZXJ5U2VsZWN0b3IoZWxlbWVudE9yU2VsZWN0b3IpIDpcbiAgICAgICAgZWxlbWVudE9yU2VsZWN0b3I7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEhvc3ROb2RlRXhpc3RzKHJFbGVtZW50LCBlbGVtZW50T3JTZWxlY3Rvcik7XG4gICAgLy8gQWx3YXlzIGNsZWFyIGhvc3QgZWxlbWVudCdzIGNvbnRlbnQgd2hlbiBSZW5kZXJlcjMgaXMgaW4gdXNlLiBGb3IgcHJvY2VkdXJhbCByZW5kZXJlciBjYXNlIHdlXG4gICAgLy8gbWFrZSBpdCBkZXBlbmQgb24gd2hldGhlciBTaGFkb3dEb20gZW5jYXBzdWxhdGlvbiBpcyB1c2VkIChpbiB3aGljaCBjYXNlIHRoZSBjb250ZW50IHNob3VsZCBiZVxuICAgIC8vIHByZXNlcnZlZCB0byBhbGxvdyBuYXRpdmUgc2xvdCBwcm9qZWN0aW9uKS4gU2hhZG93RG9tIGVuY2Fwc3VsYXRpb24gcmVxdWlyZXMgcHJvY2VkdXJhbFxuICAgIC8vIHJlbmRlcmVyLCBhbmQgcHJvY2VkdXJhbCByZW5kZXJlciBjYXNlIGlzIGhhbmRsZWQgYWJvdmUuXG4gICAgckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgICByZXR1cm4gckVsZW1lbnQ7XG59XG4vKipcbiAqIFNhdmVzIGNvbnRleHQgZm9yIHRoaXMgY2xlYW51cCBmdW5jdGlvbiBpbiBMVmlldy5jbGVhbnVwSW5zdGFuY2VzLlxuICpcbiAqIE9uIHRoZSBmaXJzdCB0ZW1wbGF0ZSBwYXNzLCBzYXZlcyBpbiBUVmlldzpcbiAqIC0gQ2xlYW51cCBmdW5jdGlvblxuICogLSBJbmRleCBvZiBjb250ZXh0IHdlIGp1c3Qgc2F2ZWQgaW4gTFZpZXcuY2xlYW51cEluc3RhbmNlc1xuICpcbiAqIFRoaXMgZnVuY3Rpb24gY2FuIGFsc28gYmUgdXNlZCB0byBzdG9yZSBpbnN0YW5jZSBzcGVjaWZpYyBjbGVhbnVwIGZucy4gSW4gdGhhdCBjYXNlIHRoZSBgY29udGV4dGBcbiAqIGlzIGBudWxsYCBhbmQgdGhlIGZ1bmN0aW9uIGlzIHN0b3JlIGluIGBMVmlld2AgKHJhdGhlciB0aGFuIGl0IGBUVmlld2ApLlxuICovXG5mdW5jdGlvbiBzdG9yZUNsZWFudXBXaXRoQ29udGV4dCh0VmlldywgbFZpZXcsIGNvbnRleHQsIGNsZWFudXBGbikge1xuICAgIGNvbnN0IGxDbGVhbnVwID0gZ2V0T3JDcmVhdGVMVmlld0NsZWFudXAobFZpZXcpO1xuICAgIGlmIChjb250ZXh0ID09PSBudWxsKSB7XG4gICAgICAgIC8vIElmIGNvbnRleHQgaXMgbnVsbCB0aGF0IHRoaXMgaXMgaW5zdGFuY2Ugc3BlY2lmaWMgY2FsbGJhY2suIFRoZXNlIGNhbGxiYWNrcyBjYW4gb25seSBiZVxuICAgICAgICAvLyBpbnNlcnRlZCBhZnRlciB0ZW1wbGF0ZSBzaGFyZWQgaW5zdGFuY2VzLiBGb3IgdGhpcyByZWFzb24gaW4gbmdEZXZNb2RlIHdlIGZyZWV6ZSB0aGUgVFZpZXcuXG4gICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIE9iamVjdC5mcmVlemUoZ2V0T3JDcmVhdGVUVmlld0NsZWFudXAodFZpZXcpKTtcbiAgICAgICAgfVxuICAgICAgICBsQ2xlYW51cC5wdXNoKGNsZWFudXBGbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsQ2xlYW51cC5wdXNoKGNvbnRleHQpO1xuICAgICAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgICAgICBnZXRPckNyZWF0ZVRWaWV3Q2xlYW51cCh0VmlldykucHVzaChjbGVhbnVwRm4sIGxDbGVhbnVwLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlVE5vZGUodFZpZXcsIHRQYXJlbnQsIHR5cGUsIGluZGV4LCB2YWx1ZSwgYXR0cnMpIHtcbiAgICBuZ0Rldk1vZGUgJiYgaW5kZXggIT09IDAgJiYgLy8gMCBhcmUgYm9ndXMgbm9kZXMgYW5kIHRoZXkgYXJlIE9LLiBTZWUgYGNyZWF0ZUNvbnRhaW5lclJlZmAgaW5cbiAgICAgICAgLy8gYHZpZXdfZW5naW5lX2NvbXBhdGliaWxpdHlgIGZvciBhZGRpdGlvbmFsIGNvbnRleHQuXG4gICAgICAgIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChpbmRleCwgSEVBREVSX09GRlNFVCwgJ1ROb2RlcyBjYW5cXCd0IGJlIGluIHRoZSBMVmlldyBoZWFkZXIuJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vdFNhbWUoYXR0cnMsIHVuZGVmaW5lZCwgJ1xcJ3VuZGVmaW5lZFxcJyBpcyBub3QgdmFsaWQgdmFsdWUgZm9yIFxcJ2F0dHJzXFwnJyk7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS50Tm9kZSsrO1xuICAgIG5nRGV2TW9kZSAmJiB0UGFyZW50ICYmIGFzc2VydFROb2RlRm9yVFZpZXcodFBhcmVudCwgdFZpZXcpO1xuICAgIGxldCBpbmplY3RvckluZGV4ID0gdFBhcmVudCA/IHRQYXJlbnQuaW5qZWN0b3JJbmRleCA6IC0xO1xuICAgIGNvbnN0IHROb2RlID0gbmdEZXZNb2RlID9cbiAgICAgICAgbmV3IFROb2RlRGVidWcodFZpZXcsIC8vIHRWaWV3XzogVFZpZXdcbiAgICAgICAgdHlwZSwgLy8gdHlwZTogVE5vZGVUeXBlXG4gICAgICAgIGluZGV4LCAvLyBpbmRleDogbnVtYmVyXG4gICAgICAgIG51bGwsIC8vIGluc2VydEJlZm9yZUluZGV4OiBudWxsfC0xfG51bWJlcnxudW1iZXJbXVxuICAgICAgICBpbmplY3RvckluZGV4LCAvLyBpbmplY3RvckluZGV4OiBudW1iZXJcbiAgICAgICAgLTEsIC8vIGRpcmVjdGl2ZVN0YXJ0OiBudW1iZXJcbiAgICAgICAgLTEsIC8vIGRpcmVjdGl2ZUVuZDogbnVtYmVyXG4gICAgICAgIC0xLCAvLyBkaXJlY3RpdmVTdHlsaW5nTGFzdDogbnVtYmVyXG4gICAgICAgIG51bGwsIC8vIHByb3BlcnR5QmluZGluZ3M6IG51bWJlcltdfG51bGxcbiAgICAgICAgMCwgLy8gZmxhZ3M6IFROb2RlRmxhZ3NcbiAgICAgICAgMCwgLy8gcHJvdmlkZXJJbmRleGVzOiBUTm9kZVByb3ZpZGVySW5kZXhlc1xuICAgICAgICB2YWx1ZSwgLy8gdmFsdWU6IHN0cmluZ3xudWxsXG4gICAgICAgIGF0dHJzLCAvLyBhdHRyczogKHN0cmluZ3xBdHRyaWJ1dGVNYXJrZXJ8KHN0cmluZ3xTZWxlY3RvckZsYWdzKVtdKVtdfG51bGxcbiAgICAgICAgbnVsbCwgLy8gbWVyZ2VkQXR0cnNcbiAgICAgICAgbnVsbCwgLy8gbG9jYWxOYW1lczogKHN0cmluZ3xudW1iZXIpW118bnVsbFxuICAgICAgICB1bmRlZmluZWQsIC8vIGluaXRpYWxJbnB1dHM6IChzdHJpbmdbXXxudWxsKVtdfG51bGx8dW5kZWZpbmVkXG4gICAgICAgIG51bGwsIC8vIGlucHV0czogUHJvcGVydHlBbGlhc2VzfG51bGxcbiAgICAgICAgbnVsbCwgLy8gb3V0cHV0czogUHJvcGVydHlBbGlhc2VzfG51bGxcbiAgICAgICAgbnVsbCwgLy8gdFZpZXdzOiBJVFZpZXd8SVRWaWV3W118bnVsbFxuICAgICAgICBudWxsLCAvLyBuZXh0OiBJVE5vZGV8bnVsbFxuICAgICAgICBudWxsLCAvLyBwcm9qZWN0aW9uTmV4dDogSVROb2RlfG51bGxcbiAgICAgICAgbnVsbCwgLy8gY2hpbGQ6IElUTm9kZXxudWxsXG4gICAgICAgIHRQYXJlbnQsIC8vIHBhcmVudDogVEVsZW1lbnROb2RlfFRDb250YWluZXJOb2RlfG51bGxcbiAgICAgICAgbnVsbCwgLy8gcHJvamVjdGlvbjogbnVtYmVyfChJVE5vZGV8Uk5vZGVbXSlbXXxudWxsXG4gICAgICAgIG51bGwsIC8vIHN0eWxlczogc3RyaW5nfG51bGxcbiAgICAgICAgbnVsbCwgLy8gc3R5bGVzV2l0aG91dEhvc3Q6IHN0cmluZ3xudWxsXG4gICAgICAgIHVuZGVmaW5lZCwgLy8gcmVzaWR1YWxTdHlsZXM6IHN0cmluZ3xudWxsXG4gICAgICAgIG51bGwsIC8vIGNsYXNzZXM6IHN0cmluZ3xudWxsXG4gICAgICAgIG51bGwsIC8vIGNsYXNzZXNXaXRob3V0SG9zdDogc3RyaW5nfG51bGxcbiAgICAgICAgdW5kZWZpbmVkLCAvLyByZXNpZHVhbENsYXNzZXM6IHN0cmluZ3xudWxsXG4gICAgICAgIDAsIC8vIGNsYXNzQmluZGluZ3M6IFRTdHlsaW5nUmFuZ2U7XG4gICAgICAgIDApIDpcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgaW5zZXJ0QmVmb3JlSW5kZXg6IG51bGwsXG4gICAgICAgICAgICBpbmplY3RvckluZGV4LFxuICAgICAgICAgICAgZGlyZWN0aXZlU3RhcnQ6IC0xLFxuICAgICAgICAgICAgZGlyZWN0aXZlRW5kOiAtMSxcbiAgICAgICAgICAgIGRpcmVjdGl2ZVN0eWxpbmdMYXN0OiAtMSxcbiAgICAgICAgICAgIHByb3BlcnR5QmluZGluZ3M6IG51bGwsXG4gICAgICAgICAgICBmbGFnczogMCxcbiAgICAgICAgICAgIHByb3ZpZGVySW5kZXhlczogMCxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIGF0dHJzOiBhdHRycyxcbiAgICAgICAgICAgIG1lcmdlZEF0dHJzOiBudWxsLFxuICAgICAgICAgICAgbG9jYWxOYW1lczogbnVsbCxcbiAgICAgICAgICAgIGluaXRpYWxJbnB1dHM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGlucHV0czogbnVsbCxcbiAgICAgICAgICAgIG91dHB1dHM6IG51bGwsXG4gICAgICAgICAgICB0Vmlld3M6IG51bGwsXG4gICAgICAgICAgICBuZXh0OiBudWxsLFxuICAgICAgICAgICAgcHJvamVjdGlvbk5leHQ6IG51bGwsXG4gICAgICAgICAgICBjaGlsZDogbnVsbCxcbiAgICAgICAgICAgIHBhcmVudDogdFBhcmVudCxcbiAgICAgICAgICAgIHByb2plY3Rpb246IG51bGwsXG4gICAgICAgICAgICBzdHlsZXM6IG51bGwsXG4gICAgICAgICAgICBzdHlsZXNXaXRob3V0SG9zdDogbnVsbCxcbiAgICAgICAgICAgIHJlc2lkdWFsU3R5bGVzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjbGFzc2VzOiBudWxsLFxuICAgICAgICAgICAgY2xhc3Nlc1dpdGhvdXRIb3N0OiBudWxsLFxuICAgICAgICAgICAgcmVzaWR1YWxDbGFzc2VzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjbGFzc0JpbmRpbmdzOiAwLFxuICAgICAgICAgICAgc3R5bGVCaW5kaW5nczogMCxcbiAgICAgICAgfTtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIC8vIEZvciBwZXJmb3JtYW5jZSByZWFzb25zIGl0IGlzIGltcG9ydGFudCB0aGF0IHRoZSB0Tm9kZSByZXRhaW5zIHRoZSBzYW1lIHNoYXBlIGR1cmluZyBydW50aW1lLlxuICAgICAgICAvLyAoVG8gbWFrZSBzdXJlIHRoYXQgYWxsIG9mIHRoZSBjb2RlIGlzIG1vbm9tb3JwaGljLikgRm9yIHRoaXMgcmVhc29uIHdlIHNlYWwgdGhlIG9iamVjdCB0b1xuICAgICAgICAvLyBwcmV2ZW50IGNsYXNzIHRyYW5zaXRpb25zLlxuICAgICAgICBPYmplY3Quc2VhbCh0Tm9kZSk7XG4gICAgfVxuICAgIHJldHVybiB0Tm9kZTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlUHJvcGVydHlBbGlhc2VzKGlucHV0QWxpYXNNYXAsIGRpcmVjdGl2ZURlZklkeCwgcHJvcFN0b3JlKSB7XG4gICAgZm9yIChsZXQgcHVibGljTmFtZSBpbiBpbnB1dEFsaWFzTWFwKSB7XG4gICAgICAgIGlmIChpbnB1dEFsaWFzTWFwLmhhc093blByb3BlcnR5KHB1YmxpY05hbWUpKSB7XG4gICAgICAgICAgICBwcm9wU3RvcmUgPSBwcm9wU3RvcmUgPT09IG51bGwgPyB7fSA6IHByb3BTdG9yZTtcbiAgICAgICAgICAgIGNvbnN0IGludGVybmFsTmFtZSA9IGlucHV0QWxpYXNNYXBbcHVibGljTmFtZV07XG4gICAgICAgICAgICBpZiAocHJvcFN0b3JlLmhhc093blByb3BlcnR5KHB1YmxpY05hbWUpKSB7XG4gICAgICAgICAgICAgICAgcHJvcFN0b3JlW3B1YmxpY05hbWVdLnB1c2goZGlyZWN0aXZlRGVmSWR4LCBpbnRlcm5hbE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgKHByb3BTdG9yZVtwdWJsaWNOYW1lXSA9IFtkaXJlY3RpdmVEZWZJZHgsIGludGVybmFsTmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcm9wU3RvcmU7XG59XG4vKipcbiAqIEluaXRpYWxpemVzIGRhdGEgc3RydWN0dXJlcyByZXF1aXJlZCB0byB3b3JrIHdpdGggZGlyZWN0aXZlIGlucHV0cyBhbmQgb3V0cHV0cy5cbiAqIEluaXRpYWxpemF0aW9uIGlzIGRvbmUgZm9yIGFsbCBkaXJlY3RpdmVzIG1hdGNoZWQgb24gYSBnaXZlbiBUTm9kZS5cbiAqL1xuZnVuY3Rpb24gaW5pdGlhbGl6ZUlucHV0QW5kT3V0cHV0QWxpYXNlcyh0VmlldywgdE5vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICBjb25zdCBzdGFydCA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0O1xuICAgIGNvbnN0IGVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICBjb25zdCB0Vmlld0RhdGEgPSB0Vmlldy5kYXRhO1xuICAgIGNvbnN0IHROb2RlQXR0cnMgPSB0Tm9kZS5hdHRycztcbiAgICBjb25zdCBpbnB1dHNGcm9tQXR0cnMgPSBuZ0Rldk1vZGUgPyBuZXcgVE5vZGVJbml0aWFsSW5wdXRzKCkgOiBbXTtcbiAgICBsZXQgaW5wdXRzU3RvcmUgPSBudWxsO1xuICAgIGxldCBvdXRwdXRzU3RvcmUgPSBudWxsO1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGl2ZURlZiA9IHRWaWV3RGF0YVtpXTtcbiAgICAgICAgY29uc3QgZGlyZWN0aXZlSW5wdXRzID0gZGlyZWN0aXZlRGVmLmlucHV0cztcbiAgICAgICAgLy8gRG8gbm90IHVzZSB1bmJvdW5kIGF0dHJpYnV0ZXMgYXMgaW5wdXRzIHRvIHN0cnVjdHVyYWwgZGlyZWN0aXZlcywgc2luY2Ugc3RydWN0dXJhbFxuICAgICAgICAvLyBkaXJlY3RpdmUgaW5wdXRzIGNhbiBvbmx5IGJlIHNldCB1c2luZyBtaWNyb3N5bnRheCAoZS5nLiBgPGRpdiAqZGlyPVwiZXhwXCI+YCkuXG4gICAgICAgIC8vIFRPRE8oRlctMTkzMCk6IG1pY3Jvc3ludGF4IGV4cHJlc3Npb25zIG1heSBhbHNvIGNvbnRhaW4gdW5ib3VuZC9zdGF0aWMgYXR0cmlidXRlcywgd2hpY2hcbiAgICAgICAgLy8gc2hvdWxkIGJlIHNldCBmb3IgaW5saW5lIHRlbXBsYXRlcy5cbiAgICAgICAgY29uc3QgaW5pdGlhbElucHV0cyA9ICh0Tm9kZUF0dHJzICE9PSBudWxsICYmICFpc0lubGluZVRlbXBsYXRlKHROb2RlKSkgP1xuICAgICAgICAgICAgZ2VuZXJhdGVJbml0aWFsSW5wdXRzKGRpcmVjdGl2ZUlucHV0cywgdE5vZGVBdHRycykgOlxuICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgaW5wdXRzRnJvbUF0dHJzLnB1c2goaW5pdGlhbElucHV0cyk7XG4gICAgICAgIGlucHV0c1N0b3JlID0gZ2VuZXJhdGVQcm9wZXJ0eUFsaWFzZXMoZGlyZWN0aXZlSW5wdXRzLCBpLCBpbnB1dHNTdG9yZSk7XG4gICAgICAgIG91dHB1dHNTdG9yZSA9IGdlbmVyYXRlUHJvcGVydHlBbGlhc2VzKGRpcmVjdGl2ZURlZi5vdXRwdXRzLCBpLCBvdXRwdXRzU3RvcmUpO1xuICAgIH1cbiAgICBpZiAoaW5wdXRzU3RvcmUgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGlucHV0c1N0b3JlLmhhc093blByb3BlcnR5KCdjbGFzcycpKSB7XG4gICAgICAgICAgICB0Tm9kZS5mbGFncyB8PSAxNiAvKiBoYXNDbGFzc0lucHV0ICovO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dHNTdG9yZS5oYXNPd25Qcm9wZXJ0eSgnc3R5bGUnKSkge1xuICAgICAgICAgICAgdE5vZGUuZmxhZ3MgfD0gMzIgLyogaGFzU3R5bGVJbnB1dCAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICB0Tm9kZS5pbml0aWFsSW5wdXRzID0gaW5wdXRzRnJvbUF0dHJzO1xuICAgIHROb2RlLmlucHV0cyA9IGlucHV0c1N0b3JlO1xuICAgIHROb2RlLm91dHB1dHMgPSBvdXRwdXRzU3RvcmU7XG59XG4vKipcbiAqIE1hcHBpbmcgYmV0d2VlbiBhdHRyaWJ1dGVzIG5hbWVzIHRoYXQgZG9uJ3QgY29ycmVzcG9uZCB0byB0aGVpciBlbGVtZW50IHByb3BlcnR5IG5hbWVzLlxuICpcbiAqIFBlcmZvcm1hbmNlIG5vdGU6IHRoaXMgZnVuY3Rpb24gaXMgd3JpdHRlbiBhcyBhIHNlcmllcyBvZiBpZiBjaGVja3MgKGluc3RlYWQgb2YsIHNheSwgYSBwcm9wZXJ0eVxuICogb2JqZWN0IGxvb2t1cCkgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgLSB0aGUgc2VyaWVzIG9mIGBpZmAgY2hlY2tzIHNlZW1zIHRvIGJlIHRoZSBmYXN0ZXN0IHdheSBvZlxuICogbWFwcGluZyBwcm9wZXJ0eSBuYW1lcy4gRG8gTk9UIGNoYW5nZSB3aXRob3V0IGJlbmNobWFya2luZy5cbiAqXG4gKiBOb3RlOiB0aGlzIG1hcHBpbmcgaGFzIHRvIGJlIGtlcHQgaW4gc3luYyB3aXRoIHRoZSBlcXVhbGx5IG5hbWVkIG1hcHBpbmcgaW4gdGhlIHRlbXBsYXRlXG4gKiB0eXBlLWNoZWNraW5nIG1hY2hpbmVyeSBvZiBuZ3RzYy5cbiAqL1xuZnVuY3Rpb24gbWFwUHJvcE5hbWUobmFtZSkge1xuICAgIGlmIChuYW1lID09PSAnY2xhc3MnKVxuICAgICAgICByZXR1cm4gJ2NsYXNzTmFtZSc7XG4gICAgaWYgKG5hbWUgPT09ICdmb3InKVxuICAgICAgICByZXR1cm4gJ2h0bWxGb3InO1xuICAgIGlmIChuYW1lID09PSAnZm9ybWFjdGlvbicpXG4gICAgICAgIHJldHVybiAnZm9ybUFjdGlvbic7XG4gICAgaWYgKG5hbWUgPT09ICdpbm5lckh0bWwnKVxuICAgICAgICByZXR1cm4gJ2lubmVySFRNTCc7XG4gICAgaWYgKG5hbWUgPT09ICdyZWFkb25seScpXG4gICAgICAgIHJldHVybiAncmVhZE9ubHknO1xuICAgIGlmIChuYW1lID09PSAndGFiaW5kZXgnKVxuICAgICAgICByZXR1cm4gJ3RhYkluZGV4JztcbiAgICByZXR1cm4gbmFtZTtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCB2YWx1ZSwgcmVuZGVyZXIsIHNhbml0aXplciwgbmF0aXZlT25seSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb3RTYW1lKHZhbHVlLCBOT19DSEFOR0UsICdJbmNvbWluZyB2YWx1ZSBzaG91bGQgbmV2ZXIgYmUgTk9fQ0hBTkdFLicpO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBnZXROYXRpdmVCeVROb2RlKHROb2RlLCBsVmlldyk7XG4gICAgbGV0IGlucHV0RGF0YSA9IHROb2RlLmlucHV0cztcbiAgICBsZXQgZGF0YVZhbHVlO1xuICAgIGlmICghbmF0aXZlT25seSAmJiBpbnB1dERhdGEgIT0gbnVsbCAmJiAoZGF0YVZhbHVlID0gaW5wdXREYXRhW3Byb3BOYW1lXSkpIHtcbiAgICAgICAgc2V0SW5wdXRzRm9yUHJvcGVydHkodFZpZXcsIGxWaWV3LCBkYXRhVmFsdWUsIHByb3BOYW1lLCB2YWx1ZSk7XG4gICAgICAgIGlmIChpc0NvbXBvbmVudEhvc3QodE5vZGUpKVxuICAgICAgICAgICAgbWFya0RpcnR5SWZPblB1c2gobFZpZXcsIHROb2RlLmluZGV4KTtcbiAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgc2V0TmdSZWZsZWN0UHJvcGVydGllcyhsVmlldywgZWxlbWVudCwgdE5vZGUudHlwZSwgZGF0YVZhbHVlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodE5vZGUudHlwZSAmIDMgLyogQW55Uk5vZGUgKi8pIHtcbiAgICAgICAgcHJvcE5hbWUgPSBtYXBQcm9wTmFtZShwcm9wTmFtZSk7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlQWdhaW5zdEV2ZW50UHJvcGVydGllcyhwcm9wTmFtZSk7XG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRlUHJvcGVydHkodFZpZXcsIGVsZW1lbnQsIHByb3BOYW1lLCB0Tm9kZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gaGVyZSBzaW5jZSB3ZSBvbmx5IGxvZyB3YXJuaW5ncyBmb3IgdW5rbm93biBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgIGxvZ1Vua25vd25Qcm9wZXJ0eUVycm9yKHByb3BOYW1lLCB0Tm9kZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmdEZXZNb2RlLnJlbmRlcmVyU2V0UHJvcGVydHkrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBJdCBpcyBhc3N1bWVkIHRoYXQgdGhlIHNhbml0aXplciBpcyBvbmx5IGFkZGVkIHdoZW4gdGhlIGNvbXBpbGVyIGRldGVybWluZXMgdGhhdCB0aGVcbiAgICAgICAgLy8gcHJvcGVydHkgaXMgcmlza3ksIHNvIHNhbml0aXphdGlvbiBjYW4gYmUgZG9uZSB3aXRob3V0IGZ1cnRoZXIgY2hlY2tzLlxuICAgICAgICB2YWx1ZSA9IHNhbml0aXplciAhPSBudWxsID8gc2FuaXRpemVyKHZhbHVlLCB0Tm9kZS52YWx1ZSB8fCAnJywgcHJvcE5hbWUpIDogdmFsdWU7XG4gICAgICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNldFByb3BlcnR5KGVsZW1lbnQsIHByb3BOYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWlzQW5pbWF0aW9uUHJvcChwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0UHJvcGVydHkgPyBlbGVtZW50LnNldFByb3BlcnR5KHByb3BOYW1lLCB2YWx1ZSkgOlxuICAgICAgICAgICAgICAgIGVsZW1lbnRbcHJvcE5hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodE5vZGUudHlwZSAmIDEyIC8qIEFueUNvbnRhaW5lciAqLykge1xuICAgICAgICAvLyBJZiB0aGUgbm9kZSBpcyBhIGNvbnRhaW5lciBhbmQgdGhlIHByb3BlcnR5IGRpZG4ndFxuICAgICAgICAvLyBtYXRjaCBhbnkgb2YgdGhlIGlucHV0cyBvciBzY2hlbWFzIHdlIHNob3VsZCB0aHJvdy5cbiAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiAhbWF0Y2hpbmdTY2hlbWFzKHRWaWV3LCB0Tm9kZS52YWx1ZSkpIHtcbiAgICAgICAgICAgIGxvZ1Vua25vd25Qcm9wZXJ0eUVycm9yKHByb3BOYW1lLCB0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKiogSWYgbm9kZSBpcyBhbiBPblB1c2ggY29tcG9uZW50LCBtYXJrcyBpdHMgTFZpZXcgZGlydHkuICovXG5mdW5jdGlvbiBtYXJrRGlydHlJZk9uUHVzaChsVmlldywgdmlld0luZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExWaWV3KGxWaWV3KTtcbiAgICBjb25zdCBjaGlsZENvbXBvbmVudExWaWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KHZpZXdJbmRleCwgbFZpZXcpO1xuICAgIGlmICghKGNoaWxkQ29tcG9uZW50TFZpZXdbRkxBR1NdICYgMTYgLyogQ2hlY2tBbHdheXMgKi8pKSB7XG4gICAgICAgIGNoaWxkQ29tcG9uZW50TFZpZXdbRkxBR1NdIHw9IDY0IC8qIERpcnR5ICovO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldE5nUmVmbGVjdFByb3BlcnR5KGxWaWV3LCBlbGVtZW50LCB0eXBlLCBhdHRyTmFtZSwgdmFsdWUpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICBhdHRyTmFtZSA9IG5vcm1hbGl6ZURlYnVnQmluZGluZ05hbWUoYXR0ck5hbWUpO1xuICAgIGNvbnN0IGRlYnVnVmFsdWUgPSBub3JtYWxpemVEZWJ1Z0JpbmRpbmdWYWx1ZSh2YWx1ZSk7XG4gICAgaWYgKHR5cGUgJiAzIC8qIEFueVJOb2RlICovKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgPyByZW5kZXJlci5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgYXR0ck5hbWUpIDpcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgP1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNldEF0dHJpYnV0ZShlbGVtZW50LCBhdHRyTmFtZSwgZGVidWdWYWx1ZSkgOlxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBkZWJ1Z1ZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgdGV4dENvbnRlbnQgPSBlc2NhcGVDb21tZW50VGV4dChgYmluZGluZ3M9JHtKU09OLnN0cmluZ2lmeSh7IFthdHRyTmFtZV06IGRlYnVnVmFsdWUgfSwgbnVsbCwgMil9YCk7XG4gICAgICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNldFZhbHVlKGVsZW1lbnQsIHRleHRDb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNldE5nUmVmbGVjdFByb3BlcnRpZXMobFZpZXcsIGVsZW1lbnQsIHR5cGUsIGRhdGFWYWx1ZSwgdmFsdWUpIHtcbiAgICBpZiAodHlwZSAmICgzIC8qIEFueVJOb2RlICovIHwgNCAvKiBDb250YWluZXIgKi8pKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkYXRhVmFsdWUgaXMgYW4gYXJyYXkgY29udGFpbmluZyBydW50aW1lIGlucHV0IG9yIG91dHB1dCBuYW1lcyBmb3IgdGhlIGRpcmVjdGl2ZXM6XG4gICAgICAgICAqIGkrMDogZGlyZWN0aXZlIGluc3RhbmNlIGluZGV4XG4gICAgICAgICAqIGkrMTogcHJpdmF0ZU5hbWVcbiAgICAgICAgICpcbiAgICAgICAgICogZS5nLiBbMCwgJ2NoYW5nZScsICdjaGFuZ2UtbWluaWZpZWQnXVxuICAgICAgICAgKiB3ZSB3YW50IHRvIHNldCB0aGUgcmVmbGVjdGVkIHByb3BlcnR5IHdpdGggdGhlIHByaXZhdGVOYW1lOiBkYXRhVmFsdWVbaSsxXVxuICAgICAgICAgKi9cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhVmFsdWUubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHNldE5nUmVmbGVjdFByb3BlcnR5KGxWaWV3LCBlbGVtZW50LCB0eXBlLCBkYXRhVmFsdWVbaSArIDFdLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnR5KHRWaWV3LCBlbGVtZW50LCBwcm9wTmFtZSwgdE5vZGUpIHtcbiAgICAvLyBJZiBgc2NoZW1hc2AgaXMgc2V0IHRvIGBudWxsYCwgdGhhdCdzIGFuIGluZGljYXRpb24gdGhhdCB0aGlzIENvbXBvbmVudCB3YXMgY29tcGlsZWQgaW4gQU9UXG4gICAgLy8gbW9kZSB3aGVyZSB0aGlzIGNoZWNrIGhhcHBlbnMgYXQgY29tcGlsZSB0aW1lLiBJbiBKSVQgbW9kZSwgYHNjaGVtYXNgIGlzIGFsd2F5cyBwcmVzZW50IGFuZFxuICAgIC8vIGRlZmluZWQgYXMgYW4gYXJyYXkgKGFzIGFuIGVtcHR5IGFycmF5IGluIGNhc2UgYHNjaGVtYXNgIGZpZWxkIGlzIG5vdCBkZWZpbmVkKSBhbmQgd2Ugc2hvdWxkXG4gICAgLy8gZXhlY3V0ZSB0aGUgY2hlY2sgYmVsb3cuXG4gICAgaWYgKHRWaWV3LnNjaGVtYXMgPT09IG51bGwpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIC8vIFRoZSBwcm9wZXJ0eSBpcyBjb25zaWRlcmVkIHZhbGlkIGlmIHRoZSBlbGVtZW50IG1hdGNoZXMgdGhlIHNjaGVtYSwgaXQgZXhpc3RzIG9uIHRoZSBlbGVtZW50XG4gICAgLy8gb3IgaXQgaXMgc3ludGhldGljLCBhbmQgd2UgYXJlIGluIGEgYnJvd3NlciBjb250ZXh0ICh3ZWIgd29ya2VyIG5vZGVzIHNob3VsZCBiZSBza2lwcGVkKS5cbiAgICBpZiAobWF0Y2hpbmdTY2hlbWFzKHRWaWV3LCB0Tm9kZS52YWx1ZSkgfHwgcHJvcE5hbWUgaW4gZWxlbWVudCB8fCBpc0FuaW1hdGlvblByb3AocHJvcE5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBOb3RlOiBgdHlwZW9mIE5vZGVgIHJldHVybnMgJ2Z1bmN0aW9uJyBpbiBtb3N0IGJyb3dzZXJzLCBidXQgb24gSUUgaXQgaXMgJ29iamVjdCcgc28gd2VcbiAgICAvLyBuZWVkIHRvIGFjY291bnQgZm9yIGJvdGggaGVyZSwgd2hpbGUgYmVpbmcgY2FyZWZ1bCBmb3IgYHR5cGVvZiBudWxsYCBhbHNvIHJldHVybmluZyAnb2JqZWN0Jy5cbiAgICByZXR1cm4gdHlwZW9mIE5vZGUgPT09ICd1bmRlZmluZWQnIHx8IE5vZGUgPT09IG51bGwgfHwgIShlbGVtZW50IGluc3RhbmNlb2YgTm9kZSk7XG59XG5mdW5jdGlvbiBtYXRjaGluZ1NjaGVtYXModFZpZXcsIHRhZ05hbWUpIHtcbiAgICBjb25zdCBzY2hlbWFzID0gdFZpZXcuc2NoZW1hcztcbiAgICBpZiAoc2NoZW1hcyAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjaGVtYXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IHNjaGVtYXNbaV07XG4gICAgICAgICAgICBpZiAoc2NoZW1hID09PSBOT19FUlJPUlNfU0NIRU1BIHx8XG4gICAgICAgICAgICAgICAgc2NoZW1hID09PSBDVVNUT01fRUxFTUVOVFNfU0NIRU1BICYmIHRhZ05hbWUgJiYgdGFnTmFtZS5pbmRleE9mKCctJykgPiAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogTG9ncyBhbiBlcnJvciB0aGF0IGEgcHJvcGVydHkgaXMgbm90IHN1cHBvcnRlZCBvbiBhbiBlbGVtZW50LlxuICogQHBhcmFtIHByb3BOYW1lIE5hbWUgb2YgdGhlIGludmFsaWQgcHJvcGVydHkuXG4gKiBAcGFyYW0gdE5vZGUgTm9kZSBvbiB3aGljaCB3ZSBlbmNvdW50ZXJlZCB0aGUgcHJvcGVydHkuXG4gKi9cbmZ1bmN0aW9uIGxvZ1Vua25vd25Qcm9wZXJ0eUVycm9yKHByb3BOYW1lLCB0Tm9kZSkge1xuICAgIGxldCBtZXNzYWdlID0gYENhbid0IGJpbmQgdG8gJyR7cHJvcE5hbWV9JyBzaW5jZSBpdCBpc24ndCBhIGtub3duIHByb3BlcnR5IG9mICcke3ROb2RlLnZhbHVlfScuYDtcbiAgICBjb25zb2xlLmVycm9yKGZvcm1hdFJ1bnRpbWVFcnJvcigzMDMgLyogVU5LTk9XTl9CSU5ESU5HICovLCBtZXNzYWdlKSk7XG59XG4vKipcbiAqIEluc3RhbnRpYXRlIGEgcm9vdCBjb21wb25lbnQuXG4gKi9cbmZ1bmN0aW9uIGluc3RhbnRpYXRlUm9vdENvbXBvbmVudCh0VmlldywgbFZpZXcsIGRlZikge1xuICAgIGNvbnN0IHJvb3RUTm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgaWYgKGRlZi5wcm92aWRlcnNSZXNvbHZlcilcbiAgICAgICAgICAgIGRlZi5wcm92aWRlcnNSZXNvbHZlcihkZWYpO1xuICAgICAgICBjb25zdCBkaXJlY3RpdmVJbmRleCA9IGFsbG9jRXhwYW5kbyh0VmlldywgbFZpZXcsIDEsIG51bGwpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydEVxdWFsKGRpcmVjdGl2ZUluZGV4LCByb290VE5vZGUuZGlyZWN0aXZlU3RhcnQsICdCZWNhdXNlIHRoaXMgaXMgYSByb290IGNvbXBvbmVudCB0aGUgYWxsb2NhdGVkIGV4cGFuZG8gc2hvdWxkIG1hdGNoIHRoZSBUTm9kZSBjb21wb25lbnQuJyk7XG4gICAgICAgIGNvbmZpZ3VyZVZpZXdXaXRoRGlyZWN0aXZlKHRWaWV3LCByb290VE5vZGUsIGxWaWV3LCBkaXJlY3RpdmVJbmRleCwgZGVmKTtcbiAgICB9XG4gICAgY29uc3QgZGlyZWN0aXZlID0gZ2V0Tm9kZUluamVjdGFibGUobFZpZXcsIHRWaWV3LCByb290VE5vZGUuZGlyZWN0aXZlU3RhcnQsIHJvb3RUTm9kZSk7XG4gICAgYXR0YWNoUGF0Y2hEYXRhKGRpcmVjdGl2ZSwgbFZpZXcpO1xuICAgIGNvbnN0IG5hdGl2ZSA9IGdldE5hdGl2ZUJ5VE5vZGUocm9vdFROb2RlLCBsVmlldyk7XG4gICAgaWYgKG5hdGl2ZSkge1xuICAgICAgICBhdHRhY2hQYXRjaERhdGEobmF0aXZlLCBsVmlldyk7XG4gICAgfVxuICAgIHJldHVybiBkaXJlY3RpdmU7XG59XG4vKipcbiAqIFJlc29sdmUgdGhlIG1hdGNoZWQgZGlyZWN0aXZlcyBvbiBhIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVEaXJlY3RpdmVzKHRWaWV3LCBsVmlldywgdE5vZGUsIGxvY2FsUmVmcykge1xuICAgIC8vIFBsZWFzZSBtYWtlIHN1cmUgdG8gaGF2ZSBleHBsaWNpdCB0eXBlIGZvciBgZXhwb3J0c01hcGAuIEluZmVycmVkIHR5cGUgdHJpZ2dlcnMgYnVnIGluXG4gICAgLy8gdHNpY2tsZS5cbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICBsZXQgaGFzRGlyZWN0aXZlcyA9IGZhbHNlO1xuICAgIGlmIChnZXRCaW5kaW5nc0VuYWJsZWQoKSkge1xuICAgICAgICBjb25zdCBkaXJlY3RpdmVEZWZzID0gZmluZERpcmVjdGl2ZURlZk1hdGNoZXModFZpZXcsIGxWaWV3LCB0Tm9kZSk7XG4gICAgICAgIGNvbnN0IGV4cG9ydHNNYXAgPSBsb2NhbFJlZnMgPT09IG51bGwgPyBudWxsIDogeyAnJzogLTEgfTtcbiAgICAgICAgaWYgKGRpcmVjdGl2ZURlZnMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGhhc0RpcmVjdGl2ZXMgPSB0cnVlO1xuICAgICAgICAgICAgaW5pdFROb2RlRmxhZ3ModE5vZGUsIHRWaWV3LmRhdGEubGVuZ3RoLCBkaXJlY3RpdmVEZWZzLmxlbmd0aCk7XG4gICAgICAgICAgICAvLyBXaGVuIHRoZSBzYW1lIHRva2VuIGlzIHByb3ZpZGVkIGJ5IHNldmVyYWwgZGlyZWN0aXZlcyBvbiB0aGUgc2FtZSBub2RlLCBzb21lIHJ1bGVzIGFwcGx5IGluXG4gICAgICAgICAgICAvLyB0aGUgdmlld0VuZ2luZTpcbiAgICAgICAgICAgIC8vIC0gdmlld1Byb3ZpZGVycyBoYXZlIHByaW9yaXR5IG92ZXIgcHJvdmlkZXJzXG4gICAgICAgICAgICAvLyAtIHRoZSBsYXN0IGRpcmVjdGl2ZSBpbiBOZ01vZHVsZS5kZWNsYXJhdGlvbnMgaGFzIHByaW9yaXR5IG92ZXIgdGhlIHByZXZpb3VzIG9uZVxuICAgICAgICAgICAgLy8gU28gdG8gbWF0Y2ggdGhlc2UgcnVsZXMsIHRoZSBvcmRlciBpbiB3aGljaCBwcm92aWRlcnMgYXJlIGFkZGVkIGluIHRoZSBhcnJheXMgaXMgdmVyeVxuICAgICAgICAgICAgLy8gaW1wb3J0YW50LlxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXJlY3RpdmVEZWZzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVmID0gZGlyZWN0aXZlRGVmc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoZGVmLnByb3ZpZGVyc1Jlc29sdmVyKVxuICAgICAgICAgICAgICAgICAgICBkZWYucHJvdmlkZXJzUmVzb2x2ZXIoZGVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwcmVPcmRlckhvb2tzRm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBwcmVPcmRlckNoZWNrSG9va3NGb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGRpcmVjdGl2ZUlkeCA9IGFsbG9jRXhwYW5kbyh0VmlldywgbFZpZXcsIGRpcmVjdGl2ZURlZnMubGVuZ3RoLCBudWxsKTtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgIGFzc2VydFNhbWUoZGlyZWN0aXZlSWR4LCB0Tm9kZS5kaXJlY3RpdmVTdGFydCwgJ1ROb2RlLmRpcmVjdGl2ZVN0YXJ0IHNob3VsZCBwb2ludCB0byBqdXN0IGFsbG9jYXRlZCBzcGFjZScpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXJlY3RpdmVEZWZzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVmID0gZGlyZWN0aXZlRGVmc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBNZXJnZSB0aGUgYXR0cnMgaW4gdGhlIG9yZGVyIG9mIG1hdGNoZXMuIFRoaXMgYXNzdW1lcyB0aGF0IHRoZSBmaXJzdCBkaXJlY3RpdmUgaXMgdGhlXG4gICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IGl0c2VsZiwgc28gdGhhdCB0aGUgY29tcG9uZW50IGhhcyB0aGUgbGVhc3QgcHJpb3JpdHkuXG4gICAgICAgICAgICAgICAgdE5vZGUubWVyZ2VkQXR0cnMgPSBtZXJnZUhvc3RBdHRycyh0Tm9kZS5tZXJnZWRBdHRycywgZGVmLmhvc3RBdHRycyk7XG4gICAgICAgICAgICAgICAgY29uZmlndXJlVmlld1dpdGhEaXJlY3RpdmUodFZpZXcsIHROb2RlLCBsVmlldywgZGlyZWN0aXZlSWR4LCBkZWYpO1xuICAgICAgICAgICAgICAgIHNhdmVOYW1lVG9FeHBvcnRNYXAoZGlyZWN0aXZlSWR4LCBkZWYsIGV4cG9ydHNNYXApO1xuICAgICAgICAgICAgICAgIGlmIChkZWYuY29udGVudFF1ZXJpZXMgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHROb2RlLmZsYWdzIHw9IDggLyogaGFzQ29udGVudFF1ZXJ5ICovO1xuICAgICAgICAgICAgICAgIGlmIChkZWYuaG9zdEJpbmRpbmdzICE9PSBudWxsIHx8IGRlZi5ob3N0QXR0cnMgIT09IG51bGwgfHwgZGVmLmhvc3RWYXJzICE9PSAwKVxuICAgICAgICAgICAgICAgICAgICB0Tm9kZS5mbGFncyB8PSAxMjggLyogaGFzSG9zdEJpbmRpbmdzICovO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpZmVDeWNsZUhvb2tzID0gZGVmLnR5cGUucHJvdG90eXBlO1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgcHVzaCBhIG5vZGUgaW5kZXggaW50byB0aGUgcHJlT3JkZXJIb29rcyBhcnJheSBpZiB0aGlzIGlzIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgIC8vIHByZS1vcmRlciBob29rIGZvdW5kIG9uIHRoaXMgbm9kZS5cbiAgICAgICAgICAgICAgICBpZiAoIXByZU9yZGVySG9va3NGb3VuZCAmJlxuICAgICAgICAgICAgICAgICAgICAobGlmZUN5Y2xlSG9va3MubmdPbkNoYW5nZXMgfHwgbGlmZUN5Y2xlSG9va3MubmdPbkluaXQgfHwgbGlmZUN5Y2xlSG9va3MubmdEb0NoZWNrKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSB3aWxsIHB1c2ggdGhlIGFjdHVhbCBob29rIGZ1bmN0aW9uIGludG8gdGhpcyBhcnJheSBsYXRlciBkdXJpbmcgZGlyIGluc3RhbnRpYXRpb24uXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbm5vdCBkbyBpdCBub3cgYmVjYXVzZSB3ZSBtdXN0IGVuc3VyZSBob29rcyBhcmUgcmVnaXN0ZXJlZCBpbiB0aGUgc2FtZVxuICAgICAgICAgICAgICAgICAgICAvLyBvcmRlciB0aGF0IGRpcmVjdGl2ZXMgYXJlIGNyZWF0ZWQgKGkuZS4gaW5qZWN0aW9uIG9yZGVyKS5cbiAgICAgICAgICAgICAgICAgICAgKHRWaWV3LnByZU9yZGVySG9va3MgfHwgKHRWaWV3LnByZU9yZGVySG9va3MgPSBbXSkpLnB1c2godE5vZGUuaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBwcmVPcmRlckhvb2tzRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXByZU9yZGVyQ2hlY2tIb29rc0ZvdW5kICYmIChsaWZlQ3ljbGVIb29rcy5uZ09uQ2hhbmdlcyB8fCBsaWZlQ3ljbGVIb29rcy5uZ0RvQ2hlY2spKSB7XG4gICAgICAgICAgICAgICAgICAgICh0Vmlldy5wcmVPcmRlckNoZWNrSG9va3MgfHwgKHRWaWV3LnByZU9yZGVyQ2hlY2tIb29rcyA9IFtdKSkucHVzaCh0Tm9kZS5pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHByZU9yZGVyQ2hlY2tIb29rc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlSWR4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbml0aWFsaXplSW5wdXRBbmRPdXRwdXRBbGlhc2VzKHRWaWV3LCB0Tm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cG9ydHNNYXApXG4gICAgICAgICAgICBjYWNoZU1hdGNoaW5nTG9jYWxOYW1lcyh0Tm9kZSwgbG9jYWxSZWZzLCBleHBvcnRzTWFwKTtcbiAgICB9XG4gICAgLy8gTWVyZ2UgdGhlIHRlbXBsYXRlIGF0dHJzIGxhc3Qgc28gdGhhdCB0aGV5IGhhdmUgdGhlIGhpZ2hlc3QgcHJpb3JpdHkuXG4gICAgdE5vZGUubWVyZ2VkQXR0cnMgPSBtZXJnZUhvc3RBdHRycyh0Tm9kZS5tZXJnZWRBdHRycywgdE5vZGUuYXR0cnMpO1xuICAgIHJldHVybiBoYXNEaXJlY3RpdmVzO1xufVxuLyoqXG4gKiBBZGQgYGhvc3RCaW5kaW5nc2AgdG8gdGhlIGBUVmlldy5ob3N0QmluZGluZ09wQ29kZXNgLlxuICpcbiAqIEBwYXJhbSB0VmlldyBgVFZpZXdgIHRvIHdoaWNoIHRoZSBgaG9zdEJpbmRpbmdzYCBzaG91bGQgYmUgYWRkZWQuXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCB0aGUgZWxlbWVudCB3aGljaCBjb250YWlucyB0aGUgZGlyZWN0aXZlXG4gKiBAcGFyYW0gbFZpZXcgYExWaWV3YCBjdXJyZW50IGBMVmlld2BcbiAqIEBwYXJhbSBkaXJlY3RpdmVJZHggRGlyZWN0aXZlIGluZGV4IGluIHZpZXcuXG4gKiBAcGFyYW0gZGlyZWN0aXZlVmFyc0lkeCBXaGVyZSB3aWxsIHRoZSBkaXJlY3RpdmUncyB2YXJzIGJlIHN0b3JlZFxuICogQHBhcmFtIGRlZiBgQ29tcG9uZW50RGVmYC9gRGlyZWN0aXZlRGVmYCwgd2hpY2ggY29udGFpbnMgdGhlIGBob3N0VmFyc2AvYGhvc3RCaW5kaW5nc2AgdG8gYWRkLlxuICovXG5mdW5jdGlvbiByZWdpc3Rlckhvc3RCaW5kaW5nT3BDb2Rlcyh0VmlldywgdE5vZGUsIGxWaWV3LCBkaXJlY3RpdmVJZHgsIGRpcmVjdGl2ZVZhcnNJZHgsIGRlZikge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRGaXJzdENyZWF0ZVBhc3ModFZpZXcpO1xuICAgIGNvbnN0IGhvc3RCaW5kaW5ncyA9IGRlZi5ob3N0QmluZGluZ3M7XG4gICAgaWYgKGhvc3RCaW5kaW5ncykge1xuICAgICAgICBsZXQgaG9zdEJpbmRpbmdPcENvZGVzID0gdFZpZXcuaG9zdEJpbmRpbmdPcENvZGVzO1xuICAgICAgICBpZiAoaG9zdEJpbmRpbmdPcENvZGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICBob3N0QmluZGluZ09wQ29kZXMgPSB0Vmlldy5ob3N0QmluZGluZ09wQ29kZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50SW5keCA9IH50Tm9kZS5pbmRleDtcbiAgICAgICAgaWYgKGxhc3RTZWxlY3RlZEVsZW1lbnRJZHgoaG9zdEJpbmRpbmdPcENvZGVzKSAhPSBlbGVtZW50SW5keCkge1xuICAgICAgICAgICAgLy8gQ29uZGl0aW9uYWxseSBhZGQgc2VsZWN0IGVsZW1lbnQgc28gdGhhdCB3ZSBhcmUgbW9yZSBlZmZpY2llbnQgaW4gZXhlY3V0aW9uLlxuICAgICAgICAgICAgLy8gTk9URTogdGhpcyBpcyBzdHJpY3RseSBub3QgbmVjZXNzYXJ5IGFuZCBpdCB0cmFkZXMgY29kZSBzaXplIGZvciBydW50aW1lIHBlcmYuXG4gICAgICAgICAgICAvLyAoV2UgY291bGQganVzdCBhbHdheXMgYWRkIGl0LilcbiAgICAgICAgICAgIGhvc3RCaW5kaW5nT3BDb2Rlcy5wdXNoKGVsZW1lbnRJbmR4KTtcbiAgICAgICAgfVxuICAgICAgICBob3N0QmluZGluZ09wQ29kZXMucHVzaChkaXJlY3RpdmVJZHgsIGRpcmVjdGl2ZVZhcnNJZHgsIGhvc3RCaW5kaW5ncyk7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBsYXN0IHNlbGVjdGVkIGVsZW1lbnQgaW5kZXggaW4gdGhlIGBIb3N0QmluZGluZ09wQ29kZXNgXG4gKlxuICogRm9yIHBlcmYgcmVhc29ucyB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgc2VsZWN0ZWQgZWxlbWVudCBpbmRleCBpbiBgSG9zdEJpbmRpbmdPcENvZGVzYCBvbmx5XG4gKiBpZiBpdCBjaGFuZ2VzLiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBsYXN0IGluZGV4IChvciAnMCcgaWYgbm90IGZvdW5kLilcbiAqXG4gKiBTZWxlY3RlZCBlbGVtZW50IGluZGV4IGFyZSBvbmx5IHRoZSBvbmVzIHdoaWNoIGFyZSBuZWdhdGl2ZS5cbiAqL1xuZnVuY3Rpb24gbGFzdFNlbGVjdGVkRWxlbWVudElkeChob3N0QmluZGluZ09wQ29kZXMpIHtcbiAgICBsZXQgaSA9IGhvc3RCaW5kaW5nT3BDb2Rlcy5sZW5ndGg7XG4gICAgd2hpbGUgKGkgPiAwKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaG9zdEJpbmRpbmdPcENvZGVzWy0taV07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAwO1xufVxuLyoqXG4gKiBJbnN0YW50aWF0ZSBhbGwgdGhlIGRpcmVjdGl2ZXMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgcmVzb2x2ZWQgb24gdGhlIGN1cnJlbnQgbm9kZS5cbiAqL1xuZnVuY3Rpb24gaW5zdGFudGlhdGVBbGxEaXJlY3RpdmVzKHRWaWV3LCBsVmlldywgdE5vZGUsIG5hdGl2ZSkge1xuICAgIGNvbnN0IHN0YXJ0ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgY29uc3QgZW5kID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgIGlmICghdFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIGdldE9yQ3JlYXRlTm9kZUluamVjdG9yRm9yTm9kZSh0Tm9kZSwgbFZpZXcpO1xuICAgIH1cbiAgICBhdHRhY2hQYXRjaERhdGEobmF0aXZlLCBsVmlldyk7XG4gICAgY29uc3QgaW5pdGlhbElucHV0cyA9IHROb2RlLmluaXRpYWxJbnB1dHM7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgY29uc3QgZGVmID0gdFZpZXcuZGF0YVtpXTtcbiAgICAgICAgY29uc3QgaXNDb21wb25lbnQgPSBpc0NvbXBvbmVudERlZihkZWYpO1xuICAgICAgICBpZiAoaXNDb21wb25lbnQpIHtcbiAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDMgLyogQW55Uk5vZGUgKi8pO1xuICAgICAgICAgICAgYWRkQ29tcG9uZW50TG9naWMobFZpZXcsIHROb2RlLCBkZWYpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IGdldE5vZGVJbmplY3RhYmxlKGxWaWV3LCB0VmlldywgaSwgdE5vZGUpO1xuICAgICAgICBhdHRhY2hQYXRjaERhdGEoZGlyZWN0aXZlLCBsVmlldyk7XG4gICAgICAgIGlmIChpbml0aWFsSW5wdXRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzZXRJbnB1dHNGcm9tQXR0cnMobFZpZXcsIGkgLSBzdGFydCwgZGlyZWN0aXZlLCBkZWYsIHROb2RlLCBpbml0aWFsSW5wdXRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDb21wb25lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgodE5vZGUuaW5kZXgsIGxWaWV3KTtcbiAgICAgICAgICAgIGNvbXBvbmVudFZpZXdbQ09OVEVYVF0gPSBkaXJlY3RpdmU7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpbnZva2VEaXJlY3RpdmVzSG9zdEJpbmRpbmdzKHRWaWV3LCBsVmlldywgdE5vZGUpIHtcbiAgICBjb25zdCBzdGFydCA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0O1xuICAgIGNvbnN0IGVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICBjb25zdCBmaXJzdENyZWF0ZVBhc3MgPSB0Vmlldy5maXJzdENyZWF0ZVBhc3M7XG4gICAgY29uc3QgZWxlbWVudEluZGV4ID0gdE5vZGUuaW5kZXg7XG4gICAgY29uc3QgY3VycmVudERpcmVjdGl2ZUluZGV4ID0gZ2V0Q3VycmVudERpcmVjdGl2ZUluZGV4KCk7XG4gICAgdHJ5IHtcbiAgICAgICAgc2V0U2VsZWN0ZWRJbmRleChlbGVtZW50SW5kZXgpO1xuICAgICAgICBmb3IgKGxldCBkaXJJbmRleCA9IHN0YXJ0OyBkaXJJbmRleCA8IGVuZDsgZGlySW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgZGVmID0gdFZpZXcuZGF0YVtkaXJJbmRleF07XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSBsVmlld1tkaXJJbmRleF07XG4gICAgICAgICAgICBzZXRDdXJyZW50RGlyZWN0aXZlSW5kZXgoZGlySW5kZXgpO1xuICAgICAgICAgICAgaWYgKGRlZi5ob3N0QmluZGluZ3MgIT09IG51bGwgfHwgZGVmLmhvc3RWYXJzICE9PSAwIHx8IGRlZi5ob3N0QXR0cnMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpbnZva2VIb3N0QmluZGluZ3NJbkNyZWF0aW9uTW9kZShkZWYsIGRpcmVjdGl2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHNldFNlbGVjdGVkSW5kZXgoLTEpO1xuICAgICAgICBzZXRDdXJyZW50RGlyZWN0aXZlSW5kZXgoY3VycmVudERpcmVjdGl2ZUluZGV4KTtcbiAgICB9XG59XG4vKipcbiAqIEludm9rZSB0aGUgaG9zdCBiaW5kaW5ncyBpbiBjcmVhdGlvbiBtb2RlLlxuICpcbiAqIEBwYXJhbSBkZWYgYERpcmVjdGl2ZURlZmAgd2hpY2ggbWF5IGNvbnRhaW4gdGhlIGBob3N0QmluZGluZ3NgIGZ1bmN0aW9uLlxuICogQHBhcmFtIGRpcmVjdGl2ZSBJbnN0YW5jZSBvZiBkaXJlY3RpdmUuXG4gKi9cbmZ1bmN0aW9uIGludm9rZUhvc3RCaW5kaW5nc0luQ3JlYXRpb25Nb2RlKGRlZiwgZGlyZWN0aXZlKSB7XG4gICAgaWYgKGRlZi5ob3N0QmluZGluZ3MgIT09IG51bGwpIHtcbiAgICAgICAgZGVmLmhvc3RCaW5kaW5ncygxIC8qIENyZWF0ZSAqLywgZGlyZWN0aXZlKTtcbiAgICB9XG59XG4vKipcbiAqIE1hdGNoZXMgdGhlIGN1cnJlbnQgbm9kZSBhZ2FpbnN0IGFsbCBhdmFpbGFibGUgc2VsZWN0b3JzLlxuICogSWYgYSBjb21wb25lbnQgaXMgbWF0Y2hlZCAoYXQgbW9zdCBvbmUpLCBpdCBpcyByZXR1cm5lZCBpbiBmaXJzdCBwb3NpdGlvbiBpbiB0aGUgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGZpbmREaXJlY3RpdmVEZWZNYXRjaGVzKHRWaWV3LCB2aWV3RGF0YSwgdE5vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAzIC8qIEFueVJOb2RlICovIHwgMTIgLyogQW55Q29udGFpbmVyICovKTtcbiAgICBjb25zdCByZWdpc3RyeSA9IHRWaWV3LmRpcmVjdGl2ZVJlZ2lzdHJ5O1xuICAgIGxldCBtYXRjaGVzID0gbnVsbDtcbiAgICBpZiAocmVnaXN0cnkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWdpc3RyeS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZGVmID0gcmVnaXN0cnlbaV07XG4gICAgICAgICAgICBpZiAoaXNOb2RlTWF0Y2hpbmdTZWxlY3Rvckxpc3QodE5vZGUsIGRlZi5zZWxlY3RvcnMsIC8qIGlzUHJvamVjdGlvbk1vZGUgKi8gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcyB8fCAobWF0Y2hlcyA9IG5nRGV2TW9kZSA/IG5ldyBNYXRjaGVzQXJyYXkoKSA6IFtdKTtcbiAgICAgICAgICAgICAgICBkaVB1YmxpY0luSW5qZWN0b3IoZ2V0T3JDcmVhdGVOb2RlSW5qZWN0b3JGb3JOb2RlKHROb2RlLCB2aWV3RGF0YSksIHRWaWV3LCBkZWYudHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcG9uZW50RGVmKGRlZikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAyIC8qIEVsZW1lbnQgKi8sIGBcIiR7dE5vZGUudmFsdWV9XCIgdGFncyBjYW5ub3QgYmUgdXNlZCBhcyBjb21wb25lbnQgaG9zdHMuIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBQbGVhc2UgdXNlIGEgZGlmZmVyZW50IHRhZyB0byBhY3RpdmF0ZSB0aGUgJHtzdHJpbmdpZnkoZGVmLnR5cGUpfSBjb21wb25lbnQuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodE5vZGUuZmxhZ3MgJiAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvd011bHRpcGxlQ29tcG9uZW50RXJyb3IodE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1hcmtBc0NvbXBvbmVudEhvc3QodFZpZXcsIHROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGNvbXBvbmVudCBpcyBhbHdheXMgc3RvcmVkIGZpcnN0IHdpdGggZGlyZWN0aXZlcyBhZnRlci5cbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy51bnNoaWZ0KGRlZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goZGVmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoZXM7XG59XG4vKipcbiAqIE1hcmtzIGEgZ2l2ZW4gVE5vZGUgYXMgYSBjb21wb25lbnQncyBob3N0LiBUaGlzIGNvbnNpc3RzIG9mOlxuICogLSBzZXR0aW5nIGFwcHJvcHJpYXRlIFROb2RlIGZsYWdzO1xuICogLSBzdG9yaW5nIGluZGV4IG9mIGNvbXBvbmVudCdzIGhvc3QgZWxlbWVudCBzbyBpdCB3aWxsIGJlIHF1ZXVlZCBmb3IgdmlldyByZWZyZXNoIGR1cmluZyBDRC5cbiAqL1xuZnVuY3Rpb24gbWFya0FzQ29tcG9uZW50SG9zdCh0VmlldywgaG9zdFROb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0Vmlldyk7XG4gICAgaG9zdFROb2RlLmZsYWdzIHw9IDIgLyogaXNDb21wb25lbnRIb3N0ICovO1xuICAgICh0Vmlldy5jb21wb25lbnRzIHx8ICh0Vmlldy5jb21wb25lbnRzID0gbmdEZXZNb2RlID8gbmV3IFRWaWV3Q29tcG9uZW50cygpIDogW10pKVxuICAgICAgICAucHVzaChob3N0VE5vZGUuaW5kZXgpO1xufVxuLyoqIENhY2hlcyBsb2NhbCBuYW1lcyBhbmQgdGhlaXIgbWF0Y2hpbmcgZGlyZWN0aXZlIGluZGljZXMgZm9yIHF1ZXJ5IGFuZCB0ZW1wbGF0ZSBsb29rdXBzLiAqL1xuZnVuY3Rpb24gY2FjaGVNYXRjaGluZ0xvY2FsTmFtZXModE5vZGUsIGxvY2FsUmVmcywgZXhwb3J0c01hcCkge1xuICAgIGlmIChsb2NhbFJlZnMpIHtcbiAgICAgICAgY29uc3QgbG9jYWxOYW1lcyA9IHROb2RlLmxvY2FsTmFtZXMgPSBuZ0Rldk1vZGUgPyBuZXcgVE5vZGVMb2NhbE5hbWVzKCkgOiBbXTtcbiAgICAgICAgLy8gTG9jYWwgbmFtZXMgbXVzdCBiZSBzdG9yZWQgaW4gdE5vZGUgaW4gdGhlIHNhbWUgb3JkZXIgdGhhdCBsb2NhbFJlZnMgYXJlIGRlZmluZWRcbiAgICAgICAgLy8gaW4gdGhlIHRlbXBsYXRlIHRvIGVuc3VyZSB0aGUgZGF0YSBpcyBsb2FkZWQgaW4gdGhlIHNhbWUgc2xvdHMgYXMgdGhlaXIgcmVmc1xuICAgICAgICAvLyBpbiB0aGUgdGVtcGxhdGUgKGZvciB0ZW1wbGF0ZSBxdWVyaWVzKS5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFJlZnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZXhwb3J0c01hcFtsb2NhbFJlZnNbaSArIDFdXTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoLTMwMSAvKiBFWFBPUlRfTk9UX0ZPVU5EICovLCBuZ0Rldk1vZGUgJiYgYEV4cG9ydCBvZiBuYW1lICcke2xvY2FsUmVmc1tpICsgMV19JyBub3QgZm91bmQhYCk7XG4gICAgICAgICAgICBsb2NhbE5hbWVzLnB1c2gobG9jYWxSZWZzW2ldLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEJ1aWxkcyB1cCBhbiBleHBvcnQgbWFwIGFzIGRpcmVjdGl2ZXMgYXJlIGNyZWF0ZWQsIHNvIGxvY2FsIHJlZnMgY2FuIGJlIHF1aWNrbHkgbWFwcGVkXG4gKiB0byB0aGVpciBkaXJlY3RpdmUgaW5zdGFuY2VzLlxuICovXG5mdW5jdGlvbiBzYXZlTmFtZVRvRXhwb3J0TWFwKGRpcmVjdGl2ZUlkeCwgZGVmLCBleHBvcnRzTWFwKSB7XG4gICAgaWYgKGV4cG9ydHNNYXApIHtcbiAgICAgICAgaWYgKGRlZi5leHBvcnRBcykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWYuZXhwb3J0QXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBleHBvcnRzTWFwW2RlZi5leHBvcnRBc1tpXV0gPSBkaXJlY3RpdmVJZHg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ29tcG9uZW50RGVmKGRlZikpXG4gICAgICAgICAgICBleHBvcnRzTWFwWycnXSA9IGRpcmVjdGl2ZUlkeDtcbiAgICB9XG59XG4vKipcbiAqIEluaXRpYWxpemVzIHRoZSBmbGFncyBvbiB0aGUgY3VycmVudCBub2RlLCBzZXR0aW5nIGFsbCBpbmRpY2VzIHRvIHRoZSBpbml0aWFsIGluZGV4LFxuICogdGhlIGRpcmVjdGl2ZSBjb3VudCB0byAwLCBhbmQgYWRkaW5nIHRoZSBpc0NvbXBvbmVudCBmbGFnLlxuICogQHBhcmFtIGluZGV4IHRoZSBpbml0aWFsIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGluaXRUTm9kZUZsYWdzKHROb2RlLCBpbmRleCwgbnVtYmVyT2ZEaXJlY3RpdmVzKSB7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydE5vdEVxdWFsKG51bWJlck9mRGlyZWN0aXZlcywgdE5vZGUuZGlyZWN0aXZlRW5kIC0gdE5vZGUuZGlyZWN0aXZlU3RhcnQsICdSZWFjaGVkIHRoZSBtYXggbnVtYmVyIG9mIGRpcmVjdGl2ZXMnKTtcbiAgICB0Tm9kZS5mbGFncyB8PSAxIC8qIGlzRGlyZWN0aXZlSG9zdCAqLztcbiAgICAvLyBXaGVuIHRoZSBmaXJzdCBkaXJlY3RpdmUgaXMgY3JlYXRlZCBvbiBhIG5vZGUsIHNhdmUgdGhlIGluZGV4XG4gICAgdE5vZGUuZGlyZWN0aXZlU3RhcnQgPSBpbmRleDtcbiAgICB0Tm9kZS5kaXJlY3RpdmVFbmQgPSBpbmRleCArIG51bWJlck9mRGlyZWN0aXZlcztcbiAgICB0Tm9kZS5wcm92aWRlckluZGV4ZXMgPSBpbmRleDtcbn1cbi8qKlxuICogU2V0dXAgZGlyZWN0aXZlIGZvciBpbnN0YW50aWF0aW9uLlxuICpcbiAqIFdlIG5lZWQgdG8gY3JlYXRlIGEgYE5vZGVJbmplY3RvckZhY3RvcnlgIHdoaWNoIGlzIHRoZW4gaW5zZXJ0ZWQgaW4gYm90aCB0aGUgYEJsdWVwcmludGAgYXMgd2VsbFxuICogYXMgYExWaWV3YC4gYFRWaWV3YCBnZXRzIHRoZSBgRGlyZWN0aXZlRGVmYC5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgYFRWaWV3YFxuICogQHBhcmFtIHROb2RlIGBUTm9kZWBcbiAqIEBwYXJhbSBsVmlldyBgTFZpZXdgXG4gKiBAcGFyYW0gZGlyZWN0aXZlSW5kZXggSW5kZXggd2hlcmUgdGhlIGRpcmVjdGl2ZSB3aWxsIGJlIHN0b3JlZCBpbiB0aGUgRXhwYW5kby5cbiAqIEBwYXJhbSBkZWYgYERpcmVjdGl2ZURlZmBcbiAqL1xuZnVuY3Rpb24gY29uZmlndXJlVmlld1dpdGhEaXJlY3RpdmUodFZpZXcsIHROb2RlLCBsVmlldywgZGlyZWN0aXZlSW5kZXgsIGRlZikge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwoZGlyZWN0aXZlSW5kZXgsIEhFQURFUl9PRkZTRVQsICdNdXN0IGJlIGluIEV4cGFuZG8gc2VjdGlvbicpO1xuICAgIHRWaWV3LmRhdGFbZGlyZWN0aXZlSW5kZXhdID0gZGVmO1xuICAgIGNvbnN0IGRpcmVjdGl2ZUZhY3RvcnkgPSBkZWYuZmFjdG9yeSB8fCAoZGVmLmZhY3RvcnkgPSBnZXRGYWN0b3J5RGVmKGRlZi50eXBlLCB0cnVlKSk7XG4gICAgY29uc3Qgbm9kZUluamVjdG9yRmFjdG9yeSA9IG5ldyBOb2RlSW5qZWN0b3JGYWN0b3J5KGRpcmVjdGl2ZUZhY3RvcnksIGlzQ29tcG9uZW50RGVmKGRlZiksIG51bGwpO1xuICAgIHRWaWV3LmJsdWVwcmludFtkaXJlY3RpdmVJbmRleF0gPSBub2RlSW5qZWN0b3JGYWN0b3J5O1xuICAgIGxWaWV3W2RpcmVjdGl2ZUluZGV4XSA9IG5vZGVJbmplY3RvckZhY3Rvcnk7XG4gICAgcmVnaXN0ZXJIb3N0QmluZGluZ09wQ29kZXModFZpZXcsIHROb2RlLCBsVmlldywgZGlyZWN0aXZlSW5kZXgsIGFsbG9jRXhwYW5kbyh0VmlldywgbFZpZXcsIGRlZi5ob3N0VmFycywgTk9fQ0hBTkdFKSwgZGVmKTtcbn1cbmZ1bmN0aW9uIGFkZENvbXBvbmVudExvZ2ljKGxWaWV3LCBob3N0VE5vZGUsIGRlZikge1xuICAgIGNvbnN0IG5hdGl2ZSA9IGdldE5hdGl2ZUJ5VE5vZGUoaG9zdFROb2RlLCBsVmlldyk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRPckNyZWF0ZVRDb21wb25lbnRWaWV3KGRlZik7XG4gICAgLy8gT25seSBjb21wb25lbnQgdmlld3Mgc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSB2aWV3IHRyZWUgZGlyZWN0bHkuIEVtYmVkZGVkIHZpZXdzIGFyZVxuICAgIC8vIGFjY2Vzc2VkIHRocm91Z2ggdGhlaXIgY29udGFpbmVycyBiZWNhdXNlIHRoZXkgbWF5IGJlIHJlbW92ZWQgLyByZS1hZGRlZCBsYXRlci5cbiAgICBjb25zdCByZW5kZXJlckZhY3RvcnkgPSBsVmlld1tSRU5ERVJFUl9GQUNUT1JZXTtcbiAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gYWRkVG9WaWV3VHJlZShsVmlldywgY3JlYXRlTFZpZXcobFZpZXcsIHRWaWV3LCBudWxsLCBkZWYub25QdXNoID8gNjQgLyogRGlydHkgKi8gOiAxNiAvKiBDaGVja0Fsd2F5cyAqLywgbmF0aXZlLCBob3N0VE5vZGUsIHJlbmRlcmVyRmFjdG9yeSwgcmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVJlbmRlcmVyKG5hdGl2ZSwgZGVmKSwgbnVsbCwgbnVsbCkpO1xuICAgIC8vIENvbXBvbmVudCB2aWV3IHdpbGwgYWx3YXlzIGJlIGNyZWF0ZWQgYmVmb3JlIGFueSBpbmplY3RlZCBMQ29udGFpbmVycyxcbiAgICAvLyBzbyB0aGlzIGlzIGEgcmVndWxhciBlbGVtZW50LCB3cmFwIGl0IHdpdGggdGhlIGNvbXBvbmVudCB2aWV3XG4gICAgbFZpZXdbaG9zdFROb2RlLmluZGV4XSA9IGNvbXBvbmVudFZpZXc7XG59XG5mdW5jdGlvbiBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBuYW1lLCB2YWx1ZSwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIGFzc2VydE5vdFNhbWUodmFsdWUsIE5PX0NIQU5HRSwgJ0luY29taW5nIHZhbHVlIHNob3VsZCBuZXZlciBiZSBOT19DSEFOR0UuJyk7XG4gICAgICAgIHZhbGlkYXRlQWdhaW5zdEV2ZW50QXR0cmlidXRlcyhuYW1lKTtcbiAgICAgICAgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAyIC8qIEVsZW1lbnQgKi8sIGBBdHRlbXB0ZWQgdG8gc2V0IGF0dHJpYnV0ZSBcXGAke25hbWV9XFxgIG9uIGEgY29udGFpbmVyIG5vZGUuIGAgK1xuICAgICAgICAgICAgYEhvc3QgYmluZGluZ3MgYXJlIG5vdCB2YWxpZCBvbiBuZy1jb250YWluZXIgb3IgbmctdGVtcGxhdGUuYCk7XG4gICAgfVxuICAgIGNvbnN0IGVsZW1lbnQgPSBnZXROYXRpdmVCeVROb2RlKHROb2RlLCBsVmlldyk7XG4gICAgc2V0RWxlbWVudEF0dHJpYnV0ZShsVmlld1tSRU5ERVJFUl0sIGVsZW1lbnQsIG5hbWVzcGFjZSwgdE5vZGUudmFsdWUsIG5hbWUsIHZhbHVlLCBzYW5pdGl6ZXIpO1xufVxuZnVuY3Rpb24gc2V0RWxlbWVudEF0dHJpYnV0ZShyZW5kZXJlciwgZWxlbWVudCwgbmFtZXNwYWNlLCB0YWdOYW1lLCBuYW1lLCB2YWx1ZSwgc2FuaXRpemVyKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclJlbW92ZUF0dHJpYnV0ZSsrO1xuICAgICAgICBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgPyByZW5kZXJlci5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgbmFtZSwgbmFtZXNwYWNlKSA6XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJTZXRBdHRyaWJ1dGUrKztcbiAgICAgICAgY29uc3Qgc3RyVmFsdWUgPSBzYW5pdGl6ZXIgPT0gbnVsbCA/IHJlbmRlclN0cmluZ2lmeSh2YWx1ZSkgOiBzYW5pdGl6ZXIodmFsdWUsIHRhZ05hbWUgfHwgJycsIG5hbWUpO1xuICAgICAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgICAgICByZW5kZXJlci5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgbmFtZSwgc3RyVmFsdWUsIG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UgPyBlbGVtZW50LnNldEF0dHJpYnV0ZU5TKG5hbWVzcGFjZSwgbmFtZSwgc3RyVmFsdWUpIDpcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCBzdHJWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFNldHMgaW5pdGlhbCBpbnB1dCBwcm9wZXJ0aWVzIG9uIGRpcmVjdGl2ZSBpbnN0YW5jZXMgZnJvbSBhdHRyaWJ1dGUgZGF0YVxuICpcbiAqIEBwYXJhbSBsVmlldyBDdXJyZW50IExWaWV3IHRoYXQgaXMgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIGRpcmVjdGl2ZUluZGV4IEluZGV4IG9mIHRoZSBkaXJlY3RpdmUgaW4gZGlyZWN0aXZlcyBhcnJheVxuICogQHBhcmFtIGluc3RhbmNlIEluc3RhbmNlIG9mIHRoZSBkaXJlY3RpdmUgb24gd2hpY2ggdG8gc2V0IHRoZSBpbml0aWFsIGlucHV0c1xuICogQHBhcmFtIGRlZiBUaGUgZGlyZWN0aXZlIGRlZiB0aGF0IGNvbnRhaW5zIHRoZSBsaXN0IG9mIGlucHV0c1xuICogQHBhcmFtIHROb2RlIFRoZSBzdGF0aWMgZGF0YSBmb3IgdGhpcyBub2RlXG4gKi9cbmZ1bmN0aW9uIHNldElucHV0c0Zyb21BdHRycyhsVmlldywgZGlyZWN0aXZlSW5kZXgsIGluc3RhbmNlLCBkZWYsIHROb2RlLCBpbml0aWFsSW5wdXREYXRhKSB7XG4gICAgY29uc3QgaW5pdGlhbElucHV0cyA9IGluaXRpYWxJbnB1dERhdGFbZGlyZWN0aXZlSW5kZXhdO1xuICAgIGlmIChpbml0aWFsSW5wdXRzICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHNldElucHV0ID0gZGVmLnNldElucHV0O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluaXRpYWxJbnB1dHMubGVuZ3RoOykge1xuICAgICAgICAgICAgY29uc3QgcHVibGljTmFtZSA9IGluaXRpYWxJbnB1dHNbaSsrXTtcbiAgICAgICAgICAgIGNvbnN0IHByaXZhdGVOYW1lID0gaW5pdGlhbElucHV0c1tpKytdO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBpbml0aWFsSW5wdXRzW2krK107XG4gICAgICAgICAgICBpZiAoc2V0SW5wdXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkZWYuc2V0SW5wdXQoaW5zdGFuY2UsIHZhbHVlLCBwdWJsaWNOYW1lLCBwcml2YXRlTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZVtwcml2YXRlTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYXRpdmVFbGVtZW50ID0gZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICAgICAgICAgIHNldE5nUmVmbGVjdFByb3BlcnR5KGxWaWV3LCBuYXRpdmVFbGVtZW50LCB0Tm9kZS50eXBlLCBwcml2YXRlTmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBHZW5lcmF0ZXMgaW5pdGlhbElucHV0RGF0YSBmb3IgYSBub2RlIGFuZCBzdG9yZXMgaXQgaW4gdGhlIHRlbXBsYXRlJ3Mgc3RhdGljIHN0b3JhZ2VcbiAqIHNvIHN1YnNlcXVlbnQgdGVtcGxhdGUgaW52b2NhdGlvbnMgZG9uJ3QgaGF2ZSB0byByZWNhbGN1bGF0ZSBpdC5cbiAqXG4gKiBpbml0aWFsSW5wdXREYXRhIGlzIGFuIGFycmF5IGNvbnRhaW5pbmcgdmFsdWVzIHRoYXQgbmVlZCB0byBiZSBzZXQgYXMgaW5wdXQgcHJvcGVydGllc1xuICogZm9yIGRpcmVjdGl2ZXMgb24gdGhpcyBub2RlLCBidXQgb25seSBvbmNlIG9uIGNyZWF0aW9uLiBXZSBuZWVkIHRoaXMgYXJyYXkgdG8gc3VwcG9ydFxuICogdGhlIGNhc2Ugd2hlcmUgeW91IHNldCBhbiBASW5wdXQgcHJvcGVydHkgb2YgYSBkaXJlY3RpdmUgdXNpbmcgYXR0cmlidXRlLWxpa2Ugc3ludGF4LlxuICogZS5nLiBpZiB5b3UgaGF2ZSBhIGBuYW1lYCBASW5wdXQsIHlvdSBjYW4gc2V0IGl0IG9uY2UgbGlrZSB0aGlzOlxuICpcbiAqIDxteS1jb21wb25lbnQgbmFtZT1cIkJlc3NcIj48L215LWNvbXBvbmVudD5cbiAqXG4gKiBAcGFyYW0gaW5wdXRzIFRoZSBsaXN0IG9mIGlucHV0cyBmcm9tIHRoZSBkaXJlY3RpdmUgZGVmXG4gKiBAcGFyYW0gYXR0cnMgVGhlIHN0YXRpYyBhdHRycyBvbiB0aGlzIG5vZGVcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVJbml0aWFsSW5wdXRzKGlucHV0cywgYXR0cnMpIHtcbiAgICBsZXQgaW5wdXRzVG9TdG9yZSA9IG51bGw7XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgYXR0cnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJOYW1lID0gYXR0cnNbaV07XG4gICAgICAgIGlmIChhdHRyTmFtZSA9PT0gMCAvKiBOYW1lc3BhY2VVUkkgKi8pIHtcbiAgICAgICAgICAgIC8vIFdlIGRvIG5vdCBhbGxvdyBpbnB1dHMgb24gbmFtZXNwYWNlZCBhdHRyaWJ1dGVzLlxuICAgICAgICAgICAgaSArPSA0O1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXR0ck5hbWUgPT09IDUgLyogUHJvamVjdEFzICovKSB7XG4gICAgICAgICAgICAvLyBTa2lwIG92ZXIgdGhlIGBuZ1Byb2plY3RBc2AgdmFsdWUuXG4gICAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBoaXQgYW55IG90aGVyIGF0dHJpYnV0ZSBtYXJrZXJzLCB3ZSdyZSBkb25lIGFueXdheS4gTm9uZSBvZiB0aG9zZSBhcmUgdmFsaWQgaW5wdXRzLlxuICAgICAgICBpZiAodHlwZW9mIGF0dHJOYW1lID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBpZiAoaW5wdXRzLmhhc093blByb3BlcnR5KGF0dHJOYW1lKSkge1xuICAgICAgICAgICAgaWYgKGlucHV0c1RvU3RvcmUgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgaW5wdXRzVG9TdG9yZSA9IFtdO1xuICAgICAgICAgICAgaW5wdXRzVG9TdG9yZS5wdXNoKGF0dHJOYW1lLCBpbnB1dHNbYXR0ck5hbWVdLCBhdHRyc1tpICsgMV0pO1xuICAgICAgICB9XG4gICAgICAgIGkgKz0gMjtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0c1RvU3RvcmU7XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLyBWaWV3Q29udGFpbmVyICYgVmlld1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIE5vdCBzdXJlIHdoeSBJIG5lZWQgdG8gZG8gYGFueWAgaGVyZSBidXQgVFMgY29tcGxhaW5zIGxhdGVyLlxuY29uc3QgTENvbnRhaW5lckFycmF5ID0gY2xhc3MgTENvbnRhaW5lciBleHRlbmRzIEFycmF5IHtcbn07XG4vKipcbiAqIENyZWF0ZXMgYSBMQ29udGFpbmVyLCBlaXRoZXIgZnJvbSBhIGNvbnRhaW5lciBpbnN0cnVjdGlvbiwgb3IgZm9yIGEgVmlld0NvbnRhaW5lclJlZi5cbiAqXG4gKiBAcGFyYW0gaG9zdE5hdGl2ZSBUaGUgaG9zdCBlbGVtZW50IGZvciB0aGUgTENvbnRhaW5lclxuICogQHBhcmFtIGhvc3RUTm9kZSBUaGUgaG9zdCBUTm9kZSBmb3IgdGhlIExDb250YWluZXJcbiAqIEBwYXJhbSBjdXJyZW50VmlldyBUaGUgcGFyZW50IHZpZXcgb2YgdGhlIExDb250YWluZXJcbiAqIEBwYXJhbSBuYXRpdmUgVGhlIG5hdGl2ZSBjb21tZW50IGVsZW1lbnRcbiAqIEBwYXJhbSBpc0ZvclZpZXdDb250YWluZXJSZWYgT3B0aW9uYWwgYSBmbGFnIGluZGljYXRpbmcgdGhlIFZpZXdDb250YWluZXJSZWYgY2FzZVxuICogQHJldHVybnMgTENvbnRhaW5lclxuICovXG5mdW5jdGlvbiBjcmVhdGVMQ29udGFpbmVyKGhvc3ROYXRpdmUsIGN1cnJlbnRWaWV3LCBuYXRpdmUsIHROb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExWaWV3KGN1cnJlbnRWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgIWlzUHJvY2VkdXJhbFJlbmRlcmVyKGN1cnJlbnRWaWV3W1JFTkRFUkVSXSkgJiYgYXNzZXJ0RG9tTm9kZShuYXRpdmUpO1xuICAgIC8vIGh0dHBzOi8vanNwZXJmLmNvbS9hcnJheS1saXRlcmFsLXZzLW5ldy1hcnJheS1yZWFsbHlcbiAgICBjb25zdCBsQ29udGFpbmVyID0gbmV3IChuZ0Rldk1vZGUgPyBMQ29udGFpbmVyQXJyYXkgOiBBcnJheSkoaG9zdE5hdGl2ZSwgLy8gaG9zdCBuYXRpdmVcbiAgICB0cnVlLCAvLyBCb29sZWFuIGB0cnVlYCBpbiB0aGlzIHBvc2l0aW9uIHNpZ25pZmllcyB0aGF0IHRoaXMgaXMgYW4gYExDb250YWluZXJgXG4gICAgZmFsc2UsIC8vIGhhcyB0cmFuc3BsYW50ZWQgdmlld3NcbiAgICBjdXJyZW50VmlldywgLy8gcGFyZW50XG4gICAgbnVsbCwgLy8gbmV4dFxuICAgIDAsIC8vIHRyYW5zcGxhbnRlZCB2aWV3cyB0byByZWZyZXNoIGNvdW50XG4gICAgdE5vZGUsIC8vIHRfaG9zdFxuICAgIG5hdGl2ZSwgLy8gbmF0aXZlLFxuICAgIG51bGwsIC8vIHZpZXcgcmVmc1xuICAgIG51bGwpO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChsQ29udGFpbmVyLmxlbmd0aCwgQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQsICdTaG91bGQgYWxsb2NhdGUgY29ycmVjdCBudW1iZXIgb2Ygc2xvdHMgZm9yIExDb250YWluZXIgaGVhZGVyLicpO1xuICAgIG5nRGV2TW9kZSAmJiBhdHRhY2hMQ29udGFpbmVyRGVidWcobENvbnRhaW5lcik7XG4gICAgcmV0dXJuIGxDb250YWluZXI7XG59XG4vKipcbiAqIEdvZXMgb3ZlciBlbWJlZGRlZCB2aWV3cyAob25lcyBjcmVhdGVkIHRocm91Z2ggVmlld0NvbnRhaW5lclJlZiBBUElzKSBhbmQgcmVmcmVzaGVzXG4gKiB0aGVtIGJ5IGV4ZWN1dGluZyBhbiBhc3NvY2lhdGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiByZWZyZXNoRW1iZWRkZWRWaWV3cyhsVmlldykge1xuICAgIGZvciAobGV0IGxDb250YWluZXIgPSBnZXRGaXJzdExDb250YWluZXIobFZpZXcpOyBsQ29udGFpbmVyICE9PSBudWxsOyBsQ29udGFpbmVyID0gZ2V0TmV4dExDb250YWluZXIobENvbnRhaW5lcikpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUOyBpIDwgbENvbnRhaW5lci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZW1iZWRkZWRMVmlldyA9IGxDb250YWluZXJbaV07XG4gICAgICAgICAgICBjb25zdCBlbWJlZGRlZFRWaWV3ID0gZW1iZWRkZWRMVmlld1tUVklFV107XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChlbWJlZGRlZFRWaWV3LCAnVFZpZXcgbXVzdCBiZSBhbGxvY2F0ZWQnKTtcbiAgICAgICAgICAgIGlmICh2aWV3QXR0YWNoZWRUb0NoYW5nZURldGVjdG9yKGVtYmVkZGVkTFZpZXcpKSB7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFZpZXcoZW1iZWRkZWRUVmlldywgZW1iZWRkZWRMVmlldywgZW1iZWRkZWRUVmlldy50ZW1wbGF0ZSwgZW1iZWRkZWRMVmlld1tDT05URVhUXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIE1hcmsgdHJhbnNwbGFudGVkIHZpZXdzIGFzIG5lZWRpbmcgdG8gYmUgcmVmcmVzaGVkIGF0IHRoZWlyIGluc2VydGlvbiBwb2ludHMuXG4gKlxuICogQHBhcmFtIGxWaWV3IFRoZSBgTFZpZXdgIHRoYXQgbWF5IGhhdmUgdHJhbnNwbGFudGVkIHZpZXdzLlxuICovXG5mdW5jdGlvbiBtYXJrVHJhbnNwbGFudGVkVmlld3NGb3JSZWZyZXNoKGxWaWV3KSB7XG4gICAgZm9yIChsZXQgbENvbnRhaW5lciA9IGdldEZpcnN0TENvbnRhaW5lcihsVmlldyk7IGxDb250YWluZXIgIT09IG51bGw7IGxDb250YWluZXIgPSBnZXROZXh0TENvbnRhaW5lcihsQ29udGFpbmVyKSkge1xuICAgICAgICBpZiAoIWxDb250YWluZXJbSEFTX1RSQU5TUExBTlRFRF9WSUVXU10pXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgbW92ZWRWaWV3cyA9IGxDb250YWluZXJbTU9WRURfVklFV1NdO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChtb3ZlZFZpZXdzLCAnVHJhbnNwbGFudGVkIFZpZXcgZmxhZ3Mgc2V0IGJ1dCBtaXNzaW5nIE1PVkVEX1ZJRVdTJyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW92ZWRWaWV3cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbW92ZWRMVmlldyA9IG1vdmVkVmlld3NbaV07XG4gICAgICAgICAgICBjb25zdCBpbnNlcnRpb25MQ29udGFpbmVyID0gbW92ZWRMVmlld1tQQVJFTlRdO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydExDb250YWluZXIoaW5zZXJ0aW9uTENvbnRhaW5lcik7XG4gICAgICAgICAgICAvLyBXZSBkb24ndCB3YW50IHRvIGluY3JlbWVudCB0aGUgY291bnRlciBpZiB0aGUgbW92ZWQgTFZpZXcgd2FzIGFscmVhZHkgbWFya2VkIGZvclxuICAgICAgICAgICAgLy8gcmVmcmVzaC5cbiAgICAgICAgICAgIGlmICgobW92ZWRMVmlld1tGTEFHU10gJiAxMDI0IC8qIFJlZnJlc2hUcmFuc3BsYW50ZWRWaWV3ICovKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVRyYW5zcGxhbnRlZFZpZXdDb3VudChpbnNlcnRpb25MQ29udGFpbmVyLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vdGUsIGl0IGlzIHBvc3NpYmxlIHRoYXQgdGhlIGBtb3ZlZFZpZXdzYCBpcyB0cmFja2luZyB2aWV3cyB0aGF0IGFyZSB0cmFuc3BsYW50ZWQgKmFuZCpcbiAgICAgICAgICAgIC8vIHRob3NlIHRoYXQgYXJlbid0IChkZWNsYXJhdGlvbiBjb21wb25lbnQgPT09IGluc2VydGlvbiBjb21wb25lbnQpLiBJbiB0aGUgbGF0dGVyIGNhc2UsXG4gICAgICAgICAgICAvLyBpdCdzIGZpbmUgdG8gYWRkIHRoZSBmbGFnLCBhcyB3ZSB3aWxsIGNsZWFyIGl0IGltbWVkaWF0ZWx5IGluXG4gICAgICAgICAgICAvLyBgcmVmcmVzaEVtYmVkZGVkVmlld3NgIGZvciB0aGUgdmlldyBjdXJyZW50bHkgYmVpbmcgcmVmcmVzaGVkLlxuICAgICAgICAgICAgbW92ZWRMVmlld1tGTEFHU10gfD0gMTAyNCAvKiBSZWZyZXNoVHJhbnNwbGFudGVkVmlldyAqLztcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vLy8vLy8vLy8vLy9cbi8qKlxuICogUmVmcmVzaGVzIGNvbXBvbmVudHMgYnkgZW50ZXJpbmcgdGhlIGNvbXBvbmVudCB2aWV3IGFuZCBwcm9jZXNzaW5nIGl0cyBiaW5kaW5ncywgcXVlcmllcywgZXRjLlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnRIb3N0SWR4ICBFbGVtZW50IGluZGV4IGluIExWaWV3W10gKGFkanVzdGVkIGZvciBIRUFERVJfT0ZGU0VUKVxuICovXG5mdW5jdGlvbiByZWZyZXNoQ29tcG9uZW50KGhvc3RMVmlldywgY29tcG9uZW50SG9zdElkeCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbChpc0NyZWF0aW9uTW9kZShob3N0TFZpZXcpLCBmYWxzZSwgJ1Nob3VsZCBiZSBydW4gaW4gdXBkYXRlIG1vZGUnKTtcbiAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KGNvbXBvbmVudEhvc3RJZHgsIGhvc3RMVmlldyk7XG4gICAgLy8gT25seSBhdHRhY2hlZCBjb21wb25lbnRzIHRoYXQgYXJlIENoZWNrQWx3YXlzIG9yIE9uUHVzaCBhbmQgZGlydHkgc2hvdWxkIGJlIHJlZnJlc2hlZFxuICAgIGlmICh2aWV3QXR0YWNoZWRUb0NoYW5nZURldGVjdG9yKGNvbXBvbmVudFZpZXcpKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gY29tcG9uZW50Vmlld1tUVklFV107XG4gICAgICAgIGlmIChjb21wb25lbnRWaWV3W0ZMQUdTXSAmICgxNiAvKiBDaGVja0Fsd2F5cyAqLyB8IDY0IC8qIERpcnR5ICovKSkge1xuICAgICAgICAgICAgcmVmcmVzaFZpZXcodFZpZXcsIGNvbXBvbmVudFZpZXcsIHRWaWV3LnRlbXBsYXRlLCBjb21wb25lbnRWaWV3W0NPTlRFWFRdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb21wb25lbnRWaWV3W1RSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIXSA+IDApIHtcbiAgICAgICAgICAgIC8vIE9ubHkgYXR0YWNoZWQgY29tcG9uZW50cyB0aGF0IGFyZSBDaGVja0Fsd2F5cyBvciBPblB1c2ggYW5kIGRpcnR5IHNob3VsZCBiZSByZWZyZXNoZWRcbiAgICAgICAgICAgIHJlZnJlc2hDb250YWluc0RpcnR5Vmlldyhjb21wb25lbnRWaWV3KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUmVmcmVzaGVzIGFsbCB0cmFuc3BsYW50ZWQgdmlld3MgbWFya2VkIHdpdGggYExWaWV3RmxhZ3MuUmVmcmVzaFRyYW5zcGxhbnRlZFZpZXdgIHRoYXQgYXJlXG4gKiBjaGlsZHJlbiBvciBkZXNjZW5kYW50cyBvZiB0aGUgZ2l2ZW4gbFZpZXcuXG4gKlxuICogQHBhcmFtIGxWaWV3IFRoZSBsVmlldyB3aGljaCBjb250YWlucyBkZXNjZW5kYW50IHRyYW5zcGxhbnRlZCB2aWV3cyB0aGF0IG5lZWQgdG8gYmUgcmVmcmVzaGVkLlxuICovXG5mdW5jdGlvbiByZWZyZXNoQ29udGFpbnNEaXJ0eVZpZXcobFZpZXcpIHtcbiAgICBmb3IgKGxldCBsQ29udGFpbmVyID0gZ2V0Rmlyc3RMQ29udGFpbmVyKGxWaWV3KTsgbENvbnRhaW5lciAhPT0gbnVsbDsgbENvbnRhaW5lciA9IGdldE5leHRMQ29udGFpbmVyKGxDb250YWluZXIpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBDT05UQUlORVJfSEVBREVSX09GRlNFVDsgaSA8IGxDb250YWluZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVtYmVkZGVkTFZpZXcgPSBsQ29udGFpbmVyW2ldO1xuICAgICAgICAgICAgaWYgKGVtYmVkZGVkTFZpZXdbRkxBR1NdICYgMTAyNCAvKiBSZWZyZXNoVHJhbnNwbGFudGVkVmlldyAqLykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVtYmVkZGVkVFZpZXcgPSBlbWJlZGRlZExWaWV3W1RWSUVXXTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChlbWJlZGRlZFRWaWV3LCAnVFZpZXcgbXVzdCBiZSBhbGxvY2F0ZWQnKTtcbiAgICAgICAgICAgICAgICByZWZyZXNoVmlldyhlbWJlZGRlZFRWaWV3LCBlbWJlZGRlZExWaWV3LCBlbWJlZGRlZFRWaWV3LnRlbXBsYXRlLCBlbWJlZGRlZExWaWV3W0NPTlRFWFRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVtYmVkZGVkTFZpZXdbVFJBTlNQTEFOVEVEX1ZJRVdTX1RPX1JFRlJFU0hdID4gMCkge1xuICAgICAgICAgICAgICAgIHJlZnJlc2hDb250YWluc0RpcnR5VmlldyhlbWJlZGRlZExWaWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICAvLyBSZWZyZXNoIGNoaWxkIGNvbXBvbmVudCB2aWV3cy5cbiAgICBjb25zdCBjb21wb25lbnRzID0gdFZpZXcuY29tcG9uZW50cztcbiAgICBpZiAoY29tcG9uZW50cyAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgoY29tcG9uZW50c1tpXSwgbFZpZXcpO1xuICAgICAgICAgICAgLy8gT25seSBhdHRhY2hlZCBjb21wb25lbnRzIHRoYXQgYXJlIENoZWNrQWx3YXlzIG9yIE9uUHVzaCBhbmQgZGlydHkgc2hvdWxkIGJlIHJlZnJlc2hlZFxuICAgICAgICAgICAgaWYgKHZpZXdBdHRhY2hlZFRvQ2hhbmdlRGV0ZWN0b3IoY29tcG9uZW50VmlldykgJiZcbiAgICAgICAgICAgICAgICBjb21wb25lbnRWaWV3W1RSQU5TUExBTlRFRF9WSUVXU19UT19SRUZSRVNIXSA+IDApIHtcbiAgICAgICAgICAgICAgICByZWZyZXNoQ29udGFpbnNEaXJ0eVZpZXcoY29tcG9uZW50Vmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiByZW5kZXJDb21wb25lbnQkMShob3N0TFZpZXcsIGNvbXBvbmVudEhvc3RJZHgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwoaXNDcmVhdGlvbk1vZGUoaG9zdExWaWV3KSwgdHJ1ZSwgJ1Nob3VsZCBiZSBydW4gaW4gY3JlYXRpb24gbW9kZScpO1xuICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgoY29tcG9uZW50SG9zdElkeCwgaG9zdExWaWV3KTtcbiAgICBjb25zdCBjb21wb25lbnRUVmlldyA9IGNvbXBvbmVudFZpZXdbVFZJRVddO1xuICAgIHN5bmNWaWV3V2l0aEJsdWVwcmludChjb21wb25lbnRUVmlldywgY29tcG9uZW50Vmlldyk7XG4gICAgcmVuZGVyVmlldyhjb21wb25lbnRUVmlldywgY29tcG9uZW50VmlldywgY29tcG9uZW50Vmlld1tDT05URVhUXSk7XG59XG4vKipcbiAqIFN5bmNzIGFuIExWaWV3IGluc3RhbmNlIHdpdGggaXRzIGJsdWVwcmludCBpZiB0aGV5IGhhdmUgZ290dGVuIG91dCBvZiBzeW5jLlxuICpcbiAqIFR5cGljYWxseSwgYmx1ZXByaW50cyBhbmQgdGhlaXIgdmlldyBpbnN0YW5jZXMgc2hvdWxkIGFsd2F5cyBiZSBpbiBzeW5jLCBzbyB0aGUgbG9vcCBoZXJlXG4gKiB3aWxsIGJlIHNraXBwZWQuIEhvd2V2ZXIsIGNvbnNpZGVyIHRoaXMgY2FzZSBvZiB0d28gY29tcG9uZW50cyBzaWRlLWJ5LXNpZGU6XG4gKlxuICogQXBwIHRlbXBsYXRlOlxuICogYGBgXG4gKiA8Y29tcD48L2NvbXA+XG4gKiA8Y29tcD48L2NvbXA+XG4gKiBgYGBcbiAqXG4gKiBUaGUgZm9sbG93aW5nIHdpbGwgaGFwcGVuOlxuICogMS4gQXBwIHRlbXBsYXRlIGJlZ2lucyBwcm9jZXNzaW5nLlxuICogMi4gRmlyc3QgPGNvbXA+IGlzIG1hdGNoZWQgYXMgYSBjb21wb25lbnQgYW5kIGl0cyBMVmlldyBpcyBjcmVhdGVkLlxuICogMy4gU2Vjb25kIDxjb21wPiBpcyBtYXRjaGVkIGFzIGEgY29tcG9uZW50IGFuZCBpdHMgTFZpZXcgaXMgY3JlYXRlZC5cbiAqIDQuIEFwcCB0ZW1wbGF0ZSBjb21wbGV0ZXMgcHJvY2Vzc2luZywgc28gaXQncyB0aW1lIHRvIGNoZWNrIGNoaWxkIHRlbXBsYXRlcy5cbiAqIDUuIEZpcnN0IDxjb21wPiB0ZW1wbGF0ZSBpcyBjaGVja2VkLiBJdCBoYXMgYSBkaXJlY3RpdmUsIHNvIGl0cyBkZWYgaXMgcHVzaGVkIHRvIGJsdWVwcmludC5cbiAqIDYuIFNlY29uZCA8Y29tcD4gdGVtcGxhdGUgaXMgY2hlY2tlZC4gSXRzIGJsdWVwcmludCBoYXMgYmVlbiB1cGRhdGVkIGJ5IHRoZSBmaXJzdFxuICogPGNvbXA+IHRlbXBsYXRlLCBidXQgaXRzIExWaWV3IHdhcyBjcmVhdGVkIGJlZm9yZSB0aGlzIHVwZGF0ZSwgc28gaXQgaXMgb3V0IG9mIHN5bmMuXG4gKlxuICogTm90ZSB0aGF0IGVtYmVkZGVkIHZpZXdzIGluc2lkZSBuZ0ZvciBsb29wcyB3aWxsIG5ldmVyIGJlIG91dCBvZiBzeW5jIGJlY2F1c2UgdGhlc2Ugdmlld3NcbiAqIGFyZSBwcm9jZXNzZWQgYXMgc29vbiBhcyB0aGV5IGFyZSBjcmVhdGVkLlxuICpcbiAqIEBwYXJhbSB0VmlldyBUaGUgYFRWaWV3YCB0aGF0IGNvbnRhaW5zIHRoZSBibHVlcHJpbnQgZm9yIHN5bmNpbmdcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyB0byBzeW5jXG4gKi9cbmZ1bmN0aW9uIHN5bmNWaWV3V2l0aEJsdWVwcmludCh0VmlldywgbFZpZXcpIHtcbiAgICBmb3IgKGxldCBpID0gbFZpZXcubGVuZ3RoOyBpIDwgdFZpZXcuYmx1ZXByaW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxWaWV3LnB1c2godFZpZXcuYmx1ZXByaW50W2ldKTtcbiAgICB9XG59XG4vKipcbiAqIEFkZHMgTFZpZXcgb3IgTENvbnRhaW5lciB0byB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IHZpZXcgdHJlZS5cbiAqXG4gKiBUaGlzIHN0cnVjdHVyZSB3aWxsIGJlIHVzZWQgdG8gdHJhdmVyc2UgdGhyb3VnaCBuZXN0ZWQgdmlld3MgdG8gcmVtb3ZlIGxpc3RlbmVyc1xuICogYW5kIGNhbGwgb25EZXN0cm95IGNhbGxiYWNrcy5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgd2hlcmUgTFZpZXcgb3IgTENvbnRhaW5lciBzaG91bGQgYmUgYWRkZWRcbiAqIEBwYXJhbSBhZGp1c3RlZEhvc3RJbmRleCBJbmRleCBvZiB0aGUgdmlldydzIGhvc3Qgbm9kZSBpbiBMVmlld1tdLCBhZGp1c3RlZCBmb3IgaGVhZGVyXG4gKiBAcGFyYW0gbFZpZXdPckxDb250YWluZXIgVGhlIExWaWV3IG9yIExDb250YWluZXIgdG8gYWRkIHRvIHRoZSB2aWV3IHRyZWVcbiAqIEByZXR1cm5zIFRoZSBzdGF0ZSBwYXNzZWQgaW5cbiAqL1xuZnVuY3Rpb24gYWRkVG9WaWV3VHJlZShsVmlldywgbFZpZXdPckxDb250YWluZXIpIHtcbiAgICAvLyBUT0RPKGJlbmxlc2gvbWlza28pOiBUaGlzIGltcGxlbWVudGF0aW9uIGlzIGluY29ycmVjdCwgYmVjYXVzZSBpdCBhbHdheXMgYWRkcyB0aGUgTENvbnRhaW5lclxuICAgIC8vIHRvIHRoZSBlbmQgb2YgdGhlIHF1ZXVlLCB3aGljaCBtZWFucyBpZiB0aGUgZGV2ZWxvcGVyIHJldHJpZXZlcyB0aGUgTENvbnRhaW5lcnMgZnJvbSBSTm9kZXMgb3V0XG4gICAgLy8gb2Ygb3JkZXIsIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIHdpbGwgcnVuIG91dCBvZiBvcmRlciwgYXMgdGhlIGFjdCBvZiByZXRyaWV2aW5nIHRoZSB0aGVcbiAgICAvLyBMQ29udGFpbmVyIGZyb20gdGhlIFJOb2RlIGlzIHdoYXQgYWRkcyBpdCB0byB0aGUgcXVldWUuXG4gICAgaWYgKGxWaWV3W0NISUxEX0hFQURdKSB7XG4gICAgICAgIGxWaWV3W0NISUxEX1RBSUxdW05FWFRdID0gbFZpZXdPckxDb250YWluZXI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsVmlld1tDSElMRF9IRUFEXSA9IGxWaWV3T3JMQ29udGFpbmVyO1xuICAgIH1cbiAgICBsVmlld1tDSElMRF9UQUlMXSA9IGxWaWV3T3JMQ29udGFpbmVyO1xuICAgIHJldHVybiBsVmlld09yTENvbnRhaW5lcjtcbn1cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8gQ2hhbmdlIGRldGVjdGlvblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLyoqXG4gKiBNYXJrcyBjdXJyZW50IHZpZXcgYW5kIGFsbCBhbmNlc3RvcnMgZGlydHkuXG4gKlxuICogUmV0dXJucyB0aGUgcm9vdCB2aWV3IGJlY2F1c2UgaXQgaXMgZm91bmQgYXMgYSBieXByb2R1Y3Qgb2YgbWFya2luZyB0aGUgdmlldyB0cmVlXG4gKiBkaXJ0eSwgYW5kIGNhbiBiZSB1c2VkIGJ5IG1ldGhvZHMgdGhhdCBjb25zdW1lIG1hcmtWaWV3RGlydHkoKSB0byBlYXNpbHkgc2NoZWR1bGVcbiAqIGNoYW5nZSBkZXRlY3Rpb24uIE90aGVyd2lzZSwgc3VjaCBtZXRob2RzIHdvdWxkIG5lZWQgdG8gdHJhdmVyc2UgdXAgdGhlIHZpZXcgdHJlZVxuICogYW4gYWRkaXRpb25hbCB0aW1lIHRvIGdldCB0aGUgcm9vdCB2aWV3IGFuZCBzY2hlZHVsZSBhIHRpY2sgb24gaXQuXG4gKlxuICogQHBhcmFtIGxWaWV3IFRoZSBzdGFydGluZyBMVmlldyB0byBtYXJrIGRpcnR5XG4gKiBAcmV0dXJucyB0aGUgcm9vdCBMVmlld1xuICovXG5mdW5jdGlvbiBtYXJrVmlld0RpcnR5KGxWaWV3KSB7XG4gICAgd2hpbGUgKGxWaWV3KSB7XG4gICAgICAgIGxWaWV3W0ZMQUdTXSB8PSA2NCAvKiBEaXJ0eSAqLztcbiAgICAgICAgY29uc3QgcGFyZW50ID0gZ2V0TFZpZXdQYXJlbnQobFZpZXcpO1xuICAgICAgICAvLyBTdG9wIHRyYXZlcnNpbmcgdXAgYXMgc29vbiBhcyB5b3UgZmluZCBhIHJvb3QgdmlldyB0aGF0IHdhc24ndCBhdHRhY2hlZCB0byBhbnkgY29udGFpbmVyXG4gICAgICAgIGlmIChpc1Jvb3RWaWV3KGxWaWV3KSAmJiAhcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbFZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29udGludWUgb3RoZXJ3aXNlXG4gICAgICAgIGxWaWV3ID0gcGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogVXNlZCB0byBzY2hlZHVsZSBjaGFuZ2UgZGV0ZWN0aW9uIG9uIHRoZSB3aG9sZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBVbmxpa2UgYHRpY2tgLCBgc2NoZWR1bGVUaWNrYCBjb2FsZXNjZXMgbXVsdGlwbGUgY2FsbHMgaW50byBvbmUgY2hhbmdlIGRldGVjdGlvbiBydW4uXG4gKiBJdCBpcyB1c3VhbGx5IGNhbGxlZCBpbmRpcmVjdGx5IGJ5IGNhbGxpbmcgYG1hcmtEaXJ0eWAgd2hlbiB0aGUgdmlldyBuZWVkcyB0byBiZVxuICogcmUtcmVuZGVyZWQuXG4gKlxuICogVHlwaWNhbGx5IGBzY2hlZHVsZVRpY2tgIHVzZXMgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgdG8gY29hbGVzY2UgbXVsdGlwbGVcbiAqIGBzY2hlZHVsZVRpY2tgIHJlcXVlc3RzLiBUaGUgc2NoZWR1bGluZyBmdW5jdGlvbiBjYW4gYmUgb3ZlcnJpZGRlbiBpblxuICogYHJlbmRlckNvbXBvbmVudGAncyBgc2NoZWR1bGVyYCBvcHRpb24uXG4gKi9cbmZ1bmN0aW9uIHNjaGVkdWxlVGljayhyb290Q29udGV4dCwgZmxhZ3MpIHtcbiAgICBjb25zdCBub3RoaW5nU2NoZWR1bGVkID0gcm9vdENvbnRleHQuZmxhZ3MgPT09IDAgLyogRW1wdHkgKi87XG4gICAgaWYgKG5vdGhpbmdTY2hlZHVsZWQgJiYgcm9vdENvbnRleHQuY2xlYW4gPT0gX0NMRUFOX1BST01JU0UpIHtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMzkyOTZcbiAgICAgICAgLy8gc2hvdWxkIG9ubHkgYXR0YWNoIHRoZSBmbGFncyB3aGVuIHJlYWxseSBzY2hlZHVsaW5nIGEgdGlja1xuICAgICAgICByb290Q29udGV4dC5mbGFncyB8PSBmbGFncztcbiAgICAgICAgbGV0IHJlcztcbiAgICAgICAgcm9vdENvbnRleHQuY2xlYW4gPSBuZXcgUHJvbWlzZSgocikgPT4gcmVzID0gcik7XG4gICAgICAgIHJvb3RDb250ZXh0LnNjaGVkdWxlcigoKSA9PiB7XG4gICAgICAgICAgICBpZiAocm9vdENvbnRleHQuZmxhZ3MgJiAxIC8qIERldGVjdENoYW5nZXMgKi8pIHtcbiAgICAgICAgICAgICAgICByb290Q29udGV4dC5mbGFncyAmPSB+MSAvKiBEZXRlY3RDaGFuZ2VzICovO1xuICAgICAgICAgICAgICAgIHRpY2tSb290Q29udGV4dChyb290Q29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm9vdENvbnRleHQuZmxhZ3MgJiAyIC8qIEZsdXNoUGxheWVycyAqLykge1xuICAgICAgICAgICAgICAgIHJvb3RDb250ZXh0LmZsYWdzICY9IH4yIC8qIEZsdXNoUGxheWVycyAqLztcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJIYW5kbGVyID0gcm9vdENvbnRleHQucGxheWVySGFuZGxlcjtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVySGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJIYW5kbGVyLmZsdXNoUGxheWVycygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvb3RDb250ZXh0LmNsZWFuID0gX0NMRUFOX1BST01JU0U7XG4gICAgICAgICAgICByZXMobnVsbCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRpY2tSb290Q29udGV4dChyb290Q29udGV4dCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm9vdENvbnRleHQuY29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCByb290Q29tcG9uZW50ID0gcm9vdENvbnRleHQuY29tcG9uZW50c1tpXTtcbiAgICAgICAgY29uc3QgbFZpZXcgPSByZWFkUGF0Y2hlZExWaWV3KHJvb3RDb21wb25lbnQpO1xuICAgICAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICAgICAgcmVuZGVyQ29tcG9uZW50T3JUZW1wbGF0ZSh0VmlldywgbFZpZXcsIHRWaWV3LnRlbXBsYXRlLCByb290Q29tcG9uZW50KTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXRlY3RDaGFuZ2VzSW50ZXJuYWwodFZpZXcsIGxWaWV3LCBjb250ZXh0KSB7XG4gICAgY29uc3QgcmVuZGVyZXJGYWN0b3J5ID0gbFZpZXdbUkVOREVSRVJfRkFDVE9SWV07XG4gICAgaWYgKHJlbmRlcmVyRmFjdG9yeS5iZWdpbilcbiAgICAgICAgcmVuZGVyZXJGYWN0b3J5LmJlZ2luKCk7XG4gICAgdHJ5IHtcbiAgICAgICAgcmVmcmVzaFZpZXcodFZpZXcsIGxWaWV3LCB0Vmlldy50ZW1wbGF0ZSwgY29udGV4dCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBoYW5kbGVFcnJvcihsVmlldywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGlmIChyZW5kZXJlckZhY3RvcnkuZW5kKVxuICAgICAgICAgICAgcmVuZGVyZXJGYWN0b3J5LmVuZCgpO1xuICAgIH1cbn1cbi8qKlxuICogU3luY2hyb25vdXNseSBwZXJmb3JtIGNoYW5nZSBkZXRlY3Rpb24gb24gYSByb290IHZpZXcgYW5kIGl0cyBjb21wb25lbnRzLlxuICpcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyB3aGljaCB0aGUgY2hhbmdlIGRldGVjdGlvbiBzaG91bGQgYmUgcGVyZm9ybWVkIG9uLlxuICovXG5mdW5jdGlvbiBkZXRlY3RDaGFuZ2VzSW5Sb290VmlldyhsVmlldykge1xuICAgIHRpY2tSb290Q29udGV4dChsVmlld1tDT05URVhUXSk7XG59XG5mdW5jdGlvbiBjaGVja05vQ2hhbmdlc0ludGVybmFsKHRWaWV3LCB2aWV3LCBjb250ZXh0KSB7XG4gICAgc2V0SXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgICBkZXRlY3RDaGFuZ2VzSW50ZXJuYWwodFZpZXcsIHZpZXcsIGNvbnRleHQpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNJbkNoZWNrTm9DaGFuZ2VzTW9kZShmYWxzZSk7XG4gICAgfVxufVxuLyoqXG4gKiBDaGVja3MgdGhlIGNoYW5nZSBkZXRlY3RvciBvbiBhIHJvb3QgdmlldyBhbmQgaXRzIGNvbXBvbmVudHMsIGFuZCB0aHJvd3MgaWYgYW55IGNoYW5nZXMgYXJlXG4gKiBkZXRlY3RlZC5cbiAqXG4gKiBUaGlzIGlzIHVzZWQgaW4gZGV2ZWxvcG1lbnQgbW9kZSB0byB2ZXJpZnkgdGhhdCBydW5uaW5nIGNoYW5nZSBkZXRlY3Rpb24gZG9lc24ndFxuICogaW50cm9kdWNlIG90aGVyIGNoYW5nZXMuXG4gKlxuICogQHBhcmFtIGxWaWV3IFRoZSB2aWV3IHdoaWNoIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIHNob3VsZCBiZSBjaGVja2VkIG9uLlxuICovXG5mdW5jdGlvbiBjaGVja05vQ2hhbmdlc0luUm9vdFZpZXcobFZpZXcpIHtcbiAgICBzZXRJc0luQ2hlY2tOb0NoYW5nZXNNb2RlKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICAgIGRldGVjdENoYW5nZXNJblJvb3RWaWV3KGxWaWV3KTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHNldElzSW5DaGVja05vQ2hhbmdlc01vZGUoZmFsc2UpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGV4ZWN1dGVWaWV3UXVlcnlGbihmbGFncywgdmlld1F1ZXJ5Rm4sIGNvbXBvbmVudCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHZpZXdRdWVyeUZuLCAnVmlldyBxdWVyaWVzIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgbXVzdCBiZSBkZWZpbmVkLicpO1xuICAgIHNldEN1cnJlbnRRdWVyeUluZGV4KDApO1xuICAgIHZpZXdRdWVyeUZuKGZsYWdzLCBjb21wb25lbnQpO1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLyBCaW5kaW5ncyAmIGludGVycG9sYXRpb25zXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vKipcbiAqIFN0b3JlcyBtZXRhLWRhdGEgZm9yIGEgcHJvcGVydHkgYmluZGluZyB0byBiZSB1c2VkIGJ5IFRlc3RCZWQncyBgRGVidWdFbGVtZW50LnByb3BlcnRpZXNgLlxuICpcbiAqIEluIG9yZGVyIHRvIHN1cHBvcnQgVGVzdEJlZCdzIGBEZWJ1Z0VsZW1lbnQucHJvcGVydGllc2Agd2UgbmVlZCB0byBzYXZlLCBmb3IgZWFjaCBiaW5kaW5nOlxuICogLSBhIGJvdW5kIHByb3BlcnR5IG5hbWU7XG4gKiAtIGEgc3RhdGljIHBhcnRzIG9mIGludGVycG9sYXRlZCBzdHJpbmdzO1xuICpcbiAqIEEgZ2l2ZW4gcHJvcGVydHkgbWV0YWRhdGEgaXMgc2F2ZWQgYXQgdGhlIGJpbmRpbmcncyBpbmRleCBpbiB0aGUgYFRWaWV3LmRhdGFgIChpbiBvdGhlciB3b3JkcywgYVxuICogcHJvcGVydHkgYmluZGluZyBtZXRhZGF0YSB3aWxsIGJlIHN0b3JlZCBpbiBgVFZpZXcuZGF0YWAgYXQgdGhlIHNhbWUgaW5kZXggYXMgYSBib3VuZCB2YWx1ZSBpblxuICogYExWaWV3YCkuIE1ldGFkYXRhIGFyZSByZXByZXNlbnRlZCBhcyBgSU5URVJQT0xBVElPTl9ERUxJTUlURVJgLWRlbGltaXRlZCBzdHJpbmcgd2l0aCB0aGVcbiAqIGZvbGxvd2luZyBmb3JtYXQ6XG4gKiAtIGBwcm9wZXJ0eU5hbWVgIGZvciBib3VuZCBwcm9wZXJ0aWVzO1xuICogLSBgcHJvcGVydHlOYW1l77+9cHJlZml477+9aW50ZXJwb2xhdGlvbl9zdGF0aWNfcGFydDHvv70uLmludGVycG9sYXRpb25fc3RhdGljX3BhcnRO77+9c3VmZml4YCBmb3JcbiAqIGludGVycG9sYXRlZCBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSB0RGF0YSBgVERhdGFgIHdoZXJlIG1ldGEtZGF0YSB3aWxsIGJlIHNhdmVkO1xuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgdGhhdCBpcyBhIHRhcmdldCBvZiB0aGUgYmluZGluZztcbiAqIEBwYXJhbSBwcm9wZXJ0eU5hbWUgYm91bmQgcHJvcGVydHkgbmFtZTtcbiAqIEBwYXJhbSBiaW5kaW5nSW5kZXggYmluZGluZyBpbmRleCBpbiBgTFZpZXdgXG4gKiBAcGFyYW0gaW50ZXJwb2xhdGlvblBhcnRzIHN0YXRpYyBpbnRlcnBvbGF0aW9uIHBhcnRzIChmb3IgcHJvcGVydHkgaW50ZXJwb2xhdGlvbnMpXG4gKi9cbmZ1bmN0aW9uIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodERhdGEsIHROb2RlLCBwcm9wZXJ0eU5hbWUsIGJpbmRpbmdJbmRleCwgLi4uaW50ZXJwb2xhdGlvblBhcnRzKSB7XG4gICAgLy8gQmluZGluZyBtZXRhLWRhdGEgYXJlIHN0b3JlZCBvbmx5IHRoZSBmaXJzdCB0aW1lIGEgZ2l2ZW4gcHJvcGVydHkgaW5zdHJ1Y3Rpb24gaXMgcHJvY2Vzc2VkLlxuICAgIC8vIFNpbmNlIHdlIGRvbid0IGhhdmUgYSBjb25jZXB0IG9mIHRoZSBcImZpcnN0IHVwZGF0ZSBwYXNzXCIgd2UgbmVlZCB0byBjaGVjayBmb3IgcHJlc2VuY2Ugb2YgdGhlXG4gICAgLy8gYmluZGluZyBtZXRhLWRhdGEgdG8gZGVjaWRlIGlmIG9uZSBzaG91bGQgYmUgc3RvcmVkIChvciBpZiB3YXMgc3RvcmVkIGFscmVhZHkpLlxuICAgIGlmICh0RGF0YVtiaW5kaW5nSW5kZXhdID09PSBudWxsKSB7XG4gICAgICAgIGlmICh0Tm9kZS5pbnB1dHMgPT0gbnVsbCB8fCAhdE5vZGUuaW5wdXRzW3Byb3BlcnR5TmFtZV0pIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BCaW5kaW5nSWR4cyA9IHROb2RlLnByb3BlcnR5QmluZGluZ3MgfHwgKHROb2RlLnByb3BlcnR5QmluZGluZ3MgPSBbXSk7XG4gICAgICAgICAgICBwcm9wQmluZGluZ0lkeHMucHVzaChiaW5kaW5nSW5kZXgpO1xuICAgICAgICAgICAgbGV0IGJpbmRpbmdNZXRhZGF0YSA9IHByb3BlcnR5TmFtZTtcbiAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0aW9uUGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGJpbmRpbmdNZXRhZGF0YSArPVxuICAgICAgICAgICAgICAgICAgICBJTlRFUlBPTEFUSU9OX0RFTElNSVRFUiArIGludGVycG9sYXRpb25QYXJ0cy5qb2luKElOVEVSUE9MQVRJT05fREVMSU1JVEVSKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHREYXRhW2JpbmRpbmdJbmRleF0gPSBiaW5kaW5nTWV0YWRhdGE7XG4gICAgICAgIH1cbiAgICB9XG59XG5jb25zdCBDTEVBTl9QUk9NSVNFID0gX0NMRUFOX1BST01JU0U7XG5mdW5jdGlvbiBnZXRPckNyZWF0ZUxWaWV3Q2xlYW51cCh2aWV3KSB7XG4gICAgLy8gdG9wIGxldmVsIHZhcmlhYmxlcyBzaG91bGQgbm90IGJlIGV4cG9ydGVkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIChQRVJGX05PVEVTLm1kKVxuICAgIHJldHVybiB2aWV3W0NMRUFOVVBdIHx8ICh2aWV3W0NMRUFOVVBdID0gbmdEZXZNb2RlID8gbmV3IExDbGVhbnVwKCkgOiBbXSk7XG59XG5mdW5jdGlvbiBnZXRPckNyZWF0ZVRWaWV3Q2xlYW51cCh0Vmlldykge1xuICAgIHJldHVybiB0Vmlldy5jbGVhbnVwIHx8ICh0Vmlldy5jbGVhbnVwID0gbmdEZXZNb2RlID8gbmV3IFRDbGVhbnVwKCkgOiBbXSk7XG59XG4vKipcbiAqIFRoZXJlIGFyZSBjYXNlcyB3aGVyZSB0aGUgc3ViIGNvbXBvbmVudCdzIHJlbmRlcmVyIG5lZWRzIHRvIGJlIGluY2x1ZGVkXG4gKiBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHJlbmRlcmVyIChzZWUgdGhlIGNvbXBvbmVudFN5bnRoZXRpY0hvc3QqIGluc3RydWN0aW9ucykuXG4gKi9cbmZ1bmN0aW9uIGxvYWRDb21wb25lbnRSZW5kZXJlcihjdXJyZW50RGVmLCB0Tm9kZSwgbFZpZXcpIHtcbiAgICAvLyBUT0RPKEZXLTIwNDMpOiB0aGUgYGN1cnJlbnREZWZgIGlzIG51bGwgd2hlbiBob3N0IGJpbmRpbmdzIGFyZSBpbnZva2VkIHdoaWxlIGNyZWF0aW5nIHJvb3RcbiAgICAvLyBjb21wb25lbnQgKHNlZSBwYWNrYWdlcy9jb3JlL3NyYy9yZW5kZXIzL2NvbXBvbmVudC50cykuIFRoaXMgaXMgbm90IGNvbnNpc3RlbnQgd2l0aCB0aGUgcHJvY2Vzc1xuICAgIC8vIG9mIGNyZWF0aW5nIGlubmVyIGNvbXBvbmVudHMsIHdoZW4gY3VycmVudCBkaXJlY3RpdmUgaW5kZXggaXMgYXZhaWxhYmxlIGluIHRoZSBzdGF0ZS4gSW4gb3JkZXJcbiAgICAvLyB0byBhdm9pZCByZWx5aW5nIG9uIGN1cnJlbnQgZGVmIGJlaW5nIGBudWxsYCAodGh1cyBzcGVjaWFsLWNhc2luZyByb290IGNvbXBvbmVudCBjcmVhdGlvbiksIHRoZVxuICAgIC8vIHByb2Nlc3Mgb2YgY3JlYXRpbmcgcm9vdCBjb21wb25lbnQgc2hvdWxkIGJlIHVuaWZpZWQgd2l0aCB0aGUgcHJvY2VzcyBvZiBjcmVhdGluZyBpbm5lclxuICAgIC8vIGNvbXBvbmVudHMuXG4gICAgaWYgKGN1cnJlbnREZWYgPT09IG51bGwgfHwgaXNDb21wb25lbnREZWYoY3VycmVudERlZikpIHtcbiAgICAgICAgbFZpZXcgPSB1bndyYXBMVmlldyhsVmlld1t0Tm9kZS5pbmRleF0pO1xuICAgIH1cbiAgICByZXR1cm4gbFZpZXdbUkVOREVSRVJdO1xufVxuLyoqIEhhbmRsZXMgYW4gZXJyb3IgdGhyb3duIGluIGFuIExWaWV3LiAqL1xuZnVuY3Rpb24gaGFuZGxlRXJyb3IobFZpZXcsIGVycm9yKSB7XG4gICAgY29uc3QgaW5qZWN0b3IgPSBsVmlld1tJTkpFQ1RPUiQxXTtcbiAgICBjb25zdCBlcnJvckhhbmRsZXIgPSBpbmplY3RvciA/IGluamVjdG9yLmdldChFcnJvckhhbmRsZXIsIG51bGwpIDogbnVsbDtcbiAgICBlcnJvckhhbmRsZXIgJiYgZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGVycm9yKTtcbn1cbi8qKlxuICogU2V0IHRoZSBpbnB1dHMgb2YgZGlyZWN0aXZlcyBhdCB0aGUgY3VycmVudCBub2RlIHRvIGNvcnJlc3BvbmRpbmcgdmFsdWUuXG4gKlxuICogQHBhcmFtIHRWaWV3IFRoZSBjdXJyZW50IFRWaWV3XG4gKiBAcGFyYW0gbFZpZXcgdGhlIGBMVmlld2Agd2hpY2ggY29udGFpbnMgdGhlIGRpcmVjdGl2ZXMuXG4gKiBAcGFyYW0gaW5wdXRzIG1hcHBpbmcgYmV0d2VlbiB0aGUgcHVibGljIFwiaW5wdXRcIiBuYW1lIGFuZCBwcml2YXRlbHkta25vd24sXG4gKiAgICAgICAgcG9zc2libHkgbWluaWZpZWQsIHByb3BlcnR5IG5hbWVzIHRvIHdyaXRlIHRvLlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIHNldC5cbiAqL1xuZnVuY3Rpb24gc2V0SW5wdXRzRm9yUHJvcGVydHkodFZpZXcsIGxWaWV3LCBpbnB1dHMsIHB1YmxpY05hbWUsIHZhbHVlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOykge1xuICAgICAgICBjb25zdCBpbmRleCA9IGlucHV0c1tpKytdO1xuICAgICAgICBjb25zdCBwcml2YXRlTmFtZSA9IGlucHV0c1tpKytdO1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGxWaWV3W2luZGV4XTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgaW5kZXgpO1xuICAgICAgICBjb25zdCBkZWYgPSB0Vmlldy5kYXRhW2luZGV4XTtcbiAgICAgICAgaWYgKGRlZi5zZXRJbnB1dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZGVmLnNldElucHV0KGluc3RhbmNlLCB2YWx1ZSwgcHVibGljTmFtZSwgcHJpdmF0ZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5zdGFuY2VbcHJpdmF0ZU5hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFVwZGF0ZXMgYSB0ZXh0IGJpbmRpbmcgYXQgYSBnaXZlbiBpbmRleCBpbiBhIGdpdmVuIExWaWV3LlxuICovXG5mdW5jdGlvbiB0ZXh0QmluZGluZ0ludGVybmFsKGxWaWV3LCBpbmRleCwgdmFsdWUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0U3RyaW5nKHZhbHVlLCAnVmFsdWUgc2hvdWxkIGJlIGEgc3RyaW5nJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vdFNhbWUodmFsdWUsIE5PX0NIQU5HRSwgJ3ZhbHVlIHNob3VsZCBub3QgYmUgTk9fQ0hBTkdFJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgaW5kZXgpO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBnZXROYXRpdmVCeUluZGV4KGluZGV4LCBsVmlldyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZWxlbWVudCwgJ25hdGl2ZSBlbGVtZW50IHNob3VsZCBleGlzdCcpO1xuICAgIHVwZGF0ZVRleHROb2RlKGxWaWV3W1JFTkRFUkVSXSwgZWxlbWVudCwgdmFsdWUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29tcHV0ZSB0aGUgc3RhdGljIHN0eWxpbmcgKGNsYXNzL3N0eWxlKSBmcm9tIGBUQXR0cmlidXRlc2AuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgY2FsbGVkIGR1cmluZyBgZmlyc3RDcmVhdGVQYXNzYCBvbmx5LlxuICpcbiAqIEBwYXJhbSB0Tm9kZSBUaGUgYFROb2RlYCBpbnRvIHdoaWNoIHRoZSBzdHlsaW5nIGluZm9ybWF0aW9uIHNob3VsZCBiZSBsb2FkZWQuXG4gKiBAcGFyYW0gYXR0cnMgYFRBdHRyaWJ1dGVzYCBjb250YWluaW5nIHRoZSBzdHlsaW5nIGluZm9ybWF0aW9uLlxuICogQHBhcmFtIHdyaXRlVG9Ib3N0IFdoZXJlIHNob3VsZCB0aGUgcmVzdWx0aW5nIHN0YXRpYyBzdHlsZXMgYmUgd3JpdHRlbj9cbiAqICAgLSBgZmFsc2VgIFdyaXRlIHRvIGBUTm9kZS5zdHlsZXNXaXRob3V0SG9zdGAgLyBgVE5vZGUuY2xhc3Nlc1dpdGhvdXRIb3N0YFxuICogICAtIGB0cnVlYCBXcml0ZSB0byBgVE5vZGUuc3R5bGVzYCAvIGBUTm9kZS5jbGFzc2VzYFxuICovXG5mdW5jdGlvbiBjb21wdXRlU3RhdGljU3R5bGluZyh0Tm9kZSwgYXR0cnMsIHdyaXRlVG9Ib3N0KSB7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyhnZXRUVmlldygpLCAnRXhwZWN0aW5nIHRvIGJlIGNhbGxlZCBpbiBmaXJzdCB0ZW1wbGF0ZSBwYXNzIG9ubHknKTtcbiAgICBsZXQgc3R5bGVzID0gd3JpdGVUb0hvc3QgPyB0Tm9kZS5zdHlsZXMgOiBudWxsO1xuICAgIGxldCBjbGFzc2VzID0gd3JpdGVUb0hvc3QgPyB0Tm9kZS5jbGFzc2VzIDogbnVsbDtcbiAgICBsZXQgbW9kZSA9IDA7XG4gICAgaWYgKGF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXR0cnNbaV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIG1vZGUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgPT0gMSAvKiBDbGFzc2VzICovKSB7XG4gICAgICAgICAgICAgICAgY2xhc3NlcyA9IGNvbmNhdFN0cmluZ3NXaXRoU3BhY2UoY2xhc3NlcywgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobW9kZSA9PSAyIC8qIFN0eWxlcyAqLykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVWYWx1ZSA9IGF0dHJzWysraV07XG4gICAgICAgICAgICAgICAgc3R5bGVzID0gY29uY2F0U3RyaW5nc1dpdGhTcGFjZShzdHlsZXMsIHN0eWxlICsgJzogJyArIHN0eWxlVmFsdWUgKyAnOycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHdyaXRlVG9Ib3N0ID8gdE5vZGUuc3R5bGVzID0gc3R5bGVzIDogdE5vZGUuc3R5bGVzV2l0aG91dEhvc3QgPSBzdHlsZXM7XG4gICAgd3JpdGVUb0hvc3QgPyB0Tm9kZS5jbGFzc2VzID0gY2xhc3NlcyA6IHROb2RlLmNsYXNzZXNXaXRob3V0SG9zdCA9IGNsYXNzZXM7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBTeW5jaHJvbm91c2x5IHBlcmZvcm0gY2hhbmdlIGRldGVjdGlvbiBvbiBhIGNvbXBvbmVudCAoYW5kIHBvc3NpYmx5IGl0cyBzdWItY29tcG9uZW50cykuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB0cmlnZ2VycyBjaGFuZ2UgZGV0ZWN0aW9uIGluIGEgc3luY2hyb25vdXMgd2F5IG9uIGEgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnQgVGhlIGNvbXBvbmVudCB3aGljaCB0aGUgY2hhbmdlIGRldGVjdGlvbiBzaG91bGQgYmUgcGVyZm9ybWVkIG9uLlxuICovXG5mdW5jdGlvbiBkZXRlY3RDaGFuZ2VzKGNvbXBvbmVudCkge1xuICAgIGNvbnN0IHZpZXcgPSBnZXRDb21wb25lbnRWaWV3QnlJbnN0YW5jZShjb21wb25lbnQpO1xuICAgIGRldGVjdENoYW5nZXNJbnRlcm5hbCh2aWV3W1RWSUVXXSwgdmlldywgY29tcG9uZW50KTtcbn1cbi8qKlxuICogTWFya3MgdGhlIGNvbXBvbmVudCBhcyBkaXJ0eSAobmVlZGluZyBjaGFuZ2UgZGV0ZWN0aW9uKS4gTWFya2luZyBhIGNvbXBvbmVudCBkaXJ0eSB3aWxsXG4gKiBzY2hlZHVsZSBhIGNoYW5nZSBkZXRlY3Rpb24gb24gaXQgYXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlLlxuICpcbiAqIE1hcmtpbmcgYW4gYWxyZWFkeSBkaXJ0eSBjb21wb25lbnQgYXMgZGlydHkgd29uJ3QgZG8gYW55dGhpbmcuIE9ubHkgb25lIG91dHN0YW5kaW5nIGNoYW5nZVxuICogZGV0ZWN0aW9uIGNhbiBiZSBzY2hlZHVsZWQgcGVyIGNvbXBvbmVudCB0cmVlLlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnQgQ29tcG9uZW50IHRvIG1hcmsgYXMgZGlydHkuXG4gKi9cbmZ1bmN0aW9uIG1hcmtEaXJ0eShjb21wb25lbnQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChjb21wb25lbnQsICdjb21wb25lbnQnKTtcbiAgICBjb25zdCByb290VmlldyA9IG1hcmtWaWV3RGlydHkoZ2V0Q29tcG9uZW50Vmlld0J5SW5zdGFuY2UoY29tcG9uZW50KSk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQocm9vdFZpZXdbQ09OVEVYVF0sICdyb290Q29udGV4dCBzaG91bGQgYmUgZGVmaW5lZCcpO1xuICAgIHNjaGVkdWxlVGljayhyb290Vmlld1tDT05URVhUXSwgMSAvKiBEZXRlY3RDaGFuZ2VzICovKTtcbn1cbi8qKlxuICogVXNlZCB0byBwZXJmb3JtIGNoYW5nZSBkZXRlY3Rpb24gb24gdGhlIHdob2xlIGFwcGxpY2F0aW9uLlxuICpcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byBgZGV0ZWN0Q2hhbmdlc2AsIGJ1dCBpbnZva2VkIG9uIHJvb3QgY29tcG9uZW50LiBBZGRpdGlvbmFsbHksIGB0aWNrYFxuICogZXhlY3V0ZXMgbGlmZWN5Y2xlIGhvb2tzIGFuZCBjb25kaXRpb25hbGx5IGNoZWNrcyBjb21wb25lbnRzIGJhc2VkIG9uIHRoZWlyXG4gKiBgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lgIGFuZCBkaXJ0aW5lc3MuXG4gKlxuICogVGhlIHByZWZlcnJlZCB3YXkgdG8gdHJpZ2dlciBjaGFuZ2UgZGV0ZWN0aW9uIGlzIHRvIGNhbGwgYG1hcmtEaXJ0eWAuIGBtYXJrRGlydHlgIGludGVybmFsbHlcbiAqIHNjaGVkdWxlcyBgdGlja2AgdXNpbmcgYSBzY2hlZHVsZXIgaW4gb3JkZXIgdG8gY29hbGVzY2UgbXVsdGlwbGUgYG1hcmtEaXJ0eWAgY2FsbHMgaW50byBhXG4gKiBzaW5nbGUgY2hhbmdlIGRldGVjdGlvbiBydW4uIEJ5IGRlZmF1bHQsIHRoZSBzY2hlZHVsZXIgaXMgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAsIGJ1dCBjYW5cbiAqIGJlIGNoYW5nZWQgd2hlbiBjYWxsaW5nIGByZW5kZXJDb21wb25lbnRgIGFuZCBwcm92aWRpbmcgdGhlIGBzY2hlZHVsZXJgIG9wdGlvbi5cbiAqL1xuZnVuY3Rpb24gdGljayhjb21wb25lbnQpIHtcbiAgICBjb25zdCByb290VmlldyA9IGdldFJvb3RWaWV3KGNvbXBvbmVudCk7XG4gICAgY29uc3Qgcm9vdENvbnRleHQgPSByb290Vmlld1tDT05URVhUXTtcbiAgICB0aWNrUm9vdENvbnRleHQocm9vdENvbnRleHQpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQW4gSW5qZWN0aW9uVG9rZW4gdGhhdCBnZXRzIHRoZSBjdXJyZW50IGBJbmplY3RvcmAgZm9yIGBjcmVhdGVJbmplY3RvcigpYC1zdHlsZSBpbmplY3RvcnMuXG4gKlxuICogUmVxdWVzdGluZyB0aGlzIHRva2VuIGluc3RlYWQgb2YgYEluamVjdG9yYCBhbGxvd3MgYFN0YXRpY0luamVjdG9yYCB0byBiZSB0cmVlLXNoYWtlbiBmcm9tIGFcbiAqIHByb2plY3QuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBJTkpFQ1RPUiA9IG5ldyBJbmplY3Rpb25Ub2tlbignSU5KRUNUT1InLCBcbi8vIERpc3NhYmxlIHRzbGludCBiZWNhdXNlIHRoaXMgaXMgY29uc3QgZW51bSB3aGljaCBnZXRzIGlubGluZWQgbm90IHRvcCBsZXZlbCBwcm9wIGFjY2Vzcy5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tdG9wbGV2ZWwtcHJvcGVydHktYWNjZXNzXG4tMSAvKiBJbmplY3RvciAqLyk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY2xhc3MgTnVsbEluamVjdG9yIHtcbiAgICBnZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUgPSBUSFJPV19JRl9OT1RfRk9VTkQpIHtcbiAgICAgICAgaWYgKG5vdEZvdW5kVmFsdWUgPT09IFRIUk9XX0lGX05PVF9GT1VORCkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYE51bGxJbmplY3RvckVycm9yOiBObyBwcm92aWRlciBmb3IgJHtzdHJpbmdpZnkodG9rZW4pfSFgKTtcbiAgICAgICAgICAgIGVycm9yLm5hbWUgPSAnTnVsbEluamVjdG9yRXJyb3InO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vdEZvdW5kVmFsdWU7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQW4gaW50ZXJuYWwgdG9rZW4gd2hvc2UgcHJlc2VuY2UgaW4gYW4gaW5qZWN0b3IgaW5kaWNhdGVzIHRoYXQgdGhlIGluamVjdG9yIHNob3VsZCB0cmVhdCBpdHNlbGZcbiAqIGFzIGEgcm9vdCBzY29wZWQgaW5qZWN0b3Igd2hlbiBwcm9jZXNzaW5nIHJlcXVlc3RzIGZvciB1bmtub3duIHRva2VucyB3aGljaCBtYXkgaW5kaWNhdGVcbiAqIHRoZXkgYXJlIHByb3ZpZGVkIGluIHRoZSByb290IHNjb3BlLlxuICovXG5jb25zdCBJTkpFQ1RPUl9TQ09QRSA9IG5ldyBJbmplY3Rpb25Ub2tlbignU2V0IEluamVjdG9yIHNjb3BlLicpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogTWFya2VyIHdoaWNoIGluZGljYXRlcyB0aGF0IGEgdmFsdWUgaGFzIG5vdCB5ZXQgYmVlbiBjcmVhdGVkIGZyb20gdGhlIGZhY3RvcnkgZnVuY3Rpb24uXG4gKi9cbmNvbnN0IE5PVF9ZRVQgPSB7fTtcbi8qKlxuICogTWFya2VyIHdoaWNoIGluZGljYXRlcyB0aGF0IHRoZSBmYWN0b3J5IGZ1bmN0aW9uIGZvciBhIHRva2VuIGlzIGluIHRoZSBwcm9jZXNzIG9mIGJlaW5nIGNhbGxlZC5cbiAqXG4gKiBJZiB0aGUgaW5qZWN0b3IgaXMgYXNrZWQgdG8gaW5qZWN0IGEgdG9rZW4gd2l0aCBpdHMgdmFsdWUgc2V0IHRvIENJUkNVTEFSLCB0aGF0IGluZGljYXRlc1xuICogaW5qZWN0aW9uIG9mIGEgZGVwZW5kZW5jeSBoYXMgcmVjdXJzaXZlbHkgYXR0ZW1wdGVkIHRvIGluamVjdCB0aGUgb3JpZ2luYWwgdG9rZW4sIGFuZCB0aGVyZSBpc1xuICogYSBjaXJjdWxhciBkZXBlbmRlbmN5IGFtb25nIHRoZSBwcm92aWRlcnMuXG4gKi9cbmNvbnN0IENJUkNVTEFSID0ge307XG4vKipcbiAqIEEgbGF6aWx5IGluaXRpYWxpemVkIE51bGxJbmplY3Rvci5cbiAqL1xubGV0IE5VTExfSU5KRUNUT1IkMSA9IHVuZGVmaW5lZDtcbmZ1bmN0aW9uIGdldE51bGxJbmplY3RvcigpIHtcbiAgICBpZiAoTlVMTF9JTkpFQ1RPUiQxID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgTlVMTF9JTkpFQ1RPUiQxID0gbmV3IE51bGxJbmplY3RvcigpO1xuICAgIH1cbiAgICByZXR1cm4gTlVMTF9JTkpFQ1RPUiQxO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgYEluamVjdG9yYCB3aGljaCBpcyBjb25maWd1cmVkIHVzaW5nIGEgYGRlZlR5cGVgIG9mIGBJbmplY3RvclR5cGU8YW55PmBzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5qZWN0b3IoZGVmVHlwZSwgcGFyZW50ID0gbnVsbCwgYWRkaXRpb25hbFByb3ZpZGVycyA9IG51bGwsIG5hbWUpIHtcbiAgICBjb25zdCBpbmplY3RvciA9IGNyZWF0ZUluamVjdG9yV2l0aG91dEluamVjdG9ySW5zdGFuY2VzKGRlZlR5cGUsIHBhcmVudCwgYWRkaXRpb25hbFByb3ZpZGVycywgbmFtZSk7XG4gICAgaW5qZWN0b3IuX3Jlc29sdmVJbmplY3RvckRlZlR5cGVzKCk7XG4gICAgcmV0dXJuIGluamVjdG9yO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGluamVjdG9yIHdpdGhvdXQgZWFnZXJseSByZXNvbHZpbmcgaXRzIGluamVjdG9yIHR5cGVzLiBDYW4gYmUgdXNlZCBpbiBwbGFjZXNcbiAqIHdoZXJlIHJlc29sdmluZyB0aGUgaW5qZWN0b3IgdHlwZXMgaW1tZWRpYXRlbHkgY2FuIGxlYWQgdG8gYW4gaW5maW5pdGUgbG9vcC4gVGhlIGluamVjdG9yIHR5cGVzXG4gKiBzaG91bGQgYmUgcmVzb2x2ZWQgYXQgYSBsYXRlciBwb2ludCBieSBjYWxsaW5nIGBfcmVzb2x2ZUluamVjdG9yRGVmVHlwZXNgLlxuICovXG5mdW5jdGlvbiBjcmVhdGVJbmplY3RvcldpdGhvdXRJbmplY3Rvckluc3RhbmNlcyhkZWZUeXBlLCBwYXJlbnQgPSBudWxsLCBhZGRpdGlvbmFsUHJvdmlkZXJzID0gbnVsbCwgbmFtZSkge1xuICAgIHJldHVybiBuZXcgUjNJbmplY3RvcihkZWZUeXBlLCBhZGRpdGlvbmFsUHJvdmlkZXJzLCBwYXJlbnQgfHwgZ2V0TnVsbEluamVjdG9yKCksIG5hbWUpO1xufVxuY2xhc3MgUjNJbmplY3RvciB7XG4gICAgY29uc3RydWN0b3IoZGVmLCBhZGRpdGlvbmFsUHJvdmlkZXJzLCBwYXJlbnQsIHNvdXJjZSA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgb2YgdG9rZW5zIHRvIHJlY29yZHMgd2hpY2ggY29udGFpbiB0aGUgaW5zdGFuY2VzIG9mIHRob3NlIHRva2Vucy5cbiAgICAgICAgICogLSBgbnVsbGAgdmFsdWUgaW1wbGllcyB0aGF0IHdlIGRvbid0IGhhdmUgdGhlIHJlY29yZC4gVXNlZCBieSB0cmVlLXNoYWthYmxlIGluamVjdG9yc1xuICAgICAgICAgKiB0byBwcmV2ZW50IGZ1cnRoZXIgc2VhcmNoZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlY29yZHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhbnNpdGl2ZSBzZXQgb2YgYEluamVjdG9yVHlwZWBzIHdoaWNoIGRlZmluZSB0aGlzIGluamVjdG9yLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmplY3RvckRlZlR5cGVzID0gbmV3IFNldCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IG9mIHZhbHVlcyBpbnN0YW50aWF0ZWQgYnkgdGhpcyBpbmplY3RvciB3aGljaCBjb250YWluIGBuZ09uRGVzdHJveWAgbGlmZWN5Y2xlIGhvb2tzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkRlc3Ryb3kgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBkZWR1cFN0YWNrID0gW107XG4gICAgICAgIC8vIFN0YXJ0IG9mZiBieSBjcmVhdGluZyBSZWNvcmRzIGZvciBldmVyeSBwcm92aWRlciBkZWNsYXJlZCBpbiBldmVyeSBJbmplY3RvclR5cGVcbiAgICAgICAgLy8gaW5jbHVkZWQgdHJhbnNpdGl2ZWx5IGluIGFkZGl0aW9uYWwgcHJvdmlkZXJzIHRoZW4gZG8gdGhlIHNhbWUgZm9yIGBkZWZgLiBUaGlzIG9yZGVyIGlzXG4gICAgICAgIC8vIGltcG9ydGFudCBiZWNhdXNlIGBkZWZgIG1heSBpbmNsdWRlIHByb3ZpZGVycyB0aGF0IG92ZXJyaWRlIG9uZXMgaW4gYWRkaXRpb25hbFByb3ZpZGVycy5cbiAgICAgICAgYWRkaXRpb25hbFByb3ZpZGVycyAmJlxuICAgICAgICAgICAgZGVlcEZvckVhY2goYWRkaXRpb25hbFByb3ZpZGVycywgcHJvdmlkZXIgPT4gdGhpcy5wcm9jZXNzUHJvdmlkZXIocHJvdmlkZXIsIGRlZiwgYWRkaXRpb25hbFByb3ZpZGVycykpO1xuICAgICAgICBkZWVwRm9yRWFjaChbZGVmXSwgaW5qZWN0b3JEZWYgPT4gdGhpcy5wcm9jZXNzSW5qZWN0b3JUeXBlKGluamVjdG9yRGVmLCBbXSwgZGVkdXBTdGFjaykpO1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIElOSkVDVE9SIHRva2VuIHByb3ZpZGVzIHRoaXMgaW5qZWN0b3IuXG4gICAgICAgIHRoaXMucmVjb3Jkcy5zZXQoSU5KRUNUT1IsIG1ha2VSZWNvcmQodW5kZWZpbmVkLCB0aGlzKSk7XG4gICAgICAgIC8vIERldGVjdCB3aGV0aGVyIHRoaXMgaW5qZWN0b3IgaGFzIHRoZSBBUFBfUk9PVF9TQ09QRSB0b2tlbiBhbmQgdGh1cyBzaG91bGQgcHJvdmlkZVxuICAgICAgICAvLyBhbnkgaW5qZWN0YWJsZSBzY29wZWQgdG8gQVBQX1JPT1RfU0NPUEUuXG4gICAgICAgIGNvbnN0IHJlY29yZCA9IHRoaXMucmVjb3Jkcy5nZXQoSU5KRUNUT1JfU0NPUEUpO1xuICAgICAgICB0aGlzLnNjb3BlID0gcmVjb3JkICE9IG51bGwgPyByZWNvcmQudmFsdWUgOiBudWxsO1xuICAgICAgICAvLyBTb3VyY2UgbmFtZSwgdXNlZCBmb3IgZGVidWdnaW5nXG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlIHx8ICh0eXBlb2YgZGVmID09PSAnb2JqZWN0JyA/IG51bGwgOiBzdHJpbmdpZnkoZGVmKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZsYWcgaW5kaWNhdGluZyB0aGF0IHRoaXMgaW5qZWN0b3Igd2FzIHByZXZpb3VzbHkgZGVzdHJveWVkLlxuICAgICAqL1xuICAgIGdldCBkZXN0cm95ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZXN0cm95ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIGluamVjdG9yIGFuZCByZWxlYXNlIHJlZmVyZW5jZXMgdG8gZXZlcnkgaW5zdGFuY2Ugb3IgcHJvdmlkZXIgYXNzb2NpYXRlZCB3aXRoIGl0LlxuICAgICAqXG4gICAgICogQWxzbyBjYWxscyB0aGUgYE9uRGVzdHJveWAgbGlmZWN5Y2xlIGhvb2tzIG9mIGV2ZXJ5IGluc3RhbmNlIHRoYXQgd2FzIGNyZWF0ZWQgZm9yIHdoaWNoIGFcbiAgICAgKiBob29rIHdhcyBmb3VuZC5cbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmFzc2VydE5vdERlc3Ryb3llZCgpO1xuICAgICAgICAvLyBTZXQgZGVzdHJveWVkID0gdHJ1ZSBmaXJzdCwgaW4gY2FzZSBsaWZlY3ljbGUgaG9va3MgcmUtZW50ZXIgZGVzdHJveSgpLlxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2FsbCBhbGwgdGhlIGxpZmVjeWNsZSBob29rcy5cbiAgICAgICAgICAgIHRoaXMub25EZXN0cm95LmZvckVhY2goc2VydmljZSA9PiBzZXJ2aWNlLm5nT25EZXN0cm95KCkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgLy8gUmVsZWFzZSBhbGwgcmVmZXJlbmNlcy5cbiAgICAgICAgICAgIHRoaXMucmVjb3Jkcy5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5vbkRlc3Ryb3kuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMuaW5qZWN0b3JEZWZUeXBlcy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSA9IFRIUk9XX0lGX05PVF9GT1VORCwgZmxhZ3MgPSBJbmplY3RGbGFncy5EZWZhdWx0KSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0Tm90RGVzdHJveWVkKCk7XG4gICAgICAgIC8vIFNldCB0aGUgaW5qZWN0aW9uIGNvbnRleHQuXG4gICAgICAgIGNvbnN0IHByZXZpb3VzSW5qZWN0b3IgPSBzZXRDdXJyZW50SW5qZWN0b3IodGhpcyk7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24gPSBzZXRJbmplY3RJbXBsZW1lbnRhdGlvbih1bmRlZmluZWQpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHRoZSBTa2lwU2VsZiBmbGFnLlxuICAgICAgICAgICAgaWYgKCEoZmxhZ3MgJiBJbmplY3RGbGFncy5Ta2lwU2VsZikpIHtcbiAgICAgICAgICAgICAgICAvLyBTa2lwU2VsZiBpc24ndCBzZXQsIGNoZWNrIGlmIHRoZSByZWNvcmQgYmVsb25ncyB0byB0aGlzIGluamVjdG9yLlxuICAgICAgICAgICAgICAgIGxldCByZWNvcmQgPSB0aGlzLnJlY29yZHMuZ2V0KHRva2VuKTtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gcmVjb3JkLCBidXQgbWF5YmUgdGhlIHRva2VuIGlzIHNjb3BlZCB0byB0aGlzIGluamVjdG9yLiBMb29rIGZvciBhbiBpbmplY3RhYmxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGRlZiB3aXRoIGEgc2NvcGUgbWF0Y2hpbmcgdGhpcyBpbmplY3Rvci5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmID0gY291bGRCZUluamVjdGFibGVUeXBlKHRva2VuKSAmJiBnZXRJbmplY3RhYmxlRGVmKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZiAmJiB0aGlzLmluamVjdGFibGVEZWZJblNjb3BlKGRlZikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGFuIGluamVjdGFibGUgZGVmIGFuZCBpdCdzIHNjb3BlZCB0byB0aGlzIGluamVjdG9yLiBQcmV0ZW5kIGFzIGlmIGl0IHdhcyBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbGwgYWxvbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQgPSBtYWtlUmVjb3JkKGluamVjdGFibGVEZWZPckluamVjdG9yRGVmRmFjdG9yeSh0b2tlbiksIE5PVF9ZRVQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29yZHMuc2V0KHRva2VuLCByZWNvcmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiBhIHJlY29yZCB3YXMgZm91bmQsIGdldCB0aGUgaW5zdGFuY2UgZm9yIGl0IGFuZCByZXR1cm4gaXQuXG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZCAhPSBudWxsIC8qIE5PVCBudWxsIHx8IHVuZGVmaW5lZCAqLykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oeWRyYXRlKHRva2VuLCByZWNvcmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgbmV4dCBpbmplY3RvciBiYXNlZCBvbiB0aGUgU2VsZiBmbGFnIC0gaWYgc2VsZiBpcyBzZXQsIHRoZSBuZXh0IGluamVjdG9yIGlzXG4gICAgICAgICAgICAvLyB0aGUgTnVsbEluamVjdG9yLCBvdGhlcndpc2UgaXQncyB0aGUgcGFyZW50LlxuICAgICAgICAgICAgY29uc3QgbmV4dEluamVjdG9yID0gIShmbGFncyAmIEluamVjdEZsYWdzLlNlbGYpID8gdGhpcy5wYXJlbnQgOiBnZXROdWxsSW5qZWN0b3IoKTtcbiAgICAgICAgICAgIC8vIFNldCB0aGUgbm90Rm91bmRWYWx1ZSBiYXNlZCBvbiB0aGUgT3B0aW9uYWwgZmxhZyAtIGlmIG9wdGlvbmFsIGlzIHNldCBhbmQgbm90Rm91bmRWYWx1ZVxuICAgICAgICAgICAgLy8gaXMgdW5kZWZpbmVkLCB0aGUgdmFsdWUgaXMgbnVsbCwgb3RoZXJ3aXNlIGl0J3MgdGhlIG5vdEZvdW5kVmFsdWUuXG4gICAgICAgICAgICBub3RGb3VuZFZhbHVlID0gKGZsYWdzICYgSW5qZWN0RmxhZ3MuT3B0aW9uYWwpICYmIG5vdEZvdW5kVmFsdWUgPT09IFRIUk9XX0lGX05PVF9GT1VORCA/XG4gICAgICAgICAgICAgICAgbnVsbCA6XG4gICAgICAgICAgICAgICAgbm90Rm91bmRWYWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0SW5qZWN0b3IuZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGUubmFtZSA9PT0gJ051bGxJbmplY3RvckVycm9yJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBlW05HX1RFTVBfVE9LRU5fUEFUSF0gPSBlW05HX1RFTVBfVE9LRU5fUEFUSF0gfHwgW107XG4gICAgICAgICAgICAgICAgcGF0aC51bnNoaWZ0KHN0cmluZ2lmeSh0b2tlbikpO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0luamVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIHN0aWxsIGhhdmUgYSBwYXJlbnQgaW5qZWN0b3IsIGtlZXAgdGhyb3dpbmdcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvcm1hdCAmIHRocm93IHRoZSBmaW5hbCBlcnJvciBtZXNzYWdlIHdoZW4gd2UgZG9uJ3QgaGF2ZSBhbnkgcHJldmlvdXMgaW5qZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhdGNoSW5qZWN0b3JFcnJvcihlLCB0b2tlbiwgJ1IzSW5qZWN0b3JFcnJvcicsIHRoaXMuc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgLy8gTGFzdGx5LCByZXN0b3JlIHRoZSBwcmV2aW91cyBpbmplY3Rpb24gY29udGV4dC5cbiAgICAgICAgICAgIHNldEluamVjdEltcGxlbWVudGF0aW9uKHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24pO1xuICAgICAgICAgICAgc2V0Q3VycmVudEluamVjdG9yKHByZXZpb3VzSW5qZWN0b3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfcmVzb2x2ZUluamVjdG9yRGVmVHlwZXMoKSB7XG4gICAgICAgIHRoaXMuaW5qZWN0b3JEZWZUeXBlcy5mb3JFYWNoKGRlZlR5cGUgPT4gdGhpcy5nZXQoZGVmVHlwZSkpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgdG9rZW5zID0gW10sIHJlY29yZHMgPSB0aGlzLnJlY29yZHM7XG4gICAgICAgIHJlY29yZHMuZm9yRWFjaCgodiwgdG9rZW4pID0+IHRva2Vucy5wdXNoKHN0cmluZ2lmeSh0b2tlbikpKTtcbiAgICAgICAgcmV0dXJuIGBSM0luamVjdG9yWyR7dG9rZW5zLmpvaW4oJywgJyl9XWA7XG4gICAgfVxuICAgIGFzc2VydE5vdERlc3Ryb3llZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigyMDUgLyogSU5KRUNUT1JfQUxSRUFEWV9ERVNUUk9ZRUQgKi8sIG5nRGV2TW9kZSAmJiAnSW5qZWN0b3IgaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWQuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGFuIGBJbmplY3RvclR5cGVgIG9yIGBJbmplY3RvclR5cGVXaXRoUHJvdmlkZXJzYCBhbmQgYWxsIG9mIGl0cyB0cmFuc2l0aXZlIHByb3ZpZGVyc1xuICAgICAqIHRvIHRoaXMgaW5qZWN0b3IuXG4gICAgICpcbiAgICAgKiBJZiBhbiBgSW5qZWN0b3JUeXBlV2l0aFByb3ZpZGVyc2AgdGhhdCBkZWNsYXJlcyBwcm92aWRlcnMgYmVzaWRlcyB0aGUgdHlwZSBpcyBzcGVjaWZpZWQsXG4gICAgICogdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIFwidHJ1ZVwiIHRvIGluZGljYXRlIHRoYXQgdGhlIHByb3ZpZGVycyBvZiB0aGUgdHlwZSBkZWZpbml0aW9uIG5lZWRcbiAgICAgKiB0byBiZSBwcm9jZXNzZWQuIFRoaXMgYWxsb3dzIHVzIHRvIHByb2Nlc3MgcHJvdmlkZXJzIG9mIGluamVjdG9yIHR5cGVzIGFmdGVyIGFsbCBpbXBvcnRzIG9mXG4gICAgICogYW4gaW5qZWN0b3IgZGVmaW5pdGlvbiBhcmUgcHJvY2Vzc2VkLiAoZm9sbG93aW5nIFZpZXcgRW5naW5lIHNlbWFudGljczogc2VlIEZXLTEzNDkpXG4gICAgICovXG4gICAgcHJvY2Vzc0luamVjdG9yVHlwZShkZWZPcldyYXBwZWREZWYsIHBhcmVudHMsIGRlZHVwU3RhY2spIHtcbiAgICAgICAgZGVmT3JXcmFwcGVkRGVmID0gcmVzb2x2ZUZvcndhcmRSZWYoZGVmT3JXcmFwcGVkRGVmKTtcbiAgICAgICAgaWYgKCFkZWZPcldyYXBwZWREZWYpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIEVpdGhlciB0aGUgZGVmT3JXcmFwcGVkRGVmIGlzIGFuIEluamVjdG9yVHlwZSAod2l0aCBpbmplY3RvciBkZWYpIG9yIGFuXG4gICAgICAgIC8vIEluamVjdG9yRGVmVHlwZVdpdGhQcm92aWRlcnMgKGFrYSBNb2R1bGVXaXRoUHJvdmlkZXJzKS4gRGV0ZWN0aW5nIGVpdGhlciBpcyBhIG1lZ2Ftb3JwaGljXG4gICAgICAgIC8vIHJlYWQsIHNvIGNhcmUgaXMgdGFrZW4gdG8gb25seSBkbyB0aGUgcmVhZCBvbmNlLlxuICAgICAgICAvLyBGaXJzdCBhdHRlbXB0IHRvIHJlYWQgdGhlIGluamVjdG9yIGRlZiAoYMm1aW5qYCkuXG4gICAgICAgIGxldCBkZWYgPSBnZXRJbmplY3RvckRlZihkZWZPcldyYXBwZWREZWYpO1xuICAgICAgICAvLyBJZiB0aGF0J3Mgbm90IHByZXNlbnQsIHRoZW4gYXR0ZW1wdCB0byByZWFkIG5nTW9kdWxlIGZyb20gdGhlIEluamVjdG9yRGVmVHlwZVdpdGhQcm92aWRlcnMuXG4gICAgICAgIGNvbnN0IG5nTW9kdWxlID0gKGRlZiA9PSBudWxsKSAmJiBkZWZPcldyYXBwZWREZWYubmdNb2R1bGUgfHwgdW5kZWZpbmVkO1xuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIEluamVjdG9yVHlwZS4gSW4gdGhlIGNhc2Ugd2hlcmUgYGRlZk9yV3JhcHBlZERlZmAgaXMgYW4gYEluamVjdG9yVHlwZWAsXG4gICAgICAgIC8vIHRoZW4gdGhpcyBpcyBlYXN5LiBJbiB0aGUgY2FzZSBvZiBhbiBJbmplY3RvckRlZlR5cGVXaXRoUHJvdmlkZXJzLCB0aGVuIHRoZSBkZWZpbml0aW9uIHR5cGVcbiAgICAgICAgLy8gaXMgdGhlIGBuZ01vZHVsZWAuXG4gICAgICAgIGNvbnN0IGRlZlR5cGUgPSAobmdNb2R1bGUgPT09IHVuZGVmaW5lZCkgPyBkZWZPcldyYXBwZWREZWYgOiBuZ01vZHVsZTtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGNpcmN1bGFyIGRlcGVuZGVuY2llcy5cbiAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiBwYXJlbnRzLmluZGV4T2YoZGVmVHlwZSkgIT09IC0xKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZOYW1lID0gc3RyaW5naWZ5KGRlZlR5cGUpO1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IHBhcmVudHMubWFwKHN0cmluZ2lmeSk7XG4gICAgICAgICAgICB0aHJvd0N5Y2xpY0RlcGVuZGVuY3lFcnJvcihkZWZOYW1lLCBwYXRoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBmb3IgbXVsdGlwbGUgaW1wb3J0cyBvZiB0aGUgc2FtZSBtb2R1bGVcbiAgICAgICAgY29uc3QgaXNEdXBsaWNhdGUgPSBkZWR1cFN0YWNrLmluZGV4T2YoZGVmVHlwZSkgIT09IC0xO1xuICAgICAgICAvLyBGaW5hbGx5LCBpZiBkZWZPcldyYXBwZWRUeXBlIHdhcyBhbiBgSW5qZWN0b3JEZWZUeXBlV2l0aFByb3ZpZGVyc2AsIHRoZW4gdGhlIGFjdHVhbFxuICAgICAgICAvLyBgSW5qZWN0b3JEZWZgIGlzIG9uIGl0cyBgbmdNb2R1bGVgLlxuICAgICAgICBpZiAobmdNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVmID0gZ2V0SW5qZWN0b3JEZWYobmdNb2R1bGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIG5vIGRlZmluaXRpb24gd2FzIGZvdW5kLCBpdCBtaWdodCBiZSBmcm9tIGV4cG9ydHMuIFJlbW92ZSBpdC5cbiAgICAgICAgaWYgKGRlZiA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIHByb3ZpZGVycyBpbiB0aGUgc2FtZSB3YXkgdGhhdCBATmdNb2R1bGUgcmVzb2x1dGlvbiBkaWQ6XG4gICAgICAgIC8vIEZpcnN0LCBpbmNsdWRlIHByb3ZpZGVycyBmcm9tIGFueSBpbXBvcnRzLlxuICAgICAgICBpZiAoZGVmLmltcG9ydHMgIT0gbnVsbCAmJiAhaXNEdXBsaWNhdGUpIHtcbiAgICAgICAgICAgIC8vIEJlZm9yZSBwcm9jZXNzaW5nIGRlZlR5cGUncyBpbXBvcnRzLCBhZGQgaXQgdG8gdGhlIHNldCBvZiBwYXJlbnRzLiBUaGlzIHdheSwgaWYgaXQgZW5kc1xuICAgICAgICAgICAgLy8gdXAgZGVlcGx5IGltcG9ydGluZyBpdHNlbGYsIHRoaXMgY2FuIGJlIGRldGVjdGVkLlxuICAgICAgICAgICAgbmdEZXZNb2RlICYmIHBhcmVudHMucHVzaChkZWZUeXBlKTtcbiAgICAgICAgICAgIC8vIEFkZCBpdCB0byB0aGUgc2V0IG9mIGRlZHVwcy4gVGhpcyB3YXkgd2UgY2FuIGRldGVjdCBtdWx0aXBsZSBpbXBvcnRzIG9mIHRoZSBzYW1lIG1vZHVsZVxuICAgICAgICAgICAgZGVkdXBTdGFjay5wdXNoKGRlZlR5cGUpO1xuICAgICAgICAgICAgbGV0IGltcG9ydFR5cGVzV2l0aFByb3ZpZGVycztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZGVlcEZvckVhY2goZGVmLmltcG9ydHMsIGltcG9ydGVkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvY2Vzc0luamVjdG9yVHlwZShpbXBvcnRlZCwgcGFyZW50cywgZGVkdXBTdGFjaykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbXBvcnRUeXBlc1dpdGhQcm92aWRlcnMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRUeXBlc1dpdGhQcm92aWRlcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwcm9jZXNzZWQgaW1wb3J0IGlzIGFuIGluamVjdG9yIHR5cGUgd2l0aCBwcm92aWRlcnMsIHdlIHN0b3JlIGl0IGluIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlzdCBvZiBpbXBvcnQgdHlwZXMgd2l0aCBwcm92aWRlcnMsIHNvIHRoYXQgd2UgY2FuIHByb2Nlc3MgdGhvc2UgYWZ0ZXJ3YXJkcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGltcG9ydFR5cGVzV2l0aFByb3ZpZGVycy5wdXNoKGltcG9ydGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGl0IGZyb20gdGhlIHBhcmVudHMgc2V0IHdoZW4gZmluaXNoZWQuXG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIHBhcmVudHMucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJbXBvcnRzIHdoaWNoIGFyZSBkZWNsYXJlZCB3aXRoIHByb3ZpZGVycyAoVHlwZVdpdGhQcm92aWRlcnMpIG5lZWQgdG8gYmUgcHJvY2Vzc2VkXG4gICAgICAgICAgICAvLyBhZnRlciBhbGwgaW1wb3J0ZWQgbW9kdWxlcyBhcmUgcHJvY2Vzc2VkLiBUaGlzIGlzIHNpbWlsYXIgdG8gaG93IFZpZXcgRW5naW5lXG4gICAgICAgICAgICAvLyBwcm9jZXNzZXMvbWVyZ2VzIG1vZHVsZSBpbXBvcnRzIGluIHRoZSBtZXRhZGF0YSByZXNvbHZlci4gU2VlOiBGVy0xMzQ5LlxuICAgICAgICAgICAgaWYgKGltcG9ydFR5cGVzV2l0aFByb3ZpZGVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbXBvcnRUeXBlc1dpdGhQcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBuZ01vZHVsZSwgcHJvdmlkZXJzIH0gPSBpbXBvcnRUeXBlc1dpdGhQcm92aWRlcnNbaV07XG4gICAgICAgICAgICAgICAgICAgIGRlZXBGb3JFYWNoKHByb3ZpZGVycywgcHJvdmlkZXIgPT4gdGhpcy5wcm9jZXNzUHJvdmlkZXIocHJvdmlkZXIsIG5nTW9kdWxlLCBwcm92aWRlcnMgfHwgRU1QVFlfQVJSQVkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVHJhY2sgdGhlIEluamVjdG9yVHlwZSBhbmQgYWRkIGEgcHJvdmlkZXIgZm9yIGl0LiBJdCdzIGltcG9ydGFudCB0aGF0IHRoaXMgaXMgZG9uZSBhZnRlciB0aGVcbiAgICAgICAgLy8gZGVmJ3MgaW1wb3J0cy5cbiAgICAgICAgdGhpcy5pbmplY3RvckRlZlR5cGVzLmFkZChkZWZUeXBlKTtcbiAgICAgICAgY29uc3QgZmFjdG9yeSA9IGdldEZhY3RvcnlEZWYoZGVmVHlwZSkgfHwgKCgpID0+IG5ldyBkZWZUeXBlKCkpO1xuICAgICAgICB0aGlzLnJlY29yZHMuc2V0KGRlZlR5cGUsIG1ha2VSZWNvcmQoZmFjdG9yeSwgTk9UX1lFVCkpO1xuICAgICAgICAvLyBOZXh0LCBpbmNsdWRlIHByb3ZpZGVycyBsaXN0ZWQgb24gdGhlIGRlZmluaXRpb24gaXRzZWxmLlxuICAgICAgICBjb25zdCBkZWZQcm92aWRlcnMgPSBkZWYucHJvdmlkZXJzO1xuICAgICAgICBpZiAoZGVmUHJvdmlkZXJzICE9IG51bGwgJiYgIWlzRHVwbGljYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBpbmplY3RvclR5cGUgPSBkZWZPcldyYXBwZWREZWY7XG4gICAgICAgICAgICBkZWVwRm9yRWFjaChkZWZQcm92aWRlcnMsIHByb3ZpZGVyID0+IHRoaXMucHJvY2Vzc1Byb3ZpZGVyKHByb3ZpZGVyLCBpbmplY3RvclR5cGUsIGRlZlByb3ZpZGVycykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAobmdNb2R1bGUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgZGVmT3JXcmFwcGVkRGVmLnByb3ZpZGVycyAhPT0gdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBhIGBTaW5nbGVQcm92aWRlcmAgYW5kIGFkZCBpdC5cbiAgICAgKi9cbiAgICBwcm9jZXNzUHJvdmlkZXIocHJvdmlkZXIsIG5nTW9kdWxlVHlwZSwgcHJvdmlkZXJzKSB7XG4gICAgICAgIC8vIERldGVybWluZSB0aGUgdG9rZW4gZnJvbSB0aGUgcHJvdmlkZXIuIEVpdGhlciBpdCdzIGl0cyBvd24gdG9rZW4sIG9yIGhhcyBhIHtwcm92aWRlOiAuLi59XG4gICAgICAgIC8vIHByb3BlcnR5LlxuICAgICAgICBwcm92aWRlciA9IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyKTtcbiAgICAgICAgbGV0IHRva2VuID0gaXNUeXBlUHJvdmlkZXIocHJvdmlkZXIpID8gcHJvdmlkZXIgOiByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlciAmJiBwcm92aWRlci5wcm92aWRlKTtcbiAgICAgICAgLy8gQ29uc3RydWN0IGEgYFJlY29yZGAgZm9yIHRoZSBwcm92aWRlci5cbiAgICAgICAgY29uc3QgcmVjb3JkID0gcHJvdmlkZXJUb1JlY29yZChwcm92aWRlciwgbmdNb2R1bGVUeXBlLCBwcm92aWRlcnMpO1xuICAgICAgICBpZiAoIWlzVHlwZVByb3ZpZGVyKHByb3ZpZGVyKSAmJiBwcm92aWRlci5tdWx0aSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHByb3ZpZGVyIGluZGljYXRlcyB0aGF0IGl0J3MgYSBtdWx0aS1wcm92aWRlciwgcHJvY2VzcyBpdCBzcGVjaWFsbHkuXG4gICAgICAgICAgICAvLyBGaXJzdCBjaGVjayB3aGV0aGVyIGl0J3MgYmVlbiBkZWZpbmVkIGFscmVhZHkuXG4gICAgICAgICAgICBsZXQgbXVsdGlSZWNvcmQgPSB0aGlzLnJlY29yZHMuZ2V0KHRva2VuKTtcbiAgICAgICAgICAgIGlmIChtdWx0aVJlY29yZCkge1xuICAgICAgICAgICAgICAgIC8vIEl0IGhhcy4gVGhyb3cgYSBuaWNlIGVycm9yIGlmXG4gICAgICAgICAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiBtdWx0aVJlY29yZC5tdWx0aSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93TWl4ZWRNdWx0aVByb3ZpZGVyRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtdWx0aVJlY29yZCA9IG1ha2VSZWNvcmQodW5kZWZpbmVkLCBOT1RfWUVULCB0cnVlKTtcbiAgICAgICAgICAgICAgICBtdWx0aVJlY29yZC5mYWN0b3J5ID0gKCkgPT4gaW5qZWN0QXJncyhtdWx0aVJlY29yZC5tdWx0aSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvcmRzLnNldCh0b2tlbiwgbXVsdGlSZWNvcmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rZW4gPSBwcm92aWRlcjtcbiAgICAgICAgICAgIG11bHRpUmVjb3JkLm11bHRpLnB1c2gocHJvdmlkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLnJlY29yZHMuZ2V0KHRva2VuKTtcbiAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgZXhpc3RpbmcgJiYgZXhpc3RpbmcubXVsdGkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93TWl4ZWRNdWx0aVByb3ZpZGVyRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlY29yZHMuc2V0KHRva2VuLCByZWNvcmQpO1xuICAgIH1cbiAgICBoeWRyYXRlKHRva2VuLCByZWNvcmQpIHtcbiAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiByZWNvcmQudmFsdWUgPT09IENJUkNVTEFSKSB7XG4gICAgICAgICAgICB0aHJvd0N5Y2xpY0RlcGVuZGVuY3lFcnJvcihzdHJpbmdpZnkodG9rZW4pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWNvcmQudmFsdWUgPT09IE5PVF9ZRVQpIHtcbiAgICAgICAgICAgIHJlY29yZC52YWx1ZSA9IENJUkNVTEFSO1xuICAgICAgICAgICAgcmVjb3JkLnZhbHVlID0gcmVjb3JkLmZhY3RvcnkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHJlY29yZC52YWx1ZSA9PT0gJ29iamVjdCcgJiYgcmVjb3JkLnZhbHVlICYmIGhhc09uRGVzdHJveShyZWNvcmQudmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLm9uRGVzdHJveS5hZGQocmVjb3JkLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkLnZhbHVlO1xuICAgIH1cbiAgICBpbmplY3RhYmxlRGVmSW5TY29wZShkZWYpIHtcbiAgICAgICAgaWYgKCFkZWYucHJvdmlkZWRJbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb3ZpZGVkSW4gPSByZXNvbHZlRm9yd2FyZFJlZihkZWYucHJvdmlkZWRJbik7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvdmlkZWRJbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm92aWRlZEluID09PSAnYW55JyB8fCAocHJvdmlkZWRJbiA9PT0gdGhpcy5zY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbmplY3RvckRlZlR5cGVzLmhhcyhwcm92aWRlZEluKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGluamVjdGFibGVEZWZPckluamVjdG9yRGVmRmFjdG9yeSh0b2tlbikge1xuICAgIC8vIE1vc3QgdG9rZW5zIHdpbGwgaGF2ZSBhbiBpbmplY3RhYmxlIGRlZiBkaXJlY3RseSBvbiB0aGVtLCB3aGljaCBzcGVjaWZpZXMgYSBmYWN0b3J5IGRpcmVjdGx5LlxuICAgIGNvbnN0IGluamVjdGFibGVEZWYgPSBnZXRJbmplY3RhYmxlRGVmKHRva2VuKTtcbiAgICBjb25zdCBmYWN0b3J5ID0gaW5qZWN0YWJsZURlZiAhPT0gbnVsbCA/IGluamVjdGFibGVEZWYuZmFjdG9yeSA6IGdldEZhY3RvcnlEZWYodG9rZW4pO1xuICAgIGlmIChmYWN0b3J5ICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWN0b3J5O1xuICAgIH1cbiAgICAvLyBJbmplY3Rpb25Ub2tlbnMgc2hvdWxkIGhhdmUgYW4gaW5qZWN0YWJsZSBkZWYgKMm1cHJvdikgYW5kIHRodXMgc2hvdWxkIGJlIGhhbmRsZWQgYWJvdmUuXG4gICAgLy8gSWYgaXQncyBtaXNzaW5nIHRoYXQsIGl0J3MgYW4gZXJyb3IuXG4gICAgaWYgKHRva2VuIGluc3RhbmNlb2YgSW5qZWN0aW9uVG9rZW4pIHtcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigyMDQgLyogSU5WQUxJRF9JTkpFQ1RJT05fVE9LRU4gKi8sIG5nRGV2TW9kZSAmJiBgVG9rZW4gJHtzdHJpbmdpZnkodG9rZW4pfSBpcyBtaXNzaW5nIGEgybVwcm92IGRlZmluaXRpb24uYCk7XG4gICAgfVxuICAgIC8vIFVuZGVjb3JhdGVkIHR5cGVzIGNhbiBzb21ldGltZXMgYmUgY3JlYXRlZCBpZiB0aGV5IGhhdmUgbm8gY29uc3RydWN0b3IgYXJndW1lbnRzLlxuICAgIGlmICh0b2tlbiBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgIHJldHVybiBnZXRVbmRlY29yYXRlZEluamVjdGFibGVGYWN0b3J5KHRva2VuKTtcbiAgICB9XG4gICAgLy8gVGhlcmUgd2FzIG5vIHdheSB0byByZXNvbHZlIGEgZmFjdG9yeSBmb3IgdGhpcyB0b2tlbi5cbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDIwNCAvKiBJTlZBTElEX0lOSkVDVElPTl9UT0tFTiAqLywgbmdEZXZNb2RlICYmICd1bnJlYWNoYWJsZScpO1xufVxuZnVuY3Rpb24gZ2V0VW5kZWNvcmF0ZWRJbmplY3RhYmxlRmFjdG9yeSh0b2tlbikge1xuICAgIC8vIElmIHRoZSB0b2tlbiBoYXMgcGFyYW1ldGVycyB0aGVuIGl0IGhhcyBkZXBlbmRlbmNpZXMgdGhhdCB3ZSBjYW5ub3QgcmVzb2x2ZSBpbXBsaWNpdGx5LlxuICAgIGNvbnN0IHBhcmFtTGVuZ3RoID0gdG9rZW4ubGVuZ3RoO1xuICAgIGlmIChwYXJhbUxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgYXJncyA9IG5ld0FycmF5KHBhcmFtTGVuZ3RoLCAnPycpO1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDIwNCAvKiBJTlZBTElEX0lOSkVDVElPTl9UT0tFTiAqLywgbmdEZXZNb2RlICYmIGBDYW4ndCByZXNvbHZlIGFsbCBwYXJhbWV0ZXJzIGZvciAke3N0cmluZ2lmeSh0b2tlbil9OiAoJHthcmdzLmpvaW4oJywgJyl9KS5gKTtcbiAgICB9XG4gICAgLy8gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGFwcGVhcnMgdG8gaGF2ZSBubyBwYXJhbWV0ZXJzLlxuICAgIC8vIFRoaXMgbWlnaHQgYmUgYmVjYXVzZSBpdCBpbmhlcml0cyBmcm9tIGEgc3VwZXItY2xhc3MuIEluIHdoaWNoIGNhc2UsIHVzZSBhbiBpbmplY3RhYmxlXG4gICAgLy8gZGVmIGZyb20gYW4gYW5jZXN0b3IgaWYgdGhlcmUgaXMgb25lLlxuICAgIC8vIE90aGVyd2lzZSB0aGlzIHJlYWxseSBpcyBhIHNpbXBsZSBjbGFzcyB3aXRoIG5vIGRlcGVuZGVuY2llcywgc28gcmV0dXJuIGEgZmFjdG9yeSB0aGF0XG4gICAgLy8ganVzdCBpbnN0YW50aWF0ZXMgdGhlIHplcm8tYXJnIGNvbnN0cnVjdG9yLlxuICAgIGNvbnN0IGluaGVyaXRlZEluamVjdGFibGVEZWYgPSBnZXRJbmhlcml0ZWRJbmplY3RhYmxlRGVmKHRva2VuKTtcbiAgICBpZiAoaW5oZXJpdGVkSW5qZWN0YWJsZURlZiAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gKCkgPT4gaW5oZXJpdGVkSW5qZWN0YWJsZURlZi5mYWN0b3J5KHRva2VuKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAoKSA9PiBuZXcgdG9rZW4oKTtcbiAgICB9XG59XG5mdW5jdGlvbiBwcm92aWRlclRvUmVjb3JkKHByb3ZpZGVyLCBuZ01vZHVsZVR5cGUsIHByb3ZpZGVycykge1xuICAgIGlmIChpc1ZhbHVlUHJvdmlkZXIocHJvdmlkZXIpKSB7XG4gICAgICAgIHJldHVybiBtYWtlUmVjb3JkKHVuZGVmaW5lZCwgcHJvdmlkZXIudXNlVmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgZmFjdG9yeSA9IHByb3ZpZGVyVG9GYWN0b3J5KHByb3ZpZGVyLCBuZ01vZHVsZVR5cGUsIHByb3ZpZGVycyk7XG4gICAgICAgIHJldHVybiBtYWtlUmVjb3JkKGZhY3RvcnksIE5PVF9ZRVQpO1xuICAgIH1cbn1cbi8qKlxuICogQ29udmVydHMgYSBgU2luZ2xlUHJvdmlkZXJgIGludG8gYSBmYWN0b3J5IGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSBwcm92aWRlciBwcm92aWRlciB0byBjb252ZXJ0IHRvIGZhY3RvcnlcbiAqL1xuZnVuY3Rpb24gcHJvdmlkZXJUb0ZhY3RvcnkocHJvdmlkZXIsIG5nTW9kdWxlVHlwZSwgcHJvdmlkZXJzKSB7XG4gICAgbGV0IGZhY3RvcnkgPSB1bmRlZmluZWQ7XG4gICAgaWYgKGlzVHlwZVByb3ZpZGVyKHByb3ZpZGVyKSkge1xuICAgICAgICBjb25zdCB1bndyYXBwZWRQcm92aWRlciA9IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyKTtcbiAgICAgICAgcmV0dXJuIGdldEZhY3RvcnlEZWYodW53cmFwcGVkUHJvdmlkZXIpIHx8IGluamVjdGFibGVEZWZPckluamVjdG9yRGVmRmFjdG9yeSh1bndyYXBwZWRQcm92aWRlcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoaXNWYWx1ZVByb3ZpZGVyKHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgZmFjdG9yeSA9ICgpID0+IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyLnVzZVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0ZhY3RvcnlQcm92aWRlcihwcm92aWRlcikpIHtcbiAgICAgICAgICAgIGZhY3RvcnkgPSAoKSA9PiBwcm92aWRlci51c2VGYWN0b3J5KC4uLmluamVjdEFyZ3MocHJvdmlkZXIuZGVwcyB8fCBbXSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRXhpc3RpbmdQcm92aWRlcihwcm92aWRlcikpIHtcbiAgICAgICAgICAgIGZhY3RvcnkgPSAoKSA9PiDJtcm1aW5qZWN0KHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyLnVzZUV4aXN0aW5nKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjbGFzc1JlZiA9IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyICYmXG4gICAgICAgICAgICAgICAgKHByb3ZpZGVyLnVzZUNsYXNzIHx8IHByb3ZpZGVyLnByb3ZpZGUpKTtcbiAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgIWNsYXNzUmVmKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dJbnZhbGlkUHJvdmlkZXJFcnJvcihuZ01vZHVsZVR5cGUsIHByb3ZpZGVycywgcHJvdmlkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhc0RlcHMocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICAgICAgZmFjdG9yeSA9ICgpID0+IG5ldyAoY2xhc3NSZWYpKC4uLmluamVjdEFyZ3MocHJvdmlkZXIuZGVwcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEZhY3RvcnlEZWYoY2xhc3NSZWYpIHx8IGluamVjdGFibGVEZWZPckluamVjdG9yRGVmRmFjdG9yeShjbGFzc1JlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhY3Rvcnk7XG59XG5mdW5jdGlvbiBtYWtlUmVjb3JkKGZhY3RvcnksIHZhbHVlLCBtdWx0aSA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmFjdG9yeTogZmFjdG9yeSxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBtdWx0aTogbXVsdGkgPyBbXSA6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuZnVuY3Rpb24gaXNWYWx1ZVByb3ZpZGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiBVU0VfVkFMVUUkMSBpbiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGlzRXhpc3RpbmdQcm92aWRlcih2YWx1ZSkge1xuICAgIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZS51c2VFeGlzdGluZyk7XG59XG5mdW5jdGlvbiBpc0ZhY3RvcnlQcm92aWRlcih2YWx1ZSkge1xuICAgIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZS51c2VGYWN0b3J5KTtcbn1cbmZ1bmN0aW9uIGlzVHlwZVByb3ZpZGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGlzQ2xhc3NQcm92aWRlcih2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlLnVzZUNsYXNzO1xufVxuZnVuY3Rpb24gaGFzRGVwcyh2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlLmRlcHM7XG59XG5mdW5jdGlvbiBoYXNPbkRlc3Ryb3kodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICB0eXBlb2YgdmFsdWUubmdPbkRlc3Ryb3kgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBjb3VsZEJlSW5qZWN0YWJsZVR5cGUodmFsdWUpIHtcbiAgICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgfHxcbiAgICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBJbmplY3Rpb25Ub2tlbik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDb25jcmV0ZSBpbmplY3RvcnMgaW1wbGVtZW50IHRoaXMgaW50ZXJmYWNlLiBJbmplY3RvcnMgYXJlIGNvbmZpZ3VyZWRcbiAqIHdpdGggW3Byb3ZpZGVyc10oZ3VpZGUvZ2xvc3NhcnkjcHJvdmlkZXIpIHRoYXQgYXNzb2NpYXRlXG4gKiBkZXBlbmRlbmNpZXMgb2YgdmFyaW91cyB0eXBlcyB3aXRoIFtpbmplY3Rpb24gdG9rZW5zXShndWlkZS9nbG9zc2FyeSNkaS10b2tlbikuXG4gKlxuICogQHNlZSBbXCJESSBQcm92aWRlcnNcIl0oZ3VpZGUvZGVwZW5kZW5jeS1pbmplY3Rpb24tcHJvdmlkZXJzKS5cbiAqIEBzZWUgYFN0YXRpY1Byb3ZpZGVyYFxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICogIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBjcmVhdGVzIGEgc2VydmljZSBpbmplY3RvciBpbnN0YW5jZS5cbiAqXG4gKiB7QGV4YW1wbGUgY29yZS9kaS90cy9wcm92aWRlcl9zcGVjLnRzIHJlZ2lvbj0nQ29uc3RydWN0b3JQcm92aWRlcid9XG4gKlxuICogIyMjIFVzYWdlIGV4YW1wbGVcbiAqXG4gKiB7QGV4YW1wbGUgY29yZS9kaS90cy9pbmplY3Rvcl9zcGVjLnRzIHJlZ2lvbj0nSW5qZWN0b3InfVxuICpcbiAqIGBJbmplY3RvcmAgcmV0dXJucyBpdHNlbGYgd2hlbiBnaXZlbiBgSW5qZWN0b3JgIGFzIGEgdG9rZW46XG4gKlxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvaW5qZWN0b3Jfc3BlYy50cyByZWdpb249J2luamVjdEluamVjdG9yJ31cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEluamVjdG9yIHtcbiAgICBzdGF0aWMgY3JlYXRlKG9wdGlvbnMsIHBhcmVudCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW5qZWN0b3IoeyBuYW1lOiAnJyB9LCBwYXJlbnQsIG9wdGlvbnMsICcnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSAoX2EgPSBvcHRpb25zLm5hbWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnO1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUluamVjdG9yKHsgbmFtZSB9LCBvcHRpb25zLnBhcmVudCwgb3B0aW9ucy5wcm92aWRlcnMsIG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuSW5qZWN0b3IuVEhST1dfSUZfTk9UX0ZPVU5EID0gVEhST1dfSUZfTk9UX0ZPVU5EO1xuSW5qZWN0b3IuTlVMTCA9ICggLyogQF9fUFVSRV9fICovbmV3IE51bGxJbmplY3RvcigpKTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuSW5qZWN0b3IuybVwcm92ID0gybXJtWRlZmluZUluamVjdGFibGUoe1xuICAgIHRva2VuOiBJbmplY3RvcixcbiAgICBwcm92aWRlZEluOiAnYW55JyxcbiAgICBmYWN0b3J5OiAoKSA9PiDJtcm1aW5qZWN0KElOSkVDVE9SKSxcbn0pO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBub2NvbGxhcHNlXG4gKi9cbkluamVjdG9yLl9fTkdfRUxFTUVOVF9JRF9fID0gLTEgLyogSW5qZWN0b3IgKi87XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGNvbXBvbmVudCBpbnN0YW5jZSBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiBET00gZWxlbWVudC5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogR2l2ZW4gdGhlIGZvbGxvd2luZyBET00gc3RydWN0dXJlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxhcHAtcm9vdD5cbiAqICAgPGRpdj5cbiAqICAgICA8Y2hpbGQtY29tcD48L2NoaWxkLWNvbXA+XG4gKiAgIDwvZGl2PlxuICogPC9hcHAtcm9vdD5cbiAqIGBgYFxuICpcbiAqIENhbGxpbmcgYGdldENvbXBvbmVudGAgb24gYDxjaGlsZC1jb21wPmAgd2lsbCByZXR1cm4gdGhlIGluc3RhbmNlIG9mIGBDaGlsZENvbXBvbmVudGBcbiAqIGFzc29jaWF0ZWQgd2l0aCB0aGlzIERPTSBlbGVtZW50LlxuICpcbiAqIENhbGxpbmcgdGhlIGZ1bmN0aW9uIG9uIGA8YXBwLXJvb3Q+YCB3aWxsIHJldHVybiB0aGUgYE15QXBwYCBpbnN0YW5jZS5cbiAqXG4gKlxuICogQHBhcmFtIGVsZW1lbnQgRE9NIGVsZW1lbnQgZnJvbSB3aGljaCB0aGUgY29tcG9uZW50IHNob3VsZCBiZSByZXRyaWV2ZWQuXG4gKiBAcmV0dXJucyBDb21wb25lbnQgaW5zdGFuY2UgYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50IG9yIGBudWxsYCBpZiB0aGVyZVxuICogICAgaXMgbm8gY29tcG9uZW50IGFzc29jaWF0ZWQgd2l0aCBpdC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKiBAZ2xvYmFsQXBpIG5nXG4gKi9cbmZ1bmN0aW9uIGdldENvbXBvbmVudCQxKGVsZW1lbnQpIHtcbiAgICBhc3NlcnREb21FbGVtZW50KGVsZW1lbnQpO1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dChlbGVtZW50KTtcbiAgICBpZiAoY29udGV4dCA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKGNvbnRleHQuY29tcG9uZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGV4dC5jb21wb25lbnQgPSBnZXRDb21wb25lbnRBdE5vZGVJbmRleChjb250ZXh0Lm5vZGVJbmRleCwgY29udGV4dC5sVmlldyk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0LmNvbXBvbmVudDtcbn1cbi8qKlxuICogSWYgaW5zaWRlIGFuIGVtYmVkZGVkIHZpZXcgKGUuZy4gYCpuZ0lmYCBvciBgKm5nRm9yYCksIHJldHJpZXZlcyB0aGUgY29udGV4dCBvZiB0aGUgZW1iZWRkZWRcbiAqIHZpZXcgdGhhdCB0aGUgZWxlbWVudCBpcyBwYXJ0IG9mLiBPdGhlcndpc2UgcmV0cmlldmVzIHRoZSBpbnN0YW5jZSBvZiB0aGUgY29tcG9uZW50IHdob3NlIHZpZXdcbiAqIG93bnMgdGhlIGVsZW1lbnQgKGluIHRoaXMgY2FzZSwgdGhlIHJlc3VsdCBpcyB0aGUgc2FtZSBhcyBjYWxsaW5nIGBnZXRPd25pbmdDb21wb25lbnRgKS5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudCBFbGVtZW50IGZvciB3aGljaCB0byBnZXQgdGhlIHN1cnJvdW5kaW5nIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqIEByZXR1cm5zIEluc3RhbmNlIG9mIHRoZSBjb21wb25lbnQgdGhhdCBpcyBhcm91bmQgdGhlIGVsZW1lbnQgb3IgbnVsbCBpZiB0aGUgZWxlbWVudCBpc24ndFxuICogICAgaW5zaWRlIGFueSBjb21wb25lbnQuXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXRDb250ZXh0KGVsZW1lbnQpIHtcbiAgICBhc3NlcnREb21FbGVtZW50KGVsZW1lbnQpO1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dChlbGVtZW50KTtcbiAgICByZXR1cm4gY29udGV4dCA9PT0gbnVsbCA/IG51bGwgOiBjb250ZXh0LmxWaWV3W0NPTlRFWFRdO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB3aG9zZSB2aWV3IGNvbnRhaW5zIHRoZSBET00gZWxlbWVudC5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgaWYgYDxjaGlsZC1jb21wPmAgaXMgdXNlZCBpbiB0aGUgdGVtcGxhdGUgb2YgYDxhcHAtY29tcD5gXG4gKiAoaS5lLiBhIGBWaWV3Q2hpbGRgIG9mIGA8YXBwLWNvbXA+YCksIGNhbGxpbmcgYGdldE93bmluZ0NvbXBvbmVudGAgb24gYDxjaGlsZC1jb21wPmBcbiAqIHdvdWxkIHJldHVybiBgPGFwcC1jb21wPmAuXG4gKlxuICogQHBhcmFtIGVsZW1lbnRPckRpciBET00gZWxlbWVudCwgY29tcG9uZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZVxuICogICAgZm9yIHdoaWNoIHRvIHJldHJpZXZlIHRoZSByb290IGNvbXBvbmVudHMuXG4gKiBAcmV0dXJucyBDb21wb25lbnQgaW5zdGFuY2Ugd2hvc2UgdmlldyBvd25zIHRoZSBET00gZWxlbWVudCBvciBudWxsIGlmIHRoZSBlbGVtZW50IGlzIG5vdFxuICogICAgcGFydCBvZiBhIGNvbXBvbmVudCB2aWV3LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqIEBnbG9iYWxBcGkgbmdcbiAqL1xuZnVuY3Rpb24gZ2V0T3duaW5nQ29tcG9uZW50KGVsZW1lbnRPckRpcikge1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dChlbGVtZW50T3JEaXIpO1xuICAgIGlmIChjb250ZXh0ID09PSBudWxsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgbFZpZXcgPSBjb250ZXh0LmxWaWV3O1xuICAgIGxldCBwYXJlbnQ7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExWaWV3KGxWaWV3KTtcbiAgICB3aGlsZSAobFZpZXdbVFZJRVddLnR5cGUgPT09IDIgLyogRW1iZWRkZWQgKi8gJiYgKHBhcmVudCA9IGdldExWaWV3UGFyZW50KGxWaWV3KSkpIHtcbiAgICAgICAgbFZpZXcgPSBwYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBsVmlld1tGTEFHU10gJiA1MTIgLyogSXNSb290ICovID8gbnVsbCA6IGxWaWV3W0NPTlRFWFRdO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgYWxsIHJvb3QgY29tcG9uZW50cyBhc3NvY2lhdGVkIHdpdGggYSBET00gZWxlbWVudCwgZGlyZWN0aXZlIG9yIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqIFJvb3QgY29tcG9uZW50cyBhcmUgdGhvc2Ugd2hpY2ggaGF2ZSBiZWVuIGJvb3RzdHJhcHBlZCBieSBBbmd1bGFyLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50T3JEaXIgRE9NIGVsZW1lbnQsIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2VcbiAqICAgIGZvciB3aGljaCB0byByZXRyaWV2ZSB0aGUgcm9vdCBjb21wb25lbnRzLlxuICogQHJldHVybnMgUm9vdCBjb21wb25lbnRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKiBAZ2xvYmFsQXBpIG5nXG4gKi9cbmZ1bmN0aW9uIGdldFJvb3RDb21wb25lbnRzKGVsZW1lbnRPckRpcikge1xuICAgIHJldHVybiBbLi4uZ2V0Um9vdENvbnRleHQoZWxlbWVudE9yRGlyKS5jb21wb25lbnRzXTtcbn1cbi8qKlxuICogUmV0cmlldmVzIGFuIGBJbmplY3RvcmAgYXNzb2NpYXRlZCB3aXRoIGFuIGVsZW1lbnQsIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIGVsZW1lbnRPckRpciBET00gZWxlbWVudCwgY29tcG9uZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZSBmb3Igd2hpY2ggdG9cbiAqICAgIHJldHJpZXZlIHRoZSBpbmplY3Rvci5cbiAqIEByZXR1cm5zIEluamVjdG9yIGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudCwgY29tcG9uZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKiBAZ2xvYmFsQXBpIG5nXG4gKi9cbmZ1bmN0aW9uIGdldEluamVjdG9yKGVsZW1lbnRPckRpcikge1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dChlbGVtZW50T3JEaXIpO1xuICAgIGlmIChjb250ZXh0ID09PSBudWxsKVxuICAgICAgICByZXR1cm4gSW5qZWN0b3IuTlVMTDtcbiAgICBjb25zdCB0Tm9kZSA9IGNvbnRleHQubFZpZXdbVFZJRVddLmRhdGFbY29udGV4dC5ub2RlSW5kZXhdO1xuICAgIHJldHVybiBuZXcgTm9kZUluamVjdG9yKHROb2RlLCBjb250ZXh0LmxWaWV3KTtcbn1cbi8qKlxuICogUmV0cmlldmUgYSBzZXQgb2YgaW5qZWN0aW9uIHRva2VucyBhdCBhIGdpdmVuIERPTSBub2RlLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50IEVsZW1lbnQgZm9yIHdoaWNoIHRoZSBpbmplY3Rpb24gdG9rZW5zIHNob3VsZCBiZSByZXRyaWV2ZWQuXG4gKi9cbmZ1bmN0aW9uIGdldEluamVjdGlvblRva2VucyhlbGVtZW50KSB7XG4gICAgY29uc3QgY29udGV4dCA9IGdldExDb250ZXh0KGVsZW1lbnQpO1xuICAgIGlmIChjb250ZXh0ID09PSBudWxsKVxuICAgICAgICByZXR1cm4gW107XG4gICAgY29uc3QgbFZpZXcgPSBjb250ZXh0LmxWaWV3O1xuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIGNvbnN0IHROb2RlID0gdFZpZXcuZGF0YVtjb250ZXh0Lm5vZGVJbmRleF07XG4gICAgY29uc3QgcHJvdmlkZXJUb2tlbnMgPSBbXTtcbiAgICBjb25zdCBzdGFydEluZGV4ID0gdE5vZGUucHJvdmlkZXJJbmRleGVzICYgMTA0ODU3NSAvKiBQcm92aWRlcnNTdGFydEluZGV4TWFzayAqLztcbiAgICBjb25zdCBlbmRJbmRleCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdFZpZXcuZGF0YVtpXTtcbiAgICAgICAgaWYgKGlzRGlyZWN0aXZlRGVmSGFjayh2YWx1ZSkpIHtcbiAgICAgICAgICAgIC8vIFRoZSBmYWN0IHRoYXQgd2Ugc29tZXRpbWVzIHN0b3JlIFR5cGUgYW5kIHNvbWV0aW1lcyBEaXJlY3RpdmVEZWYgaW4gdGhpcyBsb2NhdGlvbiBpcyBhXG4gICAgICAgICAgICAvLyBkZXNpZ24gZmxhdy4gIFdlIHNob3VsZCBhbHdheXMgc3RvcmUgc2FtZSB0eXBlIHNvIHRoYXQgd2UgY2FuIGJlIG1vbm9tb3JwaGljLiBUaGUgaXNzdWVcbiAgICAgICAgICAgIC8vIGlzIHRoYXQgZm9yIENvbXBvbmVudHMvRGlyZWN0aXZlcyB3ZSBzdG9yZSB0aGUgZGVmIGluc3RlYWQgdGhlIHR5cGUuIFRoZSBjb3JyZWN0IGJlaGF2aW9yXG4gICAgICAgICAgICAvLyBpcyB0aGF0IHdlIHNob3VsZCBhbHdheXMgYmUgc3RvcmluZyBpbmplY3RhYmxlIHR5cGUgaW4gdGhpcyBsb2NhdGlvbi5cbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudHlwZTtcbiAgICAgICAgfVxuICAgICAgICBwcm92aWRlclRva2Vucy5wdXNoKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3ZpZGVyVG9rZW5zO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgZGlyZWN0aXZlIGluc3RhbmNlcyBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiBET00gbm9kZS4gRG9lcyBub3QgaW5jbHVkZVxuICogY29tcG9uZW50IGluc3RhbmNlcy5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogR2l2ZW4gdGhlIGZvbGxvd2luZyBET00gc3RydWN0dXJlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxhcHAtcm9vdD5cbiAqICAgPGJ1dHRvbiBteS1idXR0b24+PC9idXR0b24+XG4gKiAgIDxteS1jb21wPjwvbXktY29tcD5cbiAqIDwvYXBwLXJvb3Q+XG4gKiBgYGBcbiAqXG4gKiBDYWxsaW5nIGBnZXREaXJlY3RpdmVzYCBvbiBgPGJ1dHRvbj5gIHdpbGwgcmV0dXJuIGFuIGFycmF5IHdpdGggYW4gaW5zdGFuY2Ugb2YgdGhlIGBNeUJ1dHRvbmBcbiAqIGRpcmVjdGl2ZSB0aGF0IGlzIGFzc29jaWF0ZWQgd2l0aCB0aGUgRE9NIG5vZGUuXG4gKlxuICogQ2FsbGluZyBgZ2V0RGlyZWN0aXZlc2Agb24gYDxteS1jb21wPmAgd2lsbCByZXR1cm4gYW4gZW1wdHkgYXJyYXkuXG4gKlxuICogQHBhcmFtIG5vZGUgRE9NIG5vZGUgZm9yIHdoaWNoIHRvIGdldCB0aGUgZGlyZWN0aXZlcy5cbiAqIEByZXR1cm5zIEFycmF5IG9mIGRpcmVjdGl2ZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBub2RlLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqIEBnbG9iYWxBcGkgbmdcbiAqL1xuZnVuY3Rpb24gZ2V0RGlyZWN0aXZlcyhub2RlKSB7XG4gICAgLy8gU2tpcCB0ZXh0IG5vZGVzIGJlY2F1c2Ugd2UgY2FuJ3QgaGF2ZSBkaXJlY3RpdmVzIGFzc29jaWF0ZWQgd2l0aCB0aGVtLlxuICAgIGlmIChub2RlIGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRMQ29udGV4dChub2RlKTtcbiAgICBpZiAoY29udGV4dCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IGxWaWV3ID0gY29udGV4dC5sVmlldztcbiAgICBjb25zdCB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICBjb25zdCBub2RlSW5kZXggPSBjb250ZXh0Lm5vZGVJbmRleDtcbiAgICBpZiAoISh0VmlldyA9PT0gbnVsbCB8fCB0VmlldyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdFZpZXcuZGF0YVtub2RlSW5kZXhdKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmIChjb250ZXh0LmRpcmVjdGl2ZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZXh0LmRpcmVjdGl2ZXMgPSBnZXREaXJlY3RpdmVzQXROb2RlSW5kZXgobm9kZUluZGV4LCBsVmlldywgZmFsc2UpO1xuICAgIH1cbiAgICAvLyBUaGUgYGRpcmVjdGl2ZXNgIGluIHRoaXMgY2FzZSBhcmUgYSBuYW1lZCBhcnJheSBjYWxsZWQgYExDb21wb25lbnRWaWV3YC4gQ2xvbmUgdGhlXG4gICAgLy8gcmVzdWx0IHNvIHdlIGRvbid0IGV4cG9zZSBhbiBpbnRlcm5hbCBkYXRhIHN0cnVjdHVyZSBpbiB0aGUgdXNlcidzIGNvbnNvbGUuXG4gICAgcmV0dXJuIGNvbnRleHQuZGlyZWN0aXZlcyA9PT0gbnVsbCA/IFtdIDogWy4uLmNvbnRleHQuZGlyZWN0aXZlc107XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGRlYnVnIChwYXJ0aWFsKSBtZXRhZGF0YSBmb3IgYSBwYXJ0aWN1bGFyIGRpcmVjdGl2ZSBvciBjb21wb25lbnQgaW5zdGFuY2UuXG4gKiBUaGUgZnVuY3Rpb24gYWNjZXB0cyBhbiBpbnN0YW5jZSBvZiBhIGRpcmVjdGl2ZSBvciBjb21wb25lbnQgYW5kIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmdcbiAqIG1ldGFkYXRhLlxuICpcbiAqIEBwYXJhbSBkaXJlY3RpdmVPckNvbXBvbmVudEluc3RhbmNlIEluc3RhbmNlIG9mIGEgZGlyZWN0aXZlIG9yIGNvbXBvbmVudFxuICogQHJldHVybnMgbWV0YWRhdGEgb2YgdGhlIHBhc3NlZCBkaXJlY3RpdmUgb3IgY29tcG9uZW50XG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXREaXJlY3RpdmVNZXRhZGF0YSQxKGRpcmVjdGl2ZU9yQ29tcG9uZW50SW5zdGFuY2UpIHtcbiAgICBjb25zdCB7IGNvbnN0cnVjdG9yIH0gPSBkaXJlY3RpdmVPckNvbXBvbmVudEluc3RhbmNlO1xuICAgIGlmICghY29uc3RydWN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmluZCB0aGUgaW5zdGFuY2UgY29uc3RydWN0b3InKTtcbiAgICB9XG4gICAgLy8gSW4gY2FzZSBhIGNvbXBvbmVudCBpbmhlcml0cyBmcm9tIGEgZGlyZWN0aXZlLCB3ZSBtYXkgaGF2ZSBjb21wb25lbnQgYW5kIGRpcmVjdGl2ZSBtZXRhZGF0YVxuICAgIC8vIFRvIGVuc3VyZSB3ZSBkb24ndCBnZXQgdGhlIG1ldGFkYXRhIG9mIHRoZSBkaXJlY3RpdmUsIHdlIHdhbnQgdG8gY2FsbCBgZ2V0Q29tcG9uZW50RGVmYCBmaXJzdC5cbiAgICBjb25zdCBjb21wb25lbnREZWYgPSBnZXRDb21wb25lbnREZWYoY29uc3RydWN0b3IpO1xuICAgIGlmIChjb21wb25lbnREZWYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlucHV0czogY29tcG9uZW50RGVmLmlucHV0cyxcbiAgICAgICAgICAgIG91dHB1dHM6IGNvbXBvbmVudERlZi5vdXRwdXRzLFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogY29tcG9uZW50RGVmLmVuY2Fwc3VsYXRpb24sXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IGNvbXBvbmVudERlZi5vblB1c2ggPyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2ggOlxuICAgICAgICAgICAgICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LkRlZmF1bHRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgZGlyZWN0aXZlRGVmID0gZ2V0RGlyZWN0aXZlRGVmKGNvbnN0cnVjdG9yKTtcbiAgICBpZiAoZGlyZWN0aXZlRGVmKSB7XG4gICAgICAgIHJldHVybiB7IGlucHV0czogZGlyZWN0aXZlRGVmLmlucHV0cywgb3V0cHV0czogZGlyZWN0aXZlRGVmLm91dHB1dHMgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFJldHJpZXZlIG1hcCBvZiBsb2NhbCByZWZlcmVuY2VzLlxuICpcbiAqIFRoZSByZWZlcmVuY2VzIGFyZSByZXRyaWV2ZWQgYXMgYSBtYXAgb2YgbG9jYWwgcmVmZXJlbmNlIG5hbWUgdG8gZWxlbWVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIHRhcmdldCBET00gZWxlbWVudCwgY29tcG9uZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZSBmb3Igd2hpY2ggdG8gcmV0cmlldmVcbiAqICAgIHRoZSBsb2NhbCByZWZlcmVuY2VzLlxuICovXG5mdW5jdGlvbiBnZXRMb2NhbFJlZnModGFyZ2V0KSB7XG4gICAgY29uc3QgY29udGV4dCA9IGdldExDb250ZXh0KHRhcmdldCk7XG4gICAgaWYgKGNvbnRleHQgPT09IG51bGwpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICBpZiAoY29udGV4dC5sb2NhbFJlZnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZXh0LmxvY2FsUmVmcyA9IGRpc2NvdmVyTG9jYWxSZWZzKGNvbnRleHQubFZpZXcsIGNvbnRleHQubm9kZUluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQubG9jYWxSZWZzIHx8IHt9O1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGhvc3QgZWxlbWVudCBvZiBhIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UuXG4gKiBUaGUgaG9zdCBlbGVtZW50IGlzIHRoZSBET00gZWxlbWVudCB0aGF0IG1hdGNoZWQgdGhlIHNlbGVjdG9yIG9mIHRoZSBkaXJlY3RpdmUuXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudE9yRGlyZWN0aXZlIENvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UgZm9yIHdoaWNoIHRoZSBob3N0XG4gKiAgICAgZWxlbWVudCBzaG91bGQgYmUgcmV0cmlldmVkLlxuICogQHJldHVybnMgSG9zdCBlbGVtZW50IG9mIHRoZSB0YXJnZXQuXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXRIb3N0RWxlbWVudChjb21wb25lbnRPckRpcmVjdGl2ZSkge1xuICAgIHJldHVybiBnZXRMQ29udGV4dChjb21wb25lbnRPckRpcmVjdGl2ZSkubmF0aXZlO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHJlbmRlcmVkIHRleHQgZm9yIGEgZ2l2ZW4gY29tcG9uZW50LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcmV0cmlldmVzIHRoZSBob3N0IGVsZW1lbnQgb2YgYSBjb21wb25lbnQgYW5kXG4gKiBhbmQgdGhlbiByZXR1cm5zIHRoZSBgdGV4dENvbnRlbnRgIGZvciB0aGF0IGVsZW1lbnQuIFRoaXMgaW1wbGllc1xuICogdGhhdCB0aGUgdGV4dCByZXR1cm5lZCB3aWxsIGluY2x1ZGUgcmUtcHJvamVjdGVkIGNvbnRlbnQgb2ZcbiAqIHRoZSBjb21wb25lbnQgYXMgd2VsbC5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50IFRoZSBjb21wb25lbnQgdG8gcmV0dXJuIHRoZSBjb250ZW50IHRleHQgZm9yLlxuICovXG5mdW5jdGlvbiBnZXRSZW5kZXJlZFRleHQoY29tcG9uZW50KSB7XG4gICAgY29uc3QgaG9zdEVsZW1lbnQgPSBnZXRIb3N0RWxlbWVudChjb21wb25lbnQpO1xuICAgIHJldHVybiBob3N0RWxlbWVudC50ZXh0Q29udGVudCB8fCAnJztcbn1cbi8qKlxuICogUmV0cmlldmVzIGEgbGlzdCBvZiBldmVudCBsaXN0ZW5lcnMgYXNzb2NpYXRlZCB3aXRoIGEgRE9NIGVsZW1lbnQuIFRoZSBsaXN0IGRvZXMgaW5jbHVkZSBob3N0XG4gKiBsaXN0ZW5lcnMsIGJ1dCBpdCBkb2VzIG5vdCBpbmNsdWRlIGV2ZW50IGxpc3RlbmVycyBkZWZpbmVkIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgY29udGV4dFxuICogKGUuZy4gdGhyb3VnaCBgYWRkRXZlbnRMaXN0ZW5lcmApLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiBHaXZlbiB0aGUgZm9sbG93aW5nIERPTSBzdHJ1Y3R1cmU6XG4gKlxuICogYGBgaHRtbFxuICogPGFwcC1yb290PlxuICogICA8ZGl2IChjbGljayk9XCJkb1NvbWV0aGluZygpXCI+PC9kaXY+XG4gKiA8L2FwcC1yb290PlxuICogYGBgXG4gKlxuICogQ2FsbGluZyBgZ2V0TGlzdGVuZXJzYCBvbiBgPGRpdj5gIHdpbGwgcmV0dXJuIGFuIG9iamVjdCB0aGF0IGxvb2tzIGFzIGZvbGxvd3M6XG4gKlxuICogYGBgdHNcbiAqIHtcbiAqICAgbmFtZTogJ2NsaWNrJyxcbiAqICAgZWxlbWVudDogPGRpdj4sXG4gKiAgIGNhbGxiYWNrOiAoKSA9PiBkb1NvbWV0aGluZygpLFxuICogICB1c2VDYXB0dXJlOiBmYWxzZVxuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIGVsZW1lbnQgRWxlbWVudCBmb3Igd2hpY2ggdGhlIERPTSBsaXN0ZW5lcnMgc2hvdWxkIGJlIHJldHJpZXZlZC5cbiAqIEByZXR1cm5zIEFycmF5IG9mIGV2ZW50IGxpc3RlbmVycyBvbiB0aGUgRE9NIGVsZW1lbnQuXG4gKlxuICogQHB1YmxpY0FwaVxuICogQGdsb2JhbEFwaSBuZ1xuICovXG5mdW5jdGlvbiBnZXRMaXN0ZW5lcnMoZWxlbWVudCkge1xuICAgIGFzc2VydERvbUVsZW1lbnQoZWxlbWVudCk7XG4gICAgY29uc3QgbENvbnRleHQgPSBnZXRMQ29udGV4dChlbGVtZW50KTtcbiAgICBpZiAobENvbnRleHQgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBbXTtcbiAgICBjb25zdCBsVmlldyA9IGxDb250ZXh0LmxWaWV3O1xuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIGNvbnN0IGxDbGVhbnVwID0gbFZpZXdbQ0xFQU5VUF07XG4gICAgY29uc3QgdENsZWFudXAgPSB0Vmlldy5jbGVhbnVwO1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IFtdO1xuICAgIGlmICh0Q2xlYW51cCAmJiBsQ2xlYW51cCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRDbGVhbnVwLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0UGFyYW0gPSB0Q2xlYW51cFtpKytdO1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kUGFyYW0gPSB0Q2xlYW51cFtpKytdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmaXJzdFBhcmFtID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBmaXJzdFBhcmFtO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyRWxlbWVudCA9IHVud3JhcFJOb2RlKGxWaWV3W3NlY29uZFBhcmFtXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBsQ2xlYW51cFt0Q2xlYW51cFtpKytdXTtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VDYXB0dXJlT3JJbmR4ID0gdENsZWFudXBbaSsrXTtcbiAgICAgICAgICAgICAgICAvLyBpZiB1c2VDYXB0dXJlT3JJbmR4IGlzIGJvb2xlYW4gdGhlbiByZXBvcnQgaXQgYXMgaXMuXG4gICAgICAgICAgICAgICAgLy8gaWYgdXNlQ2FwdHVyZU9ySW5keCBpcyBwb3NpdGl2ZSBudW1iZXIgdGhlbiBpdCBpbiB1bnN1YnNjcmliZSBtZXRob2RcbiAgICAgICAgICAgICAgICAvLyBpZiB1c2VDYXB0dXJlT3JJbmR4IGlzIG5lZ2F0aXZlIG51bWJlciB0aGVuIGl0IGlzIGEgU3Vic2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9ICh0eXBlb2YgdXNlQ2FwdHVyZU9ySW5keCA9PT0gJ2Jvb2xlYW4nIHx8IHVzZUNhcHR1cmVPckluZHggPj0gMCkgPyAnZG9tJyA6ICdvdXRwdXQnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZUNhcHR1cmUgPSB0eXBlb2YgdXNlQ2FwdHVyZU9ySW5keCA9PT0gJ2Jvb2xlYW4nID8gdXNlQ2FwdHVyZU9ySW5keCA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50ID09IGxpc3RlbmVyRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMucHVzaCh7IGVsZW1lbnQsIG5hbWUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlLCB0eXBlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsaXN0ZW5lcnMuc29ydChzb3J0TGlzdGVuZXJzKTtcbiAgICByZXR1cm4gbGlzdGVuZXJzO1xufVxuZnVuY3Rpb24gc29ydExpc3RlbmVycyhhLCBiKSB7XG4gICAgaWYgKGEubmFtZSA9PSBiLm5hbWUpXG4gICAgICAgIHJldHVybiAwO1xuICAgIHJldHVybiBhLm5hbWUgPCBiLm5hbWUgPyAtMSA6IDE7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIG5vdCBleGlzdCBiZWNhdXNlIGl0IGlzIG1lZ2Ftb3JwaGljIGFuZCBvbmx5IG1vc3RseSBjb3JyZWN0LlxuICpcbiAqIFNlZSBjYWxsIHNpdGUgZm9yIG1vcmUgaW5mby5cbiAqL1xuZnVuY3Rpb24gaXNEaXJlY3RpdmVEZWZIYWNrKG9iaikge1xuICAgIHJldHVybiBvYmoudHlwZSAhPT0gdW5kZWZpbmVkICYmIG9iai50ZW1wbGF0ZSAhPT0gdW5kZWZpbmVkICYmIG9iai5kZWNsYXJlZElucHV0cyAhPT0gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBhdHRhY2hlZCBgRGVidWdOb2RlYCBpbnN0YW5jZSBmb3IgYW4gZWxlbWVudCBpbiB0aGUgRE9NLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50IERPTSBlbGVtZW50IHdoaWNoIGlzIG93bmVkIGJ5IGFuIGV4aXN0aW5nIGNvbXBvbmVudCdzIHZpZXcuXG4gKi9cbmZ1bmN0aW9uIGdldERlYnVnTm9kZSQxKGVsZW1lbnQpIHtcbiAgICBpZiAobmdEZXZNb2RlICYmICEoZWxlbWVudCBpbnN0YW5jZW9mIE5vZGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0aW5nIGluc3RhbmNlIG9mIERPTSBFbGVtZW50Jyk7XG4gICAgfVxuICAgIGNvbnN0IGxDb250ZXh0ID0gZ2V0TENvbnRleHQoZWxlbWVudCk7XG4gICAgaWYgKGxDb250ZXh0ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBsVmlldyA9IGxDb250ZXh0LmxWaWV3O1xuICAgIGNvbnN0IG5vZGVJbmRleCA9IGxDb250ZXh0Lm5vZGVJbmRleDtcbiAgICBpZiAobm9kZUluZGV4ICE9PSAtMSkge1xuICAgICAgICBjb25zdCB2YWx1ZUluTFZpZXcgPSBsVmlld1tub2RlSW5kZXhdO1xuICAgICAgICAvLyB0aGlzIG1lYW5zIHRoYXQgdmFsdWUgaW4gdGhlIGxWaWV3IGlzIGEgY29tcG9uZW50IHdpdGggaXRzIG93blxuICAgICAgICAvLyBkYXRhLiBJbiB0aGlzIHNpdHVhdGlvbiB0aGUgVE5vZGUgaXMgbm90IGFjY2Vzc2VkIGF0IHRoZSBzYW1lIHNwb3QuXG4gICAgICAgIGNvbnN0IHROb2RlID0gaXNMVmlldyh2YWx1ZUluTFZpZXcpID8gdmFsdWVJbkxWaWV3W1RfSE9TVF0gOiBnZXRUTm9kZShsVmlld1tUVklFV10sIG5vZGVJbmRleCk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0RXF1YWwodE5vZGUuaW5kZXgsIG5vZGVJbmRleCwgJ0V4cGVjdGluZyB0aGF0IFROb2RlIGF0IGluZGV4IGlzIHNhbWUgYXMgaW5kZXgnKTtcbiAgICAgICAgcmV0dXJuIGJ1aWxkRGVidWdOb2RlKHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgY29tcG9uZW50IGBMVmlld2AgZnJvbSBjb21wb25lbnQvZWxlbWVudC5cbiAqXG4gKiBOT1RFOiBgTFZpZXdgIGlzIGEgcHJpdmF0ZSBhbmQgc2hvdWxkIG5vdCBiZSBsZWFrZWQgb3V0c2lkZS5cbiAqICAgICAgIERvbid0IGV4cG9ydCB0aGlzIG1ldGhvZCB0byBgbmcuKmAgb24gd2luZG93LlxuICpcbiAqIEBwYXJhbSB0YXJnZXQgRE9NIGVsZW1lbnQgb3IgY29tcG9uZW50IGluc3RhbmNlIGZvciB3aGljaCB0byByZXRyaWV2ZSB0aGUgTFZpZXcuXG4gKi9cbmZ1bmN0aW9uIGdldENvbXBvbmVudExWaWV3KHRhcmdldCkge1xuICAgIGNvbnN0IGxDb250ZXh0ID0gZ2V0TENvbnRleHQodGFyZ2V0KTtcbiAgICBjb25zdCBub2RlSW5keCA9IGxDb250ZXh0Lm5vZGVJbmRleDtcbiAgICBjb25zdCBsVmlldyA9IGxDb250ZXh0LmxWaWV3O1xuICAgIGNvbnN0IGNvbXBvbmVudExWaWV3ID0gbFZpZXdbbm9kZUluZHhdO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMVmlldyhjb21wb25lbnRMVmlldyk7XG4gICAgcmV0dXJuIGNvbXBvbmVudExWaWV3O1xufVxuLyoqIEFzc2VydHMgdGhhdCBhIHZhbHVlIGlzIGEgRE9NIEVsZW1lbnQuICovXG5mdW5jdGlvbiBhc3NlcnREb21FbGVtZW50KHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiAhKHZhbHVlIGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RpbmcgaW5zdGFuY2Ugb2YgRE9NIEVsZW1lbnQnKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBNYXJrcyBhIGNvbXBvbmVudCBmb3IgY2hlY2sgKGluIGNhc2Ugb2YgT25QdXNoIGNvbXBvbmVudHMpIGFuZCBzeW5jaHJvbm91c2x5XG4gKiBwZXJmb3JtcyBjaGFuZ2UgZGV0ZWN0aW9uIG9uIHRoZSBhcHBsaWNhdGlvbiB0aGlzIGNvbXBvbmVudCBiZWxvbmdzIHRvLlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnQgQ29tcG9uZW50IHRvIHtAbGluayBDaGFuZ2VEZXRlY3RvclJlZiNtYXJrRm9yQ2hlY2sgbWFyayBmb3IgY2hlY2t9LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqIEBnbG9iYWxBcGkgbmdcbiAqL1xuZnVuY3Rpb24gYXBwbHlDaGFuZ2VzKGNvbXBvbmVudCkge1xuICAgIG1hcmtEaXJ0eShjb21wb25lbnQpO1xuICAgIGdldFJvb3RDb21wb25lbnRzKGNvbXBvbmVudCkuZm9yRWFjaChyb290Q29tcG9uZW50ID0+IGRldGVjdENoYW5nZXMocm9vdENvbXBvbmVudCkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhpcyBmaWxlIGludHJvZHVjZXMgc2VyaWVzIG9mIGdsb2JhbGx5IGFjY2Vzc2libGUgZGVidWcgdG9vbHNcbiAqIHRvIGFsbG93IGZvciB0aGUgQW5ndWxhciBkZWJ1Z2dpbmcgc3RvcnkgdG8gZnVuY3Rpb24uXG4gKlxuICogVG8gc2VlIHRoaXMgaW4gYWN0aW9uIHJ1biB0aGUgZm9sbG93aW5nIGNvbW1hbmQ6XG4gKlxuICogICBiYXplbCBydW4gLy9wYWNrYWdlcy9jb3JlL3Rlc3QvYnVuZGxpbmcvdG9kbzpkZXZzZXJ2ZXJcbiAqXG4gKiAgVGhlbiBsb2FkIGBsb2NhbGhvc3Q6NTQzMmAgYW5kIHN0YXJ0IHVzaW5nIHRoZSBjb25zb2xlIHRvb2xzLlxuICovXG4vKipcbiAqIFRoaXMgdmFsdWUgcmVmbGVjdHMgdGhlIHByb3BlcnR5IG9uIHRoZSB3aW5kb3cgd2hlcmUgdGhlIGRldlxuICogdG9vbHMgYXJlIHBhdGNoZWQgKHdpbmRvdy5uZykuXG4gKiAqL1xuY29uc3QgR0xPQkFMX1BVQkxJU0hfRVhQQU5ET19LRVkgPSAnbmcnO1xubGV0IF9wdWJsaXNoZWQgPSBmYWxzZTtcbi8qKlxuICogUHVibGlzaGVzIGEgY29sbGVjdGlvbiBvZiBkZWZhdWx0IGRlYnVnIHRvb2xzIG9udG9gd2luZG93Lm5nYC5cbiAqXG4gKiBUaGVzZSBmdW5jdGlvbnMgYXJlIGF2YWlsYWJsZSBnbG9iYWxseSB3aGVuIEFuZ3VsYXIgaXMgaW4gZGV2ZWxvcG1lbnRcbiAqIG1vZGUgYW5kIGFyZSBhdXRvbWF0aWNhbGx5IHN0cmlwcGVkIGF3YXkgZnJvbSBwcm9kIG1vZGUgaXMgb24uXG4gKi9cbmZ1bmN0aW9uIHB1Ymxpc2hEZWZhdWx0R2xvYmFsVXRpbHMkMSgpIHtcbiAgICBpZiAoIV9wdWJsaXNoZWQpIHtcbiAgICAgICAgX3B1Ymxpc2hlZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXYXJuaW5nOiB0aGlzIGZ1bmN0aW9uIGlzICpJTlRFUk5BTCogYW5kIHNob3VsZCBub3QgYmUgcmVsaWVkIHVwb24gaW4gYXBwbGljYXRpb24ncyBjb2RlLlxuICAgICAgICAgKiBUaGUgY29udHJhY3Qgb2YgdGhlIGZ1bmN0aW9uIG1pZ2h0IGJlIGNoYW5nZWQgaW4gYW55IHJlbGVhc2UgYW5kL29yIHRoZSBmdW5jdGlvbiBjYW4gYmVcbiAgICAgICAgICogcmVtb3ZlZCBjb21wbGV0ZWx5LlxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ8m1c2V0UHJvZmlsZXInLCBzZXRQcm9maWxlcik7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXREaXJlY3RpdmVNZXRhZGF0YScsIGdldERpcmVjdGl2ZU1ldGFkYXRhJDEpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0Q29tcG9uZW50JywgZ2V0Q29tcG9uZW50JDEpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0Q29udGV4dCcsIGdldENvbnRleHQpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0TGlzdGVuZXJzJywgZ2V0TGlzdGVuZXJzKTtcbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ2dldE93bmluZ0NvbXBvbmVudCcsIGdldE93bmluZ0NvbXBvbmVudCk7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXRIb3N0RWxlbWVudCcsIGdldEhvc3RFbGVtZW50KTtcbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ2dldEluamVjdG9yJywgZ2V0SW5qZWN0b3IpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0Um9vdENvbXBvbmVudHMnLCBnZXRSb290Q29tcG9uZW50cyk7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXREaXJlY3RpdmVzJywgZ2V0RGlyZWN0aXZlcyk7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdhcHBseUNoYW5nZXMnLCBhcHBseUNoYW5nZXMpO1xuICAgIH1cbn1cbi8qKlxuICogUHVibGlzaGVzIHRoZSBnaXZlbiBmdW5jdGlvbiB0byBgd2luZG93Lm5nYCBzbyB0aGF0IGl0IGNhbiBiZVxuICogdXNlZCBmcm9tIHRoZSBicm93c2VyIGNvbnNvbGUgd2hlbiBhbiBhcHBsaWNhdGlvbiBpcyBub3QgaW4gcHJvZHVjdGlvbi5cbiAqL1xuZnVuY3Rpb24gcHVibGlzaEdsb2JhbFV0aWwobmFtZSwgZm4pIHtcbiAgICBpZiAodHlwZW9mIENPTVBJTEVEID09PSAndW5kZWZpbmVkJyB8fCAhQ09NUElMRUQpIHtcbiAgICAgICAgLy8gTm90ZTogd2UgY2FuJ3QgZXhwb3J0IGBuZ2Agd2hlbiB1c2luZyBjbG9zdXJlIGVuaGFuY2VkIG9wdGltaXphdGlvbiBhczpcbiAgICAgICAgLy8gLSBjbG9zdXJlIGRlY2xhcmVzIGdsb2JhbHMgaXRzZWxmIGZvciBtaW5pZmllZCBuYW1lcywgd2hpY2ggc29tZXRpbWVzIGNsb2JiZXIgb3VyIGBuZ2AgZ2xvYmFsXG4gICAgICAgIC8vIC0gd2UgY2FuJ3QgZGVjbGFyZSBhIGNsb3N1cmUgZXh0ZXJuIGFzIHRoZSBuYW1lc3BhY2UgYG5nYCBpcyBhbHJlYWR5IHVzZWQgd2l0aGluIEdvb2dsZVxuICAgICAgICAvLyAgIGZvciB0eXBpbmdzIGZvciBBbmd1bGFySlMgKHZpYSBgZ29vZy5wcm92aWRlKCduZy4uLi4nKWApLlxuICAgICAgICBjb25zdCB3ID0gX2dsb2JhbDtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZm4sICdmdW5jdGlvbiBub3QgZGVmaW5lZCcpO1xuICAgICAgICBpZiAodykge1xuICAgICAgICAgICAgbGV0IGNvbnRhaW5lciA9IHdbR0xPQkFMX1BVQkxJU0hfRVhQQU5ET19LRVldO1xuICAgICAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSB3W0dMT0JBTF9QVUJMSVNIX0VYUEFORE9fS0VZXSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGFpbmVyW25hbWVdID0gZm47XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gVE9ETzogQSBoYWNrIHRvIG5vdCBwdWxsIGluIHRoZSBOdWxsSW5qZWN0b3IgZnJvbSBAYW5ndWxhci9jb3JlLlxuY29uc3QgTlVMTF9JTkpFQ1RPUiA9IHtcbiAgICBnZXQ6ICh0b2tlbiwgbm90Rm91bmRWYWx1ZSkgPT4ge1xuICAgICAgICB0aHJvd1Byb3ZpZGVyTm90Rm91bmRFcnJvcih0b2tlbiwgJ051bGxJbmplY3RvcicpO1xuICAgIH1cbn07XG4vKipcbiAqIEJvb3RzdHJhcHMgYSBDb21wb25lbnQgaW50byBhbiBleGlzdGluZyBob3N0IGVsZW1lbnQgYW5kIHJldHVybnMgYW4gaW5zdGFuY2VcbiAqIG9mIHRoZSBjb21wb25lbnQuXG4gKlxuICogVXNlIHRoaXMgZnVuY3Rpb24gdG8gYm9vdHN0cmFwIGEgY29tcG9uZW50IGludG8gdGhlIERPTSB0cmVlLiBFYWNoIGludm9jYXRpb25cbiAqIG9mIHRoaXMgZnVuY3Rpb24gd2lsbCBjcmVhdGUgYSBzZXBhcmF0ZSB0cmVlIG9mIGNvbXBvbmVudHMsIGluamVjdG9ycyBhbmRcbiAqIGNoYW5nZSBkZXRlY3Rpb24gY3ljbGVzIGFuZCBsaWZldGltZXMuIFRvIGR5bmFtaWNhbGx5IGluc2VydCBhIG5ldyBjb21wb25lbnRcbiAqIGludG8gYW4gZXhpc3RpbmcgdHJlZSBzdWNoIHRoYXQgaXQgc2hhcmVzIHRoZSBzYW1lIGluamVjdGlvbiwgY2hhbmdlIGRldGVjdGlvblxuICogYW5kIG9iamVjdCBsaWZldGltZSwgdXNlIHtAbGluayBWaWV3Q29udGFpbmVyI2NyZWF0ZUNvbXBvbmVudH0uXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudFR5cGUgQ29tcG9uZW50IHRvIGJvb3RzdHJhcFxuICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgcGFyYW1ldGVycyB3aGljaCBjb250cm9sIGJvb3RzdHJhcHBpbmdcbiAqL1xuZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudFR5cGUgLyogVHlwZSBhcyB3b3JrYXJvdW5kIGZvcjogTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzQ4ODEgKi8sIG9wdHMgPSB7fSkge1xuICAgIG5nRGV2TW9kZSAmJiBwdWJsaXNoRGVmYXVsdEdsb2JhbFV0aWxzJDEoKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Q29tcG9uZW50VHlwZShjb21wb25lbnRUeXBlKTtcbiAgICBjb25zdCByZW5kZXJlckZhY3RvcnkgPSBvcHRzLnJlbmRlcmVyRmFjdG9yeSB8fCBkb21SZW5kZXJlckZhY3RvcnkzO1xuICAgIGNvbnN0IHNhbml0aXplciA9IG9wdHMuc2FuaXRpemVyIHx8IG51bGw7XG4gICAgY29uc3QgY29tcG9uZW50RGVmID0gZ2V0Q29tcG9uZW50RGVmKGNvbXBvbmVudFR5cGUpO1xuICAgIGlmIChjb21wb25lbnREZWYudHlwZSAhPSBjb21wb25lbnRUeXBlKVxuICAgICAgICBjb21wb25lbnREZWYudHlwZSA9IGNvbXBvbmVudFR5cGU7XG4gICAgLy8gVGhlIGZpcnN0IGluZGV4IG9mIHRoZSBmaXJzdCBzZWxlY3RvciBpcyB0aGUgdGFnIG5hbWUuXG4gICAgY29uc3QgY29tcG9uZW50VGFnID0gY29tcG9uZW50RGVmLnNlbGVjdG9yc1swXVswXTtcbiAgICBjb25zdCBob3N0UmVuZGVyZXIgPSByZW5kZXJlckZhY3RvcnkuY3JlYXRlUmVuZGVyZXIobnVsbCwgbnVsbCk7XG4gICAgY29uc3QgaG9zdFJOb2RlID0gbG9jYXRlSG9zdEVsZW1lbnQoaG9zdFJlbmRlcmVyLCBvcHRzLmhvc3QgfHwgY29tcG9uZW50VGFnLCBjb21wb25lbnREZWYuZW5jYXBzdWxhdGlvbik7XG4gICAgY29uc3Qgcm9vdEZsYWdzID0gY29tcG9uZW50RGVmLm9uUHVzaCA/IDY0IC8qIERpcnR5ICovIHwgNTEyIC8qIElzUm9vdCAqLyA6XG4gICAgICAgIDE2IC8qIENoZWNrQWx3YXlzICovIHwgNTEyIC8qIElzUm9vdCAqLztcbiAgICBjb25zdCByb290Q29udGV4dCA9IGNyZWF0ZVJvb3RDb250ZXh0KG9wdHMuc2NoZWR1bGVyLCBvcHRzLnBsYXllckhhbmRsZXIpO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gcmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVJlbmRlcmVyKGhvc3RSTm9kZSwgY29tcG9uZW50RGVmKTtcbiAgICBjb25zdCByb290VFZpZXcgPSBjcmVhdGVUVmlldygwIC8qIFJvb3QgKi8sIG51bGwsIG51bGwsIDEsIDAsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwpO1xuICAgIGNvbnN0IHJvb3RWaWV3ID0gY3JlYXRlTFZpZXcobnVsbCwgcm9vdFRWaWV3LCByb290Q29udGV4dCwgcm9vdEZsYWdzLCBudWxsLCBudWxsLCByZW5kZXJlckZhY3RvcnksIHJlbmRlcmVyLCBudWxsLCBvcHRzLmluamVjdG9yIHx8IG51bGwpO1xuICAgIGVudGVyVmlldyhyb290Vmlldyk7XG4gICAgbGV0IGNvbXBvbmVudDtcbiAgICB0cnkge1xuICAgICAgICBpZiAocmVuZGVyZXJGYWN0b3J5LmJlZ2luKVxuICAgICAgICAgICAgcmVuZGVyZXJGYWN0b3J5LmJlZ2luKCk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBjcmVhdGVSb290Q29tcG9uZW50Vmlldyhob3N0Uk5vZGUsIGNvbXBvbmVudERlZiwgcm9vdFZpZXcsIHJlbmRlcmVyRmFjdG9yeSwgcmVuZGVyZXIsIHNhbml0aXplcik7XG4gICAgICAgIGNvbXBvbmVudCA9IGNyZWF0ZVJvb3RDb21wb25lbnQoY29tcG9uZW50VmlldywgY29tcG9uZW50RGVmLCByb290Vmlldywgcm9vdENvbnRleHQsIG9wdHMuaG9zdEZlYXR1cmVzIHx8IG51bGwpO1xuICAgICAgICAvLyBjcmVhdGUgbW9kZSBwYXNzXG4gICAgICAgIHJlbmRlclZpZXcocm9vdFRWaWV3LCByb290VmlldywgbnVsbCk7XG4gICAgICAgIC8vIHVwZGF0ZSBtb2RlIHBhc3NcbiAgICAgICAgcmVmcmVzaFZpZXcocm9vdFRWaWV3LCByb290VmlldywgbnVsbCwgbnVsbCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBsZWF2ZVZpZXcoKTtcbiAgICAgICAgaWYgKHJlbmRlcmVyRmFjdG9yeS5lbmQpXG4gICAgICAgICAgICByZW5kZXJlckZhY3RvcnkuZW5kKCk7XG4gICAgfVxuICAgIHJldHVybiBjb21wb25lbnQ7XG59XG4vKipcbiAqIENyZWF0ZXMgdGhlIHJvb3QgY29tcG9uZW50IHZpZXcgYW5kIHRoZSByb290IGNvbXBvbmVudCBub2RlLlxuICpcbiAqIEBwYXJhbSByTm9kZSBSZW5kZXIgaG9zdCBlbGVtZW50LlxuICogQHBhcmFtIGRlZiBDb21wb25lbnREZWZcbiAqIEBwYXJhbSByb290VmlldyBUaGUgcGFyZW50IHZpZXcgd2hlcmUgdGhlIGhvc3Qgbm9kZSBpcyBzdG9yZWRcbiAqIEBwYXJhbSByZW5kZXJlckZhY3RvcnkgRmFjdG9yeSB0byBiZSB1c2VkIGZvciBjcmVhdGluZyBjaGlsZCByZW5kZXJlcnMuXG4gKiBAcGFyYW0gaG9zdFJlbmRlcmVyIFRoZSBjdXJyZW50IHJlbmRlcmVyXG4gKiBAcGFyYW0gc2FuaXRpemVyIFRoZSBzYW5pdGl6ZXIsIGlmIHByb3ZpZGVkXG4gKlxuICogQHJldHVybnMgQ29tcG9uZW50IHZpZXcgY3JlYXRlZFxuICovXG5mdW5jdGlvbiBjcmVhdGVSb290Q29tcG9uZW50VmlldyhyTm9kZSwgZGVmLCByb290VmlldywgcmVuZGVyZXJGYWN0b3J5LCBob3N0UmVuZGVyZXIsIHNhbml0aXplcikge1xuICAgIGNvbnN0IHRWaWV3ID0gcm9vdFZpZXdbVFZJRVddO1xuICAgIGNvbnN0IGluZGV4ID0gSEVBREVSX09GRlNFVDtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKHJvb3RWaWV3LCBpbmRleCk7XG4gICAgcm9vdFZpZXdbaW5kZXhdID0gck5vZGU7XG4gICAgLy8gJyNob3N0JyBpcyBhZGRlZCBoZXJlIGFzIHdlIGRvbid0IGtub3cgdGhlIHJlYWwgaG9zdCBET00gbmFtZSAod2UgZG9uJ3Qgd2FudCB0byByZWFkIGl0KSBhbmQgYXRcbiAgICAvLyB0aGUgc2FtZSB0aW1lIHdlIHdhbnQgdG8gY29tbXVuaWNhdGUgdGhlIGRlYnVnIGBUTm9kZWAgdGhhdCB0aGlzIGlzIGEgc3BlY2lhbCBgVE5vZGVgXG4gICAgLy8gcmVwcmVzZW50aW5nIGEgaG9zdCBlbGVtZW50LlxuICAgIGNvbnN0IHROb2RlID0gZ2V0T3JDcmVhdGVUTm9kZSh0VmlldywgaW5kZXgsIDIgLyogRWxlbWVudCAqLywgJyNob3N0JywgbnVsbCk7XG4gICAgY29uc3QgbWVyZ2VkQXR0cnMgPSB0Tm9kZS5tZXJnZWRBdHRycyA9IGRlZi5ob3N0QXR0cnM7XG4gICAgaWYgKG1lcmdlZEF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgIGNvbXB1dGVTdGF0aWNTdHlsaW5nKHROb2RlLCBtZXJnZWRBdHRycywgdHJ1ZSk7XG4gICAgICAgIGlmIChyTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0VXBBdHRyaWJ1dGVzKGhvc3RSZW5kZXJlciwgck5vZGUsIG1lcmdlZEF0dHJzKTtcbiAgICAgICAgICAgIGlmICh0Tm9kZS5jbGFzc2VzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgd3JpdGVEaXJlY3RDbGFzcyhob3N0UmVuZGVyZXIsIHJOb2RlLCB0Tm9kZS5jbGFzc2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0Tm9kZS5zdHlsZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB3cml0ZURpcmVjdFN0eWxlKGhvc3RSZW5kZXJlciwgck5vZGUsIHROb2RlLnN0eWxlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgdmlld1JlbmRlcmVyID0gcmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVJlbmRlcmVyKHJOb2RlLCBkZWYpO1xuICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBjcmVhdGVMVmlldyhyb290VmlldywgZ2V0T3JDcmVhdGVUQ29tcG9uZW50VmlldyhkZWYpLCBudWxsLCBkZWYub25QdXNoID8gNjQgLyogRGlydHkgKi8gOiAxNiAvKiBDaGVja0Fsd2F5cyAqLywgcm9vdFZpZXdbaW5kZXhdLCB0Tm9kZSwgcmVuZGVyZXJGYWN0b3J5LCB2aWV3UmVuZGVyZXIsIHNhbml0aXplciB8fCBudWxsLCBudWxsKTtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIGRpUHVibGljSW5JbmplY3RvcihnZXRPckNyZWF0ZU5vZGVJbmplY3RvckZvck5vZGUodE5vZGUsIHJvb3RWaWV3KSwgdFZpZXcsIGRlZi50eXBlKTtcbiAgICAgICAgbWFya0FzQ29tcG9uZW50SG9zdCh0VmlldywgdE5vZGUpO1xuICAgICAgICBpbml0VE5vZGVGbGFncyh0Tm9kZSwgcm9vdFZpZXcubGVuZ3RoLCAxKTtcbiAgICB9XG4gICAgYWRkVG9WaWV3VHJlZShyb290VmlldywgY29tcG9uZW50Vmlldyk7XG4gICAgLy8gU3RvcmUgY29tcG9uZW50IHZpZXcgYXQgbm9kZSBpbmRleCwgd2l0aCBub2RlIGFzIHRoZSBIT1NUXG4gICAgcmV0dXJuIHJvb3RWaWV3W2luZGV4XSA9IGNvbXBvbmVudFZpZXc7XG59XG4vKipcbiAqIENyZWF0ZXMgYSByb290IGNvbXBvbmVudCBhbmQgc2V0cyBpdCB1cCB3aXRoIGZlYXR1cmVzIGFuZCBob3N0IGJpbmRpbmdzLiBTaGFyZWQgYnlcbiAqIHJlbmRlckNvbXBvbmVudCgpIGFuZCBWaWV3Q29udGFpbmVyUmVmLmNyZWF0ZUNvbXBvbmVudCgpLlxuICovXG5mdW5jdGlvbiBjcmVhdGVSb290Q29tcG9uZW50KGNvbXBvbmVudFZpZXcsIGNvbXBvbmVudERlZiwgcm9vdExWaWV3LCByb290Q29udGV4dCwgaG9zdEZlYXR1cmVzKSB7XG4gICAgY29uc3QgdFZpZXcgPSByb290TFZpZXdbVFZJRVddO1xuICAgIC8vIENyZWF0ZSBkaXJlY3RpdmUgaW5zdGFuY2Ugd2l0aCBmYWN0b3J5KCkgYW5kIHN0b3JlIGF0IG5leHQgaW5kZXggaW4gdmlld0RhdGFcbiAgICBjb25zdCBjb21wb25lbnQgPSBpbnN0YW50aWF0ZVJvb3RDb21wb25lbnQodFZpZXcsIHJvb3RMVmlldywgY29tcG9uZW50RGVmKTtcbiAgICByb290Q29udGV4dC5jb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbiAgICBjb21wb25lbnRWaWV3W0NPTlRFWFRdID0gY29tcG9uZW50O1xuICAgIGhvc3RGZWF0dXJlcyAmJiBob3N0RmVhdHVyZXMuZm9yRWFjaCgoZmVhdHVyZSkgPT4gZmVhdHVyZShjb21wb25lbnQsIGNvbXBvbmVudERlZikpO1xuICAgIC8vIFdlIHdhbnQgdG8gZ2VuZXJhdGUgYW4gZW1wdHkgUXVlcnlMaXN0IGZvciByb290IGNvbnRlbnQgcXVlcmllcyBmb3IgYmFja3dhcmRzXG4gICAgLy8gY29tcGF0aWJpbGl0eSB3aXRoIFZpZXdFbmdpbmUuXG4gICAgaWYgKGNvbXBvbmVudERlZi5jb250ZW50UXVlcmllcykge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0Tm9kZSwgJ1ROb2RlIGV4cGVjdGVkJyk7XG4gICAgICAgIGNvbXBvbmVudERlZi5jb250ZW50UXVlcmllcygxIC8qIENyZWF0ZSAqLywgY29tcG9uZW50LCB0Tm9kZS5kaXJlY3RpdmVTdGFydCk7XG4gICAgfVxuICAgIGNvbnN0IHJvb3RUTm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHJvb3RUTm9kZSwgJ3ROb2RlIHNob3VsZCBoYXZlIGJlZW4gYWxyZWFkeSBjcmVhdGVkJyk7XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcyAmJlxuICAgICAgICAoY29tcG9uZW50RGVmLmhvc3RCaW5kaW5ncyAhPT0gbnVsbCB8fCBjb21wb25lbnREZWYuaG9zdEF0dHJzICE9PSBudWxsKSkge1xuICAgICAgICBzZXRTZWxlY3RlZEluZGV4KHJvb3RUTm9kZS5pbmRleCk7XG4gICAgICAgIGNvbnN0IHJvb3RUVmlldyA9IHJvb3RMVmlld1tUVklFV107XG4gICAgICAgIHJlZ2lzdGVySG9zdEJpbmRpbmdPcENvZGVzKHJvb3RUVmlldywgcm9vdFROb2RlLCByb290TFZpZXcsIHJvb3RUTm9kZS5kaXJlY3RpdmVTdGFydCwgcm9vdFROb2RlLmRpcmVjdGl2ZUVuZCwgY29tcG9uZW50RGVmKTtcbiAgICAgICAgaW52b2tlSG9zdEJpbmRpbmdzSW5DcmVhdGlvbk1vZGUoY29tcG9uZW50RGVmLCBjb21wb25lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50O1xufVxuZnVuY3Rpb24gY3JlYXRlUm9vdENvbnRleHQoc2NoZWR1bGVyLCBwbGF5ZXJIYW5kbGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29tcG9uZW50czogW10sXG4gICAgICAgIHNjaGVkdWxlcjogc2NoZWR1bGVyIHx8IGRlZmF1bHRTY2hlZHVsZXIsXG4gICAgICAgIGNsZWFuOiBDTEVBTl9QUk9NSVNFLFxuICAgICAgICBwbGF5ZXJIYW5kbGVyOiBwbGF5ZXJIYW5kbGVyIHx8IG51bGwsXG4gICAgICAgIGZsYWdzOiAwIC8qIEVtcHR5ICovXG4gICAgfTtcbn1cbi8qKlxuICogVXNlZCB0byBlbmFibGUgbGlmZWN5Y2xlIGhvb2tzIG9uIHRoZSByb290IGNvbXBvbmVudC5cbiAqXG4gKiBJbmNsdWRlIHRoaXMgZmVhdHVyZSB3aGVuIGNhbGxpbmcgYHJlbmRlckNvbXBvbmVudGAgaWYgdGhlIHJvb3QgY29tcG9uZW50XG4gKiB5b3UgYXJlIHJlbmRlcmluZyBoYXMgbGlmZWN5Y2xlIGhvb2tzIGRlZmluZWQuIE90aGVyd2lzZSwgdGhlIGhvb2tzIHdvbid0XG4gKiBiZSBjYWxsZWQgcHJvcGVybHkuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIHJlbmRlckNvbXBvbmVudChBcHBDb21wb25lbnQsIHtob3N0RmVhdHVyZXM6IFtMaWZlY3ljbGVIb29rc0ZlYXR1cmVdfSk7XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gTGlmZWN5Y2xlSG9va3NGZWF0dXJlKGNvbXBvbmVudCwgZGVmKSB7XG4gICAgY29uc3QgbFZpZXcgPSByZWFkUGF0Y2hlZExWaWV3KGNvbXBvbmVudCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobFZpZXcsICdMVmlldyBpcyByZXF1aXJlZCcpO1xuICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIGNvbnN0IHROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodE5vZGUsICdUTm9kZSBpcyByZXF1aXJlZCcpO1xuICAgIHJlZ2lzdGVyUG9zdE9yZGVySG9va3ModFZpZXcsIHROb2RlKTtcbn1cbi8qKlxuICogV2FpdCBvbiBjb21wb25lbnQgdW50aWwgaXQgaXMgcmVuZGVyZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIGEgYFByb21pc2VgIHdoaWNoIGlzIHJlc29sdmVkIHdoZW4gdGhlIGNvbXBvbmVudCdzXG4gKiBjaGFuZ2UgZGV0ZWN0aW9uIGlzIGV4ZWN1dGVkLiBUaGlzIGlzIGRldGVybWluZWQgYnkgZmluZGluZyB0aGUgc2NoZWR1bGVyXG4gKiBhc3NvY2lhdGVkIHdpdGggdGhlIGBjb21wb25lbnRgJ3MgcmVuZGVyIHRyZWUgYW5kIHdhaXRpbmcgdW50aWwgdGhlIHNjaGVkdWxlclxuICogZmx1c2hlcy4gSWYgbm90aGluZyBpcyBzY2hlZHVsZWQsIHRoZSBmdW5jdGlvbiByZXR1cm5zIGEgcmVzb2x2ZWQgcHJvbWlzZS5cbiAqXG4gKiBFeGFtcGxlOlxuICogYGBgXG4gKiBhd2FpdCB3aGVuUmVuZGVyZWQobXlDb21wb25lbnQpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudCBDb21wb25lbnQgdG8gd2FpdCB1cG9uXG4gKiBAcmV0dXJucyBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdoZW4gdGhlIGNvbXBvbmVudCBpcyByZW5kZXJlZC5cbiAqL1xuZnVuY3Rpb24gd2hlblJlbmRlcmVkKGNvbXBvbmVudCkge1xuICAgIHJldHVybiBnZXRSb290Q29udGV4dChjb21wb25lbnQpLmNsZWFuO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGdldFN1cGVyVHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0eXBlLnByb3RvdHlwZSkuY29uc3RydWN0b3I7XG59XG4vKipcbiAqIE1lcmdlcyB0aGUgZGVmaW5pdGlvbiBmcm9tIGEgc3VwZXIgY2xhc3MgdG8gYSBzdWIgY2xhc3MuXG4gKiBAcGFyYW0gZGVmaW5pdGlvbiBUaGUgZGVmaW5pdGlvbiB0aGF0IGlzIGEgU3ViQ2xhc3Mgb2YgYW5vdGhlciBkaXJlY3RpdmUgb2YgY29tcG9uZW50XG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtUluaGVyaXREZWZpbml0aW9uRmVhdHVyZShkZWZpbml0aW9uKSB7XG4gICAgbGV0IHN1cGVyVHlwZSA9IGdldFN1cGVyVHlwZShkZWZpbml0aW9uLnR5cGUpO1xuICAgIGxldCBzaG91bGRJbmhlcml0RmllbGRzID0gdHJ1ZTtcbiAgICBjb25zdCBpbmhlcml0YW5jZUNoYWluID0gW2RlZmluaXRpb25dO1xuICAgIHdoaWxlIChzdXBlclR5cGUpIHtcbiAgICAgICAgbGV0IHN1cGVyRGVmID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoaXNDb21wb25lbnREZWYoZGVmaW5pdGlvbikpIHtcbiAgICAgICAgICAgIC8vIERvbid0IHVzZSBnZXRDb21wb25lbnREZWYvZ2V0RGlyZWN0aXZlRGVmLiBUaGlzIGxvZ2ljIHJlbGllcyBvbiBpbmhlcml0YW5jZS5cbiAgICAgICAgICAgIHN1cGVyRGVmID0gc3VwZXJUeXBlLsm1Y21wIHx8IHN1cGVyVHlwZS7JtWRpcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzdXBlclR5cGUuybVjbXApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgICAgICdEaXJlY3RpdmVzIGNhbm5vdCBpbmhlcml0IENvbXBvbmVudHMnIDpcbiAgICAgICAgICAgICAgICAgICAgJyc7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig5MDMgLyogSU5WQUxJRF9JTkhFUklUQU5DRSAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERvbid0IHVzZSBnZXRDb21wb25lbnREZWYvZ2V0RGlyZWN0aXZlRGVmLiBUaGlzIGxvZ2ljIHJlbGllcyBvbiBpbmhlcml0YW5jZS5cbiAgICAgICAgICAgIHN1cGVyRGVmID0gc3VwZXJUeXBlLsm1ZGlyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdXBlckRlZikge1xuICAgICAgICAgICAgaWYgKHNob3VsZEluaGVyaXRGaWVsZHMpIHtcbiAgICAgICAgICAgICAgICBpbmhlcml0YW5jZUNoYWluLnB1c2goc3VwZXJEZWYpO1xuICAgICAgICAgICAgICAgIC8vIFNvbWUgZmllbGRzIGluIHRoZSBkZWZpbml0aW9uIG1heSBiZSBlbXB0eSwgaWYgdGhlcmUgd2VyZSBubyB2YWx1ZXMgdG8gcHV0IGluIHRoZW0gdGhhdFxuICAgICAgICAgICAgICAgIC8vIHdvdWxkJ3ZlIGp1c3RpZmllZCBvYmplY3QgY3JlYXRpb24uIFVud3JhcCB0aGVtIGlmIG5lY2Vzc2FyeS5cbiAgICAgICAgICAgICAgICBjb25zdCB3cml0ZWFibGVEZWYgPSBkZWZpbml0aW9uO1xuICAgICAgICAgICAgICAgIHdyaXRlYWJsZURlZi5pbnB1dHMgPSBtYXliZVVud3JhcEVtcHR5KGRlZmluaXRpb24uaW5wdXRzKTtcbiAgICAgICAgICAgICAgICB3cml0ZWFibGVEZWYuZGVjbGFyZWRJbnB1dHMgPSBtYXliZVVud3JhcEVtcHR5KGRlZmluaXRpb24uZGVjbGFyZWRJbnB1dHMpO1xuICAgICAgICAgICAgICAgIHdyaXRlYWJsZURlZi5vdXRwdXRzID0gbWF5YmVVbndyYXBFbXB0eShkZWZpbml0aW9uLm91dHB1dHMpO1xuICAgICAgICAgICAgICAgIC8vIE1lcmdlIGhvc3RCaW5kaW5nc1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1cGVySG9zdEJpbmRpbmdzID0gc3VwZXJEZWYuaG9zdEJpbmRpbmdzO1xuICAgICAgICAgICAgICAgIHN1cGVySG9zdEJpbmRpbmdzICYmIGluaGVyaXRIb3N0QmluZGluZ3MoZGVmaW5pdGlvbiwgc3VwZXJIb3N0QmluZGluZ3MpO1xuICAgICAgICAgICAgICAgIC8vIE1lcmdlIHF1ZXJpZXNcbiAgICAgICAgICAgICAgICBjb25zdCBzdXBlclZpZXdRdWVyeSA9IHN1cGVyRGVmLnZpZXdRdWVyeTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdXBlckNvbnRlbnRRdWVyaWVzID0gc3VwZXJEZWYuY29udGVudFF1ZXJpZXM7XG4gICAgICAgICAgICAgICAgc3VwZXJWaWV3UXVlcnkgJiYgaW5oZXJpdFZpZXdRdWVyeShkZWZpbml0aW9uLCBzdXBlclZpZXdRdWVyeSk7XG4gICAgICAgICAgICAgICAgc3VwZXJDb250ZW50UXVlcmllcyAmJiBpbmhlcml0Q29udGVudFF1ZXJpZXMoZGVmaW5pdGlvbiwgc3VwZXJDb250ZW50UXVlcmllcyk7XG4gICAgICAgICAgICAgICAgLy8gTWVyZ2UgaW5wdXRzIGFuZCBvdXRwdXRzXG4gICAgICAgICAgICAgICAgZmlsbFByb3BlcnRpZXMoZGVmaW5pdGlvbi5pbnB1dHMsIHN1cGVyRGVmLmlucHV0cyk7XG4gICAgICAgICAgICAgICAgZmlsbFByb3BlcnRpZXMoZGVmaW5pdGlvbi5kZWNsYXJlZElucHV0cywgc3VwZXJEZWYuZGVjbGFyZWRJbnB1dHMpO1xuICAgICAgICAgICAgICAgIGZpbGxQcm9wZXJ0aWVzKGRlZmluaXRpb24ub3V0cHV0cywgc3VwZXJEZWYub3V0cHV0cyk7XG4gICAgICAgICAgICAgICAgLy8gTWVyZ2UgYW5pbWF0aW9ucyBtZXRhZGF0YS5cbiAgICAgICAgICAgICAgICAvLyBJZiBgc3VwZXJEZWZgIGlzIGEgQ29tcG9uZW50LCB0aGUgYGRhdGFgIGZpZWxkIGlzIHByZXNlbnQgKGRlZmF1bHRzIHRvIGFuIGVtcHR5IG9iamVjdCkuXG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcG9uZW50RGVmKHN1cGVyRGVmKSAmJiBzdXBlckRlZi5kYXRhLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBzdXBlciBkZWYgaXMgYSBDb21wb25lbnQsIHRoZSBgZGVmaW5pdGlvbmAgaXMgYWxzbyBhIENvbXBvbmVudCwgc2luY2UgRGlyZWN0aXZlcyBjYW5cbiAgICAgICAgICAgICAgICAgICAgLy8gbm90IGluaGVyaXQgQ29tcG9uZW50cyAod2UgdGhyb3cgYW4gZXJyb3IgYWJvdmUgYW5kIGNhbm5vdCByZWFjaCB0aGlzIGNvZGUpLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZEYXRhID0gZGVmaW5pdGlvbi5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBkZWZEYXRhLmFuaW1hdGlvbiA9IChkZWZEYXRhLmFuaW1hdGlvbiB8fCBbXSkuY29uY2F0KHN1cGVyRGVmLmRhdGEuYW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSdW4gcGFyZW50IGZlYXR1cmVzXG4gICAgICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHN1cGVyRGVmLmZlYXR1cmVzO1xuICAgICAgICAgICAgaWYgKGZlYXR1cmVzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlID0gZmVhdHVyZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlICYmIGZlYXR1cmUubmdJbmhlcml0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlKGRlZmluaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGBJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmVgIGlzIGEgcGFydCBvZiB0aGUgY3VycmVudCBgc3VwZXJEZWZgLCBpdCBtZWFucyB0aGF0IHRoaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmIGFscmVhZHkgaGFzIGFsbCB0aGUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uIGluaGVyaXRlZCBmcm9tIGl0cyBzdXBlciBjbGFzcyhlcyksIHNvIHdlXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbiBzdG9wIG1lcmdpbmcgZmllbGRzIGZyb20gc3VwZXIgY2xhc3Nlcy4gSG93ZXZlciB3ZSBuZWVkIHRvIGl0ZXJhdGUgdGhyb3VnaCB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvdG90eXBlIGNoYWluIHRvIGxvb2sgZm9yIGNsYXNzZXMgdGhhdCBtaWdodCBjb250YWluIG90aGVyIFwiZmVhdHVyZXNcIiAobGlrZVxuICAgICAgICAgICAgICAgICAgICAvLyBOZ09uQ2hhbmdlcyksIHdoaWNoIHdlIHNob3VsZCBpbnZva2UgZm9yIHRoZSBvcmlnaW5hbCBgZGVmaW5pdGlvbmAuIFdlIHNldCB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gYHNob3VsZEluaGVyaXRGaWVsZHNgIGZsYWcgdG8gaW5kaWNhdGUgdGhhdCwgZXNzZW50aWFsbHkgc2tpcHBpbmcgZmllbGRzIGluaGVyaXRhbmNlXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvZ2ljIGFuZCBvbmx5IGludm9raW5nIGZ1bmN0aW9ucyBmcm9tIHRoZSBcImZlYXR1cmVzXCIgbGlzdC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZlYXR1cmUgPT09IMm1ybVJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZEluaGVyaXRGaWVsZHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdXBlclR5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoc3VwZXJUeXBlKTtcbiAgICB9XG4gICAgbWVyZ2VIb3N0QXR0cnNBY3Jvc3NJbmhlcml0YW5jZShpbmhlcml0YW5jZUNoYWluKTtcbn1cbi8qKlxuICogTWVyZ2UgdGhlIGBob3N0QXR0cnNgIGFuZCBgaG9zdFZhcnNgIGZyb20gdGhlIGluaGVyaXRlZCBwYXJlbnQgdG8gdGhlIGJhc2UgY2xhc3MuXG4gKlxuICogQHBhcmFtIGluaGVyaXRhbmNlQ2hhaW4gQSBsaXN0IG9mIGBXcml0YWJsZURlZnNgIHN0YXJ0aW5nIGF0IHRoZSB0b3AgbW9zdCB0eXBlIGFuZCBsaXN0aW5nXG4gKiBzdWItdHlwZXMgaW4gb3JkZXIuIEZvciBlYWNoIHR5cGUgdGFrZSB0aGUgYGhvc3RBdHRyc2AgYW5kIGBob3N0VmFyc2AgYW5kIG1lcmdlIGl0IHdpdGggdGhlIGNoaWxkXG4gKiB0eXBlLlxuICovXG5mdW5jdGlvbiBtZXJnZUhvc3RBdHRyc0Fjcm9zc0luaGVyaXRhbmNlKGluaGVyaXRhbmNlQ2hhaW4pIHtcbiAgICBsZXQgaG9zdFZhcnMgPSAwO1xuICAgIGxldCBob3N0QXR0cnMgPSBudWxsO1xuICAgIC8vIFdlIHByb2Nlc3MgdGhlIGluaGVyaXRhbmNlIG9yZGVyIGZyb20gdGhlIGJhc2UgdG8gdGhlIGxlYXZlcyBoZXJlLlxuICAgIGZvciAobGV0IGkgPSBpbmhlcml0YW5jZUNoYWluLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGRlZiA9IGluaGVyaXRhbmNlQ2hhaW5baV07XG4gICAgICAgIC8vIEZvciBlYWNoIGBob3N0VmFyc2AsIHdlIG5lZWQgdG8gYWRkIHRoZSBzdXBlcmNsYXNzIGFtb3VudC5cbiAgICAgICAgZGVmLmhvc3RWYXJzID0gKGhvc3RWYXJzICs9IGRlZi5ob3N0VmFycyk7XG4gICAgICAgIC8vIGZvciBlYWNoIGBob3N0QXR0cnNgIHdlIG5lZWQgdG8gbWVyZ2UgaXQgd2l0aCBzdXBlcmNsYXNzLlxuICAgICAgICBkZWYuaG9zdEF0dHJzID1cbiAgICAgICAgICAgIG1lcmdlSG9zdEF0dHJzKGRlZi5ob3N0QXR0cnMsIGhvc3RBdHRycyA9IG1lcmdlSG9zdEF0dHJzKGhvc3RBdHRycywgZGVmLmhvc3RBdHRycykpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1heWJlVW53cmFwRW1wdHkodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IEVNUFRZX09CSikge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlID09PSBFTVBUWV9BUlJBWSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5oZXJpdFZpZXdRdWVyeShkZWZpbml0aW9uLCBzdXBlclZpZXdRdWVyeSkge1xuICAgIGNvbnN0IHByZXZWaWV3UXVlcnkgPSBkZWZpbml0aW9uLnZpZXdRdWVyeTtcbiAgICBpZiAocHJldlZpZXdRdWVyeSkge1xuICAgICAgICBkZWZpbml0aW9uLnZpZXdRdWVyeSA9IChyZiwgY3R4KSA9PiB7XG4gICAgICAgICAgICBzdXBlclZpZXdRdWVyeShyZiwgY3R4KTtcbiAgICAgICAgICAgIHByZXZWaWV3UXVlcnkocmYsIGN0eCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkZWZpbml0aW9uLnZpZXdRdWVyeSA9IHN1cGVyVmlld1F1ZXJ5O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluaGVyaXRDb250ZW50UXVlcmllcyhkZWZpbml0aW9uLCBzdXBlckNvbnRlbnRRdWVyaWVzKSB7XG4gICAgY29uc3QgcHJldkNvbnRlbnRRdWVyaWVzID0gZGVmaW5pdGlvbi5jb250ZW50UXVlcmllcztcbiAgICBpZiAocHJldkNvbnRlbnRRdWVyaWVzKSB7XG4gICAgICAgIGRlZmluaXRpb24uY29udGVudFF1ZXJpZXMgPSAocmYsIGN0eCwgZGlyZWN0aXZlSW5kZXgpID0+IHtcbiAgICAgICAgICAgIHN1cGVyQ29udGVudFF1ZXJpZXMocmYsIGN0eCwgZGlyZWN0aXZlSW5kZXgpO1xuICAgICAgICAgICAgcHJldkNvbnRlbnRRdWVyaWVzKHJmLCBjdHgsIGRpcmVjdGl2ZUluZGV4KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRlZmluaXRpb24uY29udGVudFF1ZXJpZXMgPSBzdXBlckNvbnRlbnRRdWVyaWVzO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluaGVyaXRIb3N0QmluZGluZ3MoZGVmaW5pdGlvbiwgc3VwZXJIb3N0QmluZGluZ3MpIHtcbiAgICBjb25zdCBwcmV2SG9zdEJpbmRpbmdzID0gZGVmaW5pdGlvbi5ob3N0QmluZGluZ3M7XG4gICAgaWYgKHByZXZIb3N0QmluZGluZ3MpIHtcbiAgICAgICAgZGVmaW5pdGlvbi5ob3N0QmluZGluZ3MgPSAocmYsIGN0eCkgPT4ge1xuICAgICAgICAgICAgc3VwZXJIb3N0QmluZGluZ3MocmYsIGN0eCk7XG4gICAgICAgICAgICBwcmV2SG9zdEJpbmRpbmdzKHJmLCBjdHgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGVmaW5pdGlvbi5ob3N0QmluZGluZ3MgPSBzdXBlckhvc3RCaW5kaW5ncztcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBGaWVsZHMgd2hpY2ggZXhpc3Qgb24gZWl0aGVyIGRpcmVjdGl2ZSBvciBjb21wb25lbnQgZGVmaW5pdGlvbnMsIGFuZCBuZWVkIHRvIGJlIGNvcGllZCBmcm9tXG4gKiBwYXJlbnQgdG8gY2hpbGQgY2xhc3NlcyBieSB0aGUgYMm1ybVDb3B5RGVmaW5pdGlvbkZlYXR1cmVgLlxuICovXG5jb25zdCBDT1BZX0RJUkVDVElWRV9GSUVMRFMgPSBbXG4gICAgLy8gVGhlIGNoaWxkIGNsYXNzIHNob3VsZCB1c2UgdGhlIHByb3ZpZGVycyBvZiBpdHMgcGFyZW50LlxuICAgICdwcm92aWRlcnNSZXNvbHZlcicsXG4gICAgLy8gTm90IGxpc3RlZCBoZXJlIGFyZSBhbnkgZmllbGRzIHdoaWNoIGFyZSBoYW5kbGVkIGJ5IHRoZSBgybXJtUluaGVyaXREZWZpbml0aW9uRmVhdHVyZWAsIHN1Y2hcbiAgICAvLyBhcyBpbnB1dHMsIG91dHB1dHMsIGFuZCBob3N0IGJpbmRpbmcgZnVuY3Rpb25zLlxuXTtcbi8qKlxuICogRmllbGRzIHdoaWNoIGV4aXN0IG9ubHkgb24gY29tcG9uZW50IGRlZmluaXRpb25zLCBhbmQgbmVlZCB0byBiZSBjb3BpZWQgZnJvbSBwYXJlbnQgdG8gY2hpbGRcbiAqIGNsYXNzZXMgYnkgdGhlIGDJtcm1Q29weURlZmluaXRpb25GZWF0dXJlYC5cbiAqXG4gKiBUaGUgdHlwZSBoZXJlIGFsbG93cyBhbnkgZmllbGQgb2YgYENvbXBvbmVudERlZmAgd2hpY2ggaXMgbm90IGFsc28gYSBwcm9wZXJ0eSBvZiBgRGlyZWN0aXZlRGVmYCxcbiAqIHNpbmNlIHRob3NlIHNob3VsZCBnbyBpbiBgQ09QWV9ESVJFQ1RJVkVfRklFTERTYCBhYm92ZS5cbiAqL1xuY29uc3QgQ09QWV9DT01QT05FTlRfRklFTERTID0gW1xuICAgIC8vIFRoZSBjaGlsZCBjbGFzcyBzaG91bGQgdXNlIHRoZSB0ZW1wbGF0ZSBmdW5jdGlvbiBvZiBpdHMgcGFyZW50LCBpbmNsdWRpbmcgYWxsIHRlbXBsYXRlXG4gICAgLy8gc2VtYW50aWNzLlxuICAgICd0ZW1wbGF0ZScsXG4gICAgJ2RlY2xzJyxcbiAgICAnY29uc3RzJyxcbiAgICAndmFycycsXG4gICAgJ29uUHVzaCcsXG4gICAgJ25nQ29udGVudFNlbGVjdG9ycycsXG4gICAgLy8gVGhlIGNoaWxkIGNsYXNzIHNob3VsZCB1c2UgdGhlIENTUyBzdHlsZXMgb2YgaXRzIHBhcmVudCwgaW5jbHVkaW5nIGFsbCBzdHlsaW5nIHNlbWFudGljcy5cbiAgICAnc3R5bGVzJyxcbiAgICAnZW5jYXBzdWxhdGlvbicsXG4gICAgLy8gVGhlIGNoaWxkIGNsYXNzIHNob3VsZCBiZSBjaGVja2VkIGJ5IHRoZSBydW50aW1lIGluIHRoZSBzYW1lIHdheSBhcyBpdHMgcGFyZW50LlxuICAgICdzY2hlbWFzJyxcbl07XG4vKipcbiAqIENvcGllcyB0aGUgZmllbGRzIG5vdCBoYW5kbGVkIGJ5IHRoZSBgybXJtUluaGVyaXREZWZpbml0aW9uRmVhdHVyZWAgZnJvbSB0aGUgc3VwZXJ0eXBlIG9mIGFcbiAqIGRlZmluaXRpb24uXG4gKlxuICogVGhpcyBleGlzdHMgcHJpbWFyaWx5IHRvIHN1cHBvcnQgbmdjYyBtaWdyYXRpb24gb2YgYW4gZXhpc3RpbmcgVmlldyBFbmdpbmUgcGF0dGVybiwgd2hlcmUgYW5cbiAqIGVudGlyZSBkZWNvcmF0b3IgaXMgaW5oZXJpdGVkIGZyb20gYSBwYXJlbnQgdG8gYSBjaGlsZCBjbGFzcy4gV2hlbiBuZ2NjIGRldGVjdHMgdGhpcyBjYXNlLCBpdFxuICogZ2VuZXJhdGVzIGEgc2tlbGV0b24gZGVmaW5pdGlvbiBvbiB0aGUgY2hpbGQgY2xhc3MsIGFuZCBhcHBsaWVzIHRoaXMgZmVhdHVyZS5cbiAqXG4gKiBUaGUgYMm1ybVDb3B5RGVmaW5pdGlvbkZlYXR1cmVgIHRoZW4gY29waWVzIGFueSBuZWVkZWQgZmllbGRzIGZyb20gdGhlIHBhcmVudCBjbGFzcycgZGVmaW5pdGlvbixcbiAqIGluY2x1ZGluZyB0aGluZ3MgbGlrZSB0aGUgY29tcG9uZW50IHRlbXBsYXRlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSBkZWZpbml0aW9uIFRoZSBkZWZpbml0aW9uIG9mIGEgY2hpbGQgY2xhc3Mgd2hpY2ggaW5oZXJpdHMgZnJvbSBhIHBhcmVudCBjbGFzcyB3aXRoIGl0c1xuICogb3duIGRlZmluaXRpb24uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtUNvcHlEZWZpbml0aW9uRmVhdHVyZShkZWZpbml0aW9uKSB7XG4gICAgbGV0IHN1cGVyVHlwZSA9IGdldFN1cGVyVHlwZShkZWZpbml0aW9uLnR5cGUpO1xuICAgIGxldCBzdXBlckRlZiA9IHVuZGVmaW5lZDtcbiAgICBpZiAoaXNDb21wb25lbnREZWYoZGVmaW5pdGlvbikpIHtcbiAgICAgICAgLy8gRG9uJ3QgdXNlIGdldENvbXBvbmVudERlZi9nZXREaXJlY3RpdmVEZWYuIFRoaXMgbG9naWMgcmVsaWVzIG9uIGluaGVyaXRhbmNlLlxuICAgICAgICBzdXBlckRlZiA9IHN1cGVyVHlwZS7JtWNtcDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIERvbid0IHVzZSBnZXRDb21wb25lbnREZWYvZ2V0RGlyZWN0aXZlRGVmLiBUaGlzIGxvZ2ljIHJlbGllcyBvbiBpbmhlcml0YW5jZS5cbiAgICAgICAgc3VwZXJEZWYgPSBzdXBlclR5cGUuybVkaXI7XG4gICAgfVxuICAgIC8vIE5lZWRlZCBiZWNhdXNlIGBkZWZpbml0aW9uYCBmaWVsZHMgYXJlIHJlYWRvbmx5LlxuICAgIGNvbnN0IGRlZkFueSA9IGRlZmluaXRpb247XG4gICAgLy8gQ29weSBvdmVyIGFueSBmaWVsZHMgdGhhdCBhcHBseSB0byBlaXRoZXIgZGlyZWN0aXZlcyBvciBjb21wb25lbnRzLlxuICAgIGZvciAoY29uc3QgZmllbGQgb2YgQ09QWV9ESVJFQ1RJVkVfRklFTERTKSB7XG4gICAgICAgIGRlZkFueVtmaWVsZF0gPSBzdXBlckRlZltmaWVsZF07XG4gICAgfVxuICAgIGlmIChpc0NvbXBvbmVudERlZihzdXBlckRlZikpIHtcbiAgICAgICAgLy8gQ29weSBvdmVyIGFueSBjb21wb25lbnQtc3BlY2lmaWMgZmllbGRzLlxuICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIENPUFlfQ09NUE9ORU5UX0ZJRUxEUykge1xuICAgICAgICAgICAgZGVmQW55W2ZpZWxkXSA9IHN1cGVyRGVmW2ZpZWxkXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5sZXQgX3N5bWJvbEl0ZXJhdG9yID0gbnVsbDtcbmZ1bmN0aW9uIGdldFN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIGlmICghX3N5bWJvbEl0ZXJhdG9yKSB7XG4gICAgICAgIGNvbnN0IFN5bWJvbCA9IF9nbG9iYWxbJ1N5bWJvbCddO1xuICAgICAgICBpZiAoU3ltYm9sICYmIFN5bWJvbC5pdGVyYXRvcikge1xuICAgICAgICAgICAgX3N5bWJvbEl0ZXJhdG9yID0gU3ltYm9sLml0ZXJhdG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXM2LXNoaW0gc3BlY2lmaWMgbG9naWNcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhNYXAucHJvdG90eXBlKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJ2VudHJpZXMnICYmIGtleSAhPT0gJ3NpemUnICYmXG4gICAgICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGVba2V5XSA9PT0gTWFwLnByb3RvdHlwZVsnZW50cmllcyddKSB7XG4gICAgICAgICAgICAgICAgICAgIF9zeW1ib2xJdGVyYXRvciA9IGtleTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF9zeW1ib2xJdGVyYXRvcjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBkZXZNb2RlRXF1YWwoYSwgYikge1xuICAgIGNvbnN0IGlzTGlzdExpa2VJdGVyYWJsZUEgPSBpc0xpc3RMaWtlSXRlcmFibGUoYSk7XG4gICAgY29uc3QgaXNMaXN0TGlrZUl0ZXJhYmxlQiA9IGlzTGlzdExpa2VJdGVyYWJsZShiKTtcbiAgICBpZiAoaXNMaXN0TGlrZUl0ZXJhYmxlQSAmJiBpc0xpc3RMaWtlSXRlcmFibGVCKSB7XG4gICAgICAgIHJldHVybiBhcmVJdGVyYWJsZXNFcXVhbChhLCBiLCBkZXZNb2RlRXF1YWwpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgaXNBT2JqZWN0ID0gYSAmJiAodHlwZW9mIGEgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKTtcbiAgICAgICAgY29uc3QgaXNCT2JqZWN0ID0gYiAmJiAodHlwZW9mIGIgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBiID09PSAnZnVuY3Rpb24nKTtcbiAgICAgICAgaWYgKCFpc0xpc3RMaWtlSXRlcmFibGVBICYmIGlzQU9iamVjdCAmJiAhaXNMaXN0TGlrZUl0ZXJhYmxlQiAmJiBpc0JPYmplY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5pcyhhLCBiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGlzTGlzdExpa2VJdGVyYWJsZShvYmopIHtcbiAgICBpZiAoIWlzSnNPYmplY3Qob2JqKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KG9iaikgfHxcbiAgICAgICAgKCEob2JqIGluc3RhbmNlb2YgTWFwKSAmJiAvLyBKUyBNYXAgYXJlIGl0ZXJhYmxlcyBidXQgcmV0dXJuIGVudHJpZXMgYXMgW2ssIHZdXG4gICAgICAgICAgICBnZXRTeW1ib2xJdGVyYXRvcigpIGluIG9iaik7IC8vIEpTIEl0ZXJhYmxlIGhhdmUgYSBTeW1ib2wuaXRlcmF0b3IgcHJvcFxufVxuZnVuY3Rpb24gYXJlSXRlcmFibGVzRXF1YWwoYSwgYiwgY29tcGFyYXRvcikge1xuICAgIGNvbnN0IGl0ZXJhdG9yMSA9IGFbZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTtcbiAgICBjb25zdCBpdGVyYXRvcjIgPSBiW2dldFN5bWJvbEl0ZXJhdG9yKCldKCk7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgaXRlbTEgPSBpdGVyYXRvcjEubmV4dCgpO1xuICAgICAgICBjb25zdCBpdGVtMiA9IGl0ZXJhdG9yMi5uZXh0KCk7XG4gICAgICAgIGlmIChpdGVtMS5kb25lICYmIGl0ZW0yLmRvbmUpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGl0ZW0xLmRvbmUgfHwgaXRlbTIuZG9uZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFjb21wYXJhdG9yKGl0ZW0xLnZhbHVlLCBpdGVtMi52YWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gaXRlcmF0ZUxpc3RMaWtlKG9iaiwgZm4pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmbihvYmpbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBpdGVyYXRvciA9IG9ialtnZXRTeW1ib2xJdGVyYXRvcigpXSgpO1xuICAgICAgICBsZXQgaXRlbTtcbiAgICAgICAgd2hpbGUgKCEoKGl0ZW0gPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpKSB7XG4gICAgICAgICAgICBmbihpdGVtLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGlzSnNPYmplY3Qobykge1xuICAgIHJldHVybiBvICE9PSBudWxsICYmICh0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgbyA9PT0gJ29iamVjdCcpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRPRE8obWlza28pOiBjb25zaWRlciBpbmxpbmluZ1xuLyoqIFVwZGF0ZXMgYmluZGluZyBhbmQgcmV0dXJucyB0aGUgdmFsdWUuICovXG5mdW5jdGlvbiB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGxWaWV3W2JpbmRpbmdJbmRleF0gPSB2YWx1ZTtcbn1cbi8qKiBHZXRzIHRoZSBjdXJyZW50IGJpbmRpbmcgdmFsdWUuICovXG5mdW5jdGlvbiBnZXRCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCBiaW5kaW5nSW5kZXgpO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnROb3RTYW1lKGxWaWV3W2JpbmRpbmdJbmRleF0sIE5PX0NIQU5HRSwgJ1N0b3JlZCB2YWx1ZSBzaG91bGQgbmV2ZXIgYmUgTk9fQ0hBTkdFLicpO1xuICAgIHJldHVybiBsVmlld1tiaW5kaW5nSW5kZXhdO1xufVxuLyoqXG4gKiBVcGRhdGVzIGJpbmRpbmcgaWYgY2hhbmdlZCwgdGhlbiByZXR1cm5zIHdoZXRoZXIgaXQgd2FzIHVwZGF0ZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBhbHNvIGNoZWNrcyB0aGUgYENoZWNrTm9DaGFuZ2VzTW9kZWAgYW5kIHRocm93cyBpZiBjaGFuZ2VzIGFyZSBtYWRlLlxuICogU29tZSBjaGFuZ2VzIChPYmplY3RzL2l0ZXJhYmxlcykgZHVyaW5nIGBDaGVja05vQ2hhbmdlc01vZGVgIGFyZSBleGVtcHQgdG8gY29tcGx5IHdpdGggVkVcbiAqIGJlaGF2aW9yLlxuICpcbiAqIEBwYXJhbSBsVmlldyBjdXJyZW50IGBMVmlld2BcbiAqIEBwYXJhbSBiaW5kaW5nSW5kZXggVGhlIGJpbmRpbmcgaW4gdGhlIGBMVmlld2AgdG8gY2hlY2tcbiAqIEBwYXJhbSB2YWx1ZSBOZXcgdmFsdWUgdG8gY2hlY2sgYWdhaW5zdCBgbFZpZXdbYmluZGluZ0luZGV4XWBcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgYmluZGluZ3MgaGFzIGNoYW5nZWQuIChUaHJvd3MgaWYgYmluZGluZyBoYXMgY2hhbmdlZCBkdXJpbmdcbiAqICAgICAgICAgIGBDaGVja05vQ2hhbmdlc01vZGVgKVxuICovXG5mdW5jdGlvbiBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4LCB2YWx1ZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb3RTYW1lKHZhbHVlLCBOT19DSEFOR0UsICdJbmNvbWluZyB2YWx1ZSBzaG91bGQgbmV2ZXIgYmUgTk9fQ0hBTkdFLicpO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRMZXNzVGhhbihiaW5kaW5nSW5kZXgsIGxWaWV3Lmxlbmd0aCwgYFNsb3Qgc2hvdWxkIGhhdmUgYmVlbiBpbml0aWFsaXplZCB0byBOT19DSEFOR0VgKTtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IGxWaWV3W2JpbmRpbmdJbmRleF07XG4gICAgaWYgKE9iamVjdC5pcyhvbGRWYWx1ZSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSgpKSB7XG4gICAgICAgICAgICAvLyBWaWV3IGVuZ2luZSBkaWRuJ3QgcmVwb3J0IHVuZGVmaW5lZCB2YWx1ZXMgYXMgY2hhbmdlZCBvbiB0aGUgZmlyc3QgY2hlY2tOb0NoYW5nZXMgcGFzc1xuICAgICAgICAgICAgLy8gKGJlZm9yZSB0aGUgY2hhbmdlIGRldGVjdGlvbiB3YXMgcnVuKS5cbiAgICAgICAgICAgIGNvbnN0IG9sZFZhbHVlVG9Db21wYXJlID0gb2xkVmFsdWUgIT09IE5PX0NIQU5HRSA/IG9sZFZhbHVlIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKCFkZXZNb2RlRXF1YWwob2xkVmFsdWVUb0NvbXBhcmUsIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRldGFpbHMgPSBnZXRFeHByZXNzaW9uQ2hhbmdlZEVycm9yRGV0YWlscyhsVmlldywgYmluZGluZ0luZGV4LCBvbGRWYWx1ZVRvQ29tcGFyZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHRocm93RXJyb3JJZk5vQ2hhbmdlc01vZGUob2xkVmFsdWUgPT09IE5PX0NIQU5HRSwgZGV0YWlscy5vbGRWYWx1ZSwgZGV0YWlscy5uZXdWYWx1ZSwgZGV0YWlscy5wcm9wTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGVyZSB3YXMgYSBjaGFuZ2UsIGJ1dCB0aGUgYGRldk1vZGVFcXVhbGAgZGVjaWRlZCB0aGF0IHRoZSBjaGFuZ2UgaXMgZXhlbXB0IGZyb20gYW4gZXJyb3IuXG4gICAgICAgICAgICAvLyBGb3IgdGhpcyByZWFzb24gd2UgZXhpdCBhcyBpZiBubyBjaGFuZ2UuIFRoZSBlYXJseSBleGl0IGlzIG5lZWRlZCB0byBwcmV2ZW50IHRoZSBjaGFuZ2VkXG4gICAgICAgICAgICAvLyB2YWx1ZSB0byBiZSB3cml0dGVuIGludG8gYExWaWV3YCAoSWYgd2Ugd291bGQgd3JpdGUgdGhlIG5ldyB2YWx1ZSB0aGF0IHdlIHdvdWxkIG5vdCBzZWUgaXRcbiAgICAgICAgICAgIC8vIGFzIGNoYW5nZSBvbiBuZXh0IENELilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsVmlld1tiaW5kaW5nSW5kZXhdID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbi8qKiBVcGRhdGVzIDIgYmluZGluZ3MgaWYgY2hhbmdlZCwgdGhlbiByZXR1cm5zIHdoZXRoZXIgZWl0aGVyIHdhcyB1cGRhdGVkLiAqL1xuZnVuY3Rpb24gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIpIHtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4LCBleHAxKTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCArIDEsIGV4cDIpIHx8IGRpZmZlcmVudDtcbn1cbi8qKiBVcGRhdGVzIDMgYmluZGluZ3MgaWYgY2hhbmdlZCwgdGhlbiByZXR1cm5zIHdoZXRoZXIgYW55IHdhcyB1cGRhdGVkLiAqL1xuZnVuY3Rpb24gYmluZGluZ1VwZGF0ZWQzKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIsIGV4cDMpIHtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMik7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXggKyAyLCBleHAzKSB8fCBkaWZmZXJlbnQ7XG59XG4vKiogVXBkYXRlcyA0IGJpbmRpbmdzIGlmIGNoYW5nZWQsIHRoZW4gcmV0dXJucyB3aGV0aGVyIGFueSB3YXMgdXBkYXRlZC4gKi9cbmZ1bmN0aW9uIGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzLCBleHA0KSB7XG4gICAgY29uc3QgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIpO1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCArIDIsIGV4cDMsIGV4cDQpIHx8IGRpZmZlcmVudDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHZhbHVlIG9mIG9yIHJlbW92ZXMgYSBib3VuZCBhdHRyaWJ1dGUgb24gYW4gRWxlbWVudC5cbiAqXG4gKiBVc2VkIGluIHRoZSBjYXNlIG9mIGBbYXR0ci50aXRsZV09XCJ2YWx1ZVwiYFxuICpcbiAqIEBwYXJhbSBuYW1lIG5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZS5cbiAqIEBwYXJhbSB2YWx1ZSB2YWx1ZSBUaGUgYXR0cmlidXRlIGlzIHJlbW92ZWQgd2hlbiB2YWx1ZSBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuXG4gKiAgICAgICAgICAgICAgICAgIE90aGVyd2lzZSB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHNldCB0byB0aGUgc3RyaW5naWZpZWQgdmFsdWUuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIGZ1bmN0aW9uIHVzZWQgdG8gc2FuaXRpemUgdGhlIHZhbHVlLlxuICogQHBhcmFtIG5hbWVzcGFjZSBPcHRpb25hbCBuYW1lc3BhY2UgdG8gdXNlIHdoZW4gc2V0dGluZyB0aGUgYXR0cmlidXRlLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGUobmFtZSwgdmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IG5leHRCaW5kaW5nSW5kZXgoKTtcbiAgICBpZiAoYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCwgdmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCh0Tm9kZSwgbFZpZXcsIG5hbWUsIHZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCAnYXR0ci4nICsgbmFtZSwgYmluZGluZ0luZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVhdHRyaWJ1dGU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDcmVhdGUgaW50ZXJwb2xhdGlvbiBiaW5kaW5ncyB3aXRoIGEgdmFyaWFibGUgbnVtYmVyIG9mIGV4cHJlc3Npb25zLlxuICpcbiAqIElmIHRoZXJlIGFyZSAxIHRvIDggZXhwcmVzc2lvbnMgYGludGVycG9sYXRpb24xKClgIHRvIGBpbnRlcnBvbGF0aW9uOCgpYCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkLlxuICogVGhvc2UgYXJlIGZhc3RlciBiZWNhdXNlIHRoZXJlIGlzIG5vIG5lZWQgdG8gY3JlYXRlIGFuIGFycmF5IG9mIGV4cHJlc3Npb25zIGFuZCBpdGVyYXRlIG92ZXIgaXQuXG4gKlxuICogYHZhbHVlc2A6XG4gKiAtIGhhcyBzdGF0aWMgdGV4dCBhdCBldmVuIGluZGV4ZXMsXG4gKiAtIGhhcyBldmFsdWF0ZWQgZXhwcmVzc2lvbnMgYXQgb2RkIGluZGV4ZXMuXG4gKlxuICogUmV0dXJucyB0aGUgY29uY2F0ZW5hdGVkIHN0cmluZyB3aGVuIGFueSBvZiB0aGUgYXJndW1lbnRzIGNoYW5nZXMsIGBOT19DSEFOR0VgIG90aGVyd2lzZS5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvblYobFZpZXcsIHZhbHVlcykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMZXNzVGhhbigyLCB2YWx1ZXMubGVuZ3RoLCAnc2hvdWxkIGhhdmUgYXQgbGVhc3QgMyB2YWx1ZXMnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwodmFsdWVzLmxlbmd0aCAlIDIsIDEsICdzaG91bGQgaGF2ZSBhbiBvZGQgbnVtYmVyIG9mIHZhbHVlcycpO1xuICAgIGxldCBpc0JpbmRpbmdVcGRhdGVkID0gZmFsc2U7XG4gICAgbGV0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdJbmRleCgpO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGJpbmRpbmdzIChvZGQgaW5kZXhlcykgaGF2ZSBjaGFuZ2VkXG4gICAgICAgIGlzQmluZGluZ1VwZGF0ZWQgPSBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4KyssIHZhbHVlc1tpXSkgfHwgaXNCaW5kaW5nVXBkYXRlZDtcbiAgICB9XG4gICAgc2V0QmluZGluZ0luZGV4KGJpbmRpbmdJbmRleCk7XG4gICAgaWYgKCFpc0JpbmRpbmdVcGRhdGVkKSB7XG4gICAgICAgIHJldHVybiBOT19DSEFOR0U7XG4gICAgfVxuICAgIC8vIEJ1aWxkIHRoZSB1cGRhdGVkIGNvbnRlbnRcbiAgICBsZXQgY29udGVudCA9IHZhbHVlc1swXTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBjb250ZW50ICs9IHJlbmRlclN0cmluZ2lmeSh2YWx1ZXNbaV0pICsgdmFsdWVzW2kgKyAxXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggMSBleHByZXNzaW9uLlxuICpcbiAqIEBwYXJhbSBwcmVmaXggc3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCB2YWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IHN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb24xKGxWaWV3LCBwcmVmaXgsIHYwLCBzdWZmaXgpIHtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZChsVmlldywgbmV4dEJpbmRpbmdJbmRleCgpLCB2MCk7XG4gICAgcmV0dXJuIGRpZmZlcmVudCA/IHByZWZpeCArIHJlbmRlclN0cmluZ2lmeSh2MCkgKyBzdWZmaXggOiBOT19DSEFOR0U7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggMiBleHByZXNzaW9ucy5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvbjIobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ0luZGV4KCk7XG4gICAgY29uc3QgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSk7XG4gICAgaW5jcmVtZW50QmluZGluZ0luZGV4KDIpO1xuICAgIHJldHVybiBkaWZmZXJlbnQgPyBwcmVmaXggKyByZW5kZXJTdHJpbmdpZnkodjApICsgaTAgKyByZW5kZXJTdHJpbmdpZnkodjEpICsgc3VmZml4IDogTk9fQ0hBTkdFO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGludGVycG9sYXRpb24gYmluZGluZyB3aXRoIDMgZXhwcmVzc2lvbnMuXG4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb24zKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ0luZGV4KCk7XG4gICAgY29uc3QgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQzKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSwgdjIpO1xuICAgIGluY3JlbWVudEJpbmRpbmdJbmRleCgzKTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID9cbiAgICAgICAgcHJlZml4ICsgcmVuZGVyU3RyaW5naWZ5KHYwKSArIGkwICsgcmVuZGVyU3RyaW5naWZ5KHYxKSArIGkxICsgcmVuZGVyU3RyaW5naWZ5KHYyKSArIHN1ZmZpeCA6XG4gICAgICAgIE5PX0NIQU5HRTtcbn1cbi8qKlxuICogQ3JlYXRlIGFuIGludGVycG9sYXRpb24gYmluZGluZyB3aXRoIDQgZXhwcmVzc2lvbnMuXG4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb240KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nSW5kZXgoKTtcbiAgICBjb25zdCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgdjAsIHYxLCB2MiwgdjMpO1xuICAgIGluY3JlbWVudEJpbmRpbmdJbmRleCg0KTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID8gcHJlZml4ICsgcmVuZGVyU3RyaW5naWZ5KHYwKSArIGkwICsgcmVuZGVyU3RyaW5naWZ5KHYxKSArIGkxICtcbiAgICAgICAgcmVuZGVyU3RyaW5naWZ5KHYyKSArIGkyICsgcmVuZGVyU3RyaW5naWZ5KHYzKSArIHN1ZmZpeCA6XG4gICAgICAgIE5PX0NIQU5HRTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBpbnRlcnBvbGF0aW9uIGJpbmRpbmcgd2l0aCA1IGV4cHJlc3Npb25zLlxuICovXG5mdW5jdGlvbiBpbnRlcnBvbGF0aW9uNShsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nSW5kZXgoKTtcbiAgICBsZXQgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSwgdjIsIHYzKTtcbiAgICBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4ICsgNCwgdjQpIHx8IGRpZmZlcmVudDtcbiAgICBpbmNyZW1lbnRCaW5kaW5nSW5kZXgoNSk7XG4gICAgcmV0dXJuIGRpZmZlcmVudCA/IHByZWZpeCArIHJlbmRlclN0cmluZ2lmeSh2MCkgKyBpMCArIHJlbmRlclN0cmluZ2lmeSh2MSkgKyBpMSArXG4gICAgICAgIHJlbmRlclN0cmluZ2lmeSh2MikgKyBpMiArIHJlbmRlclN0cmluZ2lmeSh2MykgKyBpMyArIHJlbmRlclN0cmluZ2lmeSh2NCkgKyBzdWZmaXggOlxuICAgICAgICBOT19DSEFOR0U7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggNiBleHByZXNzaW9ucy5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvbjYobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nSW5kZXgoKTtcbiAgICBsZXQgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSwgdjIsIHYzKTtcbiAgICBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIHY0LCB2NSkgfHwgZGlmZmVyZW50O1xuICAgIGluY3JlbWVudEJpbmRpbmdJbmRleCg2KTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID9cbiAgICAgICAgcHJlZml4ICsgcmVuZGVyU3RyaW5naWZ5KHYwKSArIGkwICsgcmVuZGVyU3RyaW5naWZ5KHYxKSArIGkxICsgcmVuZGVyU3RyaW5naWZ5KHYyKSArIGkyICtcbiAgICAgICAgICAgIHJlbmRlclN0cmluZ2lmeSh2MykgKyBpMyArIHJlbmRlclN0cmluZ2lmeSh2NCkgKyBpNCArIHJlbmRlclN0cmluZ2lmeSh2NSkgKyBzdWZmaXggOlxuICAgICAgICBOT19DSEFOR0U7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggNyBleHByZXNzaW9ucy5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvbjcobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdJbmRleCgpO1xuICAgIGxldCBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgdjAsIHYxLCB2MiwgdjMpO1xuICAgIGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkMyhsVmlldywgYmluZGluZ0luZGV4ICsgNCwgdjQsIHY1LCB2NikgfHwgZGlmZmVyZW50O1xuICAgIGluY3JlbWVudEJpbmRpbmdJbmRleCg3KTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID8gcHJlZml4ICsgcmVuZGVyU3RyaW5naWZ5KHYwKSArIGkwICsgcmVuZGVyU3RyaW5naWZ5KHYxKSArIGkxICtcbiAgICAgICAgcmVuZGVyU3RyaW5naWZ5KHYyKSArIGkyICsgcmVuZGVyU3RyaW5naWZ5KHYzKSArIGkzICsgcmVuZGVyU3RyaW5naWZ5KHY0KSArIGk0ICtcbiAgICAgICAgcmVuZGVyU3RyaW5naWZ5KHY1KSArIGk1ICsgcmVuZGVyU3RyaW5naWZ5KHY2KSArIHN1ZmZpeCA6XG4gICAgICAgIE5PX0NIQU5HRTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBpbnRlcnBvbGF0aW9uIGJpbmRpbmcgd2l0aCA4IGV4cHJlc3Npb25zLlxuICovXG5mdW5jdGlvbiBpbnRlcnBvbGF0aW9uOChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nSW5kZXgoKTtcbiAgICBsZXQgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSwgdjIsIHYzKTtcbiAgICBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIHY0LCB2NSwgdjYsIHY3KSB8fCBkaWZmZXJlbnQ7XG4gICAgaW5jcmVtZW50QmluZGluZ0luZGV4KDgpO1xuICAgIHJldHVybiBkaWZmZXJlbnQgPyBwcmVmaXggKyByZW5kZXJTdHJpbmdpZnkodjApICsgaTAgKyByZW5kZXJTdHJpbmdpZnkodjEpICsgaTEgK1xuICAgICAgICByZW5kZXJTdHJpbmdpZnkodjIpICsgaTIgKyByZW5kZXJTdHJpbmdpZnkodjMpICsgaTMgKyByZW5kZXJTdHJpbmdpZnkodjQpICsgaTQgK1xuICAgICAgICByZW5kZXJTdHJpbmdpZnkodjUpICsgaTUgKyByZW5kZXJTdHJpbmdpZnkodjYpICsgaTYgKyByZW5kZXJTdHJpbmdpZnkodjcpICsgc3VmZml4IDpcbiAgICAgICAgTk9fQ0hBTkdFO1xufVxuXG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50IHdpdGggc2luZ2xlIGJvdW5kIHZhbHVlIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAxIGludGVycG9sYXRlZCB2YWx1ZSBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGF0dHIudGl0bGU9XCJwcmVmaXh7e3YwfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTEoJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXR0ck5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMShhdHRyTmFtZSwgcHJlZml4LCB2MCwgc3VmZml4LCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24xKGxWaWV3LCBwcmVmaXgsIHYwLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBhdHRyTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKGdldFRWaWV3KCkuZGF0YSwgdE5vZGUsICdhdHRyLicgKyBhdHRyTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSAxLCBwcmVmaXgsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUxO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBhdHRyaWJ1dGUgb24gYW4gZWxlbWVudCB3aXRoIDIgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAyIGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBhdHRyLnRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMigndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdHRyTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUyKGF0dHJOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBhdHRyTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKGdldFRWaWV3KCkuZGF0YSwgdE5vZGUsICdhdHRyLicgKyBhdHRyTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSAyLCBwcmVmaXgsIGkwLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMjtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCAzIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUzKFxuICogJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXR0ck5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMyhhdHRyTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCh0Tm9kZSwgbFZpZXcsIGF0dHJOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgc2FuaXRpemVyLCBuYW1lc3BhY2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEoZ2V0VFZpZXcoKS5kYXRhLCB0Tm9kZSwgJ2F0dHIuJyArIGF0dHJOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDMsIHByZWZpeCwgaTAsIGkxLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMztcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA0IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNChcbiAqICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF0dHJOYW1lIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTQoYXR0ck5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgYXR0ck5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YShnZXRUVmlldygpLmRhdGEsIHROb2RlLCAnYXR0ci4nICsgYXR0ck5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gNCwgcHJlZml4LCBpMCwgaTEsIGkyLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNDtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA1IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNSBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTUoXG4gKiAndGl0bGUnLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdHRyTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU1KGF0dHJOYW1lLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNShsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBhdHRyTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIHNhbml0aXplciwgbmFtZXNwYWNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKGdldFRWaWV3KCkuZGF0YSwgdE5vZGUsICdhdHRyLicgKyBhdHRyTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSA1LCBwcmVmaXgsIGkwLCBpMSwgaTIsIGkzLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA2IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU2KFxuICogICAgJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXR0ck5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNihhdHRyTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCh0Tm9kZSwgbFZpZXcsIGF0dHJOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgc2FuaXRpemVyLCBuYW1lc3BhY2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEoZ2V0VFZpZXcoKS5kYXRhLCB0Tm9kZSwgJ2F0dHIuJyArIGF0dHJOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDYsIHByZWZpeCwgaTAsIGkxLCBpMiwgaTMsIGk0LCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNjtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA3IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNyhcbiAqICAgICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF0dHJOYW1lIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTcoYXR0ck5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCwgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgYXR0ck5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YShnZXRUVmlldygpLmRhdGEsIHROb2RlLCAnYXR0ci4nICsgYXR0ck5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gNywgcHJlZml4LCBpMCwgaTEsIGkyLCBpMywgaTQsIGk1LCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNztcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA4IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgOCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgYXR0ci50aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fS17e3Y3fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTgoXG4gKiAgJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnLScsIHY3LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXR0ck5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTYgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlOChhdHRyTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgsIHNhbml0aXplciwgbmFtZXNwYWNlKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjgobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudEF0dHJpYnV0ZUludGVybmFsKHROb2RlLCBsVmlldywgYXR0ck5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YShnZXRUVmlldygpLmRhdGEsIHROb2RlLCAnYXR0ci4nICsgYXR0ck5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gOCwgcHJlZml4LCBpMCwgaTEsIGkyLCBpMywgaTQsIGk1LCBpNiwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTg7XG59XG4vKipcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgd2l0aCA5IG9yIG1vcmUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIG51bWJlciBvZiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGV4Y2VlZHMgOC5cbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2XG4gKiAgdGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX0te3t2N319LXt7djh9fS17e3Y5fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZVYoXG4gKiAgJ3RpdGxlJywgWydwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJy0nLCB2NywgJy0nLCB2OSxcbiAqICAnc3VmZml4J10pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF0dHJOYW1lIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gdXBkYXRlLlxuICogQHBhcmFtIHZhbHVlcyBUaGUgY29sbGVjdGlvbiBvZiB2YWx1ZXMgYW5kIHRoZSBzdHJpbmdzIGluLWJldHdlZW4gdGhvc2UgdmFsdWVzLCBiZWdpbm5pbmcgd2l0aFxuICogYSBzdHJpbmcgcHJlZml4IGFuZCBlbmRpbmcgd2l0aCBhIHN0cmluZyBzdWZmaXguXG4gKiAoZS5nLiBgWydwcmVmaXgnLCB2YWx1ZTAsICctJywgdmFsdWUxLCAnLScsIHZhbHVlMiwgLi4uLCB2YWx1ZTk5LCAnc3VmZml4J11gKVxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZVYoYXR0ck5hbWUsIHZhbHVlcywgc2FuaXRpemVyLCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvblYobFZpZXcsIHZhbHVlcyk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50QXR0cmlidXRlSW50ZXJuYWwodE5vZGUsIGxWaWV3LCBhdHRyTmFtZSwgaW50ZXJwb2xhdGVkLCBzYW5pdGl6ZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGludGVycG9sYXRpb25JbkJldHdlZW4gPSBbdmFsdWVzWzBdXTsgLy8gcHJlZml4XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMjsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIGludGVycG9sYXRpb25JbkJldHdlZW4ucHVzaCh2YWx1ZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YShnZXRUVmlldygpLmRhdGEsIHROb2RlLCAnYXR0ci4nICsgYXR0ck5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gaW50ZXJwb2xhdGlvbkluQmV0d2Vlbi5sZW5ndGggKyAxLCAuLi5pbnRlcnBvbGF0aW9uSW5CZXR3ZWVuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gybXJtWF0dHJpYnV0ZUludGVycG9sYXRlVjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiB0ZW1wbGF0ZUZpcnN0Q3JlYXRlUGFzcyhpbmRleCwgdFZpZXcsIGxWaWV3LCB0ZW1wbGF0ZUZuLCBkZWNscywgdmFycywgdGFnTmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLmZpcnN0Q3JlYXRlUGFzcysrO1xuICAgIGNvbnN0IHRWaWV3Q29uc3RzID0gdFZpZXcuY29uc3RzO1xuICAgIC8vIFRPRE8ocGspOiByZWZhY3RvciBnZXRPckNyZWF0ZVROb2RlIHRvIGhhdmUgdGhlIFwiY3JlYXRlXCIgb25seSB2ZXJzaW9uXG4gICAgY29uc3QgdE5vZGUgPSBnZXRPckNyZWF0ZVROb2RlKHRWaWV3LCBpbmRleCwgNCAvKiBDb250YWluZXIgKi8sIHRhZ05hbWUgfHwgbnVsbCwgZ2V0Q29uc3RhbnQodFZpZXdDb25zdHMsIGF0dHJzSW5kZXgpKTtcbiAgICByZXNvbHZlRGlyZWN0aXZlcyh0VmlldywgbFZpZXcsIHROb2RlLCBnZXRDb25zdGFudCh0Vmlld0NvbnN0cywgbG9jYWxSZWZzSW5kZXgpKTtcbiAgICByZWdpc3RlclBvc3RPcmRlckhvb2tzKHRWaWV3LCB0Tm9kZSk7XG4gICAgY29uc3QgZW1iZWRkZWRUVmlldyA9IHROb2RlLnRWaWV3cyA9IGNyZWF0ZVRWaWV3KDIgLyogRW1iZWRkZWQgKi8sIHROb2RlLCB0ZW1wbGF0ZUZuLCBkZWNscywgdmFycywgdFZpZXcuZGlyZWN0aXZlUmVnaXN0cnksIHRWaWV3LnBpcGVSZWdpc3RyeSwgbnVsbCwgdFZpZXcuc2NoZW1hcywgdFZpZXdDb25zdHMpO1xuICAgIGlmICh0Vmlldy5xdWVyaWVzICE9PSBudWxsKSB7XG4gICAgICAgIHRWaWV3LnF1ZXJpZXMudGVtcGxhdGUodFZpZXcsIHROb2RlKTtcbiAgICAgICAgZW1iZWRkZWRUVmlldy5xdWVyaWVzID0gdFZpZXcucXVlcmllcy5lbWJlZGRlZFRWaWV3KHROb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHROb2RlO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIExDb250YWluZXIgZm9yIGFuIG5nLXRlbXBsYXRlIChkeW5hbWljYWxseS1pbnNlcnRlZCB2aWV3KSwgZS5nLlxuICpcbiAqIDxuZy10ZW1wbGF0ZSAjZm9vPlxuICogICAgPGRpdj48L2Rpdj5cbiAqIDwvbmctdGVtcGxhdGU+XG4gKlxuICogQHBhcmFtIGluZGV4IFRoZSBpbmRleCBvZiB0aGUgY29udGFpbmVyIGluIHRoZSBkYXRhIGFycmF5XG4gKiBAcGFyYW0gdGVtcGxhdGVGbiBJbmxpbmUgdGVtcGxhdGVcbiAqIEBwYXJhbSBkZWNscyBUaGUgbnVtYmVyIG9mIG5vZGVzLCBsb2NhbCByZWZzLCBhbmQgcGlwZXMgZm9yIHRoaXMgdGVtcGxhdGVcbiAqIEBwYXJhbSB2YXJzIFRoZSBudW1iZXIgb2YgYmluZGluZ3MgZm9yIHRoaXMgdGVtcGxhdGVcbiAqIEBwYXJhbSB0YWdOYW1lIFRoZSBuYW1lIG9mIHRoZSBjb250YWluZXIgZWxlbWVudCwgaWYgYXBwbGljYWJsZVxuICogQHBhcmFtIGF0dHJzSW5kZXggSW5kZXggb2YgdGVtcGxhdGUgYXR0cmlidXRlcyBpbiB0aGUgYGNvbnN0c2AgYXJyYXkuXG4gKiBAcGFyYW0gbG9jYWxSZWZzIEluZGV4IG9mIHRoZSBsb2NhbCByZWZlcmVuY2VzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqIEBwYXJhbSBsb2NhbFJlZkV4dHJhY3RvciBBIGZ1bmN0aW9uIHdoaWNoIGV4dHJhY3RzIGxvY2FsLXJlZnMgdmFsdWVzIGZyb20gdGhlIHRlbXBsYXRlLlxuICogICAgICAgIERlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGVsZW1lbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBsb2NhbC1yZWYuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRlbXBsYXRlKGluZGV4LCB0ZW1wbGF0ZUZuLCBkZWNscywgdmFycywgdGFnTmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgsIGxvY2FsUmVmRXh0cmFjdG9yKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIGNvbnN0IHROb2RlID0gdFZpZXcuZmlyc3RDcmVhdGVQYXNzID8gdGVtcGxhdGVGaXJzdENyZWF0ZVBhc3MoYWRqdXN0ZWRJbmRleCwgdFZpZXcsIGxWaWV3LCB0ZW1wbGF0ZUZuLCBkZWNscywgdmFycywgdGFnTmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIDpcbiAgICAgICAgdFZpZXcuZGF0YVthZGp1c3RlZEluZGV4XTtcbiAgICBzZXRDdXJyZW50VE5vZGUodE5vZGUsIGZhbHNlKTtcbiAgICBjb25zdCBjb21tZW50ID0gbFZpZXdbUkVOREVSRVJdLmNyZWF0ZUNvbW1lbnQobmdEZXZNb2RlID8gJ2NvbnRhaW5lcicgOiAnJyk7XG4gICAgYXBwZW5kQ2hpbGQodFZpZXcsIGxWaWV3LCBjb21tZW50LCB0Tm9kZSk7XG4gICAgYXR0YWNoUGF0Y2hEYXRhKGNvbW1lbnQsIGxWaWV3KTtcbiAgICBhZGRUb1ZpZXdUcmVlKGxWaWV3LCBsVmlld1thZGp1c3RlZEluZGV4XSA9IGNyZWF0ZUxDb250YWluZXIoY29tbWVudCwgbFZpZXcsIGNvbW1lbnQsIHROb2RlKSk7XG4gICAgaWYgKGlzRGlyZWN0aXZlSG9zdCh0Tm9kZSkpIHtcbiAgICAgICAgY3JlYXRlRGlyZWN0aXZlc0luc3RhbmNlcyh0VmlldywgbFZpZXcsIHROb2RlKTtcbiAgICB9XG4gICAgaWYgKGxvY2FsUmVmc0luZGV4ICE9IG51bGwpIHtcbiAgICAgICAgc2F2ZVJlc29sdmVkTG9jYWxzSW5EYXRhKGxWaWV3LCB0Tm9kZSwgbG9jYWxSZWZFeHRyYWN0b3IpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKiogU3RvcmUgYSB2YWx1ZSBpbiB0aGUgYGRhdGFgIGF0IGEgZ2l2ZW4gYGluZGV4YC4gKi9cbmZ1bmN0aW9uIHN0b3JlKHRWaWV3LCBsVmlldywgaW5kZXgsIHZhbHVlKSB7XG4gICAgLy8gV2UgZG9uJ3Qgc3RvcmUgYW55IHN0YXRpYyBkYXRhIGZvciBsb2NhbCB2YXJpYWJsZXMsIHNvIHRoZSBmaXJzdCB0aW1lXG4gICAgLy8gd2Ugc2VlIHRoZSB0ZW1wbGF0ZSwgd2Ugc2hvdWxkIHN0b3JlIGFzIG51bGwgdG8gYXZvaWQgYSBzcGFyc2UgYXJyYXlcbiAgICBpZiAoaW5kZXggPj0gdFZpZXcuZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgdFZpZXcuZGF0YVtpbmRleF0gPSBudWxsO1xuICAgICAgICB0Vmlldy5ibHVlcHJpbnRbaW5kZXhdID0gbnVsbDtcbiAgICB9XG4gICAgbFZpZXdbaW5kZXhdID0gdmFsdWU7XG59XG4vKipcbiAqIFJldHJpZXZlcyBhIGxvY2FsIHJlZmVyZW5jZSBmcm9tIHRoZSBjdXJyZW50IGNvbnRleHRWaWV3RGF0YS5cbiAqXG4gKiBJZiB0aGUgcmVmZXJlbmNlIHRvIHJldHJpZXZlIGlzIGluIGEgcGFyZW50IHZpZXcsIHRoaXMgaW5zdHJ1Y3Rpb24gaXMgdXNlZCBpbiBjb25qdW5jdGlvblxuICogd2l0aCBhIG5leHRDb250ZXh0KCkgY2FsbCwgd2hpY2ggd2Fsa3MgdXAgdGhlIHRyZWUgYW5kIHVwZGF0ZXMgdGhlIGNvbnRleHRWaWV3RGF0YSBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBsb2NhbCByZWYgaW4gY29udGV4dFZpZXdEYXRhLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVyZWZlcmVuY2UoaW5kZXgpIHtcbiAgICBjb25zdCBjb250ZXh0TFZpZXcgPSBnZXRDb250ZXh0TFZpZXcoKTtcbiAgICByZXR1cm4gbG9hZChjb250ZXh0TFZpZXcsIEhFQURFUl9PRkZTRVQgKyBpbmRleCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIG1hcHBpbmcgb2YgdGhlIEBhbmd1bGFyL2NvcmUgQVBJIHN1cmZhY2UgdXNlZCBpbiBnZW5lcmF0ZWQgZXhwcmVzc2lvbnMgdG8gdGhlIGFjdHVhbCBzeW1ib2xzLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGtlcHQgdXAgdG8gZGF0ZSB3aXRoIHRoZSBwdWJsaWMgZXhwb3J0cyBvZiBAYW5ndWxhci9jb3JlLlxuICovXG5jb25zdCBhbmd1bGFyQ29yZURpRW52ID0ge1xuICAgICfJtcm1ZGVmaW5lSW5qZWN0YWJsZSc6IMm1ybVkZWZpbmVJbmplY3RhYmxlLFxuICAgICfJtcm1ZGVmaW5lSW5qZWN0b3InOiDJtcm1ZGVmaW5lSW5qZWN0b3IsXG4gICAgJ8m1ybVpbmplY3QnOiDJtcm1aW5qZWN0LFxuICAgICfJtcm1aW52YWxpZEZhY3RvcnlEZXAnOiDJtcm1aW52YWxpZEZhY3RvcnlEZXAsXG4gICAgJ3Jlc29sdmVGb3J3YXJkUmVmJzogcmVzb2x2ZUZvcndhcmRSZWYsXG59O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29tcGlsZSBhbiBBbmd1bGFyIGluamVjdGFibGUgYWNjb3JkaW5nIHRvIGl0cyBgSW5qZWN0YWJsZWAgbWV0YWRhdGEsIGFuZCBwYXRjaCB0aGUgcmVzdWx0aW5nXG4gKiBpbmplY3RhYmxlIGRlZiAoYMm1cHJvdmApIG9udG8gdGhlIGluamVjdGFibGUgdHlwZS5cbiAqL1xuZnVuY3Rpb24gY29tcGlsZUluamVjdGFibGUodHlwZSwgbWV0YSkge1xuICAgIGxldCBuZ0luamVjdGFibGVEZWYgPSBudWxsO1xuICAgIGxldCBuZ0ZhY3RvcnlEZWYgPSBudWxsO1xuICAgIC8vIGlmIE5HX1BST1ZfREVGIGlzIGFscmVhZHkgZGVmaW5lZCBvbiB0aGlzIGNsYXNzIHRoZW4gZG9uJ3Qgb3ZlcndyaXRlIGl0XG4gICAgaWYgKCF0eXBlLmhhc093blByb3BlcnR5KE5HX1BST1ZfREVGKSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgTkdfUFJPVl9ERUYsIHtcbiAgICAgICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChuZ0luamVjdGFibGVEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAwIC8qIERlY29yYXRvciAqLywga2luZDogJ2luamVjdGFibGUnLCB0eXBlIH0pO1xuICAgICAgICAgICAgICAgICAgICBuZ0luamVjdGFibGVEZWYgPSBjb21waWxlci5jb21waWxlSW5qZWN0YWJsZShhbmd1bGFyQ29yZURpRW52LCBgbmc6Ly8vJHt0eXBlLm5hbWV9L8m1cHJvdi5qc2AsIGdldEluamVjdGFibGVNZXRhZGF0YSh0eXBlLCBtZXRhKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZ0luamVjdGFibGVEZWY7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gaWYgTkdfRkFDVE9SWV9ERUYgaXMgYWxyZWFkeSBkZWZpbmVkIG9uIHRoaXMgY2xhc3MgdGhlbiBkb24ndCBvdmVyd3JpdGUgaXRcbiAgICBpZiAoIXR5cGUuaGFzT3duUHJvcGVydHkoTkdfRkFDVE9SWV9ERUYpKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBOR19GQUNUT1JZX0RFRiwge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG5nRmFjdG9yeURlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnaW5qZWN0YWJsZScsIHR5cGUgfSk7XG4gICAgICAgICAgICAgICAgICAgIG5nRmFjdG9yeURlZiA9IGNvbXBpbGVyLmNvbXBpbGVGYWN0b3J5KGFuZ3VsYXJDb3JlRGlFbnYsIGBuZzovLy8ke3R5cGUubmFtZX0vybVmYWMuanNgLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0eXBlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUFyZ3VtZW50Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXBzOiByZWZsZWN0RGVwZW5kZW5jaWVzKHR5cGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBjb21waWxlci5GYWN0b3J5VGFyZ2V0LkluamVjdGFibGVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZ0ZhY3RvcnlEZWY7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gTGVhdmUgdGhpcyBjb25maWd1cmFibGUgc28gdGhhdCB0aGUgZmFjdG9yaWVzIGZyb20gZGlyZWN0aXZlcyBvciBwaXBlcyBjYW4gdGFrZSBwcmVjZWRlbmNlLlxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNvbnN0IFVTRV9WQUxVRSA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyBwcm92aWRlOiBTdHJpbmcsIHVzZVZhbHVlOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuZnVuY3Rpb24gaXNVc2VDbGFzc1Byb3ZpZGVyKG1ldGEpIHtcbiAgICByZXR1cm4gbWV0YS51c2VDbGFzcyAhPT0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gaXNVc2VWYWx1ZVByb3ZpZGVyKG1ldGEpIHtcbiAgICByZXR1cm4gVVNFX1ZBTFVFIGluIG1ldGE7XG59XG5mdW5jdGlvbiBpc1VzZUZhY3RvcnlQcm92aWRlcihtZXRhKSB7XG4gICAgcmV0dXJuIG1ldGEudXNlRmFjdG9yeSAhPT0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gaXNVc2VFeGlzdGluZ1Byb3ZpZGVyKG1ldGEpIHtcbiAgICByZXR1cm4gbWV0YS51c2VFeGlzdGluZyAhPT0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gZ2V0SW5qZWN0YWJsZU1ldGFkYXRhKHR5cGUsIHNyY01ldGEpIHtcbiAgICAvLyBBbGxvdyB0aGUgY29tcGlsYXRpb24gb2YgYSBjbGFzcyB3aXRoIGEgYEBJbmplY3RhYmxlKClgIGRlY29yYXRvciB3aXRob3V0IHBhcmFtZXRlcnNcbiAgICBjb25zdCBtZXRhID0gc3JjTWV0YSB8fCB7IHByb3ZpZGVkSW46IG51bGwgfTtcbiAgICBjb25zdCBjb21waWxlck1ldGEgPSB7XG4gICAgICAgIG5hbWU6IHR5cGUubmFtZSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgdHlwZUFyZ3VtZW50Q291bnQ6IDAsXG4gICAgICAgIHByb3ZpZGVkSW46IG1ldGEucHJvdmlkZWRJbixcbiAgICB9O1xuICAgIGlmICgoaXNVc2VDbGFzc1Byb3ZpZGVyKG1ldGEpIHx8IGlzVXNlRmFjdG9yeVByb3ZpZGVyKG1ldGEpKSAmJiBtZXRhLmRlcHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb21waWxlck1ldGEuZGVwcyA9IGNvbnZlcnREZXBlbmRlbmNpZXMobWV0YS5kZXBzKTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSB1c2VyIGV4cGxpY2l0bHkgcHJvdmlkZWQgYSBgdXNlWHh4eGAgcHJvcGVydHkuXG4gICAgaWYgKGlzVXNlQ2xhc3NQcm92aWRlcihtZXRhKSkge1xuICAgICAgICBjb21waWxlck1ldGEudXNlQ2xhc3MgPSBtZXRhLnVzZUNsYXNzO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1VzZVZhbHVlUHJvdmlkZXIobWV0YSkpIHtcbiAgICAgICAgY29tcGlsZXJNZXRhLnVzZVZhbHVlID0gbWV0YS51c2VWYWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNVc2VGYWN0b3J5UHJvdmlkZXIobWV0YSkpIHtcbiAgICAgICAgY29tcGlsZXJNZXRhLnVzZUZhY3RvcnkgPSBtZXRhLnVzZUZhY3Rvcnk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzVXNlRXhpc3RpbmdQcm92aWRlcihtZXRhKSkge1xuICAgICAgICBjb21waWxlck1ldGEudXNlRXhpc3RpbmcgPSBtZXRhLnVzZUV4aXN0aW5nO1xuICAgIH1cbiAgICByZXR1cm4gY29tcGlsZXJNZXRhO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogSW5qZWN0YWJsZSBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEluamVjdGFibGUgPSBtYWtlRGVjb3JhdG9yKCdJbmplY3RhYmxlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgKHR5cGUsIG1ldGEpID0+IGNvbXBpbGVJbmplY3RhYmxlKHR5cGUsIG1ldGEpKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBmaW5kRmlyc3RDbG9zZWRDeWNsZShrZXlzKSB7XG4gICAgY29uc3QgcmVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChyZXMuaW5kZXhPZihrZXlzW2ldKSA+IC0xKSB7XG4gICAgICAgICAgICByZXMucHVzaChrZXlzW2ldKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmVzLnB1c2goa2V5c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBjb25zdHJ1Y3RSZXNvbHZpbmdQYXRoKGtleXMpIHtcbiAgICBpZiAoa2V5cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGNvbnN0IHJldmVyc2VkID0gZmluZEZpcnN0Q2xvc2VkQ3ljbGUoa2V5cy5zbGljZSgpLnJldmVyc2UoKSk7XG4gICAgICAgIGNvbnN0IHRva2VuU3RycyA9IHJldmVyc2VkLm1hcChrID0+IHN0cmluZ2lmeShrLnRva2VuKSk7XG4gICAgICAgIHJldHVybiAnICgnICsgdG9rZW5TdHJzLmpvaW4oJyAtPiAnKSArICcpJztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuZnVuY3Rpb24gaW5qZWN0aW9uRXJyb3IoaW5qZWN0b3IsIGtleSwgY29uc3RydWN0UmVzb2x2aW5nTWVzc2FnZSwgb3JpZ2luYWxFcnJvcikge1xuICAgIGNvbnN0IGtleXMgPSBba2V5XTtcbiAgICBjb25zdCBlcnJNc2cgPSBjb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlKGtleXMpO1xuICAgIGNvbnN0IGVycm9yID0gKG9yaWdpbmFsRXJyb3IgPyB3cmFwcGVkRXJyb3IoZXJyTXNnLCBvcmlnaW5hbEVycm9yKSA6IEVycm9yKGVyck1zZykpO1xuICAgIGVycm9yLmFkZEtleSA9IGFkZEtleTtcbiAgICBlcnJvci5rZXlzID0ga2V5cztcbiAgICBlcnJvci5pbmplY3RvcnMgPSBbaW5qZWN0b3JdO1xuICAgIGVycm9yLmNvbnN0cnVjdFJlc29sdmluZ01lc3NhZ2UgPSBjb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlO1xuICAgIGVycm9yW0VSUk9SX09SSUdJTkFMX0VSUk9SXSA9IG9yaWdpbmFsRXJyb3I7XG4gICAgcmV0dXJuIGVycm9yO1xufVxuZnVuY3Rpb24gYWRkS2V5KGluamVjdG9yLCBrZXkpIHtcbiAgICB0aGlzLmluamVjdG9ycy5wdXNoKGluamVjdG9yKTtcbiAgICB0aGlzLmtleXMucHVzaChrZXkpO1xuICAgIC8vIE5vdGU6IFRoaXMgdXBkYXRlZCBtZXNzYWdlIHdvbid0IGJlIHJlZmxlY3RlZCBpbiB0aGUgYC5zdGFja2AgcHJvcGVydHlcbiAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLmNvbnN0cnVjdFJlc29sdmluZ01lc3NhZ2UodGhpcy5rZXlzKTtcbn1cbi8qKlxuICogVGhyb3duIHdoZW4gdHJ5aW5nIHRvIHJldHJpZXZlIGEgZGVwZW5kZW5jeSBieSBrZXkgZnJvbSB7QGxpbmsgSW5qZWN0b3J9LCBidXQgdGhlXG4gKiB7QGxpbmsgSW5qZWN0b3J9IGRvZXMgbm90IGhhdmUgYSB7QGxpbmsgUHJvdmlkZXJ9IGZvciB0aGUgZ2l2ZW4ga2V5LlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNsYXNzIEEge1xuICogICBjb25zdHJ1Y3RvcihiOkIpIHt9XG4gKiB9XG4gKlxuICogZXhwZWN0KCgpID0+IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0FdKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gbm9Qcm92aWRlckVycm9yKGluamVjdG9yLCBrZXkpIHtcbiAgICByZXR1cm4gaW5qZWN0aW9uRXJyb3IoaW5qZWN0b3IsIGtleSwgZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgY29uc3QgZmlyc3QgPSBzdHJpbmdpZnkoa2V5c1swXS50b2tlbik7XG4gICAgICAgIHJldHVybiBgTm8gcHJvdmlkZXIgZm9yICR7Zmlyc3R9ISR7Y29uc3RydWN0UmVzb2x2aW5nUGF0aChrZXlzKX1gO1xuICAgIH0pO1xufVxuLyoqXG4gKiBUaHJvd24gd2hlbiBkZXBlbmRlbmNpZXMgZm9ybSBhIGN5Y2xlLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIHZhciBpbmplY3RvciA9IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW1xuICogICB7cHJvdmlkZTogXCJvbmVcIiwgdXNlRmFjdG9yeTogKHR3bykgPT4gXCJ0d29cIiwgZGVwczogW1tuZXcgSW5qZWN0KFwidHdvXCIpXV19LFxuICogICB7cHJvdmlkZTogXCJ0d29cIiwgdXNlRmFjdG9yeTogKG9uZSkgPT4gXCJvbmVcIiwgZGVwczogW1tuZXcgSW5qZWN0KFwib25lXCIpXV19XG4gKiBdKTtcbiAqXG4gKiBleHBlY3QoKCkgPT4gaW5qZWN0b3IuZ2V0KFwib25lXCIpKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICpcbiAqIFJldHJpZXZpbmcgYEFgIG9yIGBCYCB0aHJvd3MgYSBgQ3ljbGljRGVwZW5kZW5jeUVycm9yYCBhcyB0aGUgZ3JhcGggYWJvdmUgY2Fubm90IGJlIGNvbnN0cnVjdGVkLlxuICovXG5mdW5jdGlvbiBjeWNsaWNEZXBlbmRlbmN5RXJyb3IoaW5qZWN0b3IsIGtleSkge1xuICAgIHJldHVybiBpbmplY3Rpb25FcnJvcihpbmplY3Rvciwga2V5LCBmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICByZXR1cm4gYENhbm5vdCBpbnN0YW50aWF0ZSBjeWNsaWMgZGVwZW5kZW5jeSEke2NvbnN0cnVjdFJlc29sdmluZ1BhdGgoa2V5cyl9YDtcbiAgICB9KTtcbn1cbi8qKlxuICogVGhyb3duIHdoZW4gYSBjb25zdHJ1Y3RpbmcgdHlwZSByZXR1cm5zIHdpdGggYW4gRXJyb3IuXG4gKlxuICogVGhlIGBJbnN0YW50aWF0aW9uRXJyb3JgIGNsYXNzIGNvbnRhaW5zIHRoZSBvcmlnaW5hbCBlcnJvciBwbHVzIHRoZSBkZXBlbmRlbmN5IGdyYXBoIHdoaWNoIGNhdXNlZFxuICogdGhpcyBvYmplY3QgdG8gYmUgaW5zdGFudGlhdGVkLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNsYXNzIEEge1xuICogICBjb25zdHJ1Y3RvcigpIHtcbiAqICAgICB0aHJvdyBuZXcgRXJyb3IoJ21lc3NhZ2UnKTtcbiAqICAgfVxuICogfVxuICpcbiAqIHZhciBpbmplY3RvciA9IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0FdKTtcblxuICogdHJ5IHtcbiAqICAgaW5qZWN0b3IuZ2V0KEEpO1xuICogfSBjYXRjaCAoZSkge1xuICogICBleHBlY3QoZSBpbnN0YW5jZW9mIEluc3RhbnRpYXRpb25FcnJvcikudG9CZSh0cnVlKTtcbiAqICAgZXhwZWN0KGUub3JpZ2luYWxFeGNlcHRpb24ubWVzc2FnZSkudG9FcXVhbChcIm1lc3NhZ2VcIik7XG4gKiAgIGV4cGVjdChlLm9yaWdpbmFsU3RhY2spLnRvQmVEZWZpbmVkKCk7XG4gKiB9XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gaW5zdGFudGlhdGlvbkVycm9yKGluamVjdG9yLCBvcmlnaW5hbEV4Y2VwdGlvbiwgb3JpZ2luYWxTdGFjaywga2V5KSB7XG4gICAgcmV0dXJuIGluamVjdGlvbkVycm9yKGluamVjdG9yLCBrZXksIGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gc3RyaW5naWZ5KGtleXNbMF0udG9rZW4pO1xuICAgICAgICByZXR1cm4gYCR7b3JpZ2luYWxFeGNlcHRpb24ubWVzc2FnZX06IEVycm9yIGR1cmluZyBpbnN0YW50aWF0aW9uIG9mICR7Zmlyc3R9ISR7Y29uc3RydWN0UmVzb2x2aW5nUGF0aChrZXlzKX0uYDtcbiAgICB9LCBvcmlnaW5hbEV4Y2VwdGlvbik7XG59XG4vKipcbiAqIFRocm93biB3aGVuIGFuIG9iamVjdCBvdGhlciB0aGVuIHtAbGluayBQcm92aWRlcn0gKG9yIGBUeXBlYCkgaXMgcGFzc2VkIHRvIHtAbGluayBJbmplY3Rvcn1cbiAqIGNyZWF0aW9uLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGV4cGVjdCgoKSA9PiBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtcIm5vdCBhIHR5cGVcIl0pKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICovXG5mdW5jdGlvbiBpbnZhbGlkUHJvdmlkZXJFcnJvcihwcm92aWRlcikge1xuICAgIHJldHVybiBFcnJvcihgSW52YWxpZCBwcm92aWRlciAtIG9ubHkgaW5zdGFuY2VzIG9mIFByb3ZpZGVyIGFuZCBUeXBlIGFyZSBhbGxvd2VkLCBnb3Q6ICR7cHJvdmlkZXJ9YCk7XG59XG4vKipcbiAqIFRocm93biB3aGVuIHRoZSBjbGFzcyBoYXMgbm8gYW5ub3RhdGlvbiBpbmZvcm1hdGlvbi5cbiAqXG4gKiBMYWNrIG9mIGFubm90YXRpb24gaW5mb3JtYXRpb24gcHJldmVudHMgdGhlIHtAbGluayBJbmplY3Rvcn0gZnJvbSBkZXRlcm1pbmluZyB3aGljaCBkZXBlbmRlbmNpZXNcbiAqIG5lZWQgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgY29uc3RydWN0b3IuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgQSB7XG4gKiAgIGNvbnN0cnVjdG9yKGIpIHt9XG4gKiB9XG4gKlxuICogZXhwZWN0KCgpID0+IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0FdKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGVycm9yIGlzIGFsc28gdGhyb3duIHdoZW4gdGhlIGNsYXNzIG5vdCBtYXJrZWQgd2l0aCB7QGxpbmsgSW5qZWN0YWJsZX0gaGFzIHBhcmFtZXRlciB0eXBlcy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjbGFzcyBCIHt9XG4gKlxuICogY2xhc3MgQSB7XG4gKiAgIGNvbnN0cnVjdG9yKGI6Qikge30gLy8gbm8gaW5mb3JtYXRpb24gYWJvdXQgdGhlIHBhcmFtZXRlciB0eXBlcyBvZiBBIGlzIGF2YWlsYWJsZSBhdCBydW50aW1lLlxuICogfVxuICpcbiAqIGV4cGVjdCgoKSA9PiBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtBLEJdKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqXG4gKi9cbmZ1bmN0aW9uIG5vQW5ub3RhdGlvbkVycm9yKHR5cGVPckZ1bmMsIHBhcmFtcykge1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHBhcmFtcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtZXRlciA9IHBhcmFtc1tpXTtcbiAgICAgICAgaWYgKCFwYXJhbWV0ZXIgfHwgcGFyYW1ldGVyLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBzaWduYXR1cmUucHVzaCgnPycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2lnbmF0dXJlLnB1c2gocGFyYW1ldGVyLm1hcChzdHJpbmdpZnkpLmpvaW4oJyAnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEVycm9yKCdDYW5ub3QgcmVzb2x2ZSBhbGwgcGFyYW1ldGVycyBmb3IgXFwnJyArIHN0cmluZ2lmeSh0eXBlT3JGdW5jKSArICdcXCcoJyArXG4gICAgICAgIHNpZ25hdHVyZS5qb2luKCcsICcpICsgJykuICcgK1xuICAgICAgICAnTWFrZSBzdXJlIHRoYXQgYWxsIHRoZSBwYXJhbWV0ZXJzIGFyZSBkZWNvcmF0ZWQgd2l0aCBJbmplY3Qgb3IgaGF2ZSB2YWxpZCB0eXBlIGFubm90YXRpb25zIGFuZCB0aGF0IFxcJycgK1xuICAgICAgICBzdHJpbmdpZnkodHlwZU9yRnVuYykgKyAnXFwnIGlzIGRlY29yYXRlZCB3aXRoIEluamVjdGFibGUuJyk7XG59XG4vKipcbiAqIFRocm93biB3aGVuIGdldHRpbmcgYW4gb2JqZWN0IGJ5IGluZGV4LlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNsYXNzIEEge31cbiAqXG4gKiB2YXIgaW5qZWN0b3IgPSBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtBXSk7XG4gKlxuICogZXhwZWN0KCgpID0+IGluamVjdG9yLmdldEF0KDEwMCkpLnRvVGhyb3dFcnJvcigpO1xuICogYGBgXG4gKlxuICovXG5mdW5jdGlvbiBvdXRPZkJvdW5kc0Vycm9yKGluZGV4KSB7XG4gICAgcmV0dXJuIEVycm9yKGBJbmRleCAke2luZGV4fSBpcyBvdXQtb2YtYm91bmRzLmApO1xufVxuLy8gVE9ETzogYWRkIGEgd29ya2luZyBleGFtcGxlIGFmdGVyIGFscGhhMzggaXMgcmVsZWFzZWRcbi8qKlxuICogVGhyb3duIHdoZW4gYSBtdWx0aSBwcm92aWRlciBhbmQgYSByZWd1bGFyIHByb3ZpZGVyIGFyZSBib3VuZCB0byB0aGUgc2FtZSB0b2tlbi5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBleHBlY3QoKCkgPT4gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbXG4gKiAgIHsgcHJvdmlkZTogXCJTdHJpbmdzXCIsIHVzZVZhbHVlOiBcInN0cmluZzFcIiwgbXVsdGk6IHRydWV9LFxuICogICB7IHByb3ZpZGU6IFwiU3RyaW5nc1wiLCB1c2VWYWx1ZTogXCJzdHJpbmcyXCIsIG11bHRpOiBmYWxzZX1cbiAqIF0pKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICovXG5mdW5jdGlvbiBtaXhpbmdNdWx0aVByb3ZpZGVyc1dpdGhSZWd1bGFyUHJvdmlkZXJzRXJyb3IocHJvdmlkZXIxLCBwcm92aWRlcjIpIHtcbiAgICByZXR1cm4gRXJyb3IoYENhbm5vdCBtaXggbXVsdGkgcHJvdmlkZXJzIGFuZCByZWd1bGFyIHByb3ZpZGVycywgZ290OiAke3Byb3ZpZGVyMX0gJHtwcm92aWRlcjJ9YCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIHVuaXF1ZSBvYmplY3QgdXNlZCBmb3IgcmV0cmlldmluZyBpdGVtcyBmcm9tIHRoZSB7QGxpbmsgUmVmbGVjdGl2ZUluamVjdG9yfS5cbiAqXG4gKiBLZXlzIGhhdmU6XG4gKiAtIGEgc3lzdGVtLXdpZGUgdW5pcXVlIGBpZGAuXG4gKiAtIGEgYHRva2VuYC5cbiAqXG4gKiBgS2V5YCBpcyB1c2VkIGludGVybmFsbHkgYnkge0BsaW5rIFJlZmxlY3RpdmVJbmplY3Rvcn0gYmVjYXVzZSBpdHMgc3lzdGVtLXdpZGUgdW5pcXVlIGBpZGAgYWxsb3dzXG4gKiB0aGVcbiAqIGluamVjdG9yIHRvIHN0b3JlIGNyZWF0ZWQgb2JqZWN0cyBpbiBhIG1vcmUgZWZmaWNpZW50IHdheS5cbiAqXG4gKiBgS2V5YCBzaG91bGQgbm90IGJlIGNyZWF0ZWQgZGlyZWN0bHkuIHtAbGluayBSZWZsZWN0aXZlSW5qZWN0b3J9IGNyZWF0ZXMga2V5cyBhdXRvbWF0aWNhbGx5IHdoZW5cbiAqIHJlc29sdmluZ1xuICogcHJvdmlkZXJzLlxuICpcbiAqIEBkZXByZWNhdGVkIE5vIHJlcGxhY2VtZW50XG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFJlZmxlY3RpdmVLZXkge1xuICAgIC8qKlxuICAgICAqIFByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0b2tlbiwgaWQpIHtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVG9rZW4gbXVzdCBiZSBkZWZpbmVkIScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcGxheU5hbWUgPSBzdHJpbmdpZnkodGhpcy50b2tlbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIGBLZXlgIGZvciBhIHRva2VuLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQodG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIF9nbG9iYWxLZXlSZWdpc3RyeS5nZXQocmVzb2x2ZUZvcndhcmRSZWYodG9rZW4pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgdGhlIG51bWJlciBvZiBrZXlzIHJlZ2lzdGVyZWQgaW4gdGhlIHN5c3RlbS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IG51bWJlck9mS2V5cygpIHtcbiAgICAgICAgcmV0dXJuIF9nbG9iYWxLZXlSZWdpc3RyeS5udW1iZXJPZktleXM7XG4gICAgfVxufVxuY2xhc3MgS2V5UmVnaXN0cnkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9hbGxLZXlzID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBnZXQodG9rZW4pIHtcbiAgICAgICAgaWYgKHRva2VuIGluc3RhbmNlb2YgUmVmbGVjdGl2ZUtleSlcbiAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgaWYgKHRoaXMuX2FsbEtleXMuaGFzKHRva2VuKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsbEtleXMuZ2V0KHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdLZXkgPSBuZXcgUmVmbGVjdGl2ZUtleSh0b2tlbiwgUmVmbGVjdGl2ZUtleS5udW1iZXJPZktleXMpO1xuICAgICAgICB0aGlzLl9hbGxLZXlzLnNldCh0b2tlbiwgbmV3S2V5KTtcbiAgICAgICAgcmV0dXJuIG5ld0tleTtcbiAgICB9XG4gICAgZ2V0IG51bWJlck9mS2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsbEtleXMuc2l6ZTtcbiAgICB9XG59XG5jb25zdCBfZ2xvYmFsS2V5UmVnaXN0cnkgPSBuZXcgS2V5UmVnaXN0cnkoKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byByZWZsZWN0aW9uIGRhdGEgYWJvdXQgc3ltYm9scy4gVXNlZCBpbnRlcm5hbGx5IGJ5IEFuZ3VsYXJcbiAqIHRvIHBvd2VyIGRlcGVuZGVuY3kgaW5qZWN0aW9uIGFuZCBjb21waWxhdGlvbi5cbiAqL1xuY2xhc3MgUmVmbGVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihyZWZsZWN0aW9uQ2FwYWJpbGl0aWVzKSB7XG4gICAgICAgIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcyA9IHJlZmxlY3Rpb25DYXBhYmlsaXRpZXM7XG4gICAgfVxuICAgIHVwZGF0ZUNhcGFiaWxpdGllcyhjYXBzKSB7XG4gICAgICAgIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcyA9IGNhcHM7XG4gICAgfVxuICAgIGZhY3RvcnkodHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmZhY3RvcnkodHlwZSk7XG4gICAgfVxuICAgIHBhcmFtZXRlcnModHlwZU9yRnVuYykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnBhcmFtZXRlcnModHlwZU9yRnVuYyk7XG4gICAgfVxuICAgIGFubm90YXRpb25zKHR5cGVPckZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5hbm5vdGF0aW9ucyh0eXBlT3JGdW5jKTtcbiAgICB9XG4gICAgcHJvcE1ldGFkYXRhKHR5cGVPckZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wcm9wTWV0YWRhdGEodHlwZU9yRnVuYyk7XG4gICAgfVxuICAgIGhhc0xpZmVjeWNsZUhvb2sodHlwZSwgbGNQcm9wZXJ0eSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmhhc0xpZmVjeWNsZUhvb2sodHlwZSwgbGNQcm9wZXJ0eSk7XG4gICAgfVxuICAgIGdldHRlcihuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMuZ2V0dGVyKG5hbWUpO1xuICAgIH1cbiAgICBzZXR0ZXIobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnNldHRlcihuYW1lKTtcbiAgICB9XG4gICAgbWV0aG9kKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5tZXRob2QobmFtZSk7XG4gICAgfVxuICAgIGltcG9ydFVyaSh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMuaW1wb3J0VXJpKHR5cGUpO1xuICAgIH1cbiAgICByZXNvdXJjZVVyaSh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucmVzb3VyY2VVcmkodHlwZSk7XG4gICAgfVxuICAgIHJlc29sdmVJZGVudGlmaWVyKG5hbWUsIG1vZHVsZVVybCwgbWVtYmVycywgcnVudGltZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnJlc29sdmVJZGVudGlmaWVyKG5hbWUsIG1vZHVsZVVybCwgbWVtYmVycywgcnVudGltZSk7XG4gICAgfVxuICAgIHJlc29sdmVFbnVtKGlkZW50aWZpZXIsIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5yZXNvbHZlRW51bShpZGVudGlmaWVyLCBuYW1lKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGUge0BsaW5rIFJlZmxlY3Rvcn0gdXNlZCBpbnRlcm5hbGx5IGluIEFuZ3VsYXIgdG8gYWNjZXNzIG1ldGFkYXRhXG4gKiBhYm91dCBzeW1ib2xzLlxuICovXG5jb25zdCByZWZsZWN0b3IgPSBuZXcgUmVmbGVjdG9yKG5ldyBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzKCkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogYERlcGVuZGVuY3lgIGlzIHVzZWQgYnkgdGhlIGZyYW1ld29yayB0byBleHRlbmQgREkuXG4gKiBUaGlzIGlzIGludGVybmFsIHRvIEFuZ3VsYXIgYW5kIHNob3VsZCBub3QgYmUgdXNlZCBkaXJlY3RseS5cbiAqL1xuY2xhc3MgUmVmbGVjdGl2ZURlcGVuZGVuY3kge1xuICAgIGNvbnN0cnVjdG9yKGtleSwgb3B0aW9uYWwsIHZpc2liaWxpdHkpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMub3B0aW9uYWwgPSBvcHRpb25hbDtcbiAgICAgICAgdGhpcy52aXNpYmlsaXR5ID0gdmlzaWJpbGl0eTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21LZXkoa2V5KSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVmbGVjdGl2ZURlcGVuZGVuY3koa2V5LCBmYWxzZSwgbnVsbCk7XG4gICAgfVxufVxuY29uc3QgX0VNUFRZX0xJU1QgPSBbXTtcbmNsYXNzIFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyXyB7XG4gICAgY29uc3RydWN0b3Ioa2V5LCByZXNvbHZlZEZhY3RvcmllcywgbXVsdGlQcm92aWRlcikge1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy5yZXNvbHZlZEZhY3RvcmllcyA9IHJlc29sdmVkRmFjdG9yaWVzO1xuICAgICAgICB0aGlzLm11bHRpUHJvdmlkZXIgPSBtdWx0aVByb3ZpZGVyO1xuICAgICAgICB0aGlzLnJlc29sdmVkRmFjdG9yeSA9IHRoaXMucmVzb2x2ZWRGYWN0b3JpZXNbMF07XG4gICAgfVxufVxuLyoqXG4gKiBBbiBpbnRlcm5hbCByZXNvbHZlZCByZXByZXNlbnRhdGlvbiBvZiBhIGZhY3RvcnkgZnVuY3Rpb24gY3JlYXRlZCBieSByZXNvbHZpbmcgYFByb3ZpZGVyYC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogRmFjdG9yeSBmdW5jdGlvbiB3aGljaCBjYW4gcmV0dXJuIGFuIGluc3RhbmNlIG9mIGFuIG9iamVjdCByZXByZXNlbnRlZCBieSBhIGtleS5cbiAgICAgKi9cbiAgICBmYWN0b3J5LCBcbiAgICAvKipcbiAgICAgKiBBcmd1bWVudHMgKGRlcGVuZGVuY2llcykgdG8gdGhlIGBmYWN0b3J5YCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBkZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgdGhpcy5mYWN0b3J5ID0gZmFjdG9yeTtcbiAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXM7XG4gICAgfVxufVxuLyoqXG4gKiBSZXNvbHZlIGEgc2luZ2xlIHByb3ZpZGVyLlxuICovXG5mdW5jdGlvbiByZXNvbHZlUmVmbGVjdGl2ZUZhY3RvcnkocHJvdmlkZXIpIHtcbiAgICBsZXQgZmFjdG9yeUZuO1xuICAgIGxldCByZXNvbHZlZERlcHM7XG4gICAgaWYgKHByb3ZpZGVyLnVzZUNsYXNzKSB7XG4gICAgICAgIGNvbnN0IHVzZUNsYXNzID0gcmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIudXNlQ2xhc3MpO1xuICAgICAgICBmYWN0b3J5Rm4gPSByZWZsZWN0b3IuZmFjdG9yeSh1c2VDbGFzcyk7XG4gICAgICAgIHJlc29sdmVkRGVwcyA9IF9kZXBlbmRlbmNpZXNGb3IodXNlQ2xhc3MpO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm92aWRlci51c2VFeGlzdGluZykge1xuICAgICAgICBmYWN0b3J5Rm4gPSAoYWxpYXNJbnN0YW5jZSkgPT4gYWxpYXNJbnN0YW5jZTtcbiAgICAgICAgcmVzb2x2ZWREZXBzID0gW1JlZmxlY3RpdmVEZXBlbmRlbmN5LmZyb21LZXkoUmVmbGVjdGl2ZUtleS5nZXQocHJvdmlkZXIudXNlRXhpc3RpbmcpKV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb3ZpZGVyLnVzZUZhY3RvcnkpIHtcbiAgICAgICAgZmFjdG9yeUZuID0gcHJvdmlkZXIudXNlRmFjdG9yeTtcbiAgICAgICAgcmVzb2x2ZWREZXBzID0gY29uc3RydWN0RGVwZW5kZW5jaWVzKHByb3ZpZGVyLnVzZUZhY3RvcnksIHByb3ZpZGVyLmRlcHMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZmFjdG9yeUZuID0gKCkgPT4gcHJvdmlkZXIudXNlVmFsdWU7XG4gICAgICAgIHJlc29sdmVkRGVwcyA9IF9FTVBUWV9MSVNUO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnkoZmFjdG9yeUZuLCByZXNvbHZlZERlcHMpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgYFByb3ZpZGVyYCBpbnRvIGBSZXNvbHZlZFByb3ZpZGVyYC5cbiAqXG4gKiBgSW5qZWN0b3JgIGludGVybmFsbHkgb25seSB1c2VzIGBSZXNvbHZlZFByb3ZpZGVyYCwgYFByb3ZpZGVyYCBjb250YWlucyBjb252ZW5pZW5jZSBwcm92aWRlclxuICogc3ludGF4LlxuICovXG5mdW5jdGlvbiByZXNvbHZlUmVmbGVjdGl2ZVByb3ZpZGVyKHByb3ZpZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcl8oUmVmbGVjdGl2ZUtleS5nZXQocHJvdmlkZXIucHJvdmlkZSksIFtyZXNvbHZlUmVmbGVjdGl2ZUZhY3RvcnkocHJvdmlkZXIpXSwgcHJvdmlkZXIubXVsdGkgfHwgZmFsc2UpO1xufVxuLyoqXG4gKiBSZXNvbHZlIGEgbGlzdCBvZiBQcm92aWRlcnMuXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVSZWZsZWN0aXZlUHJvdmlkZXJzKHByb3ZpZGVycykge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBfbm9ybWFsaXplUHJvdmlkZXJzKHByb3ZpZGVycywgW10pO1xuICAgIGNvbnN0IHJlc29sdmVkID0gbm9ybWFsaXplZC5tYXAocmVzb2x2ZVJlZmxlY3RpdmVQcm92aWRlcik7XG4gICAgY29uc3QgcmVzb2x2ZWRQcm92aWRlck1hcCA9IG1lcmdlUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzKHJlc29sdmVkLCBuZXcgTWFwKCkpO1xuICAgIHJldHVybiBBcnJheS5mcm9tKHJlc29sdmVkUHJvdmlkZXJNYXAudmFsdWVzKCkpO1xufVxuLyoqXG4gKiBNZXJnZXMgYSBsaXN0IG9mIFJlc29sdmVkUHJvdmlkZXJzIGludG8gYSBsaXN0IHdoZXJlIGVhY2gga2V5IGlzIGNvbnRhaW5lZCBleGFjdGx5IG9uY2UgYW5kXG4gKiBtdWx0aSBwcm92aWRlcnMgaGF2ZSBiZWVuIG1lcmdlZC5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMocHJvdmlkZXJzLCBub3JtYWxpemVkUHJvdmlkZXJzTWFwKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBwcm92aWRlcnNbaV07XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gbm9ybWFsaXplZFByb3ZpZGVyc01hcC5nZXQocHJvdmlkZXIua2V5LmlkKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIubXVsdGlQcm92aWRlciAhPT0gZXhpc3RpbmcubXVsdGlQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIHRocm93IG1peGluZ011bHRpUHJvdmlkZXJzV2l0aFJlZ3VsYXJQcm92aWRlcnNFcnJvcihleGlzdGluZywgcHJvdmlkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb3ZpZGVyLm11bHRpUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHByb3ZpZGVyLnJlc29sdmVkRmFjdG9yaWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLnJlc29sdmVkRmFjdG9yaWVzLnB1c2gocHJvdmlkZXIucmVzb2x2ZWRGYWN0b3JpZXNbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm92aWRlcnNNYXAuc2V0KHByb3ZpZGVyLmtleS5pZCwgcHJvdmlkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHJlc29sdmVkUHJvdmlkZXI7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIubXVsdGlQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIHJlc29sdmVkUHJvdmlkZXIgPSBuZXcgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJfKHByb3ZpZGVyLmtleSwgcHJvdmlkZXIucmVzb2x2ZWRGYWN0b3JpZXMuc2xpY2UoKSwgcHJvdmlkZXIubXVsdGlQcm92aWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlZFByb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub3JtYWxpemVkUHJvdmlkZXJzTWFwLnNldChwcm92aWRlci5rZXkuaWQsIHJlc29sdmVkUHJvdmlkZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVkUHJvdmlkZXJzTWFwO1xufVxuZnVuY3Rpb24gX25vcm1hbGl6ZVByb3ZpZGVycyhwcm92aWRlcnMsIHJlcykge1xuICAgIHByb3ZpZGVycy5mb3JFYWNoKGIgPT4ge1xuICAgICAgICBpZiAoYiBpbnN0YW5jZW9mIFR5cGUpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKHsgcHJvdmlkZTogYiwgdXNlQ2xhc3M6IGIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYiAmJiB0eXBlb2YgYiA9PSAnb2JqZWN0JyAmJiBiLnByb3ZpZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzLnB1c2goYik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShiKSkge1xuICAgICAgICAgICAgX25vcm1hbGl6ZVByb3ZpZGVycyhiLCByZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgaW52YWxpZFByb3ZpZGVyRXJyb3IoYik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gY29uc3RydWN0RGVwZW5kZW5jaWVzKHR5cGVPckZ1bmMsIGRlcGVuZGVuY2llcykge1xuICAgIGlmICghZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHJldHVybiBfZGVwZW5kZW5jaWVzRm9yKHR5cGVPckZ1bmMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gZGVwZW5kZW5jaWVzLm1hcCh0ID0+IFt0XSk7XG4gICAgICAgIHJldHVybiBkZXBlbmRlbmNpZXMubWFwKHQgPT4gX2V4dHJhY3RUb2tlbih0eXBlT3JGdW5jLCB0LCBwYXJhbXMpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBfZGVwZW5kZW5jaWVzRm9yKHR5cGVPckZ1bmMpIHtcbiAgICBjb25zdCBwYXJhbXMgPSByZWZsZWN0b3IucGFyYW1ldGVycyh0eXBlT3JGdW5jKTtcbiAgICBpZiAoIXBhcmFtcylcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIGlmIChwYXJhbXMuc29tZShwID0+IHAgPT0gbnVsbCkpIHtcbiAgICAgICAgdGhyb3cgbm9Bbm5vdGF0aW9uRXJyb3IodHlwZU9yRnVuYywgcGFyYW1zKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmFtcy5tYXAocCA9PiBfZXh0cmFjdFRva2VuKHR5cGVPckZ1bmMsIHAsIHBhcmFtcykpO1xufVxuZnVuY3Rpb24gX2V4dHJhY3RUb2tlbih0eXBlT3JGdW5jLCBtZXRhZGF0YSwgcGFyYW1zKSB7XG4gICAgbGV0IHRva2VuID0gbnVsbDtcbiAgICBsZXQgb3B0aW9uYWwgPSBmYWxzZTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobWV0YWRhdGEpKSB7XG4gICAgICAgIGlmIChtZXRhZGF0YSBpbnN0YW5jZW9mIEluamVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jcmVhdGVEZXBlbmRlbmN5KG1ldGFkYXRhLnRva2VuLCBvcHRpb25hbCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX2NyZWF0ZURlcGVuZGVuY3kobWV0YWRhdGEsIG9wdGlvbmFsLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgdmlzaWJpbGl0eSA9IG51bGw7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXRhZGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICBjb25zdCBwYXJhbU1ldGFkYXRhID0gbWV0YWRhdGFbaV07XG4gICAgICAgIGlmIChwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgVHlwZSkge1xuICAgICAgICAgICAgdG9rZW4gPSBwYXJhbU1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtTWV0YWRhdGEgaW5zdGFuY2VvZiBJbmplY3QpIHtcbiAgICAgICAgICAgIHRva2VuID0gcGFyYW1NZXRhZGF0YS50b2tlbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgT3B0aW9uYWwpIHtcbiAgICAgICAgICAgIG9wdGlvbmFsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgU2VsZiB8fCBwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgU2tpcFNlbGYpIHtcbiAgICAgICAgICAgIHZpc2liaWxpdHkgPSBwYXJhbU1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtTWV0YWRhdGEgaW5zdGFuY2VvZiBJbmplY3Rpb25Ub2tlbikge1xuICAgICAgICAgICAgdG9rZW4gPSBwYXJhbU1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRva2VuID0gcmVzb2x2ZUZvcndhcmRSZWYodG9rZW4pO1xuICAgIGlmICh0b2tlbiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBfY3JlYXRlRGVwZW5kZW5jeSh0b2tlbiwgb3B0aW9uYWwsIHZpc2liaWxpdHkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbm9Bbm5vdGF0aW9uRXJyb3IodHlwZU9yRnVuYywgcGFyYW1zKTtcbiAgICB9XG59XG5mdW5jdGlvbiBfY3JlYXRlRGVwZW5kZW5jeSh0b2tlbiwgb3B0aW9uYWwsIHZpc2liaWxpdHkpIHtcbiAgICByZXR1cm4gbmV3IFJlZmxlY3RpdmVEZXBlbmRlbmN5KFJlZmxlY3RpdmVLZXkuZ2V0KHRva2VuKSwgb3B0aW9uYWwsIHZpc2liaWxpdHkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRocmVzaG9sZCBmb3IgdGhlIGR5bmFtaWMgdmVyc2lvblxuY29uc3QgVU5ERUZJTkVEID0ge307XG4vKipcbiAqIEEgUmVmbGVjdGl2ZURlcGVuZGVuY3kgaW5qZWN0aW9uIGNvbnRhaW5lciB1c2VkIGZvciBpbnN0YW50aWF0aW5nIG9iamVjdHMgYW5kIHJlc29sdmluZ1xuICogZGVwZW5kZW5jaWVzLlxuICpcbiAqIEFuIGBJbmplY3RvcmAgaXMgYSByZXBsYWNlbWVudCBmb3IgYSBgbmV3YCBvcGVyYXRvciwgd2hpY2ggY2FuIGF1dG9tYXRpY2FsbHkgcmVzb2x2ZSB0aGVcbiAqIGNvbnN0cnVjdG9yIGRlcGVuZGVuY2llcy5cbiAqXG4gKiBJbiB0eXBpY2FsIHVzZSwgYXBwbGljYXRpb24gY29kZSBhc2tzIGZvciB0aGUgZGVwZW5kZW5jaWVzIGluIHRoZSBjb25zdHJ1Y3RvciBhbmQgdGhleSBhcmVcbiAqIHJlc29sdmVkIGJ5IHRoZSBgSW5qZWN0b3JgLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBjcmVhdGVzIGFuIGBJbmplY3RvcmAgY29uZmlndXJlZCB0byBjcmVhdGUgYEVuZ2luZWAgYW5kIGBDYXJgLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIEBJbmplY3RhYmxlKClcbiAqIGNsYXNzIEVuZ2luZSB7XG4gKiB9XG4gKlxuICogQEluamVjdGFibGUoKVxuICogY2xhc3MgQ2FyIHtcbiAqICAgY29uc3RydWN0b3IocHVibGljIGVuZ2luZTpFbmdpbmUpIHt9XG4gKiB9XG4gKlxuICogdmFyIGluamVjdG9yID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0NhciwgRW5naW5lXSk7XG4gKiB2YXIgY2FyID0gaW5qZWN0b3IuZ2V0KENhcik7XG4gKiBleHBlY3QoY2FyIGluc3RhbmNlb2YgQ2FyKS50b0JlKHRydWUpO1xuICogZXhwZWN0KGNhci5lbmdpbmUgaW5zdGFuY2VvZiBFbmdpbmUpLnRvQmUodHJ1ZSk7XG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UsIHdlIGRvbid0IHVzZSB0aGUgYG5ld2Agb3BlcmF0b3IgYmVjYXVzZSB3ZSBleHBsaWNpdGx5IHdhbnQgdG8gaGF2ZSB0aGUgYEluamVjdG9yYFxuICogcmVzb2x2ZSBhbGwgb2YgdGhlIG9iamVjdCdzIGRlcGVuZGVuY2llcyBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIFRPRE86IGRlbGV0ZSBpbiB2MTQuXG4gKlxuICogQGRlcHJlY2F0ZWQgZnJvbSB2NSAtIHNsb3cgYW5kIGJyaW5ncyBpbiBhIGxvdCBvZiBjb2RlLCBVc2UgYEluamVjdG9yLmNyZWF0ZWAgaW5zdGVhZC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgUmVmbGVjdGl2ZUluamVjdG9yIHtcbiAgICAvKipcbiAgICAgKiBUdXJucyBhbiBhcnJheSBvZiBwcm92aWRlciBkZWZpbml0aW9ucyBpbnRvIGFuIGFycmF5IG9mIHJlc29sdmVkIHByb3ZpZGVycy5cbiAgICAgKlxuICAgICAqIEEgcmVzb2x1dGlvbiBpcyBhIHByb2Nlc3Mgb2YgZmxhdHRlbmluZyBtdWx0aXBsZSBuZXN0ZWQgYXJyYXlzIGFuZCBjb252ZXJ0aW5nIGluZGl2aWR1YWxcbiAgICAgKiBwcm92aWRlcnMgaW50byBhbiBhcnJheSBvZiBgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJgcy5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgRW5naW5lIHtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgQ2FyIHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbmdpbmU6RW5naW5lKSB7fVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBwcm92aWRlcnMgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZShbQ2FyLCBbW0VuZ2luZV1dXSk7XG4gICAgICpcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzLmxlbmd0aCkudG9FcXVhbCgyKTtcbiAgICAgKlxuICAgICAqIGV4cGVjdChwcm92aWRlcnNbMF0gaW5zdGFuY2VvZiBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcikudG9CZSh0cnVlKTtcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzWzBdLmtleS5kaXNwbGF5TmFtZSkudG9CZShcIkNhclwiKTtcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzWzBdLmRlcGVuZGVuY2llcy5sZW5ndGgpLnRvRXF1YWwoMSk7XG4gICAgICogZXhwZWN0KHByb3ZpZGVyc1swXS5mYWN0b3J5KS50b0JlRGVmaW5lZCgpO1xuICAgICAqXG4gICAgICogZXhwZWN0KHByb3ZpZGVyc1sxXS5rZXkuZGlzcGxheU5hbWUpLnRvQmUoXCJFbmdpbmVcIik7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVzb2x2ZShwcm92aWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVSZWZsZWN0aXZlUHJvdmlkZXJzKHByb3ZpZGVycyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIGFuIGFycmF5IG9mIHByb3ZpZGVycyBhbmQgY3JlYXRlcyBhbiBpbmplY3RvciBmcm9tIHRob3NlIHByb3ZpZGVycy5cbiAgICAgKlxuICAgICAqIFRoZSBwYXNzZWQtaW4gcHJvdmlkZXJzIGNhbiBiZSBhbiBhcnJheSBvZiBgVHlwZWAsIGBQcm92aWRlcmAsXG4gICAgICogb3IgYSByZWN1cnNpdmUgYXJyYXkgb2YgbW9yZSBwcm92aWRlcnMuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogQEluamVjdGFibGUoKVxuICAgICAqIGNsYXNzIEVuZ2luZSB7XG4gICAgICogfVxuICAgICAqXG4gICAgICogQEluamVjdGFibGUoKVxuICAgICAqIGNsYXNzIENhciB7XG4gICAgICogICBjb25zdHJ1Y3RvcihwdWJsaWMgZW5naW5lOkVuZ2luZSkge31cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgaW5qZWN0b3IgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQ2FyLCBFbmdpbmVdKTtcbiAgICAgKiBleHBlY3QoaW5qZWN0b3IuZ2V0KENhcikgaW5zdGFuY2VvZiBDYXIpLnRvQmUodHJ1ZSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIHJlc29sdmVBbmRDcmVhdGUocHJvdmlkZXJzLCBwYXJlbnQpIHtcbiAgICAgICAgY29uc3QgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmUocHJvdmlkZXJzKTtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3RpdmVJbmplY3Rvci5mcm9tUmVzb2x2ZWRQcm92aWRlcnMoUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzLCBwYXJlbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluamVjdG9yIGZyb20gcHJldmlvdXNseSByZXNvbHZlZCBwcm92aWRlcnMuXG4gICAgICpcbiAgICAgKiBUaGlzIEFQSSBpcyB0aGUgcmVjb21tZW5kZWQgd2F5IHRvIGNvbnN0cnVjdCBpbmplY3RvcnMgaW4gcGVyZm9ybWFuY2Utc2Vuc2l0aXZlIHBhcnRzLlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBFbmdpbmUge1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBDYXIge1xuICAgICAqICAgY29uc3RydWN0b3IocHVibGljIGVuZ2luZTpFbmdpbmUpIHt9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHByb3ZpZGVycyA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKFtDYXIsIEVuZ2luZV0pO1xuICAgICAqIHZhciBpbmplY3RvciA9IFJlZmxlY3RpdmVJbmplY3Rvci5mcm9tUmVzb2x2ZWRQcm92aWRlcnMocHJvdmlkZXJzKTtcbiAgICAgKiBleHBlY3QoaW5qZWN0b3IuZ2V0KENhcikgaW5zdGFuY2VvZiBDYXIpLnRvQmUodHJ1ZSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIGZyb21SZXNvbHZlZFByb3ZpZGVycyhwcm92aWRlcnMsIHBhcmVudCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlZmxlY3RpdmVJbmplY3Rvcl8ocHJvdmlkZXJzLCBwYXJlbnQpO1xuICAgIH1cbn1cbmNsYXNzIFJlZmxlY3RpdmVJbmplY3Rvcl8ge1xuICAgIC8qKlxuICAgICAqIFByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihfcHJvdmlkZXJzLCBfcGFyZW50KSB7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fY29uc3RydWN0aW9uQ291bnRlciA9IDA7XG4gICAgICAgIHRoaXMuX3Byb3ZpZGVycyA9IF9wcm92aWRlcnM7XG4gICAgICAgIHRoaXMucGFyZW50ID0gX3BhcmVudCB8fCBudWxsO1xuICAgICAgICBjb25zdCBsZW4gPSBfcHJvdmlkZXJzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5rZXlJZHMgPSBbXTtcbiAgICAgICAgdGhpcy5vYmpzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMua2V5SWRzW2ldID0gX3Byb3ZpZGVyc1tpXS5rZXkuaWQ7XG4gICAgICAgICAgICB0aGlzLm9ianNbaV0gPSBVTkRFRklORUQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlID0gVEhST1dfSUZfTk9UX0ZPVU5EKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRCeUtleShSZWZsZWN0aXZlS2V5LmdldCh0b2tlbiksIG51bGwsIG5vdEZvdW5kVmFsdWUpO1xuICAgIH1cbiAgICByZXNvbHZlQW5kQ3JlYXRlQ2hpbGQocHJvdmlkZXJzKSB7XG4gICAgICAgIGNvbnN0IFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycyA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKHByb3ZpZGVycyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUNoaWxkRnJvbVJlc29sdmVkKFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycyk7XG4gICAgfVxuICAgIGNyZWF0ZUNoaWxkRnJvbVJlc29sdmVkKHByb3ZpZGVycykge1xuICAgICAgICBjb25zdCBpbmogPSBuZXcgUmVmbGVjdGl2ZUluamVjdG9yXyhwcm92aWRlcnMpO1xuICAgICAgICBpbmoucGFyZW50ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGluajtcbiAgICB9XG4gICAgcmVzb2x2ZUFuZEluc3RhbnRpYXRlKHByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbnRpYXRlUmVzb2x2ZWQoUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmUoW3Byb3ZpZGVyXSlbMF0pO1xuICAgIH1cbiAgICBpbnN0YW50aWF0ZVJlc29sdmVkKHByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW50aWF0ZVByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICB9XG4gICAgZ2V0UHJvdmlkZXJBdEluZGV4KGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5fcHJvdmlkZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgb3V0T2ZCb3VuZHNFcnJvcihpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3ZpZGVyc1tpbmRleF07XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfbmV3KHByb3ZpZGVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb25zdHJ1Y3Rpb25Db3VudGVyKysgPiB0aGlzLl9nZXRNYXhOdW1iZXJPZk9iamVjdHMoKSkge1xuICAgICAgICAgICAgdGhyb3cgY3ljbGljRGVwZW5kZW5jeUVycm9yKHRoaXMsIHByb3ZpZGVyLmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbnRpYXRlUHJvdmlkZXIocHJvdmlkZXIpO1xuICAgIH1cbiAgICBfZ2V0TWF4TnVtYmVyT2ZPYmplY3RzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vYmpzLmxlbmd0aDtcbiAgICB9XG4gICAgX2luc3RhbnRpYXRlUHJvdmlkZXIocHJvdmlkZXIpIHtcbiAgICAgICAgaWYgKHByb3ZpZGVyLm11bHRpUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHJlc1tpXSA9IHRoaXMuX2luc3RhbnRpYXRlKHByb3ZpZGVyLCBwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbnRpYXRlKHByb3ZpZGVyLCBwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllc1swXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2luc3RhbnRpYXRlKHByb3ZpZGVyLCBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5KSB7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5LmZhY3Rvcnk7XG4gICAgICAgIGxldCBkZXBzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGVwcyA9XG4gICAgICAgICAgICAgICAgUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeS5kZXBlbmRlbmNpZXMubWFwKGRlcCA9PiB0aGlzLl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5KGRlcCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5hZGRLZXkpIHtcbiAgICAgICAgICAgICAgICBlLmFkZEtleSh0aGlzLCBwcm92aWRlci5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb2JqO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb2JqID0gZmFjdG9yeSguLi5kZXBzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgaW5zdGFudGlhdGlvbkVycm9yKHRoaXMsIGUsIGUuc3RhY2ssIHByb3ZpZGVyLmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgX2dldEJ5UmVmbGVjdGl2ZURlcGVuZGVuY3koZGVwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRCeUtleShkZXAua2V5LCBkZXAudmlzaWJpbGl0eSwgZGVwLm9wdGlvbmFsID8gbnVsbCA6IFRIUk9XX0lGX05PVF9GT1VORCk7XG4gICAgfVxuICAgIF9nZXRCeUtleShrZXksIHZpc2liaWxpdHksIG5vdEZvdW5kVmFsdWUpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gUmVmbGVjdGl2ZUluamVjdG9yXy5JTkpFQ1RPUl9LRVkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2aXNpYmlsaXR5IGluc3RhbmNlb2YgU2VsZikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJ5S2V5U2VsZihrZXksIG5vdEZvdW5kVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJ5S2V5RGVmYXVsdChrZXksIG5vdEZvdW5kVmFsdWUsIHZpc2liaWxpdHkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXRPYmpCeUtleUlkKGtleUlkKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5rZXlJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmtleUlkc1tpXSA9PT0ga2V5SWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vYmpzW2ldID09PSBVTkRFRklORUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpzW2ldID0gdGhpcy5fbmV3KHRoaXMuX3Byb3ZpZGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9ianNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFVOREVGSU5FRDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF90aHJvd09yTnVsbChrZXksIG5vdEZvdW5kVmFsdWUpIHtcbiAgICAgICAgaWYgKG5vdEZvdW5kVmFsdWUgIT09IFRIUk9XX0lGX05PVF9GT1VORCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vdEZvdW5kVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBub1Byb3ZpZGVyRXJyb3IodGhpcywga2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2dldEJ5S2V5U2VsZihrZXksIG5vdEZvdW5kVmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5fZ2V0T2JqQnlLZXlJZChrZXkuaWQpO1xuICAgICAgICByZXR1cm4gKG9iaiAhPT0gVU5ERUZJTkVEKSA/IG9iaiA6IHRoaXMuX3Rocm93T3JOdWxsKGtleSwgbm90Rm91bmRWYWx1ZSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfZ2V0QnlLZXlEZWZhdWx0KGtleSwgbm90Rm91bmRWYWx1ZSwgdmlzaWJpbGl0eSkge1xuICAgICAgICBsZXQgaW5qO1xuICAgICAgICBpZiAodmlzaWJpbGl0eSBpbnN0YW5jZW9mIFNraXBTZWxmKSB7XG4gICAgICAgICAgICBpbmogPSB0aGlzLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluaiA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluaiBpbnN0YW5jZW9mIFJlZmxlY3RpdmVJbmplY3Rvcl8pIHtcbiAgICAgICAgICAgIGNvbnN0IGlual8gPSBpbmo7XG4gICAgICAgICAgICBjb25zdCBvYmogPSBpbmpfLl9nZXRPYmpCeUtleUlkKGtleS5pZCk7XG4gICAgICAgICAgICBpZiAob2JqICE9PSBVTkRFRklORUQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgIGluaiA9IGlual8ucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmogIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmouZ2V0KGtleS50b2tlbiwgbm90Rm91bmRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGhyb3dPck51bGwoa2V5LCBub3RGb3VuZFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZGlzcGxheU5hbWUoKSB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVycyA9IF9tYXBQcm92aWRlcnModGhpcywgKGIpID0+ICcgXCInICsgYi5rZXkuZGlzcGxheU5hbWUgKyAnXCIgJylcbiAgICAgICAgICAgIC5qb2luKCcsICcpO1xuICAgICAgICByZXR1cm4gYFJlZmxlY3RpdmVJbmplY3Rvcihwcm92aWRlcnM6IFske3Byb3ZpZGVyc31dKWA7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5TmFtZTtcbiAgICB9XG59XG5SZWZsZWN0aXZlSW5qZWN0b3JfLklOSkVDVE9SX0tFWSA9ICggLyogQF9fUFVSRV9fICovUmVmbGVjdGl2ZUtleS5nZXQoSW5qZWN0b3IpKTtcbmZ1bmN0aW9uIF9tYXBQcm92aWRlcnMoaW5qZWN0b3IsIGZuKSB7XG4gICAgY29uc3QgcmVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmplY3Rvci5fcHJvdmlkZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlc1tpXSA9IGZuKGluamVjdG9yLmdldFByb3ZpZGVyQXRJbmRleChpKSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiDJtcm1ZGlyZWN0aXZlSW5qZWN0KHRva2VuLCBmbGFncyA9IEluamVjdEZsYWdzLkRlZmF1bHQpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgLy8gRmFsbCBiYWNrIHRvIGluamVjdCgpIGlmIHZpZXcgaGFzbid0IGJlZW4gY3JlYXRlZC4gVGhpcyBzaXR1YXRpb24gY2FuIGhhcHBlbiBpbiB0ZXN0c1xuICAgIC8vIGlmIGluamVjdCB1dGlsaXRpZXMgYXJlIHVzZWQgYmVmb3JlIGJvb3RzdHJhcHBpbmcuXG4gICAgaWYgKGxWaWV3ID09PSBudWxsKSB7XG4gICAgICAgIC8vIFZlcmlmeSB0aGF0IHdlIHdpbGwgbm90IGdldCBpbnRvIGluZmluaXRlIGxvb3AuXG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmplY3RJbXBsZW1lbnRhdGlvbk5vdEVxdWFsKMm1ybVkaXJlY3RpdmVJbmplY3QpO1xuICAgICAgICByZXR1cm4gybXJtWluamVjdCh0b2tlbiwgZmxhZ3MpO1xuICAgIH1cbiAgICBjb25zdCB0Tm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgIHJldHVybiBnZXRPckNyZWF0ZUluamVjdGFibGUodE5vZGUsIGxWaWV3LCByZXNvbHZlRm9yd2FyZFJlZih0b2tlbiksIGZsYWdzKTtcbn1cbi8qKlxuICogVGhyb3dzIGFuIGVycm9yIGluZGljYXRpbmcgdGhhdCBhIGZhY3RvcnkgZnVuY3Rpb24gY291bGQgbm90IGJlIGdlbmVyYXRlZCBieSB0aGUgY29tcGlsZXIgZm9yIGFcbiAqIHBhcnRpY3VsYXIgY2xhc3MuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBhbGxvd3MgdGhlIGFjdHVhbCBlcnJvciBtZXNzYWdlIHRvIGJlIG9wdGltaXplZCBhd2F5IHdoZW4gbmdEZXZNb2RlIGlzIHR1cm5lZFxuICogb2ZmLCBzYXZpbmcgYnl0ZXMgb2YgZ2VuZXJhdGVkIGNvZGUgd2hpbGUgc3RpbGwgcHJvdmlkaW5nIGEgZ29vZCBleHBlcmllbmNlIGluIGRldiBtb2RlLlxuICpcbiAqIFRoZSBuYW1lIG9mIHRoZSBjbGFzcyBpcyBub3QgbWVudGlvbmVkIGhlcmUsIGJ1dCB3aWxsIGJlIGluIHRoZSBnZW5lcmF0ZWQgZmFjdG9yeSBmdW5jdGlvbiBuYW1lXG4gKiBhbmQgdGh1cyBpbiB0aGUgc3RhY2sgdHJhY2UuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWludmFsaWRGYWN0b3J5KCkge1xuICAgIGNvbnN0IG1zZyA9IG5nRGV2TW9kZSA/IGBUaGlzIGNvbnN0cnVjdG9yIHdhcyBub3QgY29tcGF0aWJsZSB3aXRoIERlcGVuZGVuY3kgSW5qZWN0aW9uLmAgOiAnaW52YWxpZCc7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBVcGRhdGUgYSBwcm9wZXJ0eSBvbiBhIHNlbGVjdGVkIGVsZW1lbnQuXG4gKlxuICogT3BlcmF0ZXMgb24gdGhlIGVsZW1lbnQgc2VsZWN0ZWQgYnkgaW5kZXggdmlhIHRoZSB7QGxpbmsgc2VsZWN0fSBpbnN0cnVjdGlvbi5cbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIE5hbWUgb2YgcHJvcGVydHkuIEJlY2F1c2UgaXQgaXMgZ29pbmcgdG8gRE9NLCB0aGlzIGlzIG5vdCBzdWJqZWN0IHRvXG4gKiAgICAgICAgcmVuYW1pbmcgYXMgcGFydCBvZiBtaW5pZmljYXRpb24uXG4gKiBAcGFyYW0gdmFsdWUgTmV3IHZhbHVlIHRvIHdyaXRlLlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBmdW5jdGlvbiB1c2VkIHRvIHNhbml0aXplIHRoZSB2YWx1ZS5cbiAqIEByZXR1cm5zIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZFxuICogKGUuZy4gYHByb3BlcnR5KCduYW1lJywgY3R4Lm5hbWUpKCd0aXRsZScsIGN0eC50aXRsZSlgKVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eShwcm9wTmFtZSwgdmFsdWUsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBuZXh0QmluZGluZ0luZGV4KCk7XG4gICAgaWYgKGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHZhbHVlKSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgdmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgYmluZGluZ0luZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eTtcbn1cbi8qKlxuICogR2l2ZW4gYDxkaXYgc3R5bGU9XCIuLi5cIiBteS1kaXI+YCBhbmQgYE15RGlyYCB3aXRoIGBASW5wdXQoJ3N0eWxlJylgIHdlIG5lZWQgdG8gd3JpdGUgdG9cbiAqIGRpcmVjdGl2ZSBpbnB1dC5cbiAqL1xuZnVuY3Rpb24gc2V0RGlyZWN0aXZlSW5wdXRzV2hpY2hTaGFkb3dzU3R5bGluZyh0VmlldywgdE5vZGUsIGxWaWV3LCB2YWx1ZSwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgY29uc3QgaW5wdXRzID0gdE5vZGUuaW5wdXRzO1xuICAgIGNvbnN0IHByb3BlcnR5ID0gaXNDbGFzc0Jhc2VkID8gJ2NsYXNzJyA6ICdzdHlsZSc7XG4gICAgLy8gV2Ugc3VwcG9ydCBib3RoICdjbGFzcycgYW5kIGBjbGFzc05hbWVgIGhlbmNlIHRoZSBmYWxsYmFjay5cbiAgICBzZXRJbnB1dHNGb3JQcm9wZXJ0eSh0VmlldywgbFZpZXcsIGlucHV0c1twcm9wZXJ0eV0sIHByb3BlcnR5LCB2YWx1ZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZWxlbWVudFN0YXJ0Rmlyc3RDcmVhdGVQYXNzKGluZGV4LCB0VmlldywgbFZpZXcsIG5hdGl2ZSwgbmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLmZpcnN0Q3JlYXRlUGFzcysrO1xuICAgIGNvbnN0IHRWaWV3Q29uc3RzID0gdFZpZXcuY29uc3RzO1xuICAgIGNvbnN0IGF0dHJzID0gZ2V0Q29uc3RhbnQodFZpZXdDb25zdHMsIGF0dHJzSW5kZXgpO1xuICAgIGNvbnN0IHROb2RlID0gZ2V0T3JDcmVhdGVUTm9kZSh0VmlldywgaW5kZXgsIDIgLyogRWxlbWVudCAqLywgbmFtZSwgYXR0cnMpO1xuICAgIGNvbnN0IGhhc0RpcmVjdGl2ZXMgPSByZXNvbHZlRGlyZWN0aXZlcyh0VmlldywgbFZpZXcsIHROb2RlLCBnZXRDb25zdGFudCh0Vmlld0NvbnN0cywgbG9jYWxSZWZzSW5kZXgpKTtcbiAgICBuZ0Rldk1vZGUgJiYgbG9nVW5rbm93bkVsZW1lbnRFcnJvcih0VmlldywgbmF0aXZlLCB0Tm9kZSwgaGFzRGlyZWN0aXZlcyk7XG4gICAgaWYgKHROb2RlLmF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgIGNvbXB1dGVTdGF0aWNTdHlsaW5nKHROb2RlLCB0Tm9kZS5hdHRycywgZmFsc2UpO1xuICAgIH1cbiAgICBpZiAodE5vZGUubWVyZ2VkQXR0cnMgIT09IG51bGwpIHtcbiAgICAgICAgY29tcHV0ZVN0YXRpY1N0eWxpbmcodE5vZGUsIHROb2RlLm1lcmdlZEF0dHJzLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHRWaWV3LnF1ZXJpZXMgIT09IG51bGwpIHtcbiAgICAgICAgdFZpZXcucXVlcmllcy5lbGVtZW50U3RhcnQodFZpZXcsIHROb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHROb2RlO1xufVxuLyoqXG4gKiBDcmVhdGUgRE9NIGVsZW1lbnQuIFRoZSBpbnN0cnVjdGlvbiBtdXN0IGxhdGVyIGJlIGZvbGxvd2VkIGJ5IGBlbGVtZW50RW5kKClgIGNhbGwuXG4gKlxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50IGluIHRoZSBMVmlldyBhcnJheVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgRE9NIE5vZGVcbiAqIEBwYXJhbSBhdHRyc0luZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50J3MgYXR0cmlidXRlcyBpbiB0aGUgYGNvbnN0c2AgYXJyYXkuXG4gKiBAcGFyYW0gbG9jYWxSZWZzSW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQncyBsb2NhbCByZWZlcmVuY2VzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqXG4gKiBBdHRyaWJ1dGVzIGFuZCBsb2NhbFJlZnMgYXJlIHBhc3NlZCBhcyBhbiBhcnJheSBvZiBzdHJpbmdzIHdoZXJlIGVsZW1lbnRzIHdpdGggYW4gZXZlbiBpbmRleFxuICogaG9sZCBhbiBhdHRyaWJ1dGUgbmFtZSBhbmQgZWxlbWVudHMgd2l0aCBhbiBvZGQgaW5kZXggaG9sZCBhbiBhdHRyaWJ1dGUgdmFsdWUsIGV4LjpcbiAqIFsnaWQnLCAnd2FybmluZzUnLCAnY2xhc3MnLCAnYWxlcnQnXVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVlbGVtZW50U3RhcnQoaW5kZXgsIG5hbWUsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gSEVBREVSX09GRlNFVCArIGluZGV4O1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChnZXRCaW5kaW5nSW5kZXgoKSwgdFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgsICdlbGVtZW50cyBzaG91bGQgYmUgY3JlYXRlZCBiZWZvcmUgYW55IGJpbmRpbmdzJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgYWRqdXN0ZWRJbmRleCk7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgY29uc3QgbmF0aXZlID0gbFZpZXdbYWRqdXN0ZWRJbmRleF0gPSBjcmVhdGVFbGVtZW50Tm9kZShyZW5kZXJlciwgbmFtZSwgZ2V0TmFtZXNwYWNlJDEoKSk7XG4gICAgY29uc3QgdE5vZGUgPSB0Vmlldy5maXJzdENyZWF0ZVBhc3MgP1xuICAgICAgICBlbGVtZW50U3RhcnRGaXJzdENyZWF0ZVBhc3MoYWRqdXN0ZWRJbmRleCwgdFZpZXcsIGxWaWV3LCBuYXRpdmUsIG5hbWUsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KSA6XG4gICAgICAgIHRWaWV3LmRhdGFbYWRqdXN0ZWRJbmRleF07XG4gICAgc2V0Q3VycmVudFROb2RlKHROb2RlLCB0cnVlKTtcbiAgICBjb25zdCBtZXJnZWRBdHRycyA9IHROb2RlLm1lcmdlZEF0dHJzO1xuICAgIGlmIChtZXJnZWRBdHRycyAhPT0gbnVsbCkge1xuICAgICAgICBzZXRVcEF0dHJpYnV0ZXMocmVuZGVyZXIsIG5hdGl2ZSwgbWVyZ2VkQXR0cnMpO1xuICAgIH1cbiAgICBjb25zdCBjbGFzc2VzID0gdE5vZGUuY2xhc3NlcztcbiAgICBpZiAoY2xhc3NlcyAhPT0gbnVsbCkge1xuICAgICAgICB3cml0ZURpcmVjdENsYXNzKHJlbmRlcmVyLCBuYXRpdmUsIGNsYXNzZXMpO1xuICAgIH1cbiAgICBjb25zdCBzdHlsZXMgPSB0Tm9kZS5zdHlsZXM7XG4gICAgaWYgKHN0eWxlcyAhPT0gbnVsbCkge1xuICAgICAgICB3cml0ZURpcmVjdFN0eWxlKHJlbmRlcmVyLCBuYXRpdmUsIHN0eWxlcyk7XG4gICAgfVxuICAgIGlmICgodE5vZGUuZmxhZ3MgJiA2NCAvKiBpc0RldGFjaGVkICovKSAhPT0gNjQgLyogaXNEZXRhY2hlZCAqLykge1xuICAgICAgICAvLyBJbiB0aGUgaTE4biBjYXNlLCB0aGUgdHJhbnNsYXRpb24gbWF5IGhhdmUgcmVtb3ZlZCB0aGlzIGVsZW1lbnQsIHNvIG9ubHkgYWRkIGl0IGlmIGl0IGlzIG5vdFxuICAgICAgICAvLyBkZXRhY2hlZC4gU2VlIGBUTm9kZVR5cGUuUGxhY2Vob2xkZXJgIGFuZCBgTEZyYW1lLmluSTE4bmAgZm9yIG1vcmUgY29udGV4dC5cbiAgICAgICAgYXBwZW5kQ2hpbGQodFZpZXcsIGxWaWV3LCBuYXRpdmUsIHROb2RlKTtcbiAgICB9XG4gICAgLy8gYW55IGltbWVkaWF0ZSBjaGlsZHJlbiBvZiBhIGNvbXBvbmVudCBvciB0ZW1wbGF0ZSBjb250YWluZXIgbXVzdCBiZSBwcmUtZW1wdGl2ZWx5XG4gICAgLy8gbW9ua2V5LXBhdGNoZWQgd2l0aCB0aGUgY29tcG9uZW50IHZpZXcgZGF0YSBzbyB0aGF0IHRoZSBlbGVtZW50IGNhbiBiZSBpbnNwZWN0ZWRcbiAgICAvLyBsYXRlciBvbiB1c2luZyBhbnkgZWxlbWVudCBkaXNjb3ZlcnkgdXRpbGl0eSBtZXRob2RzIChzZWUgYGVsZW1lbnRfZGlzY292ZXJ5LnRzYClcbiAgICBpZiAoZ2V0RWxlbWVudERlcHRoQ291bnQoKSA9PT0gMCkge1xuICAgICAgICBhdHRhY2hQYXRjaERhdGEobmF0aXZlLCBsVmlldyk7XG4gICAgfVxuICAgIGluY3JlYXNlRWxlbWVudERlcHRoQ291bnQoKTtcbiAgICBpZiAoaXNEaXJlY3RpdmVIb3N0KHROb2RlKSkge1xuICAgICAgICBjcmVhdGVEaXJlY3RpdmVzSW5zdGFuY2VzKHRWaWV3LCBsVmlldywgdE5vZGUpO1xuICAgICAgICBleGVjdXRlQ29udGVudFF1ZXJpZXModFZpZXcsIHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGlmIChsb2NhbFJlZnNJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICBzYXZlUmVzb2x2ZWRMb2NhbHNJbkRhdGEobFZpZXcsIHROb2RlKTtcbiAgICB9XG59XG4vKipcbiAqIE1hcmsgdGhlIGVuZCBvZiB0aGUgZWxlbWVudC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZWxlbWVudEVuZCgpIHtcbiAgICBsZXQgY3VycmVudFROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoY3VycmVudFROb2RlLCAnTm8gcGFyZW50IG5vZGUgdG8gY2xvc2UuJyk7XG4gICAgaWYgKGlzQ3VycmVudFROb2RlUGFyZW50KCkpIHtcbiAgICAgICAgc2V0Q3VycmVudFROb2RlQXNOb3RQYXJlbnQoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRIYXNQYXJlbnQoZ2V0Q3VycmVudFROb2RlKCkpO1xuICAgICAgICBjdXJyZW50VE5vZGUgPSBjdXJyZW50VE5vZGUucGFyZW50O1xuICAgICAgICBzZXRDdXJyZW50VE5vZGUoY3VycmVudFROb2RlLCBmYWxzZSk7XG4gICAgfVxuICAgIGNvbnN0IHROb2RlID0gY3VycmVudFROb2RlO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDMgLyogQW55Uk5vZGUgKi8pO1xuICAgIGRlY3JlYXNlRWxlbWVudERlcHRoQ291bnQoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcykge1xuICAgICAgICByZWdpc3RlclBvc3RPcmRlckhvb2tzKHRWaWV3LCBjdXJyZW50VE5vZGUpO1xuICAgICAgICBpZiAoaXNDb250ZW50UXVlcnlIb3N0KGN1cnJlbnRUTm9kZSkpIHtcbiAgICAgICAgICAgIHRWaWV3LnF1ZXJpZXMuZWxlbWVudEVuZChjdXJyZW50VE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0Tm9kZS5jbGFzc2VzV2l0aG91dEhvc3QgIT0gbnVsbCAmJiBoYXNDbGFzc0lucHV0KHROb2RlKSkge1xuICAgICAgICBzZXREaXJlY3RpdmVJbnB1dHNXaGljaFNoYWRvd3NTdHlsaW5nKHRWaWV3LCB0Tm9kZSwgZ2V0TFZpZXcoKSwgdE5vZGUuY2xhc3Nlc1dpdGhvdXRIb3N0LCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHROb2RlLnN0eWxlc1dpdGhvdXRIb3N0ICE9IG51bGwgJiYgaGFzU3R5bGVJbnB1dCh0Tm9kZSkpIHtcbiAgICAgICAgc2V0RGlyZWN0aXZlSW5wdXRzV2hpY2hTaGFkb3dzU3R5bGluZyh0VmlldywgdE5vZGUsIGdldExWaWV3KCksIHROb2RlLnN0eWxlc1dpdGhvdXRIb3N0LCBmYWxzZSk7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGVtcHR5IGVsZW1lbnQgdXNpbmcge0BsaW5rIGVsZW1lbnRTdGFydH0gYW5kIHtAbGluayBlbGVtZW50RW5kfVxuICpcbiAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgZGF0YSBhcnJheVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgRE9NIE5vZGVcbiAqIEBwYXJhbSBhdHRyc0luZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50J3MgYXR0cmlidXRlcyBpbiB0aGUgYGNvbnN0c2AgYXJyYXkuXG4gKiBAcGFyYW0gbG9jYWxSZWZzSW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQncyBsb2NhbCByZWZlcmVuY2VzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZWxlbWVudChpbmRleCwgbmFtZSwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIHtcbiAgICDJtcm1ZWxlbWVudFN0YXJ0KGluZGV4LCBuYW1lLCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCk7XG4gICAgybXJtWVsZW1lbnRFbmQoKTtcbn1cbmZ1bmN0aW9uIGxvZ1Vua25vd25FbGVtZW50RXJyb3IodFZpZXcsIGVsZW1lbnQsIHROb2RlLCBoYXNEaXJlY3RpdmVzKSB7XG4gICAgY29uc3Qgc2NoZW1hcyA9IHRWaWV3LnNjaGVtYXM7XG4gICAgLy8gSWYgYHNjaGVtYXNgIGlzIHNldCB0byBgbnVsbGAsIHRoYXQncyBhbiBpbmRpY2F0aW9uIHRoYXQgdGhpcyBDb21wb25lbnQgd2FzIGNvbXBpbGVkIGluIEFPVFxuICAgIC8vIG1vZGUgd2hlcmUgdGhpcyBjaGVjayBoYXBwZW5zIGF0IGNvbXBpbGUgdGltZS4gSW4gSklUIG1vZGUsIGBzY2hlbWFzYCBpcyBhbHdheXMgcHJlc2VudCBhbmRcbiAgICAvLyBkZWZpbmVkIGFzIGFuIGFycmF5IChhcyBhbiBlbXB0eSBhcnJheSBpbiBjYXNlIGBzY2hlbWFzYCBmaWVsZCBpcyBub3QgZGVmaW5lZCkgYW5kIHdlIHNob3VsZFxuICAgIC8vIGV4ZWN1dGUgdGhlIGNoZWNrIGJlbG93LlxuICAgIGlmIChzY2hlbWFzID09PSBudWxsKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgdGFnTmFtZSA9IHROb2RlLnZhbHVlO1xuICAgIC8vIElmIHRoZSBlbGVtZW50IG1hdGNoZXMgYW55IGRpcmVjdGl2ZSwgaXQncyBjb25zaWRlcmVkIGFzIHZhbGlkLlxuICAgIGlmICghaGFzRGlyZWN0aXZlcyAmJiB0YWdOYW1lICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFRoZSBlbGVtZW50IGlzIHVua25vd24gaWYgaXQncyBhbiBpbnN0YW5jZSBvZiBIVE1MVW5rbm93bkVsZW1lbnQgb3IgaXQgaXNuJ3QgcmVnaXN0ZXJlZFxuICAgICAgICAvLyBhcyBhIGN1c3RvbSBlbGVtZW50LiBOb3RlIHRoYXQgdW5rbm93biBlbGVtZW50cyB3aXRoIGEgZGFzaCBpbiB0aGVpciBuYW1lIHdvbid0IGJlIGluc3RhbmNlc1xuICAgICAgICAvLyBvZiBIVE1MVW5rbm93bkVsZW1lbnQgaW4gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IHdlYiBjb21wb25lbnRzLlxuICAgICAgICBjb25zdCBpc1Vua25vd24gPSBcbiAgICAgICAgLy8gTm90ZSB0aGF0IHdlIGNhbid0IGNoZWNrIGZvciBgdHlwZW9mIEhUTUxVbmtub3duRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJ2AsXG4gICAgICAgIC8vIGJlY2F1c2Ugd2hpbGUgbW9zdCBicm93c2VycyByZXR1cm4gJ2Z1bmN0aW9uJywgSUUgcmV0dXJucyAnb2JqZWN0Jy5cbiAgICAgICAgKHR5cGVvZiBIVE1MVW5rbm93bkVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIEhUTUxVbmtub3duRWxlbWVudCAmJlxuICAgICAgICAgICAgZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxVbmtub3duRWxlbWVudCkgfHxcbiAgICAgICAgICAgICh0eXBlb2YgY3VzdG9tRWxlbWVudHMgIT09ICd1bmRlZmluZWQnICYmIHRhZ05hbWUuaW5kZXhPZignLScpID4gLTEgJiZcbiAgICAgICAgICAgICAgICAhY3VzdG9tRWxlbWVudHMuZ2V0KHRhZ05hbWUpKTtcbiAgICAgICAgaWYgKGlzVW5rbm93biAmJiAhbWF0Y2hpbmdTY2hlbWFzKHRWaWV3LCB0YWdOYW1lKSkge1xuICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBgJyR7dGFnTmFtZX0nIGlzIG5vdCBhIGtub3duIGVsZW1lbnQ6XFxuYDtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gYDEuIElmICcke3RhZ05hbWV9JyBpcyBhbiBBbmd1bGFyIGNvbXBvbmVudCwgdGhlbiB2ZXJpZnkgdGhhdCBpdCBpcyBwYXJ0IG9mIHRoaXMgbW9kdWxlLlxcbmA7XG4gICAgICAgICAgICBpZiAodGFnTmFtZSAmJiB0YWdOYW1lLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSArPSBgMi4gSWYgJyR7dGFnTmFtZX0nIGlzIGEgV2ViIENvbXBvbmVudCB0aGVuIGFkZCAnQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQScgdG8gdGhlICdATmdNb2R1bGUuc2NoZW1hcycgb2YgdGhpcyBjb21wb25lbnQgdG8gc3VwcHJlc3MgdGhpcyBtZXNzYWdlLmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlICs9XG4gICAgICAgICAgICAgICAgICAgIGAyLiBUbyBhbGxvdyBhbnkgZWxlbWVudCBhZGQgJ05PX0VSUk9SU19TQ0hFTUEnIHRvIHRoZSAnQE5nTW9kdWxlLnNjaGVtYXMnIG9mIHRoaXMgY29tcG9uZW50LmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGZvcm1hdFJ1bnRpbWVFcnJvcigzMDQgLyogVU5LTk9XTl9FTEVNRU5UICovLCBtZXNzYWdlKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZWxlbWVudENvbnRhaW5lclN0YXJ0Rmlyc3RDcmVhdGVQYXNzKGluZGV4LCB0VmlldywgbFZpZXcsIGF0dHJzSW5kZXgsIGxvY2FsUmVmc0luZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5maXJzdENyZWF0ZVBhc3MrKztcbiAgICBjb25zdCB0Vmlld0NvbnN0cyA9IHRWaWV3LmNvbnN0cztcbiAgICBjb25zdCBhdHRycyA9IGdldENvbnN0YW50KHRWaWV3Q29uc3RzLCBhdHRyc0luZGV4KTtcbiAgICBjb25zdCB0Tm9kZSA9IGdldE9yQ3JlYXRlVE5vZGUodFZpZXcsIGluZGV4LCA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8sICduZy1jb250YWluZXInLCBhdHRycyk7XG4gICAgLy8gV2hpbGUgbmctY29udGFpbmVyIGRvZXNuJ3QgbmVjZXNzYXJpbHkgc3VwcG9ydCBzdHlsaW5nLCB3ZSB1c2UgdGhlIHN0eWxlIGNvbnRleHQgdG8gaWRlbnRpZnlcbiAgICAvLyBhbmQgZXhlY3V0ZSBkaXJlY3RpdmVzIG9uIHRoZSBuZy1jb250YWluZXIuXG4gICAgaWYgKGF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgIGNvbXB1dGVTdGF0aWNTdHlsaW5nKHROb2RlLCBhdHRycywgdHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IGxvY2FsUmVmcyA9IGdldENvbnN0YW50KHRWaWV3Q29uc3RzLCBsb2NhbFJlZnNJbmRleCk7XG4gICAgcmVzb2x2ZURpcmVjdGl2ZXModFZpZXcsIGxWaWV3LCB0Tm9kZSwgbG9jYWxSZWZzKTtcbiAgICBpZiAodFZpZXcucXVlcmllcyAhPT0gbnVsbCkge1xuICAgICAgICB0Vmlldy5xdWVyaWVzLmVsZW1lbnRTdGFydCh0VmlldywgdE5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gdE5vZGU7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBsb2dpY2FsIGNvbnRhaW5lciBmb3Igb3RoZXIgbm9kZXMgKDxuZy1jb250YWluZXI+KSBiYWNrZWQgYnkgYSBjb21tZW50IG5vZGUgaW4gdGhlIERPTS5cbiAqIFRoZSBpbnN0cnVjdGlvbiBtdXN0IGxhdGVyIGJlIGZvbGxvd2VkIGJ5IGBlbGVtZW50Q29udGFpbmVyRW5kKClgIGNhbGwuXG4gKlxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50IGluIHRoZSBMVmlldyBhcnJheVxuICogQHBhcmFtIGF0dHJzSW5kZXggSW5kZXggb2YgdGhlIGNvbnRhaW5lciBhdHRyaWJ1dGVzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqIEBwYXJhbSBsb2NhbFJlZnNJbmRleCBJbmRleCBvZiB0aGUgY29udGFpbmVyJ3MgbG9jYWwgcmVmZXJlbmNlcyBpbiB0aGUgYGNvbnN0c2AgYXJyYXkuXG4gKlxuICogRXZlbiBpZiB0aGlzIGluc3RydWN0aW9uIGFjY2VwdHMgYSBzZXQgb2YgYXR0cmlidXRlcyBubyBhY3R1YWwgYXR0cmlidXRlIHZhbHVlcyBhcmUgcHJvcGFnYXRlZCB0b1xuICogdGhlIERPTSAoYXMgYSBjb21tZW50IG5vZGUgY2FuJ3QgaGF2ZSBhdHRyaWJ1dGVzKS4gQXR0cmlidXRlcyBhcmUgaGVyZSBvbmx5IGZvciBkaXJlY3RpdmVcbiAqIG1hdGNoaW5nIHB1cnBvc2VzIGFuZCBzZXR0aW5nIGluaXRpYWwgaW5wdXRzIG9mIGRpcmVjdGl2ZXMuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWVsZW1lbnRDb250YWluZXJTdGFydChpbmRleCwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBpbmRleCArIEhFQURFUl9PRkZTRVQ7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgYWRqdXN0ZWRJbmRleCk7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEVxdWFsKGdldEJpbmRpbmdJbmRleCgpLCB0Vmlldy5iaW5kaW5nU3RhcnRJbmRleCwgJ2VsZW1lbnQgY29udGFpbmVycyBzaG91bGQgYmUgY3JlYXRlZCBiZWZvcmUgYW55IGJpbmRpbmdzJyk7XG4gICAgY29uc3QgdE5vZGUgPSB0Vmlldy5maXJzdENyZWF0ZVBhc3MgP1xuICAgICAgICBlbGVtZW50Q29udGFpbmVyU3RhcnRGaXJzdENyZWF0ZVBhc3MoYWRqdXN0ZWRJbmRleCwgdFZpZXcsIGxWaWV3LCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCkgOlxuICAgICAgICB0Vmlldy5kYXRhW2FkanVzdGVkSW5kZXhdO1xuICAgIHNldEN1cnJlbnRUTm9kZSh0Tm9kZSwgdHJ1ZSk7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckNyZWF0ZUNvbW1lbnQrKztcbiAgICBjb25zdCBuYXRpdmUgPSBsVmlld1thZGp1c3RlZEluZGV4XSA9XG4gICAgICAgIGxWaWV3W1JFTkRFUkVSXS5jcmVhdGVDb21tZW50KG5nRGV2TW9kZSA/ICduZy1jb250YWluZXInIDogJycpO1xuICAgIGFwcGVuZENoaWxkKHRWaWV3LCBsVmlldywgbmF0aXZlLCB0Tm9kZSk7XG4gICAgYXR0YWNoUGF0Y2hEYXRhKG5hdGl2ZSwgbFZpZXcpO1xuICAgIGlmIChpc0RpcmVjdGl2ZUhvc3QodE5vZGUpKSB7XG4gICAgICAgIGNyZWF0ZURpcmVjdGl2ZXNJbnN0YW5jZXModFZpZXcsIGxWaWV3LCB0Tm9kZSk7XG4gICAgICAgIGV4ZWN1dGVDb250ZW50UXVlcmllcyh0VmlldywgdE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgaWYgKGxvY2FsUmVmc0luZGV4ICE9IG51bGwpIHtcbiAgICAgICAgc2F2ZVJlc29sdmVkTG9jYWxzSW5EYXRhKGxWaWV3LCB0Tm9kZSk7XG4gICAgfVxufVxuLyoqXG4gKiBNYXJrIHRoZSBlbmQgb2YgdGhlIDxuZy1jb250YWluZXI+LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVlbGVtZW50Q29udGFpbmVyRW5kKCkge1xuICAgIGxldCBjdXJyZW50VE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgaWYgKGlzQ3VycmVudFROb2RlUGFyZW50KCkpIHtcbiAgICAgICAgc2V0Q3VycmVudFROb2RlQXNOb3RQYXJlbnQoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRIYXNQYXJlbnQoY3VycmVudFROb2RlKTtcbiAgICAgICAgY3VycmVudFROb2RlID0gY3VycmVudFROb2RlLnBhcmVudDtcbiAgICAgICAgc2V0Q3VycmVudFROb2RlKGN1cnJlbnRUTm9kZSwgZmFsc2UpO1xuICAgIH1cbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKGN1cnJlbnRUTm9kZSwgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKTtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIHJlZ2lzdGVyUG9zdE9yZGVySG9va3ModFZpZXcsIGN1cnJlbnRUTm9kZSk7XG4gICAgICAgIGlmIChpc0NvbnRlbnRRdWVyeUhvc3QoY3VycmVudFROb2RlKSkge1xuICAgICAgICAgICAgdFZpZXcucXVlcmllcy5lbGVtZW50RW5kKGN1cnJlbnRUTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gZW1wdHkgbG9naWNhbCBjb250YWluZXIgdXNpbmcge0BsaW5rIGVsZW1lbnRDb250YWluZXJTdGFydH1cbiAqIGFuZCB7QGxpbmsgZWxlbWVudENvbnRhaW5lckVuZH1cbiAqXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQgaW4gdGhlIExWaWV3IGFycmF5XG4gKiBAcGFyYW0gYXR0cnNJbmRleCBJbmRleCBvZiB0aGUgY29udGFpbmVyIGF0dHJpYnV0ZXMgaW4gdGhlIGBjb25zdHNgIGFycmF5LlxuICogQHBhcmFtIGxvY2FsUmVmc0luZGV4IEluZGV4IG9mIHRoZSBjb250YWluZXIncyBsb2NhbCByZWZlcmVuY2VzIGluIHRoZSBgY29uc3RzYCBhcnJheS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1ZWxlbWVudENvbnRhaW5lcihpbmRleCwgYXR0cnNJbmRleCwgbG9jYWxSZWZzSW5kZXgpIHtcbiAgICDJtcm1ZWxlbWVudENvbnRhaW5lclN0YXJ0KGluZGV4LCBhdHRyc0luZGV4LCBsb2NhbFJlZnNJbmRleCk7XG4gICAgybXJtWVsZW1lbnRDb250YWluZXJFbmQoKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IE9wYXF1ZVZpZXdTdGF0ZSBpbnN0YW5jZS5cbiAqXG4gKiBVc2VkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlIHJlc3RvcmVWaWV3KCkgaW5zdHJ1Y3Rpb24gdG8gc2F2ZSBhIHNuYXBzaG90XG4gKiBvZiB0aGUgY3VycmVudCB2aWV3IGFuZCByZXN0b3JlIGl0IHdoZW4gbGlzdGVuZXJzIGFyZSBpbnZva2VkLiBUaGlzIGFsbG93c1xuICogd2Fsa2luZyB0aGUgZGVjbGFyYXRpb24gdmlldyB0cmVlIGluIGxpc3RlbmVycyB0byBnZXQgdmFycyBmcm9tIHBhcmVudCB2aWV3cy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Z2V0Q3VycmVudFZpZXcoKSB7XG4gICAgcmV0dXJuIGdldExWaWV3KCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdGhlIGFyZ3VtZW50IGlzIHNoYXBlZCBsaWtlIGEgUHJvbWlzZVxuICovXG5mdW5jdGlvbiBpc1Byb21pc2Uob2JqKSB7XG4gICAgLy8gYWxsb3cgYW55IFByb21pc2UvQSsgY29tcGxpYW50IHRoZW5hYmxlLlxuICAgIC8vIEl0J3MgdXAgdG8gdGhlIGNhbGxlciB0byBlbnN1cmUgdGhhdCBvYmoudGhlbiBjb25mb3JtcyB0byB0aGUgc3BlY1xuICAgIHJldHVybiAhIW9iaiAmJiB0eXBlb2Ygb2JqLnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG4vKipcbiAqIERldGVybWluZSBpZiB0aGUgYXJndW1lbnQgaXMgYSBTdWJzY3JpYmFibGVcbiAqL1xuZnVuY3Rpb24gaXNTdWJzY3JpYmFibGUob2JqKSB7XG4gICAgcmV0dXJuICEhb2JqICYmIHR5cGVvZiBvYmouc3Vic2NyaWJlID09PSAnZnVuY3Rpb24nO1xufVxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdGhlIGFyZ3VtZW50IGlzIGFuIE9ic2VydmFibGVcbiAqXG4gKiBTdHJpY3RseSB0aGlzIHRlc3RzIHRoYXQgdGhlIGBvYmpgIGlzIGBTdWJzY3JpYmFibGVgLCBzaW5jZSBgT2JzZXJ2YWJsZWBcbiAqIHR5cGVzIG5lZWQgYWRkaXRpb25hbCBtZXRob2RzLCBzdWNoIGFzIGBsaWZ0KClgLiBCdXQgaXQgaXMgYWRlcXVhdGUgZm9yIG91clxuICogbmVlZHMgc2luY2Ugd2l0aGluIHRoZSBBbmd1bGFyIGZyYW1ld29yayBjb2RlIHdlIG9ubHkgZXZlciBuZWVkIHRvIHVzZSB0aGVcbiAqIGBzdWJzY3JpYmUoKWAgbWV0aG9kLCBhbmQgUnhKUyBoYXMgbWVjaGFuaXNtcyB0byB3cmFwIGBTdWJzY3JpYmFibGVgIG9iamVjdHNcbiAqIGludG8gYE9ic2VydmFibGVgIGFzIG5lZWRlZC5cbiAqL1xuY29uc3QgaXNPYnNlcnZhYmxlID0gaXNTdWJzY3JpYmFibGU7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBjdXJyZW50IG5vZGUuXG4gKlxuICogSWYgYW4gb3V0cHV0IGV4aXN0cyBvbiBvbmUgb2YgdGhlIG5vZGUncyBkaXJlY3RpdmVzLCBpdCBhbHNvIHN1YnNjcmliZXMgdG8gdGhlIG91dHB1dFxuICogYW5kIHNhdmVzIHRoZSBzdWJzY3JpcHRpb24gZm9yIGxhdGVyIGNsZWFudXAuXG4gKlxuICogQHBhcmFtIGV2ZW50TmFtZSBOYW1lIG9mIHRoZSBldmVudFxuICogQHBhcmFtIGxpc3RlbmVyRm4gVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIGV2ZW50IGVtaXRzXG4gKiBAcGFyYW0gdXNlQ2FwdHVyZSBXaGV0aGVyIG9yIG5vdCB0byB1c2UgY2FwdHVyZSBpbiBldmVudCBsaXN0ZW5lclxuICogQHBhcmFtIGV2ZW50VGFyZ2V0UmVzb2x2ZXIgRnVuY3Rpb24gdGhhdCByZXR1cm5zIGdsb2JhbCB0YXJnZXQgaW5mb3JtYXRpb24gaW4gY2FzZSB0aGlzIGxpc3RlbmVyXG4gKiBzaG91bGQgYmUgYXR0YWNoZWQgdG8gYSBnbG9iYWwgb2JqZWN0IGxpa2Ugd2luZG93LCBkb2N1bWVudCBvciBib2R5XG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWxpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSwgZXZlbnRUYXJnZXRSZXNvbHZlcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgY29uc3QgdE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICBsaXN0ZW5lckludGVybmFsKHRWaWV3LCBsVmlldywgbFZpZXdbUkVOREVSRVJdLCB0Tm9kZSwgZXZlbnROYW1lLCBsaXN0ZW5lckZuLCAhIXVzZUNhcHR1cmUsIGV2ZW50VGFyZ2V0UmVzb2x2ZXIpO1xuICAgIHJldHVybiDJtcm1bGlzdGVuZXI7XG59XG4vKipcbiAqIFJlZ2lzdGVycyBhIHN5bnRoZXRpYyBob3N0IGxpc3RlbmVyIChlLmcuIGAoQGZvby5zdGFydClgKSBvbiBhIGNvbXBvbmVudCBvciBkaXJlY3RpdmUuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBpcyBmb3IgY29tcGF0aWJpbGl0eSBwdXJwb3NlcyBhbmQgaXMgZGVzaWduZWQgdG8gZW5zdXJlIHRoYXQgYVxuICogc3ludGhldGljIGhvc3QgbGlzdGVuZXIgKGUuZy4gYEBIb3N0TGlzdGVuZXIoJ0Bmb28uc3RhcnQnKWApIHByb3Blcmx5IGdldHMgcmVuZGVyZWRcbiAqIGluIHRoZSBjb21wb25lbnQncyByZW5kZXJlci4gTm9ybWFsbHkgYWxsIGhvc3QgbGlzdGVuZXJzIGFyZSBldmFsdWF0ZWQgd2l0aCB0aGVcbiAqIHBhcmVudCBjb21wb25lbnQncyByZW5kZXJlciwgYnV0LCBpbiB0aGUgY2FzZSBvZiBhbmltYXRpb24gQHRyaWdnZXJzLCB0aGV5IG5lZWRcbiAqIHRvIGJlIGV2YWx1YXRlZCB3aXRoIHRoZSBzdWIgY29tcG9uZW50J3MgcmVuZGVyZXIgKGJlY2F1c2UgdGhhdCdzIHdoZXJlIHRoZVxuICogYW5pbWF0aW9uIHRyaWdnZXJzIGFyZSBkZWZpbmVkKS5cbiAqXG4gKiBEbyBub3QgdXNlIHRoaXMgaW5zdHJ1Y3Rpb24gYXMgYSByZXBsYWNlbWVudCBmb3IgYGxpc3RlbmVyYC4gVGhpcyBpbnN0cnVjdGlvblxuICogb25seSBleGlzdHMgdG8gZW5zdXJlIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgVmlld0VuZ2luZSdzIGhvc3QgYmluZGluZyBiZWhhdmlvci5cbiAqXG4gKiBAcGFyYW0gZXZlbnROYW1lIE5hbWUgb2YgdGhlIGV2ZW50XG4gKiBAcGFyYW0gbGlzdGVuZXJGbiBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gZXZlbnQgZW1pdHNcbiAqIEBwYXJhbSB1c2VDYXB0dXJlIFdoZXRoZXIgb3Igbm90IHRvIHVzZSBjYXB0dXJlIGluIGV2ZW50IGxpc3RlbmVyXG4gKiBAcGFyYW0gZXZlbnRUYXJnZXRSZXNvbHZlciBGdW5jdGlvbiB0aGF0IHJldHVybnMgZ2xvYmFsIHRhcmdldCBpbmZvcm1hdGlvbiBpbiBjYXNlIHRoaXMgbGlzdGVuZXJcbiAqIHNob3VsZCBiZSBhdHRhY2hlZCB0byBhIGdsb2JhbCBvYmplY3QgbGlrZSB3aW5kb3csIGRvY3VtZW50IG9yIGJvZHlcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3ludGhldGljSG9zdExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXJGbikge1xuICAgIGNvbnN0IHROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCBjdXJyZW50RGVmID0gZ2V0Q3VycmVudERpcmVjdGl2ZURlZih0Vmlldy5kYXRhKTtcbiAgICBjb25zdCByZW5kZXJlciA9IGxvYWRDb21wb25lbnRSZW5kZXJlcihjdXJyZW50RGVmLCB0Tm9kZSwgbFZpZXcpO1xuICAgIGxpc3RlbmVySW50ZXJuYWwodFZpZXcsIGxWaWV3LCByZW5kZXJlciwgdE5vZGUsIGV2ZW50TmFtZSwgbGlzdGVuZXJGbiwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3ludGhldGljSG9zdExpc3RlbmVyO1xufVxuLyoqXG4gKiBBIHV0aWxpdHkgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgYSBnaXZlbiBlbGVtZW50IGhhcyBhbHJlYWR5IGFuIGV2ZW50IGhhbmRsZXIgcmVnaXN0ZXJlZCBmb3IgYW5cbiAqIGV2ZW50IHdpdGggYSBzcGVjaWZpZWQgbmFtZS4gVGhlIFRWaWV3LmNsZWFudXAgZGF0YSBzdHJ1Y3R1cmUgaXMgdXNlZCB0byBmaW5kIG91dCB3aGljaCBldmVudHNcbiAqIGFyZSByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRFeGlzdGluZ0xpc3RlbmVyKHRWaWV3LCBsVmlldywgZXZlbnROYW1lLCB0Tm9kZUlkeCkge1xuICAgIGNvbnN0IHRDbGVhbnVwID0gdFZpZXcuY2xlYW51cDtcbiAgICBpZiAodENsZWFudXAgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRDbGVhbnVwLmxlbmd0aCAtIDE7IGkgKz0gMikge1xuICAgICAgICAgICAgY29uc3QgY2xlYW51cEV2ZW50TmFtZSA9IHRDbGVhbnVwW2ldO1xuICAgICAgICAgICAgaWYgKGNsZWFudXBFdmVudE5hbWUgPT09IGV2ZW50TmFtZSAmJiB0Q2xlYW51cFtpICsgMV0gPT09IHROb2RlSWR4KSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBmb3VuZCBhIG1hdGNoaW5nIGV2ZW50IG5hbWUgb24gdGhlIHNhbWUgbm9kZSBidXQgaXQgbWlnaHQgbm90IGhhdmUgYmVlblxuICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyZWQgeWV0LCBzbyB3ZSBtdXN0IGV4cGxpY2l0bHkgdmVyaWZ5IGVudHJpZXMgaW4gdGhlIExWaWV3IGNsZWFudXAgZGF0YVxuICAgICAgICAgICAgICAgIC8vIHN0cnVjdHVyZXMuXG4gICAgICAgICAgICAgICAgY29uc3QgbENsZWFudXAgPSBsVmlld1tDTEVBTlVQXTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0ZW5lcklkeEluTENsZWFudXAgPSB0Q2xlYW51cFtpICsgMl07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxDbGVhbnVwLmxlbmd0aCA+IGxpc3RlbmVySWR4SW5MQ2xlYW51cCA/IGxDbGVhbnVwW2xpc3RlbmVySWR4SW5MQ2xlYW51cF0gOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVFZpZXcuY2xlYW51cCBjYW4gaGF2ZSBhIG1peCBvZiA0LWVsZW1lbnRzIGVudHJpZXMgKGZvciBldmVudCBoYW5kbGVyIGNsZWFudXBzKSBvclxuICAgICAgICAgICAgLy8gMi1lbGVtZW50IGVudHJpZXMgKGZvciBkaXJlY3RpdmUgYW5kIHF1ZXJpZXMgZGVzdHJveSBob29rcykuIEFzIHN1Y2ggd2UgY2FuIGVuY291bnRlclxuICAgICAgICAgICAgLy8gYmxvY2tzIG9mIDQgb3IgMiBpdGVtcyBpbiB0aGUgdFZpZXcuY2xlYW51cCBhbmQgdGhpcyBpcyB3aHkgd2UgaXRlcmF0ZSBvdmVyIDIgZWxlbWVudHNcbiAgICAgICAgICAgIC8vIGZpcnN0IGFuZCBqdW1wIGFub3RoZXIgMiBlbGVtZW50cyBpZiB3ZSBkZXRlY3QgbGlzdGVuZXJzIGNsZWFudXAgKDQgZWxlbWVudHMpLiBBbHNvIGNoZWNrXG4gICAgICAgICAgICAvLyBkb2N1bWVudGF0aW9uIG9mIFRWaWV3LmNsZWFudXAgZm9yIG1vcmUgZGV0YWlscyBvZiB0aGlzIGRhdGEgc3RydWN0dXJlIGxheW91dC5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2xlYW51cEV2ZW50TmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBsaXN0ZW5lckludGVybmFsKHRWaWV3LCBsVmlldywgcmVuZGVyZXIsIHROb2RlLCBldmVudE5hbWUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUsIGV2ZW50VGFyZ2V0UmVzb2x2ZXIpIHtcbiAgICBjb25zdCBpc1ROb2RlRGlyZWN0aXZlSG9zdCA9IGlzRGlyZWN0aXZlSG9zdCh0Tm9kZSk7XG4gICAgY29uc3QgZmlyc3RDcmVhdGVQYXNzID0gdFZpZXcuZmlyc3RDcmVhdGVQYXNzO1xuICAgIGNvbnN0IHRDbGVhbnVwID0gZmlyc3RDcmVhdGVQYXNzICYmIGdldE9yQ3JlYXRlVFZpZXdDbGVhbnVwKHRWaWV3KTtcbiAgICBjb25zdCBjb250ZXh0ID0gbFZpZXdbQ09OVEVYVF07XG4gICAgLy8gV2hlbiB0aGUgybXJtWxpc3RlbmVyIGluc3RydWN0aW9uIHdhcyBnZW5lcmF0ZWQgYW5kIGlzIGV4ZWN1dGVkIHdlIGtub3cgdGhhdCB0aGVyZSBpcyBlaXRoZXIgYVxuICAgIC8vIG5hdGl2ZSBsaXN0ZW5lciBvciBhIGRpcmVjdGl2ZSBvdXRwdXQgb24gdGhpcyBlbGVtZW50LiBBcyBzdWNoIHdlIHdlIGtub3cgdGhhdCB3ZSB3aWxsIGhhdmUgdG9cbiAgICAvLyByZWdpc3RlciBhIGxpc3RlbmVyIGFuZCBzdG9yZSBpdHMgY2xlYW51cCBmdW5jdGlvbiBvbiBMVmlldy5cbiAgICBjb25zdCBsQ2xlYW51cCA9IGdldE9yQ3JlYXRlTFZpZXdDbGVhbnVwKGxWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAzIC8qIEFueVJOb2RlICovIHwgMTIgLyogQW55Q29udGFpbmVyICovKTtcbiAgICBsZXQgcHJvY2Vzc091dHB1dHMgPSB0cnVlO1xuICAgIC8vIEFkZGluZyBhIG5hdGl2ZSBldmVudCBsaXN0ZW5lciBpcyBhcHBsaWNhYmxlIHdoZW46XG4gICAgLy8gLSBUaGUgY29ycmVzcG9uZGluZyBUTm9kZSByZXByZXNlbnRzIGEgRE9NIGVsZW1lbnQuXG4gICAgLy8gLSBUaGUgZXZlbnQgdGFyZ2V0IGhhcyBhIHJlc29sdmVyICh1c3VhbGx5IHJlc3VsdGluZyBpbiBhIGdsb2JhbCBvYmplY3QsXG4gICAgLy8gICBzdWNoIGFzIGB3aW5kb3dgIG9yIGBkb2N1bWVudGApLlxuICAgIGlmICgodE5vZGUudHlwZSAmIDMgLyogQW55Uk5vZGUgKi8pIHx8IGV2ZW50VGFyZ2V0UmVzb2x2ZXIpIHtcbiAgICAgICAgY29uc3QgbmF0aXZlID0gZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudFRhcmdldFJlc29sdmVyID8gZXZlbnRUYXJnZXRSZXNvbHZlcihuYXRpdmUpIDogbmF0aXZlO1xuICAgICAgICBjb25zdCBsQ2xlYW51cEluZGV4ID0gbENsZWFudXAubGVuZ3RoO1xuICAgICAgICBjb25zdCBpZHhPclRhcmdldEdldHRlciA9IGV2ZW50VGFyZ2V0UmVzb2x2ZXIgP1xuICAgICAgICAgICAgKF9sVmlldykgPT4gZXZlbnRUYXJnZXRSZXNvbHZlcih1bndyYXBSTm9kZShfbFZpZXdbdE5vZGUuaW5kZXhdKSkgOlxuICAgICAgICAgICAgdE5vZGUuaW5kZXg7XG4gICAgICAgIC8vIEluIG9yZGVyIHRvIG1hdGNoIGN1cnJlbnQgYmVoYXZpb3IsIG5hdGl2ZSBET00gZXZlbnQgbGlzdGVuZXJzIG11c3QgYmUgYWRkZWQgZm9yIGFsbFxuICAgICAgICAvLyBldmVudHMgKGluY2x1ZGluZyBvdXRwdXRzKS5cbiAgICAgICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICAgICAgLy8gVGhlcmUgbWlnaHQgYmUgY2FzZXMgd2hlcmUgbXVsdGlwbGUgZGlyZWN0aXZlcyBvbiB0aGUgc2FtZSBlbGVtZW50IHRyeSB0byByZWdpc3RlciBhbiBldmVudFxuICAgICAgICAgICAgLy8gaGFuZGxlciBmdW5jdGlvbiBmb3IgdGhlIHNhbWUgZXZlbnQuIEluIHRoaXMgc2l0dWF0aW9uIHdlIHdhbnQgdG8gYXZvaWQgcmVnaXN0cmF0aW9uIG9mXG4gICAgICAgICAgICAvLyBzZXZlcmFsIG5hdGl2ZSBsaXN0ZW5lcnMgYXMgZWFjaCByZWdpc3RyYXRpb24gd291bGQgYmUgaW50ZXJjZXB0ZWQgYnkgTmdab25lIGFuZFxuICAgICAgICAgICAgLy8gdHJpZ2dlciBjaGFuZ2UgZGV0ZWN0aW9uLiBUaGlzIHdvdWxkIG1lYW4gdGhhdCBhIHNpbmdsZSB1c2VyIGFjdGlvbiB3b3VsZCByZXN1bHQgaW4gc2V2ZXJhbFxuICAgICAgICAgICAgLy8gY2hhbmdlIGRldGVjdGlvbnMgYmVpbmcgaW52b2tlZC4gVG8gYXZvaWQgdGhpcyBzaXR1YXRpb24gd2Ugd2FudCB0byBoYXZlIG9ubHkgb25lIGNhbGwgdG9cbiAgICAgICAgICAgIC8vIG5hdGl2ZSBoYW5kbGVyIHJlZ2lzdHJhdGlvbiAoZm9yIHRoZSBzYW1lIGVsZW1lbnQgYW5kIHNhbWUgdHlwZSBvZiBldmVudCkuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gSW4gb3JkZXIgdG8gaGF2ZSBqdXN0IG9uZSBuYXRpdmUgZXZlbnQgaGFuZGxlciBpbiBwcmVzZW5jZSBvZiBtdWx0aXBsZSBoYW5kbGVyIGZ1bmN0aW9ucyxcbiAgICAgICAgICAgIC8vIHdlIGp1c3QgcmVnaXN0ZXIgYSBmaXJzdCBoYW5kbGVyIGZ1bmN0aW9uIGFzIGEgbmF0aXZlIGV2ZW50IGxpc3RlbmVyIGFuZCB0aGVuIGNoYWluXG4gICAgICAgICAgICAvLyAoY29hbGVzY2UpIG90aGVyIGhhbmRsZXIgZnVuY3Rpb25zIG9uIHRvcCBvZiB0aGUgZmlyc3QgbmF0aXZlIGhhbmRsZXIgZnVuY3Rpb24uXG4gICAgICAgICAgICBsZXQgZXhpc3RpbmdMaXN0ZW5lciA9IG51bGw7XG4gICAgICAgICAgICAvLyBQbGVhc2Ugbm90ZSB0aGF0IHRoZSBjb2FsZXNjaW5nIGRlc2NyaWJlZCBoZXJlIGRvZXNuJ3QgaGFwcGVuIGZvciBldmVudHMgc3BlY2lmeWluZyBhblxuICAgICAgICAgICAgLy8gYWx0ZXJuYXRpdmUgdGFyZ2V0IChleC4gKGRvY3VtZW50OmNsaWNrKSkgLSB0aGlzIGlzIHRvIGtlZXAgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIHRoZVxuICAgICAgICAgICAgLy8gdmlldyBlbmdpbmUuXG4gICAgICAgICAgICAvLyBBbHNvLCB3ZSBkb24ndCBoYXZlIHRvIHNlYXJjaCBmb3IgZXhpc3RpbmcgbGlzdGVuZXJzIGlzIHRoZXJlIGFyZSBubyBkaXJlY3RpdmVzXG4gICAgICAgICAgICAvLyBtYXRjaGluZyBvbiBhIGdpdmVuIG5vZGUgYXMgd2UgY2FuJ3QgcmVnaXN0ZXIgbXVsdGlwbGUgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBzYW1lIGV2ZW50IGluXG4gICAgICAgICAgICAvLyBhIHRlbXBsYXRlICh0aGlzIHdvdWxkIG1lYW4gaGF2aW5nIGR1cGxpY2F0ZSBhdHRyaWJ1dGVzKS5cbiAgICAgICAgICAgIGlmICghZXZlbnRUYXJnZXRSZXNvbHZlciAmJiBpc1ROb2RlRGlyZWN0aXZlSG9zdCkge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nTGlzdGVuZXIgPSBmaW5kRXhpc3RpbmdMaXN0ZW5lcih0VmlldywgbFZpZXcsIGV2ZW50TmFtZSwgdE5vZGUuaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBBdHRhY2ggYSBuZXcgbGlzdGVuZXIgdG8gY29hbGVzY2VkIGxpc3RlbmVycyBsaXN0LCBtYWludGFpbmluZyB0aGUgb3JkZXIgaW4gd2hpY2hcbiAgICAgICAgICAgICAgICAvLyBsaXN0ZW5lcnMgYXJlIHJlZ2lzdGVyZWQuIEZvciBwZXJmb3JtYW5jZSByZWFzb25zLCB3ZSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBsYXN0XG4gICAgICAgICAgICAgICAgLy8gbGlzdGVuZXIgaW4gdGhhdCBsaXN0IChpbiBgX19uZ0xhc3RMaXN0ZW5lckZuX19gIGZpZWxkKSwgc28gd2UgY2FuIGF2b2lkIGdvaW5nIHRocm91Z2hcbiAgICAgICAgICAgICAgICAvLyB0aGUgZW50aXJlIHNldCBlYWNoIHRpbWUgd2UgbmVlZCB0byBhZGQgYSBuZXcgbGlzdGVuZXIuXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdExpc3RlbmVyRm4gPSBleGlzdGluZ0xpc3RlbmVyLl9fbmdMYXN0TGlzdGVuZXJGbl9fIHx8IGV4aXN0aW5nTGlzdGVuZXI7XG4gICAgICAgICAgICAgICAgbGFzdExpc3RlbmVyRm4uX19uZ05leHRMaXN0ZW5lckZuX18gPSBsaXN0ZW5lckZuO1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nTGlzdGVuZXIuX19uZ0xhc3RMaXN0ZW5lckZuX18gPSBsaXN0ZW5lckZuO1xuICAgICAgICAgICAgICAgIHByb2Nlc3NPdXRwdXRzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lckZuID0gd3JhcExpc3RlbmVyKHROb2RlLCBsVmlldywgY29udGV4dCwgbGlzdGVuZXJGbiwgZmFsc2UgLyoqIHByZXZlbnREZWZhdWx0ICovKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGVhbnVwRm4gPSByZW5kZXJlci5saXN0ZW4odGFyZ2V0LCBldmVudE5hbWUsIGxpc3RlbmVyRm4pO1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJBZGRFdmVudExpc3RlbmVyKys7XG4gICAgICAgICAgICAgICAgbENsZWFudXAucHVzaChsaXN0ZW5lckZuLCBjbGVhbnVwRm4pO1xuICAgICAgICAgICAgICAgIHRDbGVhbnVwICYmIHRDbGVhbnVwLnB1c2goZXZlbnROYW1lLCBpZHhPclRhcmdldEdldHRlciwgbENsZWFudXBJbmRleCwgbENsZWFudXBJbmRleCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGlzdGVuZXJGbiA9IHdyYXBMaXN0ZW5lcih0Tm9kZSwgbFZpZXcsIGNvbnRleHQsIGxpc3RlbmVyRm4sIHRydWUgLyoqIHByZXZlbnREZWZhdWx0ICovKTtcbiAgICAgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSk7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQWRkRXZlbnRMaXN0ZW5lcisrO1xuICAgICAgICAgICAgbENsZWFudXAucHVzaChsaXN0ZW5lckZuKTtcbiAgICAgICAgICAgIHRDbGVhbnVwICYmIHRDbGVhbnVwLnB1c2goZXZlbnROYW1lLCBpZHhPclRhcmdldEdldHRlciwgbENsZWFudXBJbmRleCwgdXNlQ2FwdHVyZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEV2ZW4gaWYgdGhlcmUgaXMgbm8gbmF0aXZlIGxpc3RlbmVyIHRvIGFkZCwgd2Ugc3RpbGwgbmVlZCB0byB3cmFwIHRoZSBsaXN0ZW5lciBzbyB0aGF0IE9uUHVzaFxuICAgICAgICAvLyBhbmNlc3RvcnMgYXJlIG1hcmtlZCBkaXJ0eSB3aGVuIGFuIGV2ZW50IG9jY3Vycy5cbiAgICAgICAgbGlzdGVuZXJGbiA9IHdyYXBMaXN0ZW5lcih0Tm9kZSwgbFZpZXcsIGNvbnRleHQsIGxpc3RlbmVyRm4sIGZhbHNlIC8qKiBwcmV2ZW50RGVmYXVsdCAqLyk7XG4gICAgfVxuICAgIC8vIHN1YnNjcmliZSB0byBkaXJlY3RpdmUgb3V0cHV0c1xuICAgIGNvbnN0IG91dHB1dHMgPSB0Tm9kZS5vdXRwdXRzO1xuICAgIGxldCBwcm9wcztcbiAgICBpZiAocHJvY2Vzc091dHB1dHMgJiYgb3V0cHV0cyAhPT0gbnVsbCAmJiAocHJvcHMgPSBvdXRwdXRzW2V2ZW50TmFtZV0pKSB7XG4gICAgICAgIGNvbnN0IHByb3BzTGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuICAgICAgICBpZiAocHJvcHNMZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHNMZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcHJvcHNbaV07XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZShsVmlldywgaW5kZXgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbmlmaWVkTmFtZSA9IHByb3BzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXJlY3RpdmVJbnN0YW5jZSA9IGxWaWV3W2luZGV4XTtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXQgPSBkaXJlY3RpdmVJbnN0YW5jZVttaW5pZmllZE5hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgIWlzT2JzZXJ2YWJsZShvdXRwdXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQE91dHB1dCAke21pbmlmaWVkTmFtZX0gbm90IGluaXRpYWxpemVkIGluICcke2RpcmVjdGl2ZUluc3RhbmNlLmNvbnN0cnVjdG9yLm5hbWV9Jy5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gb3V0cHV0LnN1YnNjcmliZShsaXN0ZW5lckZuKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpZHggPSBsQ2xlYW51cC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbENsZWFudXAucHVzaChsaXN0ZW5lckZuLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgIHRDbGVhbnVwICYmIHRDbGVhbnVwLnB1c2goZXZlbnROYW1lLCB0Tm9kZS5pbmRleCwgaWR4LCAtKGlkeCArIDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGV4ZWN1dGVMaXN0ZW5lcldpdGhFcnJvckhhbmRsaW5nKGxWaWV3LCBjb250ZXh0LCBsaXN0ZW5lckZuLCBlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcHJvZmlsZXIoNiAvKiBPdXRwdXRTdGFydCAqLywgY29udGV4dCwgbGlzdGVuZXJGbik7XG4gICAgICAgIC8vIE9ubHkgZXhwbGljaXRseSByZXR1cm5pbmcgZmFsc2UgZnJvbSBhIGxpc3RlbmVyIHNob3VsZCBwcmV2ZW50RGVmYXVsdFxuICAgICAgICByZXR1cm4gbGlzdGVuZXJGbihlKSAhPT0gZmFsc2U7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBoYW5kbGVFcnJvcihsVmlldywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBwcm9maWxlcig3IC8qIE91dHB1dEVuZCAqLywgY29udGV4dCwgbGlzdGVuZXJGbik7XG4gICAgfVxufVxuLyoqXG4gKiBXcmFwcyBhbiBldmVudCBsaXN0ZW5lciB3aXRoIGEgZnVuY3Rpb24gdGhhdCBtYXJrcyBhbmNlc3RvcnMgZGlydHkgYW5kIHByZXZlbnRzIGRlZmF1bHQgYmVoYXZpb3IsXG4gKiBpZiBhcHBsaWNhYmxlLlxuICpcbiAqIEBwYXJhbSB0Tm9kZSBUaGUgVE5vZGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbGlzdGVuZXJcbiAqIEBwYXJhbSBsVmlldyBUaGUgTFZpZXcgdGhhdCBjb250YWlucyB0aGlzIGxpc3RlbmVyXG4gKiBAcGFyYW0gbGlzdGVuZXJGbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gY2FsbFxuICogQHBhcmFtIHdyYXBXaXRoUHJldmVudERlZmF1bHQgV2hldGhlciBvciBub3QgdG8gcHJldmVudCBkZWZhdWx0IGJlaGF2aW9yXG4gKiAodGhlIHByb2NlZHVyYWwgcmVuZGVyZXIgZG9lcyB0aGlzIGFscmVhZHksIHNvIGluIHRob3NlIGNhc2VzLCB3ZSBzaG91bGQgc2tpcClcbiAqL1xuZnVuY3Rpb24gd3JhcExpc3RlbmVyKHROb2RlLCBsVmlldywgY29udGV4dCwgbGlzdGVuZXJGbiwgd3JhcFdpdGhQcmV2ZW50RGVmYXVsdCkge1xuICAgIC8vIE5vdGU6IHdlIGFyZSBwZXJmb3JtaW5nIG1vc3Qgb2YgdGhlIHdvcmsgaW4gdGhlIGxpc3RlbmVyIGZ1bmN0aW9uIGl0c2VsZlxuICAgIC8vIHRvIG9wdGltaXplIGxpc3RlbmVyIHJlZ2lzdHJhdGlvbi5cbiAgICByZXR1cm4gZnVuY3Rpb24gd3JhcExpc3RlbmVySW5fbWFya0RpcnR5QW5kUHJldmVudERlZmF1bHQoZSkge1xuICAgICAgICAvLyBJdnkgdXNlcyBgRnVuY3Rpb25gIGFzIGEgc3BlY2lhbCB0b2tlbiB0aGF0IGFsbG93cyB1cyB0byB1bndyYXAgdGhlIGZ1bmN0aW9uXG4gICAgICAgIC8vIHNvIHRoYXQgaXQgY2FuIGJlIGludm9rZWQgcHJvZ3JhbW1hdGljYWxseSBieSBgRGVidWdOb2RlLnRyaWdnZXJFdmVudEhhbmRsZXJgLlxuICAgICAgICBpZiAoZSA9PT0gRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0ZW5lckZuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluIG9yZGVyIHRvIGJlIGJhY2t3YXJkcyBjb21wYXRpYmxlIHdpdGggVmlldyBFbmdpbmUsIGV2ZW50cyBvbiBjb21wb25lbnQgaG9zdCBub2Rlc1xuICAgICAgICAvLyBtdXN0IGFsc28gbWFyayB0aGUgY29tcG9uZW50IHZpZXcgaXRzZWxmIGRpcnR5IChpLmUuIHRoZSB2aWV3IHRoYXQgaXQgb3ducykuXG4gICAgICAgIGNvbnN0IHN0YXJ0VmlldyA9IHROb2RlLmZsYWdzICYgMiAvKiBpc0NvbXBvbmVudEhvc3QgKi8gP1xuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KHROb2RlLmluZGV4LCBsVmlldykgOlxuICAgICAgICAgICAgbFZpZXc7XG4gICAgICAgIC8vIFNlZSBpbnRlcmZhY2VzL3ZpZXcudHMgZm9yIG1vcmUgb24gTFZpZXdGbGFncy5NYW51YWxPblB1c2hcbiAgICAgICAgaWYgKChsVmlld1tGTEFHU10gJiAzMiAvKiBNYW51YWxPblB1c2ggKi8pID09PSAwKSB7XG4gICAgICAgICAgICBtYXJrVmlld0RpcnR5KHN0YXJ0Vmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdCA9IGV4ZWN1dGVMaXN0ZW5lcldpdGhFcnJvckhhbmRsaW5nKGxWaWV3LCBjb250ZXh0LCBsaXN0ZW5lckZuLCBlKTtcbiAgICAgICAgLy8gQSBqdXN0LWludm9rZWQgbGlzdGVuZXIgZnVuY3Rpb24gbWlnaHQgaGF2ZSBjb2FsZXNjZWQgbGlzdGVuZXJzIHNvIHdlIG5lZWQgdG8gY2hlY2sgZm9yXG4gICAgICAgIC8vIHRoZWlyIHByZXNlbmNlIGFuZCBpbnZva2UgYXMgbmVlZGVkLlxuICAgICAgICBsZXQgbmV4dExpc3RlbmVyRm4gPSB3cmFwTGlzdGVuZXJJbl9tYXJrRGlydHlBbmRQcmV2ZW50RGVmYXVsdC5fX25nTmV4dExpc3RlbmVyRm5fXztcbiAgICAgICAgd2hpbGUgKG5leHRMaXN0ZW5lckZuKSB7XG4gICAgICAgICAgICAvLyBXZSBzaG91bGQgcHJldmVudCBkZWZhdWx0IGlmIGFueSBvZiB0aGUgbGlzdGVuZXJzIGV4cGxpY2l0bHkgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICByZXN1bHQgPSBleGVjdXRlTGlzdGVuZXJXaXRoRXJyb3JIYW5kbGluZyhsVmlldywgY29udGV4dCwgbmV4dExpc3RlbmVyRm4sIGUpICYmIHJlc3VsdDtcbiAgICAgICAgICAgIG5leHRMaXN0ZW5lckZuID0gbmV4dExpc3RlbmVyRm4uX19uZ05leHRMaXN0ZW5lckZuX187XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdyYXBXaXRoUHJldmVudERlZmF1bHQgJiYgcmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgLy8gTmVjZXNzYXJ5IGZvciBsZWdhY3kgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHByZXZlbnREZWZhdWx0IChlLmcuIElFKVxuICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXRyaWV2ZXMgYSBjb250ZXh0IGF0IHRoZSBsZXZlbCBzcGVjaWZpZWQgYW5kIHNhdmVzIGl0IGFzIHRoZSBnbG9iYWwsIGNvbnRleHRWaWV3RGF0YS5cbiAqIFdpbGwgZ2V0IHRoZSBuZXh0IGxldmVsIHVwIGlmIGxldmVsIGlzIG5vdCBzcGVjaWZpZWQuXG4gKlxuICogVGhpcyBpcyB1c2VkIHRvIHNhdmUgY29udGV4dHMgb2YgcGFyZW50IHZpZXdzIHNvIHRoZXkgY2FuIGJlIGJvdW5kIGluIGVtYmVkZGVkIHZpZXdzLCBvclxuICogaW4gY29uanVuY3Rpb24gd2l0aCByZWZlcmVuY2UoKSB0byBiaW5kIGEgcmVmIGZyb20gYSBwYXJlbnQgdmlldy5cbiAqXG4gKiBAcGFyYW0gbGV2ZWwgVGhlIHJlbGF0aXZlIGxldmVsIG9mIHRoZSB2aWV3IGZyb20gd2hpY2ggdG8gZ3JhYiBjb250ZXh0IGNvbXBhcmVkIHRvIGNvbnRleHRWZXdEYXRhXG4gKiBAcmV0dXJucyBjb250ZXh0XG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtW5leHRDb250ZXh0KGxldmVsID0gMSkge1xuICAgIHJldHVybiBuZXh0Q29udGV4dEltcGwobGV2ZWwpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ2hlY2tzIGEgZ2l2ZW4gbm9kZSBhZ2FpbnN0IG1hdGNoaW5nIHByb2plY3Rpb24gc2xvdHMgYW5kIHJldHVybnMgdGhlXG4gKiBkZXRlcm1pbmVkIHNsb3QgaW5kZXguIFJldHVybnMgXCJudWxsXCIgaWYgbm8gc2xvdCBtYXRjaGVkIHRoZSBnaXZlbiBub2RlLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgaW50byBhY2NvdW50IHRoZSBwYXJzZWQgbmdQcm9qZWN0QXMgc2VsZWN0b3IgZnJvbSB0aGVcbiAqIG5vZGUncyBhdHRyaWJ1dGVzLiBJZiBwcmVzZW50LCBpdCB3aWxsIGNoZWNrIHdoZXRoZXIgdGhlIG5nUHJvamVjdEFzIHNlbGVjdG9yXG4gKiBtYXRjaGVzIGFueSBvZiB0aGUgcHJvamVjdGlvbiBzbG90IHNlbGVjdG9ycy5cbiAqL1xuZnVuY3Rpb24gbWF0Y2hpbmdQcm9qZWN0aW9uU2xvdEluZGV4KHROb2RlLCBwcm9qZWN0aW9uU2xvdHMpIHtcbiAgICBsZXQgd2lsZGNhcmROZ0NvbnRlbnRJbmRleCA9IG51bGw7XG4gICAgY29uc3QgbmdQcm9qZWN0QXNBdHRyVmFsID0gZ2V0UHJvamVjdEFzQXR0clZhbHVlKHROb2RlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3Rpb25TbG90cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzbG90VmFsdWUgPSBwcm9qZWN0aW9uU2xvdHNbaV07XG4gICAgICAgIC8vIFRoZSBsYXN0IHdpbGRjYXJkIHByb2plY3Rpb24gc2xvdCBzaG91bGQgbWF0Y2ggYWxsIG5vZGVzIHdoaWNoIGFyZW4ndCBtYXRjaGluZ1xuICAgICAgICAvLyBhbnkgc2VsZWN0b3IuIFRoaXMgaXMgbmVjZXNzYXJ5IHRvIGJlIGJhY2t3YXJkcyBjb21wYXRpYmxlIHdpdGggdmlldyBlbmdpbmUuXG4gICAgICAgIGlmIChzbG90VmFsdWUgPT09ICcqJykge1xuICAgICAgICAgICAgd2lsZGNhcmROZ0NvbnRlbnRJbmRleCA9IGk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSByYW4gaW50byBhbiBgbmdQcm9qZWN0QXNgIGF0dHJpYnV0ZSwgd2Ugc2hvdWxkIG1hdGNoIGl0cyBwYXJzZWQgc2VsZWN0b3JcbiAgICAgICAgLy8gdG8gdGhlIGxpc3Qgb2Ygc2VsZWN0b3JzLCBvdGhlcndpc2Ugd2UgZmFsbCBiYWNrIHRvIG1hdGNoaW5nIGFnYWluc3QgdGhlIG5vZGUuXG4gICAgICAgIGlmIChuZ1Byb2plY3RBc0F0dHJWYWwgPT09IG51bGwgP1xuICAgICAgICAgICAgaXNOb2RlTWF0Y2hpbmdTZWxlY3Rvckxpc3QodE5vZGUsIHNsb3RWYWx1ZSwgLyogaXNQcm9qZWN0aW9uTW9kZSAqLyB0cnVlKSA6XG4gICAgICAgICAgICBpc1NlbGVjdG9ySW5TZWxlY3Rvckxpc3QobmdQcm9qZWN0QXNBdHRyVmFsLCBzbG90VmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTsgLy8gZmlyc3QgbWF0Y2hpbmcgc2VsZWN0b3IgXCJjYXB0dXJlc1wiIGEgZ2l2ZW4gbm9kZVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB3aWxkY2FyZE5nQ29udGVudEluZGV4O1xufVxuLyoqXG4gKiBJbnN0cnVjdGlvbiB0byBkaXN0cmlidXRlIHByb2plY3RhYmxlIG5vZGVzIGFtb25nIDxuZy1jb250ZW50PiBvY2N1cnJlbmNlcyBpbiBhIGdpdmVuIHRlbXBsYXRlLlxuICogSXQgdGFrZXMgYWxsIHRoZSBzZWxlY3RvcnMgZnJvbSB0aGUgZW50aXJlIGNvbXBvbmVudCdzIHRlbXBsYXRlIGFuZCBkZWNpZGVzIHdoZXJlXG4gKiBlYWNoIHByb2plY3RlZCBub2RlIGJlbG9uZ3MgKGl0IHJlLWRpc3RyaWJ1dGVzIG5vZGVzIGFtb25nIFwiYnVja2V0c1wiIHdoZXJlIGVhY2ggXCJidWNrZXRcIiBpc1xuICogYmFja2VkIGJ5IGEgc2VsZWN0b3IpLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcmVxdWlyZXMgQ1NTIHNlbGVjdG9ycyB0byBiZSBwcm92aWRlZCBpbiAyIGZvcm1zOiBwYXJzZWQgKGJ5IGEgY29tcGlsZXIpIGFuZCB0ZXh0LFxuICogdW4tcGFyc2VkIGZvcm0uXG4gKlxuICogVGhlIHBhcnNlZCBmb3JtIGlzIG5lZWRlZCBmb3IgZWZmaWNpZW50IG1hdGNoaW5nIG9mIGEgbm9kZSBhZ2FpbnN0IGEgZ2l2ZW4gQ1NTIHNlbGVjdG9yLlxuICogVGhlIHVuLXBhcnNlZCwgdGV4dHVhbCBmb3JtIGlzIG5lZWRlZCBmb3Igc3VwcG9ydCBvZiB0aGUgbmdQcm9qZWN0QXMgYXR0cmlidXRlLlxuICpcbiAqIEhhdmluZyBhIENTUyBzZWxlY3RvciBpbiAyIGRpZmZlcmVudCBmb3JtYXRzIGlzIG5vdCBpZGVhbCwgYnV0IGFsdGVybmF0aXZlcyBoYXZlIGV2ZW4gbW9yZVxuICogZHJhd2JhY2tzOlxuICogLSBoYXZpbmcgb25seSBhIHRleHR1YWwgZm9ybSB3b3VsZCByZXF1aXJlIHJ1bnRpbWUgcGFyc2luZyBvZiBDU1Mgc2VsZWN0b3JzO1xuICogLSB3ZSBjYW4ndCBoYXZlIG9ubHkgYSBwYXJzZWQgYXMgd2UgY2FuJ3QgcmUtY29uc3RydWN0IHRleHR1YWwgZm9ybSBmcm9tIGl0IChhcyBlbnRlcmVkIGJ5IGFcbiAqIHRlbXBsYXRlIGF1dGhvcikuXG4gKlxuICogQHBhcmFtIHByb2plY3Rpb25TbG90cz8gQSBjb2xsZWN0aW9uIG9mIHByb2plY3Rpb24gc2xvdHMuIEEgcHJvamVjdGlvbiBzbG90IGNhbiBiZSBiYXNlZFxuICogICAgICAgIG9uIGEgcGFyc2VkIENTUyBzZWxlY3RvcnMgb3Igc2V0IHRvIHRoZSB3aWxkY2FyZCBzZWxlY3RvciAoXCIqXCIpIGluIG9yZGVyIHRvIG1hdGNoXG4gKiAgICAgICAgYWxsIG5vZGVzIHdoaWNoIGRvIG5vdCBtYXRjaCBhbnkgc2VsZWN0b3IuIElmIG5vdCBzcGVjaWZpZWQsIGEgc2luZ2xlIHdpbGRjYXJkXG4gKiAgICAgICAgc2VsZWN0b3IgcHJvamVjdGlvbiBzbG90IHdpbGwgYmUgZGVmaW5lZC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvamVjdGlvbkRlZihwcm9qZWN0aW9uU2xvdHMpIHtcbiAgICBjb25zdCBjb21wb25lbnROb2RlID0gZ2V0TFZpZXcoKVtERUNMQVJBVElPTl9DT01QT05FTlRfVklFV11bVF9IT1NUXTtcbiAgICBpZiAoIWNvbXBvbmVudE5vZGUucHJvamVjdGlvbikge1xuICAgICAgICAvLyBJZiBubyBleHBsaWNpdCBwcm9qZWN0aW9uIHNsb3RzIGFyZSBkZWZpbmVkLCBmYWxsIGJhY2sgdG8gYSBzaW5nbGVcbiAgICAgICAgLy8gcHJvamVjdGlvbiBzbG90IHdpdGggdGhlIHdpbGRjYXJkIHNlbGVjdG9yLlxuICAgICAgICBjb25zdCBudW1Qcm9qZWN0aW9uU2xvdHMgPSBwcm9qZWN0aW9uU2xvdHMgPyBwcm9qZWN0aW9uU2xvdHMubGVuZ3RoIDogMTtcbiAgICAgICAgY29uc3QgcHJvamVjdGlvbkhlYWRzID0gY29tcG9uZW50Tm9kZS5wcm9qZWN0aW9uID1cbiAgICAgICAgICAgIG5ld0FycmF5KG51bVByb2plY3Rpb25TbG90cywgbnVsbCk7XG4gICAgICAgIGNvbnN0IHRhaWxzID0gcHJvamVjdGlvbkhlYWRzLnNsaWNlKCk7XG4gICAgICAgIGxldCBjb21wb25lbnRDaGlsZCA9IGNvbXBvbmVudE5vZGUuY2hpbGQ7XG4gICAgICAgIHdoaWxlIChjb21wb25lbnRDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3Qgc2xvdEluZGV4ID0gcHJvamVjdGlvblNsb3RzID8gbWF0Y2hpbmdQcm9qZWN0aW9uU2xvdEluZGV4KGNvbXBvbmVudENoaWxkLCBwcm9qZWN0aW9uU2xvdHMpIDogMDtcbiAgICAgICAgICAgIGlmIChzbG90SW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFpbHNbc2xvdEluZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICB0YWlsc1tzbG90SW5kZXhdLnByb2plY3Rpb25OZXh0ID0gY29tcG9uZW50Q2hpbGQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0aW9uSGVhZHNbc2xvdEluZGV4XSA9IGNvbXBvbmVudENoaWxkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0YWlsc1tzbG90SW5kZXhdID0gY29tcG9uZW50Q2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21wb25lbnRDaGlsZCA9IGNvbXBvbmVudENoaWxkLm5leHQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEluc2VydHMgcHJldmlvdXNseSByZS1kaXN0cmlidXRlZCBwcm9qZWN0ZWQgbm9kZXMuIFRoaXMgaW5zdHJ1Y3Rpb24gbXVzdCBiZSBwcmVjZWRlZCBieSBhIGNhbGxcbiAqIHRvIHRoZSBwcm9qZWN0aW9uRGVmIGluc3RydWN0aW9uLlxuICpcbiAqIEBwYXJhbSBub2RlSW5kZXhcbiAqIEBwYXJhbSBzZWxlY3RvckluZGV4OlxuICogICAgICAgIC0gMCB3aGVuIHRoZSBzZWxlY3RvciBpcyBgKmAgKG9yIHVuc3BlY2lmaWVkIGFzIHRoaXMgaXMgdGhlIGRlZmF1bHQgdmFsdWUpLFxuICogICAgICAgIC0gMSBiYXNlZCBpbmRleCBvZiB0aGUgc2VsZWN0b3IgZnJvbSB0aGUge0BsaW5rIHByb2plY3Rpb25EZWZ9XG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb2plY3Rpb24obm9kZUluZGV4LCBzZWxlY3RvckluZGV4ID0gMCwgYXR0cnMpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGNvbnN0IHRQcm9qZWN0aW9uTm9kZSA9IGdldE9yQ3JlYXRlVE5vZGUodFZpZXcsIEhFQURFUl9PRkZTRVQgKyBub2RlSW5kZXgsIDE2IC8qIFByb2plY3Rpb24gKi8sIG51bGwsIGF0dHJzIHx8IG51bGwpO1xuICAgIC8vIFdlIGNhbid0IHVzZSB2aWV3RGF0YVtIT1NUX05PREVdIGJlY2F1c2UgcHJvamVjdGlvbiBub2RlcyBjYW4gYmUgbmVzdGVkIGluIGVtYmVkZGVkIHZpZXdzLlxuICAgIGlmICh0UHJvamVjdGlvbk5vZGUucHJvamVjdGlvbiA9PT0gbnVsbClcbiAgICAgICAgdFByb2plY3Rpb25Ob2RlLnByb2plY3Rpb24gPSBzZWxlY3RvckluZGV4O1xuICAgIC8vIGA8bmctY29udGVudD5gIGhhcyBubyBjb250ZW50XG4gICAgc2V0Q3VycmVudFROb2RlQXNOb3RQYXJlbnQoKTtcbiAgICBpZiAoKHRQcm9qZWN0aW9uTm9kZS5mbGFncyAmIDY0IC8qIGlzRGV0YWNoZWQgKi8pICE9PSA2NCAvKiBpc0RldGFjaGVkICovKSB7XG4gICAgICAgIC8vIHJlLWRpc3RyaWJ1dGlvbiBvZiBwcm9qZWN0YWJsZSBub2RlcyBpcyBzdG9yZWQgb24gYSBjb21wb25lbnQncyB2aWV3IGxldmVsXG4gICAgICAgIGFwcGx5UHJvamVjdGlvbih0VmlldywgbFZpZXcsIHRQcm9qZWN0aW9uTm9kZSk7XG4gICAgfVxufVxuXG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCBhIGxvbmUgYm91bmQgdmFsdWVcbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAxIGludGVycG9sYXRlZCB2YWx1ZSBpbiBpdCwgYW4gbm8gYWRkaXRpb25hbCB0ZXh0XG4gKiBzdXJyb3VuZHMgdGhhdCBpbnRlcnBvbGF0ZWQgdmFsdWU6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiB0aXRsZT1cInt7djB9fVwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGUoJ3RpdGxlJywgdjApO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZShwcm9wTmFtZSwgdjAsIHNhbml0aXplcikge1xuICAgIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMShwcm9wTmFtZSwgJycsIHYwLCAnJywgc2FuaXRpemVyKTtcbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGU7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCBzaW5nbGUgYm91bmQgdmFsdWUgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDEgaW50ZXJwb2xhdGVkIHZhbHVlIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdGl0bGU9XCJwcmVmaXh7e3YwfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMSgndGl0bGUnLCAncHJlZml4JywgdjAsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIElmIHRoZSBwcm9wZXJ0eSBuYW1lIGFsc28gZXhpc3RzIGFzIGFuIGlucHV0IHByb3BlcnR5IG9uIG9uZSBvZiB0aGUgZWxlbWVudCdzIGRpcmVjdGl2ZXMsXG4gKiB0aGUgY29tcG9uZW50IHByb3BlcnR5IHdpbGwgYmUgc2V0IGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgcHJvcGVydHkuIFRoaXMgY2hlY2sgbXVzdFxuICogYmUgY29uZHVjdGVkIGF0IHJ1bnRpbWUgc28gY2hpbGQgY29tcG9uZW50cyB0aGF0IGFkZCBuZXcgYEBJbnB1dHNgIGRvbid0IGhhdmUgdG8gYmUgcmUtY29tcGlsZWQuXG4gKlxuICogQHBhcmFtIHByb3BOYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGVcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb3BlcnR5SW50ZXJwb2xhdGUxKHByb3BOYW1lLCBwcmVmaXgsIHYwLCBzdWZmaXgsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24xKGxWaWV3LCBwcmVmaXgsIHYwLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIGZhbHNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSAxLCBwcmVmaXgsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTE7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCAyIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6OlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTIoJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMihwcm9wTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24yKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplciwgZmFsc2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDIsIHByZWZpeCwgaTAsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTI7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCAzIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGUzKFxuICogJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMyhwcm9wTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjMobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIGZhbHNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSAzLCBwcmVmaXgsIGkwLCBpMSwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMztcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDQgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA0IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiB0aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU0KFxuICogJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNChwcm9wTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4LCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gNCwgcHJlZml4LCBpMCwgaTEsIGkyLCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGU0O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggNSBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDUgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU1KFxuICogJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNShwcm9wTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb241KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZFZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldFNlbGVjdGVkVE5vZGUoKTtcbiAgICAgICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwodFZpZXcsIHROb2RlLCBsVmlldywgcHJvcE5hbWUsIGludGVycG9sYXRlZFZhbHVlLCBsVmlld1tSRU5ERVJFUl0sIHNhbml0aXplciwgZmFsc2UpO1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBnZXRCaW5kaW5nSW5kZXgoKSAtIDUsIHByZWZpeCwgaTAsIGkxLCBpMiwgaTMsIHN1ZmZpeCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTU7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA2IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU2KFxuICogICAgJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNihwcm9wTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjYobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIGZhbHNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSA2LCBwcmVmaXgsIGkwLCBpMSwgaTIsIGkzLCBpNCwgc3VmZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNjtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDcgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA3IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiB0aXRsZT1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU3KFxuICogICAgJ3RpdGxlJywgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBzYW5pdGl6ZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNyhwcm9wTmFtZSwgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4LCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkVmFsdWUgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgaW50ZXJwb2xhdGVkVmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCBmYWxzZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGdldEJpbmRpbmdJbmRleCgpIC0gNywgcHJlZml4LCBpMCwgaTEsIGkyLCBpMywgaTQsIGk1LCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGU3O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggOCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDggaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHRpdGxlPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19LXt7djd9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOjpcbiAqXG4gKiBgYGB0c1xuICogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU4KFxuICogICd0aXRsZScsICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJy0nLCB2NywgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHByb3BlcnR5IG5hbWUgYWxzbyBleGlzdHMgYXMgYW4gaW5wdXQgcHJvcGVydHkgb24gb25lIG9mIHRoZSBlbGVtZW50J3MgZGlyZWN0aXZlcyxcbiAqIHRoZSBjb21wb25lbnQgcHJvcGVydHkgd2lsbCBiZSBzZXQgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBtdXN0XG4gKiBiZSBjb25kdWN0ZWQgYXQgcnVudGltZSBzbyBjaGlsZCBjb21wb25lbnRzIHRoYXQgYWRkIG5ldyBgQElucHV0c2AgZG9uJ3QgaGF2ZSB0byBiZSByZS1jb21waWxlZC5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZVxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY1IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY2IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpNiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY3IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSBzYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTgocHJvcE5hbWUsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIGk2LCB2Nywgc3VmZml4LCBzYW5pdGl6ZXIpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uOChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIGZhbHNlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSA4LCBwcmVmaXgsIGkwLCBpMSwgaTIsIGkzLCBpNCwgaTUsIGk2LCBzdWZmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXByb3BlcnR5SW50ZXJwb2xhdGU4O1xufVxuLyoqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA5IG9yIG1vcmUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIG51bWJlciBvZiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGV4Y2VlZHMgOC5cbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2XG4gKiAgdGl0bGU9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX0te3t2N319LXt7djh9fS17e3Y5fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczo6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlVihcbiAqICAndGl0bGUnLCBbJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnLScsIHY3LCAnLScsIHY5LFxuICogICdzdWZmaXgnXSk7XG4gKiBgYGBcbiAqXG4gKiBJZiB0aGUgcHJvcGVydHkgbmFtZSBhbHNvIGV4aXN0cyBhcyBhbiBpbnB1dCBwcm9wZXJ0eSBvbiBvbmUgb2YgdGhlIGVsZW1lbnQncyBkaXJlY3RpdmVzLFxuICogdGhlIGNvbXBvbmVudCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IHByb3BlcnR5LiBUaGlzIGNoZWNrIG11c3RcbiAqIGJlIGNvbmR1Y3RlZCBhdCBydW50aW1lIHNvIGNoaWxkIGNvbXBvbmVudHMgdGhhdCBhZGQgbmV3IGBASW5wdXRzYCBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBwcm9wTmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlLlxuICogQHBhcmFtIHZhbHVlcyBUaGUgY29sbGVjdGlvbiBvZiB2YWx1ZXMgYW5kIHRoZSBzdHJpbmdzIGluYmV0d2VlbiB0aG9zZSB2YWx1ZXMsIGJlZ2lubmluZyB3aXRoIGFcbiAqIHN0cmluZyBwcmVmaXggYW5kIGVuZGluZyB3aXRoIGEgc3RyaW5nIHN1ZmZpeC5cbiAqIChlLmcuIGBbJ3ByZWZpeCcsIHZhbHVlMCwgJy0nLCB2YWx1ZTEsICctJywgdmFsdWUyLCAuLi4sIHZhbHVlOTksICdzdWZmaXgnXWApXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIHNhbml0aXplciBmdW5jdGlvblxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXByb3BlcnR5SW50ZXJwb2xhdGVWKHByb3BOYW1lLCB2YWx1ZXMsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb25WKGxWaWV3LCB2YWx1ZXMpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRWYWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGVsZW1lbnRQcm9wZXJ0eUludGVybmFsKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHByb3BOYW1lLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgbFZpZXdbUkVOREVSRVJdLCBzYW5pdGl6ZXIsIGZhbHNlKTtcbiAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgY29uc3QgaW50ZXJwb2xhdGlvbkluQmV0d2VlbiA9IFt2YWx1ZXNbMF1dOyAvLyBwcmVmaXhcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAyOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbkluQmV0d2Vlbi5wdXNoKHZhbHVlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdG9yZVByb3BlcnR5QmluZGluZ01ldGFkYXRhKHRWaWV3LmRhdGEsIHROb2RlLCBwcm9wTmFtZSwgZ2V0QmluZGluZ0luZGV4KCkgLSBpbnRlcnBvbGF0aW9uSW5CZXR3ZWVuLmxlbmd0aCArIDEsIC4uLmludGVycG9sYXRpb25JbkJldHdlZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZVY7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBOT1RFOiBUaGUgd29yZCBgc3R5bGluZ2AgaXMgdXNlZCBpbnRlcmNoYW5nZWFibHkgYXMgc3R5bGUgb3IgY2xhc3Mgc3R5bGluZy5cbiAqXG4gKiBUaGlzIGZpbGUgY29udGFpbnMgY29kZSB0byBsaW5rIHN0eWxpbmcgaW5zdHJ1Y3Rpb25zIHRvZ2V0aGVyIHNvIHRoYXQgdGhleSBjYW4gYmUgcmVwbGF5ZWQgaW5cbiAqIHByaW9yaXR5IG9yZGVyLiBUaGUgZmlsZSBleGlzdHMgYmVjYXVzZSBJdnkgc3R5bGluZyBpbnN0cnVjdGlvbiBleGVjdXRpb24gb3JkZXIgZG9lcyBub3QgbWF0Y2hcbiAqIHRoYXQgb2YgdGhlIHByaW9yaXR5IG9yZGVyLiBUaGUgcHVycG9zZSBvZiB0aGlzIGNvZGUgaXMgdG8gY3JlYXRlIGEgbGlua2VkIGxpc3Qgc28gdGhhdCB0aGVcbiAqIGluc3RydWN0aW9ucyBjYW4gYmUgdHJhdmVyc2VkIGluIHByaW9yaXR5IG9yZGVyIHdoZW4gY29tcHV0aW5nIHRoZSBzdHlsZXMuXG4gKlxuICogQXNzdW1lIHdlIGFyZSBkZWFsaW5nIHdpdGggdGhlIGZvbGxvd2luZyBjb2RlOlxuICogYGBgXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgdGVtcGxhdGU6IGBcbiAqICAgICA8bXktY21wIFtzdHlsZV09XCIge2NvbG9yOiAnIzAwMSd9IFwiXG4gKiAgICAgICAgICAgICBbc3R5bGUuY29sb3JdPVwiICMwMDIgXCJcbiAqICAgICAgICAgICAgIGRpci1zdHlsZS1jb2xvci0xXG4gKiAgICAgICAgICAgICBkaXItc3R5bGUtY29sb3ItMj4gYFxuICogfSlcbiAqIGNsYXNzIEV4YW1wbGVDb21wb25lbnQge1xuICogICBzdGF0aWMgbmdDb21wID0gLi4uIHtcbiAqICAgICAuLi5cbiAqICAgICAvLyBDb21waWxlciBlbnN1cmVzIHRoYXQgYMm1ybVzdHlsZVByb3BgIGlzIGFmdGVyIGDJtcm1c3R5bGVNYXBgXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDEnfSk7XG4gKiAgICAgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwMicpO1xuICogICAgIC4uLlxuICogICB9XG4gKiB9XG4gKlxuICogQERpcmVjdGl2ZSh7XG4gKiAgIHNlbGVjdG9yOiBgW2Rpci1zdHlsZS1jb2xvci0xXScsXG4gKiB9KVxuICogY2xhc3MgU3R5bGUxRGlyZWN0aXZlIHtcbiAqICAgQEhvc3RCaW5kaW5nKCdzdHlsZScpIHN0eWxlID0ge2NvbG9yOiAnIzAwNSd9O1xuICogICBASG9zdEJpbmRpbmcoJ3N0eWxlLmNvbG9yJykgY29sb3IgPSAnIzAwNic7XG4gKlxuICogICBzdGF0aWMgbmdEaXIgPSAuLi4ge1xuICogICAgIC4uLlxuICogICAgIC8vIENvbXBpbGVyIGVuc3VyZXMgdGhhdCBgybXJtXN0eWxlUHJvcGAgaXMgYWZ0ZXIgYMm1ybVzdHlsZU1hcGBcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwNSd9KTtcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA2Jyk7XG4gKiAgICAgLi4uXG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBARGlyZWN0aXZlKHtcbiAqICAgc2VsZWN0b3I6IGBbZGlyLXN0eWxlLWNvbG9yLTJdJyxcbiAqIH0pXG4gKiBjbGFzcyBTdHlsZTJEaXJlY3RpdmUge1xuICogICBASG9zdEJpbmRpbmcoJ3N0eWxlJykgc3R5bGUgPSB7Y29sb3I6ICcjMDA3J307XG4gKiAgIEBIb3N0QmluZGluZygnc3R5bGUuY29sb3InKSBjb2xvciA9ICcjMDA4JztcbiAqXG4gKiAgIHN0YXRpYyBuZ0RpciA9IC4uLiB7XG4gKiAgICAgLi4uXG4gKiAgICAgLy8gQ29tcGlsZXIgZW5zdXJlcyB0aGF0IGDJtcm1c3R5bGVQcm9wYCBpcyBhZnRlciBgybXJtXN0eWxlTWFwYFxuICogICAgIMm1ybVzdHlsZU1hcCh7Y29sb3I6ICcjMDA3J30pO1xuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDgnKTtcbiAqICAgICAuLi5cbiAqICAgfVxuICogfVxuICpcbiAqIEBEaXJlY3RpdmUoe1xuICogICBzZWxlY3RvcjogYG15LWNtcCcsXG4gKiB9KVxuICogY2xhc3MgTXlDb21wb25lbnQge1xuICogICBASG9zdEJpbmRpbmcoJ3N0eWxlJykgc3R5bGUgPSB7Y29sb3I6ICcjMDAzJ307XG4gKiAgIEBIb3N0QmluZGluZygnc3R5bGUuY29sb3InKSBjb2xvciA9ICcjMDA0JztcbiAqXG4gKiAgIHN0YXRpYyBuZ0NvbXAgPSAuLi4ge1xuICogICAgIC4uLlxuICogICAgIC8vIENvbXBpbGVyIGVuc3VyZXMgdGhhdCBgybXJtXN0eWxlUHJvcGAgaXMgYWZ0ZXIgYMm1ybVzdHlsZU1hcGBcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwMyd9KTtcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA0Jyk7XG4gKiAgICAgLi4uXG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRoZSBPcmRlciBvZiBpbnN0cnVjdGlvbiBleGVjdXRpb24gaXM6XG4gKlxuICogTk9URTogdGhlIGNvbW1lbnQgYmluZGluZyBsb2NhdGlvbiBpcyBmb3IgaWxsdXN0cmF0aXZlIHB1cnBvc2VzIG9ubHkuXG4gKlxuICogYGBgXG4gKiAvLyBUZW1wbGF0ZTogKEV4YW1wbGVDb21wb25lbnQpXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDEnfSk7ICAgLy8gQmluZGluZyBpbmRleDogMTBcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDAyJyk7ICAvLyBCaW5kaW5nIGluZGV4OiAxMlxuICogLy8gTXlDb21wb25lbnRcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwMyd9KTsgICAvLyBCaW5kaW5nIGluZGV4OiAyMFxuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDQnKTsgIC8vIEJpbmRpbmcgaW5kZXg6IDIyXG4gKiAvLyBTdHlsZTFEaXJlY3RpdmVcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwNSd9KTsgICAvLyBCaW5kaW5nIGluZGV4OiAyNFxuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDYnKTsgIC8vIEJpbmRpbmcgaW5kZXg6IDI2XG4gKiAvLyBTdHlsZTJEaXJlY3RpdmVcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwNyd9KTsgICAvLyBCaW5kaW5nIGluZGV4OiAyOFxuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDgnKTsgIC8vIEJpbmRpbmcgaW5kZXg6IDMwXG4gKiBgYGBcbiAqXG4gKiBUaGUgY29ycmVjdCBwcmlvcml0eSBvcmRlciBvZiBjb25jYXRlbmF0aW9uIGlzOlxuICpcbiAqIGBgYFxuICogLy8gTXlDb21wb25lbnRcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwMyd9KTsgICAvLyBCaW5kaW5nIGluZGV4OiAyMFxuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDQnKTsgIC8vIEJpbmRpbmcgaW5kZXg6IDIyXG4gKiAvLyBTdHlsZTFEaXJlY3RpdmVcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwNSd9KTsgICAvLyBCaW5kaW5nIGluZGV4OiAyNFxuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDYnKTsgIC8vIEJpbmRpbmcgaW5kZXg6IDI2XG4gKiAvLyBTdHlsZTJEaXJlY3RpdmVcbiAqICAgICDJtcm1c3R5bGVNYXAoe2NvbG9yOiAnIzAwNyd9KTsgICAvLyBCaW5kaW5nIGluZGV4OiAyOFxuICogICAgIMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDgnKTsgIC8vIEJpbmRpbmcgaW5kZXg6IDMwXG4gKiAvLyBUZW1wbGF0ZTogKEV4YW1wbGVDb21wb25lbnQpXG4gKiAgICAgybXJtXN0eWxlTWFwKHtjb2xvcjogJyMwMDEnfSk7ICAgLy8gQmluZGluZyBpbmRleDogMTBcbiAqICAgICDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDAyJyk7ICAvLyBCaW5kaW5nIGluZGV4OiAxMlxuICogYGBgXG4gKlxuICogV2hhdCBjb2xvciBzaG91bGQgYmUgcmVuZGVyZWQ/XG4gKlxuICogT25jZSB0aGUgaXRlbXMgYXJlIGNvcnJlY3RseSBzb3J0ZWQgaW4gdGhlIGxpc3QsIHRoZSBhbnN3ZXIgaXMgc2ltcGx5IHRoZSBsYXN0IGl0ZW0gaW4gdGhlXG4gKiBjb25jYXRlbmF0aW9uIGxpc3Qgd2hpY2ggaXMgYCMwMDJgLlxuICpcbiAqIFRvIGRvIHNvIHdlIGtlZXAgYSBsaW5rZWQgbGlzdCBvZiBhbGwgb2YgdGhlIGJpbmRpbmdzIHdoaWNoIHBlcnRhaW4gdG8gdGhpcyBlbGVtZW50LlxuICogTm90aWNlIHRoYXQgdGhlIGJpbmRpbmdzIGFyZSBpbnNlcnRlZCBpbiB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uLCBidXQgdGhlIGBUVmlldy5kYXRhYCBhbGxvd3NcbiAqIHVzIHRvIHRyYXZlcnNlIHRoZW0gaW4gdGhlIG9yZGVyIG9mIHByaW9yaXR5LlxuICpcbiAqIHxJZHh8YFRWaWV3LmRhdGFgfGBMVmlld2AgICAgICAgICAgfCBOb3Rlc1xuICogfC0tLXwtLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS1cbiAqIHwuLi58ICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgfFxuICogfDEwIHxgbnVsbGAgICAgICB8YHtjb2xvcjogJyMwMDEnfWB8IGDJtcm1c3R5bGVNYXAoJ2NvbG9yJywge2NvbG9yOiAnIzAwMSd9KWBcbiAqIHwxMSB8YDMwIHwgMTJgICAgfCAuLi4gICAgICAgICAgICAgfFxuICogfDEyIHxgY29sb3JgICAgICB8YCcjMDAyJ2AgICAgICAgICB8IGDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDAyJylgXG4gKiB8MTMgfGAxMCB8IDBgICAgIHwgLi4uICAgICAgICAgICAgIHxcbiAqIHwuLi58ICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgfFxuICogfDIwIHxgbnVsbGAgICAgICB8YHtjb2xvcjogJyMwMDMnfWB8IGDJtcm1c3R5bGVNYXAoJ2NvbG9yJywge2NvbG9yOiAnIzAwMyd9KWBcbiAqIHwyMSB8YDAgfCAyMmAgICAgfCAuLi4gICAgICAgICAgICAgfFxuICogfDIyIHxgY29sb3JgICAgICB8YCcjMDA0J2AgICAgICAgICB8IGDJtcm1c3R5bGVQcm9wKCdjb2xvcicsICcjMDA0JylgXG4gKiB8MjMgfGAyMCB8IDI0YCAgIHwgLi4uICAgICAgICAgICAgIHxcbiAqIHwyNCB8YG51bGxgICAgICAgfGB7Y29sb3I6ICcjMDA1J31gfCBgybXJtXN0eWxlTWFwKCdjb2xvcicsIHtjb2xvcjogJyMwMDUnfSlgXG4gKiB8MjUgfGAyMiB8IDI2YCAgIHwgLi4uICAgICAgICAgICAgIHxcbiAqIHwyNiB8YGNvbG9yYCAgICAgfGAnIzAwNidgICAgICAgICAgfCBgybXJtXN0eWxlUHJvcCgnY29sb3InLCAnIzAwNicpYFxuICogfDI3IHxgMjQgfCAyOGAgICB8IC4uLiAgICAgICAgICAgICB8XG4gKiB8MjggfGBudWxsYCAgICAgIHxge2NvbG9yOiAnIzAwNyd9YHwgYMm1ybVzdHlsZU1hcCgnY29sb3InLCB7Y29sb3I6ICcjMDA3J30pYFxuICogfDI5IHxgMjYgfCAzMGAgICB8IC4uLiAgICAgICAgICAgICB8XG4gKiB8MzAgfGBjb2xvcmAgICAgIHxgJyMwMDgnYCAgICAgICAgIHwgYMm1ybVzdHlsZVByb3AoJ2NvbG9yJywgJyMwMDgnKWBcbiAqIHwzMSB8YDI4IHwgMTBgICAgfCAuLi4gICAgICAgICAgICAgfFxuICpcbiAqIFRoZSBhYm92ZSBkYXRhIHN0cnVjdHVyZSBhbGxvd3MgdXMgdG8gcmUtY29uY2F0ZW5hdGUgdGhlIHN0eWxpbmcgbm8gbWF0dGVyIHdoaWNoIGRhdGEgYmluZGluZ1xuICogY2hhbmdlcy5cbiAqXG4gKiBOT1RFOiBpbiBhZGRpdGlvbiB0byBrZWVwaW5nIHRyYWNrIG9mIG5leHQvcHJldmlvdXMgaW5kZXggdGhlIGBUVmlldy5kYXRhYCBhbHNvIHN0b3JlcyBwcmV2L25leHRcbiAqIGR1cGxpY2F0ZSBiaXQuIFRoZSBkdXBsaWNhdGUgYml0IGlmIHRydWUgc2F5cyB0aGVyZSBlaXRoZXIgaXMgYSBiaW5kaW5nIHdpdGggdGhlIHNhbWUgbmFtZSBvclxuICogdGhlcmUgaXMgYSBtYXAgKHdoaWNoIG1heSBjb250YWluIHRoZSBuYW1lKS4gVGhpcyBpbmZvcm1hdGlvbiBpcyB1c2VmdWwgaW4ga25vd2luZyBpZiBvdGhlclxuICogc3R5bGVzIHdpdGggaGlnaGVyIHByaW9yaXR5IG5lZWQgdG8gYmUgc2VhcmNoZWQgZm9yIG92ZXJ3cml0ZXMuXG4gKlxuICogTk9URTogU2VlIGBzaG91bGQgc3VwcG9ydCBleGFtcGxlIGluICd0bm9kZV9saW5rZWRfbGlzdC50cycgZG9jdW1lbnRhdGlvbmAgaW5cbiAqIGB0bm9kZV9saW5rZWRfbGlzdF9zcGVjLnRzYCBmb3Igd29ya2luZyBleGFtcGxlLlxuICovXG5sZXQgX191bnVzZWRfY29uc3RfYXNfY2xvc3VyZV9kb2VzX25vdF9saWtlX3N0YW5kYWxvbmVfY29tbWVudF9ibG9ja3NfXztcbi8qKlxuICogSW5zZXJ0IG5ldyBgdFN0eWxlVmFsdWVgIGF0IGBURGF0YWAgYW5kIGxpbmsgZXhpc3Rpbmcgc3R5bGUgYmluZGluZ3Mgc3VjaCB0aGF0IHdlIG1haW50YWluIGxpbmtlZFxuICogbGlzdCBvZiBzdHlsZXMgYW5kIGNvbXB1dGUgdGhlIGR1cGxpY2F0ZSBmbGFnLlxuICpcbiAqIE5vdGU6IHRoaXMgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZHVyaW5nIGBmaXJzdFVwZGF0ZVBhc3NgIG9ubHkgdG8gcG9wdWxhdGUgdGhlIGBUVmlldy5kYXRhYC5cbiAqXG4gKiBUaGUgZnVuY3Rpb24gd29ya3MgYnkga2VlcGluZyB0cmFjayBvZiBgdFN0eWxpbmdSYW5nZWAgd2hpY2ggY29udGFpbnMgdHdvIHBvaW50ZXJzIHBvaW50aW5nIHRvXG4gKiB0aGUgaGVhZC90YWlsIG9mIHRoZSB0ZW1wbGF0ZSBwb3J0aW9uIG9mIHRoZSBzdHlsZXMuXG4gKiAgLSBpZiBgaXNIb3N0ID09PSBmYWxzZWAgKHdlIGFyZSB0ZW1wbGF0ZSkgdGhlbiBpbnNlcnRpb24gaXMgYXQgdGFpbCBvZiBgVFN0eWxpbmdSYW5nZWBcbiAqICAtIGlmIGBpc0hvc3QgPT09IHRydWVgICh3ZSBhcmUgaG9zdCBiaW5kaW5nKSB0aGVuIGluc2VydGlvbiBpcyBhdCBoZWFkIG9mIGBUU3R5bGluZ1JhbmdlYFxuICpcbiAqIEBwYXJhbSB0RGF0YSBUaGUgYFREYXRhYCB0byBpbnNlcnQgaW50by5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIGFzc29jaWF0ZWQgd2l0aCB0aGUgc3R5bGluZyBlbGVtZW50LlxuICogQHBhcmFtIHRTdHlsaW5nS2V5IFNlZSBgVFN0eWxpbmdLZXlgLlxuICogQHBhcmFtIGluZGV4IGxvY2F0aW9uIG9mIHdoZXJlIGB0U3R5bGVWYWx1ZWAgc2hvdWxkIGJlIHN0b3JlZCAoYW5kIGxpbmtlZCBpbnRvIGxpc3QuKVxuICogQHBhcmFtIGlzSG9zdEJpbmRpbmcgYHRydWVgIGlmIHRoZSBpbnNlcnRpb24gaXMgZm9yIGEgYGhvc3RCaW5kaW5nYC4gKGluc2VydGlvbiBpcyBpbiBmcm9udCBvZlxuICogICAgICAgICAgICAgICB0ZW1wbGF0ZS4pXG4gKiBAcGFyYW0gaXNDbGFzc0JpbmRpbmcgVHJ1ZSBpZiB0aGUgYXNzb2NpYXRlZCBgdFN0eWxpbmdLZXlgIGFzIGEgYGNsYXNzYCBzdHlsaW5nLlxuICogICAgICAgICAgICAgICAgICAgICAgIGB0Tm9kZS5jbGFzc0JpbmRpbmdzYCBzaG91bGQgYmUgdXNlZCAob3IgYHROb2RlLnN0eWxlQmluZGluZ3NgIG90aGVyd2lzZS4pXG4gKi9cbmZ1bmN0aW9uIGluc2VydFRTdHlsaW5nQmluZGluZyh0RGF0YSwgdE5vZGUsIHRTdHlsaW5nS2V5V2l0aFN0YXRpYywgaW5kZXgsIGlzSG9zdEJpbmRpbmcsIGlzQ2xhc3NCaW5kaW5nKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0VXBkYXRlUGFzcyhnZXRUVmlldygpKTtcbiAgICBsZXQgdEJpbmRpbmdzID0gaXNDbGFzc0JpbmRpbmcgPyB0Tm9kZS5jbGFzc0JpbmRpbmdzIDogdE5vZGUuc3R5bGVCaW5kaW5ncztcbiAgICBsZXQgdG1wbEhlYWQgPSBnZXRUU3R5bGluZ1JhbmdlUHJldih0QmluZGluZ3MpO1xuICAgIGxldCB0bXBsVGFpbCA9IGdldFRTdHlsaW5nUmFuZ2VOZXh0KHRCaW5kaW5ncyk7XG4gICAgdERhdGFbaW5kZXhdID0gdFN0eWxpbmdLZXlXaXRoU3RhdGljO1xuICAgIGxldCBpc0tleUR1cGxpY2F0ZU9mU3RhdGljID0gZmFsc2U7XG4gICAgbGV0IHRTdHlsaW5nS2V5O1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRTdHlsaW5nS2V5V2l0aFN0YXRpYykpIHtcbiAgICAgICAgLy8gV2UgYXJlIGNhc2Ugd2hlbiB0aGUgYFRTdHlsaW5nS2V5YCBjb250YWlucyBzdGF0aWMgZmllbGRzIGFzIHdlbGwuXG4gICAgICAgIGNvbnN0IHN0YXRpY0tleVZhbHVlQXJyYXkgPSB0U3R5bGluZ0tleVdpdGhTdGF0aWM7XG4gICAgICAgIHRTdHlsaW5nS2V5ID0gc3RhdGljS2V5VmFsdWVBcnJheVsxXTsgLy8gdW53cmFwLlxuICAgICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGlmIG91ciBrZXkgaXMgcHJlc2VudCBpbiB0aGUgc3RhdGljIHNvIHRoYXQgd2UgY2FuIG1hcmsgaXQgYXMgZHVwbGljYXRlLlxuICAgICAgICBpZiAodFN0eWxpbmdLZXkgPT09IG51bGwgfHxcbiAgICAgICAgICAgIGtleVZhbHVlQXJyYXlJbmRleE9mKHN0YXRpY0tleVZhbHVlQXJyYXksIHRTdHlsaW5nS2V5KSA+IDApIHtcbiAgICAgICAgICAgIC8vIHRTdHlsaW5nS2V5IGlzIHByZXNlbnQgaW4gdGhlIHN0YXRpY3MsIG5lZWQgdG8gbWFyayBpdCBhcyBkdXBsaWNhdGUuXG4gICAgICAgICAgICBpc0tleUR1cGxpY2F0ZU9mU3RhdGljID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdFN0eWxpbmdLZXkgPSB0U3R5bGluZ0tleVdpdGhTdGF0aWM7XG4gICAgfVxuICAgIGlmIChpc0hvc3RCaW5kaW5nKSB7XG4gICAgICAgIC8vIFdlIGFyZSBpbnNlcnRpbmcgaG9zdCBiaW5kaW5nc1xuICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIHRlbXBsYXRlIGJpbmRpbmdzIHRoZW4gYHRhaWxgIGlzIDAuXG4gICAgICAgIGNvbnN0IGhhc1RlbXBsYXRlQmluZGluZ3MgPSB0bXBsVGFpbCAhPT0gMDtcbiAgICAgICAgLy8gVGhpcyBpcyBpbXBvcnRhbnQgdG8ga25vdyBiZWNhdXNlIHRoYXQgbWVhbnMgdGhhdCB0aGUgYGhlYWRgIGNhbid0IHBvaW50IHRvIHRoZSBmaXJzdFxuICAgICAgICAvLyB0ZW1wbGF0ZSBiaW5kaW5ncyAodGhlcmUgYXJlIG5vbmUuKSBJbnN0ZWFkIHRoZSBoZWFkIHBvaW50cyB0byB0aGUgdGFpbCBvZiB0aGUgdGVtcGxhdGUuXG4gICAgICAgIGlmIChoYXNUZW1wbGF0ZUJpbmRpbmdzKSB7XG4gICAgICAgICAgICAvLyB0ZW1wbGF0ZSBoZWFkJ3MgXCJwcmV2XCIgd2lsbCBwb2ludCB0byBsYXN0IGhvc3QgYmluZGluZyBvciB0byAwIGlmIG5vIGhvc3QgYmluZGluZ3MgeWV0XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c05vZGUgPSBnZXRUU3R5bGluZ1JhbmdlUHJldih0RGF0YVt0bXBsSGVhZCArIDFdKTtcbiAgICAgICAgICAgIHREYXRhW2luZGV4ICsgMV0gPSB0b1RTdHlsaW5nUmFuZ2UocHJldmlvdXNOb2RlLCB0bXBsSGVhZCk7XG4gICAgICAgICAgICAvLyBpZiBhIGhvc3QgYmluZGluZyBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQsIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBuZXh0IG9mIHRoYXQgaG9zdFxuICAgICAgICAgICAgLy8gYmluZGluZyB0byBwb2ludCB0byB0aGlzIG9uZVxuICAgICAgICAgICAgaWYgKHByZXZpb3VzTm9kZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gdXBkYXRlIHRoZSB0ZW1wbGF0ZS10YWlsIHZhbHVlIHRvIHBvaW50IHRvIHVzLlxuICAgICAgICAgICAgICAgIHREYXRhW3ByZXZpb3VzTm9kZSArIDFdID1cbiAgICAgICAgICAgICAgICAgICAgc2V0VFN0eWxpbmdSYW5nZU5leHQodERhdGFbcHJldmlvdXNOb2RlICsgMV0sIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoZSBcInByZXZpb3VzXCIgb2YgdGhlIHRlbXBsYXRlIGJpbmRpbmcgaGVhZCBzaG91bGQgcG9pbnQgdG8gdGhpcyBob3N0IGJpbmRpbmdcbiAgICAgICAgICAgIHREYXRhW3RtcGxIZWFkICsgMV0gPSBzZXRUU3R5bGluZ1JhbmdlUHJldih0RGF0YVt0bXBsSGVhZCArIDFdLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0RGF0YVtpbmRleCArIDFdID0gdG9UU3R5bGluZ1JhbmdlKHRtcGxIZWFkLCAwKTtcbiAgICAgICAgICAgIC8vIGlmIGEgaG9zdCBiaW5kaW5nIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCwgd2UgbmVlZCB0byB1cGRhdGUgdGhlIG5leHQgb2YgdGhhdCBob3N0XG4gICAgICAgICAgICAvLyBiaW5kaW5nIHRvIHBvaW50IHRvIHRoaXMgb25lXG4gICAgICAgICAgICBpZiAodG1wbEhlYWQgIT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHVwZGF0ZSB0aGUgdGVtcGxhdGUtdGFpbCB2YWx1ZSB0byBwb2ludCB0byB1cy5cbiAgICAgICAgICAgICAgICB0RGF0YVt0bXBsSGVhZCArIDFdID0gc2V0VFN0eWxpbmdSYW5nZU5leHQodERhdGFbdG1wbEhlYWQgKyAxXSwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgd2UgZG9uJ3QgaGF2ZSB0ZW1wbGF0ZSwgdGhlIGhlYWQgcG9pbnRzIHRvIHRlbXBsYXRlLXRhaWwsIGFuZCBuZWVkcyB0byBiZSBhZHZhbmNlZC5cbiAgICAgICAgICAgIHRtcGxIZWFkID0gaW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFdlIGFyZSBpbnNlcnRpbmcgaW4gdGVtcGxhdGUgc2VjdGlvbi5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBzZXQgdGhpcyBiaW5kaW5nJ3MgXCJwcmV2aW91c1wiIHRvIHRoZSBjdXJyZW50IHRlbXBsYXRlIHRhaWxcbiAgICAgICAgdERhdGFbaW5kZXggKyAxXSA9IHRvVFN0eWxpbmdSYW5nZSh0bXBsVGFpbCwgMCk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0RXF1YWwodG1wbEhlYWQgIT09IDAgJiYgdG1wbFRhaWwgPT09IDAsIGZhbHNlLCAnQWRkaW5nIHRlbXBsYXRlIGJpbmRpbmdzIGFmdGVyIGhvc3RCaW5kaW5ncyBpcyBub3QgYWxsb3dlZC4nKTtcbiAgICAgICAgaWYgKHRtcGxIZWFkID09PSAwKSB7XG4gICAgICAgICAgICB0bXBsSGVhZCA9IGluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byB1cGRhdGUgdGhlIHByZXZpb3VzIHZhbHVlIFwibmV4dFwiIHRvIHBvaW50IHRvIHRoaXMgYmluZGluZ1xuICAgICAgICAgICAgdERhdGFbdG1wbFRhaWwgKyAxXSA9IHNldFRTdHlsaW5nUmFuZ2VOZXh0KHREYXRhW3RtcGxUYWlsICsgMV0sIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICB0bXBsVGFpbCA9IGluZGV4O1xuICAgIH1cbiAgICAvLyBOb3cgd2UgbmVlZCB0byB1cGRhdGUgLyBjb21wdXRlIHRoZSBkdXBsaWNhdGVzLlxuICAgIC8vIFN0YXJ0aW5nIHdpdGggb3VyIGxvY2F0aW9uIHNlYXJjaCB0b3dhcmRzIGhlYWQgKGxlYXN0IHByaW9yaXR5KVxuICAgIGlmIChpc0tleUR1cGxpY2F0ZU9mU3RhdGljKSB7XG4gICAgICAgIHREYXRhW2luZGV4ICsgMV0gPSBzZXRUU3R5bGluZ1JhbmdlUHJldkR1cGxpY2F0ZSh0RGF0YVtpbmRleCArIDFdKTtcbiAgICB9XG4gICAgbWFya0R1cGxpY2F0ZXModERhdGEsIHRTdHlsaW5nS2V5LCBpbmRleCwgdHJ1ZSwgaXNDbGFzc0JpbmRpbmcpO1xuICAgIG1hcmtEdXBsaWNhdGVzKHREYXRhLCB0U3R5bGluZ0tleSwgaW5kZXgsIGZhbHNlLCBpc0NsYXNzQmluZGluZyk7XG4gICAgbWFya0R1cGxpY2F0ZU9mUmVzaWR1YWxTdHlsaW5nKHROb2RlLCB0U3R5bGluZ0tleSwgdERhdGEsIGluZGV4LCBpc0NsYXNzQmluZGluZyk7XG4gICAgdEJpbmRpbmdzID0gdG9UU3R5bGluZ1JhbmdlKHRtcGxIZWFkLCB0bXBsVGFpbCk7XG4gICAgaWYgKGlzQ2xhc3NCaW5kaW5nKSB7XG4gICAgICAgIHROb2RlLmNsYXNzQmluZGluZ3MgPSB0QmluZGluZ3M7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0Tm9kZS5zdHlsZUJpbmRpbmdzID0gdEJpbmRpbmdzO1xuICAgIH1cbn1cbi8qKlxuICogTG9vayBpbnRvIHRoZSByZXNpZHVhbCBzdHlsaW5nIHRvIHNlZSBpZiB0aGUgY3VycmVudCBgdFN0eWxpbmdLZXlgIGlzIGR1cGxpY2F0ZSBvZiByZXNpZHVhbC5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCB3aGVyZSB0aGUgcmVzaWR1YWwgaXMgc3RvcmVkLlxuICogQHBhcmFtIHRTdHlsaW5nS2V5IGBUU3R5bGluZ0tleWAgdG8gc3RvcmUuXG4gKiBAcGFyYW0gdERhdGEgYFREYXRhYCBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgYExWaWV3YC5cbiAqIEBwYXJhbSBpbmRleCBsb2NhdGlvbiBvZiB3aGVyZSBgdFN0eWxlVmFsdWVgIHNob3VsZCBiZSBzdG9yZWQgKGFuZCBsaW5rZWQgaW50byBsaXN0LilcbiAqIEBwYXJhbSBpc0NsYXNzQmluZGluZyBUcnVlIGlmIHRoZSBhc3NvY2lhdGVkIGB0U3R5bGluZ0tleWAgYXMgYSBgY2xhc3NgIHN0eWxpbmcuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgYHROb2RlLmNsYXNzQmluZGluZ3NgIHNob3VsZCBiZSB1c2VkIChvciBgdE5vZGUuc3R5bGVCaW5kaW5nc2Agb3RoZXJ3aXNlLilcbiAqL1xuZnVuY3Rpb24gbWFya0R1cGxpY2F0ZU9mUmVzaWR1YWxTdHlsaW5nKHROb2RlLCB0U3R5bGluZ0tleSwgdERhdGEsIGluZGV4LCBpc0NsYXNzQmluZGluZykge1xuICAgIGNvbnN0IHJlc2lkdWFsID0gaXNDbGFzc0JpbmRpbmcgPyB0Tm9kZS5yZXNpZHVhbENsYXNzZXMgOiB0Tm9kZS5yZXNpZHVhbFN0eWxlcztcbiAgICBpZiAocmVzaWR1YWwgIT0gbnVsbCAvKiBvciB1bmRlZmluZWQgKi8gJiYgdHlwZW9mIHRTdHlsaW5nS2V5ID09ICdzdHJpbmcnICYmXG4gICAgICAgIGtleVZhbHVlQXJyYXlJbmRleE9mKHJlc2lkdWFsLCB0U3R5bGluZ0tleSkgPj0gMCkge1xuICAgICAgICAvLyBXZSBoYXZlIGR1cGxpY2F0ZSBpbiB0aGUgcmVzaWR1YWwgc28gbWFyayBvdXJzZWx2ZXMgYXMgZHVwbGljYXRlLlxuICAgICAgICB0RGF0YVtpbmRleCArIDFdID0gc2V0VFN0eWxpbmdSYW5nZU5leHREdXBsaWNhdGUodERhdGFbaW5kZXggKyAxXSk7XG4gICAgfVxufVxuLyoqXG4gKiBNYXJrcyBgVFN0eWxlVmFsdWVgcyBhcyBkdXBsaWNhdGVzIGlmIGFub3RoZXIgc3R5bGUgYmluZGluZyBpbiB0aGUgbGlzdCBoYXMgdGhlIHNhbWVcbiAqIGBUU3R5bGVWYWx1ZWAuXG4gKlxuICogTk9URTogdGhpcyBmdW5jdGlvbiBpcyBpbnRlbmRlZCB0byBiZSBjYWxsZWQgdHdpY2Ugb25jZSB3aXRoIGBpc1ByZXZEaXJgIHNldCB0byBgdHJ1ZWAgYW5kIG9uY2VcbiAqIHdpdGggaXQgc2V0IHRvIGBmYWxzZWAgdG8gc2VhcmNoIGJvdGggdGhlIHByZXZpb3VzIGFzIHdlbGwgYXMgbmV4dCBpdGVtcyBpbiB0aGUgbGlzdC5cbiAqXG4gKiBObyBkdXBsaWNhdGUgY2FzZVxuICogYGBgXG4gKiAgIFtzdHlsZS5jb2xvcl1cbiAqICAgW3N0eWxlLndpZHRoLnB4XSA8PC0gaW5kZXhcbiAqICAgW3N0eWxlLmhlaWdodC5weF1cbiAqIGBgYFxuICpcbiAqIEluIHRoZSBhYm92ZSBjYXNlIGFkZGluZyBgW3N0eWxlLndpZHRoLnB4XWAgdG8gdGhlIGV4aXN0aW5nIGBbc3R5bGUuY29sb3JdYCBwcm9kdWNlcyBub1xuICogZHVwbGljYXRlcyBiZWNhdXNlIGB3aWR0aGAgaXMgbm90IGZvdW5kIGluIGFueSBvdGhlciBwYXJ0IG9mIHRoZSBsaW5rZWQgbGlzdC5cbiAqXG4gKiBEdXBsaWNhdGUgY2FzZVxuICogYGBgXG4gKiAgIFtzdHlsZS5jb2xvcl1cbiAqICAgW3N0eWxlLndpZHRoLmVtXVxuICogICBbc3R5bGUud2lkdGgucHhdIDw8LSBpbmRleFxuICogYGBgXG4gKiBJbiB0aGUgYWJvdmUgY2FzZSBhZGRpbmcgYFtzdHlsZS53aWR0aC5weF1gIHdpbGwgcHJvZHVjZSBhIGR1cGxpY2F0ZSB3aXRoIGBbc3R5bGUud2lkdGguZW1dYFxuICogYmVjYXVzZSBgd2lkdGhgIGlzIGZvdW5kIGluIHRoZSBjaGFpbi5cbiAqXG4gKiBNYXAgY2FzZSAxXG4gKiBgYGBcbiAqICAgW3N0eWxlLndpZHRoLnB4XVxuICogICBbc3R5bGUuY29sb3JdXG4gKiAgIFtzdHlsZV0gIDw8LSBpbmRleFxuICogYGBgXG4gKiBJbiB0aGUgYWJvdmUgY2FzZSBhZGRpbmcgYFtzdHlsZV1gIHdpbGwgcHJvZHVjZSBhIGR1cGxpY2F0ZSB3aXRoIGFueSBvdGhlciBiaW5kaW5ncyBiZWNhdXNlXG4gKiBgW3N0eWxlXWAgaXMgYSBNYXAgYW5kIGFzIHN1Y2ggaXMgZnVsbHkgZHluYW1pYyBhbmQgY291bGQgcHJvZHVjZSBgY29sb3JgIG9yIGB3aWR0aGAuXG4gKlxuICogTWFwIGNhc2UgMlxuICogYGBgXG4gKiAgIFtzdHlsZV1cbiAqICAgW3N0eWxlLndpZHRoLnB4XVxuICogICBbc3R5bGUuY29sb3JdICA8PC0gaW5kZXhcbiAqIGBgYFxuICogSW4gdGhlIGFib3ZlIGNhc2UgYWRkaW5nIGBbc3R5bGUuY29sb3JdYCB3aWxsIHByb2R1Y2UgYSBkdXBsaWNhdGUgYmVjYXVzZSB0aGVyZSBpcyBhbHJlYWR5IGFcbiAqIGBbc3R5bGVdYCBiaW5kaW5nIHdoaWNoIGlzIGEgTWFwIGFuZCBhcyBzdWNoIGlzIGZ1bGx5IGR5bmFtaWMgYW5kIGNvdWxkIHByb2R1Y2UgYGNvbG9yYCBvclxuICogYHdpZHRoYC5cbiAqXG4gKiBOT1RFOiBPbmNlIGBbc3R5bGVdYCAoTWFwKSBpcyBhZGRlZCBpbnRvIHRoZSBzeXN0ZW0gYWxsIHRoaW5ncyBhcmUgbWFwcGVkIGFzIGR1cGxpY2F0ZXMuXG4gKiBOT1RFOiBXZSB1c2UgYHN0eWxlYCBhcyBleGFtcGxlLCBidXQgc2FtZSBsb2dpYyBpcyBhcHBsaWVkIHRvIGBjbGFzc2BlcyBhcyB3ZWxsLlxuICpcbiAqIEBwYXJhbSB0RGF0YSBgVERhdGFgIHdoZXJlIHRoZSBsaW5rZWQgbGlzdCBpcyBzdG9yZWQuXG4gKiBAcGFyYW0gdFN0eWxpbmdLZXkgYFRTdHlsaW5nS2V5UHJpbWl0aXZlYCB3aGljaCBjb250YWlucyB0aGUgdmFsdWUgdG8gY29tcGFyZSB0byBvdGhlciBrZXlzIGluXG4gKiAgICAgICAgdGhlIGxpbmtlZCBsaXN0LlxuICogQHBhcmFtIGluZGV4IFN0YXJ0aW5nIGxvY2F0aW9uIGluIHRoZSBsaW5rZWQgbGlzdCB0byBzZWFyY2ggZnJvbVxuICogQHBhcmFtIGlzUHJldkRpciBEaXJlY3Rpb24uXG4gKiAgICAgICAgLSBgdHJ1ZWAgZm9yIHByZXZpb3VzIChsb3dlciBwcmlvcml0eSk7XG4gKiAgICAgICAgLSBgZmFsc2VgIGZvciBuZXh0IChoaWdoZXIgcHJpb3JpdHkpLlxuICovXG5mdW5jdGlvbiBtYXJrRHVwbGljYXRlcyh0RGF0YSwgdFN0eWxpbmdLZXksIGluZGV4LCBpc1ByZXZEaXIsIGlzQ2xhc3NCaW5kaW5nKSB7XG4gICAgY29uc3QgdFN0eWxpbmdBdEluZGV4ID0gdERhdGFbaW5kZXggKyAxXTtcbiAgICBjb25zdCBpc01hcCA9IHRTdHlsaW5nS2V5ID09PSBudWxsO1xuICAgIGxldCBjdXJzb3IgPSBpc1ByZXZEaXIgPyBnZXRUU3R5bGluZ1JhbmdlUHJldih0U3R5bGluZ0F0SW5kZXgpIDogZ2V0VFN0eWxpbmdSYW5nZU5leHQodFN0eWxpbmdBdEluZGV4KTtcbiAgICBsZXQgZm91bmREdXBsaWNhdGUgPSBmYWxzZTtcbiAgICAvLyBXZSBrZWVwIGl0ZXJhdGluZyBhcyBsb25nIGFzIHdlIGhhdmUgYSBjdXJzb3JcbiAgICAvLyBBTkQgZWl0aGVyOlxuICAgIC8vIC0gd2UgZm91bmQgd2hhdCB3ZSBhcmUgbG9va2luZyBmb3IsIE9SXG4gICAgLy8gLSB3ZSBhcmUgYSBtYXAgaW4gd2hpY2ggY2FzZSB3ZSBoYXZlIHRvIGNvbnRpbnVlIHNlYXJjaGluZyBldmVuIGFmdGVyIHdlIGZpbmQgd2hhdCB3ZSB3ZXJlXG4gICAgLy8gICBsb29raW5nIGZvciBzaW5jZSB3ZSBhcmUgYSB3aWxkIGNhcmQgYW5kIGV2ZXJ5dGhpbmcgbmVlZHMgdG8gYmUgZmxpcHBlZCB0byBkdXBsaWNhdGUuXG4gICAgd2hpbGUgKGN1cnNvciAhPT0gMCAmJiAoZm91bmREdXBsaWNhdGUgPT09IGZhbHNlIHx8IGlzTWFwKSkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKHREYXRhLCBjdXJzb3IpO1xuICAgICAgICBjb25zdCB0U3R5bGluZ1ZhbHVlQXRDdXJzb3IgPSB0RGF0YVtjdXJzb3JdO1xuICAgICAgICBjb25zdCB0U3R5bGVSYW5nZUF0Q3Vyc29yID0gdERhdGFbY3Vyc29yICsgMV07XG4gICAgICAgIGlmIChpc1N0eWxpbmdNYXRjaCh0U3R5bGluZ1ZhbHVlQXRDdXJzb3IsIHRTdHlsaW5nS2V5KSkge1xuICAgICAgICAgICAgZm91bmREdXBsaWNhdGUgPSB0cnVlO1xuICAgICAgICAgICAgdERhdGFbY3Vyc29yICsgMV0gPSBpc1ByZXZEaXIgPyBzZXRUU3R5bGluZ1JhbmdlTmV4dER1cGxpY2F0ZSh0U3R5bGVSYW5nZUF0Q3Vyc29yKSA6XG4gICAgICAgICAgICAgICAgc2V0VFN0eWxpbmdSYW5nZVByZXZEdXBsaWNhdGUodFN0eWxlUmFuZ2VBdEN1cnNvcik7XG4gICAgICAgIH1cbiAgICAgICAgY3Vyc29yID0gaXNQcmV2RGlyID8gZ2V0VFN0eWxpbmdSYW5nZVByZXYodFN0eWxlUmFuZ2VBdEN1cnNvcikgOlxuICAgICAgICAgICAgZ2V0VFN0eWxpbmdSYW5nZU5leHQodFN0eWxlUmFuZ2VBdEN1cnNvcik7XG4gICAgfVxuICAgIGlmIChmb3VuZER1cGxpY2F0ZSkge1xuICAgICAgICAvLyBpZiB3ZSBmb3VuZCBhIGR1cGxpY2F0ZSwgdGhhbiBtYXJrIG91cnNlbHZlcy5cbiAgICAgICAgdERhdGFbaW5kZXggKyAxXSA9IGlzUHJldkRpciA/IHNldFRTdHlsaW5nUmFuZ2VQcmV2RHVwbGljYXRlKHRTdHlsaW5nQXRJbmRleCkgOlxuICAgICAgICAgICAgc2V0VFN0eWxpbmdSYW5nZU5leHREdXBsaWNhdGUodFN0eWxpbmdBdEluZGV4KTtcbiAgICB9XG59XG4vKipcbiAqIERldGVybWluZXMgaWYgdHdvIGBUU3R5bGluZ0tleWBzIGFyZSBhIG1hdGNoLlxuICpcbiAqIFdoZW4gY29tcHV0aW5nIHdoZXRoZXIgYSBiaW5kaW5nIGNvbnRhaW5zIGEgZHVwbGljYXRlLCB3ZSBuZWVkIHRvIGNvbXBhcmUgaWYgdGhlIGluc3RydWN0aW9uXG4gKiBgVFN0eWxpbmdLZXlgIGhhcyBhIG1hdGNoLlxuICpcbiAqIEhlcmUgYXJlIGV4YW1wbGVzIG9mIGBUU3R5bGluZ0tleWBzIHdoaWNoIG1hdGNoIGdpdmVuIGB0U3R5bGluZ0tleUN1cnNvcmAgaXM6XG4gKiAtIGBjb2xvcmBcbiAqICAgIC0gYGNvbG9yYCAgICAvLyBNYXRjaCBhbm90aGVyIGNvbG9yXG4gKiAgICAtIGBudWxsYCAgICAgLy8gVGhhdCBtZWFucyB0aGF0IGB0U3R5bGluZ0tleWAgaXMgYSBgY2xhc3NNYXBgL2BzdHlsZU1hcGAgaW5zdHJ1Y3Rpb25cbiAqICAgIC0gYFsnJywgJ2NvbG9yJywgJ290aGVyJywgdHJ1ZV1gIC8vIHdyYXBwZWQgYGNvbG9yYCBzbyBtYXRjaFxuICogICAgLSBgWycnLCBudWxsLCAnb3RoZXInLCB0cnVlXWAgICAgICAgLy8gd3JhcHBlZCBgbnVsbGAgc28gbWF0Y2hcbiAqICAgIC0gYFsnJywgJ3dpZHRoJywgJ2NvbG9yJywgJ3ZhbHVlJ11gIC8vIHdyYXBwZWQgc3RhdGljIHZhbHVlIGNvbnRhaW5zIGEgbWF0Y2ggb24gYCdjb2xvcidgXG4gKiAtIGBudWxsYCAgICAgICAvLyBgdFN0eWxpbmdLZXlDdXJzb3JgIGFsd2F5cyBtYXRjaCBhcyBpdCBpcyBgY2xhc3NNYXBgL2BzdHlsZU1hcGAgaW5zdHJ1Y3Rpb25cbiAqXG4gKiBAcGFyYW0gdFN0eWxpbmdLZXlDdXJzb3JcbiAqIEBwYXJhbSB0U3R5bGluZ0tleVxuICovXG5mdW5jdGlvbiBpc1N0eWxpbmdNYXRjaCh0U3R5bGluZ0tleUN1cnNvciwgdFN0eWxpbmdLZXkpIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0Tm90RXF1YWwoQXJyYXkuaXNBcnJheSh0U3R5bGluZ0tleSksIHRydWUsICdFeHBlY3RlZCB0aGF0IFxcJ3RTdHlsaW5nS2V5XFwnIGhhcyBiZWVuIHVud3JhcHBlZCcpO1xuICAgIGlmICh0U3R5bGluZ0tleUN1cnNvciA9PT0gbnVsbCB8fCAvLyBJZiB0aGUgY3Vyc29yIGlzIGBudWxsYCBpdCBtZWFucyB0aGF0IHdlIGhhdmUgbWFwIGF0IHRoYXRcbiAgICAgICAgLy8gbG9jYXRpb24gc28gd2UgbXVzdCBhc3N1bWUgdGhhdCB3ZSBoYXZlIGEgbWF0Y2guXG4gICAgICAgIHRTdHlsaW5nS2V5ID09IG51bGwgfHwgLy8gSWYgYHRTdHlsaW5nS2V5YCBpcyBgbnVsbGAgdGhlbiBpdCBpcyBhIG1hcCB0aGVyZWZvciBhc3N1bWUgdGhhdCBpdFxuICAgICAgICAvLyBjb250YWlucyBhIG1hdGNoLlxuICAgICAgICAoQXJyYXkuaXNBcnJheSh0U3R5bGluZ0tleUN1cnNvcikgPyB0U3R5bGluZ0tleUN1cnNvclsxXSA6IHRTdHlsaW5nS2V5Q3Vyc29yKSA9PT1cbiAgICAgICAgICAgIHRTdHlsaW5nS2V5IC8vIElmIHRoZSBrZXlzIG1hdGNoIGV4cGxpY2l0bHkgdGhhbiB3ZSBhcmUgYSBtYXRjaC5cbiAgICApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodFN0eWxpbmdLZXlDdXJzb3IpICYmIHR5cGVvZiB0U3R5bGluZ0tleSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gaWYgd2UgZGlkIG5vdCBmaW5kIGEgbWF0Y2gsIGJ1dCBgdFN0eWxpbmdLZXlDdXJzb3JgIGlzIGBLZXlWYWx1ZUFycmF5YCB0aGF0IG1lYW5zIGN1cnNvciBoYXNcbiAgICAgICAgLy8gc3RhdGljcyBhbmQgd2UgbmVlZCB0byBjaGVjayB0aG9zZSBhcyB3ZWxsLlxuICAgICAgICByZXR1cm4ga2V5VmFsdWVBcnJheUluZGV4T2YodFN0eWxpbmdLZXlDdXJzb3IsIHRTdHlsaW5nS2V5KSA+PVxuICAgICAgICAgICAgMDsgLy8gc2VlIGlmIHdlIGFyZSBtYXRjaGluZyB0aGUga2V5XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBHbG9iYWwgc3RhdGUgb2YgdGhlIHBhcnNlci4gKFRoaXMgbWFrZXMgcGFyc2VyIG5vbi1yZWVudHJhbnQsIGJ1dCB0aGF0IGlzIG5vdCBhbiBpc3N1ZSlcbmNvbnN0IHBhcnNlclN0YXRlID0ge1xuICAgIHRleHRFbmQ6IDAsXG4gICAga2V5OiAwLFxuICAgIGtleUVuZDogMCxcbiAgICB2YWx1ZTogMCxcbiAgICB2YWx1ZUVuZDogMCxcbn07XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgbGFzdCBwYXJzZWQgYGtleWAgb2Ygc3R5bGUuXG4gKiBAcGFyYW0gdGV4dCB0aGUgdGV4dCB0byBzdWJzdHJpbmcgdGhlIGtleSBmcm9tLlxuICovXG5mdW5jdGlvbiBnZXRMYXN0UGFyc2VkS2V5KHRleHQpIHtcbiAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcocGFyc2VyU3RhdGUua2V5LCBwYXJzZXJTdGF0ZS5rZXlFbmQpO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGxhc3QgcGFyc2VkIGB2YWx1ZWAgb2Ygc3R5bGUuXG4gKiBAcGFyYW0gdGV4dCB0aGUgdGV4dCB0byBzdWJzdHJpbmcgdGhlIGtleSBmcm9tLlxuICovXG5mdW5jdGlvbiBnZXRMYXN0UGFyc2VkVmFsdWUodGV4dCkge1xuICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZyhwYXJzZXJTdGF0ZS52YWx1ZSwgcGFyc2VyU3RhdGUudmFsdWVFbmQpO1xufVxuLyoqXG4gKiBJbml0aWFsaXplcyBgY2xhc3NOYW1lYCBzdHJpbmcgZm9yIHBhcnNpbmcgYW5kIHBhcnNlcyB0aGUgZmlyc3QgdG9rZW4uXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIGluIHRoaXMgZm9ybWF0OlxuICogYGBgXG4gKiBmb3IgKGxldCBpID0gcGFyc2VDbGFzc05hbWUodGV4dCk7IGkgPj0gMDsgaSA9IHBhcnNlQ2xhc3NOYW1lTmV4dCh0ZXh0LCBpKSkge1xuICogICBjb25zdCBrZXkgPSBnZXRMYXN0UGFyc2VkS2V5KCk7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKiBAcGFyYW0gdGV4dCBgY2xhc3NOYW1lYCB0byBwYXJzZVxuICogQHJldHVybnMgaW5kZXggd2hlcmUgdGhlIG5leHQgaW52b2NhdGlvbiBvZiBgcGFyc2VDbGFzc05hbWVOZXh0YCBzaG91bGQgcmVzdW1lLlxuICovXG5mdW5jdGlvbiBwYXJzZUNsYXNzTmFtZSh0ZXh0KSB7XG4gICAgcmVzZXRQYXJzZXJTdGF0ZSh0ZXh0KTtcbiAgICByZXR1cm4gcGFyc2VDbGFzc05hbWVOZXh0KHRleHQsIGNvbnN1bWVXaGl0ZXNwYWNlKHRleHQsIDAsIHBhcnNlclN0YXRlLnRleHRFbmQpKTtcbn1cbi8qKlxuICogUGFyc2VzIG5leHQgYGNsYXNzTmFtZWAgdG9rZW4uXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIGluIHRoaXMgZm9ybWF0OlxuICogYGBgXG4gKiBmb3IgKGxldCBpID0gcGFyc2VDbGFzc05hbWUodGV4dCk7IGkgPj0gMDsgaSA9IHBhcnNlQ2xhc3NOYW1lTmV4dCh0ZXh0LCBpKSkge1xuICogICBjb25zdCBrZXkgPSBnZXRMYXN0UGFyc2VkS2V5KCk7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHRleHQgYGNsYXNzTmFtZWAgdG8gcGFyc2VcbiAqIEBwYXJhbSBpbmRleCB3aGVyZSB0aGUgcGFyc2luZyBzaG91bGQgcmVzdW1lLlxuICogQHJldHVybnMgaW5kZXggd2hlcmUgdGhlIG5leHQgaW52b2NhdGlvbiBvZiBgcGFyc2VDbGFzc05hbWVOZXh0YCBzaG91bGQgcmVzdW1lLlxuICovXG5mdW5jdGlvbiBwYXJzZUNsYXNzTmFtZU5leHQodGV4dCwgaW5kZXgpIHtcbiAgICBjb25zdCBlbmQgPSBwYXJzZXJTdGF0ZS50ZXh0RW5kO1xuICAgIGlmIChlbmQgPT09IGluZGV4KSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaW5kZXggPSBwYXJzZXJTdGF0ZS5rZXlFbmQgPSBjb25zdW1lQ2xhc3NUb2tlbih0ZXh0LCBwYXJzZXJTdGF0ZS5rZXkgPSBpbmRleCwgZW5kKTtcbiAgICByZXR1cm4gY29uc3VtZVdoaXRlc3BhY2UodGV4dCwgaW5kZXgsIGVuZCk7XG59XG4vKipcbiAqIEluaXRpYWxpemVzIGBjc3NUZXh0YCBzdHJpbmcgZm9yIHBhcnNpbmcgYW5kIHBhcnNlcyB0aGUgZmlyc3Qga2V5L3ZhbHVlcy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGludGVuZGVkIHRvIGJlIHVzZWQgaW4gdGhpcyBmb3JtYXQ6XG4gKiBgYGBcbiAqIGZvciAobGV0IGkgPSBwYXJzZVN0eWxlKHRleHQpOyBpID49IDA7IGkgPSBwYXJzZVN0eWxlTmV4dCh0ZXh0LCBpKSkpIHtcbiAqICAgY29uc3Qga2V5ID0gZ2V0TGFzdFBhcnNlZEtleSgpO1xuICogICBjb25zdCB2YWx1ZSA9IGdldExhc3RQYXJzZWRWYWx1ZSgpO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICogQHBhcmFtIHRleHQgYGNzc1RleHRgIHRvIHBhcnNlXG4gKiBAcmV0dXJucyBpbmRleCB3aGVyZSB0aGUgbmV4dCBpbnZvY2F0aW9uIG9mIGBwYXJzZVN0eWxlTmV4dGAgc2hvdWxkIHJlc3VtZS5cbiAqL1xuZnVuY3Rpb24gcGFyc2VTdHlsZSh0ZXh0KSB7XG4gICAgcmVzZXRQYXJzZXJTdGF0ZSh0ZXh0KTtcbiAgICByZXR1cm4gcGFyc2VTdHlsZU5leHQodGV4dCwgY29uc3VtZVdoaXRlc3BhY2UodGV4dCwgMCwgcGFyc2VyU3RhdGUudGV4dEVuZCkpO1xufVxuLyoqXG4gKiBQYXJzZXMgdGhlIG5leHQgYGNzc1RleHRgIGtleS92YWx1ZXMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIGluIHRoaXMgZm9ybWF0OlxuICogYGBgXG4gKiBmb3IgKGxldCBpID0gcGFyc2VTdHlsZSh0ZXh0KTsgaSA+PSAwOyBpID0gcGFyc2VTdHlsZU5leHQodGV4dCwgaSkpKSB7XG4gKiAgIGNvbnN0IGtleSA9IGdldExhc3RQYXJzZWRLZXkoKTtcbiAqICAgY29uc3QgdmFsdWUgPSBnZXRMYXN0UGFyc2VkVmFsdWUoKTtcbiAqICAgLi4uXG4gKiB9XG4gKlxuICogQHBhcmFtIHRleHQgYGNzc1RleHRgIHRvIHBhcnNlXG4gKiBAcGFyYW0gaW5kZXggd2hlcmUgdGhlIHBhcnNpbmcgc2hvdWxkIHJlc3VtZS5cbiAqIEByZXR1cm5zIGluZGV4IHdoZXJlIHRoZSBuZXh0IGludm9jYXRpb24gb2YgYHBhcnNlU3R5bGVOZXh0YCBzaG91bGQgcmVzdW1lLlxuICovXG5mdW5jdGlvbiBwYXJzZVN0eWxlTmV4dCh0ZXh0LCBzdGFydEluZGV4KSB7XG4gICAgY29uc3QgZW5kID0gcGFyc2VyU3RhdGUudGV4dEVuZDtcbiAgICBsZXQgaW5kZXggPSBwYXJzZXJTdGF0ZS5rZXkgPSBjb25zdW1lV2hpdGVzcGFjZSh0ZXh0LCBzdGFydEluZGV4LCBlbmQpO1xuICAgIGlmIChlbmQgPT09IGluZGV4KSB7XG4gICAgICAgIC8vIHdlIHJlYWNoZWQgYW4gZW5kIHNvIGp1c3QgcXVpdFxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGluZGV4ID0gcGFyc2VyU3RhdGUua2V5RW5kID0gY29uc3VtZVN0eWxlS2V5KHRleHQsIGluZGV4LCBlbmQpO1xuICAgIGluZGV4ID0gY29uc3VtZVNlcGFyYXRvcih0ZXh0LCBpbmRleCwgZW5kLCA1OCAvKiBDT0xPTiAqLyk7XG4gICAgaW5kZXggPSBwYXJzZXJTdGF0ZS52YWx1ZSA9IGNvbnN1bWVXaGl0ZXNwYWNlKHRleHQsIGluZGV4LCBlbmQpO1xuICAgIGluZGV4ID0gcGFyc2VyU3RhdGUudmFsdWVFbmQgPSBjb25zdW1lU3R5bGVWYWx1ZSh0ZXh0LCBpbmRleCwgZW5kKTtcbiAgICByZXR1cm4gY29uc3VtZVNlcGFyYXRvcih0ZXh0LCBpbmRleCwgZW5kLCA1OSAvKiBTRU1JX0NPTE9OICovKTtcbn1cbi8qKlxuICogUmVzZXQgdGhlIGdsb2JhbCBzdGF0ZSBvZiB0aGUgc3R5bGluZyBwYXJzZXIuXG4gKiBAcGFyYW0gdGV4dCBUaGUgc3R5bGluZyB0ZXh0IHRvIHBhcnNlLlxuICovXG5mdW5jdGlvbiByZXNldFBhcnNlclN0YXRlKHRleHQpIHtcbiAgICBwYXJzZXJTdGF0ZS5rZXkgPSAwO1xuICAgIHBhcnNlclN0YXRlLmtleUVuZCA9IDA7XG4gICAgcGFyc2VyU3RhdGUudmFsdWUgPSAwO1xuICAgIHBhcnNlclN0YXRlLnZhbHVlRW5kID0gMDtcbiAgICBwYXJzZXJTdGF0ZS50ZXh0RW5kID0gdGV4dC5sZW5ndGg7XG59XG4vKipcbiAqIFJldHVybnMgaW5kZXggb2YgbmV4dCBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIuXG4gKlxuICogQHBhcmFtIHRleHQgVGV4dCB0byBzY2FuXG4gKiBAcGFyYW0gc3RhcnRJbmRleCBTdGFydGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIHN0YXJ0LlxuICogQHBhcmFtIGVuZEluZGV4IEVuZGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIGVuZC5cbiAqIEByZXR1cm5zIEluZGV4IG9mIG5leHQgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyIChNYXkgYmUgdGhlIHNhbWUgYXMgYHN0YXJ0YCBpZiBubyB3aGl0ZXNwYWNlIGF0XG4gKiAgICAgICAgICB0aGF0IGxvY2F0aW9uLilcbiAqL1xuZnVuY3Rpb24gY29uc3VtZVdoaXRlc3BhY2UodGV4dCwgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcbiAgICB3aGlsZSAoc3RhcnRJbmRleCA8IGVuZEluZGV4ICYmIHRleHQuY2hhckNvZGVBdChzdGFydEluZGV4KSA8PSAzMiAvKiBTUEFDRSAqLykge1xuICAgICAgICBzdGFydEluZGV4Kys7XG4gICAgfVxuICAgIHJldHVybiBzdGFydEluZGV4O1xufVxuLyoqXG4gKiBSZXR1cm5zIGluZGV4IG9mIGxhc3QgY2hhciBpbiBjbGFzcyB0b2tlbi5cbiAqXG4gKiBAcGFyYW0gdGV4dCBUZXh0IHRvIHNjYW5cbiAqIEBwYXJhbSBzdGFydEluZGV4IFN0YXJ0aW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgc3RhcnQuXG4gKiBAcGFyYW0gZW5kSW5kZXggRW5kaW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgZW5kLlxuICogQHJldHVybnMgSW5kZXggYWZ0ZXIgbGFzdCBjaGFyIGluIGNsYXNzIHRva2VuLlxuICovXG5mdW5jdGlvbiBjb25zdW1lQ2xhc3NUb2tlbih0ZXh0LCBzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICAgIHdoaWxlIChzdGFydEluZGV4IDwgZW5kSW5kZXggJiYgdGV4dC5jaGFyQ29kZUF0KHN0YXJ0SW5kZXgpID4gMzIgLyogU1BBQ0UgKi8pIHtcbiAgICAgICAgc3RhcnRJbmRleCsrO1xuICAgIH1cbiAgICByZXR1cm4gc3RhcnRJbmRleDtcbn1cbi8qKlxuICogQ29uc3VtZXMgYWxsIG9mIHRoZSBjaGFyYWN0ZXJzIGJlbG9uZ2luZyB0byBzdHlsZSBrZXkgYW5kIHRva2VuLlxuICpcbiAqIEBwYXJhbSB0ZXh0IFRleHQgdG8gc2NhblxuICogQHBhcmFtIHN0YXJ0SW5kZXggU3RhcnRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBzdGFydC5cbiAqIEBwYXJhbSBlbmRJbmRleCBFbmRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBlbmQuXG4gKiBAcmV0dXJucyBJbmRleCBhZnRlciBsYXN0IHN0eWxlIGtleSBjaGFyYWN0ZXIuXG4gKi9cbmZ1bmN0aW9uIGNvbnN1bWVTdHlsZUtleSh0ZXh0LCBzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICAgIGxldCBjaDtcbiAgICB3aGlsZSAoc3RhcnRJbmRleCA8IGVuZEluZGV4ICYmXG4gICAgICAgICgoY2ggPSB0ZXh0LmNoYXJDb2RlQXQoc3RhcnRJbmRleCkpID09PSA0NSAvKiBEQVNIICovIHx8IGNoID09PSA5NSAvKiBVTkRFUlNDT1JFICovIHx8XG4gICAgICAgICAgICAoKGNoICYgLTMzIC8qIFVQUEVSX0NBU0UgKi8pID49IDY1IC8qIEEgKi8gJiYgKGNoICYgLTMzIC8qIFVQUEVSX0NBU0UgKi8pIDw9IDkwIC8qIFogKi8pIHx8XG4gICAgICAgICAgICAoY2ggPj0gNDggLyogWkVSTyAqLyAmJiBjaCA8PSA1NyAvKiBOSU5FICovKSkpIHtcbiAgICAgICAgc3RhcnRJbmRleCsrO1xuICAgIH1cbiAgICByZXR1cm4gc3RhcnRJbmRleDtcbn1cbi8qKlxuICogQ29uc3VtZXMgYWxsIHdoaXRlc3BhY2UgYW5kIHRoZSBzZXBhcmF0b3IgYDpgIGFmdGVyIHRoZSBzdHlsZSBrZXkuXG4gKlxuICogQHBhcmFtIHRleHQgVGV4dCB0byBzY2FuXG4gKiBAcGFyYW0gc3RhcnRJbmRleCBTdGFydGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIHN0YXJ0LlxuICogQHBhcmFtIGVuZEluZGV4IEVuZGluZyBpbmRleCBvZiBjaGFyYWN0ZXIgd2hlcmUgdGhlIHNjYW4gc2hvdWxkIGVuZC5cbiAqIEByZXR1cm5zIEluZGV4IGFmdGVyIHNlcGFyYXRvciBhbmQgc3Vycm91bmRpbmcgd2hpdGVzcGFjZS5cbiAqL1xuZnVuY3Rpb24gY29uc3VtZVNlcGFyYXRvcih0ZXh0LCBzdGFydEluZGV4LCBlbmRJbmRleCwgc2VwYXJhdG9yKSB7XG4gICAgc3RhcnRJbmRleCA9IGNvbnN1bWVXaGl0ZXNwYWNlKHRleHQsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KTtcbiAgICBpZiAoc3RhcnRJbmRleCA8IGVuZEluZGV4KSB7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgdGV4dC5jaGFyQ29kZUF0KHN0YXJ0SW5kZXgpICE9PSBzZXBhcmF0b3IpIHtcbiAgICAgICAgICAgIG1hbGZvcm1lZFN0eWxlRXJyb3IodGV4dCwgU3RyaW5nLmZyb21DaGFyQ29kZShzZXBhcmF0b3IpLCBzdGFydEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBzdGFydEluZGV4Kys7XG4gICAgfVxuICAgIHJldHVybiBzdGFydEluZGV4O1xufVxuLyoqXG4gKiBDb25zdW1lcyBzdHlsZSB2YWx1ZSBob25vcmluZyBgdXJsKClgIGFuZCBgXCJcImAgdGV4dC5cbiAqXG4gKiBAcGFyYW0gdGV4dCBUZXh0IHRvIHNjYW5cbiAqIEBwYXJhbSBzdGFydEluZGV4IFN0YXJ0aW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgc3RhcnQuXG4gKiBAcGFyYW0gZW5kSW5kZXggRW5kaW5nIGluZGV4IG9mIGNoYXJhY3RlciB3aGVyZSB0aGUgc2NhbiBzaG91bGQgZW5kLlxuICogQHJldHVybnMgSW5kZXggYWZ0ZXIgbGFzdCBzdHlsZSB2YWx1ZSBjaGFyYWN0ZXIuXG4gKi9cbmZ1bmN0aW9uIGNvbnN1bWVTdHlsZVZhbHVlKHRleHQsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgbGV0IGNoMSA9IC0xOyAvLyAxc3QgcHJldmlvdXMgY2hhcmFjdGVyXG4gICAgbGV0IGNoMiA9IC0xOyAvLyAybmQgcHJldmlvdXMgY2hhcmFjdGVyXG4gICAgbGV0IGNoMyA9IC0xOyAvLyAzcmQgcHJldmlvdXMgY2hhcmFjdGVyXG4gICAgbGV0IGkgPSBzdGFydEluZGV4O1xuICAgIGxldCBsYXN0Q2hJbmRleCA9IGk7XG4gICAgd2hpbGUgKGkgPCBlbmRJbmRleCkge1xuICAgICAgICBjb25zdCBjaCA9IHRleHQuY2hhckNvZGVBdChpKyspO1xuICAgICAgICBpZiAoY2ggPT09IDU5IC8qIFNFTUlfQ09MT04gKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBsYXN0Q2hJbmRleDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaCA9PT0gMzQgLyogRE9VQkxFX1FVT1RFICovIHx8IGNoID09PSAzOSAvKiBTSU5HTEVfUVVPVEUgKi8pIHtcbiAgICAgICAgICAgIGxhc3RDaEluZGV4ID0gaSA9IGNvbnN1bWVRdW90ZWRUZXh0KHRleHQsIGNoLCBpLCBlbmRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhcnRJbmRleCA9PT1cbiAgICAgICAgICAgIGkgLSA0ICYmIC8vIFdlIGhhdmUgc2VlbiBvbmx5IDQgY2hhcmFjdGVycyBzbyBmYXIgXCJVUkwoXCIgKElnbm9yZSBcImZvb19VUkwoKVwiKVxuICAgICAgICAgICAgY2gzID09PSA4NSAvKiBVICovICYmXG4gICAgICAgICAgICBjaDIgPT09IDgyIC8qIFIgKi8gJiYgY2gxID09PSA3NiAvKiBMICovICYmIGNoID09PSA0MCAvKiBPUEVOX1BBUkVOICovKSB7XG4gICAgICAgICAgICBsYXN0Q2hJbmRleCA9IGkgPSBjb25zdW1lUXVvdGVkVGV4dCh0ZXh0LCA0MSAvKiBDTE9TRV9QQVJFTiAqLywgaSwgZW5kSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoID4gMzIgLyogU1BBQ0UgKi8pIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgYSBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIgdGhlbiBjYXB0dXJlIGl0cyBsb2NhdGlvblxuICAgICAgICAgICAgbGFzdENoSW5kZXggPSBpO1xuICAgICAgICB9XG4gICAgICAgIGNoMyA9IGNoMjtcbiAgICAgICAgY2gyID0gY2gxO1xuICAgICAgICBjaDEgPSBjaCAmIC0zMyAvKiBVUFBFUl9DQVNFICovO1xuICAgIH1cbiAgICByZXR1cm4gbGFzdENoSW5kZXg7XG59XG4vKipcbiAqIENvbnN1bWVzIGFsbCBvZiB0aGUgcXVvdGVkIGNoYXJhY3RlcnMuXG4gKlxuICogQHBhcmFtIHRleHQgVGV4dCB0byBzY2FuXG4gKiBAcGFyYW0gcXVvdGVDaGFyQ29kZSBDaGFyQ29kZSBvZiBlaXRoZXIgYFwiYCBvciBgJ2AgcXVvdGUgb3IgYClgIGZvciBgdXJsKC4uLilgLlxuICogQHBhcmFtIHN0YXJ0SW5kZXggU3RhcnRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBzdGFydC5cbiAqIEBwYXJhbSBlbmRJbmRleCBFbmRpbmcgaW5kZXggb2YgY2hhcmFjdGVyIHdoZXJlIHRoZSBzY2FuIHNob3VsZCBlbmQuXG4gKiBAcmV0dXJucyBJbmRleCBhZnRlciBxdW90ZWQgY2hhcmFjdGVycy5cbiAqL1xuZnVuY3Rpb24gY29uc3VtZVF1b3RlZFRleHQodGV4dCwgcXVvdGVDaGFyQ29kZSwgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcbiAgICBsZXQgY2gxID0gLTE7IC8vIDFzdCBwcmV2aW91cyBjaGFyYWN0ZXJcbiAgICBsZXQgaW5kZXggPSBzdGFydEluZGV4O1xuICAgIHdoaWxlIChpbmRleCA8IGVuZEluZGV4KSB7XG4gICAgICAgIGNvbnN0IGNoID0gdGV4dC5jaGFyQ29kZUF0KGluZGV4KyspO1xuICAgICAgICBpZiAoY2ggPT0gcXVvdGVDaGFyQ29kZSAmJiBjaDEgIT09IDkyIC8qIEJBQ0tfU0xBU0ggKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2ggPT0gOTIgLyogQkFDS19TTEFTSCAqLyAmJiBjaDEgPT09IDkyIC8qIEJBQ0tfU0xBU0ggKi8pIHtcbiAgICAgICAgICAgIC8vIHR3byBiYWNrIHNsYXNoZXMgY2FuY2VsIGVhY2ggb3RoZXIgb3V0LiBGb3IgZXhhbXBsZSBgXCJcXFxcXCJgIHNob3VsZCBwcm9wZXJseSBlbmQgdGhlXG4gICAgICAgICAgICAvLyBxdW90YXRpb24uIChJdCBzaG91bGQgbm90IGFzc3VtZSB0aGF0IHRoZSBsYXN0IGBcImAgaXMgZXNjYXBlZC4pXG4gICAgICAgICAgICBjaDEgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2gxID0gY2g7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmdEZXZNb2RlID8gbWFsZm9ybWVkU3R5bGVFcnJvcih0ZXh0LCBTdHJpbmcuZnJvbUNoYXJDb2RlKHF1b3RlQ2hhckNvZGUpLCBlbmRJbmRleCkgOlxuICAgICAgICBuZXcgRXJyb3IoKTtcbn1cbmZ1bmN0aW9uIG1hbGZvcm1lZFN0eWxlRXJyb3IodGV4dCwgZXhwZWN0aW5nLCBpbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbCh0eXBlb2YgdGV4dCA9PT0gJ3N0cmluZycsIHRydWUsICdTdHJpbmcgZXhwZWN0ZWQgaGVyZScpO1xuICAgIHRocm93IHRocm93RXJyb3IoYE1hbGZvcm1lZCBzdHlsZSBhdCBsb2NhdGlvbiAke2luZGV4fSBpbiBzdHJpbmcgJ2AgKyB0ZXh0LnN1YnN0cmluZygwLCBpbmRleCkgKyAnWz4+JyArXG4gICAgICAgIHRleHQuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIDEpICsgJzw8XScgKyB0ZXh0LnN1YnN0cihpbmRleCArIDEpICtcbiAgICAgICAgYCcuIEV4cGVjdGluZyAnJHtleHBlY3Rpbmd9Jy5gKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFVwZGF0ZSBhIHN0eWxlIGJpbmRpbmcgb24gYW4gZWxlbWVudCB3aXRoIHRoZSBwcm92aWRlZCB2YWx1ZS5cbiAqXG4gKiBJZiB0aGUgc3R5bGUgdmFsdWUgaXMgZmFsc3kgdGhlbiBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudFxuICogKG9yIGFzc2lnbmVkIGEgZGlmZmVyZW50IHZhbHVlIGRlcGVuZGluZyBpZiB0aGVyZSBhcmUgYW55IHN0eWxlcyBwbGFjZWRcbiAqIG9uIHRoZSBlbGVtZW50IHdpdGggYHN0eWxlTWFwYCBvciBhbnkgc3RhdGljIHN0eWxlcyB0aGF0IGFyZVxuICogcHJlc2VudCBmcm9tIHdoZW4gdGhlIGVsZW1lbnQgd2FzIGNyZWF0ZWQgd2l0aCBgc3R5bGluZ2ApLlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgc3R5bGluZyBlbGVtZW50IGlzIHVwZGF0ZWQgYXMgcGFydCBvZiBgc3R5bGluZ0FwcGx5YC5cbiAqXG4gKiBAcGFyYW0gcHJvcCBBIHZhbGlkIENTUyBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB2YWx1ZSBOZXcgdmFsdWUgdG8gd3JpdGUgKGBudWxsYCBvciBhbiBlbXB0eSBzdHJpbmcgdG8gcmVtb3ZlKS5cbiAqIEBwYXJhbSBzdWZmaXggT3B0aW9uYWwgc3VmZml4LiBVc2VkIHdpdGggc2NhbGFyIHZhbHVlcyB0byBhZGQgdW5pdCBzdWNoIGFzIGBweGAuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgd2lsbCBhcHBseSB0aGUgcHJvdmlkZWQgc3R5bGUgdmFsdWUgdG8gdGhlIGhvc3QgZWxlbWVudCBpZiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZFxuICogd2l0aGluIGEgaG9zdCBiaW5kaW5nIGZ1bmN0aW9uLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVzdHlsZVByb3AocHJvcCwgdmFsdWUsIHN1ZmZpeCkge1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIHZhbHVlLCBzdWZmaXgsIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN0eWxlUHJvcDtcbn1cbi8qKlxuICogVXBkYXRlIGEgY2xhc3MgYmluZGluZyBvbiBhbiBlbGVtZW50IHdpdGggdGhlIHByb3ZpZGVkIHZhbHVlLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gaXMgbWVhbnQgdG8gaGFuZGxlIHRoZSBgW2NsYXNzLmZvb109XCJleHBcImAgY2FzZSBhbmQsXG4gKiB0aGVyZWZvcmUsIHRoZSBjbGFzcyBiaW5kaW5nIGl0c2VsZiBtdXN0IGFscmVhZHkgYmUgYWxsb2NhdGVkIHVzaW5nXG4gKiBgc3R5bGluZ2Agd2l0aGluIHRoZSBjcmVhdGlvbiBibG9jay5cbiAqXG4gKiBAcGFyYW0gcHJvcCBBIHZhbGlkIENTUyBjbGFzcyAob25seSBvbmUpLlxuICogQHBhcmFtIHZhbHVlIEEgdHJ1ZS9mYWxzZSB2YWx1ZSB3aGljaCB3aWxsIHR1cm4gdGhlIGNsYXNzIG9uIG9yIG9mZi5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyB3aWxsIGFwcGx5IHRoZSBwcm92aWRlZCBjbGFzcyB2YWx1ZSB0byB0aGUgaG9zdCBlbGVtZW50IGlmIHRoaXMgZnVuY3Rpb25cbiAqIGlzIGNhbGxlZCB3aXRoaW4gYSBob3N0IGJpbmRpbmcgZnVuY3Rpb24uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzUHJvcChjbGFzc05hbWUsIHZhbHVlKSB7XG4gICAgY2hlY2tTdHlsaW5nUHJvcGVydHkoY2xhc3NOYW1lLCB2YWx1ZSwgbnVsbCwgdHJ1ZSk7XG4gICAgcmV0dXJuIMm1ybVjbGFzc1Byb3A7XG59XG4vKipcbiAqIFVwZGF0ZSBzdHlsZSBiaW5kaW5ncyB1c2luZyBhbiBvYmplY3QgbGl0ZXJhbCBvbiBhbiBlbGVtZW50LlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gaXMgbWVhbnQgdG8gYXBwbHkgc3R5bGluZyB2aWEgdGhlIGBbc3R5bGVdPVwiZXhwXCJgIHRlbXBsYXRlIGJpbmRpbmdzLlxuICogV2hlbiBzdHlsZXMgYXJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgdGhleSB3aWxsIHRoZW4gYmUgdXBkYXRlZCB3aXRoIHJlc3BlY3QgdG9cbiAqIGFueSBzdHlsZXMvY2xhc3NlcyBzZXQgdmlhIGBzdHlsZVByb3BgLiBJZiBhbnkgc3R5bGVzIGFyZSBzZXQgdG8gZmFsc3lcbiAqIHRoZW4gdGhleSB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudC5cbiAqXG4gKiBOb3RlIHRoYXQgdGhlIHN0eWxpbmcgaW5zdHJ1Y3Rpb24gd2lsbCBub3QgYmUgYXBwbGllZCB1bnRpbCBgc3R5bGluZ0FwcGx5YCBpcyBjYWxsZWQuXG4gKlxuICogQHBhcmFtIHN0eWxlcyBBIGtleS92YWx1ZSBzdHlsZSBtYXAgb2YgdGhlIHN0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqICAgICAgICBBbnkgbWlzc2luZyBzdHlsZXMgKHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0aGUgZWxlbWVudCBiZWZvcmVoYW5kKSB3aWxsIGJlXG4gKiAgICAgICAgcmVtb3ZlZCAodW5zZXQpIGZyb20gdGhlIGVsZW1lbnQncyBzdHlsaW5nLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIHdpbGwgYXBwbHkgdGhlIHByb3ZpZGVkIHN0eWxlTWFwIHZhbHVlIHRvIHRoZSBob3N0IGVsZW1lbnQgaWYgdGhpcyBmdW5jdGlvblxuICogaXMgY2FsbGVkIHdpdGhpbiBhIGhvc3QgYmluZGluZy5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVNYXAoc3R5bGVzKSB7XG4gICAgY2hlY2tTdHlsaW5nTWFwKHN0eWxlS2V5VmFsdWVBcnJheVNldCwgc3R5bGVTdHJpbmdQYXJzZXIsIHN0eWxlcywgZmFsc2UpO1xufVxuLyoqXG4gKiBQYXJzZSB0ZXh0IGFzIHN0eWxlIGFuZCBhZGQgdmFsdWVzIHRvIEtleVZhbHVlQXJyYXkuXG4gKlxuICogVGhpcyBjb2RlIGlzIHB1bGxlZCBvdXQgdG8gYSBzZXBhcmF0ZSBmdW5jdGlvbiBzbyB0aGF0IGl0IGNhbiBiZSB0cmVlIHNoYWtlbiBhd2F5IGlmIGl0IGlzIG5vdFxuICogbmVlZGVkLiBJdCBpcyBvbmx5IHJlZmVyZW5jZWQgZnJvbSBgybXJtXN0eWxlTWFwYC5cbiAqXG4gKiBAcGFyYW0ga2V5VmFsdWVBcnJheSBLZXlWYWx1ZUFycmF5IHRvIGFkZCBwYXJzZWQgdmFsdWVzIHRvLlxuICogQHBhcmFtIHRleHQgdGV4dCB0byBwYXJzZS5cbiAqL1xuZnVuY3Rpb24gc3R5bGVTdHJpbmdQYXJzZXIoa2V5VmFsdWVBcnJheSwgdGV4dCkge1xuICAgIGZvciAobGV0IGkgPSBwYXJzZVN0eWxlKHRleHQpOyBpID49IDA7IGkgPSBwYXJzZVN0eWxlTmV4dCh0ZXh0LCBpKSkge1xuICAgICAgICBzdHlsZUtleVZhbHVlQXJyYXlTZXQoa2V5VmFsdWVBcnJheSwgZ2V0TGFzdFBhcnNlZEtleSh0ZXh0KSwgZ2V0TGFzdFBhcnNlZFZhbHVlKHRleHQpKTtcbiAgICB9XG59XG4vKipcbiAqIFVwZGF0ZSBjbGFzcyBiaW5kaW5ncyB1c2luZyBhbiBvYmplY3QgbGl0ZXJhbCBvciBjbGFzcy1zdHJpbmcgb24gYW4gZWxlbWVudC5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGlzIG1lYW50IHRvIGFwcGx5IHN0eWxpbmcgdmlhIHRoZSBgW2NsYXNzXT1cImV4cFwiYCB0ZW1wbGF0ZSBiaW5kaW5ncy5cbiAqIFdoZW4gY2xhc3NlcyBhcmUgYXBwbGllZCB0byB0aGUgZWxlbWVudCB0aGV5IHdpbGwgdGhlbiBiZSB1cGRhdGVkIHdpdGhcbiAqIHJlc3BlY3QgdG8gYW55IHN0eWxlcy9jbGFzc2VzIHNldCB2aWEgYGNsYXNzUHJvcGAuIElmIGFueVxuICogY2xhc3NlcyBhcmUgc2V0IHRvIGZhbHN5IHRoZW4gdGhleSB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudC5cbiAqXG4gKiBOb3RlIHRoYXQgdGhlIHN0eWxpbmcgaW5zdHJ1Y3Rpb24gd2lsbCBub3QgYmUgYXBwbGllZCB1bnRpbCBgc3R5bGluZ0FwcGx5YCBpcyBjYWxsZWQuXG4gKiBOb3RlIHRoYXQgdGhpcyB3aWxsIHRoZSBwcm92aWRlZCBjbGFzc01hcCB2YWx1ZSB0byB0aGUgaG9zdCBlbGVtZW50IGlmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkXG4gKiB3aXRoaW4gYSBob3N0IGJpbmRpbmcuXG4gKlxuICogQHBhcmFtIGNsYXNzZXMgQSBrZXkvdmFsdWUgbWFwIG9yIHN0cmluZyBvZiBDU1MgY2xhc3NlcyB0aGF0IHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4gKiAgICAgICAgZ2l2ZW4gZWxlbWVudC4gQW55IG1pc3NpbmcgY2xhc3NlcyAodGhhdCBoYXZlIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XG4gKiAgICAgICAgYmVmb3JlaGFuZCkgd2lsbCBiZSByZW1vdmVkICh1bnNldCkgZnJvbSB0aGUgZWxlbWVudCdzIGxpc3Qgb2YgQ1NTIGNsYXNzZXMuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWNsYXNzTWFwKGNsYXNzZXMpIHtcbiAgICBjaGVja1N0eWxpbmdNYXAoa2V5VmFsdWVBcnJheVNldCwgY2xhc3NTdHJpbmdQYXJzZXIsIGNsYXNzZXMsIHRydWUpO1xufVxuLyoqXG4gKiBQYXJzZSB0ZXh0IGFzIGNsYXNzIGFuZCBhZGQgdmFsdWVzIHRvIEtleVZhbHVlQXJyYXkuXG4gKlxuICogVGhpcyBjb2RlIGlzIHB1bGxlZCBvdXQgdG8gYSBzZXBhcmF0ZSBmdW5jdGlvbiBzbyB0aGF0IGl0IGNhbiBiZSB0cmVlIHNoYWtlbiBhd2F5IGlmIGl0IGlzIG5vdFxuICogbmVlZGVkLiBJdCBpcyBvbmx5IHJlZmVyZW5jZWQgZnJvbSBgybXJtWNsYXNzTWFwYC5cbiAqXG4gKiBAcGFyYW0ga2V5VmFsdWVBcnJheSBLZXlWYWx1ZUFycmF5IHRvIGFkZCBwYXJzZWQgdmFsdWVzIHRvLlxuICogQHBhcmFtIHRleHQgdGV4dCB0byBwYXJzZS5cbiAqL1xuZnVuY3Rpb24gY2xhc3NTdHJpbmdQYXJzZXIoa2V5VmFsdWVBcnJheSwgdGV4dCkge1xuICAgIGZvciAobGV0IGkgPSBwYXJzZUNsYXNzTmFtZSh0ZXh0KTsgaSA+PSAwOyBpID0gcGFyc2VDbGFzc05hbWVOZXh0KHRleHQsIGkpKSB7XG4gICAgICAgIGtleVZhbHVlQXJyYXlTZXQoa2V5VmFsdWVBcnJheSwgZ2V0TGFzdFBhcnNlZEtleSh0ZXh0KSwgdHJ1ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBDb21tb24gY29kZSBiZXR3ZWVuIGDJtcm1Y2xhc3NQcm9wYCBhbmQgYMm1ybVzdHlsZVByb3BgLlxuICpcbiAqIEBwYXJhbSBwcm9wIHByb3BlcnR5IG5hbWUuXG4gKiBAcGFyYW0gdmFsdWUgYmluZGluZyB2YWx1ZS5cbiAqIEBwYXJhbSBzdWZmaXggc3VmZml4IGZvciB0aGUgcHJvcGVydHkgKGUuZy4gYGVtYCBvciBgcHhgKVxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCBjaGFuZ2UgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqL1xuZnVuY3Rpb24gY2hlY2tTdHlsaW5nUHJvcGVydHkocHJvcCwgdmFsdWUsIHN1ZmZpeCwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAvLyBTdHlsaW5nIGluc3RydWN0aW9ucyB1c2UgMiBzbG90cyBwZXIgYmluZGluZy5cbiAgICAvLyAxLiBvbmUgZm9yIHRoZSB2YWx1ZSAvIFRTdHlsaW5nS2V5XG4gICAgLy8gMi4gb25lIGZvciB0aGUgaW50ZXJtaXR0ZW50LXZhbHVlIC8gVFN0eWxpbmdSYW5nZVxuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGluY3JlbWVudEJpbmRpbmdJbmRleCgyKTtcbiAgICBpZiAodFZpZXcuZmlyc3RVcGRhdGVQYXNzKSB7XG4gICAgICAgIHN0eWxpbmdGaXJzdFVwZGF0ZVBhc3ModFZpZXcsIHByb3AsIGJpbmRpbmdJbmRleCwgaXNDbGFzc0Jhc2VkKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlICE9PSBOT19DSEFOR0UgJiYgYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCwgdmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gdFZpZXcuZGF0YVtnZXRTZWxlY3RlZEluZGV4KCldO1xuICAgICAgICB1cGRhdGVTdHlsaW5nKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIGxWaWV3W1JFTkRFUkVSXSwgcHJvcCwgbFZpZXdbYmluZGluZ0luZGV4ICsgMV0gPSBub3JtYWxpemVTdWZmaXgodmFsdWUsIHN1ZmZpeCksIGlzQ2xhc3NCYXNlZCwgYmluZGluZ0luZGV4KTtcbiAgICB9XG59XG4vKipcbiAqIENvbW1vbiBjb2RlIGJldHdlZW4gYMm1ybVjbGFzc01hcGAgYW5kIGDJtcm1c3R5bGVNYXBgLlxuICpcbiAqIEBwYXJhbSBrZXlWYWx1ZUFycmF5U2V0IChTZWUgYGtleVZhbHVlQXJyYXlTZXRgIGluIFwidXRpbC9hcnJheV91dGlsc1wiKSBHZXRzIHBhc3NlZCBpbiBhcyBhXG4gKiAgICAgICAgZnVuY3Rpb24gc28gdGhhdCBgc3R5bGVgIGNhbiBiZSBwcm9jZXNzZWQuIFRoaXMgaXMgZG9uZSBmb3IgdHJlZSBzaGFraW5nIHB1cnBvc2VzLlxuICogQHBhcmFtIHN0cmluZ1BhcnNlciBQYXJzZXIgdXNlZCB0byBwYXJzZSBgdmFsdWVgIGlmIGBzdHJpbmdgLiAoUGFzc2VkIGluIGFzIGBzdHlsZWAgYW5kIGBjbGFzc2BcbiAqICAgICAgICBoYXZlIGRpZmZlcmVudCBwYXJzZXJzLilcbiAqIEBwYXJhbSB2YWx1ZSBib3VuZCB2YWx1ZSBmcm9tIGFwcGxpY2F0aW9uXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIGNoYW5nZSAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICovXG5mdW5jdGlvbiBjaGVja1N0eWxpbmdNYXAoa2V5VmFsdWVBcnJheVNldCwgc3RyaW5nUGFyc2VyLCB2YWx1ZSwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGluY3JlbWVudEJpbmRpbmdJbmRleCgyKTtcbiAgICBpZiAodFZpZXcuZmlyc3RVcGRhdGVQYXNzKSB7XG4gICAgICAgIHN0eWxpbmdGaXJzdFVwZGF0ZVBhc3ModFZpZXcsIG51bGwsIGJpbmRpbmdJbmRleCwgaXNDbGFzc0Jhc2VkKTtcbiAgICB9XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGlmICh2YWx1ZSAhPT0gTk9fQ0hBTkdFICYmIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHZhbHVlKSkge1xuICAgICAgICAvLyBgZ2V0U2VsZWN0ZWRJbmRleCgpYCBzaG91bGQgYmUgaGVyZSAocmF0aGVyIHRoYW4gaW4gaW5zdHJ1Y3Rpb24pIHNvIHRoYXQgaXQgaXMgZ3VhcmRlZCBieSB0aGVcbiAgICAgICAgLy8gaWYgc28gYXMgbm90IHRvIHJlYWQgdW5uZWNlc3NhcmlseS5cbiAgICAgICAgY29uc3QgdE5vZGUgPSB0Vmlldy5kYXRhW2dldFNlbGVjdGVkSW5kZXgoKV07XG4gICAgICAgIGlmIChoYXNTdHlsaW5nSW5wdXRTaGFkb3codE5vZGUsIGlzQ2xhc3NCYXNlZCkgJiYgIWlzSW5Ib3N0QmluZGluZ3ModFZpZXcsIGJpbmRpbmdJbmRleCkpIHtcbiAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgICAgICAvLyB2ZXJpZnkgdGhhdCBpZiB3ZSBhcmUgc2hhZG93aW5nIHRoZW4gYFREYXRhYCBpcyBhcHByb3ByaWF0ZWx5IG1hcmtlZCBzbyB0aGF0IHdlIHNraXBcbiAgICAgICAgICAgICAgICAvLyBwcm9jZXNzaW5nIHRoaXMgYmluZGluZyBpbiBzdHlsaW5nIHJlc29sdXRpb24uXG4gICAgICAgICAgICAgICAgY29uc3QgdFN0eWxpbmdLZXkgPSB0Vmlldy5kYXRhW2JpbmRpbmdJbmRleF07XG4gICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWwoQXJyYXkuaXNBcnJheSh0U3R5bGluZ0tleSkgPyB0U3R5bGluZ0tleVsxXSA6IHRTdHlsaW5nS2V5LCBmYWxzZSwgJ1N0eWxpbmcgbGlua2VkIGxpc3Qgc2hhZG93IGlucHV0IHNob3VsZCBiZSBtYXJrZWQgYXMgXFwnZmFsc2VcXCcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFZFIGRvZXMgbm90IGNvbmNhdGVuYXRlIHRoZSBzdGF0aWMgcG9ydGlvbiBsaWtlIHdlIGFyZSBkb2luZyBoZXJlLlxuICAgICAgICAgICAgLy8gSW5zdGVhZCBWRSBqdXN0IGlnbm9yZXMgdGhlIHN0YXRpYyBjb21wbGV0ZWx5IGlmIGR5bmFtaWMgYmluZGluZyBpcyBwcmVzZW50LlxuICAgICAgICAgICAgLy8gQmVjYXVzZSBvZiBsb2NhbGl0eSB3ZSBoYXZlIGFscmVhZHkgc2V0IHRoZSBzdGF0aWMgcG9ydGlvbiBiZWNhdXNlIHdlIGRvbid0IGtub3cgaWYgdGhlcmVcbiAgICAgICAgICAgIC8vIGlzIGEgZHluYW1pYyBwb3J0aW9uIHVudGlsIGxhdGVyLiBJZiB3ZSB3b3VsZCBpZ25vcmUgdGhlIHN0YXRpYyBwb3J0aW9uIGl0IHdvdWxkIGxvb2sgbGlrZVxuICAgICAgICAgICAgLy8gdGhlIGJpbmRpbmcgaGFzIHJlbW92ZWQgaXQuIFRoaXMgd291bGQgY29uZnVzZSBgW25nU3R5bGVdYC9gW25nQ2xhc3NdYCB0byBkbyB0aGUgd3JvbmdcbiAgICAgICAgICAgIC8vIHRoaW5nIGFzIGl0IHdvdWxkIHRoaW5rIHRoYXQgdGhlIHN0YXRpYyBwb3J0aW9uIHdhcyByZW1vdmVkLiBGb3IgdGhpcyByZWFzb24gd2VcbiAgICAgICAgICAgIC8vIGNvbmNhdGVuYXRlIGl0IHNvIHRoYXQgYFtuZ1N0eWxlXWAvYFtuZ0NsYXNzXWAgIGNhbiBjb250aW51ZSB0byB3b3JrIG9uIGNoYW5nZWQuXG4gICAgICAgICAgICBsZXQgc3RhdGljUHJlZml4ID0gaXNDbGFzc0Jhc2VkID8gdE5vZGUuY2xhc3Nlc1dpdGhvdXRIb3N0IDogdE5vZGUuc3R5bGVzV2l0aG91dEhvc3Q7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgaXNDbGFzc0Jhc2VkID09PSBmYWxzZSAmJiBzdGF0aWNQcmVmaXggIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbChzdGF0aWNQcmVmaXguZW5kc1dpdGgoJzsnKSwgdHJ1ZSwgJ0V4cGVjdGluZyBzdGF0aWMgcG9ydGlvbiB0byBlbmQgd2l0aCBcXCc7XFwnJyk7XG4gICAgICAgICAgICBpZiAoc3RhdGljUHJlZml4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBtYWtlIHN1cmUgdGhhdCBmYWxzeSB2YWx1ZXMgb2YgYHZhbHVlYCBiZWNvbWUgZW1wdHkgc3RyaW5ncy5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGNvbmNhdFN0cmluZ3NXaXRoU3BhY2Uoc3RhdGljUHJlZml4LCB2YWx1ZSA/IHZhbHVlIDogJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gR2l2ZW4gYDxkaXYgW3N0eWxlXSBteS1kaXI+YCBzdWNoIHRoYXQgYG15LWRpcmAgaGFzIGBASW5wdXQoJ3N0eWxlJylgLlxuICAgICAgICAgICAgLy8gVGhpcyB0YWtlcyBvdmVyIHRoZSBgW3N0eWxlXWAgYmluZGluZy4gKFNhbWUgZm9yIGBbY2xhc3NdYClcbiAgICAgICAgICAgIHNldERpcmVjdGl2ZUlucHV0c1doaWNoU2hhZG93c1N0eWxpbmcodFZpZXcsIHROb2RlLCBsVmlldywgdmFsdWUsIGlzQ2xhc3NCYXNlZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB1cGRhdGVTdHlsaW5nTWFwKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIGxWaWV3W1JFTkRFUkVSXSwgbFZpZXdbYmluZGluZ0luZGV4ICsgMV0sIGxWaWV3W2JpbmRpbmdJbmRleCArIDFdID0gdG9TdHlsaW5nS2V5VmFsdWVBcnJheShrZXlWYWx1ZUFycmF5U2V0LCBzdHJpbmdQYXJzZXIsIHZhbHVlKSwgaXNDbGFzc0Jhc2VkLCBiaW5kaW5nSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZW4gdGhlIGJpbmRpbmcgaXMgaW4gYGhvc3RCaW5kaW5nc2Agc2VjdGlvblxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2BcbiAqIEBwYXJhbSBiaW5kaW5nSW5kZXggaW5kZXggb2YgYmluZGluZyB3aGljaCB3ZSB3b3VsZCBsaWtlIGlmIGl0IGlzIGluIGBob3N0QmluZGluZ3NgXG4gKi9cbmZ1bmN0aW9uIGlzSW5Ib3N0QmluZGluZ3ModFZpZXcsIGJpbmRpbmdJbmRleCkge1xuICAgIC8vIEFsbCBob3N0IGJpbmRpbmdzIGFyZSBwbGFjZWQgYWZ0ZXIgdGhlIGV4cGFuZG8gc2VjdGlvbi5cbiAgICByZXR1cm4gYmluZGluZ0luZGV4ID49IHRWaWV3LmV4cGFuZG9TdGFydEluZGV4O1xufVxuLyoqXG4gKiBDb2xsZWN0cyB0aGUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uIHRvIGluc2VydCB0aGUgYmluZGluZyBpbnRvIGEgbGlua2VkIGxpc3Qgb2Ygc3R5bGUgYmluZGluZ3NcbiAqIHVzaW5nIGBpbnNlcnRUU3R5bGluZ0JpbmRpbmdgLlxuICpcbiAqIEBwYXJhbSB0VmlldyBgVFZpZXdgIHdoZXJlIHRoZSBiaW5kaW5nIGxpbmtlZCBsaXN0IHdpbGwgYmUgc3RvcmVkLlxuICogQHBhcmFtIHRTdHlsaW5nS2V5IFByb3BlcnR5L2tleSBvZiB0aGUgYmluZGluZy5cbiAqIEBwYXJhbSBiaW5kaW5nSW5kZXggSW5kZXggb2YgYmluZGluZyBhc3NvY2lhdGVkIHdpdGggdGhlIGBwcm9wYFxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCBjaGFuZ2UgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqL1xuZnVuY3Rpb24gc3R5bGluZ0ZpcnN0VXBkYXRlUGFzcyh0VmlldywgdFN0eWxpbmdLZXksIGJpbmRpbmdJbmRleCwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEZpcnN0VXBkYXRlUGFzcyh0Vmlldyk7XG4gICAgY29uc3QgdERhdGEgPSB0Vmlldy5kYXRhO1xuICAgIGlmICh0RGF0YVtiaW5kaW5nSW5kZXggKyAxXSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBUaGUgYWJvdmUgY2hlY2sgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgZG9uJ3QgY2xlYXIgZmlyc3QgdXBkYXRlIHBhc3MgdW50aWwgZmlyc3Qgc3VjY2Vzc2Z1bFxuICAgICAgICAvLyAobm8gZXhjZXB0aW9uKSB0ZW1wbGF0ZSBleGVjdXRpb24uIFRoaXMgcHJldmVudHMgdGhlIHN0eWxpbmcgaW5zdHJ1Y3Rpb24gZnJvbSBkb3VibGUgYWRkaW5nXG4gICAgICAgIC8vIGl0c2VsZiB0byB0aGUgbGlzdC5cbiAgICAgICAgLy8gYGdldFNlbGVjdGVkSW5kZXgoKWAgc2hvdWxkIGJlIGhlcmUgKHJhdGhlciB0aGFuIGluIGluc3RydWN0aW9uKSBzbyB0aGF0IGl0IGlzIGd1YXJkZWQgYnkgdGhlXG4gICAgICAgIC8vIGlmIHNvIGFzIG5vdCB0byByZWFkIHVubmVjZXNzYXJpbHkuXG4gICAgICAgIGNvbnN0IHROb2RlID0gdERhdGFbZ2V0U2VsZWN0ZWRJbmRleCgpXTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodE5vZGUsICdUTm9kZSBleHBlY3RlZCcpO1xuICAgICAgICBjb25zdCBpc0hvc3RCaW5kaW5ncyA9IGlzSW5Ib3N0QmluZGluZ3ModFZpZXcsIGJpbmRpbmdJbmRleCk7XG4gICAgICAgIGlmIChoYXNTdHlsaW5nSW5wdXRTaGFkb3codE5vZGUsIGlzQ2xhc3NCYXNlZCkgJiYgdFN0eWxpbmdLZXkgPT09IG51bGwgJiYgIWlzSG9zdEJpbmRpbmdzKSB7XG4gICAgICAgICAgICAvLyBgdFN0eWxpbmdLZXkgPT09IG51bGxgIGltcGxpZXMgdGhhdCB3ZSBhcmUgZWl0aGVyIGBbc3R5bGVdYCBvciBgW2NsYXNzXWAgYmluZGluZy5cbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGEgZGlyZWN0aXZlIHdoaWNoIHVzZXMgYEBJbnB1dCgnc3R5bGUnKWAgb3IgYEBJbnB1dCgnY2xhc3MnKWAgdGhhblxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBuZXV0cmFsaXplIHRoaXMgYmluZGluZyBzaW5jZSB0aGF0IGRpcmVjdGl2ZSBpcyBzaGFkb3dpbmcgaXQuXG4gICAgICAgICAgICAvLyBXZSB0dXJuIHRoaXMgaW50byBhIG5vb3AgYnkgc2V0dGluZyB0aGUga2V5IHRvIGBmYWxzZWBcbiAgICAgICAgICAgIHRTdHlsaW5nS2V5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdFN0eWxpbmdLZXkgPSB3cmFwSW5TdGF0aWNTdHlsaW5nS2V5KHREYXRhLCB0Tm9kZSwgdFN0eWxpbmdLZXksIGlzQ2xhc3NCYXNlZCk7XG4gICAgICAgIGluc2VydFRTdHlsaW5nQmluZGluZyh0RGF0YSwgdE5vZGUsIHRTdHlsaW5nS2V5LCBiaW5kaW5nSW5kZXgsIGlzSG9zdEJpbmRpbmdzLCBpc0NsYXNzQmFzZWQpO1xuICAgIH1cbn1cbi8qKlxuICogQWRkcyBzdGF0aWMgc3R5bGluZyBpbmZvcm1hdGlvbiB0byB0aGUgYmluZGluZyBpZiBhcHBsaWNhYmxlLlxuICpcbiAqIFRoZSBsaW5rZWQgbGlzdCBvZiBzdHlsZXMgbm90IG9ubHkgc3RvcmVzIHRoZSBsaXN0IGFuZCBrZXlzLCBidXQgYWxzbyBzdG9yZXMgc3RhdGljIHN0eWxpbmdcbiAqIGluZm9ybWF0aW9uIG9uIHNvbWUgb2YgdGhlIGtleXMuIFRoaXMgZnVuY3Rpb24gZGV0ZXJtaW5lcyBpZiB0aGUga2V5IHNob3VsZCBjb250YWluIHRoZSBzdHlsaW5nXG4gKiBpbmZvcm1hdGlvbiBhbmQgY29tcHV0ZXMgaXQuXG4gKlxuICogU2VlIGBUU3R5bGluZ1N0YXRpY2AgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAcGFyYW0gdERhdGEgYFREYXRhYCB3aGVyZSB0aGUgbGlua2VkIGxpc3QgaXMgc3RvcmVkLlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgZm9yIHdoaWNoIHRoZSBzdHlsaW5nIGlzIGJlaW5nIGNvbXB1dGVkLlxuICogQHBhcmFtIHN0eWxpbmdLZXkgYFRTdHlsaW5nS2V5UHJpbWl0aXZlYCB3aGljaCBtYXkgbmVlZCB0byBiZSB3cmFwcGVkIGludG8gYFRTdHlsaW5nS2V5YFxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICovXG5mdW5jdGlvbiB3cmFwSW5TdGF0aWNTdHlsaW5nS2V5KHREYXRhLCB0Tm9kZSwgc3R5bGluZ0tleSwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgY29uc3QgaG9zdERpcmVjdGl2ZURlZiA9IGdldEN1cnJlbnREaXJlY3RpdmVEZWYodERhdGEpO1xuICAgIGxldCByZXNpZHVhbCA9IGlzQ2xhc3NCYXNlZCA/IHROb2RlLnJlc2lkdWFsQ2xhc3NlcyA6IHROb2RlLnJlc2lkdWFsU3R5bGVzO1xuICAgIGlmIChob3N0RGlyZWN0aXZlRGVmID09PSBudWxsKSB7XG4gICAgICAgIC8vIFdlIGFyZSBpbiB0ZW1wbGF0ZSBub2RlLlxuICAgICAgICAvLyBJZiB0ZW1wbGF0ZSBub2RlIGFscmVhZHkgaGFkIHN0eWxpbmcgaW5zdHJ1Y3Rpb24gdGhlbiBpdCBoYXMgYWxyZWFkeSBjb2xsZWN0ZWQgdGhlIHN0YXRpY1xuICAgICAgICAvLyBzdHlsaW5nIGFuZCB0aGVyZSBpcyBubyBuZWVkIHRvIGNvbGxlY3QgdGhlbSBhZ2Fpbi4gV2Uga25vdyB0aGF0IHdlIGFyZSB0aGUgZmlyc3Qgc3R5bGluZ1xuICAgICAgICAvLyBpbnN0cnVjdGlvbiBiZWNhdXNlIHRoZSBgVE5vZGUuKkJpbmRpbmdzYCBwb2ludHMgdG8gMCAobm90aGluZyBoYXMgYmVlbiBpbnNlcnRlZCB5ZXQpLlxuICAgICAgICBjb25zdCBpc0ZpcnN0U3R5bGluZ0luc3RydWN0aW9uSW5UZW1wbGF0ZSA9IChpc0NsYXNzQmFzZWQgPyB0Tm9kZS5jbGFzc0JpbmRpbmdzIDogdE5vZGUuc3R5bGVCaW5kaW5ncykgPT09IDA7XG4gICAgICAgIGlmIChpc0ZpcnN0U3R5bGluZ0luc3RydWN0aW9uSW5UZW1wbGF0ZSkge1xuICAgICAgICAgICAgLy8gSXQgd291bGQgYmUgbmljZSB0byBiZSBhYmxlIHRvIGdldCB0aGUgc3RhdGljcyBmcm9tIGBtZXJnZUF0dHJzYCwgaG93ZXZlciwgYXQgdGhpcyBwb2ludFxuICAgICAgICAgICAgLy8gdGhleSBhcmUgYWxyZWFkeSBtZXJnZWQgYW5kIGl0IHdvdWxkIG5vdCBiZSBwb3NzaWJsZSB0byBmaWd1cmUgd2hpY2ggcHJvcGVydHkgYmVsb25ncyB3aGVyZVxuICAgICAgICAgICAgLy8gaW4gdGhlIHByaW9yaXR5LlxuICAgICAgICAgICAgc3R5bGluZ0tleSA9IGNvbGxlY3RTdHlsaW5nRnJvbURpcmVjdGl2ZXMobnVsbCwgdERhdGEsIHROb2RlLCBzdHlsaW5nS2V5LCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICAgICAgc3R5bGluZ0tleSA9IGNvbGxlY3RTdHlsaW5nRnJvbVRBdHRycyhzdHlsaW5nS2V5LCB0Tm9kZS5hdHRycywgaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgICAgIC8vIFdlIGtub3cgdGhhdCBpZiB3ZSBoYXZlIHN0eWxpbmcgYmluZGluZyBpbiB0ZW1wbGF0ZSB3ZSBjYW4ndCBoYXZlIHJlc2lkdWFsLlxuICAgICAgICAgICAgcmVzaWR1YWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBXZSBhcmUgaW4gaG9zdCBiaW5kaW5nIG5vZGUgYW5kIHRoZXJlIHdhcyBubyBiaW5kaW5nIGluc3RydWN0aW9uIGluIHRlbXBsYXRlIG5vZGUuXG4gICAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIGNvbXB1dGUgdGhlIHJlc2lkdWFsLlxuICAgICAgICBjb25zdCBkaXJlY3RpdmVTdHlsaW5nTGFzdCA9IHROb2RlLmRpcmVjdGl2ZVN0eWxpbmdMYXN0O1xuICAgICAgICBjb25zdCBpc0ZpcnN0U3R5bGluZ0luc3RydWN0aW9uSW5Ib3N0QmluZGluZyA9IGRpcmVjdGl2ZVN0eWxpbmdMYXN0ID09PSAtMSB8fCB0RGF0YVtkaXJlY3RpdmVTdHlsaW5nTGFzdF0gIT09IGhvc3REaXJlY3RpdmVEZWY7XG4gICAgICAgIGlmIChpc0ZpcnN0U3R5bGluZ0luc3RydWN0aW9uSW5Ib3N0QmluZGluZykge1xuICAgICAgICAgICAgc3R5bGluZ0tleSA9XG4gICAgICAgICAgICAgICAgY29sbGVjdFN0eWxpbmdGcm9tRGlyZWN0aXZlcyhob3N0RGlyZWN0aXZlRGVmLCB0RGF0YSwgdE5vZGUsIHN0eWxpbmdLZXksIGlzQ2xhc3NCYXNlZCk7XG4gICAgICAgICAgICBpZiAocmVzaWR1YWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyAtIElmIGBudWxsYCB0aGFuIGVpdGhlcjpcbiAgICAgICAgICAgICAgICAvLyAgICAtIFRlbXBsYXRlIHN0eWxpbmcgaW5zdHJ1Y3Rpb24gYWxyZWFkeSByYW4gYW5kIGl0IGhhcyBjb25zdW1lZCB0aGUgc3RhdGljXG4gICAgICAgICAgICAgICAgLy8gICAgICBzdHlsaW5nIGludG8gaXRzIGBUU3R5bGluZ0tleWAgYW5kIHNvIHRoZXJlIGlzIG5vIG5lZWQgdG8gdXBkYXRlIHJlc2lkdWFsLiBJbnN0ZWFkXG4gICAgICAgICAgICAgICAgLy8gICAgICB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgYFRTdHlsaW5nS2V5YCBhc3NvY2lhdGVkIHdpdGggdGhlIGZpcnN0IHRlbXBsYXRlIG5vZGVcbiAgICAgICAgICAgICAgICAvLyAgICAgIGluc3RydWN0aW9uLiBPUlxuICAgICAgICAgICAgICAgIC8vICAgIC0gU29tZSBvdGhlciBzdHlsaW5nIGluc3RydWN0aW9uIHJhbiBhbmQgZGV0ZXJtaW5lZCB0aGF0IHRoZXJlIGFyZSBubyByZXNpZHVhbHNcbiAgICAgICAgICAgICAgICBsZXQgdGVtcGxhdGVTdHlsaW5nS2V5ID0gZ2V0VGVtcGxhdGVIZWFkVFN0eWxpbmdLZXkodERhdGEsIHROb2RlLCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZVN0eWxpbmdLZXkgIT09IHVuZGVmaW5lZCAmJiBBcnJheS5pc0FycmF5KHRlbXBsYXRlU3R5bGluZ0tleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSByZWNvbXB1dGUgaWYgYHRlbXBsYXRlU3R5bGluZ0tleWAgaGFkIHN0YXRpYyB2YWx1ZXMuIChJZiBubyBzdGF0aWMgdmFsdWUgZm91bmRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlbiB0aGVyZSBpcyBub3RoaW5nIHRvIGRvIHNpbmNlIHRoaXMgb3BlcmF0aW9uIGNhbiBvbmx5IHByb2R1Y2UgbGVzcyBzdGF0aWMga2V5cywgbm90XG4gICAgICAgICAgICAgICAgICAgIC8vIG1vcmUuKVxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVN0eWxpbmdLZXkgPSBjb2xsZWN0U3R5bGluZ0Zyb21EaXJlY3RpdmVzKG51bGwsIHREYXRhLCB0Tm9kZSwgdGVtcGxhdGVTdHlsaW5nS2V5WzFdIC8qIHVud3JhcCBwcmV2aW91cyBzdGF0aWNzICovLCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVN0eWxpbmdLZXkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdFN0eWxpbmdGcm9tVEF0dHJzKHRlbXBsYXRlU3R5bGluZ0tleSwgdE5vZGUuYXR0cnMsIGlzQ2xhc3NCYXNlZCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRlbXBsYXRlSGVhZFRTdHlsaW5nS2V5KHREYXRhLCB0Tm9kZSwgaXNDbGFzc0Jhc2VkLCB0ZW1wbGF0ZVN0eWxpbmdLZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdlIG9ubHkgbmVlZCB0byByZWNvbXB1dGUgcmVzaWR1YWwgaWYgaXQgaXMgbm90IGBudWxsYC5cbiAgICAgICAgICAgICAgICAvLyAtIElmIGV4aXN0aW5nIHJlc2lkdWFsIChpbXBsaWVzIHRoZXJlIHdhcyBubyB0ZW1wbGF0ZSBzdHlsaW5nKS4gVGhpcyBtZWFucyB0aGF0IHNvbWUgb2ZcbiAgICAgICAgICAgICAgICAvLyAgIHRoZSBzdGF0aWNzIG1heSBoYXZlIG1vdmVkIGZyb20gdGhlIHJlc2lkdWFsIHRvIHRoZSBgc3R5bGluZ0tleWAgYW5kIHNvIHdlIGhhdmUgdG9cbiAgICAgICAgICAgICAgICAvLyAgIHJlY29tcHV0ZS5cbiAgICAgICAgICAgICAgICAvLyAtIElmIGB1bmRlZmluZWRgIHRoaXMgaXMgdGhlIGZpcnN0IHRpbWUgd2UgYXJlIHJ1bm5pbmcuXG4gICAgICAgICAgICAgICAgcmVzaWR1YWwgPSBjb2xsZWN0UmVzaWR1YWwodERhdGEsIHROb2RlLCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChyZXNpZHVhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlzQ2xhc3NCYXNlZCA/ICh0Tm9kZS5yZXNpZHVhbENsYXNzZXMgPSByZXNpZHVhbCkgOiAodE5vZGUucmVzaWR1YWxTdHlsZXMgPSByZXNpZHVhbCk7XG4gICAgfVxuICAgIHJldHVybiBzdHlsaW5nS2V5O1xufVxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgYFRTdHlsaW5nS2V5YCBmb3IgdGhlIHRlbXBsYXRlIHN0eWxpbmcgaW5zdHJ1Y3Rpb24uXG4gKlxuICogVGhpcyBpcyBuZWVkZWQgc2luY2UgYGhvc3RCaW5kaW5nYCBzdHlsaW5nIGluc3RydWN0aW9ucyBhcmUgaW5zZXJ0ZWQgYWZ0ZXIgdGhlIHRlbXBsYXRlXG4gKiBpbnN0cnVjdGlvbi4gV2hpbGUgdGhlIHRlbXBsYXRlIGluc3RydWN0aW9uIG5lZWRzIHRvIHVwZGF0ZSB0aGUgcmVzaWR1YWwgaW4gYFROb2RlYCB0aGVcbiAqIGBob3N0QmluZGluZ2AgaW5zdHJ1Y3Rpb25zIG5lZWQgdG8gdXBkYXRlIHRoZSBgVFN0eWxpbmdLZXlgIG9mIHRoZSB0ZW1wbGF0ZSBpbnN0cnVjdGlvbiBiZWNhdXNlXG4gKiB0aGUgdGVtcGxhdGUgaW5zdHJ1Y3Rpb24gaXMgZG93bnN0cmVhbSBmcm9tIHRoZSBgaG9zdEJpbmRpbmdzYCBpbnN0cnVjdGlvbnMuXG4gKlxuICogQHBhcmFtIHREYXRhIGBURGF0YWAgd2hlcmUgdGhlIGxpbmtlZCBsaXN0IGlzIHN0b3JlZC5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIGZvciB3aGljaCB0aGUgc3R5bGluZyBpcyBiZWluZyBjb21wdXRlZC5cbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqIEByZXR1cm4gYFRTdHlsaW5nS2V5YCBpZiBmb3VuZCBvciBgdW5kZWZpbmVkYCBpZiBub3QgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGdldFRlbXBsYXRlSGVhZFRTdHlsaW5nS2V5KHREYXRhLCB0Tm9kZSwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgY29uc3QgYmluZGluZ3MgPSBpc0NsYXNzQmFzZWQgPyB0Tm9kZS5jbGFzc0JpbmRpbmdzIDogdE5vZGUuc3R5bGVCaW5kaW5ncztcbiAgICBpZiAoZ2V0VFN0eWxpbmdSYW5nZU5leHQoYmluZGluZ3MpID09PSAwKSB7XG4gICAgICAgIC8vIFRoZXJlIGRvZXMgbm90IHNlZW0gdG8gYmUgYSBzdHlsaW5nIGluc3RydWN0aW9uIGluIHRoZSBgdGVtcGxhdGVgLlxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdERhdGFbZ2V0VFN0eWxpbmdSYW5nZVByZXYoYmluZGluZ3MpXTtcbn1cbi8qKlxuICogVXBkYXRlIHRoZSBgVFN0eWxpbmdLZXlgIG9mIHRoZSBmaXJzdCB0ZW1wbGF0ZSBpbnN0cnVjdGlvbiBpbiBgVE5vZGVgLlxuICpcbiAqIExvZ2ljYWxseSBgaG9zdEJpbmRpbmdzYCBzdHlsaW5nIGluc3RydWN0aW9ucyBhcmUgb2YgbG93ZXIgcHJpb3JpdHkgdGhhbiB0aGF0IG9mIHRoZSB0ZW1wbGF0ZS5cbiAqIEhvd2V2ZXIsIHRoZXkgZXhlY3V0ZSBhZnRlciB0aGUgdGVtcGxhdGUgc3R5bGluZyBpbnN0cnVjdGlvbnMuIFRoaXMgbWVhbnMgdGhhdCB0aGV5IGdldCBpbnNlcnRlZFxuICogaW4gZnJvbnQgb2YgdGhlIHRlbXBsYXRlIHN0eWxpbmcgaW5zdHJ1Y3Rpb25zLlxuICpcbiAqIElmIHdlIGhhdmUgYSB0ZW1wbGF0ZSBzdHlsaW5nIGluc3RydWN0aW9uIGFuZCBhIG5ldyBgaG9zdEJpbmRpbmdzYCBzdHlsaW5nIGluc3RydWN0aW9uIGlzXG4gKiBleGVjdXRlZCBpdCBtZWFucyB0aGF0IGl0IG1heSBuZWVkIHRvIHN0ZWFsIHN0YXRpYyBmaWVsZHMgZnJvbSB0aGUgdGVtcGxhdGUgaW5zdHJ1Y3Rpb24uIFRoaXNcbiAqIG1ldGhvZCBhbGxvd3MgdXMgdG8gdXBkYXRlIHRoZSBmaXJzdCB0ZW1wbGF0ZSBpbnN0cnVjdGlvbiBgVFN0eWxpbmdLZXlgIHdpdGggYSBuZXcgdmFsdWUuXG4gKlxuICogQXNzdW1lOlxuICogYGBgXG4gKiA8ZGl2IG15LWRpciBzdHlsZT1cImNvbG9yOiByZWRcIiBbc3R5bGUuY29sb3JdPVwidG1wbEV4cFwiPjwvZGl2PlxuICpcbiAqIEBEaXJlY3RpdmUoe1xuICogICBob3N0OiB7XG4gKiAgICAgJ3N0eWxlJzogJ3dpZHRoOiAxMDBweCcsXG4gKiAgICAgJ1tzdHlsZS5jb2xvcl0nOiAnZGlyRXhwJyxcbiAqICAgfVxuICogfSlcbiAqIGNsYXNzIE15RGlyIHt9XG4gKiBgYGBcbiAqXG4gKiB3aGVuIGBbc3R5bGUuY29sb3JdPVwidG1wbEV4cFwiYCBleGVjdXRlcyBpdCBjcmVhdGVzIHRoaXMgZGF0YSBzdHJ1Y3R1cmUuXG4gKiBgYGBcbiAqICBbJycsICdjb2xvcicsICdjb2xvcicsICdyZWQnLCAnd2lkdGgnLCAnMTAwcHgnXSxcbiAqIGBgYFxuICpcbiAqIFRoZSByZWFzb24gZm9yIHRoaXMgaXMgdGhhdCB0aGUgdGVtcGxhdGUgaW5zdHJ1Y3Rpb24gZG9lcyBub3Qga25vdyBpZiB0aGVyZSBhcmUgc3R5bGluZ1xuICogaW5zdHJ1Y3Rpb25zIGFuZCBtdXN0IGFzc3VtZSB0aGF0IHRoZXJlIGFyZSBub25lIGFuZCBtdXN0IGNvbGxlY3QgYWxsIG9mIHRoZSBzdGF0aWMgc3R5bGluZy5cbiAqIChib3RoXG4gKiBgY29sb3InIGFuZCAnd2lkdGhgKVxuICpcbiAqIFdoZW4gYCdbc3R5bGUuY29sb3JdJzogJ2RpckV4cCcsYCBleGVjdXRlcyB3ZSBuZWVkIHRvIGluc2VydCBhIG5ldyBkYXRhIGludG8gdGhlIGxpbmtlZCBsaXN0LlxuICogYGBgXG4gKiAgWycnLCAnY29sb3InLCAnd2lkdGgnLCAnMTAwcHgnXSwgIC8vIG5ld2x5IGluc2VydGVkXG4gKiAgWycnLCAnY29sb3InLCAnY29sb3InLCAncmVkJywgJ3dpZHRoJywgJzEwMHB4J10sIC8vIHRoaXMgaXMgd3JvbmdcbiAqIGBgYFxuICpcbiAqIE5vdGljZSB0aGF0IHRoZSB0ZW1wbGF0ZSBzdGF0aWNzIGlzIG5vdyB3cm9uZyBhcyBpdCBpbmNvcnJlY3RseSBjb250YWlucyBgd2lkdGhgIHNvIHdlIG5lZWQgdG9cbiAqIHVwZGF0ZSBpdCBsaWtlIHNvOlxuICogYGBgXG4gKiAgWycnLCAnY29sb3InLCAnd2lkdGgnLCAnMTAwcHgnXSxcbiAqICBbJycsICdjb2xvcicsICdjb2xvcicsICdyZWQnXSwgICAgLy8gVVBEQVRFXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdERhdGEgYFREYXRhYCB3aGVyZSB0aGUgbGlua2VkIGxpc3QgaXMgc3RvcmVkLlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgZm9yIHdoaWNoIHRoZSBzdHlsaW5nIGlzIGJlaW5nIGNvbXB1dGVkLlxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICogQHBhcmFtIHRTdHlsaW5nS2V5IE5ldyBgVFN0eWxpbmdLZXlgIHdoaWNoIGlzIHJlcGxhY2luZyB0aGUgb2xkIG9uZS5cbiAqL1xuZnVuY3Rpb24gc2V0VGVtcGxhdGVIZWFkVFN0eWxpbmdLZXkodERhdGEsIHROb2RlLCBpc0NsYXNzQmFzZWQsIHRTdHlsaW5nS2V5KSB7XG4gICAgY29uc3QgYmluZGluZ3MgPSBpc0NsYXNzQmFzZWQgPyB0Tm9kZS5jbGFzc0JpbmRpbmdzIDogdE5vZGUuc3R5bGVCaW5kaW5ncztcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0Tm90RXF1YWwoZ2V0VFN0eWxpbmdSYW5nZU5leHQoYmluZGluZ3MpLCAwLCAnRXhwZWN0aW5nIHRvIGhhdmUgYXQgbGVhc3Qgb25lIHRlbXBsYXRlIHN0eWxpbmcgYmluZGluZy4nKTtcbiAgICB0RGF0YVtnZXRUU3R5bGluZ1JhbmdlUHJldihiaW5kaW5ncyldID0gdFN0eWxpbmdLZXk7XG59XG4vKipcbiAqIENvbGxlY3QgYWxsIHN0YXRpYyB2YWx1ZXMgYWZ0ZXIgdGhlIGN1cnJlbnQgYFROb2RlLmRpcmVjdGl2ZVN0eWxpbmdMYXN0YCBpbmRleC5cbiAqXG4gKiBDb2xsZWN0IHRoZSByZW1haW5pbmcgc3R5bGluZyBpbmZvcm1hdGlvbiB3aGljaCBoYXMgbm90IHlldCBiZWVuIGNvbGxlY3RlZCBieSBhbiBleGlzdGluZ1xuICogc3R5bGluZyBpbnN0cnVjdGlvbi5cbiAqXG4gKiBAcGFyYW0gdERhdGEgYFREYXRhYCB3aGVyZSB0aGUgYERpcmVjdGl2ZURlZnNgIGFyZSBzdG9yZWQuXG4gKiBAcGFyYW0gdE5vZGUgYFROb2RlYCB3aGljaCBjb250YWlucyB0aGUgZGlyZWN0aXZlIHJhbmdlLlxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICovXG5mdW5jdGlvbiBjb2xsZWN0UmVzaWR1YWwodERhdGEsIHROb2RlLCBpc0NsYXNzQmFzZWQpIHtcbiAgICBsZXQgcmVzaWR1YWwgPSB1bmRlZmluZWQ7XG4gICAgY29uc3QgZGlyZWN0aXZlRW5kID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnROb3RFcXVhbCh0Tm9kZS5kaXJlY3RpdmVTdHlsaW5nTGFzdCwgLTEsICdCeSB0aGUgdGltZSB0aGlzIGZ1bmN0aW9uIGdldHMgY2FsbGVkIGF0IGxlYXN0IG9uZSBob3N0QmluZGluZ3Mtbm9kZSBzdHlsaW5nIGluc3RydWN0aW9uIG11c3QgaGF2ZSBleGVjdXRlZC4nKTtcbiAgICAvLyBXZSBhZGQgYDEgKyB0Tm9kZS5kaXJlY3RpdmVTdGFydGAgYmVjYXVzZSB3ZSBuZWVkIHRvIHNraXAgdGhlIGN1cnJlbnQgZGlyZWN0aXZlIChhcyB3ZSBhcmVcbiAgICAvLyBjb2xsZWN0aW5nIHRoaW5ncyBhZnRlciB0aGUgbGFzdCBgaG9zdEJpbmRpbmdzYCBkaXJlY3RpdmUgd2hpY2ggaGFkIGEgc3R5bGluZyBpbnN0cnVjdGlvbi4pXG4gICAgZm9yIChsZXQgaSA9IDEgKyB0Tm9kZS5kaXJlY3RpdmVTdHlsaW5nTGFzdDsgaSA8IGRpcmVjdGl2ZUVuZDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gdERhdGFbaV0uaG9zdEF0dHJzO1xuICAgICAgICByZXNpZHVhbCA9IGNvbGxlY3RTdHlsaW5nRnJvbVRBdHRycyhyZXNpZHVhbCwgYXR0cnMsIGlzQ2xhc3NCYXNlZCk7XG4gICAgfVxuICAgIHJldHVybiBjb2xsZWN0U3R5bGluZ0Zyb21UQXR0cnMocmVzaWR1YWwsIHROb2RlLmF0dHJzLCBpc0NsYXNzQmFzZWQpO1xufVxuLyoqXG4gKiBDb2xsZWN0IHRoZSBzdGF0aWMgc3R5bGluZyBpbmZvcm1hdGlvbiB3aXRoIGxvd2VyIHByaW9yaXR5IHRoYW4gYGhvc3REaXJlY3RpdmVEZWZgLlxuICpcbiAqIChUaGlzIGlzIG9wcG9zaXRlIG9mIHJlc2lkdWFsIHN0eWxpbmcuKVxuICpcbiAqIEBwYXJhbSBob3N0RGlyZWN0aXZlRGVmIGBEaXJlY3RpdmVEZWZgIGZvciB3aGljaCB3ZSB3YW50IHRvIGNvbGxlY3QgbG93ZXIgcHJpb3JpdHkgc3RhdGljXG4gKiAgICAgICAgc3R5bGluZy4gKE9yIGBudWxsYCBpZiB0ZW1wbGF0ZSBzdHlsaW5nKVxuICogQHBhcmFtIHREYXRhIGBURGF0YWAgd2hlcmUgdGhlIGxpbmtlZCBsaXN0IGlzIHN0b3JlZC5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIGZvciB3aGljaCB0aGUgc3R5bGluZyBpcyBiZWluZyBjb21wdXRlZC5cbiAqIEBwYXJhbSBzdHlsaW5nS2V5IEV4aXN0aW5nIGBUU3R5bGluZ0tleWAgdG8gdXBkYXRlIG9yIHdyYXAuXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKi9cbmZ1bmN0aW9uIGNvbGxlY3RTdHlsaW5nRnJvbURpcmVjdGl2ZXMoaG9zdERpcmVjdGl2ZURlZiwgdERhdGEsIHROb2RlLCBzdHlsaW5nS2V5LCBpc0NsYXNzQmFzZWQpIHtcbiAgICAvLyBXZSBuZWVkIHRvIGxvb3AgYmVjYXVzZSB0aGVyZSBjYW4gYmUgZGlyZWN0aXZlcyB3aGljaCBoYXZlIGBob3N0QXR0cnNgIGJ1dCBkb24ndCBoYXZlXG4gICAgLy8gYGhvc3RCaW5kaW5nc2Agc28gdGhpcyBsb29wIGNhdGNoZXMgdXAgdG8gdGhlIGN1cnJlbnQgZGlyZWN0aXZlLi5cbiAgICBsZXQgY3VycmVudERpcmVjdGl2ZSA9IG51bGw7XG4gICAgY29uc3QgZGlyZWN0aXZlRW5kID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgIGxldCBkaXJlY3RpdmVTdHlsaW5nTGFzdCA9IHROb2RlLmRpcmVjdGl2ZVN0eWxpbmdMYXN0O1xuICAgIGlmIChkaXJlY3RpdmVTdHlsaW5nTGFzdCA9PT0gLTEpIHtcbiAgICAgICAgZGlyZWN0aXZlU3R5bGluZ0xhc3QgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRpcmVjdGl2ZVN0eWxpbmdMYXN0Kys7XG4gICAgfVxuICAgIHdoaWxlIChkaXJlY3RpdmVTdHlsaW5nTGFzdCA8IGRpcmVjdGl2ZUVuZCkge1xuICAgICAgICBjdXJyZW50RGlyZWN0aXZlID0gdERhdGFbZGlyZWN0aXZlU3R5bGluZ0xhc3RdO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChjdXJyZW50RGlyZWN0aXZlLCAnZXhwZWN0ZWQgdG8gYmUgZGVmaW5lZCcpO1xuICAgICAgICBzdHlsaW5nS2V5ID0gY29sbGVjdFN0eWxpbmdGcm9tVEF0dHJzKHN0eWxpbmdLZXksIGN1cnJlbnREaXJlY3RpdmUuaG9zdEF0dHJzLCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICBpZiAoY3VycmVudERpcmVjdGl2ZSA9PT0gaG9zdERpcmVjdGl2ZURlZilcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkaXJlY3RpdmVTdHlsaW5nTGFzdCsrO1xuICAgIH1cbiAgICBpZiAoaG9zdERpcmVjdGl2ZURlZiAhPT0gbnVsbCkge1xuICAgICAgICAvLyB3ZSBvbmx5IGFkdmFuY2UgdGhlIHN0eWxpbmcgY3Vyc29yIGlmIHdlIGFyZSBjb2xsZWN0aW5nIGRhdGEgZnJvbSBob3N0IGJpbmRpbmdzLlxuICAgICAgICAvLyBUZW1wbGF0ZSBleGVjdXRlcyBiZWZvcmUgaG9zdCBiaW5kaW5ncyBhbmQgc28gaWYgd2Ugd291bGQgdXBkYXRlIHRoZSBpbmRleCxcbiAgICAgICAgLy8gaG9zdCBiaW5kaW5ncyB3b3VsZCBub3QgZ2V0IHRoZWlyIHN0YXRpY3MuXG4gICAgICAgIHROb2RlLmRpcmVjdGl2ZVN0eWxpbmdMYXN0ID0gZGlyZWN0aXZlU3R5bGluZ0xhc3Q7XG4gICAgfVxuICAgIHJldHVybiBzdHlsaW5nS2V5O1xufVxuLyoqXG4gKiBDb252ZXJ0IGBUQXR0cnNgIGludG8gYFRTdHlsaW5nU3RhdGljYC5cbiAqXG4gKiBAcGFyYW0gc3R5bGluZ0tleSBleGlzdGluZyBgVFN0eWxpbmdLZXlgIHRvIHVwZGF0ZSBvciB3cmFwLlxuICogQHBhcmFtIGF0dHJzIGBUQXR0cmlidXRlc2AgdG8gcHJvY2Vzcy5cbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqL1xuZnVuY3Rpb24gY29sbGVjdFN0eWxpbmdGcm9tVEF0dHJzKHN0eWxpbmdLZXksIGF0dHJzLCBpc0NsYXNzQmFzZWQpIHtcbiAgICBjb25zdCBkZXNpcmVkTWFya2VyID0gaXNDbGFzc0Jhc2VkID8gMSAvKiBDbGFzc2VzICovIDogMiAvKiBTdHlsZXMgKi87XG4gICAgbGV0IGN1cnJlbnRNYXJrZXIgPSAtMSAvKiBJbXBsaWNpdEF0dHJpYnV0ZXMgKi87XG4gICAgaWYgKGF0dHJzICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBhdHRyc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50TWFya2VyID0gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50TWFya2VyID09PSBkZXNpcmVkTWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdHlsaW5nS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGluZ0tleSA9IHN0eWxpbmdLZXkgPT09IHVuZGVmaW5lZCA/IFtdIDogWycnLCBzdHlsaW5nS2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBrZXlWYWx1ZUFycmF5U2V0KHN0eWxpbmdLZXksIGl0ZW0sIGlzQ2xhc3NCYXNlZCA/IHRydWUgOiBhdHRyc1srK2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0eWxpbmdLZXkgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBzdHlsaW5nS2V5O1xufVxuLyoqXG4gKiBDb252ZXJ0IHVzZXIgaW5wdXQgdG8gYEtleVZhbHVlQXJyYXlgLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgdXNlciBpbnB1dCB3aGljaCBjb3VsZCBiZSBgc3RyaW5nYCwgT2JqZWN0IGxpdGVyYWwsIG9yIGl0ZXJhYmxlIGFuZCBjb252ZXJ0c1xuICogaXQgaW50byBhIGNvbnNpc3RlbnQgcmVwcmVzZW50YXRpb24uIFRoZSBvdXRwdXQgb2YgdGhpcyBpcyBgS2V5VmFsdWVBcnJheWAgKHdoaWNoIGlzIGFuIGFycmF5XG4gKiB3aGVyZVxuICogZXZlbiBpbmRleGVzIGNvbnRhaW4ga2V5cyBhbmQgb2RkIGluZGV4ZXMgY29udGFpbiB2YWx1ZXMgZm9yIHRob3NlIGtleXMpLlxuICpcbiAqIFRoZSBhZHZhbnRhZ2Ugb2YgY29udmVydGluZyB0byBgS2V5VmFsdWVBcnJheWAgaXMgdGhhdCB3ZSBjYW4gcGVyZm9ybSBkaWZmIGluIGFuIGlucHV0XG4gKiBpbmRlcGVuZGVudFxuICogd2F5LlxuICogKGllIHdlIGNhbiBjb21wYXJlIGBmb28gYmFyYCB0byBgWydiYXInLCAnYmF6J10gYW5kIGRldGVybWluZSBhIHNldCBvZiBjaGFuZ2VzIHdoaWNoIG5lZWQgdG8gYmVcbiAqIGFwcGxpZWQpXG4gKlxuICogVGhlIGZhY3QgdGhhdCBgS2V5VmFsdWVBcnJheWAgaXMgc29ydGVkIGlzIHZlcnkgaW1wb3J0YW50IGJlY2F1c2UgaXQgYWxsb3dzIHVzIHRvIGNvbXB1dGUgdGhlXG4gKiBkaWZmZXJlbmNlIGluIGxpbmVhciBmYXNoaW9uIHdpdGhvdXQgdGhlIG5lZWQgdG8gYWxsb2NhdGUgYW55IGFkZGl0aW9uYWwgZGF0YS5cbiAqXG4gKiBGb3IgZXhhbXBsZSBpZiB3ZSBrZXB0IHRoaXMgYXMgYSBgTWFwYCB3ZSB3b3VsZCBoYXZlIHRvIGl0ZXJhdGUgb3ZlciBwcmV2aW91cyBgTWFwYCB0byBkZXRlcm1pbmVcbiAqIHdoaWNoIHZhbHVlcyBuZWVkIHRvIGJlIGRlbGV0ZWQsIG92ZXIgdGhlIG5ldyBgTWFwYCB0byBkZXRlcm1pbmUgYWRkaXRpb25zLCBhbmQgd2Ugd291bGQgaGF2ZSB0b1xuICoga2VlcCBhZGRpdGlvbmFsIGBNYXBgIHRvIGtlZXAgdHJhY2sgb2YgZHVwbGljYXRlcyBvciBpdGVtcyB3aGljaCBoYXZlIG5vdCB5ZXQgYmVlbiB2aXNpdGVkLlxuICpcbiAqIEBwYXJhbSBrZXlWYWx1ZUFycmF5U2V0IChTZWUgYGtleVZhbHVlQXJyYXlTZXRgIGluIFwidXRpbC9hcnJheV91dGlsc1wiKSBHZXRzIHBhc3NlZCBpbiBhcyBhXG4gKiAgICAgICAgZnVuY3Rpb24gc28gdGhhdCBgc3R5bGVgIGNhbiBiZSBwcm9jZXNzZWQuIFRoaXMgaXMgZG9uZVxuICogICAgICAgIGZvciB0cmVlIHNoYWtpbmcgcHVycG9zZXMuXG4gKiBAcGFyYW0gc3RyaW5nUGFyc2VyIFRoZSBwYXJzZXIgaXMgcGFzc2VkIGluIHNvIHRoYXQgaXQgd2lsbCBiZSB0cmVlIHNoYWthYmxlLiBTZWVcbiAqICAgICAgICBgc3R5bGVTdHJpbmdQYXJzZXJgIGFuZCBgY2xhc3NTdHJpbmdQYXJzZXJgXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhcnNlL2NvbnZlcnQgdG8gYEtleVZhbHVlQXJyYXlgXG4gKi9cbmZ1bmN0aW9uIHRvU3R5bGluZ0tleVZhbHVlQXJyYXkoa2V5VmFsdWVBcnJheVNldCwgc3RyaW5nUGFyc2VyLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIC8qfHwgdmFsdWUgPT09IHVuZGVmaW5lZCAqLyB8fCB2YWx1ZSA9PT0gJycpXG4gICAgICAgIHJldHVybiBFTVBUWV9BUlJBWTtcbiAgICBjb25zdCBzdHlsZUtleVZhbHVlQXJyYXkgPSBbXTtcbiAgICBjb25zdCB1bndyYXBwZWRWYWx1ZSA9IHVud3JhcFNhZmVWYWx1ZSh2YWx1ZSk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodW53cmFwcGVkVmFsdWUpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdW53cmFwcGVkVmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGtleVZhbHVlQXJyYXlTZXQoc3R5bGVLZXlWYWx1ZUFycmF5LCB1bndyYXBwZWRWYWx1ZVtpXSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHVud3JhcHBlZFZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB1bndyYXBwZWRWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKHVud3JhcHBlZFZhbHVlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBrZXlWYWx1ZUFycmF5U2V0KHN0eWxlS2V5VmFsdWVBcnJheSwga2V5LCB1bndyYXBwZWRWYWx1ZVtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdW53cmFwcGVkVmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHN0cmluZ1BhcnNlcihzdHlsZUtleVZhbHVlQXJyYXksIHVud3JhcHBlZFZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgdGhyb3dFcnJvcignVW5zdXBwb3J0ZWQgc3R5bGluZyB0eXBlICcgKyB0eXBlb2YgdW53cmFwcGVkVmFsdWUgKyAnOiAnICsgdW53cmFwcGVkVmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gc3R5bGVLZXlWYWx1ZUFycmF5O1xufVxuLyoqXG4gKiBTZXQgYSBgdmFsdWVgIGZvciBhIGBrZXlgLlxuICpcbiAqIFNlZTogYGtleVZhbHVlQXJyYXlTZXRgIGZvciBkZXRhaWxzXG4gKlxuICogQHBhcmFtIGtleVZhbHVlQXJyYXkgS2V5VmFsdWVBcnJheSB0byBhZGQgdG8uXG4gKiBAcGFyYW0ga2V5IFN0eWxlIGtleSB0byBhZGQuXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqL1xuZnVuY3Rpb24gc3R5bGVLZXlWYWx1ZUFycmF5U2V0KGtleVZhbHVlQXJyYXksIGtleSwgdmFsdWUpIHtcbiAgICBrZXlWYWx1ZUFycmF5U2V0KGtleVZhbHVlQXJyYXksIGtleSwgdW53cmFwU2FmZVZhbHVlKHZhbHVlKSk7XG59XG4vKipcbiAqIFVwZGF0ZSBtYXAgYmFzZWQgc3R5bGluZy5cbiAqXG4gKiBNYXAgYmFzZWQgc3R5bGluZyBjb3VsZCBiZSBhbnl0aGluZyB3aGljaCBjb250YWlucyBtb3JlIHRoYW4gb25lIGJpbmRpbmcuIEZvciBleGFtcGxlIGBzdHJpbmdgLFxuICogb3Igb2JqZWN0IGxpdGVyYWwuIERlYWxpbmcgd2l0aCBhbGwgb2YgdGhlc2UgdHlwZXMgd291bGQgY29tcGxpY2F0ZSB0aGUgbG9naWMgc29cbiAqIGluc3RlYWQgdGhpcyBmdW5jdGlvbiBleHBlY3RzIHRoYXQgdGhlIGNvbXBsZXggaW5wdXQgaXMgZmlyc3QgY29udmVydGVkIGludG8gbm9ybWFsaXplZFxuICogYEtleVZhbHVlQXJyYXlgLiBUaGUgYWR2YW50YWdlIG9mIG5vcm1hbGl6YXRpb24gaXMgdGhhdCB3ZSBnZXQgdGhlIHZhbHVlcyBzb3J0ZWQsIHdoaWNoIG1ha2VzIGl0XG4gKiB2ZXJ5IGNoZWFwIHRvIGNvbXB1dGUgZGVsdGFzIGJldHdlZW4gdGhlIHByZXZpb3VzIGFuZCBjdXJyZW50IHZhbHVlLlxuICpcbiAqIEBwYXJhbSB0VmlldyBBc3NvY2lhdGVkIGBUVmlldy5kYXRhYCBjb250YWlucyB0aGUgbGlua2VkIGxpc3Qgb2YgYmluZGluZyBwcmlvcml0aWVzLlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgd2hlcmUgdGhlIGJpbmRpbmcgaXMgbG9jYXRlZC5cbiAqIEBwYXJhbSBsVmlldyBgTFZpZXdgIGNvbnRhaW5zIHRoZSB2YWx1ZXMgYXNzb2NpYXRlZCB3aXRoIG90aGVyIHN0eWxpbmcgYmluZGluZyBhdCB0aGlzIGBUTm9kZWAuXG4gKiBAcGFyYW0gcmVuZGVyZXIgUmVuZGVyZXIgdG8gdXNlIGlmIGFueSB1cGRhdGVzLlxuICogQHBhcmFtIG9sZEtleVZhbHVlQXJyYXkgUHJldmlvdXMgdmFsdWUgcmVwcmVzZW50ZWQgYXMgYEtleVZhbHVlQXJyYXlgXG4gKiBAcGFyYW0gbmV3S2V5VmFsdWVBcnJheSBDdXJyZW50IHZhbHVlIHJlcHJlc2VudGVkIGFzIGBLZXlWYWx1ZUFycmF5YFxuICogQHBhcmFtIGlzQ2xhc3NCYXNlZCBgdHJ1ZWAgaWYgYGNsYXNzYCAoYGZhbHNlYCBpZiBgc3R5bGVgKVxuICogQHBhcmFtIGJpbmRpbmdJbmRleCBCaW5kaW5nIGluZGV4IG9mIHRoZSBiaW5kaW5nLlxuICovXG5mdW5jdGlvbiB1cGRhdGVTdHlsaW5nTWFwKHRWaWV3LCB0Tm9kZSwgbFZpZXcsIHJlbmRlcmVyLCBvbGRLZXlWYWx1ZUFycmF5LCBuZXdLZXlWYWx1ZUFycmF5LCBpc0NsYXNzQmFzZWQsIGJpbmRpbmdJbmRleCkge1xuICAgIGlmIChvbGRLZXlWYWx1ZUFycmF5ID09PSBOT19DSEFOR0UpIHtcbiAgICAgICAgLy8gT24gZmlyc3QgZXhlY3V0aW9uIHRoZSBvbGRLZXlWYWx1ZUFycmF5IGlzIE5PX0NIQU5HRSA9PiB0cmVhdCBpdCBhcyBlbXB0eSBLZXlWYWx1ZUFycmF5LlxuICAgICAgICBvbGRLZXlWYWx1ZUFycmF5ID0gRU1QVFlfQVJSQVk7XG4gICAgfVxuICAgIGxldCBvbGRJbmRleCA9IDA7XG4gICAgbGV0IG5ld0luZGV4ID0gMDtcbiAgICBsZXQgb2xkS2V5ID0gMCA8IG9sZEtleVZhbHVlQXJyYXkubGVuZ3RoID8gb2xkS2V5VmFsdWVBcnJheVswXSA6IG51bGw7XG4gICAgbGV0IG5ld0tleSA9IDAgPCBuZXdLZXlWYWx1ZUFycmF5Lmxlbmd0aCA/IG5ld0tleVZhbHVlQXJyYXlbMF0gOiBudWxsO1xuICAgIHdoaWxlIChvbGRLZXkgIT09IG51bGwgfHwgbmV3S2V5ICE9PSBudWxsKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMZXNzVGhhbihvbGRJbmRleCwgOTk5LCAnQXJlIHdlIHN0dWNrIGluIGluZmluaXRlIGxvb3A/Jyk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMZXNzVGhhbihuZXdJbmRleCwgOTk5LCAnQXJlIHdlIHN0dWNrIGluIGluZmluaXRlIGxvb3A/Jyk7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gb2xkSW5kZXggPCBvbGRLZXlWYWx1ZUFycmF5Lmxlbmd0aCA/IG9sZEtleVZhbHVlQXJyYXlbb2xkSW5kZXggKyAxXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBuZXdJbmRleCA8IG5ld0tleVZhbHVlQXJyYXkubGVuZ3RoID8gbmV3S2V5VmFsdWVBcnJheVtuZXdJbmRleCArIDFdIDogdW5kZWZpbmVkO1xuICAgICAgICBsZXQgc2V0S2V5ID0gbnVsbDtcbiAgICAgICAgbGV0IHNldFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAob2xkS2V5ID09PSBuZXdLZXkpIHtcbiAgICAgICAgICAgIC8vIFVQREFURTogS2V5cyBhcmUgZXF1YWwgPT4gbmV3IHZhbHVlIGlzIG92ZXJ3cml0aW5nIG9sZCB2YWx1ZS5cbiAgICAgICAgICAgIG9sZEluZGV4ICs9IDI7XG4gICAgICAgICAgICBuZXdJbmRleCArPSAyO1xuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHNldEtleSA9IG5ld0tleTtcbiAgICAgICAgICAgICAgICBzZXRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5ld0tleSA9PT0gbnVsbCB8fCBvbGRLZXkgIT09IG51bGwgJiYgb2xkS2V5IDwgbmV3S2V5KSB7XG4gICAgICAgICAgICAvLyBERUxFVEU6IG9sZEtleSBrZXkgaXMgbWlzc2luZyBvciB3ZSBkaWQgbm90IGZpbmQgdGhlIG9sZEtleSBpbiB0aGUgbmV3VmFsdWVcbiAgICAgICAgICAgIC8vIChiZWNhdXNlIHRoZSBrZXlWYWx1ZUFycmF5IGlzIHNvcnRlZCBhbmQgYG5ld0tleWAgaXMgZm91bmQgbGF0ZXIgYWxwaGFiZXRpY2FsbHkpLlxuICAgICAgICAgICAgLy8gYFwiYmFja2dyb3VuZFwiIDwgXCJjb2xvclwiYCBzbyB3ZSBuZWVkIHRvIGRlbGV0ZSBgXCJiYWNrZ3JvdW5kXCJgIGJlY2F1c2UgaXQgaXMgbm90IGZvdW5kIGluIHRoZVxuICAgICAgICAgICAgLy8gbmV3IGFycmF5LlxuICAgICAgICAgICAgb2xkSW5kZXggKz0gMjtcbiAgICAgICAgICAgIHNldEtleSA9IG9sZEtleTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIENSRUFURTogbmV3S2V5J3MgaXMgZWFybGllciBhbHBoYWJldGljYWxseSB0aGFuIG9sZEtleSdzIChvciBubyBvbGRLZXkpID0+IHdlIGhhdmUgbmV3IGtleS5cbiAgICAgICAgICAgIC8vIGBcImNvbG9yXCIgPiBcImJhY2tncm91bmRcImAgc28gd2UgbmVlZCB0byBhZGQgYGNvbG9yYCBiZWNhdXNlIGl0IGlzIGluIG5ldyBhcnJheSBidXQgbm90IGluXG4gICAgICAgICAgICAvLyBvbGQgYXJyYXkuXG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChuZXdLZXksICdFeHBlY3RpbmcgdG8gaGF2ZSBhIHZhbGlkIGtleScpO1xuICAgICAgICAgICAgbmV3SW5kZXggKz0gMjtcbiAgICAgICAgICAgIHNldEtleSA9IG5ld0tleTtcbiAgICAgICAgICAgIHNldFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNldEtleSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdXBkYXRlU3R5bGluZyh0VmlldywgdE5vZGUsIGxWaWV3LCByZW5kZXJlciwgc2V0S2V5LCBzZXRWYWx1ZSwgaXNDbGFzc0Jhc2VkLCBiaW5kaW5nSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIG9sZEtleSA9IG9sZEluZGV4IDwgb2xkS2V5VmFsdWVBcnJheS5sZW5ndGggPyBvbGRLZXlWYWx1ZUFycmF5W29sZEluZGV4XSA6IG51bGw7XG4gICAgICAgIG5ld0tleSA9IG5ld0luZGV4IDwgbmV3S2V5VmFsdWVBcnJheS5sZW5ndGggPyBuZXdLZXlWYWx1ZUFycmF5W25ld0luZGV4XSA6IG51bGw7XG4gICAgfVxufVxuLyoqXG4gKiBVcGRhdGUgYSBzaW1wbGUgKHByb3BlcnR5IG5hbWUpIHN0eWxpbmcuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB0YWtlcyBgcHJvcGAgYW5kIHVwZGF0ZXMgdGhlIERPTSB0byB0aGF0IHZhbHVlLiBUaGUgZnVuY3Rpb24gdGFrZXMgdGhlIGJpbmRpbmdcbiAqIHZhbHVlIGFzIHdlbGwgYXMgYmluZGluZyBwcmlvcml0eSBpbnRvIGNvbnNpZGVyYXRpb24gdG8gZGV0ZXJtaW5lIHdoaWNoIHZhbHVlIHNob3VsZCBiZSB3cml0dGVuXG4gKiB0byBET00uIChGb3IgZXhhbXBsZSBpdCBtYXkgYmUgZGV0ZXJtaW5lZCB0aGF0IHRoZXJlIGlzIGEgaGlnaGVyIHByaW9yaXR5IG92ZXJ3cml0ZSB3aGljaCBibG9ja3NcbiAqIHRoZSBET00gd3JpdGUsIG9yIGlmIHRoZSB2YWx1ZSBnb2VzIHRvIGB1bmRlZmluZWRgIGEgbG93ZXIgcHJpb3JpdHkgb3ZlcndyaXRlIG1heSBiZSBjb25zdWx0ZWQuKVxuICpcbiAqIEBwYXJhbSB0VmlldyBBc3NvY2lhdGVkIGBUVmlldy5kYXRhYCBjb250YWlucyB0aGUgbGlua2VkIGxpc3Qgb2YgYmluZGluZyBwcmlvcml0aWVzLlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgd2hlcmUgdGhlIGJpbmRpbmcgaXMgbG9jYXRlZC5cbiAqIEBwYXJhbSBsVmlldyBgTFZpZXdgIGNvbnRhaW5zIHRoZSB2YWx1ZXMgYXNzb2NpYXRlZCB3aXRoIG90aGVyIHN0eWxpbmcgYmluZGluZyBhdCB0aGlzIGBUTm9kZWAuXG4gKiBAcGFyYW0gcmVuZGVyZXIgUmVuZGVyZXIgdG8gdXNlIGlmIGFueSB1cGRhdGVzLlxuICogQHBhcmFtIHByb3AgRWl0aGVyIHN0eWxlIHByb3BlcnR5IG5hbWUgb3IgYSBjbGFzcyBuYW1lLlxuICogQHBhcmFtIHZhbHVlIEVpdGhlciBzdHlsZSB2YWx1ZSBmb3IgYHByb3BgIG9yIGB0cnVlYC9gZmFsc2VgIGlmIGBwcm9wYCBpcyBjbGFzcy5cbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqIEBwYXJhbSBiaW5kaW5nSW5kZXggQmluZGluZyBpbmRleCBvZiB0aGUgYmluZGluZy5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlU3R5bGluZyh0VmlldywgdE5vZGUsIGxWaWV3LCByZW5kZXJlciwgcHJvcCwgdmFsdWUsIGlzQ2xhc3NCYXNlZCwgYmluZGluZ0luZGV4KSB7XG4gICAgaWYgKCEodE5vZGUudHlwZSAmIDMgLyogQW55Uk5vZGUgKi8pKSB7XG4gICAgICAgIC8vIEl0IGlzIHBvc3NpYmxlIHRvIGhhdmUgc3R5bGluZyBvbiBub24tZWxlbWVudHMgKHN1Y2ggYXMgbmctY29udGFpbmVyKS5cbiAgICAgICAgLy8gVGhpcyBpcyByYXJlLCBidXQgaXQgZG9lcyBoYXBwZW4uIEluIHN1Y2ggYSBjYXNlLCBqdXN0IGlnbm9yZSB0aGUgYmluZGluZy5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0RGF0YSA9IHRWaWV3LmRhdGE7XG4gICAgY29uc3QgdFJhbmdlID0gdERhdGFbYmluZGluZ0luZGV4ICsgMV07XG4gICAgY29uc3QgaGlnaGVyUHJpb3JpdHlWYWx1ZSA9IGdldFRTdHlsaW5nUmFuZ2VOZXh0RHVwbGljYXRlKHRSYW5nZSkgP1xuICAgICAgICBmaW5kU3R5bGluZ1ZhbHVlKHREYXRhLCB0Tm9kZSwgbFZpZXcsIHByb3AsIGdldFRTdHlsaW5nUmFuZ2VOZXh0KHRSYW5nZSksIGlzQ2xhc3NCYXNlZCkgOlxuICAgICAgICB1bmRlZmluZWQ7XG4gICAgaWYgKCFpc1N0eWxpbmdWYWx1ZVByZXNlbnQoaGlnaGVyUHJpb3JpdHlWYWx1ZSkpIHtcbiAgICAgICAgLy8gV2UgZG9uJ3QgaGF2ZSBhIG5leHQgZHVwbGljYXRlLCBvciB3ZSBkaWQgbm90IGZpbmQgYSBkdXBsaWNhdGUgdmFsdWUuXG4gICAgICAgIGlmICghaXNTdHlsaW5nVmFsdWVQcmVzZW50KHZhbHVlKSkge1xuICAgICAgICAgICAgLy8gV2Ugc2hvdWxkIGRlbGV0ZSBjdXJyZW50IHZhbHVlIG9yIHJlc3RvcmUgdG8gbG93ZXIgcHJpb3JpdHkgdmFsdWUuXG4gICAgICAgICAgICBpZiAoZ2V0VFN0eWxpbmdSYW5nZVByZXZEdXBsaWNhdGUodFJhbmdlKSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBwb3NzaWJsZSBwcmV2IGR1cGxpY2F0ZSwgbGV0J3MgcmV0cmlldmUgaXQuXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBmaW5kU3R5bGluZ1ZhbHVlKHREYXRhLCBudWxsLCBsVmlldywgcHJvcCwgYmluZGluZ0luZGV4LCBpc0NsYXNzQmFzZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJOb2RlID0gZ2V0TmF0aXZlQnlJbmRleChnZXRTZWxlY3RlZEluZGV4KCksIGxWaWV3KTtcbiAgICAgICAgYXBwbHlTdHlsaW5nKHJlbmRlcmVyLCBpc0NsYXNzQmFzZWQsIHJOb2RlLCBwcm9wLCB2YWx1ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBTZWFyY2ggZm9yIHN0eWxpbmcgdmFsdWUgd2l0aCBoaWdoZXIgcHJpb3JpdHkgd2hpY2ggaXMgb3ZlcndyaXRpbmcgY3VycmVudCB2YWx1ZSwgb3IgYVxuICogdmFsdWUgb2YgbG93ZXIgcHJpb3JpdHkgdG8gd2hpY2ggd2Ugc2hvdWxkIGZhbGwgYmFjayBpZiB0aGUgdmFsdWUgaXMgYHVuZGVmaW5lZGAuXG4gKlxuICogV2hlbiB2YWx1ZSBpcyBiZWluZyBhcHBsaWVkIGF0IGEgbG9jYXRpb24sIHJlbGF0ZWQgdmFsdWVzIG5lZWQgdG8gYmUgY29uc3VsdGVkLlxuICogLSBJZiB0aGVyZSBpcyBhIGhpZ2hlciBwcmlvcml0eSBiaW5kaW5nLCB3ZSBzaG91bGQgYmUgdXNpbmcgdGhhdCBvbmUgaW5zdGVhZC5cbiAqICAgRm9yIGV4YW1wbGUgYDxkaXYgIFtzdHlsZV09XCJ7Y29sb3I6ZXhwMX1cIiBbc3R5bGUuY29sb3JdPVwiZXhwMlwiPmAgY2hhbmdlIHRvIGBleHAxYFxuICogICByZXF1aXJlcyB0aGF0IHdlIGNoZWNrIGBleHAyYCB0byBzZWUgaWYgaXQgaXMgc2V0IHRvIHZhbHVlIG90aGVyIHRoYW4gYHVuZGVmaW5lZGAuXG4gKiAtIElmIHRoZXJlIGlzIGEgbG93ZXIgcHJpb3JpdHkgYmluZGluZyBhbmQgd2UgYXJlIGNoYW5naW5nIHRvIGB1bmRlZmluZWRgXG4gKiAgIEZvciBleGFtcGxlIGA8ZGl2ICBbc3R5bGVdPVwie2NvbG9yOmV4cDF9XCIgW3N0eWxlLmNvbG9yXT1cImV4cDJcIj5gIGNoYW5nZSB0byBgZXhwMmAgdG9cbiAqICAgYHVuZGVmaW5lZGAgcmVxdWlyZXMgdGhhdCB3ZSBjaGVjayBgZXhwMWAgKGFuZCBzdGF0aWMgdmFsdWVzKSBhbmQgdXNlIHRoYXQgYXMgbmV3IHZhbHVlLlxuICpcbiAqIE5PVEU6IFRoZSBzdHlsaW5nIHN0b3JlcyB0d28gdmFsdWVzLlxuICogMS4gVGhlIHJhdyB2YWx1ZSB3aGljaCBjYW1lIGZyb20gdGhlIGFwcGxpY2F0aW9uIGlzIHN0b3JlZCBhdCBgaW5kZXggKyAwYCBsb2NhdGlvbi4gKFRoaXMgdmFsdWVcbiAqICAgIGlzIHVzZWQgZm9yIGRpcnR5IGNoZWNraW5nKS5cbiAqIDIuIFRoZSBub3JtYWxpemVkIHZhbHVlIGlzIHN0b3JlZCBhdCBgaW5kZXggKyAxYC5cbiAqXG4gKiBAcGFyYW0gdERhdGEgYFREYXRhYCB1c2VkIGZvciB0cmF2ZXJzaW5nIHRoZSBwcmlvcml0eS5cbiAqIEBwYXJhbSB0Tm9kZSBgVE5vZGVgIHRvIHVzZSBmb3IgcmVzb2x2aW5nIHN0YXRpYyBzdHlsaW5nLiBBbHNvIGNvbnRyb2xzIHNlYXJjaCBkaXJlY3Rpb24uXG4gKiAgIC0gYFROb2RlYCBzZWFyY2ggbmV4dCBhbmQgcXVpdCBhcyBzb29uIGFzIGBpc1N0eWxpbmdWYWx1ZVByZXNlbnQodmFsdWUpYCBpcyB0cnVlLlxuICogICAgICBJZiBubyB2YWx1ZSBmb3VuZCBjb25zdWx0IGB0Tm9kZS5yZXNpZHVhbFN0eWxlYC9gdE5vZGUucmVzaWR1YWxDbGFzc2AgZm9yIGRlZmF1bHQgdmFsdWUuXG4gKiAgIC0gYG51bGxgIHNlYXJjaCBwcmV2IGFuZCBnbyBhbGwgdGhlIHdheSB0byBlbmQuIFJldHVybiBsYXN0IHZhbHVlIHdoZXJlXG4gKiAgICAgYGlzU3R5bGluZ1ZhbHVlUHJlc2VudCh2YWx1ZSlgIGlzIHRydWUuXG4gKiBAcGFyYW0gbFZpZXcgYExWaWV3YCB1c2VkIGZvciByZXRyaWV2aW5nIHRoZSBhY3R1YWwgdmFsdWVzLlxuICogQHBhcmFtIHByb3AgUHJvcGVydHkgd2hpY2ggd2UgYXJlIGludGVyZXN0ZWQgaW4uXG4gKiBAcGFyYW0gaW5kZXggU3RhcnRpbmcgaW5kZXggaW4gdGhlIGxpbmtlZCBsaXN0IG9mIHN0eWxpbmcgYmluZGluZ3Mgd2hlcmUgdGhlIHNlYXJjaCBzaG91bGQgc3RhcnQuXG4gKiBAcGFyYW0gaXNDbGFzc0Jhc2VkIGB0cnVlYCBpZiBgY2xhc3NgIChgZmFsc2VgIGlmIGBzdHlsZWApXG4gKi9cbmZ1bmN0aW9uIGZpbmRTdHlsaW5nVmFsdWUodERhdGEsIHROb2RlLCBsVmlldywgcHJvcCwgaW5kZXgsIGlzQ2xhc3NCYXNlZCkge1xuICAgIC8vIGBUTm9kZWAgdG8gdXNlIGZvciByZXNvbHZpbmcgc3RhdGljIHN0eWxpbmcuIEFsc28gY29udHJvbHMgc2VhcmNoIGRpcmVjdGlvbi5cbiAgICAvLyAgIC0gYFROb2RlYCBzZWFyY2ggbmV4dCBhbmQgcXVpdCBhcyBzb29uIGFzIGBpc1N0eWxpbmdWYWx1ZVByZXNlbnQodmFsdWUpYCBpcyB0cnVlLlxuICAgIC8vICAgICAgSWYgbm8gdmFsdWUgZm91bmQgY29uc3VsdCBgdE5vZGUucmVzaWR1YWxTdHlsZWAvYHROb2RlLnJlc2lkdWFsQ2xhc3NgIGZvciBkZWZhdWx0IHZhbHVlLlxuICAgIC8vICAgLSBgbnVsbGAgc2VhcmNoIHByZXYgYW5kIGdvIGFsbCB0aGUgd2F5IHRvIGVuZC4gUmV0dXJuIGxhc3QgdmFsdWUgd2hlcmVcbiAgICAvLyAgICAgYGlzU3R5bGluZ1ZhbHVlUHJlc2VudCh2YWx1ZSlgIGlzIHRydWUuXG4gICAgY29uc3QgaXNQcmV2RGlyZWN0aW9uID0gdE5vZGUgPT09IG51bGw7XG4gICAgbGV0IHZhbHVlID0gdW5kZWZpbmVkO1xuICAgIHdoaWxlIChpbmRleCA+IDApIHtcbiAgICAgICAgY29uc3QgcmF3S2V5ID0gdERhdGFbaW5kZXhdO1xuICAgICAgICBjb25zdCBjb250YWluc1N0YXRpY3MgPSBBcnJheS5pc0FycmF5KHJhd0tleSk7XG4gICAgICAgIC8vIFVud3JhcCB0aGUga2V5IGlmIHdlIGNvbnRhaW4gc3RhdGljIHZhbHVlcy5cbiAgICAgICAgY29uc3Qga2V5ID0gY29udGFpbnNTdGF0aWNzID8gcmF3S2V5WzFdIDogcmF3S2V5O1xuICAgICAgICBjb25zdCBpc1N0eWxpbmdNYXAgPSBrZXkgPT09IG51bGw7XG4gICAgICAgIGxldCB2YWx1ZUF0TFZpZXdJbmRleCA9IGxWaWV3W2luZGV4ICsgMV07XG4gICAgICAgIGlmICh2YWx1ZUF0TFZpZXdJbmRleCA9PT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgICAgICAvLyBJbiBmaXJzdFVwZGF0ZVBhc3MgdGhlIHN0eWxpbmcgaW5zdHJ1Y3Rpb25zIGNyZWF0ZSBhIGxpbmtlZCBsaXN0IG9mIHN0eWxpbmcuXG4gICAgICAgICAgICAvLyBPbiBzdWJzZXF1ZW50IHBhc3NlcyBpdCBpcyBwb3NzaWJsZSBmb3IgYSBzdHlsaW5nIGluc3RydWN0aW9uIHRvIHRyeSB0byByZWFkIGEgYmluZGluZ1xuICAgICAgICAgICAgLy8gd2hpY2hcbiAgICAgICAgICAgIC8vIGhhcyBub3QgeWV0IGV4ZWN1dGVkLiBJbiB0aGF0IGNhc2Ugd2Ugd2lsbCBmaW5kIGBOT19DSEFOR0VgIGFuZCB3ZSBzaG91bGQgYXNzdW1lIHRoYXRcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgYHVuZGVmaW5lZGAgKG9yIGVtcHR5IGFycmF5IGluIGNhc2Ugb2Ygc3R5bGluZy1tYXAgaW5zdHJ1Y3Rpb24pIGluc3RlYWQuIFRoaXNcbiAgICAgICAgICAgIC8vIGFsbG93cyB0aGUgcmVzb2x1dGlvbiB0byBhcHBseSB0aGUgdmFsdWUgKHdoaWNoIG1heSBsYXRlciBiZSBvdmVyd3JpdHRlbiB3aGVuIHRoZVxuICAgICAgICAgICAgLy8gYmluZGluZyBhY3R1YWxseSBleGVjdXRlcy4pXG4gICAgICAgICAgICB2YWx1ZUF0TFZpZXdJbmRleCA9IGlzU3R5bGluZ01hcCA/IEVNUFRZX0FSUkFZIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdXJyZW50VmFsdWUgPSBpc1N0eWxpbmdNYXAgPyBrZXlWYWx1ZUFycmF5R2V0KHZhbHVlQXRMVmlld0luZGV4LCBwcm9wKSA6XG4gICAgICAgICAgICBrZXkgPT09IHByb3AgPyB2YWx1ZUF0TFZpZXdJbmRleCA6IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGNvbnRhaW5zU3RhdGljcyAmJiAhaXNTdHlsaW5nVmFsdWVQcmVzZW50KGN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IGtleVZhbHVlQXJyYXlHZXQocmF3S2V5LCBwcm9wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHlsaW5nVmFsdWVQcmVzZW50KGN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgaWYgKGlzUHJldkRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0UmFuZ2UgPSB0RGF0YVtpbmRleCArIDFdO1xuICAgICAgICBpbmRleCA9IGlzUHJldkRpcmVjdGlvbiA/IGdldFRTdHlsaW5nUmFuZ2VQcmV2KHRSYW5nZSkgOiBnZXRUU3R5bGluZ1JhbmdlTmV4dCh0UmFuZ2UpO1xuICAgIH1cbiAgICBpZiAodE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgLy8gaW4gY2FzZSB3aGVyZSB3ZSBhcmUgZ29pbmcgaW4gbmV4dCBkaXJlY3Rpb24gQU5EIHdlIGRpZCBub3QgZmluZCBhbnl0aGluZywgd2UgbmVlZCB0b1xuICAgICAgICAvLyBjb25zdWx0IHJlc2lkdWFsIHN0eWxpbmdcbiAgICAgICAgbGV0IHJlc2lkdWFsID0gaXNDbGFzc0Jhc2VkID8gdE5vZGUucmVzaWR1YWxDbGFzc2VzIDogdE5vZGUucmVzaWR1YWxTdHlsZXM7XG4gICAgICAgIGlmIChyZXNpZHVhbCAhPSBudWxsIC8qKiBPUiByZXNpZHVhbCAhPT09IHVuZGVmaW5lZCAqLykge1xuICAgICAgICAgICAgdmFsdWUgPSBrZXlWYWx1ZUFycmF5R2V0KHJlc2lkdWFsLCBwcm9wKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGJpbmRpbmcgdmFsdWUgc2hvdWxkIGJlIHVzZWQgKG9yIGlmIHRoZSB2YWx1ZSBpcyAndW5kZWZpbmVkJyBhbmQgaGVuY2UgcHJpb3JpdHlcbiAqIHJlc29sdXRpb24gc2hvdWxkIGJlIHVzZWQuKVxuICpcbiAqIEBwYXJhbSB2YWx1ZSBCaW5kaW5nIHN0eWxlIHZhbHVlLlxuICovXG5mdW5jdGlvbiBpc1N0eWxpbmdWYWx1ZVByZXNlbnQodmFsdWUpIHtcbiAgICAvLyBDdXJyZW50bHkgb25seSBgdW5kZWZpbmVkYCB2YWx1ZSBpcyBjb25zaWRlcmVkIG5vbi1iaW5kaW5nLiBUaGF0IGlzIGB1bmRlZmluZWRgIHNheXMgSSBkb24ndFxuICAgIC8vIGhhdmUgYW4gb3BpbmlvbiBhcyB0byB3aGF0IHRoaXMgYmluZGluZyBzaG91bGQgYmUgYW5kIHlvdSBzaG91bGQgY29uc3VsdCBvdGhlciBiaW5kaW5ncyBieVxuICAgIC8vIHByaW9yaXR5IHRvIGRldGVybWluZSB0aGUgdmFsaWQgdmFsdWUuXG4gICAgLy8gVGhpcyBpcyBleHRyYWN0ZWQgaW50byBhIHNpbmdsZSBmdW5jdGlvbiBzbyB0aGF0IHdlIGhhdmUgYSBzaW5nbGUgcGxhY2UgdG8gY29udHJvbCB0aGlzLlxuICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBOb3JtYWxpemVzIGFuZC9vciBhZGRzIGEgc3VmZml4IHRvIHRoZSB2YWx1ZS5cbiAqXG4gKiBJZiB2YWx1ZSBpcyBgbnVsbGAvYHVuZGVmaW5lZGAgbm8gc3VmZml4IGlzIGFkZGVkXG4gKiBAcGFyYW0gdmFsdWVcbiAqIEBwYXJhbSBzdWZmaXhcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplU3VmZml4KHZhbHVlLCBzdWZmaXgpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCAvKiogfHwgdmFsdWUgPT09IHVuZGVmaW5lZCAqLykge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBzdWZmaXggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgKyBzdWZmaXg7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFsdWUgPSBzdHJpbmdpZnkodW53cmFwU2FmZVZhbHVlKHZhbHVlKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8qKlxuICogVGVzdHMgaWYgdGhlIGBUTm9kZWAgaGFzIGlucHV0IHNoYWRvdy5cbiAqXG4gKiBBbiBpbnB1dCBzaGFkb3cgaXMgd2hlbiBhIGRpcmVjdGl2ZSBzdGVhbHMgKHNoYWRvd3MpIHRoZSBpbnB1dCBieSB1c2luZyBgQElucHV0KCdzdHlsZScpYCBvclxuICogYEBJbnB1dCgnY2xhc3MnKWAgYXMgaW5wdXQuXG4gKlxuICogQHBhcmFtIHROb2RlIGBUTm9kZWAgd2hpY2ggd2Ugd291bGQgbGlrZSB0byBzZWUgaWYgaXQgaGFzIHNoYWRvdy5cbiAqIEBwYXJhbSBpc0NsYXNzQmFzZWQgYHRydWVgIGlmIGBjbGFzc2AgKGBmYWxzZWAgaWYgYHN0eWxlYClcbiAqL1xuZnVuY3Rpb24gaGFzU3R5bGluZ0lucHV0U2hhZG93KHROb2RlLCBpc0NsYXNzQmFzZWQpIHtcbiAgICByZXR1cm4gKHROb2RlLmZsYWdzICYgKGlzQ2xhc3NCYXNlZCA/IDE2IC8qIGhhc0NsYXNzSW5wdXQgKi8gOiAzMiAvKiBoYXNTdHlsZUlucHV0ICovKSkgIT09IDA7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDcmVhdGUgc3RhdGljIHRleHQgbm9kZVxuICpcbiAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgbm9kZSBpbiB0aGUgZGF0YSBhcnJheVxuICogQHBhcmFtIHZhbHVlIFN0YXRpYyBzdHJpbmcgdmFsdWUgdG8gd3JpdGUuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHQoaW5kZXgsIHZhbHVlID0gJycpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBpbmRleCArIEhFQURFUl9PRkZTRVQ7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEVxdWFsKGdldEJpbmRpbmdJbmRleCgpLCB0Vmlldy5iaW5kaW5nU3RhcnRJbmRleCwgJ3RleHQgbm9kZXMgc2hvdWxkIGJlIGNyZWF0ZWQgYmVmb3JlIGFueSBiaW5kaW5ncycpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIGFkanVzdGVkSW5kZXgpO1xuICAgIGNvbnN0IHROb2RlID0gdFZpZXcuZmlyc3RDcmVhdGVQYXNzID9cbiAgICAgICAgZ2V0T3JDcmVhdGVUTm9kZSh0VmlldywgYWRqdXN0ZWRJbmRleCwgMSAvKiBUZXh0ICovLCB2YWx1ZSwgbnVsbCkgOlxuICAgICAgICB0Vmlldy5kYXRhW2FkanVzdGVkSW5kZXhdO1xuICAgIGNvbnN0IHRleHROYXRpdmUgPSBsVmlld1thZGp1c3RlZEluZGV4XSA9IGNyZWF0ZVRleHROb2RlKGxWaWV3W1JFTkRFUkVSXSwgdmFsdWUpO1xuICAgIGFwcGVuZENoaWxkKHRWaWV3LCBsVmlldywgdGV4dE5hdGl2ZSwgdE5vZGUpO1xuICAgIC8vIFRleHQgbm9kZXMgYXJlIHNlbGYgY2xvc2luZy5cbiAgICBzZXRDdXJyZW50VE5vZGUodE5vZGUsIGZhbHNlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqXG4gKiBVcGRhdGUgdGV4dCBjb250ZW50IHdpdGggYSBsb25lIGJvdW5kIHZhbHVlXG4gKlxuICogVXNlZCB3aGVuIGEgdGV4dCBub2RlIGhhcyAxIGludGVycG9sYXRlZCB2YWx1ZSBpbiBpdCwgYW4gbm8gYWRkaXRpb25hbCB0ZXh0XG4gKiBzdXJyb3VuZHMgdGhhdCBpbnRlcnBvbGF0ZWQgdmFsdWU6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdj57e3YwfX08L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXRleHRJbnRlcnBvbGF0ZSh2MCk7XG4gKiBgYGBcbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBzZWUgdGV4dEludGVycG9sYXRlVlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHRJbnRlcnBvbGF0ZSh2MCkge1xuICAgIMm1ybV0ZXh0SW50ZXJwb2xhdGUxKCcnLCB2MCwgJycpO1xuICAgIHJldHVybiDJtcm1dGV4dEludGVycG9sYXRlO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIHNpbmdsZSBib3VuZCB2YWx1ZSBzdXJyb3VuZGVkIGJ5IG90aGVyIHRleHQuXG4gKlxuICogVXNlZCB3aGVuIGEgdGV4dCBub2RlIGhhcyAxIGludGVycG9sYXRlZCB2YWx1ZSBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fXN1ZmZpeDwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1dGV4dEludGVycG9sYXRlMSgncHJlZml4JywgdjAsICdzdWZmaXgnKTtcbiAqIGBgYFxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQHNlZSB0ZXh0SW50ZXJwb2xhdGVWXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGV4dEludGVycG9sYXRlMShwcmVmaXgsIHYwLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvbjEobFZpZXcsIHByZWZpeCwgdjAsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIHRleHRCaW5kaW5nSW50ZXJuYWwobFZpZXcsIGdldFNlbGVjdGVkSW5kZXgoKSwgaW50ZXJwb2xhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybV0ZXh0SW50ZXJwb2xhdGUxO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIDIgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgb3RoZXIgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gYSB0ZXh0IG5vZGUgaGFzIDIgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fS17e3YxfX1zdWZmaXg8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXRleHRJbnRlcnBvbGF0ZTIoJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBzZWUgdGV4dEludGVycG9sYXRlVlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHRJbnRlcnBvbGF0ZTIocHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gaW50ZXJwb2xhdGlvbjIobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgdGV4dEJpbmRpbmdJbnRlcm5hbChsVmlldywgZ2V0U2VsZWN0ZWRJbmRleCgpLCBpbnRlcnBvbGF0ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXRleHRJbnRlcnBvbGF0ZTI7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgdGV4dCBjb250ZW50IHdpdGggMyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSBvdGhlciB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiBhIHRleHQgbm9kZSBoYXMgMyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXY+cHJlZml4e3t2MH19LXt7djF9fS17e3YyfX1zdWZmaXg8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXRleHRJbnRlcnBvbGF0ZTMoXG4gKiAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICdzdWZmaXgnKTtcbiAqIGBgYFxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQHNlZSB0ZXh0SW50ZXJwb2xhdGVWXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGV4dEludGVycG9sYXRlMyhwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZCA9IGludGVycG9sYXRpb24zKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgdGV4dEJpbmRpbmdJbnRlcm5hbChsVmlldywgZ2V0U2VsZWN0ZWRJbmRleCgpLCBpbnRlcnBvbGF0ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXRleHRJbnRlcnBvbGF0ZTM7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgdGV4dCBjb250ZW50IHdpdGggNCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSBvdGhlciB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiBhIHRleHQgbm9kZSBoYXMgNCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXY+cHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319c3VmZml4PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybV0ZXh0SW50ZXJwb2xhdGU0KFxuICogJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBzZWUgybXJtXRleHRJbnRlcnBvbGF0ZVZcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0SW50ZXJwb2xhdGU0KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBpbnRlcnBvbGF0aW9uNChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgdGV4dEJpbmRpbmdJbnRlcm5hbChsVmlldywgZ2V0U2VsZWN0ZWRJbmRleCgpLCBpbnRlcnBvbGF0ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXRleHRJbnRlcnBvbGF0ZTQ7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgdGV4dCBjb250ZW50IHdpdGggNSBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSBvdGhlciB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiBhIHRleHQgbm9kZSBoYXMgNSBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXY+cHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fXN1ZmZpeDwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1dGV4dEludGVycG9sYXRlNShcbiAqICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAc2VlIHRleHRJbnRlcnBvbGF0ZVZcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0SW50ZXJwb2xhdGU1KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZCA9IGludGVycG9sYXRpb241KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIHRleHRCaW5kaW5nSW50ZXJuYWwobFZpZXcsIGdldFNlbGVjdGVkSW5kZXgoKSwgaW50ZXJwb2xhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybV0ZXh0SW50ZXJwb2xhdGU1O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIDYgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgb3RoZXIgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gYSB0ZXh0IG5vZGUgaGFzIDYgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19c3VmZml4PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybV0ZXh0SW50ZXJwb2xhdGU2KFxuICogICAgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuIEByZXR1cm5zIGl0c2VsZiwgc28gdGhhdCBpdCBtYXkgYmUgY2hhaW5lZC5cbiAqIEBzZWUgdGV4dEludGVycG9sYXRlVlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHRJbnRlcnBvbGF0ZTYocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBpbnRlcnBvbGF0aW9uNihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCk7XG4gICAgaWYgKGludGVycG9sYXRlZCAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIHRleHRCaW5kaW5nSW50ZXJuYWwobFZpZXcsIGdldFNlbGVjdGVkSW5kZXgoKSwgaW50ZXJwb2xhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIMm1ybV0ZXh0SW50ZXJwb2xhdGU2O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIDcgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgb3RoZXIgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gYSB0ZXh0IG5vZGUgaGFzIDcgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2PnByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fXN1ZmZpeDwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1dGV4dEludGVycG9sYXRlNyhcbiAqICAgICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJy0nLCB2NSwgJy0nLCB2NiwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAc2VlIHRleHRJbnRlcnBvbGF0ZVZcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZXh0SW50ZXJwb2xhdGU3KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBpbnRlcnBvbGF0aW9uNyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4KTtcbiAgICBpZiAoaW50ZXJwb2xhdGVkICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgdGV4dEJpbmRpbmdJbnRlcm5hbChsVmlldywgZ2V0U2VsZWN0ZWRJbmRleCgpLCBpbnRlcnBvbGF0ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtXRleHRJbnRlcnBvbGF0ZTc7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgdGV4dCBjb250ZW50IHdpdGggOCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSBvdGhlciB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiBhIHRleHQgbm9kZSBoYXMgOCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXY+cHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19LXt7djd9fXN1ZmZpeDwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1dGV4dEludGVycG9sYXRlOChcbiAqICAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICctJywgdjcsICdzdWZmaXgnKTtcbiAqIGBgYFxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQHNlZSB0ZXh0SW50ZXJwb2xhdGVWXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dGV4dEludGVycG9sYXRlOChwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBpNiwgdjcsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWQgPSBpbnRlcnBvbGF0aW9uOChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWQgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICB0ZXh0QmluZGluZ0ludGVybmFsKGxWaWV3LCBnZXRTZWxlY3RlZEluZGV4KCksIGludGVycG9sYXRlZCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1dGV4dEludGVycG9sYXRlODtcbn1cbi8qKlxuICogVXBkYXRlIHRleHQgY29udGVudCB3aXRoIDkgb3IgbW9yZSBib3VuZCB2YWx1ZXMgb3RoZXIgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgbnVtYmVyIG9mIGludGVycG9sYXRlZCB2YWx1ZXMgZXhjZWVkcyA4LlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXY+cHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19LXt7djd9fS17e3Y4fX0te3t2OX19c3VmZml4PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybV0ZXh0SW50ZXJwb2xhdGVWKFxuICogIFsncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICctJywgdjcsICctJywgdjksXG4gKiAgJ3N1ZmZpeCddKTtcbiAqIGBgYFxuICouXG4gKiBAcGFyYW0gdmFsdWVzIFRoZSBjb2xsZWN0aW9uIG9mIHZhbHVlcyBhbmQgdGhlIHN0cmluZ3MgaW4gYmV0d2VlbiB0aG9zZSB2YWx1ZXMsIGJlZ2lubmluZyB3aXRoXG4gKiBhIHN0cmluZyBwcmVmaXggYW5kIGVuZGluZyB3aXRoIGEgc3RyaW5nIHN1ZmZpeC5cbiAqIChlLmcuIGBbJ3ByZWZpeCcsIHZhbHVlMCwgJy0nLCB2YWx1ZTEsICctJywgdmFsdWUyLCAuLi4sIHZhbHVlOTksICdzdWZmaXgnXWApXG4gKlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXRleHRJbnRlcnBvbGF0ZVYodmFsdWVzKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZCA9IGludGVycG9sYXRpb25WKGxWaWV3LCB2YWx1ZXMpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWQgIT09IE5PX0NIQU5HRSkge1xuICAgICAgICB0ZXh0QmluZGluZ0ludGVybmFsKGxWaWV3LCBnZXRTZWxlY3RlZEluZGV4KCksIGludGVycG9sYXRlZCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1dGV4dEludGVycG9sYXRlVjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCBzaW5nbGUgYm91bmQgdmFsdWUgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDEgaW50ZXJwb2xhdGVkIHZhbHVlIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgY2xhc3M9XCJwcmVmaXh7e3YwfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUxKCdwcmVmaXgnLCB2MCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjbGFzc01hcEludGVycG9sYXRlMShwcmVmaXgsIHYwLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMShsVmlldywgcHJlZml4LCB2MCwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdNYXAoa2V5VmFsdWVBcnJheVNldCwgY2xhc3NTdHJpbmdQYXJzZXIsIGludGVycG9sYXRlZFZhbHVlLCB0cnVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgY2xhc3Mgb24gYW4gZWxlbWVudCB3aXRoIDIgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAyIGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBjbGFzcz1cInByZWZpeHt7djB9fS17e3YxfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUyKCdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjbGFzc01hcEludGVycG9sYXRlMihwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24yKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdHJ1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCAzIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgY2xhc3M9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTMoXG4gKiAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTMocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24zKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdNYXAoa2V5VmFsdWVBcnJheVNldCwgY2xhc3NTdHJpbmdQYXJzZXIsIGludGVycG9sYXRlZFZhbHVlLCB0cnVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgY2xhc3Mgb24gYW4gZWxlbWVudCB3aXRoIDQgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA0IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBjbGFzcz1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTQoXG4gKiAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTQocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2Mywgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjQobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdHJ1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCA1IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNSBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgY2xhc3M9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVjbGFzc01hcEludGVycG9sYXRlNShcbiAqICdwcmVmaXgnLCB2MCwgJy0nLCB2MSwgJy0nLCB2MiwgJy0nLCB2MywgJy0nLCB2NCwgJ3N1ZmZpeCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHByZWZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYxIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMSBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYyIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMiBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYzIFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBpMyBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHY0IFZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVjbGFzc01hcEludGVycG9sYXRlNShwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb241KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdHJ1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCA2IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgY2xhc3M9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTYoXG4gKiAgICAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTYocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb242KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdNYXAoa2V5VmFsdWVBcnJheVNldCwgY2xhc3NTdHJpbmdQYXJzZXIsIGludGVycG9sYXRlZFZhbHVlLCB0cnVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgY2xhc3Mgb24gYW4gZWxlbWVudCB3aXRoIDcgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA3IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBjbGFzcz1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTcoXG4gKiAgICAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTcocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjcobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdHJ1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCA4IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgOCBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgY2xhc3M9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX0te3t2N319c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVjbGFzc01hcEludGVycG9sYXRlOChcbiAqICAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICctJywgdjcsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTYgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTgocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uOChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ01hcChrZXlWYWx1ZUFycmF5U2V0LCBjbGFzc1N0cmluZ1BhcnNlciwgaW50ZXJwb2xhdGVkVmFsdWUsIHRydWUpO1xufVxuLyoqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIGNsYXNzIG9uIGFuIGVsZW1lbnQgd2l0aCA5IG9yIG1vcmUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIG51bWJlciBvZiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGV4Y2VlZHMgOC5cbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2XG4gKiAgY2xhc3M9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19LXt7djV9fS17e3Y2fX0te3t2N319LXt7djh9fS17e3Y5fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGVWKFxuICogIFsncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICctJywgdjcsICctJywgdjksXG4gKiAgJ3N1ZmZpeCddKTtcbiAqIGBgYFxuICouXG4gKiBAcGFyYW0gdmFsdWVzIFRoZSBjb2xsZWN0aW9uIG9mIHZhbHVlcyBhbmQgdGhlIHN0cmluZ3MgaW4tYmV0d2VlbiB0aG9zZSB2YWx1ZXMsIGJlZ2lubmluZyB3aXRoXG4gKiBhIHN0cmluZyBwcmVmaXggYW5kIGVuZGluZyB3aXRoIGEgc3RyaW5nIHN1ZmZpeC5cbiAqIChlLmcuIGBbJ3ByZWZpeCcsIHZhbHVlMCwgJy0nLCB2YWx1ZTEsICctJywgdmFsdWUyLCAuLi4sIHZhbHVlOTksICdzdWZmaXgnXWApXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZVYodmFsdWVzKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvblYobFZpZXcsIHZhbHVlcyk7XG4gICAgY2hlY2tTdHlsaW5nTWFwKGtleVZhbHVlQXJyYXlTZXQsIGNsYXNzU3RyaW5nUGFyc2VyLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdHJ1ZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBvbiBhbiBlbGVtZW50IHdpdGggc2luZ2xlIGJvdW5kIHZhbHVlIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAxIGludGVycG9sYXRlZCB2YWx1ZSBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlPVwia2V5OiB7e3YwfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUxKCdrZXk6ICcsIHYwLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUxKHByZWZpeCwgdjAsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24xKGxWaWV3LCBwcmVmaXgsIHYwLCBzdWZmaXgpO1xuICAgIMm1ybVzdHlsZU1hcChpbnRlcnBvbGF0ZWRWYWx1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIG9uIGFuIGVsZW1lbnQgd2l0aCAyIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGU9XCJrZXk6IHt7djB9fTsga2V5MToge3t2MX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZU1hcEludGVycG9sYXRlMigna2V5OiAnLCB2MCwgJzsga2V5MTogJywgdjEsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTIocHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpO1xuICAgIMm1ybVzdHlsZU1hcChpbnRlcnBvbGF0ZWRWYWx1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIG9uIGFuIGVsZW1lbnQgd2l0aCAzIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMyBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGU9XCJrZXk6IHt7djB9fTsga2V5Mjoge3t2MX19OyBrZXkyOiB7e3YyfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUzKFxuICogICAgICdrZXk6ICcsIHYwLCAnOyBrZXkxOiAnLCB2MSwgJzsga2V5MjogJywgdjIsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTMocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb24zKGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KTtcbiAgICDJtcm1c3R5bGVNYXAoaW50ZXJwb2xhdGVkVmFsdWUpO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBvbiBhbiBlbGVtZW50IHdpdGggNCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDQgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlPVwia2V5OiB7e3YwfX07IGtleTE6IHt7djF9fTsga2V5Mjoge3t2Mn19OyBrZXkzOiB7e3YzfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU0KFxuICogICAgICdrZXk6ICcsIHYwLCAnOyBrZXkxOiAnLCB2MSwgJzsga2V5MjogJywgdjIsICc7IGtleTM6ICcsIHYzLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU0KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCkge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb240KGxWaWV3LCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgpO1xuICAgIMm1ybVzdHlsZU1hcChpbnRlcnBvbGF0ZWRWYWx1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIG9uIGFuIGVsZW1lbnQgd2l0aCA1IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNSBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGU9XCJrZXk6IHt7djB9fTsga2V5MToge3t2MX19OyBrZXkyOiB7e3YyfX07IGtleTM6IHt7djN9fTsga2V5NDoge3t2NH19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNShcbiAqICAgICAna2V5OiAnLCB2MCwgJzsga2V5MTogJywgdjEsICc7IGtleTI6ICcsIHYyLCAnOyBrZXkzOiAnLCB2MywgJzsga2V5NDogJywgdjQsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTUocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNShsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpO1xuICAgIMm1ybVzdHlsZU1hcChpbnRlcnBvbGF0ZWRWYWx1ZSk7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIG9uIGFuIGVsZW1lbnQgd2l0aCA2IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGU9XCJrZXk6IHt7djB9fTsga2V5MToge3t2MX19OyBrZXkyOiB7e3YyfX07IGtleTM6IHt7djN9fTsga2V5NDoge3t2NH19O1xuICogICAgICAgICAgICAga2V5NToge3t2NX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNihcbiAqICAgICdrZXk6ICcsIHYwLCAnOyBrZXkxOiAnLCB2MSwgJzsga2V5MjogJywgdjIsICc7IGtleTM6ICcsIHYzLCAnOyBrZXk0OiAnLCB2NCwgJzsga2V5NTogJywgdjUsXG4gKiAgICAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU2KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIHN1ZmZpeCk7XG4gICAgybXJtXN0eWxlTWFwKGludGVycG9sYXRlZFZhbHVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgb24gYW4gZWxlbWVudCB3aXRoIDcgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA3IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZT1cImtleToge3t2MH19OyBrZXkxOiB7e3YxfX07IGtleTI6IHt7djJ9fTsga2V5Mzoge3t2M319OyBrZXk0OiB7e3Y0fX07IGtleTU6IHt7djV9fTtcbiAqICAgICAgICAgICAgIGtleTY6IHt7djZ9fXN1ZmZpeFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogSXRzIGNvbXBpbGVkIHJlcHJlc2VudGF0aW9uIGlzOlxuICpcbiAqIGBgYHRzXG4gKiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTcoXG4gKiAgICAna2V5OiAnLCB2MCwgJzsga2V5MTogJywgdjEsICc7IGtleTI6ICcsIHYyLCAnOyBrZXkzOiAnLCB2MywgJzsga2V5NDogJywgdjQsICc7IGtleTU6ICcsIHY1LFxuICogICAgJzsga2V5NjogJywgdjYsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTcocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjcobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCk7XG4gICAgybXJtXN0eWxlTWFwKGludGVycG9sYXRlZFZhbHVlKTtcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgb24gYW4gZWxlbWVudCB3aXRoIDggYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA4IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZT1cImtleToge3t2MH19OyBrZXkxOiB7e3YxfX07IGtleTI6IHt7djJ9fTsga2V5Mzoge3t2M319OyBrZXk0OiB7e3Y0fX07IGtleTU6IHt7djV9fTtcbiAqICAgICAgICAgICAgIGtleTY6IHt7djZ9fTsga2V5Nzoge3t2N319c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZU1hcEludGVycG9sYXRlOChcbiAqICAgICdrZXk6ICcsIHYwLCAnOyBrZXkxOiAnLCB2MSwgJzsga2V5MjogJywgdjIsICc7IGtleTM6ICcsIHYzLCAnOyBrZXk0OiAnLCB2NCwgJzsga2V5NTogJywgdjUsXG4gKiAgICAnOyBrZXk2OiAnLCB2NiwgJzsga2V5NzogJywgdjcsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTYgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTgocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uOChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpO1xuICAgIMm1ybVzdHlsZU1hcChpbnRlcnBvbGF0ZWRWYWx1ZSk7XG59XG4vKipcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgb24gYW4gZWxlbWVudCB3aXRoIDkgb3IgbW9yZSBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgbnVtYmVyIG9mIGludGVycG9sYXRlZCB2YWx1ZXMgZXhjZWVkcyA4LlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXZcbiAqICBjbGFzcz1cImtleToge3t2MH19OyBrZXkxOiB7e3YxfX07IGtleTI6IHt7djJ9fTsga2V5Mzoge3t2M319OyBrZXk0OiB7e3Y0fX07IGtleTU6IHt7djV9fTtcbiAqICAgICAgICAga2V5Njoge3t2Nn19OyBrZXk3OiB7e3Y3fX07IGtleTg6IHt7djh9fTsga2V5OToge3t2OX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZU1hcEludGVycG9sYXRlVihcbiAqICAgIFsna2V5OiAnLCB2MCwgJzsga2V5MTogJywgdjEsICc7IGtleTI6ICcsIHYyLCAnOyBrZXkzOiAnLCB2MywgJzsga2V5NDogJywgdjQsICc7IGtleTU6ICcsIHY1LFxuICogICAgICc7IGtleTY6ICcsIHY2LCAnOyBrZXk3OiAnLCB2NywgJzsga2V5ODogJywgdjgsICc7IGtleTk6ICcsIHY5LCAnc3VmZml4J10pO1xuICogYGBgXG4gKi5cbiAqIEBwYXJhbSB2YWx1ZXMgVGhlIGNvbGxlY3Rpb24gb2YgdmFsdWVzIGFuZCB0aGUgc3RyaW5ncyBpbi1iZXR3ZWVuIHRob3NlIHZhbHVlcywgYmVnaW5uaW5nIHdpdGhcbiAqIGEgc3RyaW5nIHByZWZpeCBhbmQgZW5kaW5nIHdpdGggYSBzdHJpbmcgc3VmZml4LlxuICogKGUuZy4gYFsncHJlZml4JywgdmFsdWUwLCAnOyBrZXkyOiAnLCB2YWx1ZTEsICc7IGtleTI6ICcsIHZhbHVlMiwgLi4uLCB2YWx1ZTk5LCAnc3VmZml4J11gKVxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlTWFwSW50ZXJwb2xhdGVWKHZhbHVlcykge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGludGVycG9sYXRpb25WKGxWaWV3LCB2YWx1ZXMpO1xuICAgIMm1ybVzdHlsZU1hcChpbnRlcnBvbGF0ZWRWYWx1ZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggc2luZ2xlIGJvdW5kIHZhbHVlIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyAxIGludGVycG9sYXRlZCB2YWx1ZSBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlLmNvbG9yPVwicHJlZml4e3t2MH19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTEoMCwgJ3ByZWZpeCcsIHYwLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlMShwcm9wLCBwcmVmaXgsIHYwLCBzdWZmaXgsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjEobFZpZXcsIHByZWZpeCwgdjAsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nUHJvcGVydHkocHJvcCwgaW50ZXJwb2xhdGVkVmFsdWUsIHZhbHVlU3VmZml4LCBmYWxzZSk7XG4gICAgcmV0dXJuIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTE7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCAyIGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgMiBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGUuY29sb3I9XCJwcmVmaXh7e3YwfX0te3t2MX19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTIoMCwgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlMihwcm9wLCBwcmVmaXgsIHYwLCBpMCwgdjEsIHN1ZmZpeCwgdmFsdWVTdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uMihsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIGludGVycG9sYXRlZFZhbHVlLCB2YWx1ZVN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUyO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggMyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDMgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlLmNvbG9yPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlUHJvcEludGVycG9sYXRlMygwLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHlsZUluZGV4IEluZGV4IG9mIHN0eWxlIHRvIHVwZGF0ZS4gVGhpcyBpbmRleCB2YWx1ZSByZWZlcnMgdG8gdGhlXG4gKiAgICAgICAgaW5kZXggb2YgdGhlIHN0eWxlIGluIHRoZSBzdHlsZSBiaW5kaW5ncyBhcnJheSB0aGF0IHdhcyBwYXNzZWQgaW50b1xuICogICAgICAgIGBzdHlsaW5nYC5cbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdmFsdWVTdWZmaXggT3B0aW9uYWwgc3VmZml4LiBVc2VkIHdpdGggc2NhbGFyIHZhbHVlcyB0byBhZGQgdW5pdCBzdWNoIGFzIGBweGAuXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUzKHByb3AsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjMobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIGludGVycG9sYXRlZFZhbHVlLCB2YWx1ZVN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUzO1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggNCBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDQgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlLmNvbG9yPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTQoMCwgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlNChwcm9wLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBzdWZmaXgsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjQobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCk7XG4gICAgY2hlY2tTdHlsaW5nUHJvcGVydHkocHJvcCwgaW50ZXJwb2xhdGVkVmFsdWUsIHZhbHVlU3VmZml4LCBmYWxzZSk7XG4gICAgcmV0dXJuIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTQ7XG59XG4vKipcbiAqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA1IGJvdW5kIHZhbHVlcyBzdXJyb3VuZGVkIGJ5IHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSB2YWx1ZSBwYXNzZWQgdG8gYSBwcm9wZXJ0eSBoYXMgNSBpbnRlcnBvbGF0ZWQgdmFsdWVzIGluIGl0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgc3R5bGUuY29sb3I9XCJwcmVmaXh7e3YwfX0te3t2MX19LXt7djJ9fS17e3YzfX0te3t2NH19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTUoMCwgJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlNShwcm9wLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIHN1ZmZpeCwgdmFsdWVTdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNShsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIGludGVycG9sYXRlZFZhbHVlLCB2YWx1ZVN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU1O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggNiBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDYgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlLmNvbG9yPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlUHJvcEludGVycG9sYXRlNigwLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHlsZUluZGV4IEluZGV4IG9mIHN0eWxlIHRvIHVwZGF0ZS4gVGhpcyBpbmRleCB2YWx1ZSByZWZlcnMgdG8gdGhlXG4gKiAgICAgICAgaW5kZXggb2YgdGhlIHN0eWxlIGluIHRoZSBzdHlsZSBiaW5kaW5ncyBhcnJheSB0aGF0IHdhcyBwYXNzZWQgaW50b1xuICogICAgICAgIGBzdHlsaW5nYC5cbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdmFsdWVTdWZmaXggT3B0aW9uYWwgc3VmZml4LiBVc2VkIHdpdGggc2NhbGFyIHZhbHVlcyB0byBhZGQgdW5pdCBzdWNoIGFzIGBweGAuXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU2KHByb3AsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvbjYobFZpZXcsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIGludGVycG9sYXRlZFZhbHVlLCB2YWx1ZVN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU2O1xufVxuLyoqXG4gKlxuICogVXBkYXRlIGFuIGludGVycG9sYXRlZCBzdHlsZSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50IHdpdGggNyBib3VuZCB2YWx1ZXMgc3Vycm91bmRlZCBieSB0ZXh0LlxuICpcbiAqIFVzZWQgd2hlbiB0aGUgdmFsdWUgcGFzc2VkIHRvIGEgcHJvcGVydHkgaGFzIDcgaW50ZXJwb2xhdGVkIHZhbHVlcyBpbiBpdDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IHN0eWxlLmNvbG9yPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19c3VmZml4XCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBJdHMgY29tcGlsZWQgcmVwcmVzZW50YXRpb24gaXM6XG4gKlxuICogYGBgdHNcbiAqIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTcoXG4gKiAgICAwLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsICdzdWZmaXgnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHlsZUluZGV4IEluZGV4IG9mIHN0eWxlIHRvIHVwZGF0ZS4gVGhpcyBpbmRleCB2YWx1ZSByZWZlcnMgdG8gdGhlXG4gKiAgICAgICAgaW5kZXggb2YgdGhlIHN0eWxlIGluIHRoZSBzdHlsZSBiaW5kaW5ncyBhcnJheSB0aGF0IHdhcyBwYXNzZWQgaW50b1xuICogICAgICAgIGBzdHlsaW5nYC5cbiAqIEBwYXJhbSBwcmVmaXggU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTAgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTEgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTIgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2MyBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTMgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NCBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTQgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NSBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gaTUgU3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqIEBwYXJhbSB2NiBWYWx1ZSBjaGVja2VkIGZvciBjaGFuZ2UuXG4gKiBAcGFyYW0gc3VmZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdmFsdWVTdWZmaXggT3B0aW9uYWwgc3VmZml4LiBVc2VkIHdpdGggc2NhbGFyIHZhbHVlcyB0byBhZGQgdW5pdCBzdWNoIGFzIGBweGAuXG4gKiBAcmV0dXJucyBpdHNlbGYsIHNvIHRoYXQgaXQgbWF5IGJlIGNoYWluZWQuXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU3KHByb3AsIHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCwgdmFsdWVTdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uNyhsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2Niwgc3VmZml4KTtcbiAgICBjaGVja1N0eWxpbmdQcm9wZXJ0eShwcm9wLCBpbnRlcnBvbGF0ZWRWYWx1ZSwgdmFsdWVTdWZmaXgsIGZhbHNlKTtcbiAgICByZXR1cm4gybXJtXN0eWxlUHJvcEludGVycG9sYXRlNztcbn1cbi8qKlxuICpcbiAqIFVwZGF0ZSBhbiBpbnRlcnBvbGF0ZWQgc3R5bGUgcHJvcGVydHkgb24gYW4gZWxlbWVudCB3aXRoIDggYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnkgdGV4dC5cbiAqXG4gKiBVc2VkIHdoZW4gdGhlIHZhbHVlIHBhc3NlZCB0byBhIHByb3BlcnR5IGhhcyA4IGludGVycG9sYXRlZCB2YWx1ZXMgaW4gaXQ6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBzdHlsZS5jb2xvcj1cInByZWZpeHt7djB9fS17e3YxfX0te3t2Mn19LXt7djN9fS17e3Y0fX0te3t2NX19LXt7djZ9fS17e3Y3fX1zdWZmaXhcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlUHJvcEludGVycG9sYXRlOCgwLCAncHJlZml4JywgdjAsICctJywgdjEsICctJywgdjIsICctJywgdjMsICctJywgdjQsICctJywgdjUsICctJywgdjYsXG4gKiAnLScsIHY3LCAnc3VmZml4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuXG4gKiBAcGFyYW0gcHJlZml4IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjAgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkwIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjEgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkxIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjIgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkyIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjMgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGkzIFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjQgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk0IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjUgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk1IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjYgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIGk2IFN0YXRpYyB2YWx1ZSB1c2VkIGZvciBjb25jYXRlbmF0aW9uIG9ubHkuXG4gKiBAcGFyYW0gdjcgVmFsdWUgY2hlY2tlZCBmb3IgY2hhbmdlLlxuICogQHBhcmFtIHN1ZmZpeCBTdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlOChwcm9wLCBwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2MiwgaTIsIHYzLCBpMywgdjQsIGk0LCB2NSwgaTUsIHY2LCBpNiwgdjcsIHN1ZmZpeCwgdmFsdWVTdWZmaXgpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBpbnRlcnBvbGF0aW9uOChsVmlldywgcHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpO1xuICAgIGNoZWNrU3R5bGluZ1Byb3BlcnR5KHByb3AsIGludGVycG9sYXRlZFZhbHVlLCB2YWx1ZVN1ZmZpeCwgZmFsc2UpO1xuICAgIHJldHVybiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU4O1xufVxuLyoqXG4gKiBVcGRhdGUgYW4gaW50ZXJwb2xhdGVkIHN0eWxlIHByb3BlcnR5IG9uIGFuIGVsZW1lbnQgd2l0aCA5IG9yIG1vcmUgYm91bmQgdmFsdWVzIHN1cnJvdW5kZWQgYnlcbiAqIHRleHQuXG4gKlxuICogVXNlZCB3aGVuIHRoZSBudW1iZXIgb2YgaW50ZXJwb2xhdGVkIHZhbHVlcyBleGNlZWRzIDguXG4gKlxuICogYGBgaHRtbFxuICogPGRpdlxuICogIHN0eWxlLmNvbG9yPVwicHJlZml4e3t2MH19LXt7djF9fS17e3YyfX0te3t2M319LXt7djR9fS17e3Y1fX0te3t2Nn19LXt7djd9fS17e3Y4fX0te3t2OX19c3VmZml4XCI+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEl0cyBjb21waWxlZCByZXByZXNlbnRhdGlvbiBpczpcbiAqXG4gKiBgYGB0c1xuICogybXJtXN0eWxlUHJvcEludGVycG9sYXRlVihcbiAqICAwLCBbJ3ByZWZpeCcsIHYwLCAnLScsIHYxLCAnLScsIHYyLCAnLScsIHYzLCAnLScsIHY0LCAnLScsIHY1LCAnLScsIHY2LCAnLScsIHY3LCAnLScsIHY5LFxuICogICdzdWZmaXgnXSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3R5bGVJbmRleCBJbmRleCBvZiBzdHlsZSB0byB1cGRhdGUuIFRoaXMgaW5kZXggdmFsdWUgcmVmZXJzIHRvIHRoZVxuICogICAgICAgIGluZGV4IG9mIHRoZSBzdHlsZSBpbiB0aGUgc3R5bGUgYmluZGluZ3MgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGludG9cbiAqICAgICAgICBgc3R5bGluZ2AuLlxuICogQHBhcmFtIHZhbHVlcyBUaGUgY29sbGVjdGlvbiBvZiB2YWx1ZXMgYW5kIHRoZSBzdHJpbmdzIGluLWJldHdlZW4gdGhvc2UgdmFsdWVzLCBiZWdpbm5pbmcgd2l0aFxuICogYSBzdHJpbmcgcHJlZml4IGFuZCBlbmRpbmcgd2l0aCBhIHN0cmluZyBzdWZmaXguXG4gKiAoZS5nLiBgWydwcmVmaXgnLCB2YWx1ZTAsICctJywgdmFsdWUxLCAnLScsIHZhbHVlMiwgLi4uLCB2YWx1ZTk5LCAnc3VmZml4J11gKVxuICogQHBhcmFtIHZhbHVlU3VmZml4IE9wdGlvbmFsIHN1ZmZpeC4gVXNlZCB3aXRoIHNjYWxhciB2YWx1ZXMgdG8gYWRkIHVuaXQgc3VjaCBhcyBgcHhgLlxuICogQHJldHVybnMgaXRzZWxmLCBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkLlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXN0eWxlUHJvcEludGVycG9sYXRlVihwcm9wLCB2YWx1ZXMsIHZhbHVlU3VmZml4KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gaW50ZXJwb2xhdGlvblYobFZpZXcsIHZhbHVlcyk7XG4gICAgY2hlY2tTdHlsaW5nUHJvcGVydHkocHJvcCwgaW50ZXJwb2xhdGVkVmFsdWUsIHZhbHVlU3VmZml4LCBmYWxzZSk7XG4gICAgcmV0dXJuIMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZVY7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBVcGRhdGUgYSBwcm9wZXJ0eSBvbiBhIGhvc3QgZWxlbWVudC4gT25seSBhcHBsaWVzIHRvIG5hdGl2ZSBub2RlIHByb3BlcnRpZXMsIG5vdCBpbnB1dHMuXG4gKlxuICogT3BlcmF0ZXMgb24gdGhlIGVsZW1lbnQgc2VsZWN0ZWQgYnkgaW5kZXggdmlhIHRoZSB7QGxpbmsgc2VsZWN0fSBpbnN0cnVjdGlvbi5cbiAqXG4gKiBAcGFyYW0gcHJvcE5hbWUgTmFtZSBvZiBwcm9wZXJ0eS4gQmVjYXVzZSBpdCBpcyBnb2luZyB0byBET00sIHRoaXMgaXMgbm90IHN1YmplY3QgdG9cbiAqICAgICAgICByZW5hbWluZyBhcyBwYXJ0IG9mIG1pbmlmaWNhdGlvbi5cbiAqIEBwYXJhbSB2YWx1ZSBOZXcgdmFsdWUgdG8gd3JpdGUuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIGZ1bmN0aW9uIHVzZWQgdG8gc2FuaXRpemUgdGhlIHZhbHVlLlxuICogQHJldHVybnMgVGhpcyBmdW5jdGlvbiByZXR1cm5zIGl0c2VsZiBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkXG4gKiAoZS5nLiBgcHJvcGVydHkoJ25hbWUnLCBjdHgubmFtZSkoJ3RpdGxlJywgY3R4LnRpdGxlKWApXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWhvc3RQcm9wZXJ0eShwcm9wTmFtZSwgdmFsdWUsIHNhbml0aXplcikge1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBuZXh0QmluZGluZ0luZGV4KCk7XG4gICAgaWYgKGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHZhbHVlKSkge1xuICAgICAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0U2VsZWN0ZWRUTm9kZSgpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgdmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVyLCB0cnVlKTtcbiAgICAgICAgbmdEZXZNb2RlICYmIHN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEodFZpZXcuZGF0YSwgdE5vZGUsIHByb3BOYW1lLCBiaW5kaW5nSW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gybXJtWhvc3RQcm9wZXJ0eTtcbn1cbi8qKlxuICogVXBkYXRlcyBhIHN5bnRoZXRpYyBob3N0IGJpbmRpbmcgKGUuZy4gYFtAZm9vXWApIG9uIGEgY29tcG9uZW50IG9yIGRpcmVjdGl2ZS5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGlzIGZvciBjb21wYXRpYmlsaXR5IHB1cnBvc2VzIGFuZCBpcyBkZXNpZ25lZCB0byBlbnN1cmUgdGhhdCBhXG4gKiBzeW50aGV0aWMgaG9zdCBiaW5kaW5nIChlLmcuIGBASG9zdEJpbmRpbmcoJ0Bmb28nKWApIHByb3Blcmx5IGdldHMgcmVuZGVyZWQgaW5cbiAqIHRoZSBjb21wb25lbnQncyByZW5kZXJlci4gTm9ybWFsbHkgYWxsIGhvc3QgYmluZGluZ3MgYXJlIGV2YWx1YXRlZCB3aXRoIHRoZSBwYXJlbnRcbiAqIGNvbXBvbmVudCdzIHJlbmRlcmVyLCBidXQsIGluIHRoZSBjYXNlIG9mIGFuaW1hdGlvbiBAdHJpZ2dlcnMsIHRoZXkgbmVlZCB0byBiZVxuICogZXZhbHVhdGVkIHdpdGggdGhlIHN1YiBjb21wb25lbnQncyByZW5kZXJlciAoYmVjYXVzZSB0aGF0J3Mgd2hlcmUgdGhlIGFuaW1hdGlvblxuICogdHJpZ2dlcnMgYXJlIGRlZmluZWQpLlxuICpcbiAqIERvIG5vdCB1c2UgdGhpcyBpbnN0cnVjdGlvbiBhcyBhIHJlcGxhY2VtZW50IGZvciBgZWxlbWVudFByb3BlcnR5YC4gVGhpcyBpbnN0cnVjdGlvblxuICogb25seSBleGlzdHMgdG8gZW5zdXJlIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgVmlld0VuZ2luZSdzIGhvc3QgYmluZGluZyBiZWhhdmlvci5cbiAqXG4gKiBAcGFyYW0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHVwZGF0ZSBpbiB0aGUgZGF0YSBhcnJheVxuICogQHBhcmFtIHByb3BOYW1lIE5hbWUgb2YgcHJvcGVydHkuIEJlY2F1c2UgaXQgaXMgZ29pbmcgdG8gRE9NLCB0aGlzIGlzIG5vdCBzdWJqZWN0IHRvXG4gKiAgICAgICAgcmVuYW1pbmcgYXMgcGFydCBvZiBtaW5pZmljYXRpb24uXG4gKiBAcGFyYW0gdmFsdWUgTmV3IHZhbHVlIHRvIHdyaXRlLlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBmdW5jdGlvbiB1c2VkIHRvIHNhbml0aXplIHRoZSB2YWx1ZS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1c3ludGhldGljSG9zdFByb3BlcnR5KHByb3BOYW1lLCB2YWx1ZSwgc2FuaXRpemVyKSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IG5leHRCaW5kaW5nSW5kZXgoKTtcbiAgICBpZiAoYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCwgdmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgdE5vZGUgPSBnZXRTZWxlY3RlZFROb2RlKCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnREZWYgPSBnZXRDdXJyZW50RGlyZWN0aXZlRGVmKHRWaWV3LmRhdGEpO1xuICAgICAgICBjb25zdCByZW5kZXJlciA9IGxvYWRDb21wb25lbnRSZW5kZXJlcihjdXJyZW50RGVmLCB0Tm9kZSwgbFZpZXcpO1xuICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGUsIGxWaWV3LCBwcm9wTmFtZSwgdmFsdWUsIHJlbmRlcmVyLCBzYW5pdGl6ZXIsIHRydWUpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgc3RvcmVQcm9wZXJ0eUJpbmRpbmdNZXRhZGF0YSh0Vmlldy5kYXRhLCB0Tm9kZSwgcHJvcE5hbWUsIGJpbmRpbmdJbmRleCk7XG4gICAgfVxuICAgIHJldHVybiDJtcm1c3ludGhldGljSG9zdFByb3BlcnR5O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogTk9URTogY2hhbmdlcyB0byB0aGUgYG5nSTE4bkNsb3N1cmVNb2RlYCBuYW1lIG11c3QgYmUgc3luY2VkIHdpdGggYGNvbXBpbGVyLWNsaS9zcmMvdG9vbGluZy50c2AuXG4gKi9cbmlmICh0eXBlb2YgbmdJMThuQ2xvc3VyZU1vZGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gVGhlc2UgcHJvcGVydHkgYWNjZXNzZXMgY2FuIGJlIGlnbm9yZWQgYmVjYXVzZSBuZ0kxOG5DbG9zdXJlTW9kZSB3aWxsIGJlIHNldCB0byBmYWxzZVxuICAgIC8vIHdoZW4gb3B0aW1pemluZyBjb2RlIGFuZCB0aGUgd2hvbGUgaWYgc3RhdGVtZW50IHdpbGwgYmUgZHJvcHBlZC5cbiAgICAvLyBNYWtlIHN1cmUgdG8gcmVmZXIgdG8gbmdJMThuQ2xvc3VyZU1vZGUgYXMgWyduZ0kxOG5DbG9zdXJlTW9kZSddIGZvciBjbG9zdXJlLlxuICAgIC8vIE5PVEU6IHdlIG5lZWQgdG8gaGF2ZSBpdCBpbiBJSUZFIHNvIHRoYXQgdGhlIHRyZWUtc2hha2VyIGlzIGhhcHB5LlxuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbiAgICAgICAgX2dsb2JhbFsnbmdJMThuQ2xvc3VyZU1vZGUnXSA9XG4gICAgICAgICAgICAvLyBUT0RPKEZXLTEyNTApOiB2YWxpZGF0ZSB0aGF0IHRoaXMgYWN0dWFsbHksIHlvdSBrbm93LCB3b3Jrcy5cbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbiAgICAgICAgICAgIHR5cGVvZiBnb29nICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZ29vZy5nZXRNc2cgPT09ICdmdW5jdGlvbic7XG4gICAgfSkoKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBUSElTIENPREUgSVMgR0VORVJBVEVEIC0gRE8gTk9UIE1PRElGWS5cbmNvbnN0IHUgPSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBwbHVyYWwodmFsKSB7XG4gICAgY29uc3QgbiA9IHZhbCwgaSA9IE1hdGguZmxvb3IoTWF0aC5hYnModmFsKSksIHYgPSB2YWwudG9TdHJpbmcoKS5yZXBsYWNlKC9eW14uXSpcXC4/LywgJycpLmxlbmd0aDtcbiAgICBpZiAoaSA9PT0gMSAmJiB2ID09PSAwKVxuICAgICAgICByZXR1cm4gMTtcbiAgICByZXR1cm4gNTtcbn1cbnZhciBsb2NhbGVFbiA9IFtcImVuXCIsIFtbXCJhXCIsIFwicFwiXSwgW1wiQU1cIiwgXCJQTVwiXSwgdV0sIFtbXCJBTVwiLCBcIlBNXCJdLCB1LCB1XSwgW1tcIlNcIiwgXCJNXCIsIFwiVFwiLCBcIldcIiwgXCJUXCIsIFwiRlwiLCBcIlNcIl0sIFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXSwgW1wiU3VuZGF5XCIsIFwiTW9uZGF5XCIsIFwiVHVlc2RheVwiLCBcIldlZG5lc2RheVwiLCBcIlRodXJzZGF5XCIsIFwiRnJpZGF5XCIsIFwiU2F0dXJkYXlcIl0sIFtcIlN1XCIsIFwiTW9cIiwgXCJUdVwiLCBcIldlXCIsIFwiVGhcIiwgXCJGclwiLCBcIlNhXCJdXSwgdSwgW1tcIkpcIiwgXCJGXCIsIFwiTVwiLCBcIkFcIiwgXCJNXCIsIFwiSlwiLCBcIkpcIiwgXCJBXCIsIFwiU1wiLCBcIk9cIiwgXCJOXCIsIFwiRFwiXSwgW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdLCBbXCJKYW51YXJ5XCIsIFwiRmVicnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIiwgXCJBdWd1c3RcIiwgXCJTZXB0ZW1iZXJcIiwgXCJPY3RvYmVyXCIsIFwiTm92ZW1iZXJcIiwgXCJEZWNlbWJlclwiXV0sIHUsIFtbXCJCXCIsIFwiQVwiXSwgW1wiQkNcIiwgXCJBRFwiXSwgW1wiQmVmb3JlIENocmlzdFwiLCBcIkFubm8gRG9taW5pXCJdXSwgMCwgWzYsIDBdLCBbXCJNL2QveXlcIiwgXCJNTU0gZCwgeVwiLCBcIk1NTU0gZCwgeVwiLCBcIkVFRUUsIE1NTU0gZCwgeVwiXSwgW1wiaDptbSBhXCIsIFwiaDptbTpzcyBhXCIsIFwiaDptbTpzcyBhIHpcIiwgXCJoOm1tOnNzIGEgenp6elwiXSwgW1wiezF9LCB7MH1cIiwgdSwgXCJ7MX0gJ2F0JyB7MH1cIiwgdV0sIFtcIi5cIiwgXCIsXCIsIFwiO1wiLCBcIiVcIiwgXCIrXCIsIFwiLVwiLCBcIkVcIiwgXCLDl1wiLCBcIuKAsFwiLCBcIuKInlwiLCBcIk5hTlwiLCBcIjpcIl0sIFtcIiMsIyMwLiMjI1wiLCBcIiMsIyMwJVwiLCBcIsKkIywjIzAuMDBcIiwgXCIjRTBcIl0sIFwiVVNEXCIsIFwiJFwiLCBcIlVTIERvbGxhclwiLCB7fSwgXCJsdHJcIiwgcGx1cmFsXTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoaXMgY29uc3QgaXMgdXNlZCB0byBzdG9yZSB0aGUgbG9jYWxlIGRhdGEgcmVnaXN0ZXJlZCB3aXRoIGByZWdpc3RlckxvY2FsZURhdGFgXG4gKi9cbmxldCBMT0NBTEVfREFUQSA9IHt9O1xuLyoqXG4gKiBSZWdpc3RlciBsb2NhbGUgZGF0YSB0byBiZSB1c2VkIGludGVybmFsbHkgYnkgQW5ndWxhci4gU2VlIHRoZVxuICogW1wiSTE4biBndWlkZVwiXShndWlkZS9pMThuLWNvbW1vbi1mb3JtYXQtZGF0YS1sb2NhbGUpIHRvIGtub3cgaG93IHRvIGltcG9ydCBhZGRpdGlvbmFsIGxvY2FsZVxuICogZGF0YS5cbiAqXG4gKiBUaGUgc2lnbmF0dXJlIGByZWdpc3RlckxvY2FsZURhdGEoZGF0YTogYW55LCBleHRyYURhdGE/OiBhbnkpYCBpcyBkZXByZWNhdGVkIHNpbmNlIHY1LjFcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJMb2NhbGVEYXRhKGRhdGEsIGxvY2FsZUlkLCBleHRyYURhdGEpIHtcbiAgICBpZiAodHlwZW9mIGxvY2FsZUlkICE9PSAnc3RyaW5nJykge1xuICAgICAgICBleHRyYURhdGEgPSBsb2NhbGVJZDtcbiAgICAgICAgbG9jYWxlSWQgPSBkYXRhW0xvY2FsZURhdGFJbmRleC5Mb2NhbGVJZF07XG4gICAgfVxuICAgIGxvY2FsZUlkID0gbG9jYWxlSWQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csICctJyk7XG4gICAgTE9DQUxFX0RBVEFbbG9jYWxlSWRdID0gZGF0YTtcbiAgICBpZiAoZXh0cmFEYXRhKSB7XG4gICAgICAgIExPQ0FMRV9EQVRBW2xvY2FsZUlkXVtMb2NhbGVEYXRhSW5kZXguRXh0cmFEYXRhXSA9IGV4dHJhRGF0YTtcbiAgICB9XG59XG4vKipcbiAqIEZpbmRzIHRoZSBsb2NhbGUgZGF0YSBmb3IgYSBnaXZlbiBsb2NhbGUuXG4gKlxuICogQHBhcmFtIGxvY2FsZSBUaGUgbG9jYWxlIGNvZGUuXG4gKiBAcmV0dXJucyBUaGUgbG9jYWxlIGRhdGEuXG4gKiBAc2VlIFtJbnRlcm5hdGlvbmFsaXphdGlvbiAoaTE4bikgR3VpZGVdKGh0dHBzOi8vYW5ndWxhci5pby9ndWlkZS9pMThuLW92ZXJ2aWV3KVxuICovXG5mdW5jdGlvbiBmaW5kTG9jYWxlRGF0YShsb2NhbGUpIHtcbiAgICBjb25zdCBub3JtYWxpemVkTG9jYWxlID0gbm9ybWFsaXplTG9jYWxlKGxvY2FsZSk7XG4gICAgbGV0IG1hdGNoID0gZ2V0TG9jYWxlRGF0YShub3JtYWxpemVkTG9jYWxlKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH1cbiAgICAvLyBsZXQncyB0cnkgdG8gZmluZCBhIHBhcmVudCBsb2NhbGVcbiAgICBjb25zdCBwYXJlbnRMb2NhbGUgPSBub3JtYWxpemVkTG9jYWxlLnNwbGl0KCctJylbMF07XG4gICAgbWF0Y2ggPSBnZXRMb2NhbGVEYXRhKHBhcmVudExvY2FsZSk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9XG4gICAgaWYgKHBhcmVudExvY2FsZSA9PT0gJ2VuJykge1xuICAgICAgICByZXR1cm4gbG9jYWxlRW47XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBsb2NhbGUgZGF0YSBmb3IgdGhlIGxvY2FsZSBcIiR7bG9jYWxlfVwiLmApO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGRlZmF1bHQgY3VycmVuY3kgY29kZSBmb3IgdGhlIGdpdmVuIGxvY2FsZS5cbiAqXG4gKiBUaGUgZGVmYXVsdCBpcyBkZWZpbmVkIGFzIHRoZSBmaXJzdCBjdXJyZW5jeSB3aGljaCBpcyBzdGlsbCBpbiB1c2UuXG4gKlxuICogQHBhcmFtIGxvY2FsZSBUaGUgY29kZSBvZiB0aGUgbG9jYWxlIHdob3NlIGN1cnJlbmN5IGNvZGUgd2Ugd2FudC5cbiAqIEByZXR1cm5zIFRoZSBjb2RlIG9mIHRoZSBkZWZhdWx0IGN1cnJlbmN5IGZvciB0aGUgZ2l2ZW4gbG9jYWxlLlxuICpcbiAqL1xuZnVuY3Rpb24gZ2V0TG9jYWxlQ3VycmVuY3lDb2RlKGxvY2FsZSkge1xuICAgIGNvbnN0IGRhdGEgPSBmaW5kTG9jYWxlRGF0YShsb2NhbGUpO1xuICAgIHJldHVybiBkYXRhW0xvY2FsZURhdGFJbmRleC5DdXJyZW5jeUNvZGVdIHx8IG51bGw7XG59XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgcGx1cmFsIGZ1bmN0aW9uIHVzZWQgYnkgSUNVIGV4cHJlc3Npb25zIHRvIGRldGVybWluZSB0aGUgcGx1cmFsIGNhc2UgdG8gdXNlXG4gKiBmb3IgYSBnaXZlbiBsb2NhbGUuXG4gKiBAcGFyYW0gbG9jYWxlIEEgbG9jYWxlIGNvZGUgZm9yIHRoZSBsb2NhbGUgZm9ybWF0IHJ1bGVzIHRvIHVzZS5cbiAqIEByZXR1cm5zIFRoZSBwbHVyYWwgZnVuY3Rpb24gZm9yIHRoZSBsb2NhbGUuXG4gKiBAc2VlIGBOZ1BsdXJhbGBcbiAqIEBzZWUgW0ludGVybmF0aW9uYWxpemF0aW9uIChpMThuKSBHdWlkZV0oaHR0cHM6Ly9hbmd1bGFyLmlvL2d1aWRlL2kxOG4tb3ZlcnZpZXcpXG4gKi9cbmZ1bmN0aW9uIGdldExvY2FsZVBsdXJhbENhc2UobG9jYWxlKSB7XG4gICAgY29uc3QgZGF0YSA9IGZpbmRMb2NhbGVEYXRhKGxvY2FsZSk7XG4gICAgcmV0dXJuIGRhdGFbTG9jYWxlRGF0YUluZGV4LlBsdXJhbENhc2VdO1xufVxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IHRoZSBnaXZlbiBgbm9ybWFsaXplZExvY2FsZWAgZnJvbSBgTE9DQUxFX0RBVEFgXG4gKiBvciBmcm9tIHRoZSBnbG9iYWwgYG5nLmNvbW1vbi5sb2NhbGVgLlxuICovXG5mdW5jdGlvbiBnZXRMb2NhbGVEYXRhKG5vcm1hbGl6ZWRMb2NhbGUpIHtcbiAgICBpZiAoIShub3JtYWxpemVkTG9jYWxlIGluIExPQ0FMRV9EQVRBKSkge1xuICAgICAgICBMT0NBTEVfREFUQVtub3JtYWxpemVkTG9jYWxlXSA9IF9nbG9iYWwubmcgJiYgX2dsb2JhbC5uZy5jb21tb24gJiYgX2dsb2JhbC5uZy5jb21tb24ubG9jYWxlcyAmJlxuICAgICAgICAgICAgX2dsb2JhbC5uZy5jb21tb24ubG9jYWxlc1tub3JtYWxpemVkTG9jYWxlXTtcbiAgICB9XG4gICAgcmV0dXJuIExPQ0FMRV9EQVRBW25vcm1hbGl6ZWRMb2NhbGVdO1xufVxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gcmVtb3ZlIGFsbCB0aGUgbG9jYWxlIGRhdGEgZnJvbSBgTE9DQUxFX0RBVEFgLlxuICovXG5mdW5jdGlvbiB1bnJlZ2lzdGVyQWxsTG9jYWxlRGF0YSgpIHtcbiAgICBMT0NBTEVfREFUQSA9IHt9O1xufVxuLyoqXG4gKiBJbmRleCBvZiBlYWNoIHR5cGUgb2YgbG9jYWxlIGRhdGEgZnJvbSB0aGUgbG9jYWxlIGRhdGEgYXJyYXlcbiAqL1xudmFyIExvY2FsZURhdGFJbmRleDtcbihmdW5jdGlvbiAoTG9jYWxlRGF0YUluZGV4KSB7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkxvY2FsZUlkXCJdID0gMF0gPSBcIkxvY2FsZUlkXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkRheVBlcmlvZHNGb3JtYXRcIl0gPSAxXSA9IFwiRGF5UGVyaW9kc0Zvcm1hdFwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJEYXlQZXJpb2RzU3RhbmRhbG9uZVwiXSA9IDJdID0gXCJEYXlQZXJpb2RzU3RhbmRhbG9uZVwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJEYXlzRm9ybWF0XCJdID0gM10gPSBcIkRheXNGb3JtYXRcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiRGF5c1N0YW5kYWxvbmVcIl0gPSA0XSA9IFwiRGF5c1N0YW5kYWxvbmVcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiTW9udGhzRm9ybWF0XCJdID0gNV0gPSBcIk1vbnRoc0Zvcm1hdFwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJNb250aHNTdGFuZGFsb25lXCJdID0gNl0gPSBcIk1vbnRoc1N0YW5kYWxvbmVcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiRXJhc1wiXSA9IDddID0gXCJFcmFzXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkZpcnN0RGF5T2ZXZWVrXCJdID0gOF0gPSBcIkZpcnN0RGF5T2ZXZWVrXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIldlZWtlbmRSYW5nZVwiXSA9IDldID0gXCJXZWVrZW5kUmFuZ2VcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiRGF0ZUZvcm1hdFwiXSA9IDEwXSA9IFwiRGF0ZUZvcm1hdFwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJUaW1lRm9ybWF0XCJdID0gMTFdID0gXCJUaW1lRm9ybWF0XCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkRhdGVUaW1lRm9ybWF0XCJdID0gMTJdID0gXCJEYXRlVGltZUZvcm1hdFwiO1xuICAgIExvY2FsZURhdGFJbmRleFtMb2NhbGVEYXRhSW5kZXhbXCJOdW1iZXJTeW1ib2xzXCJdID0gMTNdID0gXCJOdW1iZXJTeW1ib2xzXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIk51bWJlckZvcm1hdHNcIl0gPSAxNF0gPSBcIk51bWJlckZvcm1hdHNcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiQ3VycmVuY3lDb2RlXCJdID0gMTVdID0gXCJDdXJyZW5jeUNvZGVcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiQ3VycmVuY3lTeW1ib2xcIl0gPSAxNl0gPSBcIkN1cnJlbmN5U3ltYm9sXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkN1cnJlbmN5TmFtZVwiXSA9IDE3XSA9IFwiQ3VycmVuY3lOYW1lXCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIkN1cnJlbmNpZXNcIl0gPSAxOF0gPSBcIkN1cnJlbmNpZXNcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiRGlyZWN0aW9uYWxpdHlcIl0gPSAxOV0gPSBcIkRpcmVjdGlvbmFsaXR5XCI7XG4gICAgTG9jYWxlRGF0YUluZGV4W0xvY2FsZURhdGFJbmRleFtcIlBsdXJhbENhc2VcIl0gPSAyMF0gPSBcIlBsdXJhbENhc2VcIjtcbiAgICBMb2NhbGVEYXRhSW5kZXhbTG9jYWxlRGF0YUluZGV4W1wiRXh0cmFEYXRhXCJdID0gMjFdID0gXCJFeHRyYURhdGFcIjtcbn0pKExvY2FsZURhdGFJbmRleCB8fCAoTG9jYWxlRGF0YUluZGV4ID0ge30pKTtcbi8qKlxuICogUmV0dXJucyB0aGUgY2Fub25pY2FsIGZvcm0gb2YgYSBsb2NhbGUgbmFtZSAtIGxvd2VyY2FzZSB3aXRoIGBfYCByZXBsYWNlZCB3aXRoIGAtYC5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxlKGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csICctJyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgcGx1cmFsTWFwcGluZyA9IFsnemVybycsICdvbmUnLCAndHdvJywgJ2ZldycsICdtYW55J107XG4vKipcbiAqIFJldHVybnMgdGhlIHBsdXJhbCBjYXNlIGJhc2VkIG9uIHRoZSBsb2NhbGVcbiAqL1xuZnVuY3Rpb24gZ2V0UGx1cmFsQ2FzZSh2YWx1ZSwgbG9jYWxlKSB7XG4gICAgY29uc3QgcGx1cmFsID0gZ2V0TG9jYWxlUGx1cmFsQ2FzZShsb2NhbGUpKHBhcnNlSW50KHZhbHVlLCAxMCkpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHBsdXJhbE1hcHBpbmdbcGx1cmFsXTtcbiAgICByZXR1cm4gKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSA/IHJlc3VsdCA6ICdvdGhlcic7XG59XG4vKipcbiAqIFRoZSBsb2NhbGUgaWQgdGhhdCB0aGUgYXBwbGljYXRpb24gaXMgdXNpbmcgYnkgZGVmYXVsdCAoZm9yIHRyYW5zbGF0aW9ucyBhbmQgSUNVIGV4cHJlc3Npb25zKS5cbiAqL1xuY29uc3QgREVGQVVMVF9MT0NBTEVfSUQgPSAnZW4tVVMnO1xuLyoqXG4gKiBVU0QgY3VycmVuY3kgY29kZSB0aGF0IHRoZSBhcHBsaWNhdGlvbiB1c2VzIGJ5IGRlZmF1bHQgZm9yIEN1cnJlbmN5UGlwZSB3aGVuIG5vXG4gKiBERUZBVUxUX0NVUlJFTkNZX0NPREUgaXMgcHJvdmlkZWQuXG4gKi9cbmNvbnN0IFVTRF9DVVJSRU5DWV9DT0RFID0gJ1VTRCc7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBNYXJrcyB0aGF0IHRoZSBuZXh0IHN0cmluZyBpcyBhbiBlbGVtZW50IG5hbWUuXG4gKlxuICogU2VlIGBJMThuTXV0YXRlT3BDb2Rlc2AgZG9jdW1lbnRhdGlvbi5cbiAqL1xuY29uc3QgRUxFTUVOVF9NQVJLRVIgPSB7XG4gICAgbWFya2VyOiAnZWxlbWVudCdcbn07XG4vKipcbiAqIE1hcmtzIHRoYXQgdGhlIG5leHQgc3RyaW5nIGlzIGNvbW1lbnQgdGV4dCBuZWVkIGZvciBJQ1UuXG4gKlxuICogU2VlIGBJMThuTXV0YXRlT3BDb2Rlc2AgZG9jdW1lbnRhdGlvbi5cbiAqL1xuY29uc3QgSUNVX01BUktFUiA9IHtcbiAgICBtYXJrZXI6ICdJQ1UnXG59O1xuLyoqXG4gKiBTZWUgYEkxOG5DcmVhdGVPcENvZGVzYFxuICovXG52YXIgSTE4bkNyZWF0ZU9wQ29kZTtcbihmdW5jdGlvbiAoSTE4bkNyZWF0ZU9wQ29kZSkge1xuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBiaXRzIHRvIHNoaWZ0IGluZGV4IHNvIHRoYXQgaXQgY2FuIGJlIGNvbWJpbmVkIHdpdGggdGhlIGBBUFBFTkRfRUFHRVJMWWAgYW5kXG4gICAgICogYENPTU1FTlRgLlxuICAgICAqL1xuICAgIEkxOG5DcmVhdGVPcENvZGVbSTE4bkNyZWF0ZU9wQ29kZVtcIlNISUZUXCJdID0gMl0gPSBcIlNISUZUXCI7XG4gICAgLyoqXG4gICAgICogU2hvdWxkIHRoZSBub2RlIGJlIGFwcGVuZGVkIHRvIHBhcmVudCBpbWVkZGl0YXRseSBhZnRlciBjcmVhdGlvbi5cbiAgICAgKi9cbiAgICBJMThuQ3JlYXRlT3BDb2RlW0kxOG5DcmVhdGVPcENvZGVbXCJBUFBFTkRfRUFHRVJMWVwiXSA9IDFdID0gXCJBUFBFTkRfRUFHRVJMWVwiO1xuICAgIC8qKlxuICAgICAqIElmIHNldCB0aGUgbm9kZSBzaG91bGQgYmUgY29tbWVudCAocmF0aGVyIHRoYW4gYSB0ZXh0KSBub2RlLlxuICAgICAqL1xuICAgIEkxOG5DcmVhdGVPcENvZGVbSTE4bkNyZWF0ZU9wQ29kZVtcIkNPTU1FTlRcIl0gPSAyXSA9IFwiQ09NTUVOVFwiO1xufSkoSTE4bkNyZWF0ZU9wQ29kZSB8fCAoSTE4bkNyZWF0ZU9wQ29kZSA9IHt9KSk7XG4vLyBOb3RlOiBUaGlzIGhhY2sgaXMgbmVjZXNzYXJ5IHNvIHdlIGRvbid0IGVycm9uZW91c2x5IGdldCBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbi8vIGZhaWx1cmUgYmFzZWQgb24gdHlwZXMuXG5jb25zdCB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQyID0gMTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSBsb2NhbGUgaWQgdGhhdCB0aGUgYXBwbGljYXRpb24gaXMgY3VycmVudGx5IHVzaW5nIChmb3IgdHJhbnNsYXRpb25zIGFuZCBJQ1UgZXhwcmVzc2lvbnMpLlxuICogVGhpcyBpcyB0aGUgaXZ5IHZlcnNpb24gb2YgYExPQ0FMRV9JRGAgdGhhdCB3YXMgZGVmaW5lZCBhcyBhbiBpbmplY3Rpb24gdG9rZW4gZm9yIHRoZSB2aWV3IGVuZ2luZVxuICogYnV0IGlzIG5vdyBkZWZpbmVkIGFzIGEgZ2xvYmFsIHZhbHVlLlxuICovXG5sZXQgTE9DQUxFX0lEJDEgPSBERUZBVUxUX0xPQ0FMRV9JRDtcbi8qKlxuICogU2V0cyB0aGUgbG9jYWxlIGlkIHRoYXQgd2lsbCBiZSB1c2VkIGZvciB0cmFuc2xhdGlvbnMgYW5kIElDVSBleHByZXNzaW9ucy5cbiAqIFRoaXMgaXMgdGhlIGl2eSB2ZXJzaW9uIG9mIGBMT0NBTEVfSURgIHRoYXQgd2FzIGRlZmluZWQgYXMgYW4gaW5qZWN0aW9uIHRva2VuIGZvciB0aGUgdmlldyBlbmdpbmVcbiAqIGJ1dCBpcyBub3cgZGVmaW5lZCBhcyBhIGdsb2JhbCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gbG9jYWxlSWRcbiAqL1xuZnVuY3Rpb24gc2V0TG9jYWxlSWQobG9jYWxlSWQpIHtcbiAgICBhc3NlcnREZWZpbmVkKGxvY2FsZUlkLCBgRXhwZWN0ZWQgbG9jYWxlSWQgdG8gYmUgZGVmaW5lZGApO1xuICAgIGlmICh0eXBlb2YgbG9jYWxlSWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIExPQ0FMRV9JRCQxID0gbG9jYWxlSWQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csICctJyk7XG4gICAgfVxufVxuLyoqXG4gKiBHZXRzIHRoZSBsb2NhbGUgaWQgdGhhdCB3aWxsIGJlIHVzZWQgZm9yIHRyYW5zbGF0aW9ucyBhbmQgSUNVIGV4cHJlc3Npb25zLlxuICogVGhpcyBpcyB0aGUgaXZ5IHZlcnNpb24gb2YgYExPQ0FMRV9JRGAgdGhhdCB3YXMgZGVmaW5lZCBhcyBhbiBpbmplY3Rpb24gdG9rZW4gZm9yIHRoZSB2aWV3IGVuZ2luZVxuICogYnV0IGlzIG5vdyBkZWZpbmVkIGFzIGEgZ2xvYmFsIHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRMb2NhbGVJZCgpIHtcbiAgICByZXR1cm4gTE9DQUxFX0lEJDE7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBGaW5kIGEgbm9kZSBpbiBmcm9udCBvZiB3aGljaCBgY3VycmVudFROb2RlYCBzaG91bGQgYmUgaW5zZXJ0ZWQgKHRha2VzIGkxOG4gaW50byBhY2NvdW50KS5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkZXRlcm1pbmVzIHRoZSBgUk5vZGVgIGluIGZyb250IG9mIHdoaWNoIHdlIHNob3VsZCBpbnNlcnQgdGhlIGBjdXJyZW50Uk5vZGVgLiBUaGlzXG4gKiB0YWtlcyBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgIGludG8gYWNjb3VudC5cbiAqXG4gKiBAcGFyYW0gcGFyZW50VE5vZGUgcGFyZW50IGBUTm9kZWBcbiAqIEBwYXJhbSBjdXJyZW50VE5vZGUgY3VycmVudCBgVE5vZGVgIChUaGUgbm9kZSB3aGljaCB3ZSB3b3VsZCBsaWtlIHRvIGluc2VydCBpbnRvIHRoZSBET00pXG4gKiBAcGFyYW0gbFZpZXcgY3VycmVudCBgTFZpZXdgXG4gKi9cbmZ1bmN0aW9uIGdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG4ocGFyZW50VE5vZGUsIGN1cnJlbnRUTm9kZSwgbFZpZXcpIHtcbiAgICBjb25zdCB0Tm9kZUluc2VydEJlZm9yZUluZGV4ID0gY3VycmVudFROb2RlLmluc2VydEJlZm9yZUluZGV4O1xuICAgIGNvbnN0IGluc2VydEJlZm9yZUluZGV4ID0gQXJyYXkuaXNBcnJheSh0Tm9kZUluc2VydEJlZm9yZUluZGV4KSA/IHROb2RlSW5zZXJ0QmVmb3JlSW5kZXhbMF0gOiB0Tm9kZUluc2VydEJlZm9yZUluZGV4O1xuICAgIGlmIChpbnNlcnRCZWZvcmVJbmRleCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoTm9JMThuKHBhcmVudFROb2RlLCBjdXJyZW50VE5vZGUsIGxWaWV3KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIGluc2VydEJlZm9yZUluZGV4KTtcbiAgICAgICAgcmV0dXJuIHVud3JhcFJOb2RlKGxWaWV3W2luc2VydEJlZm9yZUluZGV4XSk7XG4gICAgfVxufVxuLyoqXG4gKiBQcm9jZXNzIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGAgYnkgYWRkaW5nIGkxOG4gdGV4dCBub2Rlcy5cbiAqXG4gKiBTZWUgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YFxuICovXG5mdW5jdGlvbiBwcm9jZXNzSTE4bkluc2VydEJlZm9yZShyZW5kZXJlciwgY2hpbGRUTm9kZSwgbFZpZXcsIGNoaWxkUk5vZGUsIHBhcmVudFJFbGVtZW50KSB7XG4gICAgY29uc3QgdE5vZGVJbnNlcnRCZWZvcmVJbmRleCA9IGNoaWxkVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXg7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodE5vZGVJbnNlcnRCZWZvcmVJbmRleCkpIHtcbiAgICAgICAgLy8gQW4gYXJyYXkgaW5kaWNhdGVzIHRoYXQgdGhlcmUgYXJlIGkxOG4gbm9kZXMgdGhhdCBuZWVkIHRvIGJlIGFkZGVkIGFzIGNoaWxkcmVuIG9mIHRoaXNcbiAgICAgICAgLy8gYGNoaWxkUk5vZGVgLiBUaGVzZSBpMThuIG5vZGVzIHdlcmUgY3JlYXRlZCBiZWZvcmUgdGhpcyBgY2hpbGRSTm9kZWAgd2FzIGF2YWlsYWJsZSBhbmQgc29cbiAgICAgICAgLy8gb25seSBub3cgY2FuIGJlIGFkZGVkLiBUaGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgYXJyYXkgaXMgdGhlIG5vcm1hbCBpbmRleCB3aGVyZSB3ZSBzaG91bGRcbiAgICAgICAgLy8gaW5zZXJ0IHRoZSBgY2hpbGRSTm9kZWAuIEFkZGl0aW9uYWwgZWxlbWVudHMgYXJlIHRoZSBleHRyYSBub2RlcyB0byBiZSBhZGRlZCBhcyBjaGlsZHJlbiBvZlxuICAgICAgICAvLyBgY2hpbGRSTm9kZWAuXG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREb21Ob2RlKGNoaWxkUk5vZGUpO1xuICAgICAgICBsZXQgaTE4blBhcmVudCA9IGNoaWxkUk5vZGU7XG4gICAgICAgIGxldCBhbmNob3JSTm9kZSA9IG51bGw7XG4gICAgICAgIGlmICghKGNoaWxkVE5vZGUudHlwZSAmIDMgLyogQW55Uk5vZGUgKi8pKSB7XG4gICAgICAgICAgICBhbmNob3JSTm9kZSA9IGkxOG5QYXJlbnQ7XG4gICAgICAgICAgICBpMThuUGFyZW50ID0gcGFyZW50UkVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkxOG5QYXJlbnQgIT09IG51bGwgJiYgKGNoaWxkVE5vZGUuZmxhZ3MgJiAyIC8qIGlzQ29tcG9uZW50SG9zdCAqLykgPT09IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdE5vZGVJbnNlcnRCZWZvcmVJbmRleC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gYHVud3JhcFJOb2RlYCBiZWNhdXNlIGFsbCBvZiB0aGUgaW5kZXhlcyBwb2ludCB0byBpMThuIHRleHQgbm9kZXMuXG4gICAgICAgICAgICAgICAgLy8gc2VlIGBhc3NlcnREb21Ob2RlYCBiZWxvdy5cbiAgICAgICAgICAgICAgICBjb25zdCBpMThuQ2hpbGQgPSBsVmlld1t0Tm9kZUluc2VydEJlZm9yZUluZGV4W2ldXTtcbiAgICAgICAgICAgICAgICBuYXRpdmVJbnNlcnRCZWZvcmUocmVuZGVyZXIsIGkxOG5QYXJlbnQsIGkxOG5DaGlsZCwgYW5jaG9yUk5vZGUsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFkZCBgdE5vZGVgIHRvIGBwcmV2aW91c1ROb2Rlc2AgbGlzdCBhbmQgdXBkYXRlIHJlbGV2YW50IGBUTm9kZWBzIGluIGBwcmV2aW91c1ROb2Rlc2AgbGlzdFxuICogYHROb2RlLmluc2VydEJlZm9yZUluZGV4YC5cbiAqXG4gKiBUaGluZ3MgdG8ga2VlcCBpbiBtaW5kOlxuICogMS4gQWxsIGkxOG4gdGV4dCBub2RlcyBhcmUgZW5jb2RlZCBhcyBgVE5vZGVUeXBlLkVsZW1lbnRgIGFuZCBhcmUgY3JlYXRlZCBlYWdlcmx5IGJ5IHRoZVxuICogICAgYMm1ybVpMThuU3RhcnRgIGluc3RydWN0aW9uLlxuICogMi4gQWxsIGBUTm9kZVR5cGUuUGxhY2Vob2xkZXJgIGBUTm9kZXNgIGFyZSBlbGVtZW50cyB3aGljaCB3aWxsIGJlIGNyZWF0ZWQgbGF0ZXIgYnlcbiAqICAgIGDJtcm1ZWxlbWVudFN0YXJ0YCBpbnN0cnVjdGlvbi5cbiAqIDMuIGDJtcm1ZWxlbWVudFN0YXJ0YCBpbnN0cnVjdGlvbiB3aWxsIGNyZWF0ZSBgVE5vZGVgcyBpbiB0aGUgYXNjZW5kaW5nIGBUTm9kZS5pbmRleGAgb3JkZXIuIChTbyBhXG4gKiAgICBzbWFsbGVyIGluZGV4IGBUTm9kZWAgaXMgZ3VhcmFudGVlZCB0byBiZSBjcmVhdGVkIGJlZm9yZSBhIGxhcmdlciBvbmUpXG4gKlxuICogV2UgdXNlIHRoZSBhYm92ZSB0aHJlZSBpbnZhcmlhbnRzIHRvIGRldGVybWluZSBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgLlxuICpcbiAqIEluIGFuIGlkZWFsIHdvcmxkIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGAgd291bGQgYWx3YXlzIGJlIGBUTm9kZS5uZXh0LmluZGV4YC4gSG93ZXZlcixcbiAqIHRoaXMgd2lsbCBub3Qgd29yayBiZWNhdXNlIGBUTm9kZS5uZXh0LmluZGV4YCBtYXkgYmUgbGFyZ2VyIHRoYW4gYFROb2RlLmluZGV4YCB3aGljaCBtZWFucyB0aGF0XG4gKiB0aGUgbmV4dCBub2RlIGlzIG5vdCB5ZXQgY3JlYXRlZCBhbmQgdGhlcmVmb3JlIHdlIGNhbid0IGluc2VydCBpbiBmcm9udCBvZiBpdC5cbiAqXG4gKiBSdWxlMTogYFROb2RlLmluc2VydEJlZm9yZUluZGV4ID0gbnVsbGAgaWYgYFROb2RlLm5leHQgPT09IG51bGxgIChJbml0aWFsIGNvbmRpdGlvbiwgYXMgd2UgZG9uJ3RcbiAqICAgICAgICBrbm93IGlmIHRoZXJlIHdpbGwgYmUgZnVydGhlciBgVE5vZGVgcyBpbnNlcnRlZCBhZnRlci4pXG4gKiBSdWxlMjogSWYgYHByZXZpb3VzVE5vZGVgIGlzIGNyZWF0ZWQgYWZ0ZXIgdGhlIGB0Tm9kZWAgYmVpbmcgaW5zZXJ0ZWQsIHRoZW5cbiAqICAgICAgICBgcHJldmlvdXNUTm9kZS5pbnNlcnRCZWZvcmVOb2RlID0gdE5vZGUuaW5kZXhgIChTbyB3aGVuIGEgbmV3IGB0Tm9kZWAgaXMgYWRkZWQgd2UgY2hlY2tcbiAqICAgICAgICBwcmV2aW91cyB0byBzZWUgaWYgd2UgY2FuIHVwZGF0ZSBpdHMgYGluc2VydEJlZm9yZVROb2RlYClcbiAqXG4gKiBTZWUgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YCBmb3IgbW9yZSBjb250ZXh0LlxuICpcbiAqIEBwYXJhbSBwcmV2aW91c1ROb2RlcyBBIGxpc3Qgb2YgcHJldmlvdXMgVE5vZGVzIHNvIHRoYXQgd2UgY2FuIGVhc2lseSB0cmF2ZXJzZSBgVE5vZGVgcyBpblxuICogICAgIHJldmVyc2Ugb3JkZXIuIChJZiBgVE5vZGVgIHdvdWxkIGhhdmUgYHByZXZpb3VzYCB0aGlzIHdvdWxkIG5vdCBiZSBuZWNlc3NhcnkuKVxuICogQHBhcmFtIG5ld1ROb2RlIEEgVE5vZGUgdG8gYWRkIHRvIHRoZSBgcHJldmlvdXNUTm9kZXNgIGxpc3QuXG4gKi9cbmZ1bmN0aW9uIGFkZFROb2RlQW5kVXBkYXRlSW5zZXJ0QmVmb3JlSW5kZXgocHJldmlvdXNUTm9kZXMsIG5ld1ROb2RlKSB7XG4gICAgLy8gU3RhcnQgd2l0aCBSdWxlMVxuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChuZXdUTm9kZS5pbnNlcnRCZWZvcmVJbmRleCwgbnVsbCwgJ1dlIGV4cGVjdCB0aGF0IGluc2VydEJlZm9yZUluZGV4IGlzIG5vdCBzZXQnKTtcbiAgICBwcmV2aW91c1ROb2Rlcy5wdXNoKG5ld1ROb2RlKTtcbiAgICBpZiAocHJldmlvdXNUTm9kZXMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKGxldCBpID0gcHJldmlvdXNUTm9kZXMubGVuZ3RoIC0gMjsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nVE5vZGUgPSBwcmV2aW91c1ROb2Rlc1tpXTtcbiAgICAgICAgICAgIC8vIFRleHQgbm9kZXMgYXJlIGNyZWF0ZWQgZWFnZXJseSBhbmQgc28gdGhleSBkb24ndCBuZWVkIHRoZWlyIGBpbmRleEJlZm9yZUluZGV4YCB1cGRhdGVkLlxuICAgICAgICAgICAgLy8gSXQgaXMgc2FmZSB0byBpZ25vcmUgdGhlbS5cbiAgICAgICAgICAgIGlmICghaXNJMThuVGV4dChleGlzdGluZ1ROb2RlKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc05ld1ROb2RlQ3JlYXRlZEJlZm9yZShleGlzdGluZ1ROb2RlLCBuZXdUTm9kZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgZ2V0SW5zZXJ0QmVmb3JlSW5kZXgoZXhpc3RpbmdUTm9kZSkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgaXQgd2FzIGNyZWF0ZWQgYmVmb3JlIHVzIGluIHRpbWUsIChhbmQgaXQgZG9lcyBub3QgeWV0IGhhdmUgYGluc2VydEJlZm9yZUluZGV4YClcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlbiBhZGQgdGhlIGBpbnNlcnRCZWZvcmVJbmRleGAuXG4gICAgICAgICAgICAgICAgICAgIHNldEluc2VydEJlZm9yZUluZGV4KGV4aXN0aW5nVE5vZGUsIG5ld1ROb2RlLmluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpc0kxOG5UZXh0KHROb2RlKSB7XG4gICAgcmV0dXJuICEodE5vZGUudHlwZSAmIDY0IC8qIFBsYWNlaG9sZGVyICovKTtcbn1cbmZ1bmN0aW9uIGlzTmV3VE5vZGVDcmVhdGVkQmVmb3JlKGV4aXN0aW5nVE5vZGUsIG5ld1ROb2RlKSB7XG4gICAgcmV0dXJuIGlzSTE4blRleHQobmV3VE5vZGUpIHx8IGV4aXN0aW5nVE5vZGUuaW5kZXggPiBuZXdUTm9kZS5pbmRleDtcbn1cbmZ1bmN0aW9uIGdldEluc2VydEJlZm9yZUluZGV4KHROb2RlKSB7XG4gICAgY29uc3QgaW5kZXggPSB0Tm9kZS5pbnNlcnRCZWZvcmVJbmRleDtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShpbmRleCkgPyBpbmRleFswXSA6IGluZGV4O1xufVxuZnVuY3Rpb24gc2V0SW5zZXJ0QmVmb3JlSW5kZXgodE5vZGUsIHZhbHVlKSB7XG4gICAgY29uc3QgaW5kZXggPSB0Tm9kZS5pbnNlcnRCZWZvcmVJbmRleDtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShpbmRleCkpIHtcbiAgICAgICAgLy8gQXJyYXkgaXMgc3RvcmVkIGlmIHdlIGhhdmUgdG8gaW5zZXJ0IGNoaWxkIG5vZGVzLiBTZWUgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YFxuICAgICAgICBpbmRleFswXSA9IHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2V0STE4bkhhbmRsaW5nKGdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG4sIHByb2Nlc3NJMThuSW5zZXJ0QmVmb3JlKTtcbiAgICAgICAgdE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXggPSB2YWx1ZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXRyaWV2ZSBgVEljdWAgYXQgYSBnaXZlbiBgaW5kZXhgLlxuICpcbiAqIFRoZSBgVEljdWAgY2FuIGJlIHN0b3JlZCBlaXRoZXIgZGlyZWN0bHkgKGlmIGl0IGlzIG5lc3RlZCBJQ1UpIE9SXG4gKiBpdCBpcyBzdG9yZWQgaW5zaWRlIHRobyBgVEljdUNvbnRhaW5lcmAgaWYgaXQgaXMgdG9wIGxldmVsIElDVS5cbiAqXG4gKiBUaGUgcmVhc29uIGZvciB0aGlzIGlzIHRoYXQgdGhlIHRvcCBsZXZlbCBJQ1UgbmVlZCBhIGBUTm9kZWAgc28gdGhhdCB0aGV5IGFyZSBwYXJ0IG9mIHRoZSByZW5kZXJcbiAqIHRyZWUsIGJ1dCBuZXN0ZWQgSUNVJ3MgaGF2ZSBubyBUTm9kZSwgYmVjYXVzZSB3ZSBkb24ndCBrbm93IGFoZWFkIG9mIHRpbWUgaWYgdGhlIG5lc3RlZCBJQ1UgaXNcbiAqIGV4cHJlc3NlZCAocGFyZW50IElDVSBtYXkgaGF2ZSBzZWxlY3RlZCBhIGNhc2Ugd2hpY2ggZG9lcyBub3QgY29udGFpbiBpdC4pXG4gKlxuICogQHBhcmFtIHRWaWV3IEN1cnJlbnQgYFRWaWV3YC5cbiAqIEBwYXJhbSBpbmRleCBJbmRleCB3aGVyZSB0aGUgdmFsdWUgc2hvdWxkIGJlIHJlYWQgZnJvbS5cbiAqL1xuZnVuY3Rpb24gZ2V0VEljdSh0VmlldywgaW5kZXgpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRWaWV3LmRhdGFbaW5kZXhdO1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAobmdEZXZNb2RlICYmXG4gICAgICAgICEodmFsdWUuaGFzT3duUHJvcGVydHkoJ3RWaWV3cycpIHx8IHZhbHVlLmhhc093blByb3BlcnR5KCdjdXJyZW50Q2FzZUxWaWV3SW5kZXgnKSkpIHtcbiAgICAgICAgdGhyb3dFcnJvcignV2UgZXhwZWN0IHRvIGdldCBcXCdudWxsXFwnfFxcJ1RJY3VcXCd8XFwnVEljdUNvbnRhaW5lclxcJywgYnV0IGdvdDogJyArIHZhbHVlKTtcbiAgICB9XG4gICAgLy8gSGVyZSB0aGUgYHZhbHVlLmhhc093blByb3BlcnR5KCdjdXJyZW50Q2FzZUxWaWV3SW5kZXgnKWAgaXMgYSBwb2x5bW9ycGhpYyByZWFkIGFzIGl0IGNhbiBiZVxuICAgIC8vIGVpdGhlciBUSWN1IG9yIFRJY3VDb250YWluZXJOb2RlLiBUaGlzIGlzIG5vdCBpZGVhbCwgYnV0IHdlIHN0aWxsIHRoaW5rIGl0IGlzIE9LIGJlY2F1c2UgaXRcbiAgICAvLyB3aWxsIGJlIGp1c3QgdHdvIGNhc2VzIHdoaWNoIGZpdHMgaW50byB0aGUgYnJvd3NlciBpbmxpbmUgY2FjaGUgKGlubGluZSBjYWNoZSBjYW4gdGFrZSB1cCB0b1xuICAgIC8vIDQpXG4gICAgY29uc3QgdEljdSA9IHZhbHVlLmhhc093blByb3BlcnR5KCdjdXJyZW50Q2FzZUxWaWV3SW5kZXgnKSA/IHZhbHVlIDpcbiAgICAgICAgdmFsdWUudmFsdWU7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFRJY3UodEljdSk7XG4gICAgcmV0dXJuIHRJY3U7XG59XG4vKipcbiAqIFN0b3JlIGBUSWN1YCBhdCBhIGdpdmUgYGluZGV4YC5cbiAqXG4gKiBUaGUgYFRJY3VgIGNhbiBiZSBzdG9yZWQgZWl0aGVyIGRpcmVjdGx5IChpZiBpdCBpcyBuZXN0ZWQgSUNVKSBPUlxuICogaXQgaXMgc3RvcmVkIGluc2lkZSB0aG8gYFRJY3VDb250YWluZXJgIGlmIGl0IGlzIHRvcCBsZXZlbCBJQ1UuXG4gKlxuICogVGhlIHJlYXNvbiBmb3IgdGhpcyBpcyB0aGF0IHRoZSB0b3AgbGV2ZWwgSUNVIG5lZWQgYSBgVE5vZGVgIHNvIHRoYXQgdGhleSBhcmUgcGFydCBvZiB0aGUgcmVuZGVyXG4gKiB0cmVlLCBidXQgbmVzdGVkIElDVSdzIGhhdmUgbm8gVE5vZGUsIGJlY2F1c2Ugd2UgZG9uJ3Qga25vdyBhaGVhZCBvZiB0aW1lIGlmIHRoZSBuZXN0ZWQgSUNVIGlzXG4gKiBleHByZXNzZWQgKHBhcmVudCBJQ1UgbWF5IGhhdmUgc2VsZWN0ZWQgYSBjYXNlIHdoaWNoIGRvZXMgbm90IGNvbnRhaW4gaXQuKVxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2AuXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggd2hlcmUgdGhlIHZhbHVlIHNob3VsZCBiZSBzdG9yZWQgYXQgaW4gYFR2aWV3LmRhdGFgXG4gKiBAcGFyYW0gdEljdSBUaGUgVEljdSB0byBzdG9yZS5cbiAqL1xuZnVuY3Rpb24gc2V0VEljdSh0VmlldywgaW5kZXgsIHRJY3UpIHtcbiAgICBjb25zdCB0Tm9kZSA9IHRWaWV3LmRhdGFbaW5kZXhdO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbCh0Tm9kZSA9PT0gbnVsbCB8fCB0Tm9kZS5oYXNPd25Qcm9wZXJ0eSgndFZpZXdzJyksIHRydWUsICdXZSBleHBlY3QgdG8gZ2V0IFxcJ251bGxcXCd8XFwnVEljdUNvbnRhaW5lclxcJycpO1xuICAgIGlmICh0Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgICB0Vmlldy5kYXRhW2luZGV4XSA9IHRJY3U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VE5vZGVUeXBlKHROb2RlLCAzMiAvKiBJY3UgKi8pO1xuICAgICAgICB0Tm9kZS52YWx1ZSA9IHRJY3U7XG4gICAgfVxufVxuLyoqXG4gKiBTZXQgYFROb2RlLmluc2VydEJlZm9yZUluZGV4YCB0YWtpbmcgdGhlIGBBcnJheWAgaW50byBhY2NvdW50LlxuICpcbiAqIFNlZSBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgXG4gKi9cbmZ1bmN0aW9uIHNldFROb2RlSW5zZXJ0QmVmb3JlSW5kZXgodE5vZGUsIGluZGV4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlKHROb2RlKTtcbiAgICBsZXQgaW5zZXJ0QmVmb3JlSW5kZXggPSB0Tm9kZS5pbnNlcnRCZWZvcmVJbmRleDtcbiAgICBpZiAoaW5zZXJ0QmVmb3JlSW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgc2V0STE4bkhhbmRsaW5nKGdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG4sIHByb2Nlc3NJMThuSW5zZXJ0QmVmb3JlKTtcbiAgICAgICAgaW5zZXJ0QmVmb3JlSW5kZXggPSB0Tm9kZS5pbnNlcnRCZWZvcmVJbmRleCA9XG4gICAgICAgICAgICBbbnVsbCAvKiBtYXkgYmUgdXBkYXRlZCB0byBudW1iZXIgbGF0ZXIgKi8sIGluZGV4XTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFzc2VydEVxdWFsKEFycmF5LmlzQXJyYXkoaW5zZXJ0QmVmb3JlSW5kZXgpLCB0cnVlLCAnRXhwZWN0aW5nIGFycmF5IGhlcmUnKTtcbiAgICAgICAgaW5zZXJ0QmVmb3JlSW5kZXgucHVzaChpbmRleCk7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGUgYFROb2RlLnR5cGU9VE5vZGVUeXBlLlBsYWNlaG9sZGVyYCBub2RlLlxuICpcbiAqIFNlZSBgVE5vZGVUeXBlLlBsYWNlaG9sZGVyYCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVE5vZGVQbGFjZWhvbGRlcih0VmlldywgcHJldmlvdXNUTm9kZXMsIGluZGV4KSB7XG4gICAgY29uc3QgdE5vZGUgPSBjcmVhdGVUTm9kZUF0SW5kZXgodFZpZXcsIGluZGV4LCA2NCAvKiBQbGFjZWhvbGRlciAqLywgbnVsbCwgbnVsbCk7XG4gICAgYWRkVE5vZGVBbmRVcGRhdGVJbnNlcnRCZWZvcmVJbmRleChwcmV2aW91c1ROb2RlcywgdE5vZGUpO1xuICAgIHJldHVybiB0Tm9kZTtcbn1cbi8qKlxuICogUmV0dXJucyBjdXJyZW50IElDVSBjYXNlLlxuICpcbiAqIElDVSBjYXNlcyBhcmUgc3RvcmVkIGFzIGluZGV4IGludG8gdGhlIGBUSWN1LmNhc2VzYC5cbiAqIEF0IHRpbWVzIGl0IGlzIG5lY2Vzc2FyeSB0byBjb21tdW5pY2F0ZSB0aGF0IHRoZSBJQ1UgY2FzZSBqdXN0IHN3aXRjaGVkIGFuZCB0aGF0IG5leHQgSUNVIHVwZGF0ZVxuICogc2hvdWxkIHVwZGF0ZSBhbGwgYmluZGluZ3MgcmVnYXJkbGVzcyBvZiB0aGUgbWFzay4gSW4gc3VjaCBhIGNhc2UgdGhlIHdlIHN0b3JlIG5lZ2F0aXZlIG51bWJlcnNcbiAqIGZvciBjYXNlcyB3aGljaCBoYXZlIGp1c3QgYmVlbiBzd2l0Y2hlZC4gVGhpcyBmdW5jdGlvbiByZW1vdmVzIHRoZSBuZWdhdGl2ZSBmbGFnLlxuICovXG5mdW5jdGlvbiBnZXRDdXJyZW50SUNVQ2FzZUluZGV4KHRJY3UsIGxWaWV3KSB7XG4gICAgY29uc3QgY3VycmVudENhc2UgPSBsVmlld1t0SWN1LmN1cnJlbnRDYXNlTFZpZXdJbmRleF07XG4gICAgcmV0dXJuIGN1cnJlbnRDYXNlID09PSBudWxsID8gY3VycmVudENhc2UgOiAoY3VycmVudENhc2UgPCAwID8gfmN1cnJlbnRDYXNlIDogY3VycmVudENhc2UpO1xufVxuZnVuY3Rpb24gZ2V0UGFyZW50RnJvbUljdUNyZWF0ZU9wQ29kZShtZXJnZWRDb2RlKSB7XG4gICAgcmV0dXJuIG1lcmdlZENvZGUgPj4+IDE3IC8qIFNISUZUX1BBUkVOVCAqLztcbn1cbmZ1bmN0aW9uIGdldFJlZkZyb21JY3VDcmVhdGVPcENvZGUobWVyZ2VkQ29kZSkge1xuICAgIHJldHVybiAobWVyZ2VkQ29kZSAmIDEzMTA3MCAvKiBNQVNLX1JFRiAqLykgPj4+IDEgLyogU0hJRlRfUkVGICovO1xufVxuZnVuY3Rpb24gZ2V0SW5zdHJ1Y3Rpb25Gcm9tSWN1Q3JlYXRlT3BDb2RlKG1lcmdlZENvZGUpIHtcbiAgICByZXR1cm4gbWVyZ2VkQ29kZSAmIDEgLyogTUFTS19JTlNUUlVDVElPTiAqLztcbn1cbmZ1bmN0aW9uIGljdUNyZWF0ZU9wQ29kZShvcENvZGUsIHBhcmVudElkeCwgcmVmSWR4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChwYXJlbnRJZHgsIDAsICdNaXNzaW5nIHBhcmVudCBpbmRleCcpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRHcmVhdGVyVGhhbihyZWZJZHgsIDAsICdNaXNzaW5nIHJlZiBpbmRleCcpO1xuICAgIHJldHVybiBvcENvZGUgfCBwYXJlbnRJZHggPDwgMTcgLyogU0hJRlRfUEFSRU5UICovIHwgcmVmSWR4IDw8IDEgLyogU0hJRlRfUkVGICovO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogS2VlcCB0cmFjayBvZiB3aGljaCBpbnB1dCBiaW5kaW5ncyBpbiBgybXJtWkxOG5FeHBgIGhhdmUgY2hhbmdlZC5cbiAqXG4gKiBUaGlzIGlzIHVzZWQgdG8gZWZmaWNpZW50bHkgdXBkYXRlIGV4cHJlc3Npb25zIGluIGkxOG4gb25seSB3aGVuIHRoZSBjb3JyZXNwb25kaW5nIGlucHV0IGhhc1xuICogY2hhbmdlZC5cbiAqXG4gKiAxKSBFYWNoIGJpdCByZXByZXNlbnRzIHdoaWNoIG9mIHRoZSBgybXJtWkxOG5FeHBgIGhhcyBjaGFuZ2VkLlxuICogMikgVGhlcmUgYXJlIDMyIGJpdHMgYWxsb3dlZCBpbiBKUy5cbiAqIDMpIEJpdCAzMiBpcyBzcGVjaWFsIGFzIGl0IGlzIHNoYXJlZCBmb3IgYWxsIGNoYW5nZXMgcGFzdCAzMi4gKEluIG90aGVyIHdvcmRzIGlmIHlvdSBoYXZlIG1vcmVcbiAqIHRoYW4gMzIgYMm1ybVpMThuRXhwYCB0aGVuIGFsbCBjaGFuZ2VzIHBhc3QgMzJuZCBgybXJtWkxOG5FeHBgIHdpbGwgYmUgbWFwcGVkIHRvIHNhbWUgYml0LiBUaGlzIG1lYW5zXG4gKiB0aGF0IHdlIG1heSBlbmQgdXAgY2hhbmdpbmcgbW9yZSB0aGFuIHdlIG5lZWQgdG8uIEJ1dCBpMThuIGV4cHJlc3Npb25zIHdpdGggMzIgYmluZGluZ3MgaXMgcmFyZVxuICogc28gaW4gcHJhY3RpY2UgaXQgc2hvdWxkIG5vdCBiZSBhbiBpc3N1ZS4pXG4gKi9cbmxldCBjaGFuZ2VNYXNrID0gMGIwO1xuLyoqXG4gKiBLZWVwcyB0cmFjayBvZiB3aGljaCBiaXQgbmVlZHMgdG8gYmUgdXBkYXRlZCBpbiBgY2hhbmdlTWFza2BcbiAqXG4gKiBUaGlzIHZhbHVlIGdldHMgaW5jcmVtZW50ZWQgb24gZXZlcnkgY2FsbCB0byBgybXJtWkxOG5FeHBgXG4gKi9cbmxldCBjaGFuZ2VNYXNrQ291bnRlciA9IDA7XG4vKipcbiAqIEtlZXAgdHJhY2sgb2Ygd2hpY2ggaW5wdXQgYmluZGluZ3MgaW4gYMm1ybVpMThuRXhwYCBoYXZlIGNoYW5nZWQuXG4gKlxuICogYHNldE1hc2tCaXRgIGdldHMgaW52b2tlZCBieSBlYWNoIGNhbGwgdG8gYMm1ybVpMThuRXhwYC5cbiAqXG4gKiBAcGFyYW0gaGFzQ2hhbmdlIGRpZCBgybXJtWkxOG5FeHBgIGRldGVjdCBhIGNoYW5nZS5cbiAqL1xuZnVuY3Rpb24gc2V0TWFza0JpdChoYXNDaGFuZ2UpIHtcbiAgICBpZiAoaGFzQ2hhbmdlKSB7XG4gICAgICAgIGNoYW5nZU1hc2sgPSBjaGFuZ2VNYXNrIHwgKDEgPDwgTWF0aC5taW4oY2hhbmdlTWFza0NvdW50ZXIsIDMxKSk7XG4gICAgfVxuICAgIGNoYW5nZU1hc2tDb3VudGVyKys7XG59XG5mdW5jdGlvbiBhcHBseUkxOG4odFZpZXcsIGxWaWV3LCBpbmRleCkge1xuICAgIGlmIChjaGFuZ2VNYXNrQ291bnRlciA+IDApIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodFZpZXcsIGB0VmlldyBzaG91bGQgYmUgZGVmaW5lZGApO1xuICAgICAgICBjb25zdCB0STE4biA9IHRWaWV3LmRhdGFbaW5kZXhdO1xuICAgICAgICAvLyBXaGVuIGBpbmRleGAgcG9pbnRzIHRvIGFuIGDJtcm1aTE4bkF0dHJpYnV0ZXNgIHRoZW4gd2UgaGF2ZSBhbiBhcnJheSBvdGhlcndpc2UgYFRJMThuYFxuICAgICAgICBjb25zdCB1cGRhdGVPcENvZGVzID0gQXJyYXkuaXNBcnJheSh0STE4bikgPyB0STE4biA6IHRJMThuLnVwZGF0ZTtcbiAgICAgICAgY29uc3QgYmluZGluZ3NTdGFydEluZGV4ID0gZ2V0QmluZGluZ0luZGV4KCkgLSBjaGFuZ2VNYXNrQ291bnRlciAtIDE7XG4gICAgICAgIGFwcGx5VXBkYXRlT3BDb2Rlcyh0VmlldywgbFZpZXcsIHVwZGF0ZU9wQ29kZXMsIGJpbmRpbmdzU3RhcnRJbmRleCwgY2hhbmdlTWFzayk7XG4gICAgfVxuICAgIC8vIFJlc2V0IGNoYW5nZU1hc2sgJiBtYXNrQml0IHRvIGRlZmF1bHQgZm9yIHRoZSBuZXh0IHVwZGF0ZSBjeWNsZVxuICAgIGNoYW5nZU1hc2sgPSAwYjA7XG4gICAgY2hhbmdlTWFza0NvdW50ZXIgPSAwO1xufVxuLyoqXG4gKiBBcHBseSBgSTE4bkNyZWF0ZU9wQ29kZXNgIG9wLWNvZGVzIGFzIHN0b3JlZCBpbiBgVEkxOG4uY3JlYXRlYC5cbiAqXG4gKiBDcmVhdGVzIHRleHQgKGFuZCBjb21tZW50KSBub2RlcyB3aGljaCBhcmUgaW50ZXJuYXRpb25hbGl6ZWQuXG4gKlxuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgbFZpZXdcbiAqIEBwYXJhbSBjcmVhdGVPcENvZGVzIFNldCBvZiBvcC1jb2RlcyB0byBhcHBseVxuICogQHBhcmFtIHBhcmVudFJOb2RlIFBhcmVudCBub2RlIChzbyB0aGF0IGRpcmVjdCBjaGlsZHJlbiBjYW4gYmUgYWRkZWQgZWFnZXJseSkgb3IgYG51bGxgIGlmIGl0IGlzXG4gKiAgICAgYSByb290IG5vZGUuXG4gKiBAcGFyYW0gaW5zZXJ0SW5Gcm9udE9mIERPTSBub2RlIHRoYXQgc2hvdWxkIGJlIHVzZWQgYXMgYW4gYW5jaG9yLlxuICovXG5mdW5jdGlvbiBhcHBseUNyZWF0ZU9wQ29kZXMobFZpZXcsIGNyZWF0ZU9wQ29kZXMsIHBhcmVudFJOb2RlLCBpbnNlcnRJbkZyb250T2YpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNyZWF0ZU9wQ29kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb3BDb2RlID0gY3JlYXRlT3BDb2Rlc1tpKytdO1xuICAgICAgICBjb25zdCB0ZXh0ID0gY3JlYXRlT3BDb2Rlc1tpXTtcbiAgICAgICAgY29uc3QgaXNDb21tZW50ID0gKG9wQ29kZSAmIEkxOG5DcmVhdGVPcENvZGUuQ09NTUVOVCkgPT09IEkxOG5DcmVhdGVPcENvZGUuQ09NTUVOVDtcbiAgICAgICAgY29uc3QgYXBwZW5kTm93ID0gKG9wQ29kZSAmIEkxOG5DcmVhdGVPcENvZGUuQVBQRU5EX0VBR0VSTFkpID09PSBJMThuQ3JlYXRlT3BDb2RlLkFQUEVORF9FQUdFUkxZO1xuICAgICAgICBjb25zdCBpbmRleCA9IG9wQ29kZSA+Pj4gSTE4bkNyZWF0ZU9wQ29kZS5TSElGVDtcbiAgICAgICAgbGV0IHJOb2RlID0gbFZpZXdbaW5kZXhdO1xuICAgICAgICBpZiAock5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFdlIG9ubHkgY3JlYXRlIG5ldyBET00gbm9kZXMgaWYgdGhleSBkb24ndCBhbHJlYWR5IGV4aXN0OiBJZiBJQ1Ugc3dpdGNoZXMgY2FzZSBiYWNrIHRvIGFcbiAgICAgICAgICAgIC8vIGNhc2Ugd2hpY2ggd2FzIGFscmVhZHkgaW5zdGFudGlhdGVkLCBubyBuZWVkIHRvIGNyZWF0ZSBuZXcgRE9NIG5vZGVzLlxuICAgICAgICAgICAgck5vZGUgPSBsVmlld1tpbmRleF0gPVxuICAgICAgICAgICAgICAgIGlzQ29tbWVudCA/IHJlbmRlcmVyLmNyZWF0ZUNvbW1lbnQodGV4dCkgOiBjcmVhdGVUZXh0Tm9kZShyZW5kZXJlciwgdGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFwcGVuZE5vdyAmJiBwYXJlbnRSTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbmF0aXZlSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBwYXJlbnRSTm9kZSwgck5vZGUsIGluc2VydEluRnJvbnRPZiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBcHBseSBgSTE4bk11dGF0ZU9wQ29kZXNgIE9wQ29kZXMuXG4gKlxuICogQHBhcmFtIHRWaWV3IEN1cnJlbnQgYFRWaWV3YFxuICogQHBhcmFtIG11dGFibGVPcENvZGVzIE11dGFibGUgT3BDb2RlcyB0byBwcm9jZXNzXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBgTFZpZXdgXG4gKiBAcGFyYW0gYW5jaG9yUk5vZGUgcGxhY2Ugd2hlcmUgdGhlIGkxOG4gbm9kZSBzaG91bGQgYmUgaW5zZXJ0ZWQuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5TXV0YWJsZU9wQ29kZXModFZpZXcsIG11dGFibGVPcENvZGVzLCBsVmlldywgYW5jaG9yUk5vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RG9tTm9kZShhbmNob3JSTm9kZSk7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgLy8gYHJvb3RJZHhgIHJlcHJlc2VudHMgdGhlIG5vZGUgaW50byB3aGljaCBhbGwgaW5zZXJ0cyBoYXBwZW4uXG4gICAgbGV0IHJvb3RJZHggPSBudWxsO1xuICAgIC8vIGByb290Uk5vZGVgIHJlcHJlc2VudHMgdGhlIHJlYWwgbm9kZSBpbnRvIHdoaWNoIHdlIGluc2VydC4gVGhpcyBjYW4gYmUgZGlmZmVyZW50IGZyb21cbiAgICAvLyBgbFZpZXdbcm9vdElkeF1gIGlmIHdlIGhhdmUgcHJvamVjdGlvbi5cbiAgICAvLyAgLSBudWxsIHdlIGRvbid0IGhhdmUgYSBwYXJlbnQgKGFzIGNhbiBiZSB0aGUgY2FzZSBpbiB3aGVuIHdlIGFyZSBpbnNlcnRpbmcgaW50byBhIHJvb3Qgb2ZcbiAgICAvLyAgICBMVmlldyB3aGljaCBoYXMgbm8gcGFyZW50LilcbiAgICAvLyAgLSBgUkVsZW1lbnRgIFRoZSBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgcm9vdCBhZnRlciB0YWtpbmcgcHJvamVjdGlvbiBpbnRvIGFjY291bnQuXG4gICAgbGV0IHJvb3RSTm9kZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG11dGFibGVPcENvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG9wQ29kZSA9IG11dGFibGVPcENvZGVzW2ldO1xuICAgICAgICBpZiAodHlwZW9mIG9wQ29kZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgdGV4dE5vZGVJbmRleCA9IG11dGFibGVPcENvZGVzWysraV07XG4gICAgICAgICAgICBpZiAobFZpZXdbdGV4dE5vZGVJbmRleF0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlVGV4dE5vZGUrKztcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCB0ZXh0Tm9kZUluZGV4KTtcbiAgICAgICAgICAgICAgICBsVmlld1t0ZXh0Tm9kZUluZGV4XSA9IGNyZWF0ZVRleHROb2RlKHJlbmRlcmVyLCBvcENvZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvcENvZGUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHN3aXRjaCAob3BDb2RlICYgMSAvKiBNQVNLX0lOU1RSVUNUSU9OICovKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwIC8qIEFwcGVuZENoaWxkICovOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRJZHggPSBnZXRQYXJlbnRGcm9tSWN1Q3JlYXRlT3BDb2RlKG9wQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb290SWR4ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZmlyc3Qgb3BlcmF0aW9uIHNob3VsZCBzYXZlIHRoZSBgcm9vdElkeGAgYmVjYXVzZSB0aGUgZmlyc3Qgb3BlcmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtdXN0IGluc2VydCBpbnRvIHRoZSByb290LiAoT25seSBzdWJzZXF1ZW50IG9wZXJhdGlvbnMgY2FuIGluc2VydCBpbnRvIGEgZHluYW1pY1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGFyZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdElkeCA9IHBhcmVudElkeDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RSTm9kZSA9IG5hdGl2ZVBhcmVudE5vZGUocmVuZGVyZXIsIGFuY2hvclJOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5zZXJ0SW5Gcm9udE9mO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGFyZW50Uk5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRJZHggPT09IHJvb3RJZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydEluRnJvbnRPZiA9IGFuY2hvclJOb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Uk5vZGUgPSByb290Uk5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRJbkZyb250T2YgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Uk5vZGUgPSB1bndyYXBSTm9kZShsVmlld1twYXJlbnRJZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRShtaXNrbyk6IFJlZmFjdG9yIHdpdGggYHByb2Nlc3NJMThuVGV4dGBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudFJOb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgdGhlIGBMVmlld2Agd2UgYXJlIGFkZGluZyB0byBpcyBub3QgYXR0YWNoZWQgdG8gYSBwYXJlbnQgYExWaWV3YC5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluIHN1Y2ggYSBjYXNlIHRoZXJlIGlzIG5vIFwicm9vdFwiIHdlIGNhbiBhdHRhY2ggdG8uIFRoaXMgaXMgZmluZSwgYXMgd2Ugc3RpbGwgbmVlZCB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBlbGVtZW50cy4gV2hlbiB0aGUgYExWaWV3YCBnZXRzIGxhdGVyIGFkZGVkIHRvIGEgcGFyZW50IHRoZXNlIFwicm9vdFwiIG5vZGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBnZXQgcGlja2VkIHVwIGFuZCBhZGRlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREb21Ob2RlKHBhcmVudFJOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZklkeCA9IGdldFJlZkZyb21JY3VDcmVhdGVPcENvZGUob3BDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRHcmVhdGVyVGhhbihyZWZJZHgsIEhFQURFUl9PRkZTRVQsICdNaXNzaW5nIHJlZicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYHVud3JhcFJOb2RlYCBpcyBub3QgbmVlZGVkIGhlcmUgYXMgYWxsIG9mIHRoZXNlIHBvaW50IHRvIFJOb2RlcyBhcyBwYXJ0IG9mIHRoZSBpMThuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCBjYW4ndCBoYXZlIGNvbXBvbmVudHMuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGxWaWV3W3JlZklkeF07XG4gICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RG9tTm9kZShjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudFJOb2RlLCBjaGlsZCwgaW5zZXJ0SW5Gcm9udE9mLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0SWN1ID0gZ2V0VEljdSh0VmlldywgcmVmSWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0SWN1ICE9PSBudWxsICYmIHR5cGVvZiB0SWN1ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGp1c3QgYWRkZWQgYSBjb21tZW50IG5vZGUgd2hpY2ggaGFzIElDVSB0aGVuIHRoYXQgSUNVIG1heSBoYXZlIGFscmVhZHkgYmVlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbmRlcmVkIGFuZCB0aGVyZWZvcmUgd2UgbmVlZCB0byByZS1hZGQgaXQgaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VEljdSh0SWN1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXNlSW5kZXggPSBnZXRDdXJyZW50SUNVQ2FzZUluZGV4KHRJY3UsIGxWaWV3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FzZUluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5TXV0YWJsZU9wQ29kZXModFZpZXcsIHRJY3UuY3JlYXRlW2Nhc2VJbmRleF0sIGxWaWV3LCBsVmlld1t0SWN1LmFuY2hvcklkeF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEgLyogQXR0ciAqLzpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudE5vZGVJbmRleCA9IG9wQ29kZSA+Pj4gMSAvKiBTSElGVF9SRUYgKi87XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gbXV0YWJsZU9wQ29kZXNbKytpXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0clZhbHVlID0gbXV0YWJsZU9wQ29kZXNbKytpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBjb2RlIGlzIHVzZWQgZm9yIElDVSBleHByZXNzaW9ucyBvbmx5LCBzaW5jZSB3ZSBkb24ndCBzdXBwb3J0XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpcmVjdGl2ZXMvY29tcG9uZW50cyBpbiBJQ1VzLCB3ZSBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGlucHV0cyBoZXJlXG4gICAgICAgICAgICAgICAgICAgIHNldEVsZW1lbnRBdHRyaWJ1dGUocmVuZGVyZXIsIGdldE5hdGl2ZUJ5SW5kZXgoZWxlbWVudE5vZGVJbmRleCwgbFZpZXcpLCBudWxsLCBudWxsLCBhdHRyTmFtZSwgYXR0clZhbHVlLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig3MDAgLyogSU5WQUxJRF9JMThOX1NUUlVDVFVSRSAqLywgYFVuYWJsZSB0byBkZXRlcm1pbmUgdGhlIHR5cGUgb2YgbXV0YXRlIG9wZXJhdGlvbiBmb3IgXCIke29wQ29kZX1cImApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG9wQ29kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgSUNVX01BUktFUjpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tbWVudFZhbHVlID0gbXV0YWJsZU9wQ29kZXNbKytpXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tbWVudE5vZGVJbmRleCA9IG11dGFibGVPcENvZGVzWysraV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChsVmlld1tjb21tZW50Tm9kZUluZGV4XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWwodHlwZW9mIGNvbW1lbnRWYWx1ZSwgJ3N0cmluZycsIGBFeHBlY3RlZCBcIiR7Y29tbWVudFZhbHVlfVwiIHRvIGJlIGEgY29tbWVudCBub2RlIHZhbHVlYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlQ29tbWVudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5FeHBhbmRvUmFuZ2UobFZpZXcsIGNvbW1lbnROb2RlSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tbWVudFJOb2RlID0gbFZpZXdbY29tbWVudE5vZGVJbmRleF0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNvbW1lbnROb2RlKHJlbmRlcmVyLCBjb21tZW50VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYTUUobWlza28pOiBBdHRhY2hpbmcgcGF0Y2ggZGF0YSBpcyBvbmx5IG5lZWRlZCBmb3IgdGhlIHJvb3QgKEFsc28gYWRkIHRlc3RzKVxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKGNvbW1lbnRSTm9kZSwgbFZpZXcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUxFTUVOVF9NQVJLRVI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhZ05hbWUgPSBtdXRhYmxlT3BDb2Rlc1srK2ldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50Tm9kZUluZGV4ID0gbXV0YWJsZU9wQ29kZXNbKytpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxWaWV3W2VsZW1lbnROb2RlSW5kZXhdID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbCh0eXBlb2YgdGFnTmFtZSwgJ3N0cmluZycsIGBFeHBlY3RlZCBcIiR7dGFnTmFtZX1cIiB0byBiZSBhbiBlbGVtZW50IG5vZGUgdGFnIG5hbWVgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJDcmVhdGVFbGVtZW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJbkV4cGFuZG9SYW5nZShsVmlldywgZWxlbWVudE5vZGVJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50Uk5vZGUgPSBsVmlld1tlbGVtZW50Tm9kZUluZGV4XSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudE5vZGUocmVuZGVyZXIsIHRhZ05hbWUsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYTUUobWlza28pOiBBdHRhY2hpbmcgcGF0Y2ggZGF0YSBpcyBvbmx5IG5lZWRlZCBmb3IgdGhlIHJvb3QgKEFsc28gYWRkIHRlc3RzKVxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKGVsZW1lbnRSTm9kZSwgbFZpZXcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dFcnJvcihgVW5hYmxlIHRvIGRldGVybWluZSB0aGUgdHlwZSBvZiBtdXRhdGUgb3BlcmF0aW9uIGZvciBcIiR7b3BDb2RlfVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEFwcGx5IGBJMThuVXBkYXRlT3BDb2Rlc2AgT3BDb2Rlc1xuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2BcbiAqIEBwYXJhbSBsVmlldyBDdXJyZW50IGBMVmlld2BcbiAqIEBwYXJhbSB1cGRhdGVPcENvZGVzIE9wQ29kZXMgdG8gcHJvY2Vzc1xuICogQHBhcmFtIGJpbmRpbmdzU3RhcnRJbmRleCBMb2NhdGlvbiBvZiB0aGUgZmlyc3QgYMm1ybVpMThuQXBwbHlgXG4gKiBAcGFyYW0gY2hhbmdlTWFzayBFYWNoIGJpdCBjb3JyZXNwb25kcyB0byBhIGDJtcm1aTE4bkV4cGAgKENvdW50aW5nIGJhY2t3YXJkcyBmcm9tXG4gKiAgICAgYGJpbmRpbmdzU3RhcnRJbmRleGApXG4gKi9cbmZ1bmN0aW9uIGFwcGx5VXBkYXRlT3BDb2Rlcyh0VmlldywgbFZpZXcsIHVwZGF0ZU9wQ29kZXMsIGJpbmRpbmdzU3RhcnRJbmRleCwgY2hhbmdlTWFzaykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXBkYXRlT3BDb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBiaXQgY29kZSB0byBjaGVjayBpZiB3ZSBzaG91bGQgYXBwbHkgdGhlIG5leHQgdXBkYXRlXG4gICAgICAgIGNvbnN0IGNoZWNrQml0ID0gdXBkYXRlT3BDb2Rlc1tpXTtcbiAgICAgICAgLy8gTnVtYmVyIG9mIG9wQ29kZXMgdG8gc2tpcCB1bnRpbCBuZXh0IHNldCBvZiB1cGRhdGUgY29kZXNcbiAgICAgICAgY29uc3Qgc2tpcENvZGVzID0gdXBkYXRlT3BDb2Rlc1srK2ldO1xuICAgICAgICBpZiAoY2hlY2tCaXQgJiBjaGFuZ2VNYXNrKSB7XG4gICAgICAgICAgICAvLyBUaGUgdmFsdWUgaGFzIGJlZW4gdXBkYXRlZCBzaW5jZSBsYXN0IGNoZWNrZWRcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9ICcnO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDw9IChpICsgc2tpcENvZGVzKTsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3BDb2RlID0gdXBkYXRlT3BDb2Rlc1tqXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wQ29kZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSBvcENvZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvcENvZGUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wQ29kZSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5lZ2F0aXZlIG9wQ29kZSByZXByZXNlbnQgYGkxOG5FeHBgIHZhbHVlcyBvZmZzZXQuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSByZW5kZXJTdHJpbmdpZnkobFZpZXdbYmluZGluZ3NTdGFydEluZGV4IC0gb3BDb2RlXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlSW5kZXggPSAob3BDb2RlID4+PiAyIC8qIFNISUZUX1JFRiAqLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG9wQ29kZSAmIDMgLyogTUFTS19PUENPREUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEgLyogQXR0ciAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvcE5hbWUgPSB1cGRhdGVPcENvZGVzWysral07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhbml0aXplRm4gPSB1cGRhdGVPcENvZGVzWysral07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHROb2RlT3JUYWdOYW1lID0gdFZpZXcuZGF0YVtub2RlSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0Tm9kZU9yVGFnTmFtZSwgJ0V4cGVydGluZyBUTm9kZSBvciBzdHJpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0Tm9kZU9yVGFnTmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElGIHdlIGRvbid0IGhhdmUgYSBgVE5vZGVgLCB0aGVuIHdlIGFyZSBhbiBlbGVtZW50IGluIElDVSAoYXMgSUNVIGNvbnRlbnQgZG9lc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90IGhhdmUgVE5vZGUpLCBpbiB3aGljaCBjYXNlIHdlIGtub3cgdGhhdCB0aGVyZSBhcmUgbm8gZGlyZWN0aXZlcywgYW5kIGhlbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSB1c2UgYXR0cmlidXRlIHNldHRpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFbGVtZW50QXR0cmlidXRlKGxWaWV3W1JFTkRFUkVSXSwgbFZpZXdbbm9kZUluZGV4XSwgbnVsbCwgdE5vZGVPclRhZ05hbWUsIHByb3BOYW1lLCB2YWx1ZSwgc2FuaXRpemVGbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbCh0VmlldywgdE5vZGVPclRhZ05hbWUsIGxWaWV3LCBwcm9wTmFtZSwgdmFsdWUsIGxWaWV3W1JFTkRFUkVSXSwgc2FuaXRpemVGbiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBUZXh0ICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByVGV4dCA9IGxWaWV3W25vZGVJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJUZXh0ICE9PSBudWxsICYmIHVwZGF0ZVRleHROb2RlKGxWaWV3W1JFTkRFUkVSXSwgclRleHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyIC8qIEljdVN3aXRjaCAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlJY3VTd2l0Y2hDYXNlKHRWaWV3LCBnZXRUSWN1KHRWaWV3LCBub2RlSW5kZXgpLCBsVmlldywgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDMgLyogSWN1VXBkYXRlICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseUljdVVwZGF0ZUNhc2UodFZpZXcsIGdldFRJY3UodFZpZXcsIG5vZGVJbmRleCksIGJpbmRpbmdzU3RhcnRJbmRleCwgbFZpZXcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG9wQ29kZSA9IHVwZGF0ZU9wQ29kZXNbaSArIDFdO1xuICAgICAgICAgICAgaWYgKG9wQ29kZSA+IDAgJiYgKG9wQ29kZSAmIDMgLyogTUFTS19PUENPREUgKi8pID09PSAzIC8qIEljdVVwZGF0ZSAqLykge1xuICAgICAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdGhlIGBpY3VVcGRhdGVDYXNlYC4gSXQgY291bGQgYmUgdGhhdCB0aGUgbWFzayBkaWQgbm90IG1hdGNoLCBidXRcbiAgICAgICAgICAgICAgICAvLyB3ZSBzdGlsbCBuZWVkIHRvIGV4ZWN1dGUgYGljdVVwZGF0ZUNhc2VgIGJlY2F1c2UgdGhlIGNhc2UgaGFzIGNoYW5nZWQgcmVjZW50bHkgZHVlIHRvXG4gICAgICAgICAgICAgICAgLy8gcHJldmlvdXMgYGljdVN3aXRjaENhc2VgIGluc3RydWN0aW9uLiAoYGljdVN3aXRjaENhc2VgIGFuZCBgaWN1VXBkYXRlQ2FzZWAgYWx3YXlzIGNvbWUgaW5cbiAgICAgICAgICAgICAgICAvLyBwYWlycy4pXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZUluZGV4ID0gKG9wQ29kZSA+Pj4gMiAvKiBTSElGVF9SRUYgKi8pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRJY3UgPSBnZXRUSWN1KHRWaWV3LCBub2RlSW5kZXgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGxWaWV3W3RJY3UuY3VycmVudENhc2VMVmlld0luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBhcHBseUljdVVwZGF0ZUNhc2UodFZpZXcsIHRJY3UsIGJpbmRpbmdzU3RhcnRJbmRleCwgbFZpZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpICs9IHNraXBDb2RlcztcbiAgICB9XG59XG4vKipcbiAqIEFwcGx5IE9wQ29kZXMgYXNzb2NpYXRlZCB3aXRoIHVwZGF0aW5nIGFuIGV4aXN0aW5nIElDVS5cbiAqXG4gKiBAcGFyYW0gdFZpZXcgQ3VycmVudCBgVFZpZXdgXG4gKiBAcGFyYW0gdEljdSBDdXJyZW50IGBUSWN1YFxuICogQHBhcmFtIGJpbmRpbmdzU3RhcnRJbmRleCBMb2NhdGlvbiBvZiB0aGUgZmlyc3QgYMm1ybVpMThuQXBwbHlgXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBgTFZpZXdgXG4gKi9cbmZ1bmN0aW9uIGFwcGx5SWN1VXBkYXRlQ2FzZSh0VmlldywgdEljdSwgYmluZGluZ3NTdGFydEluZGV4LCBsVmlldykge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXcsIHRJY3UuY3VycmVudENhc2VMVmlld0luZGV4KTtcbiAgICBsZXQgYWN0aXZlQ2FzZUluZGV4ID0gbFZpZXdbdEljdS5jdXJyZW50Q2FzZUxWaWV3SW5kZXhdO1xuICAgIGlmIChhY3RpdmVDYXNlSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgbGV0IG1hc2sgPSBjaGFuZ2VNYXNrO1xuICAgICAgICBpZiAoYWN0aXZlQ2FzZUluZGV4IDwgMCkge1xuICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGZsYWcuXG4gICAgICAgICAgICAvLyBOZWdhdGl2ZSBudW1iZXIgbWVhbnMgdGhhdCB0aGUgSUNVIHdhcyBmcmVzaGx5IGNyZWF0ZWQgYW5kIHdlIG5lZWQgdG8gZm9yY2UgdGhlIHVwZGF0ZS5cbiAgICAgICAgICAgIGFjdGl2ZUNhc2VJbmRleCA9IGxWaWV3W3RJY3UuY3VycmVudENhc2VMVmlld0luZGV4XSA9IH5hY3RpdmVDYXNlSW5kZXg7XG4gICAgICAgICAgICAvLyAtMSBpcyBzYW1lIGFzIGFsbCBiaXRzIG9uLCB3aGljaCBzaW11bGF0ZXMgY3JlYXRpb24gc2luY2UgaXQgbWFya3MgYWxsIGJpdHMgZGlydHlcbiAgICAgICAgICAgIG1hc2sgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBhcHBseVVwZGF0ZU9wQ29kZXModFZpZXcsIGxWaWV3LCB0SWN1LnVwZGF0ZVthY3RpdmVDYXNlSW5kZXhdLCBiaW5kaW5nc1N0YXJ0SW5kZXgsIG1hc2spO1xuICAgIH1cbn1cbi8qKlxuICogQXBwbHkgT3BDb2RlcyBhc3NvY2lhdGVkIHdpdGggc3dpdGNoaW5nIGEgY2FzZSBvbiBJQ1UuXG4gKlxuICogVGhpcyBpbnZvbHZlcyB0ZWFyaW5nIGRvd24gZXhpc3RpbmcgY2FzZSBhbmQgdGhhbiBidWlsZGluZyB1cCBhIG5ldyBjYXNlLlxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2BcbiAqIEBwYXJhbSB0SWN1IEN1cnJlbnQgYFRJY3VgXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBgTFZpZXdgXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgb2YgdGhlIGNhc2UgdG8gdXBkYXRlIHRvLlxuICovXG5mdW5jdGlvbiBhcHBseUljdVN3aXRjaENhc2UodFZpZXcsIHRJY3UsIGxWaWV3LCB2YWx1ZSkge1xuICAgIC8vIFJlYnVpbGQgYSBuZXcgY2FzZSBmb3IgdGhpcyBJQ1VcbiAgICBjb25zdCBjYXNlSW5kZXggPSBnZXRDYXNlSW5kZXgodEljdSwgdmFsdWUpO1xuICAgIGxldCBhY3RpdmVDYXNlSW5kZXggPSBnZXRDdXJyZW50SUNVQ2FzZUluZGV4KHRJY3UsIGxWaWV3KTtcbiAgICBpZiAoYWN0aXZlQ2FzZUluZGV4ICE9PSBjYXNlSW5kZXgpIHtcbiAgICAgICAgYXBwbHlJY3VTd2l0Y2hDYXNlUmVtb3ZlKHRWaWV3LCB0SWN1LCBsVmlldyk7XG4gICAgICAgIGxWaWV3W3RJY3UuY3VycmVudENhc2VMVmlld0luZGV4XSA9IGNhc2VJbmRleCA9PT0gbnVsbCA/IG51bGwgOiB+Y2FzZUluZGV4O1xuICAgICAgICBpZiAoY2FzZUluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBBZGQgdGhlIG5vZGVzIGZvciB0aGUgbmV3IGNhc2VcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvclJOb2RlID0gbFZpZXdbdEljdS5hbmNob3JJZHhdO1xuICAgICAgICAgICAgaWYgKGFuY2hvclJOb2RlKSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERvbU5vZGUoYW5jaG9yUk5vZGUpO1xuICAgICAgICAgICAgICAgIGFwcGx5TXV0YWJsZU9wQ29kZXModFZpZXcsIHRJY3UuY3JlYXRlW2Nhc2VJbmRleF0sIGxWaWV3LCBhbmNob3JSTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEFwcGx5IE9wQ29kZXMgYXNzb2NpYXRlZCB3aXRoIHRlYXJpbmcgSUNVIGNhc2UuXG4gKlxuICogVGhpcyBpbnZvbHZlcyB0ZWFyaW5nIGRvd24gZXhpc3RpbmcgY2FzZSBhbmQgdGhhbiBidWlsZGluZyB1cCBhIG5ldyBjYXNlLlxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2BcbiAqIEBwYXJhbSB0SWN1IEN1cnJlbnQgYFRJY3VgXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBgTFZpZXdgXG4gKi9cbmZ1bmN0aW9uIGFwcGx5SWN1U3dpdGNoQ2FzZVJlbW92ZSh0VmlldywgdEljdSwgbFZpZXcpIHtcbiAgICBsZXQgYWN0aXZlQ2FzZUluZGV4ID0gZ2V0Q3VycmVudElDVUNhc2VJbmRleCh0SWN1LCBsVmlldyk7XG4gICAgaWYgKGFjdGl2ZUNhc2VJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCByZW1vdmVDb2RlcyA9IHRJY3UucmVtb3ZlW2FjdGl2ZUNhc2VJbmRleF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVtb3ZlQ29kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGVPckljdUluZGV4ID0gcmVtb3ZlQ29kZXNbaV07XG4gICAgICAgICAgICBpZiAobm9kZU9ySWN1SW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gUG9zaXRpdmUgbnVtYmVycyBhcmUgYFJOb2RlYHMuXG4gICAgICAgICAgICAgICAgY29uc3Qgck5vZGUgPSBnZXROYXRpdmVCeUluZGV4KG5vZGVPckljdUluZGV4LCBsVmlldyk7XG4gICAgICAgICAgICAgICAgck5vZGUgIT09IG51bGwgJiYgbmF0aXZlUmVtb3ZlTm9kZShsVmlld1tSRU5ERVJFUl0sIHJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE5lZ2F0aXZlIG51bWJlcnMgYXJlIElDVXNcbiAgICAgICAgICAgICAgICBhcHBseUljdVN3aXRjaENhc2VSZW1vdmUodFZpZXcsIGdldFRJY3UodFZpZXcsIH5ub2RlT3JJY3VJbmRleCksIGxWaWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGN1cnJlbnQgY2FzZSBvZiBhbiBJQ1UgZXhwcmVzc2lvbiBkZXBlbmRpbmcgb24gdGhlIG1haW4gYmluZGluZyB2YWx1ZVxuICpcbiAqIEBwYXJhbSBpY3VFeHByZXNzaW9uXG4gKiBAcGFyYW0gYmluZGluZ1ZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgbWFpbiBiaW5kaW5nIHVzZWQgYnkgdGhpcyBJQ1UgZXhwcmVzc2lvblxuICovXG5mdW5jdGlvbiBnZXRDYXNlSW5kZXgoaWN1RXhwcmVzc2lvbiwgYmluZGluZ1ZhbHVlKSB7XG4gICAgbGV0IGluZGV4ID0gaWN1RXhwcmVzc2lvbi5jYXNlcy5pbmRleE9mKGJpbmRpbmdWYWx1ZSk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICBzd2l0Y2ggKGljdUV4cHJlc3Npb24udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxIC8qIHBsdXJhbCAqLzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc29sdmVkQ2FzZSA9IGdldFBsdXJhbENhc2UoYmluZGluZ1ZhbHVlLCBnZXRMb2NhbGVJZCgpKTtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGljdUV4cHJlc3Npb24uY2FzZXMuaW5kZXhPZihyZXNvbHZlZENhc2UpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEgJiYgcmVzb2x2ZWRDYXNlICE9PSAnb3RoZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaWN1RXhwcmVzc2lvbi5jYXNlcy5pbmRleE9mKCdvdGhlcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMCAvKiBzZWxlY3QgKi86IHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGljdUV4cHJlc3Npb24uY2FzZXMuaW5kZXhPZignb3RoZXInKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXggPT09IC0xID8gbnVsbCA6IGluZGV4O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGxvYWRJY3VDb250YWluZXJWaXNpdG9yKCkge1xuICAgIGNvbnN0IF9zdGFjayA9IFtdO1xuICAgIGxldCBfaW5kZXggPSAtMTtcbiAgICBsZXQgX2xWaWV3O1xuICAgIGxldCBfcmVtb3ZlcztcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSBzZXQgb2Ygcm9vdCBub2RlcyBmcm9tIGBUSWN1LnJlbW92ZWAuIFVzZWQgYnkgYFROb2RlVHlwZS5JQ1VDb250YWluZXJgXG4gICAgICogdG8gZGV0ZXJtaW5lIHdoaWNoIHJvb3QgYmVsb25nIHRvIHRoZSBJQ1UuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlIG9mIHVzYWdlLlxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IG5leHRSTm9kZSA9IGljdUNvbnRhaW5lckl0ZXJhdG9yU3RhcnQodEljdUNvbnRhaW5lck5vZGUsIGxWaWV3KTtcbiAgICAgKiBsZXQgck5vZGU6IFJOb2RlfG51bGw7XG4gICAgICogd2hpbGUock5vZGUgPSBuZXh0Uk5vZGUoKSkge1xuICAgICAqICAgY29uc29sZS5sb2cock5vZGUpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0SWN1Q29udGFpbmVyTm9kZSBDdXJyZW50IGBUSWN1Q29udGFpbmVyTm9kZWBcbiAgICAgKiBAcGFyYW0gbFZpZXcgYExWaWV3YCB3aGVyZSB0aGUgYFJOb2RlYHMgc2hvdWxkIGJlIGxvb2tlZCB1cC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpY3VDb250YWluZXJJdGVyYXRvclN0YXJ0KHRJY3VDb250YWluZXJOb2RlLCBsVmlldykge1xuICAgICAgICBfbFZpZXcgPSBsVmlldztcbiAgICAgICAgd2hpbGUgKF9zdGFjay5sZW5ndGgpXG4gICAgICAgICAgICBfc3RhY2sucG9wKCk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZUZvckxWaWV3KHRJY3VDb250YWluZXJOb2RlLCBsVmlldyk7XG4gICAgICAgIGVudGVySWN1KHRJY3VDb250YWluZXJOb2RlLnZhbHVlLCBsVmlldyk7XG4gICAgICAgIHJldHVybiBpY3VDb250YWluZXJJdGVyYXRvck5leHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVudGVySWN1KHRJY3UsIGxWaWV3KSB7XG4gICAgICAgIF9pbmRleCA9IDA7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRDYXNlID0gZ2V0Q3VycmVudElDVUNhc2VJbmRleCh0SWN1LCBsVmlldyk7XG4gICAgICAgIGlmIChjdXJyZW50Q2FzZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlckluUmFuZ2UoY3VycmVudENhc2UsIDAsIHRJY3UuY2FzZXMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBfcmVtb3ZlcyA9IHRJY3UucmVtb3ZlW2N1cnJlbnRDYXNlXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF9yZW1vdmVzID0gRU1QVFlfQVJSQVk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaWN1Q29udGFpbmVySXRlcmF0b3JOZXh0KCkge1xuICAgICAgICBpZiAoX2luZGV4IDwgX3JlbW92ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVPcENvZGUgPSBfcmVtb3Zlc1tfaW5kZXgrK107XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKHJlbW92ZU9wQ29kZSwgJ0V4cGVjdGluZyBPcENvZGUgbnVtYmVyJyk7XG4gICAgICAgICAgICBpZiAocmVtb3ZlT3BDb2RlID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJOb2RlID0gX2xWaWV3W3JlbW92ZU9wQ29kZV07XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERvbU5vZGUock5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiByTm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF9zdGFjay5wdXNoKF9pbmRleCwgX3JlbW92ZXMpO1xuICAgICAgICAgICAgICAgIC8vIElDVXMgYXJlIHJlcHJlc2VudGVkIGJ5IG5lZ2F0aXZlIGluZGljZXNcbiAgICAgICAgICAgICAgICBjb25zdCB0SWN1SW5kZXggPSB+cmVtb3ZlT3BDb2RlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRJY3UgPSBfbFZpZXdbVFZJRVddLmRhdGFbdEljdUluZGV4XTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0VEljdSh0SWN1KTtcbiAgICAgICAgICAgICAgICBlbnRlckljdSh0SWN1LCBfbFZpZXcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpY3VDb250YWluZXJJdGVyYXRvck5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChfc3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfcmVtb3ZlcyA9IF9zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBfaW5kZXggPSBfc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGljdUNvbnRhaW5lckl0ZXJhdG9yTmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpY3VDb250YWluZXJJdGVyYXRvclN0YXJ0O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29udmVydHMgYEkxOG5DcmVhdGVPcENvZGVzYCBhcnJheSBpbnRvIGEgaHVtYW4gcmVhZGFibGUgZm9ybWF0LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgYXR0YWNoZWQgdG8gdGhlIGBJMThuQ3JlYXRlT3BDb2Rlcy5kZWJ1Z2AgcHJvcGVydHkgaWYgYG5nRGV2TW9kZWAgaXMgZW5hYmxlZC5cbiAqIFRoaXMgZnVuY3Rpb24gcHJvdmlkZXMgYSBodW1hbiByZWFkYWJsZSB2aWV3IG9mIHRoZSBvcGNvZGVzLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGRlYnVnZ2luZyB0aGVcbiAqIGFwcGxpY2F0aW9uIGFzIHdlbGwgYXMgd3JpdGluZyBtb3JlIHJlYWRhYmxlIHRlc3RzLlxuICpcbiAqIEBwYXJhbSB0aGlzIGBJMThuQ3JlYXRlT3BDb2Rlc2AgaWYgYXR0YWNoZWQgYXMgYSBtZXRob2QuXG4gKiBAcGFyYW0gb3Bjb2RlcyBgSTE4bkNyZWF0ZU9wQ29kZXNgIGlmIGludm9rZWQgYXMgYSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gaTE4bkNyZWF0ZU9wQ29kZXNUb1N0cmluZyhvcGNvZGVzKSB7XG4gICAgY29uc3QgY3JlYXRlT3BDb2RlcyA9IG9wY29kZXMgfHwgKEFycmF5LmlzQXJyYXkodGhpcykgPyB0aGlzIDogW10pO1xuICAgIGxldCBsaW5lcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3JlYXRlT3BDb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBvcENvZGUgPSBjcmVhdGVPcENvZGVzW2krK107XG4gICAgICAgIGNvbnN0IHRleHQgPSBjcmVhdGVPcENvZGVzW2ldO1xuICAgICAgICBjb25zdCBpc0NvbW1lbnQgPSAob3BDb2RlICYgSTE4bkNyZWF0ZU9wQ29kZS5DT01NRU5UKSA9PT0gSTE4bkNyZWF0ZU9wQ29kZS5DT01NRU5UO1xuICAgICAgICBjb25zdCBhcHBlbmROb3cgPSAob3BDb2RlICYgSTE4bkNyZWF0ZU9wQ29kZS5BUFBFTkRfRUFHRVJMWSkgPT09IEkxOG5DcmVhdGVPcENvZGUuQVBQRU5EX0VBR0VSTFk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gb3BDb2RlID4+PiBJMThuQ3JlYXRlT3BDb2RlLlNISUZUO1xuICAgICAgICBsaW5lcy5wdXNoKGBsVmlld1ske2luZGV4fV0gPSBkb2N1bWVudC4ke2lzQ29tbWVudCA/ICdjcmVhdGVDb21tZW50JyA6ICdjcmVhdGVUZXh0J30oJHtKU09OLnN0cmluZ2lmeSh0ZXh0KX0pO2ApO1xuICAgICAgICBpZiAoYXBwZW5kTm93KSB7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKGBwYXJlbnQuYXBwZW5kQ2hpbGQobFZpZXdbJHtpbmRleH1dKTtgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGluZXM7XG59XG4vKipcbiAqIENvbnZlcnRzIGBJMThuVXBkYXRlT3BDb2Rlc2AgYXJyYXkgaW50byBhIGh1bWFuIHJlYWRhYmxlIGZvcm1hdC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGF0dGFjaGVkIHRvIHRoZSBgSTE4blVwZGF0ZU9wQ29kZXMuZGVidWdgIHByb3BlcnR5IGlmIGBuZ0Rldk1vZGVgIGlzIGVuYWJsZWQuXG4gKiBUaGlzIGZ1bmN0aW9uIHByb3ZpZGVzIGEgaHVtYW4gcmVhZGFibGUgdmlldyBvZiB0aGUgb3Bjb2Rlcy4gVGhpcyBpcyB1c2VmdWwgd2hlbiBkZWJ1Z2dpbmcgdGhlXG4gKiBhcHBsaWNhdGlvbiBhcyB3ZWxsIGFzIHdyaXRpbmcgbW9yZSByZWFkYWJsZSB0ZXN0cy5cbiAqXG4gKiBAcGFyYW0gdGhpcyBgSTE4blVwZGF0ZU9wQ29kZXNgIGlmIGF0dGFjaGVkIGFzIGEgbWV0aG9kLlxuICogQHBhcmFtIG9wY29kZXMgYEkxOG5VcGRhdGVPcENvZGVzYCBpZiBpbnZva2VkIGFzIGEgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGkxOG5VcGRhdGVPcENvZGVzVG9TdHJpbmcob3Bjb2Rlcykge1xuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBPcENvZGVQYXJzZXIob3Bjb2RlcyB8fCAoQXJyYXkuaXNBcnJheSh0aGlzKSA/IHRoaXMgOiBbXSkpO1xuICAgIGxldCBsaW5lcyA9IFtdO1xuICAgIGZ1bmN0aW9uIGNvbnN1bWVPcENvZGUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgcmVmID0gdmFsdWUgPj4+IDIgLyogU0hJRlRfUkVGICovO1xuICAgICAgICBjb25zdCBvcENvZGUgPSB2YWx1ZSAmIDMgLyogTUFTS19PUENPREUgKi87XG4gICAgICAgIHN3aXRjaCAob3BDb2RlKSB7XG4gICAgICAgICAgICBjYXNlIDAgLyogVGV4dCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYChsVmlld1ske3JlZn1dIGFzIFRleHQpLnRleHRDb250ZW50ID0gJCQkYDtcbiAgICAgICAgICAgIGNhc2UgMSAvKiBBdHRyICovOlxuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gcGFyc2VyLmNvbnN1bWVTdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzYW5pdGl6YXRpb25GbiA9IHBhcnNlci5jb25zdW1lRnVuY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHNhbml0aXphdGlvbkZuID8gYCgke3Nhbml0aXphdGlvbkZufSkoJCQkKWAgOiAnJCQkJztcbiAgICAgICAgICAgICAgICByZXR1cm4gYChsVmlld1ske3JlZn1dIGFzIEVsZW1lbnQpLnNldEF0dHJpYnV0ZSgnJHthdHRyTmFtZX0nLCAke3ZhbHVlfSlgO1xuICAgICAgICAgICAgY2FzZSAyIC8qIEljdVN3aXRjaCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYGljdVN3aXRjaENhc2UoJHtyZWZ9LCAkJCQpYDtcbiAgICAgICAgICAgIGNhc2UgMyAvKiBJY3VVcGRhdGUgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBpY3VVcGRhdGVDYXNlKCR7cmVmfSlgO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5leHBlY3RlZCBPcENvZGUnKTtcbiAgICB9XG4gICAgd2hpbGUgKHBhcnNlci5oYXNNb3JlKCkpIHtcbiAgICAgICAgbGV0IG1hc2sgPSBwYXJzZXIuY29uc3VtZU51bWJlcigpO1xuICAgICAgICBsZXQgc2l6ZSA9IHBhcnNlci5jb25zdW1lTnVtYmVyKCk7XG4gICAgICAgIGNvbnN0IGVuZCA9IHBhcnNlci5pICsgc2l6ZTtcbiAgICAgICAgY29uc3Qgc3RhdGVtZW50cyA9IFtdO1xuICAgICAgICBsZXQgc3RhdGVtZW50ID0gJyc7XG4gICAgICAgIHdoaWxlIChwYXJzZXIuaSA8IGVuZCkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gcGFyc2VyLmNvbnN1bWVOdW1iZXJPclN0cmluZygpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZW1lbnQgKz0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyBOZWdhdGl2ZSBudW1iZXJzIGFyZSByZWYgaW5kZXhlc1xuICAgICAgICAgICAgICAgIC8vIEhlcmUgYGlgIHJlZmVycyB0byBjdXJyZW50IGJpbmRpbmcgaW5kZXguIEl0IGlzIHRvIHNpZ25pZnkgdGhhdCB0aGUgdmFsdWUgaXMgcmVsYXRpdmUsXG4gICAgICAgICAgICAgICAgLy8gcmF0aGVyIHRoYW4gYWJzb2x1dGUuXG4gICAgICAgICAgICAgICAgc3RhdGVtZW50ICs9ICcke2xWaWV3W2knICsgdmFsdWUgKyAnXX0nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUG9zaXRpdmUgbnVtYmVycyBhcmUgb3BlcmF0aW9ucy5cbiAgICAgICAgICAgICAgICBjb25zdCBvcENvZGVUZXh0ID0gY29uc3VtZU9wQ29kZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgc3RhdGVtZW50cy5wdXNoKG9wQ29kZVRleHQucmVwbGFjZSgnJCQkJywgJ2AnICsgc3RhdGVtZW50ICsgJ2AnKSArICc7Jyk7XG4gICAgICAgICAgICAgICAgc3RhdGVtZW50ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGluZXMucHVzaChgaWYgKG1hc2sgJiAwYiR7bWFzay50b1N0cmluZygyKX0pIHsgJHtzdGF0ZW1lbnRzLmpvaW4oJyAnKX0gfWApO1xuICAgIH1cbiAgICByZXR1cm4gbGluZXM7XG59XG4vKipcbiAqIENvbnZlcnRzIGBJMThuQ3JlYXRlT3BDb2Rlc2AgYXJyYXkgaW50byBhIGh1bWFuIHJlYWRhYmxlIGZvcm1hdC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGF0dGFjaGVkIHRvIHRoZSBgSTE4bkNyZWF0ZU9wQ29kZXMuZGVidWdgIGlmIGBuZ0Rldk1vZGVgIGlzIGVuYWJsZWQuIFRoaXNcbiAqIGZ1bmN0aW9uIHByb3ZpZGVzIGEgaHVtYW4gcmVhZGFibGUgdmlldyBvZiB0aGUgb3Bjb2Rlcy4gVGhpcyBpcyB1c2VmdWwgd2hlbiBkZWJ1Z2dpbmcgdGhlXG4gKiBhcHBsaWNhdGlvbiBhcyB3ZWxsIGFzIHdyaXRpbmcgbW9yZSByZWFkYWJsZSB0ZXN0cy5cbiAqXG4gKiBAcGFyYW0gdGhpcyBgSTE4bkNyZWF0ZU9wQ29kZXNgIGlmIGF0dGFjaGVkIGFzIGEgbWV0aG9kLlxuICogQHBhcmFtIG9wY29kZXMgYEkxOG5DcmVhdGVPcENvZGVzYCBpZiBpbnZva2VkIGFzIGEgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGljdUNyZWF0ZU9wQ29kZXNUb1N0cmluZyhvcGNvZGVzKSB7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IE9wQ29kZVBhcnNlcihvcGNvZGVzIHx8IChBcnJheS5pc0FycmF5KHRoaXMpID8gdGhpcyA6IFtdKSk7XG4gICAgbGV0IGxpbmVzID0gW107XG4gICAgZnVuY3Rpb24gY29uc3VtZU9wQ29kZShvcENvZGUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gZ2V0UGFyZW50RnJvbUljdUNyZWF0ZU9wQ29kZShvcENvZGUpO1xuICAgICAgICBjb25zdCByZWYgPSBnZXRSZWZGcm9tSWN1Q3JlYXRlT3BDb2RlKG9wQ29kZSk7XG4gICAgICAgIHN3aXRjaCAoZ2V0SW5zdHJ1Y3Rpb25Gcm9tSWN1Q3JlYXRlT3BDb2RlKG9wQ29kZSkpIHtcbiAgICAgICAgICAgIGNhc2UgMCAvKiBBcHBlbmRDaGlsZCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYChsVmlld1ske3BhcmVudH1dIGFzIEVsZW1lbnQpLmFwcGVuZENoaWxkKGxWaWV3WyR7bGFzdFJlZn1dKWA7XG4gICAgICAgICAgICBjYXNlIDEgLyogQXR0ciAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYChsVmlld1ske3JlZn1dIGFzIEVsZW1lbnQpLnNldEF0dHJpYnV0ZShcIiR7cGFyc2VyLmNvbnN1bWVTdHJpbmcoKX1cIiwgXCIke3BhcnNlci5jb25zdW1lU3RyaW5nKCl9XCIpYDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgT3BDb2RlOiAnICsgZ2V0SW5zdHJ1Y3Rpb25Gcm9tSWN1Q3JlYXRlT3BDb2RlKG9wQ29kZSkpO1xuICAgIH1cbiAgICBsZXQgbGFzdFJlZiA9IC0xO1xuICAgIHdoaWxlIChwYXJzZXIuaGFzTW9yZSgpKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHBhcnNlci5jb25zdW1lTnVtYmVyU3RyaW5nT3JNYXJrZXIoKTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBJQ1VfTUFSS0VSKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gcGFyc2VyLmNvbnN1bWVTdHJpbmcoKTtcbiAgICAgICAgICAgIGxhc3RSZWYgPSBwYXJzZXIuY29uc3VtZU51bWJlcigpO1xuICAgICAgICAgICAgbGluZXMucHVzaChgbFZpZXdbJHtsYXN0UmVmfV0gPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KFwiJHt0ZXh0fVwiKWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSBFTEVNRU5UX01BUktFUikge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IHBhcnNlci5jb25zdW1lU3RyaW5nKCk7XG4gICAgICAgICAgICBsYXN0UmVmID0gcGFyc2VyLmNvbnN1bWVOdW1iZXIoKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goYGxWaWV3WyR7bGFzdFJlZn1dID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIiR7dGV4dH1cIilgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBsYXN0UmVmID0gcGFyc2VyLmNvbnN1bWVOdW1iZXIoKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goYGxWaWV3WyR7bGFzdFJlZn1dID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIke3ZhbHVlfVwiKWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBjb25zdW1lT3BDb2RlKHZhbHVlKTtcbiAgICAgICAgICAgIGxpbmUgJiYgbGluZXMucHVzaChsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCB2YWx1ZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaW5lcztcbn1cbi8qKlxuICogQ29udmVydHMgYEkxOG5SZW1vdmVPcENvZGVzYCBhcnJheSBpbnRvIGEgaHVtYW4gcmVhZGFibGUgZm9ybWF0LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgYXR0YWNoZWQgdG8gdGhlIGBJMThuUmVtb3ZlT3BDb2Rlcy5kZWJ1Z2AgaWYgYG5nRGV2TW9kZWAgaXMgZW5hYmxlZC4gVGhpc1xuICogZnVuY3Rpb24gcHJvdmlkZXMgYSBodW1hbiByZWFkYWJsZSB2aWV3IG9mIHRoZSBvcGNvZGVzLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGRlYnVnZ2luZyB0aGVcbiAqIGFwcGxpY2F0aW9uIGFzIHdlbGwgYXMgd3JpdGluZyBtb3JlIHJlYWRhYmxlIHRlc3RzLlxuICpcbiAqIEBwYXJhbSB0aGlzIGBJMThuUmVtb3ZlT3BDb2Rlc2AgaWYgYXR0YWNoZWQgYXMgYSBtZXRob2QuXG4gKiBAcGFyYW0gb3Bjb2RlcyBgSTE4blJlbW92ZU9wQ29kZXNgIGlmIGludm9rZWQgYXMgYSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gaTE4blJlbW92ZU9wQ29kZXNUb1N0cmluZyhvcGNvZGVzKSB7XG4gICAgY29uc3QgcmVtb3ZlQ29kZXMgPSBvcGNvZGVzIHx8IChBcnJheS5pc0FycmF5KHRoaXMpID8gdGhpcyA6IFtdKTtcbiAgICBsZXQgbGluZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbW92ZUNvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG5vZGVPckljdUluZGV4ID0gcmVtb3ZlQ29kZXNbaV07XG4gICAgICAgIGlmIChub2RlT3JJY3VJbmRleCA+IDApIHtcbiAgICAgICAgICAgIC8vIFBvc2l0aXZlIG51bWJlcnMgYXJlIGBSTm9kZWBzLlxuICAgICAgICAgICAgbGluZXMucHVzaChgcmVtb3ZlKGxWaWV3WyR7bm9kZU9ySWN1SW5kZXh9XSlgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5lZ2F0aXZlIG51bWJlcnMgYXJlIElDVXNcbiAgICAgICAgICAgIGxpbmVzLnB1c2goYHJlbW92ZU5lc3RlZElDVSgke35ub2RlT3JJY3VJbmRleH0pYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxpbmVzO1xufVxuY2xhc3MgT3BDb2RlUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb2Rlcykge1xuICAgICAgICB0aGlzLmkgPSAwO1xuICAgICAgICB0aGlzLmNvZGVzID0gY29kZXM7XG4gICAgfVxuICAgIGhhc01vcmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmkgPCB0aGlzLmNvZGVzLmxlbmd0aDtcbiAgICB9XG4gICAgY29uc3VtZU51bWJlcigpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5jb2Rlc1t0aGlzLmkrK107XG4gICAgICAgIGFzc2VydE51bWJlcih2YWx1ZSwgJ2V4cGVjdGluZyBudW1iZXIgaW4gT3BDb2RlJyk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3VtZVN0cmluZygpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5jb2Rlc1t0aGlzLmkrK107XG4gICAgICAgIGFzc2VydFN0cmluZyh2YWx1ZSwgJ2V4cGVjdGluZyBzdHJpbmcgaW4gT3BDb2RlJyk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3VtZUZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmNvZGVzW3RoaXMuaSsrXTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0aW5nIGZ1bmN0aW9uIGluIE9wQ29kZScpO1xuICAgIH1cbiAgICBjb25zdW1lTnVtYmVyT3JTdHJpbmcoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuY29kZXNbdGhpcy5pKytdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydE51bWJlcih2YWx1ZSwgJ2V4cGVjdGluZyBudW1iZXIgb3Igc3RyaW5nIGluIE9wQ29kZScpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN1bWVOdW1iZXJTdHJpbmdPck1hcmtlcigpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5jb2Rlc1t0aGlzLmkrK107XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdmFsdWUgPT0gSUNVX01BUktFUiB8fFxuICAgICAgICAgICAgdmFsdWUgPT0gRUxFTUVOVF9NQVJLRVIpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnROdW1iZXIodmFsdWUsICdleHBlY3RpbmcgbnVtYmVyLCBzdHJpbmcsIElDVV9NQVJLRVIgb3IgRUxFTUVOVF9NQVJLRVIgaW4gT3BDb2RlJyk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgQklORElOR19SRUdFWFAgPSAv77+9KFxcZCspOj9cXGQq77+9L2dpO1xuY29uc3QgSUNVX1JFR0VYUCA9IC8oe1xccyrvv71cXGQrOj9cXGQq77+9XFxzKixcXHMqXFxTezZ9XFxzKixbXFxzXFxTXSp9KS9naTtcbmNvbnN0IE5FU1RFRF9JQ1UgPSAv77+9KFxcZCsp77+9LztcbmNvbnN0IElDVV9CTE9DS19SRUdFWFAgPSAvXlxccyoo77+9XFxkKzo/XFxkKu+/vSlcXHMqLFxccyooc2VsZWN0fHBsdXJhbClcXHMqLC87XG5jb25zdCBNQVJLRVIgPSBg77+9YDtcbmNvbnN0IFNVQlRFTVBMQVRFX1JFR0VYUCA9IC/vv71cXC8/XFwqKFxcZCs6XFxkKynvv70vZ2k7XG5jb25zdCBQSF9SRUdFWFAgPSAv77+9KFxcLz9bIypdXFxkKyk6P1xcZCrvv70vZ2k7XG4vKipcbiAqIEFuZ3VsYXIgRGFydCBpbnRyb2R1Y2VkICZuZ3NwOyBhcyBhIHBsYWNlaG9sZGVyIGZvciBub24tcmVtb3ZhYmxlIHNwYWNlLCBzZWU6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vZGFydC1sYW5nL2FuZ3VsYXIvYmxvYi8wYmI2MTEzODdkMjlkNjViNWFmN2Y5ZDI1MTVhYjU3MWZkM2ZiZWU0L190ZXN0cy90ZXN0L2NvbXBpbGVyL3ByZXNlcnZlX3doaXRlc3BhY2VfdGVzdC5kYXJ0I0wyNS1MMzJcbiAqIEluIEFuZ3VsYXIgRGFydCAmbmdzcDsgaXMgY29udmVydGVkIHRvIHRoZSAweEU1MDAgUFVBIChQcml2YXRlIFVzZSBBcmVhcykgdW5pY29kZSBjaGFyYWN0ZXJcbiAqIGFuZCBsYXRlciBvbiByZXBsYWNlZCBieSBhIHNwYWNlLiBXZSBhcmUgcmUtaW1wbGVtZW50aW5nIHRoZSBzYW1lIGlkZWEgaGVyZSwgc2luY2UgdHJhbnNsYXRpb25zXG4gKiBtaWdodCBjb250YWluIHRoaXMgc3BlY2lhbCBjaGFyYWN0ZXIuXG4gKi9cbmNvbnN0IE5HU1BfVU5JQ09ERV9SRUdFWFAgPSAvXFx1RTUwMC9nO1xuZnVuY3Rpb24gcmVwbGFjZU5nc3AodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZShOR1NQX1VOSUNPREVfUkVHRVhQLCAnICcpO1xufVxuLyoqXG4gKiBDcmVhdGUgZHluYW1pYyBub2RlcyBmcm9tIGkxOG4gdHJhbnNsYXRpb24gYmxvY2suXG4gKlxuICogLSBUZXh0IG5vZGVzIGFyZSBjcmVhdGVkIHN5bmNocm9ub3VzbHlcbiAqIC0gVE5vZGVzIGFyZSBsaW5rZWQgaW50byB0cmVlIGxhemlseVxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2BcbiAqIEBwYXJlbnRUTm9kZUluZGV4IGluZGV4IHRvIHRoZSBwYXJlbnQgVE5vZGUgb2YgdGhpcyBpMThuIGJsb2NrXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBgTFZpZXdgXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgYMm1ybVpMThuU3RhcnRgIGluc3RydWN0aW9uLlxuICogQHBhcmFtIG1lc3NhZ2UgTWVzc2FnZSB0byB0cmFuc2xhdGUuXG4gKiBAcGFyYW0gc3ViVGVtcGxhdGVJbmRleCBJbmRleCBpbnRvIHRoZSBzdWIgdGVtcGxhdGUgb2YgbWVzc2FnZSB0cmFuc2xhdGlvbi4gKGllIGluIGNhc2Ugb2ZcbiAqICAgICBgbmdJZmApICgtMSBvdGhlcndpc2UpXG4gKi9cbmZ1bmN0aW9uIGkxOG5TdGFydEZpcnN0Q3JlYXRlUGFzcyh0VmlldywgcGFyZW50VE5vZGVJbmRleCwgbFZpZXcsIGluZGV4LCBtZXNzYWdlLCBzdWJUZW1wbGF0ZUluZGV4KSB7XG4gICAgY29uc3Qgcm9vdFROb2RlID0gZ2V0Q3VycmVudFBhcmVudFROb2RlKCk7XG4gICAgY29uc3QgY3JlYXRlT3BDb2RlcyA9IFtdO1xuICAgIGNvbnN0IHVwZGF0ZU9wQ29kZXMgPSBbXTtcbiAgICBjb25zdCBleGlzdGluZ1ROb2RlU3RhY2sgPSBbW11dO1xuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgYXR0YWNoRGVidWdHZXR0ZXIoY3JlYXRlT3BDb2RlcywgaTE4bkNyZWF0ZU9wQ29kZXNUb1N0cmluZyk7XG4gICAgICAgIGF0dGFjaERlYnVnR2V0dGVyKHVwZGF0ZU9wQ29kZXMsIGkxOG5VcGRhdGVPcENvZGVzVG9TdHJpbmcpO1xuICAgIH1cbiAgICBtZXNzYWdlID0gZ2V0VHJhbnNsYXRpb25Gb3JUZW1wbGF0ZShtZXNzYWdlLCBzdWJUZW1wbGF0ZUluZGV4KTtcbiAgICBjb25zdCBtc2dQYXJ0cyA9IHJlcGxhY2VOZ3NwKG1lc3NhZ2UpLnNwbGl0KFBIX1JFR0VYUCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtc2dQYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgdmFsdWUgPSBtc2dQYXJ0c1tpXTtcbiAgICAgICAgaWYgKChpICYgMSkgPT09IDApIHtcbiAgICAgICAgICAgIC8vIEV2ZW4gaW5kZXhlcyBhcmUgdGV4dCAoaW5jbHVkaW5nIGJpbmRpbmdzICYgSUNVIGV4cHJlc3Npb25zKVxuICAgICAgICAgICAgY29uc3QgcGFydHMgPSBpMThuUGFyc2VUZXh0SW50b1BhcnRzQW5kSUNVKHZhbHVlKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgcGFydCA9IHBhcnRzW2pdO1xuICAgICAgICAgICAgICAgIGlmICgoaiAmIDEpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGBqYCBpcyBvZGQgdGhlcmVmb3JlIGBwYXJ0YCBpcyBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHBhcnQ7XG4gICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRTdHJpbmcodGV4dCwgJ1BhcnNlZCBJQ1UgcGFydCBzaG91bGQgYmUgc3RyaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0ICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaTE4blN0YXJ0Rmlyc3RDcmVhdGVQYXNzUHJvY2Vzc1RleHROb2RlKHRWaWV3LCByb290VE5vZGUsIGV4aXN0aW5nVE5vZGVTdGFja1swXSwgY3JlYXRlT3BDb2RlcywgdXBkYXRlT3BDb2RlcywgbFZpZXcsIHRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBgamAgaXMgRXZlbiB0aGVyZWZvciBgcGFydGAgaXMgYW4gYElDVUV4cHJlc3Npb25gXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGljdUV4cHJlc3Npb24gPSBwYXJ0O1xuICAgICAgICAgICAgICAgICAgICAvLyBWZXJpZnkgdGhhdCBJQ1UgZXhwcmVzc2lvbiBoYXMgdGhlIHJpZ2h0IHNoYXBlLiBUcmFuc2xhdGlvbnMgbWlnaHQgY29udGFpbiBpbnZhbGlkXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0cnVjdGlvbnMgKHdoaWxlIG9yaWdpbmFsIG1lc3NhZ2VzIHdlcmUgY29ycmVjdCksIHNvIElDVSBwYXJzaW5nIGF0IHJ1bnRpbWUgbWF5XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdCBzdWNjZWVkICh0aHVzIGBpY3VFeHByZXNzaW9uYCByZW1haW5zIGEgc3RyaW5nKS5cbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogd2UgaW50ZW50aW9uYWxseSByZXRhaW4gdGhlIGVycm9yIGhlcmUgYnkgbm90IHVzaW5nIGBuZ0Rldk1vZGVgLCBiZWNhdXNlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSB2YWx1ZSBjYW4gY2hhbmdlIGJhc2VkIG9uIHRoZSBsb2NhbGUgYW5kIHVzZXJzIGFyZW4ndCBndWFyYW50ZWVkIHRvIGhpdFxuICAgICAgICAgICAgICAgICAgICAvLyBhbiBpbnZhbGlkIHN0cmluZyB3aGlsZSB0aGV5J3JlIGRldmVsb3BpbmcuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaWN1RXhwcmVzc2lvbiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHBhcnNlIElDVSBleHByZXNzaW9uIGluIFwiJHttZXNzYWdlfVwiIG1lc3NhZ2UuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWN1Q29udGFpbmVyVE5vZGUgPSBjcmVhdGVUTm9kZUFuZEFkZE9wQ29kZSh0Vmlldywgcm9vdFROb2RlLCBleGlzdGluZ1ROb2RlU3RhY2tbMF0sIGxWaWV3LCBjcmVhdGVPcENvZGVzLCBuZ0Rldk1vZGUgPyBgSUNVICR7aW5kZXh9OiR7aWN1RXhwcmVzc2lvbi5tYWluQmluZGluZ31gIDogJycsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpY3VOb2RlSW5kZXggPSBpY3VDb250YWluZXJUTm9kZS5pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwoaWN1Tm9kZUluZGV4LCBIRUFERVJfT0ZGU0VULCAnSW5kZXggbXVzdCBiZSBpbiBhYnNvbHV0ZSBMVmlldyBvZmZzZXQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWN1U3RhcnQodFZpZXcsIGxWaWV3LCB1cGRhdGVPcENvZGVzLCBwYXJlbnRUTm9kZUluZGV4LCBpY3VFeHByZXNzaW9uLCBpY3VOb2RlSW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE9kZCBpbmRleGVzIGFyZSBwbGFjZWhvbGRlcnMgKGVsZW1lbnRzIGFuZCBzdWItdGVtcGxhdGVzKVxuICAgICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCB2YWx1ZSBpcyBzb21ldGhpbmcgbGlrZTogJy8jMToyJyAob3JpZ2luYWxseSBjb21pbmcgZnJvbSAn77+9LyMxOjLvv70nKVxuICAgICAgICAgICAgY29uc3QgaXNDbG9zaW5nID0gdmFsdWUuY2hhckNvZGVBdCgwKSA9PT0gNDcgLyogU0xBU0ggKi87XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdmFsdWUuY2hhckNvZGVBdChpc0Nsb3NpbmcgPyAxIDogMCk7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0T25lT2YodHlwZSwgNDIgLyogU1RBUiAqLywgMzUgLyogSEFTSCAqLyk7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IEhFQURFUl9PRkZTRVQgKyBOdW1iZXIucGFyc2VJbnQodmFsdWUuc3Vic3RyaW5nKChpc0Nsb3NpbmcgPyAyIDogMSkpKTtcbiAgICAgICAgICAgIGlmIChpc0Nsb3NpbmcpIHtcbiAgICAgICAgICAgICAgICBleGlzdGluZ1ROb2RlU3RhY2suc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50VE5vZGUoZ2V0Q3VycmVudFBhcmVudFROb2RlKCksIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHROb2RlID0gY3JlYXRlVE5vZGVQbGFjZWhvbGRlcih0VmlldywgZXhpc3RpbmdUTm9kZVN0YWNrWzBdLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdUTm9kZVN0YWNrLnVuc2hpZnQoW10pO1xuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRUTm9kZSh0Tm9kZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdFZpZXcuZGF0YVtpbmRleF0gPSB7XG4gICAgICAgIGNyZWF0ZTogY3JlYXRlT3BDb2RlcyxcbiAgICAgICAgdXBkYXRlOiB1cGRhdGVPcENvZGVzLFxuICAgIH07XG59XG4vKipcbiAqIEFsbG9jYXRlIHNwYWNlIGluIGkxOG4gUmFuZ2UgYWRkIGNyZWF0ZSBPcENvZGUgaW5zdHJ1Y3Rpb24gdG8gY3JlYXRlIGEgdGV4dCBvciBjb21tZW50IG5vZGUuXG4gKlxuICogQHBhcmFtIHRWaWV3IEN1cnJlbnQgYFRWaWV3YCBuZWVkZWQgdG8gYWxsb2NhdGUgc3BhY2UgaW4gaTE4biByYW5nZS5cbiAqIEBwYXJhbSByb290VE5vZGUgUm9vdCBgVE5vZGVgIG9mIHRoZSBpMThuIGJsb2NrLiBUaGlzIG5vZGUgZGV0ZXJtaW5lcyBpZiB0aGUgbmV3IFROb2RlIHdpbGwgYmVcbiAqICAgICBhZGRlZCBhcyBwYXJ0IG9mIHRoZSBgaTE4blN0YXJ0YCBpbnN0cnVjdGlvbiBvciBhcyBwYXJ0IG9mIHRoZSBgVE5vZGUuaW5zZXJ0QmVmb3JlSW5kZXhgLlxuICogQHBhcmFtIGV4aXN0aW5nVE5vZGVzIGludGVybmFsIHN0YXRlIGZvciBgYWRkVE5vZGVBbmRVcGRhdGVJbnNlcnRCZWZvcmVJbmRleGAuXG4gKiBAcGFyYW0gbFZpZXcgQ3VycmVudCBgTFZpZXdgIG5lZWRlZCB0byBhbGxvY2F0ZSBzcGFjZSBpbiBpMThuIHJhbmdlLlxuICogQHBhcmFtIGNyZWF0ZU9wQ29kZXMgQXJyYXkgc3RvcmluZyBgSTE4bkNyZWF0ZU9wQ29kZXNgIHdoZXJlIG5ldyBvcENvZGVzIHdpbGwgYmUgYWRkZWQuXG4gKiBAcGFyYW0gdGV4dCBUZXh0IHRvIGJlIGFkZGVkIHdoZW4gdGhlIGBUZXh0YCBvciBgQ29tbWVudGAgbm9kZSB3aWxsIGJlIGNyZWF0ZWQuXG4gKiBAcGFyYW0gaXNJQ1UgdHJ1ZSBpZiBhIGBDb21tZW50YCBub2RlIGZvciBJQ1UgKGluc3RlYWQgb2YgYFRleHRgKSBub2RlIHNob3VsZCBiZSBjcmVhdGVkLlxuICovXG5mdW5jdGlvbiBjcmVhdGVUTm9kZUFuZEFkZE9wQ29kZSh0Vmlldywgcm9vdFROb2RlLCBleGlzdGluZ1ROb2RlcywgbFZpZXcsIGNyZWF0ZU9wQ29kZXMsIHRleHQsIGlzSUNVKSB7XG4gICAgY29uc3QgaTE4bk5vZGVJZHggPSBhbGxvY0V4cGFuZG8odFZpZXcsIGxWaWV3LCAxLCBudWxsKTtcbiAgICBsZXQgb3BDb2RlID0gaTE4bk5vZGVJZHggPDwgSTE4bkNyZWF0ZU9wQ29kZS5TSElGVDtcbiAgICBsZXQgcGFyZW50VE5vZGUgPSBnZXRDdXJyZW50UGFyZW50VE5vZGUoKTtcbiAgICBpZiAocm9vdFROb2RlID09PSBwYXJlbnRUTm9kZSkge1xuICAgICAgICAvLyBGSVhNRShtaXNrbyk6IEEgbnVsbCBgcGFyZW50VE5vZGVgIHNob3VsZCByZXByZXNlbnQgd2hlbiB3ZSBmYWxsIG9mIHRoZSBgTFZpZXdgIGJvdW5kYXJ5LlxuICAgICAgICAvLyAodGhlcmUgaXMgbm8gcGFyZW50KSwgYnV0IGluIHNvbWUgY2lyY3Vtc3RhbmNlcyAoYmVjYXVzZSB3ZSBhcmUgaW5jb25zaXN0ZW50IGFib3V0IGhvdyB3ZSBzZXRcbiAgICAgICAgLy8gYHByZXZpb3VzT3JQYXJlbnRUTm9kZWApIGl0IGNvdWxkIHBvaW50IHRvIGByb290VE5vZGVgIFNvIHRoaXMgaXMgYSB3b3JrIGFyb3VuZC5cbiAgICAgICAgcGFyZW50VE5vZGUgPSBudWxsO1xuICAgIH1cbiAgICBpZiAocGFyZW50VE5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIHBhcmVudCB0aGF0IG1lYW5zIHRoYXQgd2UgY2FuIGVhZ2VybHkgYWRkIG5vZGVzLlxuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgcGFyZW50IHRoYW4gdGhlc2Ugbm9kZXMgY2FuJ3QgYmUgYWRkZWQgbm93IChhcyB0aGUgcGFyZW50IGhhcyBub3QgYmVlbiBjcmVhdGVkXG4gICAgICAgIC8vIHlldCkgYW5kIGluc3RlYWQgdGhlIGBwYXJlbnRUTm9kZWAgaXMgcmVzcG9uc2libGUgZm9yIGFkZGluZyBpdC4gU2VlXG4gICAgICAgIC8vIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGBcbiAgICAgICAgb3BDb2RlIHw9IEkxOG5DcmVhdGVPcENvZGUuQVBQRU5EX0VBR0VSTFk7XG4gICAgfVxuICAgIGlmIChpc0lDVSkge1xuICAgICAgICBvcENvZGUgfD0gSTE4bkNyZWF0ZU9wQ29kZS5DT01NRU5UO1xuICAgICAgICBlbnN1cmVJY3VDb250YWluZXJWaXNpdG9yTG9hZGVkKGxvYWRJY3VDb250YWluZXJWaXNpdG9yKTtcbiAgICB9XG4gICAgY3JlYXRlT3BDb2Rlcy5wdXNoKG9wQ29kZSwgdGV4dCA9PT0gbnVsbCA/ICcnIDogdGV4dCk7XG4gICAgLy8gV2Ugc3RvcmUgYHt7P319YCBzbyB0aGF0IHdoZW4gbG9va2luZyBhdCBkZWJ1ZyBgVE5vZGVUeXBlLnRlbXBsYXRlYCB3ZSBjYW4gc2VlIHdoZXJlIHRoZVxuICAgIC8vIGJpbmRpbmdzIGFyZS5cbiAgICBjb25zdCB0Tm9kZSA9IGNyZWF0ZVROb2RlQXRJbmRleCh0VmlldywgaTE4bk5vZGVJZHgsIGlzSUNVID8gMzIgLyogSWN1ICovIDogMSAvKiBUZXh0ICovLCB0ZXh0ID09PSBudWxsID8gKG5nRGV2TW9kZSA/ICd7ez99fScgOiAnJykgOiB0ZXh0LCBudWxsKTtcbiAgICBhZGRUTm9kZUFuZFVwZGF0ZUluc2VydEJlZm9yZUluZGV4KGV4aXN0aW5nVE5vZGVzLCB0Tm9kZSk7XG4gICAgY29uc3QgdE5vZGVJZHggPSB0Tm9kZS5pbmRleDtcbiAgICBzZXRDdXJyZW50VE5vZGUodE5vZGUsIGZhbHNlIC8qIFRleHQgbm9kZXMgYXJlIHNlbGYgY2xvc2luZyAqLyk7XG4gICAgaWYgKHBhcmVudFROb2RlICE9PSBudWxsICYmIHJvb3RUTm9kZSAhPT0gcGFyZW50VE5vZGUpIHtcbiAgICAgICAgLy8gV2UgYXJlIGEgY2hpbGQgb2YgZGVlcGVyIG5vZGUgKHJhdGhlciB0aGFuIGEgZGlyZWN0IGNoaWxkIG9mIGBpMThuU3RhcnRgIGluc3RydWN0aW9uLilcbiAgICAgICAgLy8gV2UgaGF2ZSB0byBtYWtlIHN1cmUgdG8gYWRkIG91cnNlbHZlcyB0byB0aGUgcGFyZW50LlxuICAgICAgICBzZXRUTm9kZUluc2VydEJlZm9yZUluZGV4KHBhcmVudFROb2RlLCB0Tm9kZUlkeCk7XG4gICAgfVxuICAgIHJldHVybiB0Tm9kZTtcbn1cbi8qKlxuICogUHJvY2Vzc2VzIHRleHQgbm9kZSBpbiBpMThuIGJsb2NrLlxuICpcbiAqIFRleHQgbm9kZXMgY2FuIGhhdmU6XG4gKiAtIENyZWF0ZSBpbnN0cnVjdGlvbiBpbiBgY3JlYXRlT3BDb2Rlc2AgZm9yIGNyZWF0aW5nIHRoZSB0ZXh0IG5vZGUuXG4gKiAtIEFsbG9jYXRlIHNwZWMgZm9yIHRleHQgbm9kZSBpbiBpMThuIHJhbmdlIG9mIGBMVmlld2BcbiAqIC0gSWYgY29udGFpbnMgYmluZGluZzpcbiAqICAgIC0gYmluZGluZ3MgPT4gYWxsb2NhdGUgc3BhY2UgaW4gaTE4biByYW5nZSBvZiBgTFZpZXdgIHRvIHN0b3JlIHRoZSBiaW5kaW5nIHZhbHVlLlxuICogICAgLSBwb3B1bGF0ZSBgdXBkYXRlT3BDb2Rlc2Agd2l0aCB1cGRhdGUgaW5zdHJ1Y3Rpb25zLlxuICpcbiAqIEBwYXJhbSB0VmlldyBDdXJyZW50IGBUVmlld2BcbiAqIEBwYXJhbSByb290VE5vZGUgUm9vdCBgVE5vZGVgIG9mIHRoZSBpMThuIGJsb2NrLiBUaGlzIG5vZGUgZGV0ZXJtaW5lcyBpZiB0aGUgbmV3IFROb2RlIHdpbGxcbiAqICAgICBiZSBhZGRlZCBhcyBwYXJ0IG9mIHRoZSBgaTE4blN0YXJ0YCBpbnN0cnVjdGlvbiBvciBhcyBwYXJ0IG9mIHRoZVxuICogICAgIGBUTm9kZS5pbnNlcnRCZWZvcmVJbmRleGAuXG4gKiBAcGFyYW0gZXhpc3RpbmdUTm9kZXMgaW50ZXJuYWwgc3RhdGUgZm9yIGBhZGRUTm9kZUFuZFVwZGF0ZUluc2VydEJlZm9yZUluZGV4YC5cbiAqIEBwYXJhbSBjcmVhdGVPcENvZGVzIExvY2F0aW9uIHdoZXJlIHRoZSBjcmVhdGlvbiBPcENvZGVzIHdpbGwgYmUgc3RvcmVkLlxuICogQHBhcmFtIGxWaWV3IEN1cnJlbnQgYExWaWV3YFxuICogQHBhcmFtIHRleHQgVGhlIHRyYW5zbGF0ZWQgdGV4dCAod2hpY2ggbWF5IGNvbnRhaW4gYmluZGluZylcbiAqL1xuZnVuY3Rpb24gaTE4blN0YXJ0Rmlyc3RDcmVhdGVQYXNzUHJvY2Vzc1RleHROb2RlKHRWaWV3LCByb290VE5vZGUsIGV4aXN0aW5nVE5vZGVzLCBjcmVhdGVPcENvZGVzLCB1cGRhdGVPcENvZGVzLCBsVmlldywgdGV4dCkge1xuICAgIGNvbnN0IGhhc0JpbmRpbmcgPSB0ZXh0Lm1hdGNoKEJJTkRJTkdfUkVHRVhQKTtcbiAgICBjb25zdCB0Tm9kZSA9IGNyZWF0ZVROb2RlQW5kQWRkT3BDb2RlKHRWaWV3LCByb290VE5vZGUsIGV4aXN0aW5nVE5vZGVzLCBsVmlldywgY3JlYXRlT3BDb2RlcywgaGFzQmluZGluZyA/IG51bGwgOiB0ZXh0LCBmYWxzZSk7XG4gICAgaWYgKGhhc0JpbmRpbmcpIHtcbiAgICAgICAgZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2Rlcyh1cGRhdGVPcENvZGVzLCB0ZXh0LCB0Tm9kZS5pbmRleCwgbnVsbCwgMCwgbnVsbCk7XG4gICAgfVxufVxuLyoqXG4gKiBTZWUgYGkxOG5BdHRyaWJ1dGVzYCBhYm92ZS5cbiAqL1xuZnVuY3Rpb24gaTE4bkF0dHJpYnV0ZXNGaXJzdFBhc3ModFZpZXcsIGluZGV4LCB2YWx1ZXMpIHtcbiAgICBjb25zdCBwcmV2aW91c0VsZW1lbnQgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICBjb25zdCBwcmV2aW91c0VsZW1lbnRJbmRleCA9IHByZXZpb3VzRWxlbWVudC5pbmRleDtcbiAgICBjb25zdCB1cGRhdGVPcENvZGVzID0gW107XG4gICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICBhdHRhY2hEZWJ1Z0dldHRlcih1cGRhdGVPcENvZGVzLCBpMThuVXBkYXRlT3BDb2Rlc1RvU3RyaW5nKTtcbiAgICB9XG4gICAgaWYgKHRWaWV3LmZpcnN0Q3JlYXRlUGFzcyAmJiB0Vmlldy5kYXRhW2luZGV4XSA9PT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSB2YWx1ZXNbaV07XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gdmFsdWVzW2kgKyAxXTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlICE9PSAnJykge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGF0dHJpYnV0ZSB2YWx1ZSBjb250YWlucyBhbiBJQ1UgYW5kIHRocm93IGFuIGVycm9yIGlmIHRoYXQncyB0aGUgY2FzZS5cbiAgICAgICAgICAgICAgICAvLyBJQ1VzIGluIGVsZW1lbnQgYXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZC5cbiAgICAgICAgICAgICAgICAvLyBOb3RlOiB3ZSBpbnRlbnRpb25hbGx5IHJldGFpbiB0aGUgZXJyb3IgaGVyZSBieSBub3QgdXNpbmcgYG5nRGV2TW9kZWAsIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAvLyB0aGUgYHZhbHVlYCBjYW4gY2hhbmdlIGJhc2VkIG9uIHRoZSBsb2NhbGUgYW5kIHVzZXJzIGFyZW4ndCBndWFyYW50ZWVkIHRvIGhpdFxuICAgICAgICAgICAgICAgIC8vIGFuIGludmFsaWQgc3RyaW5nIHdoaWxlIHRoZXkncmUgZGV2ZWxvcGluZy5cbiAgICAgICAgICAgICAgICBpZiAoSUNVX1JFR0VYUC50ZXN0KG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSUNVIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIGluIGF0dHJpYnV0ZXMuIE1lc3NhZ2U6IFwiJHttZXNzYWdlfVwiLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpMThuIGF0dHJpYnV0ZXMgdGhhdCBoaXQgdGhpcyBjb2RlIHBhdGggYXJlIGd1YXJhbnRlZWQgdG8gaGF2ZSBiaW5kaW5ncywgYmVjYXVzZVxuICAgICAgICAgICAgICAgIC8vIHRoZSBjb21waWxlciB0cmVhdHMgc3RhdGljIGkxOG4gYXR0cmlidXRlcyBhcyByZWd1bGFyIGF0dHJpYnV0ZSBiaW5kaW5ncy5cbiAgICAgICAgICAgICAgICAvLyBTaW5jZSB0aGlzIG1heSBub3QgYmUgdGhlIGZpcnN0IGkxOG4gYXR0cmlidXRlIG9uIHRoaXMgZWxlbWVudCB3ZSBuZWVkIHRvIHBhc3MgaW4gaG93XG4gICAgICAgICAgICAgICAgLy8gbWFueSBwcmV2aW91cyBiaW5kaW5ncyB0aGVyZSBoYXZlIGFscmVhZHkgYmVlbi5cbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzKHVwZGF0ZU9wQ29kZXMsIG1lc3NhZ2UsIHByZXZpb3VzRWxlbWVudEluZGV4LCBhdHRyTmFtZSwgY291bnRCaW5kaW5ncyh1cGRhdGVPcENvZGVzKSwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdFZpZXcuZGF0YVtpbmRleF0gPSB1cGRhdGVPcENvZGVzO1xuICAgIH1cbn1cbi8qKlxuICogR2VuZXJhdGUgdGhlIE9wQ29kZXMgdG8gdXBkYXRlIHRoZSBiaW5kaW5ncyBvZiBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0gdXBkYXRlT3BDb2RlcyBQbGFjZSB3aGVyZSB0aGUgdXBkYXRlIG9wY29kZXMgd2lsbCBiZSBzdG9yZWQuXG4gKiBAcGFyYW0gc3RyIFRoZSBzdHJpbmcgY29udGFpbmluZyB0aGUgYmluZGluZ3MuXG4gKiBAcGFyYW0gZGVzdGluYXRpb25Ob2RlIEluZGV4IG9mIHRoZSBkZXN0aW5hdGlvbiBub2RlIHdoaWNoIHdpbGwgcmVjZWl2ZSB0aGUgYmluZGluZy5cbiAqIEBwYXJhbSBhdHRyTmFtZSBOYW1lIG9mIHRoZSBhdHRyaWJ1dGUsIGlmIHRoZSBzdHJpbmcgYmVsb25ncyB0byBhbiBhdHRyaWJ1dGUuXG4gKiBAcGFyYW0gc2FuaXRpemVGbiBTYW5pdGl6YXRpb24gZnVuY3Rpb24gdXNlZCB0byBzYW5pdGl6ZSB0aGUgc3RyaW5nIGFmdGVyIHVwZGF0ZSwgaWYgbmVjZXNzYXJ5LlxuICogQHBhcmFtIGJpbmRpbmdTdGFydCBUaGUgbFZpZXcgaW5kZXggb2YgdGhlIG5leHQgZXhwcmVzc2lvbiB0aGF0IGNhbiBiZSBib3VuZCB2aWEgYW4gb3BDb2RlLlxuICogQHJldHVybnMgVGhlIG1hc2sgdmFsdWUgZm9yIHRoZXNlIGJpbmRpbmdzXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlQmluZGluZ1VwZGF0ZU9wQ29kZXModXBkYXRlT3BDb2Rlcywgc3RyLCBkZXN0aW5hdGlvbk5vZGUsIGF0dHJOYW1lLCBiaW5kaW5nU3RhcnQsIHNhbml0aXplRm4pIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0R3JlYXRlclRoYW5PckVxdWFsKGRlc3RpbmF0aW9uTm9kZSwgSEVBREVSX09GRlNFVCwgJ0luZGV4IG11c3QgYmUgaW4gYWJzb2x1dGUgTFZpZXcgb2Zmc2V0Jyk7XG4gICAgY29uc3QgbWFza0luZGV4ID0gdXBkYXRlT3BDb2Rlcy5sZW5ndGg7IC8vIExvY2F0aW9uIG9mIG1hc2tcbiAgICBjb25zdCBzaXplSW5kZXggPSBtYXNrSW5kZXggKyAxOyAvLyBsb2NhdGlvbiBvZiBzaXplIGZvciBza2lwcGluZ1xuICAgIHVwZGF0ZU9wQ29kZXMucHVzaChudWxsLCBudWxsKTsgLy8gQWxsb2Mgc3BhY2UgZm9yIG1hc2sgYW5kIHNpemVcbiAgICBjb25zdCBzdGFydEluZGV4ID0gbWFza0luZGV4ICsgMjsgLy8gbG9jYXRpb24gb2YgZmlyc3QgYWxsb2NhdGlvbi5cbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIGF0dGFjaERlYnVnR2V0dGVyKHVwZGF0ZU9wQ29kZXMsIGkxOG5VcGRhdGVPcENvZGVzVG9TdHJpbmcpO1xuICAgIH1cbiAgICBjb25zdCB0ZXh0UGFydHMgPSBzdHIuc3BsaXQoQklORElOR19SRUdFWFApO1xuICAgIGxldCBtYXNrID0gMDtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRleHRQYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICBjb25zdCB0ZXh0VmFsdWUgPSB0ZXh0UGFydHNbal07XG4gICAgICAgIGlmIChqICYgMSkge1xuICAgICAgICAgICAgLy8gT2RkIGluZGV4ZXMgYXJlIGJpbmRpbmdzXG4gICAgICAgICAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBiaW5kaW5nU3RhcnQgKyBwYXJzZUludCh0ZXh0VmFsdWUsIDEwKTtcbiAgICAgICAgICAgIHVwZGF0ZU9wQ29kZXMucHVzaCgtMSAtIGJpbmRpbmdJbmRleCk7XG4gICAgICAgICAgICBtYXNrID0gbWFzayB8IHRvTWFza0JpdChiaW5kaW5nSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRleHRWYWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgIC8vIEV2ZW4gaW5kZXhlcyBhcmUgdGV4dFxuICAgICAgICAgICAgdXBkYXRlT3BDb2Rlcy5wdXNoKHRleHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlT3BDb2Rlcy5wdXNoKGRlc3RpbmF0aW9uTm9kZSA8PCAyIC8qIFNISUZUX1JFRiAqLyB8XG4gICAgICAgIChhdHRyTmFtZSA/IDEgLyogQXR0ciAqLyA6IDAgLyogVGV4dCAqLykpO1xuICAgIGlmIChhdHRyTmFtZSkge1xuICAgICAgICB1cGRhdGVPcENvZGVzLnB1c2goYXR0ck5hbWUsIHNhbml0aXplRm4pO1xuICAgIH1cbiAgICB1cGRhdGVPcENvZGVzW21hc2tJbmRleF0gPSBtYXNrO1xuICAgIHVwZGF0ZU9wQ29kZXNbc2l6ZUluZGV4XSA9IHVwZGF0ZU9wQ29kZXMubGVuZ3RoIC0gc3RhcnRJbmRleDtcbiAgICByZXR1cm4gbWFzaztcbn1cbi8qKlxuICogQ291bnQgdGhlIG51bWJlciBvZiBiaW5kaW5ncyBpbiB0aGUgZ2l2ZW4gYG9wQ29kZXNgLlxuICpcbiAqIEl0IGNvdWxkIGJlIHBvc3NpYmxlIHRvIHNwZWVkIHRoaXMgdXAsIGJ5IHBhc3NpbmcgdGhlIG51bWJlciBvZiBiaW5kaW5ncyBmb3VuZCBiYWNrIGZyb21cbiAqIGBnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzKClgIHRvIGBpMThuQXR0cmlidXRlc0ZpcnN0UGFzcygpYCBidXQgdGhpcyB3b3VsZCB0aGVuIHJlcXVpcmUgbW9yZVxuICogY29tcGxleGl0eSBpbiB0aGUgY29kZSBhbmQvb3IgdHJhbnNpZW50IG9iamVjdHMgdG8gYmUgY3JlYXRlZC5cbiAqXG4gKiBTaW5jZSB0aGlzIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIG9uY2Ugd2hlbiB0aGUgdGVtcGxhdGUgaXMgaW5zdGFudGlhdGVkLCBpcyB0cml2aWFsIGluIHRoZVxuICogZmlyc3QgaW5zdGFuY2UgKHNpbmNlIGBvcENvZGVzYCB3aWxsIGJlIGFuIGVtcHR5IGFycmF5KSwgYW5kIGl0IGlzIG5vdCBjb21tb24gZm9yIGVsZW1lbnRzIHRvXG4gKiBjb250YWluIG11bHRpcGxlIGkxOG4gYm91bmQgYXR0cmlidXRlcywgaXQgc2VlbXMgbGlrZSB0aGlzIGlzIGEgcmVhc29uYWJsZSBjb21wcm9taXNlLlxuICovXG5mdW5jdGlvbiBjb3VudEJpbmRpbmdzKG9wQ29kZXMpIHtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3BDb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBvcENvZGUgPSBvcENvZGVzW2ldO1xuICAgICAgICAvLyBCaW5kaW5ncyBhcmUgbmVnYXRpdmUgbnVtYmVycy5cbiAgICAgICAgaWYgKHR5cGVvZiBvcENvZGUgPT09ICdudW1iZXInICYmIG9wQ29kZSA8IDApIHtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvdW50O1xufVxuLyoqXG4gKiBDb252ZXJ0IGJpbmRpbmcgaW5kZXggdG8gbWFzayBiaXQuXG4gKlxuICogRWFjaCBpbmRleCByZXByZXNlbnRzIGEgc2luZ2xlIGJpdCBvbiB0aGUgYml0LW1hc2suIEJlY2F1c2UgYml0LW1hc2sgb25seSBoYXMgMzIgYml0cywgd2UgbWFrZVxuICogdGhlIDMybmQgYml0IHNoYXJlIGFsbCBtYXNrcyBmb3IgYWxsIGJpbmRpbmdzIGhpZ2hlciB0aGFuIDMyLiBTaW5jZSBpdCBpcyBleHRyZW1lbHkgcmFyZSB0b1xuICogaGF2ZSBtb3JlIHRoYW4gMzIgYmluZGluZ3MgdGhpcyB3aWxsIGJlIGhpdCB2ZXJ5IHJhcmVseS4gVGhlIGRvd25zaWRlIG9mIGhpdHRpbmcgdGhpcyBjb3JuZXJcbiAqIGNhc2UgaXMgdGhhdCB3ZSB3aWxsIGV4ZWN1dGUgYmluZGluZyBjb2RlIG1vcmUgb2Z0ZW4gdGhhbiBuZWNlc3NhcnkuIChwZW5hbHR5IG9mIHBlcmZvcm1hbmNlKVxuICovXG5mdW5jdGlvbiB0b01hc2tCaXQoYmluZGluZ0luZGV4KSB7XG4gICAgcmV0dXJuIDEgPDwgTWF0aC5taW4oYmluZGluZ0luZGV4LCAzMSk7XG59XG5mdW5jdGlvbiBpc1Jvb3RUZW1wbGF0ZU1lc3NhZ2Uoc3ViVGVtcGxhdGVJbmRleCkge1xuICAgIHJldHVybiBzdWJUZW1wbGF0ZUluZGV4ID09PSAtMTtcbn1cbi8qKlxuICogUmVtb3ZlcyBldmVyeXRoaW5nIGluc2lkZSB0aGUgc3ViLXRlbXBsYXRlcyBvZiBhIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUlubmVyVGVtcGxhdGVUcmFuc2xhdGlvbihtZXNzYWdlKSB7XG4gICAgbGV0IG1hdGNoO1xuICAgIGxldCByZXMgPSAnJztcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGxldCBpblRlbXBsYXRlID0gZmFsc2U7XG4gICAgbGV0IHRhZ01hdGNoZWQ7XG4gICAgd2hpbGUgKChtYXRjaCA9IFNVQlRFTVBMQVRFX1JFR0VYUC5leGVjKG1lc3NhZ2UpKSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoIWluVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHJlcyArPSBtZXNzYWdlLnN1YnN0cmluZyhpbmRleCwgbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICAgICAgdGFnTWF0Y2hlZCA9IG1hdGNoWzFdO1xuICAgICAgICAgICAgaW5UZW1wbGF0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAobWF0Y2hbMF0gPT09IGAke01BUktFUn0vKiR7dGFnTWF0Y2hlZH0ke01BUktFUn1gKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBtYXRjaC5pbmRleDtcbiAgICAgICAgICAgICAgICBpblRlbXBsYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydEVxdWFsKGluVGVtcGxhdGUsIGZhbHNlLCBgVGFnIG1pc21hdGNoOiB1bmFibGUgdG8gZmluZCB0aGUgZW5kIG9mIHRoZSBzdWItdGVtcGxhdGUgaW4gdGhlIHRyYW5zbGF0aW9uIFwiJHttZXNzYWdlfVwiYCk7XG4gICAgcmVzICs9IG1lc3NhZ2Uuc3Vic3RyKGluZGV4KTtcbiAgICByZXR1cm4gcmVzO1xufVxuLyoqXG4gKiBFeHRyYWN0cyBhIHBhcnQgb2YgYSBtZXNzYWdlIGFuZCByZW1vdmVzIHRoZSByZXN0LlxuICpcbiAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgZm9yIGV4dHJhY3RpbmcgYSBwYXJ0IG9mIHRoZSBtZXNzYWdlIGFzc29jaWF0ZWQgd2l0aCBhIHRlbXBsYXRlLiBBXG4gKiB0cmFuc2xhdGVkIG1lc3NhZ2UgY2FuIHNwYW4gbXVsdGlwbGUgdGVtcGxhdGVzLlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqIDxkaXYgaTE4bj5UcmFuc2xhdGUgPHNwYW4gKm5nSWY+bWU8L3NwYW4+ITwvZGl2PlxuICogYGBgXG4gKlxuICogQHBhcmFtIG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gY3JvcFxuICogQHBhcmFtIHN1YlRlbXBsYXRlSW5kZXggSW5kZXggb2YgdGhlIHN1Yi10ZW1wbGF0ZSB0byBleHRyYWN0LiBJZiB1bmRlZmluZWQgaXQgcmV0dXJucyB0aGVcbiAqIGV4dGVybmFsIHRlbXBsYXRlIGFuZCByZW1vdmVzIGFsbCBzdWItdGVtcGxhdGVzLlxuICovXG5mdW5jdGlvbiBnZXRUcmFuc2xhdGlvbkZvclRlbXBsYXRlKG1lc3NhZ2UsIHN1YlRlbXBsYXRlSW5kZXgpIHtcbiAgICBpZiAoaXNSb290VGVtcGxhdGVNZXNzYWdlKHN1YlRlbXBsYXRlSW5kZXgpKSB7XG4gICAgICAgIC8vIFdlIHdhbnQgdGhlIHJvb3QgdGVtcGxhdGUgbWVzc2FnZSwgaWdub3JlIGFsbCBzdWItdGVtcGxhdGVzXG4gICAgICAgIHJldHVybiByZW1vdmVJbm5lclRlbXBsYXRlVHJhbnNsYXRpb24obWVzc2FnZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBXZSB3YW50IGEgc3BlY2lmaWMgc3ViLXRlbXBsYXRlXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gbWVzc2FnZS5pbmRleE9mKGA6JHtzdWJUZW1wbGF0ZUluZGV4fSR7TUFSS0VSfWApICsgMiArIHN1YlRlbXBsYXRlSW5kZXgudG9TdHJpbmcoKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGVuZCA9IG1lc3NhZ2Uuc2VhcmNoKG5ldyBSZWdFeHAoYCR7TUFSS0VSfVxcXFwvXFxcXCpcXFxcZCs6JHtzdWJUZW1wbGF0ZUluZGV4fSR7TUFSS0VSfWApKTtcbiAgICAgICAgcmV0dXJuIHJlbW92ZUlubmVyVGVtcGxhdGVUcmFuc2xhdGlvbihtZXNzYWdlLnN1YnN0cmluZyhzdGFydCwgZW5kKSk7XG4gICAgfVxufVxuLyoqXG4gKiBHZW5lcmF0ZSB0aGUgT3BDb2RlcyBmb3IgSUNVIGV4cHJlc3Npb25zLlxuICpcbiAqIEBwYXJhbSBpY3VFeHByZXNzaW9uXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggd2hlcmUgdGhlIGFuY2hvciBpcyBzdG9yZWQgYW5kIGFuIG9wdGlvbmFsIGBUSWN1Q29udGFpbmVyTm9kZWBcbiAqICAgLSBgbFZpZXdbYW5jaG9ySWR4XWAgcG9pbnRzIHRvIGEgYENvbW1lbnRgIG5vZGUgcmVwcmVzZW50aW5nIHRoZSBhbmNob3IgZm9yIHRoZSBJQ1UuXG4gKiAgIC0gYHRWaWV3LmRhdGFbYW5jaG9ySWR4XWAgcG9pbnRzIHRvIHRoZSBgVEljdUNvbnRhaW5lck5vZGVgIGlmIElDVSBpcyByb290IChgbnVsbGAgb3RoZXJ3aXNlKVxuICovXG5mdW5jdGlvbiBpY3VTdGFydCh0VmlldywgbFZpZXcsIHVwZGF0ZU9wQ29kZXMsIHBhcmVudElkeCwgaWN1RXhwcmVzc2lvbiwgYW5jaG9ySWR4KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoaWN1RXhwcmVzc2lvbiwgJ0lDVSBleHByZXNzaW9uIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgIGxldCBiaW5kaW5nTWFzayA9IDA7XG4gICAgY29uc3QgdEljdSA9IHtcbiAgICAgICAgdHlwZTogaWN1RXhwcmVzc2lvbi50eXBlLFxuICAgICAgICBjdXJyZW50Q2FzZUxWaWV3SW5kZXg6IGFsbG9jRXhwYW5kbyh0VmlldywgbFZpZXcsIDEsIG51bGwpLFxuICAgICAgICBhbmNob3JJZHgsXG4gICAgICAgIGNhc2VzOiBbXSxcbiAgICAgICAgY3JlYXRlOiBbXSxcbiAgICAgICAgcmVtb3ZlOiBbXSxcbiAgICAgICAgdXBkYXRlOiBbXVxuICAgIH07XG4gICAgYWRkVXBkYXRlSWN1U3dpdGNoKHVwZGF0ZU9wQ29kZXMsIGljdUV4cHJlc3Npb24sIGFuY2hvcklkeCk7XG4gICAgc2V0VEljdSh0VmlldywgYW5jaG9ySWR4LCB0SWN1KTtcbiAgICBjb25zdCB2YWx1ZXMgPSBpY3VFeHByZXNzaW9uLnZhbHVlcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBFYWNoIHZhbHVlIGlzIGFuIGFycmF5IG9mIHN0cmluZ3MgJiBvdGhlciBJQ1UgZXhwcmVzc2lvbnNcbiAgICAgICAgY29uc3QgdmFsdWVBcnIgPSB2YWx1ZXNbaV07XG4gICAgICAgIGNvbnN0IG5lc3RlZEljdXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB2YWx1ZUFyci5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZUFycltqXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgLy8gSXQgaXMgYW4gbmVzdGVkIElDVSBleHByZXNzaW9uXG4gICAgICAgICAgICAgICAgY29uc3QgaWN1SW5kZXggPSBuZXN0ZWRJY3VzLnB1c2godmFsdWUpIC0gMTtcbiAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIG5lc3RlZCBJQ1UgZXhwcmVzc2lvbiBieSBhIGNvbW1lbnQgbm9kZVxuICAgICAgICAgICAgICAgIHZhbHVlQXJyW2pdID0gYDwhLS3vv70ke2ljdUluZGV4fe+/vS0tPmA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYmluZGluZ01hc2sgPSBwYXJzZUljdUNhc2UodFZpZXcsIHRJY3UsIGxWaWV3LCB1cGRhdGVPcENvZGVzLCBwYXJlbnRJZHgsIGljdUV4cHJlc3Npb24uY2FzZXNbaV0sIHZhbHVlQXJyLmpvaW4oJycpLCBuZXN0ZWRJY3VzKSB8XG4gICAgICAgICAgICBiaW5kaW5nTWFzaztcbiAgICB9XG4gICAgaWYgKGJpbmRpbmdNYXNrKSB7XG4gICAgICAgIGFkZFVwZGF0ZUljdVVwZGF0ZSh1cGRhdGVPcENvZGVzLCBiaW5kaW5nTWFzaywgYW5jaG9ySWR4KTtcbiAgICB9XG59XG4vKipcbiAqIFBhcnNlcyB0ZXh0IGNvbnRhaW5pbmcgYW4gSUNVIGV4cHJlc3Npb24gYW5kIHByb2R1Y2VzIGEgSlNPTiBvYmplY3QgZm9yIGl0LlxuICogT3JpZ2luYWwgY29kZSBmcm9tIGNsb3N1cmUgbGlicmFyeSwgbW9kaWZpZWQgZm9yIEFuZ3VsYXIuXG4gKlxuICogQHBhcmFtIHBhdHRlcm4gVGV4dCBjb250YWluaW5nIGFuIElDVSBleHByZXNzaW9uIHRoYXQgbmVlZHMgdG8gYmUgcGFyc2VkLlxuICpcbiAqL1xuZnVuY3Rpb24gcGFyc2VJQ1VCbG9jayhwYXR0ZXJuKSB7XG4gICAgY29uc3QgY2FzZXMgPSBbXTtcbiAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICBsZXQgaWN1VHlwZSA9IDEgLyogcGx1cmFsICovO1xuICAgIGxldCBtYWluQmluZGluZyA9IDA7XG4gICAgcGF0dGVybiA9IHBhdHRlcm4ucmVwbGFjZShJQ1VfQkxPQ0tfUkVHRVhQLCBmdW5jdGlvbiAoc3RyLCBiaW5kaW5nLCB0eXBlKSB7XG4gICAgICAgIGlmICh0eXBlID09PSAnc2VsZWN0Jykge1xuICAgICAgICAgICAgaWN1VHlwZSA9IDAgLyogc2VsZWN0ICovO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWN1VHlwZSA9IDEgLyogcGx1cmFsICovO1xuICAgICAgICB9XG4gICAgICAgIG1haW5CaW5kaW5nID0gcGFyc2VJbnQoYmluZGluZy5zdWJzdHIoMSksIDEwKTtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH0pO1xuICAgIGNvbnN0IHBhcnRzID0gaTE4blBhcnNlVGV4dEludG9QYXJ0c0FuZElDVShwYXR0ZXJuKTtcbiAgICAvLyBMb29raW5nIGZvciAoa2V5IGJsb2NrKSsgc2VxdWVuY2UuIE9uZSBvZiB0aGUga2V5cyBoYXMgdG8gYmUgXCJvdGhlclwiLlxuICAgIGZvciAobGV0IHBvcyA9IDA7IHBvcyA8IHBhcnRzLmxlbmd0aDspIHtcbiAgICAgICAgbGV0IGtleSA9IHBhcnRzW3BvcysrXS50cmltKCk7XG4gICAgICAgIGlmIChpY3VUeXBlID09PSAxIC8qIHBsdXJhbCAqLykge1xuICAgICAgICAgICAgLy8gS2V5IGNhbiBiZSBcIj14XCIsIHdlIGp1c3Qgd2FudCBcInhcIlxuICAgICAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoL1xccyooPzo9KT8oXFx3KylcXHMqLywgJyQxJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2VzLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBibG9ja3MgPSBpMThuUGFyc2VUZXh0SW50b1BhcnRzQW5kSUNVKHBhcnRzW3BvcysrXSk7XG4gICAgICAgIGlmIChjYXNlcy5sZW5ndGggPiB2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChibG9ja3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRPRE8ob2NvbWJlKTogc3VwcG9ydCBJQ1UgZXhwcmVzc2lvbnMgaW4gYXR0cmlidXRlcywgc2VlICMyMTYxNVxuICAgIHJldHVybiB7IHR5cGU6IGljdVR5cGUsIG1haW5CaW5kaW5nOiBtYWluQmluZGluZywgY2FzZXMsIHZhbHVlcyB9O1xufVxuLyoqXG4gKiBCcmVha3MgcGF0dGVybiBpbnRvIHN0cmluZ3MgYW5kIHRvcCBsZXZlbCB7Li4ufSBibG9ja3MuXG4gKiBDYW4gYmUgdXNlZCB0byBicmVhayBhIG1lc3NhZ2UgaW50byB0ZXh0IGFuZCBJQ1UgZXhwcmVzc2lvbnMsIG9yIHRvIGJyZWFrIGFuIElDVSBleHByZXNzaW9uXG4gKiBpbnRvIGtleXMgYW5kIGNhc2VzLiBPcmlnaW5hbCBjb2RlIGZyb20gY2xvc3VyZSBsaWJyYXJ5LCBtb2RpZmllZCBmb3IgQW5ndWxhci5cbiAqXG4gKiBAcGFyYW0gcGF0dGVybiAoc3ViKVBhdHRlcm4gdG8gYmUgYnJva2VuLlxuICogQHJldHVybnMgQW4gYEFycmF5PHN0cmluZ3xJY3VFeHByZXNzaW9uPmAgd2hlcmU6XG4gKiAgIC0gb2RkIHBvc2l0aW9uczogYHN0cmluZ2AgPT4gdGV4dCBiZXR3ZWVuIElDVSBleHByZXNzaW9uc1xuICogICAtIGV2ZW4gcG9zaXRpb25zOiBgSUNVRXhwcmVzc2lvbmAgPT4gSUNVIGV4cHJlc3Npb24gcGFyc2VkIGludG8gYElDVUV4cHJlc3Npb25gIHJlY29yZC5cbiAqL1xuZnVuY3Rpb24gaTE4blBhcnNlVGV4dEludG9QYXJ0c0FuZElDVShwYXR0ZXJuKSB7XG4gICAgaWYgKCFwYXR0ZXJuKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgbGV0IHByZXZQb3MgPSAwO1xuICAgIGNvbnN0IGJyYWNlU3RhY2sgPSBbXTtcbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgY29uc3QgYnJhY2VzID0gL1t7fV0vZztcbiAgICAvLyBsYXN0SW5kZXggZG9lc24ndCBnZXQgc2V0IHRvIDAgc28gd2UgaGF2ZSB0by5cbiAgICBicmFjZXMubGFzdEluZGV4ID0gMDtcbiAgICBsZXQgbWF0Y2g7XG4gICAgd2hpbGUgKG1hdGNoID0gYnJhY2VzLmV4ZWMocGF0dGVybikpIHtcbiAgICAgICAgY29uc3QgcG9zID0gbWF0Y2guaW5kZXg7XG4gICAgICAgIGlmIChtYXRjaFswXSA9PSAnfScpIHtcbiAgICAgICAgICAgIGJyYWNlU3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAoYnJhY2VTdGFjay5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIEVuZCBvZiB0aGUgYmxvY2suXG4gICAgICAgICAgICAgICAgY29uc3QgYmxvY2sgPSBwYXR0ZXJuLnN1YnN0cmluZyhwcmV2UG9zLCBwb3MpO1xuICAgICAgICAgICAgICAgIGlmIChJQ1VfQkxPQ0tfUkVHRVhQLnRlc3QoYmxvY2spKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChwYXJzZUlDVUJsb2NrKGJsb2NrKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goYmxvY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2UG9zID0gcG9zICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChicmFjZVN0YWNrLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3Vic3RyaW5nID0gcGF0dGVybi5zdWJzdHJpbmcocHJldlBvcywgcG9zKTtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goc3Vic3RyaW5nKTtcbiAgICAgICAgICAgICAgICBwcmV2UG9zID0gcG9zICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyYWNlU3RhY2sucHVzaCgneycpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHN1YnN0cmluZyA9IHBhdHRlcm4uc3Vic3RyaW5nKHByZXZQb3MpO1xuICAgIHJlc3VsdHMucHVzaChzdWJzdHJpbmcpO1xuICAgIHJldHVybiByZXN1bHRzO1xufVxuLyoqXG4gKiBQYXJzZXMgYSBub2RlLCBpdHMgY2hpbGRyZW4gYW5kIGl0cyBzaWJsaW5ncywgYW5kIGdlbmVyYXRlcyB0aGUgbXV0YXRlICYgdXBkYXRlIE9wQ29kZXMuXG4gKlxuICovXG5mdW5jdGlvbiBwYXJzZUljdUNhc2UodFZpZXcsIHRJY3UsIGxWaWV3LCB1cGRhdGVPcENvZGVzLCBwYXJlbnRJZHgsIGNhc2VOYW1lLCB1bnNhZmVDYXNlSHRtbCwgbmVzdGVkSWN1cykge1xuICAgIGNvbnN0IGNyZWF0ZSA9IFtdO1xuICAgIGNvbnN0IHJlbW92ZSA9IFtdO1xuICAgIGNvbnN0IHVwZGF0ZSA9IFtdO1xuICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgYXR0YWNoRGVidWdHZXR0ZXIoY3JlYXRlLCBpY3VDcmVhdGVPcENvZGVzVG9TdHJpbmcpO1xuICAgICAgICBhdHRhY2hEZWJ1Z0dldHRlcihyZW1vdmUsIGkxOG5SZW1vdmVPcENvZGVzVG9TdHJpbmcpO1xuICAgICAgICBhdHRhY2hEZWJ1Z0dldHRlcih1cGRhdGUsIGkxOG5VcGRhdGVPcENvZGVzVG9TdHJpbmcpO1xuICAgIH1cbiAgICB0SWN1LmNhc2VzLnB1c2goY2FzZU5hbWUpO1xuICAgIHRJY3UuY3JlYXRlLnB1c2goY3JlYXRlKTtcbiAgICB0SWN1LnJlbW92ZS5wdXNoKHJlbW92ZSk7XG4gICAgdEljdS51cGRhdGUucHVzaCh1cGRhdGUpO1xuICAgIGNvbnN0IGluZXJ0Qm9keUhlbHBlciA9IGdldEluZXJ0Qm9keUhlbHBlcihnZXREb2N1bWVudCgpKTtcbiAgICBjb25zdCBpbmVydEJvZHlFbGVtZW50ID0gaW5lcnRCb2R5SGVscGVyLmdldEluZXJ0Qm9keUVsZW1lbnQodW5zYWZlQ2FzZUh0bWwpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGluZXJ0Qm9keUVsZW1lbnQsICdVbmFibGUgdG8gZ2VuZXJhdGUgaW5lcnQgYm9keSBlbGVtZW50Jyk7XG4gICAgY29uc3QgaW5lcnRSb290Tm9kZSA9IGdldFRlbXBsYXRlQ29udGVudChpbmVydEJvZHlFbGVtZW50KSB8fCBpbmVydEJvZHlFbGVtZW50O1xuICAgIGlmIChpbmVydFJvb3ROb2RlKSB7XG4gICAgICAgIHJldHVybiB3YWxrSWN1VHJlZSh0VmlldywgdEljdSwgbFZpZXcsIHVwZGF0ZU9wQ29kZXMsIGNyZWF0ZSwgcmVtb3ZlLCB1cGRhdGUsIGluZXJ0Um9vdE5vZGUsIHBhcmVudElkeCwgbmVzdGVkSWN1cywgMCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG59XG5mdW5jdGlvbiB3YWxrSWN1VHJlZSh0VmlldywgdEljdSwgbFZpZXcsIHNoYXJlZFVwZGF0ZU9wQ29kZXMsIGNyZWF0ZSwgcmVtb3ZlLCB1cGRhdGUsIHBhcmVudE5vZGUsIHBhcmVudElkeCwgbmVzdGVkSWN1cywgZGVwdGgpIHtcbiAgICBsZXQgYmluZGluZ01hc2sgPSAwO1xuICAgIGxldCBjdXJyZW50Tm9kZSA9IHBhcmVudE5vZGUuZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoY3VycmVudE5vZGUpIHtcbiAgICAgICAgY29uc3QgbmV3SW5kZXggPSBhbGxvY0V4cGFuZG8odFZpZXcsIGxWaWV3LCAxLCBudWxsKTtcbiAgICAgICAgc3dpdGNoIChjdXJyZW50Tm9kZS5ub2RlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gY3VycmVudE5vZGU7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGlmIChWQUxJRF9FTEVNRU5UUy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBhZGRDcmVhdGVOb2RlQW5kQXBwZW5kKGNyZWF0ZSwgRUxFTUVOVF9NQVJLRVIsIHRhZ05hbWUsIHBhcmVudElkeCwgbmV3SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB0Vmlldy5kYXRhW25ld0luZGV4XSA9IHRhZ05hbWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsQXR0cnMgPSBlbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxBdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0ciA9IGVsQXR0cnMuaXRlbShpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VyQXR0ck5hbWUgPSBhdHRyLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc0JpbmRpbmcgPSAhIWF0dHIudmFsdWUubWF0Y2goQklORElOR19SRUdFWFApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgYXNzdW1lIHRoZSBpbnB1dCBzdHJpbmcgaXMgc2FmZSwgdW5sZXNzIGl0J3MgdXNpbmcgYSBiaW5kaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQmluZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChWQUxJRF9BVFRSUy5oYXNPd25Qcm9wZXJ0eShsb3dlckF0dHJOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoVVJJX0FUVFJTW2xvd2VyQXR0ck5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzKHVwZGF0ZSwgYXR0ci52YWx1ZSwgbmV3SW5kZXgsIGF0dHIubmFtZSwgMCwgX3Nhbml0aXplVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChTUkNTRVRfQVRUUlNbbG93ZXJBdHRyTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlQmluZGluZ1VwZGF0ZU9wQ29kZXModXBkYXRlLCBhdHRyLnZhbHVlLCBuZXdJbmRleCwgYXR0ci5uYW1lLCAwLCBzYW5pdGl6ZVNyY3NldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzKHVwZGF0ZSwgYXR0ci52YWx1ZSwgbmV3SW5kZXgsIGF0dHIubmFtZSwgMCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBXQVJOSU5HOiBpZ25vcmluZyB1bnNhZmUgYXR0cmlidXRlIHZhbHVlIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke2xvd2VyQXR0ck5hbWV9IG9uIGVsZW1lbnQgJHt0YWdOYW1lfSBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgKHNlZSBodHRwczovL2cuY28vbmcvc2VjdXJpdHkjeHNzKWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZENyZWF0ZUF0dHJpYnV0ZShjcmVhdGUsIG5ld0luZGV4LCBhdHRyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBQYXJzZSB0aGUgY2hpbGRyZW4gb2YgdGhpcyBub2RlIChpZiBhbnkpXG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmdNYXNrID0gd2Fsa0ljdVRyZWUodFZpZXcsIHRJY3UsIGxWaWV3LCBzaGFyZWRVcGRhdGVPcENvZGVzLCBjcmVhdGUsIHJlbW92ZSwgdXBkYXRlLCBjdXJyZW50Tm9kZSwgbmV3SW5kZXgsIG5lc3RlZEljdXMsIGRlcHRoICsgMSkgfFxuICAgICAgICAgICAgICAgICAgICAgICAgYmluZGluZ01hc2s7XG4gICAgICAgICAgICAgICAgICAgIGFkZFJlbW92ZU5vZGUocmVtb3ZlLCBuZXdJbmRleCwgZGVwdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTm9kZS5URVhUX05PREU6XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdXJyZW50Tm9kZS50ZXh0Q29udGVudCB8fCAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNCaW5kaW5nID0gdmFsdWUubWF0Y2goQklORElOR19SRUdFWFApO1xuICAgICAgICAgICAgICAgIGFkZENyZWF0ZU5vZGVBbmRBcHBlbmQoY3JlYXRlLCBudWxsLCBoYXNCaW5kaW5nID8gJycgOiB2YWx1ZSwgcGFyZW50SWR4LCBuZXdJbmRleCk7XG4gICAgICAgICAgICAgICAgYWRkUmVtb3ZlTm9kZShyZW1vdmUsIG5ld0luZGV4LCBkZXB0aCk7XG4gICAgICAgICAgICAgICAgaWYgKGhhc0JpbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ01hc2sgPVxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2Rlcyh1cGRhdGUsIHZhbHVlLCBuZXdJbmRleCwgbnVsbCwgMCwgbnVsbCkgfCBiaW5kaW5nTWFzaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOlxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBjb21tZW50IG5vZGUgaXMgYSBwbGFjZWhvbGRlciBmb3IgYSBuZXN0ZWQgSUNVXG4gICAgICAgICAgICAgICAgY29uc3QgaXNOZXN0ZWRJY3UgPSBORVNURURfSUNVLmV4ZWMoY3VycmVudE5vZGUudGV4dENvbnRlbnQgfHwgJycpO1xuICAgICAgICAgICAgICAgIGlmIChpc05lc3RlZEljdSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXN0ZWRJY3VJbmRleCA9IHBhcnNlSW50KGlzTmVzdGVkSWN1WzFdLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGljdUV4cHJlc3Npb24gPSBuZXN0ZWRJY3VzW25lc3RlZEljdUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjb21tZW50IG5vZGUgdGhhdCB3aWxsIGFuY2hvciB0aGUgSUNVIGV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgYWRkQ3JlYXRlTm9kZUFuZEFwcGVuZChjcmVhdGUsIElDVV9NQVJLRVIsIG5nRGV2TW9kZSA/IGBuZXN0ZWQgSUNVICR7bmVzdGVkSWN1SW5kZXh9YCA6ICcnLCBwYXJlbnRJZHgsIG5ld0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgaWN1U3RhcnQodFZpZXcsIGxWaWV3LCBzaGFyZWRVcGRhdGVPcENvZGVzLCBwYXJlbnRJZHgsIGljdUV4cHJlc3Npb24sIG5ld0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkUmVtb3ZlTmVzdGVkSWN1KHJlbW92ZSwgbmV3SW5kZXgsIGRlcHRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIGJpbmRpbmdNYXNrO1xufVxuZnVuY3Rpb24gYWRkUmVtb3ZlTm9kZShyZW1vdmUsIGluZGV4LCBkZXB0aCkge1xuICAgIGlmIChkZXB0aCA9PT0gMCkge1xuICAgICAgICByZW1vdmUucHVzaChpbmRleCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYWRkUmVtb3ZlTmVzdGVkSWN1KHJlbW92ZSwgaW5kZXgsIGRlcHRoKSB7XG4gICAgaWYgKGRlcHRoID09PSAwKSB7XG4gICAgICAgIHJlbW92ZS5wdXNoKH5pbmRleCk7IC8vIHJlbW92ZSBJQ1UgYXQgYGluZGV4YFxuICAgICAgICByZW1vdmUucHVzaChpbmRleCk7IC8vIHJlbW92ZSBJQ1UgY29tbWVudCBhdCBgaW5kZXhgXG4gICAgfVxufVxuZnVuY3Rpb24gYWRkVXBkYXRlSWN1U3dpdGNoKHVwZGF0ZSwgaWN1RXhwcmVzc2lvbiwgaW5kZXgpIHtcbiAgICB1cGRhdGUucHVzaCh0b01hc2tCaXQoaWN1RXhwcmVzc2lvbi5tYWluQmluZGluZyksIDIsIC0xIC0gaWN1RXhwcmVzc2lvbi5tYWluQmluZGluZywgaW5kZXggPDwgMiAvKiBTSElGVF9SRUYgKi8gfCAyIC8qIEljdVN3aXRjaCAqLyk7XG59XG5mdW5jdGlvbiBhZGRVcGRhdGVJY3VVcGRhdGUodXBkYXRlLCBiaW5kaW5nTWFzaywgaW5kZXgpIHtcbiAgICB1cGRhdGUucHVzaChiaW5kaW5nTWFzaywgMSwgaW5kZXggPDwgMiAvKiBTSElGVF9SRUYgKi8gfCAzIC8qIEljdVVwZGF0ZSAqLyk7XG59XG5mdW5jdGlvbiBhZGRDcmVhdGVOb2RlQW5kQXBwZW5kKGNyZWF0ZSwgbWFya2VyLCB0ZXh0LCBhcHBlbmRUb1BhcmVudElkeCwgY3JlYXRlQXRJZHgpIHtcbiAgICBpZiAobWFya2VyICE9PSBudWxsKSB7XG4gICAgICAgIGNyZWF0ZS5wdXNoKG1hcmtlcik7XG4gICAgfVxuICAgIGNyZWF0ZS5wdXNoKHRleHQsIGNyZWF0ZUF0SWR4LCBpY3VDcmVhdGVPcENvZGUoMCAvKiBBcHBlbmRDaGlsZCAqLywgYXBwZW5kVG9QYXJlbnRJZHgsIGNyZWF0ZUF0SWR4KSk7XG59XG5mdW5jdGlvbiBhZGRDcmVhdGVBdHRyaWJ1dGUoY3JlYXRlLCBuZXdJbmRleCwgYXR0cikge1xuICAgIGNyZWF0ZS5wdXNoKG5ld0luZGV4IDw8IDEgLyogU0hJRlRfUkVGICovIHwgMSAvKiBBdHRyICovLCBhdHRyLm5hbWUsIGF0dHIudmFsdWUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIGkxOG5Qb3N0cHJvY2VzcyBjb25zdHNcbmNvbnN0IFJPT1RfVEVNUExBVEVfSUQgPSAwO1xuY29uc3QgUFBfTVVMVElfVkFMVUVfUExBQ0VIT0xERVJTX1JFR0VYUCA9IC9cXFso77+9Lis/77+9PylcXF0vO1xuY29uc3QgUFBfUExBQ0VIT0xERVJTX1JFR0VYUCA9IC9cXFso77+9Lis/77+9PylcXF18KO+/vVxcLz9cXCpcXGQrOlxcZCvvv70pL2c7XG5jb25zdCBQUF9JQ1VfVkFSU19SRUdFWFAgPSAvKHtcXHMqKShWQVJfKFBMVVJBTHxTRUxFQ1QpKF9cXGQrKT8pKFxccyosKS9nO1xuY29uc3QgUFBfSUNVX1BMQUNFSE9MREVSU19SRUdFWFAgPSAveyhbQS1aMC05X10rKX0vZztcbmNvbnN0IFBQX0lDVVNfUkVHRVhQID0gL++/vUkxOE5fRVhQXyhJQ1UoX1xcZCspPynvv70vZztcbmNvbnN0IFBQX0NMT1NFX1RFTVBMQVRFX1JFR0VYUCA9IC9cXC9cXCovO1xuY29uc3QgUFBfVEVNUExBVEVfSURfUkVHRVhQID0gL1xcZCtcXDooXFxkKykvO1xuLyoqXG4gKiBIYW5kbGVzIG1lc3NhZ2Ugc3RyaW5nIHBvc3QtcHJvY2Vzc2luZyBmb3IgaW50ZXJuYXRpb25hbGl6YXRpb24uXG4gKlxuICogSGFuZGxlcyBtZXNzYWdlIHN0cmluZyBwb3N0LXByb2Nlc3NpbmcgYnkgdHJhbnNmb3JtaW5nIGl0IGZyb20gaW50ZXJtZWRpYXRlXG4gKiBmb3JtYXQgKHRoYXQgbWlnaHQgY29udGFpbiBzb21lIG1hcmtlcnMgdGhhdCB3ZSBuZWVkIHRvIHJlcGxhY2UpIHRvIHRoZSBmaW5hbFxuICogZm9ybSwgY29uc3VtYWJsZSBieSBpMThuU3RhcnQgaW5zdHJ1Y3Rpb24uIFBvc3QgcHJvY2Vzc2luZyBzdGVwcyBpbmNsdWRlOlxuICpcbiAqIDEuIFJlc29sdmUgYWxsIG11bHRpLXZhbHVlIGNhc2VzIChsaWtlIFvvv70qMTox77+977+9IzI6Me+/vXzvv70jNDox77+9fO+/vTXvv71dKVxuICogMi4gUmVwbGFjZSBhbGwgSUNVIHZhcnMgKGxpa2UgXCJWQVJfUExVUkFMXCIpXG4gKiAzLiBSZXBsYWNlIGFsbCBwbGFjZWhvbGRlcnMgdXNlZCBpbnNpZGUgSUNVcyBpbiBhIGZvcm0gb2Yge1BMQUNFSE9MREVSfVxuICogNC4gUmVwbGFjZSBhbGwgSUNVIHJlZmVyZW5jZXMgd2l0aCBjb3JyZXNwb25kaW5nIHZhbHVlcyAobGlrZSDvv71JQ1VfRVhQX0lDVV8x77+9KVxuICogICAgaW4gY2FzZSBtdWx0aXBsZSBJQ1VzIGhhdmUgdGhlIHNhbWUgcGxhY2Vob2xkZXIgbmFtZVxuICpcbiAqIEBwYXJhbSBtZXNzYWdlIFJhdyB0cmFuc2xhdGlvbiBzdHJpbmcgZm9yIHBvc3QgcHJvY2Vzc2luZ1xuICogQHBhcmFtIHJlcGxhY2VtZW50cyBTZXQgb2YgcmVwbGFjZW1lbnRzIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWRcbiAqXG4gKiBAcmV0dXJucyBUcmFuc2Zvcm1lZCBzdHJpbmcgdGhhdCBjYW4gYmUgY29uc3VtZWQgYnkgaTE4blN0YXJ0IGluc3RydWN0aW9uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gaTE4blBvc3Rwcm9jZXNzKG1lc3NhZ2UsIHJlcGxhY2VtZW50cyA9IHt9KSB7XG4gICAgLyoqXG4gICAgICogU3RlcCAxOiByZXNvbHZlIGFsbCBtdWx0aS12YWx1ZSBwbGFjZWhvbGRlcnMgbGlrZSBb77+9IzXvv71877+9KjE6Me+/ve+/vSMyOjHvv71877+9IzQ6Me+/vV1cbiAgICAgKlxuICAgICAqIE5vdGU6IGR1ZSB0byB0aGUgd2F5IHdlIHByb2Nlc3MgbmVzdGVkIHRlbXBsYXRlcyAoQkZTKSwgbXVsdGktdmFsdWUgcGxhY2Vob2xkZXJzIGFyZSB0eXBpY2FsbHlcbiAgICAgKiBncm91cGVkIGJ5IHRlbXBsYXRlcywgZm9yIGV4YW1wbGU6IFvvv70jNe+/vXzvv70jNu+/vXzvv70jMTox77+9fO+/vSMzOjLvv71dIHdoZXJlIO+/vSM177+9IGFuZCDvv70jNu+/vSBiZWxvbmcgdG8gcm9vdFxuICAgICAqIHRlbXBsYXRlLCDvv70jMTox77+9IGJlbG9uZyB0byBuZXN0ZWQgdGVtcGxhdGUgd2l0aCBpbmRleCAxIGFuZCDvv70jMToy77+9IC0gbmVzdGVkIHRlbXBsYXRlIHdpdGggaW5kZXhcbiAgICAgKiAzLiBIb3dldmVyIGluIHJlYWwgdGVtcGxhdGVzIHRoZSBvcmRlciBtaWdodCBiZSBkaWZmZXJlbnQ6IGkuZS4g77+9IzE6Me+/vSBhbmQvb3Ig77+9IzM6Mu+/vSBtYXkgZ28gaW5cbiAgICAgKiBmcm9udCBvZiDvv70jNu+/vS4gVGhlIHBvc3QgcHJvY2Vzc2luZyBzdGVwIHJlc3RvcmVzIHRoZSByaWdodCBvcmRlciBieSBrZWVwaW5nIHRyYWNrIG9mIHRoZVxuICAgICAqIHRlbXBsYXRlIGlkIHN0YWNrIGFuZCBsb29rcyBmb3IgcGxhY2Vob2xkZXJzIHRoYXQgYmVsb25nIHRvIHRoZSBjdXJyZW50bHkgYWN0aXZlIHRlbXBsYXRlLlxuICAgICAqL1xuICAgIGxldCByZXN1bHQgPSBtZXNzYWdlO1xuICAgIGlmIChQUF9NVUxUSV9WQUxVRV9QTEFDRUhPTERFUlNfUkVHRVhQLnRlc3QobWVzc2FnZSkpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IHt9O1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZUlkc1N0YWNrID0gW1JPT1RfVEVNUExBVEVfSURdO1xuICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShQUF9QTEFDRUhPTERFUlNfUkVHRVhQLCAobSwgcGhzLCB0bXBsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gcGhzIHx8IHRtcGw7XG4gICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlcnMgPSBtYXRjaGVzW2NvbnRlbnRdIHx8IFtdO1xuICAgICAgICAgICAgaWYgKCFwbGFjZWhvbGRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29udGVudC5zcGxpdCgnfCcpLmZvckVhY2goKHBsYWNlaG9sZGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gcGxhY2Vob2xkZXIubWF0Y2goUFBfVEVNUExBVEVfSURfUkVHRVhQKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVJZCA9IG1hdGNoID8gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKSA6IFJPT1RfVEVNUExBVEVfSUQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2xvc2VUZW1wbGF0ZVRhZyA9IFBQX0NMT1NFX1RFTVBMQVRFX1JFR0VYUC50ZXN0KHBsYWNlaG9sZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJzLnB1c2goW3RlbXBsYXRlSWQsIGlzQ2xvc2VUZW1wbGF0ZVRhZywgcGxhY2Vob2xkZXJdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtYXRjaGVzW2NvbnRlbnRdID0gcGxhY2Vob2xkZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwbGFjZWhvbGRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpMThuIHBvc3Rwcm9jZXNzOiB1bm1hdGNoZWQgcGxhY2Vob2xkZXIgLSAke2NvbnRlbnR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VGVtcGxhdGVJZCA9IHRlbXBsYXRlSWRzU3RhY2tbdGVtcGxhdGVJZHNTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGxldCBpZHggPSAwO1xuICAgICAgICAgICAgLy8gZmluZCBwbGFjZWhvbGRlciBpbmRleCB0aGF0IG1hdGNoZXMgY3VycmVudCB0ZW1wbGF0ZSBpZFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwbGFjZWhvbGRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAocGxhY2Vob2xkZXJzW2ldWzBdID09PSBjdXJyZW50VGVtcGxhdGVJZCkge1xuICAgICAgICAgICAgICAgICAgICBpZHggPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGVtcGxhdGUgaWQgc3RhY2sgYmFzZWQgb24gdGhlIGN1cnJlbnQgdGFnIGV4dHJhY3RlZFxuICAgICAgICAgICAgY29uc3QgW3RlbXBsYXRlSWQsIGlzQ2xvc2VUZW1wbGF0ZVRhZywgcGxhY2Vob2xkZXJdID0gcGxhY2Vob2xkZXJzW2lkeF07XG4gICAgICAgICAgICBpZiAoaXNDbG9zZVRlbXBsYXRlVGFnKSB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVJZHNTdGFjay5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnRUZW1wbGF0ZUlkICE9PSB0ZW1wbGF0ZUlkKSB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVJZHNTdGFjay5wdXNoKHRlbXBsYXRlSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVtb3ZlIHByb2Nlc3NlZCB0YWcgZnJvbSB0aGUgbGlzdFxuICAgICAgICAgICAgcGxhY2Vob2xkZXJzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gcmV0dXJuIGN1cnJlbnQgcmVzdWx0IGlmIG5vIHJlcGxhY2VtZW50cyBzcGVjaWZpZWRcbiAgICBpZiAoIU9iamVjdC5rZXlzKHJlcGxhY2VtZW50cykubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0ZXAgMjogcmVwbGFjZSBhbGwgSUNVIHZhcnMgKGxpa2UgXCJWQVJfUExVUkFMXCIpXG4gICAgICovXG4gICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoUFBfSUNVX1ZBUlNfUkVHRVhQLCAobWF0Y2gsIHN0YXJ0LCBrZXksIF90eXBlLCBfaWR4LCBlbmQpID0+IHtcbiAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpID8gYCR7c3RhcnR9JHtyZXBsYWNlbWVudHNba2V5XX0ke2VuZH1gIDogbWF0Y2g7XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU3RlcCAzOiByZXBsYWNlIGFsbCBwbGFjZWhvbGRlcnMgdXNlZCBpbnNpZGUgSUNVcyBpbiBhIGZvcm0gb2Yge1BMQUNFSE9MREVSfVxuICAgICAqL1xuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFBQX0lDVV9QTEFDRUhPTERFUlNfUkVHRVhQLCAobWF0Y2gsIGtleSkgPT4ge1xuICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnRzLmhhc093blByb3BlcnR5KGtleSkgPyByZXBsYWNlbWVudHNba2V5XSA6IG1hdGNoO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFN0ZXAgNDogcmVwbGFjZSBhbGwgSUNVIHJlZmVyZW5jZXMgd2l0aCBjb3JyZXNwb25kaW5nIHZhbHVlcyAobGlrZSDvv71JQ1VfRVhQX0lDVV8x77+9KSBpbiBjYXNlXG4gICAgICogbXVsdGlwbGUgSUNVcyBoYXZlIHRoZSBzYW1lIHBsYWNlaG9sZGVyIG5hbWVcbiAgICAgKi9cbiAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShQUF9JQ1VTX1JFR0VYUCwgKG1hdGNoLCBrZXkpID0+IHtcbiAgICAgICAgaWYgKHJlcGxhY2VtZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ID0gcmVwbGFjZW1lbnRzW2tleV07XG4gICAgICAgICAgICBpZiAoIWxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpMThuIHBvc3Rwcm9jZXNzOiB1bm1hdGNoZWQgSUNVIC0gJHttYXRjaH0gd2l0aCBrZXk6ICR7a2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIE1hcmtzIGEgYmxvY2sgb2YgdGV4dCBhcyB0cmFuc2xhdGFibGUuXG4gKlxuICogVGhlIGluc3RydWN0aW9ucyBgaTE4blN0YXJ0YCBhbmQgYGkxOG5FbmRgIG1hcmsgdGhlIHRyYW5zbGF0aW9uIGJsb2NrIGluIHRoZSB0ZW1wbGF0ZS5cbiAqIFRoZSB0cmFuc2xhdGlvbiBgbWVzc2FnZWAgaXMgdGhlIHZhbHVlIHdoaWNoIGlzIGxvY2FsZSBzcGVjaWZpYy4gVGhlIHRyYW5zbGF0aW9uIHN0cmluZyBtYXlcbiAqIGNvbnRhaW4gcGxhY2Vob2xkZXJzIHdoaWNoIGFzc29jaWF0ZSBpbm5lciBlbGVtZW50cyBhbmQgc3ViLXRlbXBsYXRlcyB3aXRoaW4gdGhlIHRyYW5zbGF0aW9uLlxuICpcbiAqIFRoZSB0cmFuc2xhdGlvbiBgbWVzc2FnZWAgcGxhY2Vob2xkZXJzIGFyZTpcbiAqIC0gYO+/vXtpbmRleH0oOntibG9ja30p77+9YDogKkJpbmRpbmcgUGxhY2Vob2xkZXIqOiBNYXJrcyBhIGxvY2F0aW9uIHdoZXJlIGFuIGV4cHJlc3Npb24gd2lsbCBiZVxuICogICBpbnRlcnBvbGF0ZWQgaW50by4gVGhlIHBsYWNlaG9sZGVyIGBpbmRleGAgcG9pbnRzIHRvIHRoZSBleHByZXNzaW9uIGJpbmRpbmcgaW5kZXguIEFuIG9wdGlvbmFsXG4gKiAgIGBibG9ja2AgdGhhdCBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICogLSBg77+9I3tpbmRleH0oOntibG9ja30p77+9YC9g77+9LyN7aW5kZXh9KDp7YmxvY2t9Ke+/vWA6ICpFbGVtZW50IFBsYWNlaG9sZGVyKjogIE1hcmtzIHRoZSBiZWdpbm5pbmdcbiAqICAgYW5kIGVuZCBvZiBET00gZWxlbWVudCB0aGF0IHdlcmUgZW1iZWRkZWQgaW4gdGhlIG9yaWdpbmFsIHRyYW5zbGF0aW9uIGJsb2NrLiBUaGUgcGxhY2Vob2xkZXJcbiAqICAgYGluZGV4YCBwb2ludHMgdG8gdGhlIGVsZW1lbnQgaW5kZXggaW4gdGhlIHRlbXBsYXRlIGluc3RydWN0aW9ucyBzZXQuIEFuIG9wdGlvbmFsIGBibG9ja2AgdGhhdFxuICogICBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICogLSBg77+9KntpbmRleH06e2Jsb2Nrfe+/vWAvYO+/vS8qe2luZGV4fTp7YmxvY2t977+9YDogKlN1Yi10ZW1wbGF0ZSBQbGFjZWhvbGRlcio6IFN1Yi10ZW1wbGF0ZXMgbXVzdCBiZVxuICogICBzcGxpdCB1cCBhbmQgdHJhbnNsYXRlZCBzZXBhcmF0ZWx5IGluIGVhY2ggYW5ndWxhciB0ZW1wbGF0ZSBmdW5jdGlvbi4gVGhlIGBpbmRleGAgcG9pbnRzIHRvIHRoZVxuICogICBgdGVtcGxhdGVgIGluc3RydWN0aW9uIGluZGV4LiBBIGBibG9ja2AgdGhhdCBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICpcbiAqIEBwYXJhbSBpbmRleCBBIHVuaXF1ZSBpbmRleCBvZiB0aGUgdHJhbnNsYXRpb24gaW4gdGhlIHN0YXRpYyBibG9jay5cbiAqIEBwYXJhbSBtZXNzYWdlSW5kZXggQW4gaW5kZXggb2YgdGhlIHRyYW5zbGF0aW9uIG1lc3NhZ2UgZnJvbSB0aGUgYGRlZi5jb25zdHNgIGFycmF5LlxuICogQHBhcmFtIHN1YlRlbXBsYXRlSW5kZXggT3B0aW9uYWwgc3ViLXRlbXBsYXRlIGluZGV4IGluIHRoZSBgbWVzc2FnZWAuXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWkxOG5TdGFydChpbmRleCwgbWVzc2FnZUluZGV4LCBzdWJUZW1wbGF0ZUluZGV4ID0gLTEpIHtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBIRUFERVJfT0ZGU0VUICsgaW5kZXg7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodFZpZXcsIGB0VmlldyBzaG91bGQgYmUgZGVmaW5lZGApO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBnZXRDb25zdGFudCh0Vmlldy5jb25zdHMsIG1lc3NhZ2VJbmRleCk7XG4gICAgY29uc3QgcGFyZW50VE5vZGUgPSBnZXRDdXJyZW50UGFyZW50VE5vZGUoKTtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIGkxOG5TdGFydEZpcnN0Q3JlYXRlUGFzcyh0VmlldywgcGFyZW50VE5vZGUgPT09IG51bGwgPyAwIDogcGFyZW50VE5vZGUuaW5kZXgsIGxWaWV3LCBhZGp1c3RlZEluZGV4LCBtZXNzYWdlLCBzdWJUZW1wbGF0ZUluZGV4KTtcbiAgICB9XG4gICAgY29uc3QgdEkxOG4gPSB0Vmlldy5kYXRhW2FkanVzdGVkSW5kZXhdO1xuICAgIGNvbnN0IHNhbWVWaWV3UGFyZW50VE5vZGUgPSBwYXJlbnRUTm9kZSA9PT0gbFZpZXdbVF9IT1NUXSA/IG51bGwgOiBwYXJlbnRUTm9kZTtcbiAgICBjb25zdCBwYXJlbnRSTm9kZSA9IGdldENsb3Nlc3RSRWxlbWVudCh0Vmlldywgc2FtZVZpZXdQYXJlbnRUTm9kZSwgbFZpZXcpO1xuICAgIC8vIElmIGBwYXJlbnRUTm9kZWAgaXMgYW4gYEVsZW1lbnRDb250YWluZXJgIHRoYW4gaXQgaGFzIGA8IS0tbmctY29udGFpbmVyLS0tPmAuXG4gICAgLy8gV2hlbiB3ZSBkbyBpbnNlcnRzIHdlIGhhdmUgdG8gbWFrZSBzdXJlIHRvIGluc2VydCBpbiBmcm9udCBvZiBgPCEtLW5nLWNvbnRhaW5lci0tLT5gLlxuICAgIGNvbnN0IGluc2VydEluRnJvbnRPZiA9IHBhcmVudFROb2RlICYmIChwYXJlbnRUTm9kZS50eXBlICYgOCAvKiBFbGVtZW50Q29udGFpbmVyICovKSA/XG4gICAgICAgIGxWaWV3W3BhcmVudFROb2RlLmluZGV4XSA6XG4gICAgICAgIG51bGw7XG4gICAgYXBwbHlDcmVhdGVPcENvZGVzKGxWaWV3LCB0STE4bi5jcmVhdGUsIHBhcmVudFJOb2RlLCBpbnNlcnRJbkZyb250T2YpO1xuICAgIHNldEluSTE4bkJsb2NrKHRydWUpO1xufVxuLyoqXG4gKiBUcmFuc2xhdGVzIGEgdHJhbnNsYXRpb24gYmxvY2sgbWFya2VkIGJ5IGBpMThuU3RhcnRgIGFuZCBgaTE4bkVuZGAuIEl0IGluc2VydHMgdGhlIHRleHQvSUNVIG5vZGVzXG4gKiBpbnRvIHRoZSByZW5kZXIgdHJlZSwgbW92ZXMgdGhlIHBsYWNlaG9sZGVyIG5vZGVzIGFuZCByZW1vdmVzIHRoZSBkZWxldGVkIG5vZGVzLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVpMThuRW5kKCkge1xuICAgIHNldEluSTE4bkJsb2NrKGZhbHNlKTtcbn1cbi8qKlxuICpcbiAqIFVzZSB0aGlzIGluc3RydWN0aW9uIHRvIGNyZWF0ZSBhIHRyYW5zbGF0aW9uIGJsb2NrIHRoYXQgZG9lc24ndCBjb250YWluIGFueSBwbGFjZWhvbGRlci5cbiAqIEl0IGNhbGxzIGJvdGgge0BsaW5rIGkxOG5TdGFydH0gYW5kIHtAbGluayBpMThuRW5kfSBpbiBvbmUgaW5zdHJ1Y3Rpb24uXG4gKlxuICogVGhlIHRyYW5zbGF0aW9uIGBtZXNzYWdlYCBpcyB0aGUgdmFsdWUgd2hpY2ggaXMgbG9jYWxlIHNwZWNpZmljLiBUaGUgdHJhbnNsYXRpb24gc3RyaW5nIG1heVxuICogY29udGFpbiBwbGFjZWhvbGRlcnMgd2hpY2ggYXNzb2NpYXRlIGlubmVyIGVsZW1lbnRzIGFuZCBzdWItdGVtcGxhdGVzIHdpdGhpbiB0aGUgdHJhbnNsYXRpb24uXG4gKlxuICogVGhlIHRyYW5zbGF0aW9uIGBtZXNzYWdlYCBwbGFjZWhvbGRlcnMgYXJlOlxuICogLSBg77+9e2luZGV4fSg6e2Jsb2NrfSnvv71gOiAqQmluZGluZyBQbGFjZWhvbGRlcio6IE1hcmtzIGEgbG9jYXRpb24gd2hlcmUgYW4gZXhwcmVzc2lvbiB3aWxsIGJlXG4gKiAgIGludGVycG9sYXRlZCBpbnRvLiBUaGUgcGxhY2Vob2xkZXIgYGluZGV4YCBwb2ludHMgdG8gdGhlIGV4cHJlc3Npb24gYmluZGluZyBpbmRleC4gQW4gb3B0aW9uYWxcbiAqICAgYGJsb2NrYCB0aGF0IG1hdGNoZXMgdGhlIHN1Yi10ZW1wbGF0ZSBpbiB3aGljaCBpdCB3YXMgZGVjbGFyZWQuXG4gKiAtIGDvv70je2luZGV4fSg6e2Jsb2NrfSnvv71gL2Dvv70vI3tpbmRleH0oOntibG9ja30p77+9YDogKkVsZW1lbnQgUGxhY2Vob2xkZXIqOiAgTWFya3MgdGhlIGJlZ2lubmluZ1xuICogICBhbmQgZW5kIG9mIERPTSBlbGVtZW50IHRoYXQgd2VyZSBlbWJlZGRlZCBpbiB0aGUgb3JpZ2luYWwgdHJhbnNsYXRpb24gYmxvY2suIFRoZSBwbGFjZWhvbGRlclxuICogICBgaW5kZXhgIHBvaW50cyB0byB0aGUgZWxlbWVudCBpbmRleCBpbiB0aGUgdGVtcGxhdGUgaW5zdHJ1Y3Rpb25zIHNldC4gQW4gb3B0aW9uYWwgYGJsb2NrYCB0aGF0XG4gKiAgIG1hdGNoZXMgdGhlIHN1Yi10ZW1wbGF0ZSBpbiB3aGljaCBpdCB3YXMgZGVjbGFyZWQuXG4gKiAtIGDvv70qe2luZGV4fTp7YmxvY2t977+9YC9g77+9Lyp7aW5kZXh9OntibG9ja33vv71gOiAqU3ViLXRlbXBsYXRlIFBsYWNlaG9sZGVyKjogU3ViLXRlbXBsYXRlcyBtdXN0IGJlXG4gKiAgIHNwbGl0IHVwIGFuZCB0cmFuc2xhdGVkIHNlcGFyYXRlbHkgaW4gZWFjaCBhbmd1bGFyIHRlbXBsYXRlIGZ1bmN0aW9uLiBUaGUgYGluZGV4YCBwb2ludHMgdG8gdGhlXG4gKiAgIGB0ZW1wbGF0ZWAgaW5zdHJ1Y3Rpb24gaW5kZXguIEEgYGJsb2NrYCB0aGF0IG1hdGNoZXMgdGhlIHN1Yi10ZW1wbGF0ZSBpbiB3aGljaCBpdCB3YXMgZGVjbGFyZWQuXG4gKlxuICogQHBhcmFtIGluZGV4IEEgdW5pcXVlIGluZGV4IG9mIHRoZSB0cmFuc2xhdGlvbiBpbiB0aGUgc3RhdGljIGJsb2NrLlxuICogQHBhcmFtIG1lc3NhZ2VJbmRleCBBbiBpbmRleCBvZiB0aGUgdHJhbnNsYXRpb24gbWVzc2FnZSBmcm9tIHRoZSBgZGVmLmNvbnN0c2AgYXJyYXkuXG4gKiBAcGFyYW0gc3ViVGVtcGxhdGVJbmRleCBPcHRpb25hbCBzdWItdGVtcGxhdGUgaW5kZXggaW4gdGhlIGBtZXNzYWdlYC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aTE4bihpbmRleCwgbWVzc2FnZUluZGV4LCBzdWJUZW1wbGF0ZUluZGV4KSB7XG4gICAgybXJtWkxOG5TdGFydChpbmRleCwgbWVzc2FnZUluZGV4LCBzdWJUZW1wbGF0ZUluZGV4KTtcbiAgICDJtcm1aTE4bkVuZCgpO1xufVxuLyoqXG4gKiBNYXJrcyBhIGxpc3Qgb2YgYXR0cmlidXRlcyBhcyB0cmFuc2xhdGFibGUuXG4gKlxuICogQHBhcmFtIGluZGV4IEEgdW5pcXVlIGluZGV4IGluIHRoZSBzdGF0aWMgYmxvY2tcbiAqIEBwYXJhbSB2YWx1ZXNcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1aTE4bkF0dHJpYnV0ZXMoaW5kZXgsIGF0dHJzSW5kZXgpIHtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodFZpZXcsIGB0VmlldyBzaG91bGQgYmUgZGVmaW5lZGApO1xuICAgIGNvbnN0IGF0dHJzID0gZ2V0Q29uc3RhbnQodFZpZXcuY29uc3RzLCBhdHRyc0luZGV4KTtcbiAgICBpMThuQXR0cmlidXRlc0ZpcnN0UGFzcyh0VmlldywgaW5kZXggKyBIRUFERVJfT0ZGU0VULCBhdHRycyk7XG59XG4vKipcbiAqIFN0b3JlcyB0aGUgdmFsdWVzIG9mIHRoZSBiaW5kaW5ncyBkdXJpbmcgZWFjaCB1cGRhdGUgY3ljbGUgaW4gb3JkZXIgdG8gZGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG9cbiAqIHVwZGF0ZSB0aGUgdHJhbnNsYXRlZCBub2Rlcy5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgVGhlIGJpbmRpbmcncyB2YWx1ZVxuICogQHJldHVybnMgVGhpcyBmdW5jdGlvbiByZXR1cm5zIGl0c2VsZiBzbyB0aGF0IGl0IG1heSBiZSBjaGFpbmVkXG4gKiAoZS5nLiBgaTE4bkV4cChjdHgubmFtZSkoY3R4LnRpdGxlKWApXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtWkxOG5FeHAodmFsdWUpIHtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgc2V0TWFza0JpdChiaW5kaW5nVXBkYXRlZChsVmlldywgbmV4dEJpbmRpbmdJbmRleCgpLCB2YWx1ZSkpO1xuICAgIHJldHVybiDJtcm1aTE4bkV4cDtcbn1cbi8qKlxuICogVXBkYXRlcyBhIHRyYW5zbGF0aW9uIGJsb2NrIG9yIGFuIGkxOG4gYXR0cmlidXRlIHdoZW4gdGhlIGJpbmRpbmdzIGhhdmUgY2hhbmdlZC5cbiAqXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgZWl0aGVyIHtAbGluayBpMThuU3RhcnR9ICh0cmFuc2xhdGlvbiBibG9jaykgb3Ige0BsaW5rIGkxOG5BdHRyaWJ1dGVzfVxuICogKGkxOG4gYXR0cmlidXRlKSBvbiB3aGljaCBpdCBzaG91bGQgdXBkYXRlIHRoZSBjb250ZW50LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVpMThuQXBwbHkoaW5kZXgpIHtcbiAgICBhcHBseUkxOG4oZ2V0VFZpZXcoKSwgZ2V0TFZpZXcoKSwgaW5kZXggKyBIRUFERVJfT0ZGU0VUKTtcbn1cbi8qKlxuICogSGFuZGxlcyBtZXNzYWdlIHN0cmluZyBwb3N0LXByb2Nlc3NpbmcgZm9yIGludGVybmF0aW9uYWxpemF0aW9uLlxuICpcbiAqIEhhbmRsZXMgbWVzc2FnZSBzdHJpbmcgcG9zdC1wcm9jZXNzaW5nIGJ5IHRyYW5zZm9ybWluZyBpdCBmcm9tIGludGVybWVkaWF0ZVxuICogZm9ybWF0ICh0aGF0IG1pZ2h0IGNvbnRhaW4gc29tZSBtYXJrZXJzIHRoYXQgd2UgbmVlZCB0byByZXBsYWNlKSB0byB0aGUgZmluYWxcbiAqIGZvcm0sIGNvbnN1bWFibGUgYnkgaTE4blN0YXJ0IGluc3RydWN0aW9uLiBQb3N0IHByb2Nlc3Npbmcgc3RlcHMgaW5jbHVkZTpcbiAqXG4gKiAxLiBSZXNvbHZlIGFsbCBtdWx0aS12YWx1ZSBjYXNlcyAobGlrZSBb77+9KjE6Me+/ve+/vSMyOjHvv71877+9IzQ6Me+/vXzvv70177+9XSlcbiAqIDIuIFJlcGxhY2UgYWxsIElDVSB2YXJzIChsaWtlIFwiVkFSX1BMVVJBTFwiKVxuICogMy4gUmVwbGFjZSBhbGwgcGxhY2Vob2xkZXJzIHVzZWQgaW5zaWRlIElDVXMgaW4gYSBmb3JtIG9mIHtQTEFDRUhPTERFUn1cbiAqIDQuIFJlcGxhY2UgYWxsIElDVSByZWZlcmVuY2VzIHdpdGggY29ycmVzcG9uZGluZyB2YWx1ZXMgKGxpa2Ug77+9SUNVX0VYUF9JQ1VfMe+/vSlcbiAqICAgIGluIGNhc2UgbXVsdGlwbGUgSUNVcyBoYXZlIHRoZSBzYW1lIHBsYWNlaG9sZGVyIG5hbWVcbiAqXG4gKiBAcGFyYW0gbWVzc2FnZSBSYXcgdHJhbnNsYXRpb24gc3RyaW5nIGZvciBwb3N0IHByb2Nlc3NpbmdcbiAqIEBwYXJhbSByZXBsYWNlbWVudHMgU2V0IG9mIHJlcGxhY2VtZW50cyB0aGF0IHNob3VsZCBiZSBhcHBsaWVkXG4gKlxuICogQHJldHVybnMgVHJhbnNmb3JtZWQgc3RyaW5nIHRoYXQgY2FuIGJlIGNvbnN1bWVkIGJ5IGkxOG5TdGFydCBpbnN0cnVjdGlvblxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVpMThuUG9zdHByb2Nlc3MobWVzc2FnZSwgcmVwbGFjZW1lbnRzID0ge30pIHtcbiAgICByZXR1cm4gaTE4blBvc3Rwcm9jZXNzKG1lc3NhZ2UsIHJlcGxhY2VtZW50cyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVzb2x2ZXMgdGhlIHByb3ZpZGVycyB3aGljaCBhcmUgZGVmaW5lZCBpbiB0aGUgRGlyZWN0aXZlRGVmLlxuICpcbiAqIFdoZW4gaW5zZXJ0aW5nIHRoZSB0b2tlbnMgYW5kIHRoZSBmYWN0b3JpZXMgaW4gdGhlaXIgcmVzcGVjdGl2ZSBhcnJheXMsIHdlIGNhbiBhc3N1bWUgdGhhdFxuICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIGZpcnN0IGZvciB0aGUgY29tcG9uZW50IChpZiBhbnkpLCBhbmQgdGhlbiBmb3Igb3RoZXIgZGlyZWN0aXZlcyBvbiB0aGUgc2FtZVxuICogbm9kZS5cbiAqIEFzIGEgY29uc2VxdWVuY2UsdGhlIHByb3ZpZGVycyBhcmUgYWx3YXlzIHByb2Nlc3NlZCBpbiB0aGF0IG9yZGVyOlxuICogMSkgVGhlIHZpZXcgcHJvdmlkZXJzIG9mIHRoZSBjb21wb25lbnRcbiAqIDIpIFRoZSBwcm92aWRlcnMgb2YgdGhlIGNvbXBvbmVudFxuICogMykgVGhlIHByb3ZpZGVycyBvZiB0aGUgb3RoZXIgZGlyZWN0aXZlc1xuICogVGhpcyBtYXRjaGVzIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIGluamVjdGFibGVzIGFycmF5cyBvZiBhIHZpZXcgKGZvciBlYWNoIG5vZGUpLlxuICogU28gdGhlIHRva2VucyBhbmQgdGhlIGZhY3RvcmllcyBjYW4gYmUgcHVzaGVkIGF0IHRoZSBlbmQgb2YgdGhlIGFycmF5cywgZXhjZXB0XG4gKiBpbiBvbmUgY2FzZSBmb3IgbXVsdGkgcHJvdmlkZXJzLlxuICpcbiAqIEBwYXJhbSBkZWYgdGhlIGRpcmVjdGl2ZSBkZWZpbml0aW9uXG4gKiBAcGFyYW0gcHJvdmlkZXJzOiBBcnJheSBvZiBgcHJvdmlkZXJzYC5cbiAqIEBwYXJhbSB2aWV3UHJvdmlkZXJzOiBBcnJheSBvZiBgdmlld1Byb3ZpZGVyc2AuXG4gKi9cbmZ1bmN0aW9uIHByb3ZpZGVyc1Jlc29sdmVyKGRlZiwgcHJvdmlkZXJzLCB2aWV3UHJvdmlkZXJzKSB7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgY29uc3QgaXNDb21wb25lbnQgPSBpc0NvbXBvbmVudERlZihkZWYpO1xuICAgICAgICAvLyBUaGUgbGlzdCBvZiB2aWV3IHByb3ZpZGVycyBpcyBwcm9jZXNzZWQgZmlyc3QsIGFuZCB0aGUgZmxhZ3MgYXJlIHVwZGF0ZWRcbiAgICAgICAgcmVzb2x2ZVByb3ZpZGVyKHZpZXdQcm92aWRlcnMsIHRWaWV3LmRhdGEsIHRWaWV3LmJsdWVwcmludCwgaXNDb21wb25lbnQsIHRydWUpO1xuICAgICAgICAvLyBUaGVuLCB0aGUgbGlzdCBvZiBwcm92aWRlcnMgaXMgcHJvY2Vzc2VkLCBhbmQgdGhlIGZsYWdzIGFyZSB1cGRhdGVkXG4gICAgICAgIHJlc29sdmVQcm92aWRlcihwcm92aWRlcnMsIHRWaWV3LmRhdGEsIHRWaWV3LmJsdWVwcmludCwgaXNDb21wb25lbnQsIGZhbHNlKTtcbiAgICB9XG59XG4vKipcbiAqIFJlc29sdmVzIGEgcHJvdmlkZXIgYW5kIHB1Ymxpc2hlcyBpdCB0byB0aGUgREkgc3lzdGVtLlxuICovXG5mdW5jdGlvbiByZXNvbHZlUHJvdmlkZXIocHJvdmlkZXIsIHRJbmplY3RhYmxlcywgbEluamVjdGFibGVzQmx1ZXByaW50LCBpc0NvbXBvbmVudCwgaXNWaWV3UHJvdmlkZXIpIHtcbiAgICBwcm92aWRlciA9IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShwcm92aWRlcikpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY2FsbCBgcmVzb2x2ZVByb3ZpZGVyYFxuICAgICAgICAvLyBSZWN1cnNpb24gaXMgT0sgaW4gdGhpcyBjYXNlIGJlY2F1c2UgdGhpcyBjb2RlIHdpbGwgbm90IGJlIGluIGhvdC1wYXRoIG9uY2Ugd2UgaW1wbGVtZW50XG4gICAgICAgIC8vIGNsb25pbmcgb2YgdGhlIGluaXRpYWwgc3RhdGUuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvdmlkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc29sdmVQcm92aWRlcihwcm92aWRlcltpXSwgdEluamVjdGFibGVzLCBsSW5qZWN0YWJsZXNCbHVlcHJpbnQsIGlzQ29tcG9uZW50LCBpc1ZpZXdQcm92aWRlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICAgICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgICAgICBsZXQgdG9rZW4gPSBpc1R5cGVQcm92aWRlcihwcm92aWRlcikgPyBwcm92aWRlciA6IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyLnByb3ZpZGUpO1xuICAgICAgICBsZXQgcHJvdmlkZXJGYWN0b3J5ID0gcHJvdmlkZXJUb0ZhY3RvcnkocHJvdmlkZXIpO1xuICAgICAgICBjb25zdCB0Tm9kZSA9IGdldEN1cnJlbnRUTm9kZSgpO1xuICAgICAgICBjb25zdCBiZWdpbkluZGV4ID0gdE5vZGUucHJvdmlkZXJJbmRleGVzICYgMTA0ODU3NSAvKiBQcm92aWRlcnNTdGFydEluZGV4TWFzayAqLztcbiAgICAgICAgY29uc3QgZW5kSW5kZXggPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICAgICAgY29uc3QgY3B0Vmlld1Byb3ZpZGVyc0NvdW50ID0gdE5vZGUucHJvdmlkZXJJbmRleGVzID4+IDIwIC8qIENwdFZpZXdQcm92aWRlcnNDb3VudFNoaWZ0ICovO1xuICAgICAgICBpZiAoaXNUeXBlUHJvdmlkZXIocHJvdmlkZXIpIHx8ICFwcm92aWRlci5tdWx0aSkge1xuICAgICAgICAgICAgLy8gU2luZ2xlIHByb3ZpZGVyIGNhc2U6IHRoZSBmYWN0b3J5IGlzIGNyZWF0ZWQgYW5kIHB1c2hlZCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgY29uc3QgZmFjdG9yeSA9IG5ldyBOb2RlSW5qZWN0b3JGYWN0b3J5KHByb3ZpZGVyRmFjdG9yeSwgaXNWaWV3UHJvdmlkZXIsIMm1ybVkaXJlY3RpdmVJbmplY3QpO1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdGYWN0b3J5SW5kZXggPSBpbmRleE9mKHRva2VuLCB0SW5qZWN0YWJsZXMsIGlzVmlld1Byb3ZpZGVyID8gYmVnaW5JbmRleCA6IGJlZ2luSW5kZXggKyBjcHRWaWV3UHJvdmlkZXJzQ291bnQsIGVuZEluZGV4KTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ0ZhY3RvcnlJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBkaVB1YmxpY0luSW5qZWN0b3IoZ2V0T3JDcmVhdGVOb2RlSW5qZWN0b3JGb3JOb2RlKHROb2RlLCBsVmlldyksIHRWaWV3LCB0b2tlbik7XG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJEZXN0cm95SG9va3NJZlN1cHBvcnRlZCh0VmlldywgcHJvdmlkZXIsIHRJbmplY3RhYmxlcy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRJbmplY3RhYmxlcy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICB0Tm9kZS5kaXJlY3RpdmVTdGFydCsrO1xuICAgICAgICAgICAgICAgIHROb2RlLmRpcmVjdGl2ZUVuZCsrO1xuICAgICAgICAgICAgICAgIGlmIChpc1ZpZXdQcm92aWRlcikge1xuICAgICAgICAgICAgICAgICAgICB0Tm9kZS5wcm92aWRlckluZGV4ZXMgKz0gMTA0ODU3NiAvKiBDcHRWaWV3UHJvdmlkZXJzQ291bnRTaGlmdGVyICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsSW5qZWN0YWJsZXNCbHVlcHJpbnQucHVzaChmYWN0b3J5KTtcbiAgICAgICAgICAgICAgICBsVmlldy5wdXNoKGZhY3RvcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbEluamVjdGFibGVzQmx1ZXByaW50W2V4aXN0aW5nRmFjdG9yeUluZGV4XSA9IGZhY3Rvcnk7XG4gICAgICAgICAgICAgICAgbFZpZXdbZXhpc3RpbmdGYWN0b3J5SW5kZXhdID0gZmFjdG9yeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE11bHRpIHByb3ZpZGVyIGNhc2U6XG4gICAgICAgICAgICAvLyBXZSBjcmVhdGUgYSBtdWx0aSBmYWN0b3J5IHdoaWNoIGlzIGdvaW5nIHRvIGFnZ3JlZ2F0ZSBhbGwgdGhlIHZhbHVlcy5cbiAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBvdXRwdXQgb2Ygc3VjaCBhIGZhY3RvcnkgZGVwZW5kcyBvbiBjb250ZW50IG9yIHZpZXcgaW5qZWN0aW9uLFxuICAgICAgICAgICAgLy8gd2UgY3JlYXRlIHR3byBvZiB0aGVtLCB3aGljaCBhcmUgbGlua2VkIHRvZ2V0aGVyLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFRoZSBmaXJzdCBvbmUgKGZvciB2aWV3IHByb3ZpZGVycykgaXMgYWx3YXlzIGluIHRoZSBmaXJzdCBibG9jayBvZiB0aGUgaW5qZWN0YWJsZXMgYXJyYXksXG4gICAgICAgICAgICAvLyBhbmQgdGhlIHNlY29uZCBvbmUgKGZvciBwcm92aWRlcnMpIGlzIGFsd2F5cyBpbiB0aGUgc2Vjb25kIGJsb2NrLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyBpbXBvcnRhbnQgYmVjYXVzZSB2aWV3IHByb3ZpZGVycyBoYXZlIGhpZ2hlciBwcmlvcml0eS4gV2hlbiBhIG11bHRpIHRva2VuXG4gICAgICAgICAgICAvLyBpcyBiZWluZyBsb29rZWQgdXAsIHRoZSB2aWV3IHByb3ZpZGVycyBzaG91bGQgYmUgZm91bmQgZmlyc3QuXG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgaXQgaXMgbm90IHBvc3NpYmxlIHRvIGhhdmUgYSBtdWx0aSBmYWN0b3J5IGluIHRoZSB0aGlyZCBibG9jayAoZGlyZWN0aXZlIGJsb2NrKS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBUaGUgYWxnb3JpdGhtIHRvIHByb2Nlc3MgbXVsdGkgcHJvdmlkZXJzIGlzIGFzIGZvbGxvd3M6XG4gICAgICAgICAgICAvLyAxKSBJZiB0aGUgbXVsdGkgcHJvdmlkZXIgY29tZXMgZnJvbSB0aGUgYHZpZXdQcm92aWRlcnNgIG9mIHRoZSBjb21wb25lbnQ6XG4gICAgICAgICAgICAvLyAgIGEpIElmIHRoZSBzcGVjaWFsIHZpZXcgcHJvdmlkZXJzIGZhY3RvcnkgZG9lc24ndCBleGlzdCwgaXQgaXMgY3JlYXRlZCBhbmQgcHVzaGVkLlxuICAgICAgICAgICAgLy8gICBiKSBFbHNlLCB0aGUgbXVsdGkgcHJvdmlkZXIgaXMgYWRkZWQgdG8gdGhlIGV4aXN0aW5nIG11bHRpIGZhY3RvcnkuXG4gICAgICAgICAgICAvLyAyKSBJZiB0aGUgbXVsdGkgcHJvdmlkZXIgY29tZXMgZnJvbSB0aGUgYHByb3ZpZGVyc2Agb2YgdGhlIGNvbXBvbmVudCBvciBvZiBhbm90aGVyXG4gICAgICAgICAgICAvLyBkaXJlY3RpdmU6XG4gICAgICAgICAgICAvLyAgIGEpIElmIHRoZSBtdWx0aSBmYWN0b3J5IGRvZXNuJ3QgZXhpc3QsIGl0IGlzIGNyZWF0ZWQgYW5kIHByb3ZpZGVyIHB1c2hlZCBpbnRvIGl0LlxuICAgICAgICAgICAgLy8gICAgICBJdCBpcyBhbHNvIGxpbmtlZCB0byB0aGUgbXVsdGkgZmFjdG9yeSBmb3IgdmlldyBwcm92aWRlcnMsIGlmIGl0IGV4aXN0cy5cbiAgICAgICAgICAgIC8vICAgYikgRWxzZSwgdGhlIG11bHRpIHByb3ZpZGVyIGlzIGFkZGVkIHRvIHRoZSBleGlzdGluZyBtdWx0aSBmYWN0b3J5LlxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdQcm92aWRlcnNGYWN0b3J5SW5kZXggPSBpbmRleE9mKHRva2VuLCB0SW5qZWN0YWJsZXMsIGJlZ2luSW5kZXggKyBjcHRWaWV3UHJvdmlkZXJzQ291bnQsIGVuZEluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nVmlld1Byb3ZpZGVyc0ZhY3RvcnlJbmRleCA9IGluZGV4T2YodG9rZW4sIHRJbmplY3RhYmxlcywgYmVnaW5JbmRleCwgYmVnaW5JbmRleCArIGNwdFZpZXdQcm92aWRlcnNDb3VudCk7XG4gICAgICAgICAgICBjb25zdCBkb2VzUHJvdmlkZXJzRmFjdG9yeUV4aXN0ID0gZXhpc3RpbmdQcm92aWRlcnNGYWN0b3J5SW5kZXggPj0gMCAmJlxuICAgICAgICAgICAgICAgIGxJbmplY3RhYmxlc0JsdWVwcmludFtleGlzdGluZ1Byb3ZpZGVyc0ZhY3RvcnlJbmRleF07XG4gICAgICAgICAgICBjb25zdCBkb2VzVmlld1Byb3ZpZGVyc0ZhY3RvcnlFeGlzdCA9IGV4aXN0aW5nVmlld1Byb3ZpZGVyc0ZhY3RvcnlJbmRleCA+PSAwICYmXG4gICAgICAgICAgICAgICAgbEluamVjdGFibGVzQmx1ZXByaW50W2V4aXN0aW5nVmlld1Byb3ZpZGVyc0ZhY3RvcnlJbmRleF07XG4gICAgICAgICAgICBpZiAoaXNWaWV3UHJvdmlkZXIgJiYgIWRvZXNWaWV3UHJvdmlkZXJzRmFjdG9yeUV4aXN0IHx8XG4gICAgICAgICAgICAgICAgIWlzVmlld1Byb3ZpZGVyICYmICFkb2VzUHJvdmlkZXJzRmFjdG9yeUV4aXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gQ2FzZXMgMS5hIGFuZCAyLmFcbiAgICAgICAgICAgICAgICBkaVB1YmxpY0luSW5qZWN0b3IoZ2V0T3JDcmVhdGVOb2RlSW5qZWN0b3JGb3JOb2RlKHROb2RlLCBsVmlldyksIHRWaWV3LCB0b2tlbik7XG4gICAgICAgICAgICAgICAgY29uc3QgZmFjdG9yeSA9IG11bHRpRmFjdG9yeShpc1ZpZXdQcm92aWRlciA/IG11bHRpVmlld1Byb3ZpZGVyc0ZhY3RvcnlSZXNvbHZlciA6IG11bHRpUHJvdmlkZXJzRmFjdG9yeVJlc29sdmVyLCBsSW5qZWN0YWJsZXNCbHVlcHJpbnQubGVuZ3RoLCBpc1ZpZXdQcm92aWRlciwgaXNDb21wb25lbnQsIHByb3ZpZGVyRmFjdG9yeSk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZpZXdQcm92aWRlciAmJiBkb2VzVmlld1Byb3ZpZGVyc0ZhY3RvcnlFeGlzdCkge1xuICAgICAgICAgICAgICAgICAgICBsSW5qZWN0YWJsZXNCbHVlcHJpbnRbZXhpc3RpbmdWaWV3UHJvdmlkZXJzRmFjdG9yeUluZGV4XS5wcm92aWRlckZhY3RvcnkgPSBmYWN0b3J5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWdpc3RlckRlc3Ryb3lIb29rc0lmU3VwcG9ydGVkKHRWaWV3LCBwcm92aWRlciwgdEluamVjdGFibGVzLmxlbmd0aCwgMCk7XG4gICAgICAgICAgICAgICAgdEluamVjdGFibGVzLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIHROb2RlLmRpcmVjdGl2ZVN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgdE5vZGUuZGlyZWN0aXZlRW5kKys7XG4gICAgICAgICAgICAgICAgaWYgKGlzVmlld1Byb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHROb2RlLnByb3ZpZGVySW5kZXhlcyArPSAxMDQ4NTc2IC8qIENwdFZpZXdQcm92aWRlcnNDb3VudFNoaWZ0ZXIgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxJbmplY3RhYmxlc0JsdWVwcmludC5wdXNoKGZhY3RvcnkpO1xuICAgICAgICAgICAgICAgIGxWaWV3LnB1c2goZmFjdG9yeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBDYXNlcyAxLmIgYW5kIDIuYlxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4SW5GYWN0b3J5ID0gbXVsdGlGYWN0b3J5QWRkKGxJbmplY3RhYmxlc0JsdWVwcmludFtpc1ZpZXdQcm92aWRlciA/IGV4aXN0aW5nVmlld1Byb3ZpZGVyc0ZhY3RvcnlJbmRleCA6XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUHJvdmlkZXJzRmFjdG9yeUluZGV4XSwgcHJvdmlkZXJGYWN0b3J5LCAhaXNWaWV3UHJvdmlkZXIgJiYgaXNDb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGVzdHJveUhvb2tzSWZTdXBwb3J0ZWQodFZpZXcsIHByb3ZpZGVyLCBleGlzdGluZ1Byb3ZpZGVyc0ZhY3RvcnlJbmRleCA+IC0xID8gZXhpc3RpbmdQcm92aWRlcnNGYWN0b3J5SW5kZXggOlxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1ZpZXdQcm92aWRlcnNGYWN0b3J5SW5kZXgsIGluZGV4SW5GYWN0b3J5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNWaWV3UHJvdmlkZXIgJiYgaXNDb21wb25lbnQgJiYgZG9lc1ZpZXdQcm92aWRlcnNGYWN0b3J5RXhpc3QpIHtcbiAgICAgICAgICAgICAgICBsSW5qZWN0YWJsZXNCbHVlcHJpbnRbZXhpc3RpbmdWaWV3UHJvdmlkZXJzRmFjdG9yeUluZGV4XS5jb21wb25lbnRQcm92aWRlcnMrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUmVnaXN0ZXJzIHRoZSBgbmdPbkRlc3Ryb3lgIGhvb2sgb2YgYSBwcm92aWRlciwgaWYgdGhlIHByb3ZpZGVyIHN1cHBvcnRzIGRlc3Ryb3kgaG9va3MuXG4gKiBAcGFyYW0gdFZpZXcgYFRWaWV3YCBpbiB3aGljaCB0byByZWdpc3RlciB0aGUgaG9vay5cbiAqIEBwYXJhbSBwcm92aWRlciBQcm92aWRlciB3aG9zZSBob29rIHNob3VsZCBiZSByZWdpc3RlcmVkLlxuICogQHBhcmFtIGNvbnRleHRJbmRleCBJbmRleCB1bmRlciB3aGljaCB0byBmaW5kIHRoZSBjb250ZXh0IGZvciB0aGUgaG9vayB3aGVuIGl0J3MgYmVpbmcgaW52b2tlZC5cbiAqIEBwYXJhbSBpbmRleEluRmFjdG9yeSBPbmx5IHJlcXVpcmVkIGZvciBgbXVsdGlgIHByb3ZpZGVycy4gSW5kZXggb2YgdGhlIHByb3ZpZGVyIGluIHRoZSBtdWx0aVxuICogcHJvdmlkZXIgZmFjdG9yeS5cbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJEZXN0cm95SG9va3NJZlN1cHBvcnRlZCh0VmlldywgcHJvdmlkZXIsIGNvbnRleHRJbmRleCwgaW5kZXhJbkZhY3RvcnkpIHtcbiAgICBjb25zdCBwcm92aWRlcklzVHlwZVByb3ZpZGVyID0gaXNUeXBlUHJvdmlkZXIocHJvdmlkZXIpO1xuICAgIGNvbnN0IHByb3ZpZGVySXNDbGFzc1Byb3ZpZGVyID0gaXNDbGFzc1Byb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICBpZiAocHJvdmlkZXJJc1R5cGVQcm92aWRlciB8fCBwcm92aWRlcklzQ2xhc3NQcm92aWRlcikge1xuICAgICAgICAvLyBSZXNvbHZlIGZvcndhcmQgcmVmZXJlbmNlcyBhcyBgdXNlQ2xhc3NgIGNhbiBob2xkIGEgZm9yd2FyZCByZWZlcmVuY2UuXG4gICAgICAgIGNvbnN0IGNsYXNzVG9rZW4gPSBwcm92aWRlcklzQ2xhc3NQcm92aWRlciA/IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyLnVzZUNsYXNzKSA6IHByb3ZpZGVyO1xuICAgICAgICBjb25zdCBwcm90b3R5cGUgPSBjbGFzc1Rva2VuLnByb3RvdHlwZTtcbiAgICAgICAgY29uc3QgbmdPbkRlc3Ryb3kgPSBwcm90b3R5cGUubmdPbkRlc3Ryb3k7XG4gICAgICAgIGlmIChuZ09uRGVzdHJveSkge1xuICAgICAgICAgICAgY29uc3QgaG9va3MgPSB0Vmlldy5kZXN0cm95SG9va3MgfHwgKHRWaWV3LmRlc3Ryb3lIb29rcyA9IFtdKTtcbiAgICAgICAgICAgIGlmICghcHJvdmlkZXJJc1R5cGVQcm92aWRlciAmJiBwcm92aWRlci5tdWx0aSkge1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICBhc3NlcnREZWZpbmVkKGluZGV4SW5GYWN0b3J5LCAnaW5kZXhJbkZhY3Rvcnkgd2hlbiByZWdpc3RlcmluZyBtdWx0aSBmYWN0b3J5IGRlc3Ryb3kgaG9vaycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQ2FsbGJhY2tzSW5kZXggPSBob29rcy5pbmRleE9mKGNvbnRleHRJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nQ2FsbGJhY2tzSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvb2tzLnB1c2goY29udGV4dEluZGV4LCBbaW5kZXhJbkZhY3RvcnksIG5nT25EZXN0cm95XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBob29rc1tleGlzdGluZ0NhbGxiYWNrc0luZGV4ICsgMV0ucHVzaChpbmRleEluRmFjdG9yeSwgbmdPbkRlc3Ryb3kpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvb2tzLnB1c2goY29udGV4dEluZGV4LCBuZ09uRGVzdHJveSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEFkZCBhIGZhY3RvcnkgaW4gYSBtdWx0aSBmYWN0b3J5LlxuICogQHJldHVybnMgSW5kZXggYXQgd2hpY2ggdGhlIGZhY3Rvcnkgd2FzIGluc2VydGVkLlxuICovXG5mdW5jdGlvbiBtdWx0aUZhY3RvcnlBZGQobXVsdGlGYWN0b3J5LCBmYWN0b3J5LCBpc0NvbXBvbmVudFByb3ZpZGVyKSB7XG4gICAgaWYgKGlzQ29tcG9uZW50UHJvdmlkZXIpIHtcbiAgICAgICAgbXVsdGlGYWN0b3J5LmNvbXBvbmVudFByb3ZpZGVycysrO1xuICAgIH1cbiAgICByZXR1cm4gbXVsdGlGYWN0b3J5Lm11bHRpLnB1c2goZmFjdG9yeSkgLSAxO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbmRleCBvZiBpdGVtIGluIHRoZSBhcnJheSwgYnV0IG9ubHkgaW4gdGhlIGJlZ2luIHRvIGVuZCByYW5nZS5cbiAqL1xuZnVuY3Rpb24gaW5kZXhPZihpdGVtLCBhcnIsIGJlZ2luLCBlbmQpIHtcbiAgICBmb3IgKGxldCBpID0gYmVnaW47IGkgPCBlbmQ7IGkrKykge1xuICAgICAgICBpZiAoYXJyW2ldID09PSBpdGVtKVxuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbi8qKlxuICogVXNlIHRoaXMgd2l0aCBgbXVsdGlgIGBwcm92aWRlcnNgLlxuICovXG5mdW5jdGlvbiBtdWx0aVByb3ZpZGVyc0ZhY3RvcnlSZXNvbHZlcihfLCB0RGF0YSwgbERhdGEsIHROb2RlKSB7XG4gICAgcmV0dXJuIG11bHRpUmVzb2x2ZSh0aGlzLm11bHRpLCBbXSk7XG59XG4vKipcbiAqIFVzZSB0aGlzIHdpdGggYG11bHRpYCBgdmlld1Byb3ZpZGVyc2AuXG4gKlxuICogVGhpcyBmYWN0b3J5IGtub3dzIGhvdyB0byBjb25jYXRlbmF0ZSBpdHNlbGYgd2l0aCB0aGUgZXhpc3RpbmcgYG11bHRpYCBgcHJvdmlkZXJzYC5cbiAqL1xuZnVuY3Rpb24gbXVsdGlWaWV3UHJvdmlkZXJzRmFjdG9yeVJlc29sdmVyKF8sIHREYXRhLCBsVmlldywgdE5vZGUpIHtcbiAgICBjb25zdCBmYWN0b3JpZXMgPSB0aGlzLm11bHRpO1xuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKHRoaXMucHJvdmlkZXJGYWN0b3J5KSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudENvdW50ID0gdGhpcy5wcm92aWRlckZhY3RvcnkuY29tcG9uZW50UHJvdmlkZXJzO1xuICAgICAgICBjb25zdCBtdWx0aVByb3ZpZGVycyA9IGdldE5vZGVJbmplY3RhYmxlKGxWaWV3LCBsVmlld1tUVklFV10sIHRoaXMucHJvdmlkZXJGYWN0b3J5LmluZGV4LCB0Tm9kZSk7XG4gICAgICAgIC8vIENvcHkgdGhlIHNlY3Rpb24gb2YgdGhlIGFycmF5IHdoaWNoIGNvbnRhaW5zIGBtdWx0aWAgYHByb3ZpZGVyc2AgZnJvbSB0aGUgY29tcG9uZW50XG4gICAgICAgIHJlc3VsdCA9IG11bHRpUHJvdmlkZXJzLnNsaWNlKDAsIGNvbXBvbmVudENvdW50KTtcbiAgICAgICAgLy8gSW5zZXJ0IHRoZSBgdmlld1Byb3ZpZGVyYCBpbnN0YW5jZXMuXG4gICAgICAgIG11bHRpUmVzb2x2ZShmYWN0b3JpZXMsIHJlc3VsdCk7XG4gICAgICAgIC8vIENvcHkgdGhlIHNlY3Rpb24gb2YgdGhlIGFycmF5IHdoaWNoIGNvbnRhaW5zIGBtdWx0aWAgYHByb3ZpZGVyc2AgZnJvbSBvdGhlciBkaXJlY3RpdmVzXG4gICAgICAgIGZvciAobGV0IGkgPSBjb21wb25lbnRDb3VudDsgaSA8IG11bHRpUHJvdmlkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChtdWx0aVByb3ZpZGVyc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IFtdO1xuICAgICAgICAvLyBJbnNlcnQgdGhlIGB2aWV3UHJvdmlkZXJgIGluc3RhbmNlcy5cbiAgICAgICAgbXVsdGlSZXNvbHZlKGZhY3RvcmllcywgcmVzdWx0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogTWFwcyBhbiBhcnJheSBvZiBmYWN0b3JpZXMgaW50byBhbiBhcnJheSBvZiB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIG11bHRpUmVzb2x2ZShmYWN0b3JpZXMsIHJlc3VsdCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmFjdG9yaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSBmYWN0b3JpZXNbaV07XG4gICAgICAgIHJlc3VsdC5wdXNoKGZhY3RvcnkoKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtdWx0aSBmYWN0b3J5LlxuICovXG5mdW5jdGlvbiBtdWx0aUZhY3RvcnkoZmFjdG9yeUZuLCBpbmRleCwgaXNWaWV3UHJvdmlkZXIsIGlzQ29tcG9uZW50LCBmKSB7XG4gICAgY29uc3QgZmFjdG9yeSA9IG5ldyBOb2RlSW5qZWN0b3JGYWN0b3J5KGZhY3RvcnlGbiwgaXNWaWV3UHJvdmlkZXIsIMm1ybVkaXJlY3RpdmVJbmplY3QpO1xuICAgIGZhY3RvcnkubXVsdGkgPSBbXTtcbiAgICBmYWN0b3J5LmluZGV4ID0gaW5kZXg7XG4gICAgZmFjdG9yeS5jb21wb25lbnRQcm92aWRlcnMgPSAwO1xuICAgIG11bHRpRmFjdG9yeUFkZChmYWN0b3J5LCBmLCBpc0NvbXBvbmVudCAmJiAhaXNWaWV3UHJvdmlkZXIpO1xuICAgIHJldHVybiBmYWN0b3J5O1xufVxuXG4vKipcbiAqIFRoaXMgZmVhdHVyZSByZXNvbHZlcyB0aGUgcHJvdmlkZXJzIG9mIGEgZGlyZWN0aXZlIChvciBjb21wb25lbnQpLFxuICogYW5kIHB1Ymxpc2ggdGhlbSBpbnRvIHRoZSBESSBzeXN0ZW0sIG1ha2luZyBpdCB2aXNpYmxlIHRvIG90aGVycyBmb3IgaW5qZWN0aW9uLlxuICpcbiAqIEZvciBleGFtcGxlOlxuICogYGBgdHNcbiAqIGNsYXNzIENvbXBvbmVudFdpdGhQcm92aWRlcnMge1xuICogICBjb25zdHJ1Y3Rvcihwcml2YXRlIGdyZWV0ZXI6IEdyZWV0ZXJERSkge31cbiAqXG4gKiAgIHN0YXRpYyDJtWNtcCA9IGRlZmluZUNvbXBvbmVudCh7XG4gKiAgICAgdHlwZTogQ29tcG9uZW50V2l0aFByb3ZpZGVycyxcbiAqICAgICBzZWxlY3RvcnM6IFtbJ2NvbXBvbmVudC13aXRoLXByb3ZpZGVycyddXSxcbiAqICAgIGZhY3Rvcnk6ICgpID0+IG5ldyBDb21wb25lbnRXaXRoUHJvdmlkZXJzKGRpcmVjdGl2ZUluamVjdChHcmVldGVyREUgYXMgYW55KSksXG4gKiAgICBkZWNsczogMSxcbiAqICAgIHZhcnM6IDEsXG4gKiAgICB0ZW1wbGF0ZTogZnVuY3Rpb24oZnM6IFJlbmRlckZsYWdzLCBjdHg6IENvbXBvbmVudFdpdGhQcm92aWRlcnMpIHtcbiAqICAgICAgaWYgKGZzICYgUmVuZGVyRmxhZ3MuQ3JlYXRlKSB7XG4gKiAgICAgICAgybXJtXRleHQoMCk7XG4gKiAgICAgIH1cbiAqICAgICAgaWYgKGZzICYgUmVuZGVyRmxhZ3MuVXBkYXRlKSB7XG4gKiAgICAgICAgybXJtXRleHRJbnRlcnBvbGF0ZShjdHguZ3JlZXRlci5ncmVldCgpKTtcbiAqICAgICAgfVxuICogICAgfSxcbiAqICAgIGZlYXR1cmVzOiBbybXJtVByb3ZpZGVyc0ZlYXR1cmUoW0dyZWV0ZXJERV0pXVxuICogIH0pO1xuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIGRlZmluaXRpb25cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1UHJvdmlkZXJzRmVhdHVyZShwcm92aWRlcnMsIHZpZXdQcm92aWRlcnMgPSBbXSkge1xuICAgIHJldHVybiAoZGVmaW5pdGlvbikgPT4ge1xuICAgICAgICBkZWZpbml0aW9uLnByb3ZpZGVyc1Jlc29sdmVyID1cbiAgICAgICAgICAgIChkZWYsIHByb2Nlc3NQcm92aWRlcnNGbikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm92aWRlcnNSZXNvbHZlcihkZWYsIC8vXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1Byb3ZpZGVyc0ZuID8gcHJvY2Vzc1Byb3ZpZGVyc0ZuKHByb3ZpZGVycykgOiBwcm92aWRlcnMsIC8vXG4gICAgICAgICAgICAgICAgdmlld1Byb3ZpZGVycyk7XG4gICAgICAgICAgICB9O1xuICAgIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgY29tcG9uZW50IGNyZWF0ZWQgYnkgYSBgQ29tcG9uZW50RmFjdG9yeWAuXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSBhbmQgcmVsYXRlZCBvYmplY3RzLFxuICogYW5kIHByb3ZpZGVzIHRoZSBtZWFucyBvZiBkZXN0cm95aW5nIHRoZSBpbnN0YW5jZS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIENvbXBvbmVudFJlZiQxIHtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYSBmYWN0b3J5IHRoYXQgY2FuIGNyZWF0ZSBhIGNvbXBvbmVudCBkeW5hbWljYWxseS5cbiAqIEluc3RhbnRpYXRlIGEgZmFjdG9yeSBmb3IgYSBnaXZlbiB0eXBlIG9mIGNvbXBvbmVudCB3aXRoIGByZXNvbHZlQ29tcG9uZW50RmFjdG9yeSgpYC5cbiAqIFVzZSB0aGUgcmVzdWx0aW5nIGBDb21wb25lbnRGYWN0b3J5LmNyZWF0ZSgpYCBtZXRob2QgdG8gY3JlYXRlIGEgY29tcG9uZW50IG9mIHRoYXQgdHlwZS5cbiAqXG4gKiBAc2VlIFtEeW5hbWljIENvbXBvbmVudHNdKGd1aWRlL2R5bmFtaWMtY29tcG9uZW50LWxvYWRlcilcbiAqXG4gKiBAcHVibGljQXBpXG4gKlxuICogQGRlcHJlY2F0ZWQgQW5ndWxhciBubyBsb25nZXIgcmVxdWlyZXMgQ29tcG9uZW50IGZhY3Rvcmllcy4gUGxlYXNlIHVzZSBvdGhlciBBUElzIHdoZXJlXG4gKiAgICAgQ29tcG9uZW50IGNsYXNzIGNhbiBiZSB1c2VkIGRpcmVjdGx5LlxuICovXG5jbGFzcyBDb21wb25lbnRGYWN0b3J5JDEge1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIG5vQ29tcG9uZW50RmFjdG9yeUVycm9yKGNvbXBvbmVudCkge1xuICAgIGNvbnN0IGVycm9yID0gRXJyb3IoYE5vIGNvbXBvbmVudCBmYWN0b3J5IGZvdW5kIGZvciAke3N0cmluZ2lmeShjb21wb25lbnQpfS4gRGlkIHlvdSBhZGQgaXQgdG8gQE5nTW9kdWxlLmVudHJ5Q29tcG9uZW50cz9gKTtcbiAgICBlcnJvcltFUlJPUl9DT01QT05FTlRdID0gY29tcG9uZW50O1xuICAgIHJldHVybiBlcnJvcjtcbn1cbmNvbnN0IEVSUk9SX0NPTVBPTkVOVCA9ICduZ0NvbXBvbmVudCc7XG5mdW5jdGlvbiBnZXRDb21wb25lbnQoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3JbRVJST1JfQ09NUE9ORU5UXTtcbn1cbmNsYXNzIF9OdWxsQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIHtcbiAgICByZXNvbHZlQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnQpIHtcbiAgICAgICAgdGhyb3cgbm9Db21wb25lbnRGYWN0b3J5RXJyb3IoY29tcG9uZW50KTtcbiAgICB9XG59XG4vKipcbiAqIEEgc2ltcGxlIHJlZ2lzdHJ5IHRoYXQgbWFwcyBgQ29tcG9uZW50c2AgdG8gZ2VuZXJhdGVkIGBDb21wb25lbnRGYWN0b3J5YCBjbGFzc2VzXG4gKiB0aGF0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBpbnN0YW5jZXMgb2YgY29tcG9uZW50cy5cbiAqIFVzZSB0byBvYnRhaW4gdGhlIGZhY3RvcnkgZm9yIGEgZ2l2ZW4gY29tcG9uZW50IHR5cGUsXG4gKiB0aGVuIHVzZSB0aGUgZmFjdG9yeSdzIGBjcmVhdGUoKWAgbWV0aG9kIHRvIGNyZWF0ZSBhIGNvbXBvbmVudCBvZiB0aGF0IHR5cGUuXG4gKlxuICogTm90ZTogc2luY2UgdjEzLCBkeW5hbWljIGNvbXBvbmVudCBjcmVhdGlvbiB2aWFcbiAqIFtgVmlld0NvbnRhaW5lclJlZi5jcmVhdGVDb21wb25lbnRgXShhcGkvY29yZS9WaWV3Q29udGFpbmVyUmVmI2NyZWF0ZUNvbXBvbmVudClcbiAqIGRvZXMgKipub3QqKiByZXF1aXJlIHJlc29sdmluZyBjb21wb25lbnQgZmFjdG9yeTogY29tcG9uZW50IGNsYXNzIGNhbiBiZSB1c2VkIGRpcmVjdGx5LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqXG4gKiBAZGVwcmVjYXRlZCBBbmd1bGFyIG5vIGxvbmdlciByZXF1aXJlcyBDb21wb25lbnQgZmFjdG9yaWVzLiBQbGVhc2UgdXNlIG90aGVyIEFQSXMgd2hlcmVcbiAqICAgICBDb21wb25lbnQgY2xhc3MgY2FuIGJlIHVzZWQgZGlyZWN0bHkuXG4gKi9cbmNsYXNzIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQxIHtcbn1cbkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQxLk5VTEwgPSAoIC8qIEBfX1BVUkVfXyAqL25ldyBfTnVsbENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcigpKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENyZWF0ZXMgYW4gRWxlbWVudFJlZiBmcm9tIHRoZSBtb3N0IHJlY2VudCBub2RlLlxuICpcbiAqIEByZXR1cm5zIFRoZSBFbGVtZW50UmVmIGluc3RhbmNlIHRvIHVzZVxuICovXG5mdW5jdGlvbiBpbmplY3RFbGVtZW50UmVmKCkge1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50UmVmKGdldEN1cnJlbnRUTm9kZSgpLCBnZXRMVmlldygpKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBFbGVtZW50UmVmIGdpdmVuIGEgbm9kZS5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgVGhlIG5vZGUgZm9yIHdoaWNoIHlvdSdkIGxpa2UgYW4gRWxlbWVudFJlZlxuICogQHBhcmFtIGxWaWV3IFRoZSB2aWV3IHRvIHdoaWNoIHRoZSBub2RlIGJlbG9uZ3NcbiAqIEByZXR1cm5zIFRoZSBFbGVtZW50UmVmIGluc3RhbmNlIHRvIHVzZVxuICovXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50UmVmKHROb2RlLCBsVmlldykge1xuICAgIHJldHVybiBuZXcgRWxlbWVudFJlZihnZXROYXRpdmVCeVROb2RlKHROb2RlLCBsVmlldykpO1xufVxuLyoqXG4gKiBBIHdyYXBwZXIgYXJvdW5kIGEgbmF0aXZlIGVsZW1lbnQgaW5zaWRlIG9mIGEgVmlldy5cbiAqXG4gKiBBbiBgRWxlbWVudFJlZmAgaXMgYmFja2VkIGJ5IGEgcmVuZGVyLXNwZWNpZmljIGVsZW1lbnQuIEluIHRoZSBicm93c2VyLCB0aGlzIGlzIHVzdWFsbHkgYSBET01cbiAqIGVsZW1lbnQuXG4gKlxuICogQHNlY3VyaXR5IFBlcm1pdHRpbmcgZGlyZWN0IGFjY2VzcyB0byB0aGUgRE9NIGNhbiBtYWtlIHlvdXIgYXBwbGljYXRpb24gbW9yZSB2dWxuZXJhYmxlIHRvXG4gKiBYU1MgYXR0YWNrcy4gQ2FyZWZ1bGx5IHJldmlldyBhbnkgdXNlIG9mIGBFbGVtZW50UmVmYCBpbiB5b3VyIGNvZGUuIEZvciBtb3JlIGRldGFpbCwgc2VlIHRoZVxuICogW1NlY3VyaXR5IEd1aWRlXShodHRwczovL2cuY28vbmcvc2VjdXJpdHkpLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuLy8gTm90ZTogV2UgZG9uJ3QgZXhwb3NlIHRoaW5ncyBsaWtlIGBJbmplY3RvcmAsIGBWaWV3Q29udGFpbmVyYCwgLi4uIGhlcmUsXG4vLyBpLmUuIHVzZXJzIGhhdmUgdG8gYXNrIGZvciB3aGF0IHRoZXkgbmVlZC4gV2l0aCB0aGF0LCB3ZSBjYW4gYnVpbGQgYmV0dGVyIGFuYWx5c2lzIHRvb2xzXG4vLyBhbmQgY291bGQgZG8gYmV0dGVyIGNvZGVnZW4gaW4gdGhlIGZ1dHVyZS5cbmNsYXNzIEVsZW1lbnRSZWYge1xuICAgIGNvbnN0cnVjdG9yKG5hdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5uYXRpdmVFbGVtZW50ID0gbmF0aXZlRWxlbWVudDtcbiAgICB9XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogQG5vY29sbGFwc2VcbiAqL1xuRWxlbWVudFJlZi5fX05HX0VMRU1FTlRfSURfXyA9IGluamVjdEVsZW1lbnRSZWY7XG4vKipcbiAqIFVud3JhcHMgYEVsZW1lbnRSZWZgIGFuZCByZXR1cm4gdGhlIGBuYXRpdmVFbGVtZW50YC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgdmFsdWUgdG8gdW53cmFwXG4gKiBAcmV0dXJucyBgbmF0aXZlRWxlbWVudGAgaWYgYEVsZW1lbnRSZWZgIG90aGVyd2lzZSByZXR1cm5zIHZhbHVlIGFzIGlzLlxuICovXG5mdW5jdGlvbiB1bndyYXBFbGVtZW50UmVmKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRWxlbWVudFJlZiA/IHZhbHVlLm5hdGl2ZUVsZW1lbnQgOiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jb25zdCBSZW5kZXJlcjJJbnRlcmNlcHRvciA9IG5ldyBJbmplY3Rpb25Ub2tlbignUmVuZGVyZXIySW50ZXJjZXB0b3InKTtcbi8qKlxuICogQ3JlYXRlcyBhbmQgaW5pdGlhbGl6ZXMgYSBjdXN0b20gcmVuZGVyZXIgdGhhdCBpbXBsZW1lbnRzIHRoZSBgUmVuZGVyZXIyYCBiYXNlIGNsYXNzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgUmVuZGVyZXJGYWN0b3J5MiB7XG59XG4vKipcbiAqIEV4dGVuZCB0aGlzIGJhc2UgY2xhc3MgdG8gaW1wbGVtZW50IGN1c3RvbSByZW5kZXJpbmcuIEJ5IGRlZmF1bHQsIEFuZ3VsYXJcbiAqIHJlbmRlcnMgYSB0ZW1wbGF0ZSBpbnRvIERPTS4gWW91IGNhbiB1c2UgY3VzdG9tIHJlbmRlcmluZyB0byBpbnRlcmNlcHRcbiAqIHJlbmRlcmluZyBjYWxscywgb3IgdG8gcmVuZGVyIHRvIHNvbWV0aGluZyBvdGhlciB0aGFuIERPTS5cbiAqXG4gKiBDcmVhdGUgeW91ciBjdXN0b20gcmVuZGVyZXIgdXNpbmcgYFJlbmRlcmVyRmFjdG9yeTJgLlxuICpcbiAqIFVzZSBhIGN1c3RvbSByZW5kZXJlciB0byBieXBhc3MgQW5ndWxhcidzIHRlbXBsYXRpbmcgYW5kXG4gKiBtYWtlIGN1c3RvbSBVSSBjaGFuZ2VzIHRoYXQgY2FuJ3QgYmUgZXhwcmVzc2VkIGRlY2xhcmF0aXZlbHkuXG4gKiBGb3IgZXhhbXBsZSBpZiB5b3UgbmVlZCB0byBzZXQgYSBwcm9wZXJ0eSBvciBhbiBhdHRyaWJ1dGUgd2hvc2UgbmFtZSBpc1xuICogbm90IHN0YXRpY2FsbHkga25vd24sIHVzZSB0aGUgYHNldFByb3BlcnR5KClgIG9yXG4gKiBgc2V0QXR0cmlidXRlKClgIG1ldGhvZC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFJlbmRlcmVyMiB7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogQG5vY29sbGFwc2VcbiAqL1xuUmVuZGVyZXIyLl9fTkdfRUxFTUVOVF9JRF9fID0gKCkgPT4gaW5qZWN0UmVuZGVyZXIyKCk7XG4vKiogUmV0dXJucyBhIFJlbmRlcmVyMiAob3IgdGhyb3dzIHdoZW4gYXBwbGljYXRpb24gd2FzIGJvb3RzdHJhcHBlZCB3aXRoIFJlbmRlcmVyMykgKi9cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlUmVuZGVyZXIyKGxWaWV3KSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgaWYgKG5nRGV2TW9kZSAmJiAhaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGluamVjdCBSZW5kZXJlcjIgd2hlbiB0aGUgYXBwbGljYXRpb24gdXNlcyBSZW5kZXJlcjMhJyk7XG4gICAgfVxuICAgIHJldHVybiByZW5kZXJlcjtcbn1cbi8qKiBJbmplY3RzIGEgUmVuZGVyZXIyIGZvciB0aGUgY3VycmVudCBjb21wb25lbnQuICovXG5mdW5jdGlvbiBpbmplY3RSZW5kZXJlcjIoKSB7XG4gICAgLy8gV2UgbmVlZCB0aGUgUmVuZGVyZXIgdG8gYmUgYmFzZWQgb24gdGhlIGNvbXBvbmVudCB0aGF0IGl0J3MgYmVpbmcgaW5qZWN0ZWQgaW50bywgaG93ZXZlciBzaW5jZVxuICAgIC8vIERJIGhhcHBlbnMgYmVmb3JlIHdlJ3ZlIGVudGVyZWQgaXRzIHZpZXcsIGBnZXRMVmlld2Agd2lsbCByZXR1cm4gdGhlIHBhcmVudCB2aWV3IGluc3RlYWQuXG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgY29uc3Qgbm9kZUF0SW5kZXggPSBnZXRDb21wb25lbnRMVmlld0J5SW5kZXgodE5vZGUuaW5kZXgsIGxWaWV3KTtcbiAgICByZXR1cm4gZ2V0T3JDcmVhdGVSZW5kZXJlcjIoaXNMVmlldyhub2RlQXRJbmRleCkgPyBub2RlQXRJbmRleCA6IGxWaWV3KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFNhbml0aXplciBpcyB1c2VkIGJ5IHRoZSB2aWV3cyB0byBzYW5pdGl6ZSBwb3RlbnRpYWxseSBkYW5nZXJvdXMgdmFsdWVzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgU2FuaXRpemVyIHtcbn1cbi8qKiBAbm9jb2xsYXBzZSAqL1xuU2FuaXRpemVyLsm1cHJvdiA9IMm1ybVkZWZpbmVJbmplY3RhYmxlKHtcbiAgICB0b2tlbjogU2FuaXRpemVyLFxuICAgIHByb3ZpZGVkSW46ICdyb290JyxcbiAgICBmYWN0b3J5OiAoKSA9PiBudWxsLFxufSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBAZGVzY3JpcHRpb24gUmVwcmVzZW50cyB0aGUgdmVyc2lvbiBvZiBBbmd1bGFyXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBWZXJzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihmdWxsKSB7XG4gICAgICAgIHRoaXMuZnVsbCA9IGZ1bGw7XG4gICAgICAgIHRoaXMubWFqb3IgPSBmdWxsLnNwbGl0KCcuJylbMF07XG4gICAgICAgIHRoaXMubWlub3IgPSBmdWxsLnNwbGl0KCcuJylbMV07XG4gICAgICAgIHRoaXMucGF0Y2ggPSBmdWxsLnNwbGl0KCcuJykuc2xpY2UoMikuam9pbignLicpO1xuICAgIH1cbn1cbi8qKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBWRVJTSU9OID0gbmV3IFZlcnNpb24oJzEzLjIuMicpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRoaXMgZGVmYXVsdCB2YWx1ZSBpcyB3aGVuIGNoZWNraW5nIHRoZSBoaWVyYXJjaHkgZm9yIGEgdG9rZW4uXG4vL1xuLy8gSXQgbWVhbnMgYm90aDpcbi8vIC0gdGhlIHRva2VuIGlzIG5vdCBwcm92aWRlZCBieSB0aGUgY3VycmVudCBpbmplY3Rvcixcbi8vIC0gb25seSB0aGUgZWxlbWVudCBpbmplY3RvcnMgc2hvdWxkIGJlIGNoZWNrZWQgKGllIGRvIG5vdCBjaGVjayBtb2R1bGUgaW5qZWN0b3JzXG4vL1xuLy8gICAgICAgICAgbW9kMVxuLy8gICAgICAgICAvXG4vLyAgICAgICBlbDEgICBtb2QyXG4vLyAgICAgICAgIFxcICAvXG4vLyAgICAgICAgIGVsMlxuLy9cbi8vIFdoZW4gcmVxdWVzdGluZyBlbDIuaW5qZWN0b3IuZ2V0KHRva2VuKSwgd2Ugc2hvdWxkIGNoZWNrIGluIHRoZSBmb2xsb3dpbmcgb3JkZXIgYW5kIHJldHVybiB0aGVcbi8vIGZpcnN0IGZvdW5kIHZhbHVlOlxuLy8gLSBlbDIuaW5qZWN0b3IuZ2V0KHRva2VuLCBkZWZhdWx0KVxuLy8gLSBlbDEuaW5qZWN0b3IuZ2V0KHRva2VuLCBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SKSAtPiBkbyBub3QgY2hlY2sgdGhlIG1vZHVsZVxuLy8gLSBtb2QyLmluamVjdG9yLmdldCh0b2tlbiwgZGVmYXVsdClcbmNvbnN0IE5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IgPSB7fTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBjb2xsZWN0TmF0aXZlTm9kZXModFZpZXcsIGxWaWV3LCB0Tm9kZSwgcmVzdWx0LCBpc1Byb2plY3Rpb24gPSBmYWxzZSkge1xuICAgIHdoaWxlICh0Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydFROb2RlVHlwZSh0Tm9kZSwgMyAvKiBBbnlSTm9kZSAqLyB8IDEyIC8qIEFueUNvbnRhaW5lciAqLyB8IDE2IC8qIFByb2plY3Rpb24gKi8gfCAzMiAvKiBJY3UgKi8pO1xuICAgICAgICBjb25zdCBsTm9kZSA9IGxWaWV3W3ROb2RlLmluZGV4XTtcbiAgICAgICAgaWYgKGxOb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh1bndyYXBSTm9kZShsTm9kZSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEEgZ2l2ZW4gbE5vZGUgY2FuIHJlcHJlc2VudCBlaXRoZXIgYSBuYXRpdmUgbm9kZSBvciBhIExDb250YWluZXIgKHdoZW4gaXQgaXMgYSBob3N0IG9mIGFcbiAgICAgICAgLy8gVmlld0NvbnRhaW5lclJlZikuIFdoZW4gd2UgZmluZCBhIExDb250YWluZXIgd2UgbmVlZCB0byBkZXNjZW5kIGludG8gaXQgdG8gY29sbGVjdCByb290IG5vZGVzXG4gICAgICAgIC8vIGZyb20gdGhlIHZpZXdzIGluIHRoaXMgY29udGFpbmVyLlxuICAgICAgICBpZiAoaXNMQ29udGFpbmVyKGxOb2RlKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUOyBpIDwgbE5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsVmlld0luQUNvbnRhaW5lciA9IGxOb2RlW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxWaWV3Rmlyc3RDaGlsZFROb2RlID0gbFZpZXdJbkFDb250YWluZXJbVFZJRVddLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgaWYgKGxWaWV3Rmlyc3RDaGlsZFROb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3ROYXRpdmVOb2RlcyhsVmlld0luQUNvbnRhaW5lcltUVklFV10sIGxWaWV3SW5BQ29udGFpbmVyLCBsVmlld0ZpcnN0Q2hpbGRUTm9kZSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdE5vZGVUeXBlID0gdE5vZGUudHlwZTtcbiAgICAgICAgaWYgKHROb2RlVHlwZSAmIDggLyogRWxlbWVudENvbnRhaW5lciAqLykge1xuICAgICAgICAgICAgY29sbGVjdE5hdGl2ZU5vZGVzKHRWaWV3LCBsVmlldywgdE5vZGUuY2hpbGQsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodE5vZGVUeXBlICYgMzIgLyogSWN1ICovKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0Uk5vZGUgPSBpY3VDb250YWluZXJJdGVyYXRlKHROb2RlLCBsVmlldyk7XG4gICAgICAgICAgICBsZXQgck5vZGU7XG4gICAgICAgICAgICB3aGlsZSAock5vZGUgPSBuZXh0Uk5vZGUoKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0Tm9kZVR5cGUgJiAxNiAvKiBQcm9qZWN0aW9uICovKSB7XG4gICAgICAgICAgICBjb25zdCBub2Rlc0luU2xvdCA9IGdldFByb2plY3Rpb25Ob2RlcyhsVmlldywgdE5vZGUpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobm9kZXNJblNsb3QpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goLi4ubm9kZXNJblNsb3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50VmlldyA9IGdldExWaWV3UGFyZW50KGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXSk7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydFBhcmVudFZpZXcocGFyZW50Vmlldyk7XG4gICAgICAgICAgICAgICAgY29sbGVjdE5hdGl2ZU5vZGVzKHBhcmVudFZpZXdbVFZJRVddLCBwYXJlbnRWaWV3LCBub2Rlc0luU2xvdCwgcmVzdWx0LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0Tm9kZSA9IGlzUHJvamVjdGlvbiA/IHROb2RlLnByb2plY3Rpb25OZXh0IDogdE5vZGUubmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jbGFzcyBWaWV3UmVmJDEge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoaXMgcmVwcmVzZW50cyBgTFZpZXdgIGFzc29jaWF0ZWQgd2l0aCB0aGUgY29tcG9uZW50IHdoZW4gVmlld1JlZiBpcyBhIENoYW5nZURldGVjdG9yUmVmLlxuICAgICAqXG4gICAgICogV2hlbiBWaWV3UmVmIGlzIGNyZWF0ZWQgZm9yIGEgZHluYW1pYyBjb21wb25lbnQsIHRoaXMgYWxzbyByZXByZXNlbnRzIHRoZSBgTFZpZXdgIGZvciB0aGVcbiAgICAgKiBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBGb3IgYSBcInJlZ3VsYXJcIiBWaWV3UmVmIGNyZWF0ZWQgZm9yIGFuIGVtYmVkZGVkIHZpZXcsIHRoaXMgaXMgdGhlIGBMVmlld2AgZm9yIHRoZSBlbWJlZGRlZFxuICAgICAqIHZpZXcuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfbFZpZXcsIFxuICAgIC8qKlxuICAgICAqIFRoaXMgcmVwcmVzZW50cyB0aGUgYExWaWV3YCBhc3NvY2lhdGVkIHdpdGggdGhlIHBvaW50IHdoZXJlIGBDaGFuZ2VEZXRlY3RvclJlZmAgd2FzXG4gICAgICogcmVxdWVzdGVkLlxuICAgICAqXG4gICAgICogVGhpcyBtYXkgYmUgZGlmZmVyZW50IGZyb20gYF9sVmlld2AgaWYgdGhlIGBfY2RSZWZJbmplY3RpbmdWaWV3YCBpcyBhbiBlbWJlZGRlZCB2aWV3LlxuICAgICAqL1xuICAgIF9jZFJlZkluamVjdGluZ1ZpZXcpIHtcbiAgICAgICAgdGhpcy5fbFZpZXcgPSBfbFZpZXc7XG4gICAgICAgIHRoaXMuX2NkUmVmSW5qZWN0aW5nVmlldyA9IF9jZFJlZkluamVjdGluZ1ZpZXc7XG4gICAgICAgIHRoaXMuX2FwcFJlZiA9IG51bGw7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyID0gZmFsc2U7XG4gICAgfVxuICAgIGdldCByb290Tm9kZXMoKSB7XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gdGhpcy5fbFZpZXc7XG4gICAgICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgICAgICByZXR1cm4gY29sbGVjdE5hdGl2ZU5vZGVzKHRWaWV3LCBsVmlldywgdFZpZXcuZmlyc3RDaGlsZCwgW10pO1xuICAgIH1cbiAgICBnZXQgY29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xWaWV3W0NPTlRFWFRdO1xuICAgIH1cbiAgICBzZXQgY29udGV4dCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9sVmlld1tDT05URVhUXSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgZGVzdHJveWVkKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2xWaWV3W0ZMQUdTXSAmIDI1NiAvKiBEZXN0cm95ZWQgKi8pID09PSAyNTYgLyogRGVzdHJveWVkICovO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fYXBwUmVmKSB7XG4gICAgICAgICAgICB0aGlzLl9hcHBSZWYuZGV0YWNoVmlldyh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lcikge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fbFZpZXdbUEFSRU5UXTtcbiAgICAgICAgICAgIGlmIChpc0xDb250YWluZXIocGFyZW50KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXdSZWZzID0gcGFyZW50W1ZJRVdfUkVGU107XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB2aWV3UmVmcyA/IHZpZXdSZWZzLmluZGV4T2YodGhpcykgOiAtMTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydEVxdWFsKGluZGV4LCBwYXJlbnQuaW5kZXhPZih0aGlzLl9sVmlldykgLSBDT05UQUlORVJfSEVBREVSX09GRlNFVCwgJ0FuIGF0dGFjaGVkIHZpZXcgc2hvdWxkIGJlIGluIHRoZSBzYW1lIHBvc2l0aW9uIHdpdGhpbiBpdHMgY29udGFpbmVyIGFzIGl0cyBWaWV3UmVmIGluIHRoZSBWSUVXX1JFRlMgYXJyYXkuJyk7XG4gICAgICAgICAgICAgICAgICAgIGRldGFjaFZpZXcocGFyZW50LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUZyb21BcnJheSh2aWV3UmVmcywgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZGVzdHJveUxWaWV3KHRoaXMuX2xWaWV3W1RWSUVXXSwgdGhpcy5fbFZpZXcpO1xuICAgIH1cbiAgICBvbkRlc3Ryb3koY2FsbGJhY2spIHtcbiAgICAgICAgc3RvcmVDbGVhbnVwV2l0aENvbnRleHQodGhpcy5fbFZpZXdbVFZJRVddLCB0aGlzLl9sVmlldywgbnVsbCwgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXJrcyBhIHZpZXcgYW5kIGFsbCBvZiBpdHMgYW5jZXN0b3JzIGRpcnR5LlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZCB0byBlbnN1cmUgYW4ge0BsaW5rIENoYW5nZURldGVjdGlvblN0cmF0ZWd5I09uUHVzaCBPblB1c2h9IGNvbXBvbmVudCBpc1xuICAgICAqIGNoZWNrZWQgd2hlbiBpdCBuZWVkcyB0byBiZSByZS1yZW5kZXJlZCBidXQgdGhlIHR3byBub3JtYWwgdHJpZ2dlcnMgaGF2ZW4ndCBtYXJrZWQgaXRcbiAgICAgKiBkaXJ0eSAoaS5lLiBpbnB1dHMgaGF2ZW4ndCBjaGFuZ2VkIGFuZCBldmVudHMgaGF2ZW4ndCBmaXJlZCBpbiB0aGUgdmlldykuXG4gICAgICpcbiAgICAgKiA8IS0tIFRPRE86IEFkZCBhIGxpbmsgdG8gYSBjaGFwdGVyIG9uIE9uUHVzaCBjb21wb25lbnRzIC0tPlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBDb21wb25lbnQoe1xuICAgICAqICAgc2VsZWN0b3I6ICdhcHAtcm9vdCcsXG4gICAgICogICB0ZW1wbGF0ZTogYE51bWJlciBvZiB0aWNrczoge3tudW1iZXJPZlRpY2tzfX1gXG4gICAgICogICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICAgKiB9KVxuICAgICAqIGNsYXNzIEFwcENvbXBvbmVudCB7XG4gICAgICogICBudW1iZXJPZlRpY2tzID0gMDtcbiAgICAgKlxuICAgICAqICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWY6IENoYW5nZURldGVjdG9yUmVmKSB7XG4gICAgICogICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgKiAgICAgICB0aGlzLm51bWJlck9mVGlja3MrKztcbiAgICAgKiAgICAgICAvLyB0aGUgZm9sbG93aW5nIGlzIHJlcXVpcmVkLCBvdGhlcndpc2UgdGhlIHZpZXcgd2lsbCBub3QgYmUgdXBkYXRlZFxuICAgICAqICAgICAgIHRoaXMucmVmLm1hcmtGb3JDaGVjaygpO1xuICAgICAqICAgICB9LCAxMDAwKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgbWFya0ZvckNoZWNrKCkge1xuICAgICAgICBtYXJrVmlld0RpcnR5KHRoaXMuX2NkUmVmSW5qZWN0aW5nVmlldyB8fCB0aGlzLl9sVmlldyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGFjaGVzIHRoZSB2aWV3IGZyb20gdGhlIGNoYW5nZSBkZXRlY3Rpb24gdHJlZS5cbiAgICAgKlxuICAgICAqIERldGFjaGVkIHZpZXdzIHdpbGwgbm90IGJlIGNoZWNrZWQgZHVyaW5nIGNoYW5nZSBkZXRlY3Rpb24gcnVucyB1bnRpbCB0aGV5IGFyZVxuICAgICAqIHJlLWF0dGFjaGVkLCBldmVuIGlmIHRoZXkgYXJlIGRpcnR5LiBgZGV0YWNoYCBjYW4gYmUgdXNlZCBpbiBjb21iaW5hdGlvbiB3aXRoXG4gICAgICoge0BsaW5rIENoYW5nZURldGVjdG9yUmVmI2RldGVjdENoYW5nZXMgZGV0ZWN0Q2hhbmdlc30gdG8gaW1wbGVtZW50IGxvY2FsIGNoYW5nZVxuICAgICAqIGRldGVjdGlvbiBjaGVja3MuXG4gICAgICpcbiAgICAgKiA8IS0tIFRPRE86IEFkZCBhIGxpbmsgdG8gYSBjaGFwdGVyIG9uIGRldGFjaC9yZWF0dGFjaC9sb2NhbCBkaWdlc3QgLS0+XG4gICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaXZlIGRlbW8gb25jZSByZWYuZGV0ZWN0Q2hhbmdlcyBpcyBtZXJnZWQgaW50byBtYXN0ZXIgLS0+XG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgZGVmaW5lcyBhIGNvbXBvbmVudCB3aXRoIGEgbGFyZ2UgbGlzdCBvZiByZWFkb25seSBkYXRhLlxuICAgICAqIEltYWdpbmUgdGhlIGRhdGEgY2hhbmdlcyBjb25zdGFudGx5LCBtYW55IHRpbWVzIHBlciBzZWNvbmQuIEZvciBwZXJmb3JtYW5jZSByZWFzb25zLFxuICAgICAqIHdlIHdhbnQgdG8gY2hlY2sgYW5kIHVwZGF0ZSB0aGUgbGlzdCBldmVyeSBmaXZlIHNlY29uZHMuIFdlIGNhbiBkbyB0aGF0IGJ5IGRldGFjaGluZ1xuICAgICAqIHRoZSBjb21wb25lbnQncyBjaGFuZ2UgZGV0ZWN0b3IgYW5kIGRvaW5nIGEgbG9jYWwgY2hlY2sgZXZlcnkgZml2ZSBzZWNvbmRzLlxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNsYXNzIERhdGFQcm92aWRlciB7XG4gICAgICogICAvLyBpbiBhIHJlYWwgYXBwbGljYXRpb24gdGhlIHJldHVybmVkIGRhdGEgd2lsbCBiZSBkaWZmZXJlbnQgZXZlcnkgdGltZVxuICAgICAqICAgZ2V0IGRhdGEoKSB7XG4gICAgICogICAgIHJldHVybiBbMSwyLDMsNCw1XTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBAQ29tcG9uZW50KHtcbiAgICAgKiAgIHNlbGVjdG9yOiAnZ2lhbnQtbGlzdCcsXG4gICAgICogICB0ZW1wbGF0ZTogYFxuICAgICAqICAgICA8bGkgKm5nRm9yPVwibGV0IGQgb2YgZGF0YVByb3ZpZGVyLmRhdGFcIj5EYXRhIHt7ZH19PC9saT5cbiAgICAgKiAgIGAsXG4gICAgICogfSlcbiAgICAgKiBjbGFzcyBHaWFudExpc3Qge1xuICAgICAqICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRhdGFQcm92aWRlcjogRGF0YVByb3ZpZGVyKSB7XG4gICAgICogICAgIHJlZi5kZXRhY2goKTtcbiAgICAgKiAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAqICAgICAgIHRoaXMucmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgKiAgICAgfSwgNTAwMCk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogQENvbXBvbmVudCh7XG4gICAgICogICBzZWxlY3RvcjogJ2FwcCcsXG4gICAgICogICBwcm92aWRlcnM6IFtEYXRhUHJvdmlkZXJdLFxuICAgICAqICAgdGVtcGxhdGU6IGBcbiAgICAgKiAgICAgPGdpYW50LWxpc3Q+PGdpYW50LWxpc3Q+XG4gICAgICogICBgLFxuICAgICAqIH0pXG4gICAgICogY2xhc3MgQXBwIHtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZGV0YWNoKCkge1xuICAgICAgICB0aGlzLl9sVmlld1tGTEFHU10gJj0gfjEyOCAvKiBBdHRhY2hlZCAqLztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmUtYXR0YWNoZXMgYSB2aWV3IHRvIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIHRyZWUuXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIHJlLWF0dGFjaCB2aWV3cyB0aGF0IHdlcmUgcHJldmlvdXNseSBkZXRhY2hlZCBmcm9tIHRoZSB0cmVlXG4gICAgICogdXNpbmcge0BsaW5rIENoYW5nZURldGVjdG9yUmVmI2RldGFjaCBkZXRhY2h9LiBWaWV3cyBhcmUgYXR0YWNoZWQgdG8gdGhlIHRyZWUgYnkgZGVmYXVsdC5cbiAgICAgKlxuICAgICAqIDwhLS0gVE9ETzogQWRkIGEgbGluayB0byBhIGNoYXB0ZXIgb24gZGV0YWNoL3JlYXR0YWNoL2xvY2FsIGRpZ2VzdCAtLT5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBjcmVhdGVzIGEgY29tcG9uZW50IGRpc3BsYXlpbmcgYGxpdmVgIGRhdGEuIFRoZSBjb21wb25lbnQgd2lsbCBkZXRhY2hcbiAgICAgKiBpdHMgY2hhbmdlIGRldGVjdG9yIGZyb20gdGhlIG1haW4gY2hhbmdlIGRldGVjdG9yIHRyZWUgd2hlbiB0aGUgY29tcG9uZW50J3MgbGl2ZSBwcm9wZXJ0eVxuICAgICAqIGlzIHNldCB0byBmYWxzZS5cbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjbGFzcyBEYXRhUHJvdmlkZXIge1xuICAgICAqICAgZGF0YSA9IDE7XG4gICAgICpcbiAgICAgKiAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAqICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICogICAgICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhICogMjtcbiAgICAgKiAgICAgfSwgNTAwKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBAQ29tcG9uZW50KHtcbiAgICAgKiAgIHNlbGVjdG9yOiAnbGl2ZS1kYXRhJyxcbiAgICAgKiAgIGlucHV0czogWydsaXZlJ10sXG4gICAgICogICB0ZW1wbGF0ZTogJ0RhdGE6IHt7ZGF0YVByb3ZpZGVyLmRhdGF9fSdcbiAgICAgKiB9KVxuICAgICAqIGNsYXNzIExpdmVEYXRhIHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVmOiBDaGFuZ2VEZXRlY3RvclJlZiwgcHJpdmF0ZSBkYXRhUHJvdmlkZXI6IERhdGFQcm92aWRlcikge31cbiAgICAgKlxuICAgICAqICAgc2V0IGxpdmUodmFsdWUpIHtcbiAgICAgKiAgICAgaWYgKHZhbHVlKSB7XG4gICAgICogICAgICAgdGhpcy5yZWYucmVhdHRhY2goKTtcbiAgICAgKiAgICAgfSBlbHNlIHtcbiAgICAgKiAgICAgICB0aGlzLnJlZi5kZXRhY2goKTtcbiAgICAgKiAgICAgfVxuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEBDb21wb25lbnQoe1xuICAgICAqICAgc2VsZWN0b3I6ICdhcHAtcm9vdCcsXG4gICAgICogICBwcm92aWRlcnM6IFtEYXRhUHJvdmlkZXJdLFxuICAgICAqICAgdGVtcGxhdGU6IGBcbiAgICAgKiAgICAgTGl2ZSBVcGRhdGU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBbKG5nTW9kZWwpXT1cImxpdmVcIj5cbiAgICAgKiAgICAgPGxpdmUtZGF0YSBbbGl2ZV09XCJsaXZlXCI+PGxpdmUtZGF0YT5cbiAgICAgKiAgIGAsXG4gICAgICogfSlcbiAgICAgKiBjbGFzcyBBcHBDb21wb25lbnQge1xuICAgICAqICAgbGl2ZSA9IHRydWU7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHJlYXR0YWNoKCkge1xuICAgICAgICB0aGlzLl9sVmlld1tGTEFHU10gfD0gMTI4IC8qIEF0dGFjaGVkICovO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdGhlIHZpZXcgYW5kIGl0cyBjaGlsZHJlbi5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGFsc28gYmUgdXNlZCBpbiBjb21iaW5hdGlvbiB3aXRoIHtAbGluayBDaGFuZ2VEZXRlY3RvclJlZiNkZXRhY2ggZGV0YWNofSB0byBpbXBsZW1lbnRcbiAgICAgKiBsb2NhbCBjaGFuZ2UgZGV0ZWN0aW9uIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIDwhLS0gVE9ETzogQWRkIGEgbGluayB0byBhIGNoYXB0ZXIgb24gZGV0YWNoL3JlYXR0YWNoL2xvY2FsIGRpZ2VzdCAtLT5cbiAgICAgKiA8IS0tIFRPRE86IEFkZCBhIGxpdmUgZGVtbyBvbmNlIHJlZi5kZXRlY3RDaGFuZ2VzIGlzIG1lcmdlZCBpbnRvIG1hc3RlciAtLT5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBkZWZpbmVzIGEgY29tcG9uZW50IHdpdGggYSBsYXJnZSBsaXN0IG9mIHJlYWRvbmx5IGRhdGEuXG4gICAgICogSW1hZ2luZSwgdGhlIGRhdGEgY2hhbmdlcyBjb25zdGFudGx5LCBtYW55IHRpbWVzIHBlciBzZWNvbmQuIEZvciBwZXJmb3JtYW5jZSByZWFzb25zLFxuICAgICAqIHdlIHdhbnQgdG8gY2hlY2sgYW5kIHVwZGF0ZSB0aGUgbGlzdCBldmVyeSBmaXZlIHNlY29uZHMuXG4gICAgICpcbiAgICAgKiBXZSBjYW4gZG8gdGhhdCBieSBkZXRhY2hpbmcgdGhlIGNvbXBvbmVudCdzIGNoYW5nZSBkZXRlY3RvciBhbmQgZG9pbmcgYSBsb2NhbCBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICogY2hlY2sgZXZlcnkgZml2ZSBzZWNvbmRzLlxuICAgICAqXG4gICAgICogU2VlIHtAbGluayBDaGFuZ2VEZXRlY3RvclJlZiNkZXRhY2ggZGV0YWNofSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBkZXRlY3RDaGFuZ2VzKCkge1xuICAgICAgICBkZXRlY3RDaGFuZ2VzSW50ZXJuYWwodGhpcy5fbFZpZXdbVFZJRVddLCB0aGlzLl9sVmlldywgdGhpcy5jb250ZXh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRoZSBjaGFuZ2UgZGV0ZWN0b3IgYW5kIGl0cyBjaGlsZHJlbiwgYW5kIHRocm93cyBpZiBhbnkgY2hhbmdlcyBhcmUgZGV0ZWN0ZWQuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHVzZWQgaW4gZGV2ZWxvcG1lbnQgbW9kZSB0byB2ZXJpZnkgdGhhdCBydW5uaW5nIGNoYW5nZSBkZXRlY3Rpb24gZG9lc24ndFxuICAgICAqIGludHJvZHVjZSBvdGhlciBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGNoZWNrTm9DaGFuZ2VzKCkge1xuICAgICAgICBjaGVja05vQ2hhbmdlc0ludGVybmFsKHRoaXMuX2xWaWV3W1RWSUVXXSwgdGhpcy5fbFZpZXcsIHRoaXMuY29udGV4dCk7XG4gICAgfVxuICAgIGF0dGFjaFRvVmlld0NvbnRhaW5lclJlZigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FwcFJlZikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gbmdEZXZNb2RlID8gJ1RoaXMgdmlldyBpcyBhbHJlYWR5IGF0dGFjaGVkIGRpcmVjdGx5IHRvIHRoZSBBcHBsaWNhdGlvblJlZiEnIDogJyc7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDkwMiAvKiBWSUVXX0FMUkVBRFlfQVRUQUNIRUQgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXIgPSB0cnVlO1xuICAgIH1cbiAgICBkZXRhY2hGcm9tQXBwUmVmKCkge1xuICAgICAgICB0aGlzLl9hcHBSZWYgPSBudWxsO1xuICAgICAgICByZW5kZXJEZXRhY2hWaWV3KHRoaXMuX2xWaWV3W1RWSUVXXSwgdGhpcy5fbFZpZXcpO1xuICAgIH1cbiAgICBhdHRhY2hUb0FwcFJlZihhcHBSZWYpIHtcbiAgICAgICAgaWYgKHRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBuZ0Rldk1vZGUgPyAnVGhpcyB2aWV3IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBWaWV3Q29udGFpbmVyIScgOiAnJztcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTAyIC8qIFZJRVdfQUxSRUFEWV9BVFRBQ0hFRCAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hcHBSZWYgPSBhcHBSZWY7XG4gICAgfVxufVxuLyoqIEBpbnRlcm5hbCAqL1xuY2xhc3MgUm9vdFZpZXdSZWYgZXh0ZW5kcyBWaWV3UmVmJDEge1xuICAgIGNvbnN0cnVjdG9yKF92aWV3KSB7XG4gICAgICAgIHN1cGVyKF92aWV3KTtcbiAgICAgICAgdGhpcy5fdmlldyA9IF92aWV3O1xuICAgIH1cbiAgICBkZXRlY3RDaGFuZ2VzKCkge1xuICAgICAgICBkZXRlY3RDaGFuZ2VzSW5Sb290Vmlldyh0aGlzLl92aWV3KTtcbiAgICB9XG4gICAgY2hlY2tOb0NoYW5nZXMoKSB7XG4gICAgICAgIGNoZWNrTm9DaGFuZ2VzSW5Sb290Vmlldyh0aGlzLl92aWV3KTtcbiAgICB9XG4gICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jbGFzcyBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgZXh0ZW5kcyBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIkMSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG5nTW9kdWxlIFRoZSBOZ01vZHVsZVJlZiB0byB3aGljaCBhbGwgcmVzb2x2ZWQgZmFjdG9yaWVzIGFyZSBib3VuZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihuZ01vZHVsZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5nTW9kdWxlID0gbmdNb2R1bGU7XG4gICAgfVxuICAgIHJlc29sdmVDb21wb25lbnRGYWN0b3J5KGNvbXBvbmVudCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Q29tcG9uZW50VHlwZShjb21wb25lbnQpO1xuICAgICAgICBjb25zdCBjb21wb25lbnREZWYgPSBnZXRDb21wb25lbnREZWYoY29tcG9uZW50KTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb25lbnRGYWN0b3J5KGNvbXBvbmVudERlZiwgdGhpcy5uZ01vZHVsZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gdG9SZWZBcnJheShtYXApIHtcbiAgICBjb25zdCBhcnJheSA9IFtdO1xuICAgIGZvciAobGV0IG5vbk1pbmlmaWVkIGluIG1hcCkge1xuICAgICAgICBpZiAobWFwLmhhc093blByb3BlcnR5KG5vbk1pbmlmaWVkKSkge1xuICAgICAgICAgICAgY29uc3QgbWluaWZpZWQgPSBtYXBbbm9uTWluaWZpZWRdO1xuICAgICAgICAgICAgYXJyYXkucHVzaCh7IHByb3BOYW1lOiBtaW5pZmllZCwgdGVtcGxhdGVOYW1lOiBub25NaW5pZmllZCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG5mdW5jdGlvbiBnZXROYW1lc3BhY2UoZWxlbWVudE5hbWUpIHtcbiAgICBjb25zdCBuYW1lID0gZWxlbWVudE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gbmFtZSA9PT0gJ3N2ZycgPyBTVkdfTkFNRVNQQUNFIDogKG5hbWUgPT09ICdtYXRoJyA/IE1BVEhfTUxfTkFNRVNQQUNFIDogbnVsbCk7XG59XG4vKipcbiAqIEEgY2hhbmdlIGRldGVjdGlvbiBzY2hlZHVsZXIgdG9rZW4gZm9yIHtAbGluayBSb290Q29udGV4dH0uIFRoaXMgdG9rZW4gaXMgdGhlIGRlZmF1bHQgdmFsdWUgdXNlZFxuICogZm9yIHRoZSBkZWZhdWx0IGBSb290Q29udGV4dGAgZm91bmQgaW4gdGhlIHtAbGluayBST09UX0NPTlRFWFR9IHRva2VuLlxuICovXG5jb25zdCBTQ0hFRFVMRVIgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ1NDSEVEVUxFUl9UT0tFTicsIHtcbiAgICBwcm92aWRlZEluOiAncm9vdCcsXG4gICAgZmFjdG9yeTogKCkgPT4gZGVmYXVsdFNjaGVkdWxlcixcbn0pO1xuZnVuY3Rpb24gY3JlYXRlQ2hhaW5lZEluamVjdG9yKHJvb3RWaWV3SW5qZWN0b3IsIG1vZHVsZUluamVjdG9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0OiAodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGZsYWdzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJvb3RWaWV3SW5qZWN0b3IuZ2V0KHRva2VuLCBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SLCBmbGFncyk7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IE5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IgfHxcbiAgICAgICAgICAgICAgICBub3RGb3VuZFZhbHVlID09PSBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SKSB7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSB2YWx1ZSBmcm9tIHRoZSByb290IGVsZW1lbnQgaW5qZWN0b3Igd2hlblxuICAgICAgICAgICAgICAgIC8vIC0gaXQgcHJvdmlkZXMgaXRcbiAgICAgICAgICAgICAgICAvLyAgICh2YWx1ZSAhPT0gTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUilcbiAgICAgICAgICAgICAgICAvLyAtIHRoZSBtb2R1bGUgaW5qZWN0b3Igc2hvdWxkIG5vdCBiZSBjaGVja2VkXG4gICAgICAgICAgICAgICAgLy8gICAobm90Rm91bmRWYWx1ZSA9PT0gTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUilcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlSW5qZWN0b3IuZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlLCBmbGFncyk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuLyoqXG4gKiBSZW5kZXIzIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayB2aWV3RW5naW5lX0NvbXBvbmVudEZhY3Rvcnl9LlxuICovXG5jbGFzcyBDb21wb25lbnRGYWN0b3J5IGV4dGVuZHMgQ29tcG9uZW50RmFjdG9yeSQxIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50RGVmIFRoZSBjb21wb25lbnQgZGVmaW5pdGlvbi5cbiAgICAgKiBAcGFyYW0gbmdNb2R1bGUgVGhlIE5nTW9kdWxlUmVmIHRvIHdoaWNoIHRoZSBmYWN0b3J5IGlzIGJvdW5kLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudERlZiwgbmdNb2R1bGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb21wb25lbnREZWYgPSBjb21wb25lbnREZWY7XG4gICAgICAgIHRoaXMubmdNb2R1bGUgPSBuZ01vZHVsZTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRUeXBlID0gY29tcG9uZW50RGVmLnR5cGU7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBzdHJpbmdpZnlDU1NTZWxlY3Rvckxpc3QoY29tcG9uZW50RGVmLnNlbGVjdG9ycyk7XG4gICAgICAgIHRoaXMubmdDb250ZW50U2VsZWN0b3JzID1cbiAgICAgICAgICAgIGNvbXBvbmVudERlZi5uZ0NvbnRlbnRTZWxlY3RvcnMgPyBjb21wb25lbnREZWYubmdDb250ZW50U2VsZWN0b3JzIDogW107XG4gICAgICAgIHRoaXMuaXNCb3VuZFRvTW9kdWxlID0gISFuZ01vZHVsZTtcbiAgICB9XG4gICAgZ2V0IGlucHV0cygpIHtcbiAgICAgICAgcmV0dXJuIHRvUmVmQXJyYXkodGhpcy5jb21wb25lbnREZWYuaW5wdXRzKTtcbiAgICB9XG4gICAgZ2V0IG91dHB1dHMoKSB7XG4gICAgICAgIHJldHVybiB0b1JlZkFycmF5KHRoaXMuY29tcG9uZW50RGVmLm91dHB1dHMpO1xuICAgIH1cbiAgICBjcmVhdGUoaW5qZWN0b3IsIHByb2plY3RhYmxlTm9kZXMsIHJvb3RTZWxlY3Rvck9yTm9kZSwgbmdNb2R1bGUpIHtcbiAgICAgICAgbmdNb2R1bGUgPSBuZ01vZHVsZSB8fCB0aGlzLm5nTW9kdWxlO1xuICAgICAgICBjb25zdCByb290Vmlld0luamVjdG9yID0gbmdNb2R1bGUgPyBjcmVhdGVDaGFpbmVkSW5qZWN0b3IoaW5qZWN0b3IsIG5nTW9kdWxlLmluamVjdG9yKSA6IGluamVjdG9yO1xuICAgICAgICBjb25zdCByZW5kZXJlckZhY3RvcnkgPSByb290Vmlld0luamVjdG9yLmdldChSZW5kZXJlckZhY3RvcnkyLCBkb21SZW5kZXJlckZhY3RvcnkzKTtcbiAgICAgICAgY29uc3Qgc2FuaXRpemVyID0gcm9vdFZpZXdJbmplY3Rvci5nZXQoU2FuaXRpemVyLCBudWxsKTtcbiAgICAgICAgY29uc3QgaG9zdFJlbmRlcmVyID0gcmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVJlbmRlcmVyKG51bGwsIHRoaXMuY29tcG9uZW50RGVmKTtcbiAgICAgICAgLy8gRGV0ZXJtaW5lIGEgdGFnIG5hbWUgdXNlZCBmb3IgY3JlYXRpbmcgaG9zdCBlbGVtZW50cyB3aGVuIHRoaXMgY29tcG9uZW50IGlzIGNyZWF0ZWRcbiAgICAgICAgLy8gZHluYW1pY2FsbHkuIERlZmF1bHQgdG8gJ2RpdicgaWYgdGhpcyBjb21wb25lbnQgZGlkIG5vdCBzcGVjaWZ5IGFueSB0YWcgbmFtZSBpbiBpdHMgc2VsZWN0b3IuXG4gICAgICAgIGNvbnN0IGVsZW1lbnROYW1lID0gdGhpcy5jb21wb25lbnREZWYuc2VsZWN0b3JzWzBdWzBdIHx8ICdkaXYnO1xuICAgICAgICBjb25zdCBob3N0Uk5vZGUgPSByb290U2VsZWN0b3JPck5vZGUgP1xuICAgICAgICAgICAgbG9jYXRlSG9zdEVsZW1lbnQoaG9zdFJlbmRlcmVyLCByb290U2VsZWN0b3JPck5vZGUsIHRoaXMuY29tcG9uZW50RGVmLmVuY2Fwc3VsYXRpb24pIDpcbiAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnROb2RlKHJlbmRlcmVyRmFjdG9yeS5jcmVhdGVSZW5kZXJlcihudWxsLCB0aGlzLmNvbXBvbmVudERlZiksIGVsZW1lbnROYW1lLCBnZXROYW1lc3BhY2UoZWxlbWVudE5hbWUpKTtcbiAgICAgICAgY29uc3Qgcm9vdEZsYWdzID0gdGhpcy5jb21wb25lbnREZWYub25QdXNoID8gNjQgLyogRGlydHkgKi8gfCA1MTIgLyogSXNSb290ICovIDpcbiAgICAgICAgICAgIDE2IC8qIENoZWNrQWx3YXlzICovIHwgNTEyIC8qIElzUm9vdCAqLztcbiAgICAgICAgY29uc3Qgcm9vdENvbnRleHQgPSBjcmVhdGVSb290Q29udGV4dCgpO1xuICAgICAgICAvLyBDcmVhdGUgdGhlIHJvb3Qgdmlldy4gVXNlcyBlbXB0eSBUVmlldyBhbmQgQ29udGVudFRlbXBsYXRlLlxuICAgICAgICBjb25zdCByb290VFZpZXcgPSBjcmVhdGVUVmlldygwIC8qIFJvb3QgKi8sIG51bGwsIG51bGwsIDEsIDAsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwpO1xuICAgICAgICBjb25zdCByb290TFZpZXcgPSBjcmVhdGVMVmlldyhudWxsLCByb290VFZpZXcsIHJvb3RDb250ZXh0LCByb290RmxhZ3MsIG51bGwsIG51bGwsIHJlbmRlcmVyRmFjdG9yeSwgaG9zdFJlbmRlcmVyLCBzYW5pdGl6ZXIsIHJvb3RWaWV3SW5qZWN0b3IpO1xuICAgICAgICAvLyByb290VmlldyBpcyB0aGUgcGFyZW50IHdoZW4gYm9vdHN0cmFwcGluZ1xuICAgICAgICAvLyBUT0RPKG1pc2tvKTogaXQgbG9va3MgbGlrZSB3ZSBhcmUgZW50ZXJpbmcgdmlldyBoZXJlIGJ1dCB3ZSBkb24ndCByZWFsbHkgbmVlZCB0byBhc1xuICAgICAgICAvLyBgcmVuZGVyVmlld2AgZG9lcyB0aGF0LiBIb3dldmVyIGFzIHRoZSBjb2RlIGlzIHdyaXR0ZW4gaXQgaXMgbmVlZGVkIGJlY2F1c2VcbiAgICAgICAgLy8gYGNyZWF0ZVJvb3RDb21wb25lbnRWaWV3YCBhbmQgYGNyZWF0ZVJvb3RDb21wb25lbnRgIGJvdGggcmVhZCBnbG9iYWwgc3RhdGUuIEZpeGluZyB0aG9zZVxuICAgICAgICAvLyBpc3N1ZXMgd291bGQgYWxsb3cgdXMgdG8gZHJvcCB0aGlzLlxuICAgICAgICBlbnRlclZpZXcocm9vdExWaWV3KTtcbiAgICAgICAgbGV0IGNvbXBvbmVudDtcbiAgICAgICAgbGV0IHRFbGVtZW50Tm9kZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBjcmVhdGVSb290Q29tcG9uZW50Vmlldyhob3N0Uk5vZGUsIHRoaXMuY29tcG9uZW50RGVmLCByb290TFZpZXcsIHJlbmRlcmVyRmFjdG9yeSwgaG9zdFJlbmRlcmVyKTtcbiAgICAgICAgICAgIGlmIChob3N0Uk5vZGUpIHtcbiAgICAgICAgICAgICAgICBpZiAocm9vdFNlbGVjdG9yT3JOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFVwQXR0cmlidXRlcyhob3N0UmVuZGVyZXIsIGhvc3RSTm9kZSwgWyduZy12ZXJzaW9uJywgVkVSU0lPTi5mdWxsXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBob3N0IGVsZW1lbnQgaXMgY3JlYXRlZCBhcyBhIHBhcnQgb2YgdGhpcyBmdW5jdGlvbiBjYWxsIChpLmUuIGByb290U2VsZWN0b3JPck5vZGVgXG4gICAgICAgICAgICAgICAgICAgIC8vIGlzIG5vdCBkZWZpbmVkKSwgYWxzbyBhcHBseSBhdHRyaWJ1dGVzIGFuZCBjbGFzc2VzIGV4dHJhY3RlZCBmcm9tIGNvbXBvbmVudCBzZWxlY3Rvci5cbiAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBhdHRyaWJ1dGVzIGFuZCBjbGFzc2VzIGZyb20gdGhlIGZpcnN0IHNlbGVjdG9yIG9ubHkgdG8gbWF0Y2ggVkUgYmVoYXZpb3IuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYXR0cnMsIGNsYXNzZXMgfSA9IGV4dHJhY3RBdHRyc0FuZENsYXNzZXNGcm9tU2VsZWN0b3IodGhpcy5jb21wb25lbnREZWYuc2VsZWN0b3JzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRVcEF0dHJpYnV0ZXMoaG9zdFJlbmRlcmVyLCBob3N0Uk5vZGUsIGF0dHJzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xhc3NlcyAmJiBjbGFzc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlRGlyZWN0Q2xhc3MoaG9zdFJlbmRlcmVyLCBob3N0Uk5vZGUsIGNsYXNzZXMuam9pbignICcpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRFbGVtZW50Tm9kZSA9IGdldFROb2RlKHJvb3RUVmlldywgSEVBREVSX09GRlNFVCk7XG4gICAgICAgICAgICBpZiAocHJvamVjdGFibGVOb2RlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHRFbGVtZW50Tm9kZS5wcm9qZWN0aW9uID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5nQ29udGVudFNlbGVjdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub2Rlc2ZvclNsb3QgPSBwcm9qZWN0YWJsZU5vZGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAvLyBQcm9qZWN0YWJsZSBub2RlcyBjYW4gYmUgcGFzc2VkIGFzIGFycmF5IG9mIGFycmF5cyBvciBhbiBhcnJheSBvZiBpdGVyYWJsZXMgKG5nVXBncmFkZVxuICAgICAgICAgICAgICAgICAgICAvLyBjYXNlKS4gSGVyZSB3ZSBkbyBub3JtYWxpemUgcGFzc2VkIGRhdGEgc3RydWN0dXJlIHRvIGJlIGFuIGFycmF5IG9mIGFycmF5cyB0byBhdm9pZFxuICAgICAgICAgICAgICAgICAgICAvLyBjb21wbGV4IGNoZWNrcyBkb3duIHRoZSBsaW5lLlxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBhbHNvIG5vcm1hbGl6ZSB0aGUgbGVuZ3RoIG9mIHRoZSBwYXNzZWQgaW4gcHJvamVjdGFibGUgbm9kZXMgKHRvIG1hdGNoIHRoZSBudW1iZXIgb2ZcbiAgICAgICAgICAgICAgICAgICAgLy8gPG5nLWNvbnRhaW5lcj4gc2xvdHMgZGVmaW5lZCBieSBhIGNvbXBvbmVudCkuXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Rpb24ucHVzaChub2Rlc2ZvclNsb3QgIT0gbnVsbCA/IEFycmF5LmZyb20obm9kZXNmb3JTbG90KSA6IG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IHNob3VsZCBMaWZlY3ljbGVIb29rc0ZlYXR1cmUgYW5kIG90aGVyIGhvc3QgZmVhdHVyZXMgYmUgZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlciBhbmRcbiAgICAgICAgICAgIC8vIGV4ZWN1dGVkIGhlcmU/XG4gICAgICAgICAgICAvLyBBbmd1bGFyIDUgcmVmZXJlbmNlOiBodHRwczovL3N0YWNrYmxpdHouY29tL2VkaXQvbGlmZWN5Y2xlLWhvb2tzLXZjcmVmXG4gICAgICAgICAgICBjb21wb25lbnQgPSBjcmVhdGVSb290Q29tcG9uZW50KGNvbXBvbmVudFZpZXcsIHRoaXMuY29tcG9uZW50RGVmLCByb290TFZpZXcsIHJvb3RDb250ZXh0LCBbTGlmZWN5Y2xlSG9va3NGZWF0dXJlXSk7XG4gICAgICAgICAgICByZW5kZXJWaWV3KHJvb3RUVmlldywgcm9vdExWaWV3LCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGxlYXZlVmlldygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9uZW50UmVmKHRoaXMuY29tcG9uZW50VHlwZSwgY29tcG9uZW50LCBjcmVhdGVFbGVtZW50UmVmKHRFbGVtZW50Tm9kZSwgcm9vdExWaWV3KSwgcm9vdExWaWV3LCB0RWxlbWVudE5vZGUpO1xuICAgIH1cbn1cbmNvbnN0IGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IG5ldyBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIoKTtcbi8qKlxuICogQ3JlYXRlcyBhIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciBhbmQgc3RvcmVzIGl0IG9uIHRoZSBpbmplY3Rvci4gT3IsIGlmIHRoZVxuICogQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyXG4gKiBhbHJlYWR5IGV4aXN0cywgcmV0cmlldmVzIHRoZSBleGlzdGluZyBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIuXG4gKlxuICogQHJldHVybnMgVGhlIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciBpbnN0YW5jZSB0byB1c2VcbiAqL1xuZnVuY3Rpb24gaW5qZWN0Q29tcG9uZW50RmFjdG9yeVJlc29sdmVyKCkge1xuICAgIHJldHVybiBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG59XG4vKipcbiAqIFJlcHJlc2VudHMgYW4gaW5zdGFuY2Ugb2YgYSBDb21wb25lbnQgY3JlYXRlZCB2aWEgYSB7QGxpbmsgQ29tcG9uZW50RmFjdG9yeX0uXG4gKlxuICogYENvbXBvbmVudFJlZmAgcHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBDb21wb25lbnQgSW5zdGFuY2UgYXMgd2VsbCBvdGhlciBvYmplY3RzIHJlbGF0ZWQgdG8gdGhpc1xuICogQ29tcG9uZW50IEluc3RhbmNlIGFuZCBhbGxvd3MgeW91IHRvIGRlc3Ryb3kgdGhlIENvbXBvbmVudCBJbnN0YW5jZSB2aWEgdGhlIHtAbGluayAjZGVzdHJveX1cbiAqIG1ldGhvZC5cbiAqXG4gKi9cbmNsYXNzIENvbXBvbmVudFJlZiBleHRlbmRzIENvbXBvbmVudFJlZiQxIHtcbiAgICBjb25zdHJ1Y3Rvcihjb21wb25lbnRUeXBlLCBpbnN0YW5jZSwgbG9jYXRpb24sIF9yb290TFZpZXcsIF90Tm9kZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIHRoaXMuX3Jvb3RMVmlldyA9IF9yb290TFZpZXc7XG4gICAgICAgIHRoaXMuX3ROb2RlID0gX3ROb2RlO1xuICAgICAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgIHRoaXMuaG9zdFZpZXcgPSB0aGlzLmNoYW5nZURldGVjdG9yUmVmID0gbmV3IFJvb3RWaWV3UmVmKF9yb290TFZpZXcpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudFR5cGUgPSBjb21wb25lbnRUeXBlO1xuICAgIH1cbiAgICBnZXQgaW5qZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTm9kZUluamVjdG9yKHRoaXMuX3ROb2RlLCB0aGlzLl9yb290TFZpZXcpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmhvc3RWaWV3LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgb25EZXN0cm95KGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuaG9zdFZpZXcub25EZXN0cm95KGNhbGxiYWNrKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBZGRzIGRlY29yYXRvciwgY29uc3RydWN0b3IsIGFuZCBwcm9wZXJ0eSBtZXRhZGF0YSB0byBhIGdpdmVuIHR5cGUgdmlhIHN0YXRpYyBtZXRhZGF0YSBmaWVsZHNcbiAqIG9uIHRoZSB0eXBlLlxuICpcbiAqIFRoZXNlIG1ldGFkYXRhIGZpZWxkcyBjYW4gbGF0ZXIgYmUgcmVhZCB3aXRoIEFuZ3VsYXIncyBgUmVmbGVjdGlvbkNhcGFiaWxpdGllc2AgQVBJLlxuICpcbiAqIENhbGxzIHRvIGBzZXRDbGFzc01ldGFkYXRhYCBjYW4gYmUgZ3VhcmRlZCBieSBuZ0Rldk1vZGUsIHJlc3VsdGluZyBpbiB0aGUgbWV0YWRhdGEgYXNzaWdubWVudHNcbiAqIGJlaW5nIHRyZWUtc2hha2VuIGF3YXkgZHVyaW5nIHByb2R1Y3Rpb24gYnVpbGRzLlxuICovXG5mdW5jdGlvbiBzZXRDbGFzc01ldGFkYXRhKHR5cGUsIGRlY29yYXRvcnMsIGN0b3JQYXJhbWV0ZXJzLCBwcm9wRGVjb3JhdG9ycykge1xuICAgIHJldHVybiBub1NpZGVFZmZlY3RzKCgpID0+IHtcbiAgICAgICAgY29uc3QgY2xhenogPSB0eXBlO1xuICAgICAgICBpZiAoZGVjb3JhdG9ycyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGNsYXp6Lmhhc093blByb3BlcnR5KCdkZWNvcmF0b3JzJykgJiYgY2xhenouZGVjb3JhdG9ycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2xhenouZGVjb3JhdG9ycy5wdXNoKC4uLmRlY29yYXRvcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xhenouZGVjb3JhdG9ycyA9IGRlY29yYXRvcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0b3JQYXJhbWV0ZXJzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBSYXRoZXIgdGhhbiBtZXJnaW5nLCBjbG9iYmVyIHRoZSBleGlzdGluZyBwYXJhbWV0ZXJzLiBJZiBvdGhlciBwcm9qZWN0cyBleGlzdCB3aGljaFxuICAgICAgICAgICAgLy8gdXNlIHRzaWNrbGUtc3R5bGUgYW5ub3RhdGlvbnMgYW5kIHJlZmxlY3Qgb3ZlciB0aGVtIGluIHRoZSBzYW1lIHdheSwgdGhpcyBjb3VsZFxuICAgICAgICAgICAgLy8gY2F1c2UgaXNzdWVzLCBidXQgdGhhdCBpcyB2YW5pc2hpbmdseSB1bmxpa2VseS5cbiAgICAgICAgICAgIGNsYXp6LmN0b3JQYXJhbWV0ZXJzID0gY3RvclBhcmFtZXRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BEZWNvcmF0b3JzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBUaGUgcHJvcGVydHkgZGVjb3JhdG9yIG9iamVjdHMgYXJlIG1lcmdlZCBhcyBpdCBpcyBwb3NzaWJsZSBkaWZmZXJlbnQgZmllbGRzIGhhdmVcbiAgICAgICAgICAgIC8vIGRpZmZlcmVudCBkZWNvcmF0b3IgdHlwZXMuIERlY29yYXRvcnMgb24gaW5kaXZpZHVhbCBmaWVsZHMgYXJlIG5vdCBtZXJnZWQsIGFzIGl0J3NcbiAgICAgICAgICAgIC8vIGFsc28gaW5jcmVkaWJseSB1bmxpa2VseSB0aGF0IGEgZmllbGQgd2lsbCBiZSBkZWNvcmF0ZWQgYm90aCB3aXRoIGFuIEFuZ3VsYXJcbiAgICAgICAgICAgIC8vIGRlY29yYXRvciBhbmQgYSBub24tQW5ndWxhciBkZWNvcmF0b3IgdGhhdCdzIGFsc28gYmVlbiBkb3dubGV2ZWxlZC5cbiAgICAgICAgICAgIGlmIChjbGF6ei5oYXNPd25Qcm9wZXJ0eSgncHJvcERlY29yYXRvcnMnKSAmJiBjbGF6ei5wcm9wRGVjb3JhdG9ycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2xhenoucHJvcERlY29yYXRvcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNsYXp6LnByb3BEZWNvcmF0b3JzKSwgcHJvcERlY29yYXRvcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xhenoucHJvcERlY29yYXRvcnMgPSBwcm9wRGVjb3JhdG9ycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhbiBpbnN0YW5jZSBvZiBhbiBgTmdNb2R1bGVgIGNyZWF0ZWQgYnkgYW4gYE5nTW9kdWxlRmFjdG9yeWAuXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gdGhlIGBOZ01vZHVsZWAgaW5zdGFuY2UgYW5kIHJlbGF0ZWQgb2JqZWN0cy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIE5nTW9kdWxlUmVmJDEge1xufVxuLyoqXG4gKiBAcHVibGljQXBpXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqIFRoaXMgY2xhc3Mgd2FzIG1vc3RseSB1c2VkIGFzIGEgcGFydCBvZiBWaWV3RW5naW5lLWJhc2VkIEpJVCBBUEkgYW5kIGlzIG5vIGxvbmdlciBuZWVkZWQgaW4gSXZ5XG4gKiBKSVQgbW9kZS4gU2VlIFtKSVQgQVBJIGNoYW5nZXMgZHVlIHRvIFZpZXdFbmdpbmUgZGVwcmVjYXRpb25dKGd1aWRlL2RlcHJlY2F0aW9ucyNqaXQtYXBpLWNoYW5nZXMpXG4gKiBmb3IgYWRkaXRpb25hbCBjb250ZXh0LiBBbmd1bGFyIHByb3ZpZGVzIEFQSXMgdGhhdCBhY2NlcHQgTmdNb2R1bGUgY2xhc3NlcyBkaXJlY3RseSAoc3VjaCBhc1xuICogW1BsYXRmb3JtUmVmLmJvb3RzdHJhcE1vZHVsZV0oYXBpL2NvcmUvUGxhdGZvcm1SZWYjYm9vdHN0cmFwTW9kdWxlKSBhbmRcbiAqIFtjcmVhdGVOZ01vZHVsZVJlZl0oYXBpL2NvcmUvY3JlYXRlTmdNb2R1bGVSZWYpKSwgY29uc2lkZXIgc3dpdGNoaW5nIHRvIHRob3NlIEFQSXMgaW5zdGVhZCBvZlxuICogdXNpbmcgZmFjdG9yeS1iYXNlZCBvbmVzLlxuICovXG5jbGFzcyBOZ01vZHVsZUZhY3RvcnkkMSB7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBNYXAgb2YgbW9kdWxlLWlkIHRvIHRoZSBjb3JyZXNwb25kaW5nIE5nTW9kdWxlLlxuICogLSBJbiBwcmUgSXZ5IHdlIHRyYWNrIE5nTW9kdWxlRmFjdG9yeSxcbiAqIC0gSW4gcG9zdCBJdnkgd2UgdHJhY2sgdGhlIE5nTW9kdWxlVHlwZVxuICovXG5jb25zdCBtb2R1bGVzID0gbmV3IE1hcCgpO1xuLyoqXG4gKiBSZWdpc3RlcnMgYSBsb2FkZWQgbW9kdWxlLiBTaG91bGQgb25seSBiZSBjYWxsZWQgZnJvbSBnZW5lcmF0ZWQgTmdNb2R1bGVGYWN0b3J5IGNvZGUuXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyTW9kdWxlRmFjdG9yeShpZCwgZmFjdG9yeSkge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gbW9kdWxlcy5nZXQoaWQpO1xuICAgIGFzc2VydFNhbWVPck5vdEV4aXN0aW5nKGlkLCBleGlzdGluZyAmJiBleGlzdGluZy5tb2R1bGVUeXBlLCBmYWN0b3J5Lm1vZHVsZVR5cGUpO1xuICAgIG1vZHVsZXMuc2V0KGlkLCBmYWN0b3J5KTtcbn1cbmZ1bmN0aW9uIGFzc2VydFNhbWVPck5vdEV4aXN0aW5nKGlkLCB0eXBlLCBpbmNvbWluZykge1xuICAgIGlmICh0eXBlICYmIHR5cGUgIT09IGluY29taW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRHVwbGljYXRlIG1vZHVsZSByZWdpc3RlcmVkIGZvciAke2lkfSAtICR7c3RyaW5naWZ5KHR5cGUpfSB2cyAke3N0cmluZ2lmeSh0eXBlLm5hbWUpfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlZ2lzdGVyTmdNb2R1bGVUeXBlKG5nTW9kdWxlVHlwZSkge1xuICAgIGNvbnN0IHZpc2l0ZWQgPSBuZXcgU2V0KCk7XG4gICAgcmVjdXJzZShuZ01vZHVsZVR5cGUpO1xuICAgIGZ1bmN0aW9uIHJlY3Vyc2UobmdNb2R1bGVUeXBlKSB7XG4gICAgICAgIC8vIFRoZSBpbXBvcnRzIGFycmF5IG9mIGFuIE5nTW9kdWxlIG11c3QgcmVmZXIgdG8gb3RoZXIgTmdNb2R1bGVzLFxuICAgICAgICAvLyBzbyBhbiBlcnJvciBpcyB0aHJvd24gaWYgbm8gbW9kdWxlIGRlZmluaXRpb24gaXMgYXZhaWxhYmxlLlxuICAgICAgICBjb25zdCBkZWYgPSBnZXROZ01vZHVsZURlZihuZ01vZHVsZVR5cGUsIC8qIHRocm93Tm90Rm91bmQgKi8gdHJ1ZSk7XG4gICAgICAgIGNvbnN0IGlkID0gZGVmLmlkO1xuICAgICAgICBpZiAoaWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gbW9kdWxlcy5nZXQoaWQpO1xuICAgICAgICAgICAgYXNzZXJ0U2FtZU9yTm90RXhpc3RpbmcoaWQsIGV4aXN0aW5nLCBuZ01vZHVsZVR5cGUpO1xuICAgICAgICAgICAgbW9kdWxlcy5zZXQoaWQsIG5nTW9kdWxlVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW1wb3J0cyA9IG1heWJlVW53cmFwRm4oZGVmLmltcG9ydHMpO1xuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgaW1wb3J0cykge1xuICAgICAgICAgICAgaWYgKCF2aXNpdGVkLmhhcyhpKSkge1xuICAgICAgICAgICAgICAgIHZpc2l0ZWQuYWRkKGkpO1xuICAgICAgICAgICAgICAgIHJlY3Vyc2UoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjbGVhck1vZHVsZXNGb3JUZXN0KCkge1xuICAgIG1vZHVsZXMuY2xlYXIoKTtcbn1cbmZ1bmN0aW9uIGdldFJlZ2lzdGVyZWROZ01vZHVsZVR5cGUoaWQpIHtcbiAgICByZXR1cm4gKG1vZHVsZXMuZ2V0KGlkKSB8fCBhdXRvUmVnaXN0ZXJNb2R1bGVCeUlkW2lkXSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IE5nTW9kdWxlUmVmIGluc3RhbmNlIGJhc2VkIG9uIHRoZSBOZ01vZHVsZSBjbGFzcyBhbmQgcGFyZW50IGluamVjdG9yIHByb3ZpZGVkLlxuICogQHBhcmFtIG5nTW9kdWxlIE5nTW9kdWxlIGNsYXNzLlxuICogQHBhcmFtIHBhcmVudEluamVjdG9yIE9wdGlvbmFsIGluamVjdG9yIGluc3RhbmNlIHRvIHVzZSBhcyBhIHBhcmVudCBmb3IgdGhlIG1vZHVsZSBpbmplY3Rvci4gSWZcbiAqICAgICBub3QgcHJvdmlkZWQsIGBOdWxsSW5qZWN0b3JgIHdpbGwgYmUgdXNlZCBpbnN0ZWFkLlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBjcmVhdGVOZ01vZHVsZVJlZihuZ01vZHVsZSwgcGFyZW50SW5qZWN0b3IpIHtcbiAgICByZXR1cm4gbmV3IE5nTW9kdWxlUmVmKG5nTW9kdWxlLCBwYXJlbnRJbmplY3RvciAhPT0gbnVsbCAmJiBwYXJlbnRJbmplY3RvciAhPT0gdm9pZCAwID8gcGFyZW50SW5qZWN0b3IgOiBudWxsKTtcbn1cbmNsYXNzIE5nTW9kdWxlUmVmIGV4dGVuZHMgTmdNb2R1bGVSZWYkMSB7XG4gICAgY29uc3RydWN0b3IobmdNb2R1bGVUeXBlLCBfcGFyZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3BhcmVudCA9IF9wYXJlbnQ7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpyZXF1aXJlLWludGVybmFsLXdpdGgtdW5kZXJzY29yZVxuICAgICAgICB0aGlzLl9ib290c3RyYXBDb21wb25lbnRzID0gW107XG4gICAgICAgIHRoaXMuaW5qZWN0b3IgPSB0aGlzO1xuICAgICAgICB0aGlzLmRlc3Ryb3lDYnMgPSBbXTtcbiAgICAgICAgLy8gV2hlbiBib290c3RyYXBwaW5nIGEgbW9kdWxlIHdlIGhhdmUgYSBkZXBlbmRlbmN5IGdyYXBoIHRoYXQgbG9va3MgbGlrZSB0aGlzOlxuICAgICAgICAvLyBBcHBsaWNhdGlvblJlZiAtPiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgLT4gTmdNb2R1bGVSZWYuIFRoZSBwcm9ibGVtIGlzIHRoYXQgaWYgdGhlXG4gICAgICAgIC8vIG1vZHVsZSBiZWluZyByZXNvbHZlZCB0cmllcyB0byBpbmplY3QgdGhlIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgaXQnbGwgY3JlYXRlIGFcbiAgICAgICAgLy8gY2lyY3VsYXIgZGVwZW5kZW5jeSB3aGljaCB3aWxsIHJlc3VsdCBpbiBhIHJ1bnRpbWUgZXJyb3IsIGJlY2F1c2UgdGhlIGluamVjdG9yIGRvZXNuJ3RcbiAgICAgICAgLy8gZXhpc3QgeWV0LiBXZSB3b3JrIGFyb3VuZCB0aGUgaXNzdWUgYnkgY3JlYXRpbmcgdGhlIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciBvdXJzZWx2ZXNcbiAgICAgICAgLy8gYW5kIHByb3ZpZGluZyBpdCwgcmF0aGVyIHRoYW4gbGV0dGluZyB0aGUgaW5qZWN0b3IgcmVzb2x2ZSBpdC5cbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSBuZXcgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKHRoaXMpO1xuICAgICAgICBjb25zdCBuZ01vZHVsZURlZiA9IGdldE5nTW9kdWxlRGVmKG5nTW9kdWxlVHlwZSk7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0RGVmaW5lZChuZ01vZHVsZURlZiwgYE5nTW9kdWxlICcke3N0cmluZ2lmeShuZ01vZHVsZVR5cGUpfScgaXMgbm90IGEgc3VidHlwZSBvZiAnTmdNb2R1bGVUeXBlJy5gKTtcbiAgICAgICAgdGhpcy5fYm9vdHN0cmFwQ29tcG9uZW50cyA9IG1heWJlVW53cmFwRm4obmdNb2R1bGVEZWYuYm9vdHN0cmFwKTtcbiAgICAgICAgdGhpcy5fcjNJbmplY3RvciA9IGNyZWF0ZUluamVjdG9yV2l0aG91dEluamVjdG9ySW5zdGFuY2VzKG5nTW9kdWxlVHlwZSwgX3BhcmVudCwgW1xuICAgICAgICAgICAgeyBwcm92aWRlOiBOZ01vZHVsZVJlZiQxLCB1c2VWYWx1ZTogdGhpcyB9LCB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZTogQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyJDEsXG4gICAgICAgICAgICAgICAgdXNlVmFsdWU6IHRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sIHN0cmluZ2lmeShuZ01vZHVsZVR5cGUpKTtcbiAgICAgICAgLy8gV2UgbmVlZCB0byByZXNvbHZlIHRoZSBpbmplY3RvciB0eXBlcyBzZXBhcmF0ZWx5IGZyb20gdGhlIGluamVjdG9yIGNyZWF0aW9uLCBiZWNhdXNlXG4gICAgICAgIC8vIHRoZSBtb2R1bGUgbWlnaHQgYmUgdHJ5aW5nIHRvIHVzZSB0aGlzIHJlZiBpbiBpdHMgY29uc3RydWN0b3IgZm9yIERJIHdoaWNoIHdpbGwgY2F1c2UgYVxuICAgICAgICAvLyBjaXJjdWxhciBlcnJvciB0aGF0IHdpbGwgZXZlbnR1YWxseSBlcnJvciBvdXQsIGJlY2F1c2UgdGhlIGluamVjdG9yIGlzbid0IGNyZWF0ZWQgeWV0LlxuICAgICAgICB0aGlzLl9yM0luamVjdG9yLl9yZXNvbHZlSW5qZWN0b3JEZWZUeXBlcygpO1xuICAgICAgICB0aGlzLmluc3RhbmNlID0gdGhpcy5nZXQobmdNb2R1bGVUeXBlKTtcbiAgICB9XG4gICAgZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlID0gSW5qZWN0b3IuVEhST1dfSUZfTk9UX0ZPVU5ELCBpbmplY3RGbGFncyA9IEluamVjdEZsYWdzLkRlZmF1bHQpIHtcbiAgICAgICAgaWYgKHRva2VuID09PSBJbmplY3RvciB8fCB0b2tlbiA9PT0gTmdNb2R1bGVSZWYkMSB8fCB0b2tlbiA9PT0gSU5KRUNUT1IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9yM0luamVjdG9yLmdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSwgaW5qZWN0RmxhZ3MpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0aGlzLmRlc3Ryb3lDYnMsICdOZ01vZHVsZSBhbHJlYWR5IGRlc3Ryb3llZCcpO1xuICAgICAgICBjb25zdCBpbmplY3RvciA9IHRoaXMuX3IzSW5qZWN0b3I7XG4gICAgICAgICFpbmplY3Rvci5kZXN0cm95ZWQgJiYgaW5qZWN0b3IuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lDYnMuZm9yRWFjaChmbiA9PiBmbigpKTtcbiAgICAgICAgdGhpcy5kZXN0cm95Q2JzID0gbnVsbDtcbiAgICB9XG4gICAgb25EZXN0cm95KGNhbGxiYWNrKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRoaXMuZGVzdHJveUNicywgJ05nTW9kdWxlIGFscmVhZHkgZGVzdHJveWVkJyk7XG4gICAgICAgIHRoaXMuZGVzdHJveUNicy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG59XG5jbGFzcyBOZ01vZHVsZUZhY3RvcnkgZXh0ZW5kcyBOZ01vZHVsZUZhY3RvcnkkMSB7XG4gICAgY29uc3RydWN0b3IobW9kdWxlVHlwZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm1vZHVsZVR5cGUgPSBtb2R1bGVUeXBlO1xuICAgICAgICBjb25zdCBuZ01vZHVsZURlZiA9IGdldE5nTW9kdWxlRGVmKG1vZHVsZVR5cGUpO1xuICAgICAgICBpZiAobmdNb2R1bGVEZWYgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFJlZ2lzdGVyIHRoZSBOZ01vZHVsZSB3aXRoIEFuZ3VsYXIncyBtb2R1bGUgcmVnaXN0cnkuIFRoZSBsb2NhdGlvbiAoYW5kIGhlbmNlIHRpbWluZykgb2ZcbiAgICAgICAgICAgIC8vIHRoaXMgY2FsbCBpcyBjcml0aWNhbCB0byBlbnN1cmUgdGhpcyB3b3JrcyBjb3JyZWN0bHkgKG1vZHVsZXMgZ2V0IHJlZ2lzdGVyZWQgd2hlbiBleHBlY3RlZClcbiAgICAgICAgICAgIC8vIHdpdGhvdXQgYmxvYXRpbmcgYnVuZGxlcyAobW9kdWxlcyBhcmUgcmVnaXN0ZXJlZCB3aGVuIG90aGVyd2lzZSBub3QgcmVmZXJlbmNlZCkuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gSW4gVmlldyBFbmdpbmUsIHJlZ2lzdHJhdGlvbiBvY2N1cnMgaW4gdGhlIC5uZ2ZhY3RvcnkuanMgZmlsZSBhcyBhIHNpZGUgZWZmZWN0LiBUaGlzIGhhc1xuICAgICAgICAgICAgLy8gc2V2ZXJhbCBwcmFjdGljYWwgY29uc2VxdWVuY2VzOlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIC0gSWYgYW4gLm5nZmFjdG9yeSBmaWxlIGlzIG5vdCBpbXBvcnRlZCBmcm9tLCB0aGUgbW9kdWxlIHdvbid0IGJlIHJlZ2lzdGVyZWQgKGFuZCBjYW4gYmVcbiAgICAgICAgICAgIC8vICAgdHJlZSBzaGFrZW4pLlxuICAgICAgICAgICAgLy8gLSBJZiBhbiAubmdmYWN0b3J5IGZpbGUgaXMgaW1wb3J0ZWQgZnJvbSwgdGhlIG1vZHVsZSB3aWxsIGJlIHJlZ2lzdGVyZWQgZXZlbiBpZiBhbiBpbnN0YW5jZVxuICAgICAgICAgICAgLy8gICBpcyBub3QgYWN0dWFsbHkgY3JlYXRlZCAodmlhIGBjcmVhdGVgIGJlbG93KS5cbiAgICAgICAgICAgIC8vIC0gU2luY2UgYW4gLm5nZmFjdG9yeSBmaWxlIGluIFZpZXcgRW5naW5lIHJlZmVyZW5jZXMgdGhlIC5uZ2ZhY3RvcnkgZmlsZXMgb2YgdGhlIE5nTW9kdWxlJ3NcbiAgICAgICAgICAgIC8vICAgaW1wb3J0cyxcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBJbiBJdnksIHRoaW5ncyBhcmUgYSBiaXQgZGlmZmVyZW50LiAubmdmYWN0b3J5IGZpbGVzIHN0aWxsIGV4aXN0IGZvciBjb21wYXRpYmlsaXR5LCBidXQgYXJlXG4gICAgICAgICAgICAvLyBub3QgYSByZXF1aXJlZCBBUEkgdG8gdXNlIC0gdGhlcmUgYXJlIG90aGVyIHdheXMgdG8gb2J0YWluIGFuIE5nTW9kdWxlRmFjdG9yeSBmb3IgYSBnaXZlblxuICAgICAgICAgICAgLy8gTmdNb2R1bGUuIFRodXMsIHJlbHlpbmcgb24gYSBzaWRlIGVmZmVjdCBpbiB0aGUgLm5nZmFjdG9yeSBmaWxlIGlzIG5vdCBzdWZmaWNpZW50LiBJbnN0ZWFkLFxuICAgICAgICAgICAgLy8gdGhlIHNpZGUgZWZmZWN0IG9mIHJlZ2lzdHJhdGlvbiBpcyBhZGRlZCBoZXJlLCBpbiB0aGUgY29uc3RydWN0b3Igb2YgTmdNb2R1bGVGYWN0b3J5LFxuICAgICAgICAgICAgLy8gZW5zdXJpbmcgbm8gbWF0dGVyIGhvdyBhIGZhY3RvcnkgaXMgY3JlYXRlZCwgdGhlIG1vZHVsZSBpcyByZWdpc3RlcmVkIGNvcnJlY3RseS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBBbiBhbHRlcm5hdGl2ZSB3b3VsZCBiZSB0byBpbmNsdWRlIHRoZSByZWdpc3RyYXRpb24gc2lkZSBlZmZlY3QgaW5saW5lIGZvbGxvd2luZyB0aGUgYWN0dWFsXG4gICAgICAgICAgICAvLyBOZ01vZHVsZSBkZWZpbml0aW9uLiBUaGlzIGFsc28gaGFzIHRoZSBjb3JyZWN0IHRpbWluZywgYnV0IGJyZWFrcyB0cmVlLXNoYWtpbmcgLSBtb2R1bGVzXG4gICAgICAgICAgICAvLyB3aWxsIGJlIHJlZ2lzdGVyZWQgYW5kIHJldGFpbmVkIGV2ZW4gaWYgdGhleSdyZSBvdGhlcndpc2UgbmV2ZXIgcmVmZXJlbmNlZC5cbiAgICAgICAgICAgIHJlZ2lzdGVyTmdNb2R1bGVUeXBlKG1vZHVsZVR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZShwYXJlbnRJbmplY3Rvcikge1xuICAgICAgICByZXR1cm4gbmV3IE5nTW9kdWxlUmVmKHRoaXMubW9kdWxlVHlwZSwgcGFyZW50SW5qZWN0b3IpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEJpbmRpbmdzIGZvciBwdXJlIGZ1bmN0aW9ucyBhcmUgc3RvcmVkIGFmdGVyIHJlZ3VsYXIgYmluZGluZ3MuXG4gKlxuICogfC0tLS0tLS1kZWNscy0tLS0tLXwtLS0tLS0tLS12YXJzLS0tLS0tLS0tfCAgICAgICAgICAgICAgICAgfC0tLS0tIGhvc3RWYXJzIChkaXIxKSAtLS0tLS18XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHwgbm9kZXMvcmVmcy9waXBlcyB8IGJpbmRpbmdzIHwgZm4gc2xvdHMgIHwgaW5qZWN0b3IgfCBkaXIxIHwgaG9zdCBiaW5kaW5ncyB8IGhvc3Qgc2xvdHMgfFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgICAgICAgICAgICAgICAgICAgXiAgICAgICAgICAgICAgICAgICAgICBeXG4gKiAgICAgIFRWaWV3LmJpbmRpbmdTdGFydEluZGV4ICAgICAgVFZpZXcuZXhwYW5kb1N0YXJ0SW5kZXhcbiAqXG4gKiBQdXJlIGZ1bmN0aW9uIGluc3RydWN0aW9ucyBhcmUgZ2l2ZW4gYW4gb2Zmc2V0IGZyb20gdGhlIGJpbmRpbmcgcm9vdC4gQWRkaW5nIHRoZSBvZmZzZXQgdG8gdGhlXG4gKiBiaW5kaW5nIHJvb3QgZ2l2ZXMgdGhlIGZpcnN0IGluZGV4IHdoZXJlIHRoZSBiaW5kaW5ncyBhcmUgc3RvcmVkLiBJbiBjb21wb25lbnQgdmlld3MsIHRoZSBiaW5kaW5nXG4gKiByb290IGlzIHRoZSBiaW5kaW5nU3RhcnRJbmRleC4gSW4gaG9zdCBiaW5kaW5ncywgdGhlIGJpbmRpbmcgcm9vdCBpcyB0aGUgZXhwYW5kb1N0YXJ0SW5kZXggK1xuICogYW55IGRpcmVjdGl2ZSBpbnN0YW5jZXMgKyBhbnkgaG9zdFZhcnMgaW4gZGlyZWN0aXZlcyBldmFsdWF0ZWQgYmVmb3JlIGl0LlxuICpcbiAqIFNlZSBWSUVXX0RBVEEubWQgZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgaG9zdCBiaW5kaW5nIHJlc29sdXRpb24uXG4gKi9cbi8qKlxuICogSWYgdGhlIHZhbHVlIGhhc24ndCBiZWVuIHNhdmVkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byBzdG9yZSBhbmQgcmV0dXJuIHRoZVxuICogdmFsdWUuIElmIGl0IGhhcyBiZWVuIHNhdmVkLCByZXR1cm5zIHRoZSBzYXZlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHZhbHVlXG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyB2YWx1ZVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwdXJlRnVuY3Rpb24wKHNsb3RPZmZzZXQsIHB1cmVGbiwgdGhpc0FyZykge1xuICAgIGNvbnN0IGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdSb290KCkgKyBzbG90T2Zmc2V0O1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICByZXR1cm4gbFZpZXdbYmluZGluZ0luZGV4XSA9PT0gTk9fQ0hBTkdFID9cbiAgICAgICAgdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4LCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZykgOiBwdXJlRm4oKSkgOlxuICAgICAgICBnZXRCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXgpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgdGhlIHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiB0aGUgdmFsdWUgaGFzIG5vdCBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiB1cGRhdGVkIHZhbHVlXG4gKiBAcGFyYW0gZXhwIFVwZGF0ZWQgZXhwcmVzc2lvbiB2YWx1ZVxuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHVyZUZ1bmN0aW9uMShzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cCwgdGhpc0FyZykge1xuICAgIHJldHVybiBwdXJlRnVuY3Rpb24xSW50ZXJuYWwoZ2V0TFZpZXcoKSwgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHAsIHRoaXNBcmcpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjIoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIHB1cmVGdW5jdGlvbjJJbnRlcm5hbChnZXRMVmlldygpLCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIHRoaXNBcmcpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwdXJlRnVuY3Rpb24zKHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgZXhwMywgdGhpc0FyZykge1xuICAgIHJldHVybiBwdXJlRnVuY3Rpb24zSW50ZXJuYWwoZ2V0TFZpZXcoKSwgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCB0aGlzQXJnKTtcbn1cbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIGFueSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgbm8gdmFsdWVzIGhhdmUgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGblxuICogQHBhcmFtIGV4cDFcbiAqIEBwYXJhbSBleHAyXG4gKiBAcGFyYW0gZXhwM1xuICogQHBhcmFtIGV4cDRcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjQoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIHB1cmVGdW5jdGlvbjRJbnRlcm5hbChnZXRMVmlldygpLCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIHRoaXNBcmcpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gZXhwNFxuICogQHBhcmFtIGV4cDVcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjUoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ1Jvb3QoKSArIHNsb3RPZmZzZXQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzLCBleHA0KTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIGV4cDUpIHx8IGRpZmZlcmVudCA/XG4gICAgICAgIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDUsIHRoaXNBcmcgPyBwdXJlRm4uY2FsbCh0aGlzQXJnLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1KSA6XG4gICAgICAgICAgICBwdXJlRm4oZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSkpIDpcbiAgICAgICAgZ2V0QmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgNSk7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm5cbiAqIEBwYXJhbSBleHAxXG4gKiBAcGFyYW0gZXhwMlxuICogQHBhcmFtIGV4cDNcbiAqIEBwYXJhbSBleHA0XG4gKiBAcGFyYW0gZXhwNVxuICogQHBhcmFtIGV4cDZcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjYoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCBleHA2LCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ1Jvb3QoKSArIHNsb3RPZmZzZXQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzLCBleHA0KTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCBleHA1LCBleHA2KSB8fCBkaWZmZXJlbnQgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA2LCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNikgOlxuICAgICAgICAgICAgcHVyZUZuKGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYpKSA6XG4gICAgICAgIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDYpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gZXhwNFxuICogQHBhcmFtIGV4cDVcbiAqIEBwYXJhbSBleHA2XG4gKiBAcGFyYW0gZXhwN1xuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cHVyZUZ1bmN0aW9uNyhzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYsIGV4cDcsIHRoaXNBcmcpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nUm9vdCgpICsgc2xvdE9mZnNldDtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgbGV0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzLCBleHA0KTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQzKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCBleHA1LCBleHA2LCBleHA3KSB8fCBkaWZmZXJlbnQgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA3LCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNiwgZXhwNykgOlxuICAgICAgICAgICAgcHVyZUZuKGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYsIGV4cDcpKSA6XG4gICAgICAgIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDcpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gZXhwNFxuICogQHBhcmFtIGV4cDVcbiAqIEBwYXJhbSBleHA2XG4gKiBAcGFyYW0gZXhwN1xuICogQHBhcmFtIGV4cDhcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvbjgoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCBleHA2LCBleHA3LCBleHA4LCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ1Jvb3QoKSArIHNsb3RPZmZzZXQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzLCBleHA0KTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCBleHA1LCBleHA2LCBleHA3LCBleHA4KSB8fCBkaWZmZXJlbnQgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA4LCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNiwgZXhwNywgZXhwOCkgOlxuICAgICAgICAgICAgcHVyZUZuKGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYsIGV4cDcsIGV4cDgpKSA6XG4gICAgICAgIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDgpO1xufVxuLyoqXG4gKiBwdXJlRnVuY3Rpb24gaW5zdHJ1Y3Rpb24gdGhhdCBjYW4gc3VwcG9ydCBhbnkgbnVtYmVyIG9mIGJpbmRpbmdzLlxuICpcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm4gQSBwdXJlIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYmluZGluZyB2YWx1ZXMgYW5kIGJ1aWxkcyBhbiBvYmplY3Qgb3IgYXJyYXlcbiAqIGNvbnRhaW5pbmcgdGhvc2UgdmFsdWVzLlxuICogQHBhcmFtIGV4cHMgQW4gYXJyYXkgb2YgYmluZGluZyB2YWx1ZXNcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXB1cmVGdW5jdGlvblYoc2xvdE9mZnNldCwgcHVyZUZuLCBleHBzLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIHB1cmVGdW5jdGlvblZJbnRlcm5hbChnZXRMVmlldygpLCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cHMsIHRoaXNBcmcpO1xufVxuLyoqXG4gKiBSZXN1bHRzIG9mIGEgcHVyZSBmdW5jdGlvbiBpbnZvY2F0aW9uIGFyZSBzdG9yZWQgaW4gTFZpZXcgaW4gYSBkZWRpY2F0ZWQgc2xvdCB0aGF0IGlzIGluaXRpYWxpemVkXG4gKiB0byBOT19DSEFOR0UuIEluIHJhcmUgc2l0dWF0aW9ucyBhIHB1cmUgcGlwZSBtaWdodCB0aHJvdyBhbiBleGNlcHRpb24gb24gdGhlIHZlcnkgZmlyc3RcbiAqIGludm9jYXRpb24gYW5kIG5vdCBwcm9kdWNlIGFueSB2YWxpZCByZXN1bHRzLiBJbiB0aGlzIGNhc2UgTFZpZXcgd291bGQga2VlcCBob2xkaW5nIHRoZSBOT19DSEFOR0VcbiAqIHZhbHVlLiBUaGUgTk9fQ0hBTkdFIGlzIG5vdCBzb21ldGhpbmcgdGhhdCB3ZSBjYW4gdXNlIGluIGV4cHJlc3Npb25zIC8gYmluZGluZ3MgdGh1cyB3ZSBjb252ZXJ0XG4gKiBpdCB0byBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UHVyZUZ1bmN0aW9uUmV0dXJuVmFsdWUobFZpZXcsIHJldHVyblZhbHVlSW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SW5kZXhJblJhbmdlKGxWaWV3LCByZXR1cm5WYWx1ZUluZGV4KTtcbiAgICBjb25zdCBsYXN0UmV0dXJuVmFsdWUgPSBsVmlld1tyZXR1cm5WYWx1ZUluZGV4XTtcbiAgICByZXR1cm4gbGFzdFJldHVyblZhbHVlID09PSBOT19DSEFOR0UgPyB1bmRlZmluZWQgOiBsYXN0UmV0dXJuVmFsdWU7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiB0aGUgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIHRoZSB2YWx1ZSBoYXMgbm90IGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBsVmlldyBMVmlldyBpbiB3aGljaCB0aGUgZnVuY3Rpb24gaXMgYmVpbmcgZXhlY3V0ZWQuXG4gKiBAcGFyYW0gYmluZGluZ1Jvb3QgQmluZGluZyByb290IGluZGV4LlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGbiBGdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gdXBkYXRlZCB2YWx1ZVxuICogQHBhcmFtIGV4cCBVcGRhdGVkIGV4cHJlc3Npb24gdmFsdWVcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHB1cmVGdW5jdGlvbjFJbnRlcm5hbChsVmlldywgYmluZGluZ1Jvb3QsIHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwLCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gYmluZGluZ1Jvb3QgKyBzbG90T2Zmc2V0O1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZChsVmlldywgYmluZGluZ0luZGV4LCBleHApID9cbiAgICAgICAgdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgMSwgdGhpc0FyZyA/IHB1cmVGbi5jYWxsKHRoaXNBcmcsIGV4cCkgOiBwdXJlRm4oZXhwKSkgOlxuICAgICAgICBnZXRQdXJlRnVuY3Rpb25SZXR1cm5WYWx1ZShsVmlldywgYmluZGluZ0luZGV4ICsgMSk7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBsVmlldyBMVmlldyBpbiB3aGljaCB0aGUgZnVuY3Rpb24gaXMgYmVpbmcgZXhlY3V0ZWQuXG4gKiBAcGFyYW0gYmluZGluZ1Jvb3QgQmluZGluZyByb290IGluZGV4LlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGblxuICogQHBhcmFtIGV4cDFcbiAqIEBwYXJhbSBleHAyXG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICovXG5mdW5jdGlvbiBwdXJlRnVuY3Rpb24ySW50ZXJuYWwobFZpZXcsIGJpbmRpbmdSb290LCBzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIHRoaXNBcmcpIHtcbiAgICBjb25zdCBiaW5kaW5nSW5kZXggPSBiaW5kaW5nUm9vdCArIHNsb3RPZmZzZXQ7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkMihsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyKSA/XG4gICAgICAgIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDIsIHRoaXNBcmcgPyBwdXJlRm4uY2FsbCh0aGlzQXJnLCBleHAxLCBleHAyKSA6IHB1cmVGbihleHAxLCBleHAyKSkgOlxuICAgICAgICBnZXRQdXJlRnVuY3Rpb25SZXR1cm5WYWx1ZShsVmlldywgYmluZGluZ0luZGV4ICsgMik7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBsVmlldyBMVmlldyBpbiB3aGljaCB0aGUgZnVuY3Rpb24gaXMgYmVpbmcgZXhlY3V0ZWQuXG4gKiBAcGFyYW0gYmluZGluZ1Jvb3QgQmluZGluZyByb290IGluZGV4LlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGblxuICogQHBhcmFtIGV4cDFcbiAqIEBwYXJhbSBleHAyXG4gKiBAcGFyYW0gZXhwM1xuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqL1xuZnVuY3Rpb24gcHVyZUZ1bmN0aW9uM0ludGVybmFsKGxWaWV3LCBiaW5kaW5nUm9vdCwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gYmluZGluZ1Jvb3QgKyBzbG90T2Zmc2V0O1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDMobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMiwgZXhwMykgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyAzLCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMykgOiBwdXJlRm4oZXhwMSwgZXhwMiwgZXhwMykpIDpcbiAgICAgICAgZ2V0UHVyZUZ1bmN0aW9uUmV0dXJuVmFsdWUobFZpZXcsIGJpbmRpbmdJbmRleCArIDMpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgTFZpZXcgaW4gd2hpY2ggdGhlIGZ1bmN0aW9uIGlzIGJlaW5nIGV4ZWN1dGVkLlxuICogQHBhcmFtIGJpbmRpbmdSb290IEJpbmRpbmcgcm9vdCBpbmRleC5cbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm5cbiAqIEBwYXJhbSBleHAxXG4gKiBAcGFyYW0gZXhwMlxuICogQHBhcmFtIGV4cDNcbiAqIEBwYXJhbSBleHA0XG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICpcbiAqL1xuZnVuY3Rpb24gcHVyZUZ1bmN0aW9uNEludGVybmFsKGxWaWV3LCBiaW5kaW5nUm9vdCwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCB0aGlzQXJnKSB7XG4gICAgY29uc3QgYmluZGluZ0luZGV4ID0gYmluZGluZ1Jvb3QgKyBzbG90T2Zmc2V0O1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCkgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCkgOiBwdXJlRm4oZXhwMSwgZXhwMiwgZXhwMywgZXhwNCkpIDpcbiAgICAgICAgZ2V0UHVyZUZ1bmN0aW9uUmV0dXJuVmFsdWUobFZpZXcsIGJpbmRpbmdJbmRleCArIDQpO1xufVxuLyoqXG4gKiBwdXJlRnVuY3Rpb24gaW5zdHJ1Y3Rpb24gdGhhdCBjYW4gc3VwcG9ydCBhbnkgbnVtYmVyIG9mIGJpbmRpbmdzLlxuICpcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBsVmlldyBMVmlldyBpbiB3aGljaCB0aGUgZnVuY3Rpb24gaXMgYmVpbmcgZXhlY3V0ZWQuXG4gKiBAcGFyYW0gYmluZGluZ1Jvb3QgQmluZGluZyByb290IGluZGV4LlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGbiBBIHB1cmUgZnVuY3Rpb24gdGhhdCB0YWtlcyBiaW5kaW5nIHZhbHVlcyBhbmQgYnVpbGRzIGFuIG9iamVjdCBvciBhcnJheVxuICogY29udGFpbmluZyB0aG9zZSB2YWx1ZXMuXG4gKiBAcGFyYW0gZXhwcyBBbiBhcnJheSBvZiBiaW5kaW5nIHZhbHVlc1xuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqL1xuZnVuY3Rpb24gcHVyZUZ1bmN0aW9uVkludGVybmFsKGxWaWV3LCBiaW5kaW5nUm9vdCwgc2xvdE9mZnNldCwgcHVyZUZuLCBleHBzLCB0aGlzQXJnKSB7XG4gICAgbGV0IGJpbmRpbmdJbmRleCA9IGJpbmRpbmdSb290ICsgc2xvdE9mZnNldDtcbiAgICBsZXQgZGlmZmVyZW50ID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleHBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgrKywgZXhwc1tpXSkgJiYgKGRpZmZlcmVudCA9IHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gZGlmZmVyZW50ID8gdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4LCBwdXJlRm4uYXBwbHkodGhpc0FyZywgZXhwcykpIDpcbiAgICAgICAgZ2V0UHVyZUZ1bmN0aW9uUmV0dXJuVmFsdWUobFZpZXcsIGJpbmRpbmdJbmRleCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDcmVhdGUgYSBwaXBlLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdpbGwgYmUgc3RvcmVkLlxuICogQHBhcmFtIHBpcGVOYW1lIFRoZSBuYW1lIG9mIHRoZSBwaXBlXG4gKiBAcmV0dXJucyBUIHRoZSBpbnN0YW5jZSBvZiB0aGUgcGlwZS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cGlwZShpbmRleCwgcGlwZU5hbWUpIHtcbiAgICBjb25zdCB0VmlldyA9IGdldFRWaWV3KCk7XG4gICAgbGV0IHBpcGVEZWY7XG4gICAgY29uc3QgYWRqdXN0ZWRJbmRleCA9IGluZGV4ICsgSEVBREVSX09GRlNFVDtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIC8vIFRoZSBgZ2V0UGlwZURlZmAgdGhyb3dzIGlmIGEgcGlwZSB3aXRoIGEgZ2l2ZW4gbmFtZSBpcyBub3QgZm91bmRcbiAgICAgICAgLy8gKHNvIHdlIHVzZSBub24tbnVsbCBhc3NlcnRpb24gYmVsb3cpLlxuICAgICAgICBwaXBlRGVmID0gZ2V0UGlwZURlZihwaXBlTmFtZSwgdFZpZXcucGlwZVJlZ2lzdHJ5KTtcbiAgICAgICAgdFZpZXcuZGF0YVthZGp1c3RlZEluZGV4XSA9IHBpcGVEZWY7XG4gICAgICAgIGlmIChwaXBlRGVmLm9uRGVzdHJveSkge1xuICAgICAgICAgICAgKHRWaWV3LmRlc3Ryb3lIb29rcyB8fCAodFZpZXcuZGVzdHJveUhvb2tzID0gW10pKS5wdXNoKGFkanVzdGVkSW5kZXgsIHBpcGVEZWYub25EZXN0cm95KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcGlwZURlZiA9IHRWaWV3LmRhdGFbYWRqdXN0ZWRJbmRleF07XG4gICAgfVxuICAgIGNvbnN0IHBpcGVGYWN0b3J5ID0gcGlwZURlZi5mYWN0b3J5IHx8IChwaXBlRGVmLmZhY3RvcnkgPSBnZXRGYWN0b3J5RGVmKHBpcGVEZWYudHlwZSwgdHJ1ZSkpO1xuICAgIGNvbnN0IHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24gPSBzZXRJbmplY3RJbXBsZW1lbnRhdGlvbijJtcm1ZGlyZWN0aXZlSW5qZWN0KTtcbiAgICB0cnkge1xuICAgICAgICAvLyBESSBmb3IgcGlwZXMgaXMgc3VwcG9zZWQgdG8gYmVoYXZlIGxpa2UgZGlyZWN0aXZlcyB3aGVuIHBsYWNlZCBvbiBhIGNvbXBvbmVudFxuICAgICAgICAvLyBob3N0IG5vZGUsIHdoaWNoIG1lYW5zIHRoYXQgd2UgaGF2ZSB0byBkaXNhYmxlIGFjY2VzcyB0byBgdmlld1Byb3ZpZGVyc2AuXG4gICAgICAgIGNvbnN0IHByZXZpb3VzSW5jbHVkZVZpZXdQcm92aWRlcnMgPSBzZXRJbmNsdWRlVmlld1Byb3ZpZGVycyhmYWxzZSk7XG4gICAgICAgIGNvbnN0IHBpcGVJbnN0YW5jZSA9IHBpcGVGYWN0b3J5KCk7XG4gICAgICAgIHNldEluY2x1ZGVWaWV3UHJvdmlkZXJzKHByZXZpb3VzSW5jbHVkZVZpZXdQcm92aWRlcnMpO1xuICAgICAgICBzdG9yZSh0VmlldywgZ2V0TFZpZXcoKSwgYWRqdXN0ZWRJbmRleCwgcGlwZUluc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuIHBpcGVJbnN0YW5jZTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIC8vIHdlIGhhdmUgdG8gcmVzdG9yZSB0aGUgaW5qZWN0b3IgaW1wbGVtZW50YXRpb24gaW4gZmluYWxseSwganVzdCBpbiBjYXNlIHRoZSBjcmVhdGlvbiBvZiB0aGVcbiAgICAgICAgLy8gcGlwZSB0aHJvd3MgYW4gZXJyb3IuXG4gICAgICAgIHNldEluamVjdEltcGxlbWVudGF0aW9uKHByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24pO1xuICAgIH1cbn1cbi8qKlxuICogU2VhcmNoZXMgdGhlIHBpcGUgcmVnaXN0cnkgZm9yIGEgcGlwZSB3aXRoIHRoZSBnaXZlbiBuYW1lLiBJZiBvbmUgaXMgZm91bmQsXG4gKiByZXR1cm5zIHRoZSBwaXBlLiBPdGhlcndpc2UsIGFuIGVycm9yIGlzIHRocm93biBiZWNhdXNlIHRoZSBwaXBlIGNhbm5vdCBiZSByZXNvbHZlZC5cbiAqXG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHBpcGUgdG8gcmVzb2x2ZVxuICogQHBhcmFtIHJlZ2lzdHJ5IEZ1bGwgbGlzdCBvZiBhdmFpbGFibGUgcGlwZXNcbiAqIEByZXR1cm5zIE1hdGNoaW5nIFBpcGVEZWZcbiAqL1xuZnVuY3Rpb24gZ2V0UGlwZURlZihuYW1lLCByZWdpc3RyeSkge1xuICAgIGlmIChyZWdpc3RyeSkge1xuICAgICAgICBmb3IgKGxldCBpID0gcmVnaXN0cnkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IHBpcGVEZWYgPSByZWdpc3RyeVtpXTtcbiAgICAgICAgICAgIGlmIChuYW1lID09PSBwaXBlRGVmLm5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGlwZURlZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICAgICAgY29uc3QgZGVjbGFyYXRpb25MVmlldyA9IGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGRlY2xhcmF0aW9uTFZpZXdbQ09OVEVYVF07XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGNvbnRleHQgPyBgIGluIHRoZSAnJHtjb250ZXh0LmNvbnN0cnVjdG9yLm5hbWV9JyBjb21wb25lbnRgIDogJyc7XG4gICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoLTMwMiAvKiBQSVBFX05PVF9GT1VORCAqLywgYFRoZSBwaXBlICcke25hbWV9JyBjb3VsZCBub3QgYmUgZm91bmQke2NvbXBvbmVudH0hYCk7XG4gICAgfVxufVxuLyoqXG4gKiBJbnZva2VzIGEgcGlwZSB3aXRoIDEgYXJndW1lbnRzLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gYWN0cyBhcyBhIGd1YXJkIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gaW52b2tpbmdcbiAqIHRoZSBwaXBlIG9ubHkgd2hlbiBhbiBpbnB1dCB0byB0aGUgcGlwZSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdhcyBzdG9yZWQgb24gY3JlYXRpb24uXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGluIHRoZSByZXNlcnZlZCBzbG90IHNwYWNlXG4gKiBAcGFyYW0gdjEgMXN0IGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXBpcGVCaW5kMShpbmRleCwgc2xvdE9mZnNldCwgdjEpIHtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBwaXBlSW5zdGFuY2UgPSBsb2FkKGxWaWV3LCBhZGp1c3RlZEluZGV4KTtcbiAgICByZXR1cm4gaXNQdXJlKGxWaWV3LCBhZGp1c3RlZEluZGV4KSA/XG4gICAgICAgIHB1cmVGdW5jdGlvbjFJbnRlcm5hbChsVmlldywgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcGlwZUluc3RhbmNlLnRyYW5zZm9ybSwgdjEsIHBpcGVJbnN0YW5jZSkgOlxuICAgICAgICBwaXBlSW5zdGFuY2UudHJhbnNmb3JtKHYxKTtcbn1cbi8qKlxuICogSW52b2tlcyBhIHBpcGUgd2l0aCAyIGFyZ3VtZW50cy5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGFjdHMgYXMgYSBndWFyZCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19IGludm9raW5nXG4gKiB0aGUgcGlwZSBvbmx5IHdoZW4gYW4gaW5wdXQgdG8gdGhlIHBpcGUgY2hhbmdlcy5cbiAqXG4gKiBAcGFyYW0gaW5kZXggUGlwZSBpbmRleCB3aGVyZSB0aGUgcGlwZSB3YXMgc3RvcmVkIG9uIGNyZWF0aW9uLlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBpbiB0aGUgcmVzZXJ2ZWQgc2xvdCBzcGFjZVxuICogQHBhcmFtIHYxIDFzdCBhcmd1bWVudCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19LlxuICogQHBhcmFtIHYyIDJuZCBhcmd1bWVudCB0byB7QGxpbmsgUGlwZVRyYW5zZm9ybSN0cmFuc2Zvcm19LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwaXBlQmluZDIoaW5kZXgsIHNsb3RPZmZzZXQsIHYxLCB2Mikge1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBpbmRleCArIEhFQURFUl9PRkZTRVQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHBpcGVJbnN0YW5jZSA9IGxvYWQobFZpZXcsIGFkanVzdGVkSW5kZXgpO1xuICAgIHJldHVybiBpc1B1cmUobFZpZXcsIGFkanVzdGVkSW5kZXgpID9cbiAgICAgICAgcHVyZUZ1bmN0aW9uMkludGVybmFsKGxWaWV3LCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwaXBlSW5zdGFuY2UudHJhbnNmb3JtLCB2MSwgdjIsIHBpcGVJbnN0YW5jZSkgOlxuICAgICAgICBwaXBlSW5zdGFuY2UudHJhbnNmb3JtKHYxLCB2Mik7XG59XG4vKipcbiAqIEludm9rZXMgYSBwaXBlIHdpdGggMyBhcmd1bWVudHMuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBhY3RzIGFzIGEgZ3VhcmQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfSBpbnZva2luZ1xuICogdGhlIHBpcGUgb25seSB3aGVuIGFuIGlucHV0IHRvIHRoZSBwaXBlIGNoYW5nZXMuXG4gKlxuICogQHBhcmFtIGluZGV4IFBpcGUgaW5kZXggd2hlcmUgdGhlIHBpcGUgd2FzIHN0b3JlZCBvbiBjcmVhdGlvbi5cbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgaW4gdGhlIHJlc2VydmVkIHNsb3Qgc3BhY2VcbiAqIEBwYXJhbSB2MSAxc3QgYXJndW1lbnQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfS5cbiAqIEBwYXJhbSB2MiAybmQgYXJndW1lbnQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfS5cbiAqIEBwYXJhbSB2MyA0cmQgYXJndW1lbnQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfS5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1cGlwZUJpbmQzKGluZGV4LCBzbG90T2Zmc2V0LCB2MSwgdjIsIHYzKSB7XG4gICAgY29uc3QgYWRqdXN0ZWRJbmRleCA9IGluZGV4ICsgSEVBREVSX09GRlNFVDtcbiAgICBjb25zdCBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgY29uc3QgcGlwZUluc3RhbmNlID0gbG9hZChsVmlldywgYWRqdXN0ZWRJbmRleCk7XG4gICAgcmV0dXJuIGlzUHVyZShsVmlldywgYWRqdXN0ZWRJbmRleCkgP1xuICAgICAgICBwdXJlRnVuY3Rpb24zSW50ZXJuYWwobFZpZXcsIGdldEJpbmRpbmdSb290KCksIHNsb3RPZmZzZXQsIHBpcGVJbnN0YW5jZS50cmFuc2Zvcm0sIHYxLCB2MiwgdjMsIHBpcGVJbnN0YW5jZSkgOlxuICAgICAgICBwaXBlSW5zdGFuY2UudHJhbnNmb3JtKHYxLCB2MiwgdjMpO1xufVxuLyoqXG4gKiBJbnZva2VzIGEgcGlwZSB3aXRoIDQgYXJndW1lbnRzLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gYWN0cyBhcyBhIGd1YXJkIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gaW52b2tpbmdcbiAqIHRoZSBwaXBlIG9ubHkgd2hlbiBhbiBpbnB1dCB0byB0aGUgcGlwZSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdhcyBzdG9yZWQgb24gY3JlYXRpb24uXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGluIHRoZSByZXNlcnZlZCBzbG90IHNwYWNlXG4gKiBAcGFyYW0gdjEgMXN0IGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjIgMm5kIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjMgM3JkIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjQgNHRoIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtXBpcGVCaW5kNChpbmRleCwgc2xvdE9mZnNldCwgdjEsIHYyLCB2MywgdjQpIHtcbiAgICBjb25zdCBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIGNvbnN0IGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBjb25zdCBwaXBlSW5zdGFuY2UgPSBsb2FkKGxWaWV3LCBhZGp1c3RlZEluZGV4KTtcbiAgICByZXR1cm4gaXNQdXJlKGxWaWV3LCBhZGp1c3RlZEluZGV4KSA/IHB1cmVGdW5jdGlvbjRJbnRlcm5hbChsVmlldywgZ2V0QmluZGluZ1Jvb3QoKSwgc2xvdE9mZnNldCwgcGlwZUluc3RhbmNlLnRyYW5zZm9ybSwgdjEsIHYyLCB2MywgdjQsIHBpcGVJbnN0YW5jZSkgOlxuICAgICAgICBwaXBlSW5zdGFuY2UudHJhbnNmb3JtKHYxLCB2MiwgdjMsIHY0KTtcbn1cbi8qKlxuICogSW52b2tlcyBhIHBpcGUgd2l0aCB2YXJpYWJsZSBudW1iZXIgb2YgYXJndW1lbnRzLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gYWN0cyBhcyBhIGd1YXJkIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gaW52b2tpbmdcbiAqIHRoZSBwaXBlIG9ubHkgd2hlbiBhbiBpbnB1dCB0byB0aGUgcGlwZSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdhcyBzdG9yZWQgb24gY3JlYXRpb24uXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGluIHRoZSByZXNlcnZlZCBzbG90IHNwYWNlXG4gKiBAcGFyYW0gdmFsdWVzIEFycmF5IG9mIGFyZ3VtZW50cyB0byBwYXNzIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gbWV0aG9kLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVwaXBlQmluZFYoaW5kZXgsIHNsb3RPZmZzZXQsIHZhbHVlcykge1xuICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBpbmRleCArIEhFQURFUl9PRkZTRVQ7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHBpcGVJbnN0YW5jZSA9IGxvYWQobFZpZXcsIGFkanVzdGVkSW5kZXgpO1xuICAgIHJldHVybiBpc1B1cmUobFZpZXcsIGFkanVzdGVkSW5kZXgpID9cbiAgICAgICAgcHVyZUZ1bmN0aW9uVkludGVybmFsKGxWaWV3LCBnZXRCaW5kaW5nUm9vdCgpLCBzbG90T2Zmc2V0LCBwaXBlSW5zdGFuY2UudHJhbnNmb3JtLCB2YWx1ZXMsIHBpcGVJbnN0YW5jZSkgOlxuICAgICAgICBwaXBlSW5zdGFuY2UudHJhbnNmb3JtLmFwcGx5KHBpcGVJbnN0YW5jZSwgdmFsdWVzKTtcbn1cbmZ1bmN0aW9uIGlzUHVyZShsVmlldywgaW5kZXgpIHtcbiAgICByZXR1cm4gbFZpZXdbVFZJRVddLmRhdGFbaW5kZXhdLnB1cmU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY2xhc3MgRXZlbnRFbWl0dGVyXyBleHRlbmRzIFN1YmplY3Qge1xuICAgIGNvbnN0cnVjdG9yKGlzQXN5bmMgPSBmYWxzZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9faXNBc3luYyA9IGlzQXN5bmM7XG4gICAgfVxuICAgIGVtaXQodmFsdWUpIHtcbiAgICAgICAgc3VwZXIubmV4dCh2YWx1ZSk7XG4gICAgfVxuICAgIHN1YnNjcmliZShvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBsZXQgbmV4dEZuID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgIGxldCBlcnJvckZuID0gZXJyb3IgfHwgKCgpID0+IG51bGwpO1xuICAgICAgICBsZXQgY29tcGxldGVGbiA9IGNvbXBsZXRlO1xuICAgICAgICBpZiAob2JzZXJ2ZXJPck5leHQgJiYgdHlwZW9mIG9ic2VydmVyT3JOZXh0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBvYnNlcnZlck9yTmV4dDtcbiAgICAgICAgICAgIG5leHRGbiA9IChfYSA9IG9ic2VydmVyLm5leHQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5iaW5kKG9ic2VydmVyKTtcbiAgICAgICAgICAgIGVycm9yRm4gPSAoX2IgPSBvYnNlcnZlci5lcnJvcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmJpbmQob2JzZXJ2ZXIpO1xuICAgICAgICAgICAgY29tcGxldGVGbiA9IChfYyA9IG9ic2VydmVyLmNvbXBsZXRlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYmluZChvYnNlcnZlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX19pc0FzeW5jKSB7XG4gICAgICAgICAgICBlcnJvckZuID0gX3dyYXBJblRpbWVvdXQoZXJyb3JGbik7XG4gICAgICAgICAgICBpZiAobmV4dEZuKSB7XG4gICAgICAgICAgICAgICAgbmV4dEZuID0gX3dyYXBJblRpbWVvdXQobmV4dEZuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wbGV0ZUZuKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVGbiA9IF93cmFwSW5UaW1lb3V0KGNvbXBsZXRlRm4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNpbmsgPSBzdXBlci5zdWJzY3JpYmUoeyBuZXh0OiBuZXh0Rm4sIGVycm9yOiBlcnJvckZuLCBjb21wbGV0ZTogY29tcGxldGVGbiB9KTtcbiAgICAgICAgaWYgKG9ic2VydmVyT3JOZXh0IGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBvYnNlcnZlck9yTmV4dC5hZGQoc2luayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpbms7XG4gICAgfVxufVxuZnVuY3Rpb24gX3dyYXBJblRpbWVvdXQoZm4pIHtcbiAgICByZXR1cm4gKHZhbHVlKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoZm4sIHVuZGVmaW5lZCwgdmFsdWUpO1xuICAgIH07XG59XG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyXztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBzeW1ib2xJdGVyYXRvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVzdWx0c1tnZXRTeW1ib2xJdGVyYXRvcigpXSgpO1xufVxuLyoqXG4gKiBBbiB1bm1vZGlmaWFibGUgbGlzdCBvZiBpdGVtcyB0aGF0IEFuZ3VsYXIga2VlcHMgdXAgdG8gZGF0ZSB3aGVuIHRoZSBzdGF0ZVxuICogb2YgdGhlIGFwcGxpY2F0aW9uIGNoYW5nZXMuXG4gKlxuICogVGhlIHR5cGUgb2Ygb2JqZWN0IHRoYXQge0BsaW5rIFZpZXdDaGlsZHJlbn0sIHtAbGluayBDb250ZW50Q2hpbGRyZW59LCBhbmQge0BsaW5rIFF1ZXJ5TGlzdH1cbiAqIHByb3ZpZGUuXG4gKlxuICogSW1wbGVtZW50cyBhbiBpdGVyYWJsZSBpbnRlcmZhY2UsIHRoZXJlZm9yZSBpdCBjYW4gYmUgdXNlZCBpbiBib3RoIEVTNlxuICogamF2YXNjcmlwdCBgZm9yICh2YXIgaSBvZiBpdGVtcylgIGxvb3BzIGFzIHdlbGwgYXMgaW4gQW5ndWxhciB0ZW1wbGF0ZXMgd2l0aFxuICogYCpuZ0Zvcj1cImxldCBpIG9mIG15TGlzdFwiYC5cbiAqXG4gKiBDaGFuZ2VzIGNhbiBiZSBvYnNlcnZlZCBieSBzdWJzY3JpYmluZyB0byB0aGUgY2hhbmdlcyBgT2JzZXJ2YWJsZWAuXG4gKlxuICogTk9URTogSW4gdGhlIGZ1dHVyZSB0aGlzIGNsYXNzIHdpbGwgaW1wbGVtZW50IGFuIGBPYnNlcnZhYmxlYCBpbnRlcmZhY2UuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBAQ29tcG9uZW50KHsuLi59KVxuICogY2xhc3MgQ29udGFpbmVyIHtcbiAqICAgQFZpZXdDaGlsZHJlbihJdGVtKSBpdGVtczpRdWVyeUxpc3Q8SXRlbT47XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFF1ZXJ5TGlzdCB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGVtaXREaXN0aW5jdENoYW5nZXNPbmx5IFdoZXRoZXIgYFF1ZXJ5TGlzdC5jaGFuZ2VzYCBzaG91bGQgZmlyZSBvbmx5IHdoZW4gYWN0dWFsIGNoYW5nZVxuICAgICAqICAgICBoYXMgb2NjdXJyZWQuIE9yIGlmIGl0IHNob3VsZCBmaXJlIHdoZW4gcXVlcnkgaXMgcmVjb21wdXRlZC4gKHJlY29tcHV0aW5nIGNvdWxkIHJlc29sdmUgaW5cbiAgICAgKiAgICAgdGhlIHNhbWUgcmVzdWx0KVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKF9lbWl0RGlzdGluY3RDaGFuZ2VzT25seSA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuX2VtaXREaXN0aW5jdENoYW5nZXNPbmx5ID0gX2VtaXREaXN0aW5jdENoYW5nZXNPbmx5O1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVzdWx0cyA9IFtdO1xuICAgICAgICB0aGlzLl9jaGFuZ2VzRGV0ZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2hhbmdlcyA9IG51bGw7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5maXJzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5sYXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBkZWNsYXJlZCBvbiB0aGUgcHJvdG90eXBlLCBidXQgZG9pbmcgc28gdGhlcmUgd2lsbCBjYXVzZSB0aGUgY2xhc3NcbiAgICAgICAgLy8gZGVjbGFyYXRpb24gdG8gaGF2ZSBzaWRlLWVmZmVjdHMgYW5kIGJlY29tZSBub3QgdHJlZS1zaGFrYWJsZS4gRm9yIHRoaXMgcmVhc29uIHdlIGRvIGl0IGluXG4gICAgICAgIC8vIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgLy8gW2dldFN5bWJvbEl0ZXJhdG9yKCldKCk6IEl0ZXJhdG9yPFQ+IHsgLi4uIH1cbiAgICAgICAgY29uc3Qgc3ltYm9sID0gZ2V0U3ltYm9sSXRlcmF0b3IoKTtcbiAgICAgICAgY29uc3QgcHJvdG8gPSBRdWVyeUxpc3QucHJvdG90eXBlO1xuICAgICAgICBpZiAoIXByb3RvW3N5bWJvbF0pXG4gICAgICAgICAgICBwcm90b1tzeW1ib2xdID0gc3ltYm9sSXRlcmF0b3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYE9ic2VydmFibGVgIG9mIGBRdWVyeUxpc3RgIG5vdGlmeWluZyB0aGUgc3Vic2NyaWJlciBvZiBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGdldCBjaGFuZ2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hhbmdlcyB8fCAodGhpcy5fY2hhbmdlcyA9IG5ldyBFdmVudEVtaXR0ZXIoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFF1ZXJ5TGlzdCBlbnRyeSBhdCBgaW5kZXhgLlxuICAgICAqL1xuICAgIGdldChpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0c1tpbmRleF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlZVxuICAgICAqIFtBcnJheS5tYXBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L21hcClcbiAgICAgKi9cbiAgICBtYXAoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHMubWFwKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VlXG4gICAgICogW0FycmF5LmZpbHRlcl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvZmlsdGVyKVxuICAgICAqL1xuICAgIGZpbHRlcihmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0cy5maWx0ZXIoZm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWVcbiAgICAgKiBbQXJyYXkuZmluZF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvZmluZClcbiAgICAgKi9cbiAgICBmaW5kKGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHRzLmZpbmQoZm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWVcbiAgICAgKiBbQXJyYXkucmVkdWNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9yZWR1Y2UpXG4gICAgICovXG4gICAgcmVkdWNlKGZuLCBpbml0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHRzLnJlZHVjZShmbiwgaW5pdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlZVxuICAgICAqIFtBcnJheS5mb3JFYWNoXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9mb3JFYWNoKVxuICAgICAqL1xuICAgIGZvckVhY2goZm4pIHtcbiAgICAgICAgdGhpcy5fcmVzdWx0cy5mb3JFYWNoKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VlXG4gICAgICogW0FycmF5LnNvbWVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NvbWUpXG4gICAgICovXG4gICAgc29tZShmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0cy5zb21lKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGNvcHkgb2YgdGhlIGludGVybmFsIHJlc3VsdHMgbGlzdCBhcyBhbiBBcnJheS5cbiAgICAgKi9cbiAgICB0b0FycmF5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0cy5zbGljZSgpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHMudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc3RvcmVkIGRhdGEgb2YgdGhlIHF1ZXJ5IGxpc3QsIGFuZCByZXNldHMgdGhlIGBkaXJ0eWAgZmxhZyB0byBgZmFsc2VgLCBzbyB0aGF0XG4gICAgICogb24gY2hhbmdlIGRldGVjdGlvbiwgaXQgd2lsbCBub3Qgbm90aWZ5IG9mIGNoYW5nZXMgdG8gdGhlIHF1ZXJpZXMsIHVubGVzcyBhIG5ldyBjaGFuZ2VcbiAgICAgKiBvY2N1cnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVzdWx0c1RyZWUgVGhlIHF1ZXJ5IHJlc3VsdHMgdG8gc3RvcmVcbiAgICAgKiBAcGFyYW0gaWRlbnRpdHlBY2Nlc3NvciBPcHRpb25hbCBmdW5jdGlvbiBmb3IgZXh0cmFjdGluZyBzdGFibGUgb2JqZWN0IGlkZW50aXR5IGZyb20gYSB2YWx1ZVxuICAgICAqICAgIGluIHRoZSBhcnJheS4gVGhpcyBmdW5jdGlvbiBpcyBleGVjdXRlZCBmb3IgZWFjaCBlbGVtZW50IG9mIHRoZSBxdWVyeSByZXN1bHQgbGlzdCB3aGlsZVxuICAgICAqICAgIGNvbXBhcmluZyBjdXJyZW50IHF1ZXJ5IGxpc3Qgd2l0aCB0aGUgbmV3IG9uZSAocHJvdmlkZWQgYXMgYSBmaXJzdCBhcmd1bWVudCBvZiB0aGUgYHJlc2V0YFxuICAgICAqICAgIGZ1bmN0aW9uKSB0byBkZXRlY3QgaWYgdGhlIGxpc3RzIGFyZSBkaWZmZXJlbnQuIElmIHRoZSBmdW5jdGlvbiBpcyBub3QgcHJvdmlkZWQsIGVsZW1lbnRzXG4gICAgICogICAgYXJlIGNvbXBhcmVkIGFzIGlzICh3aXRob3V0IGFueSBwcmUtcHJvY2Vzc2luZykuXG4gICAgICovXG4gICAgcmVzZXQocmVzdWx0c1RyZWUsIGlkZW50aXR5QWNjZXNzb3IpIHtcbiAgICAgICAgLy8gQ2FzdCB0byBgUXVlcnlMaXN0SW50ZXJuYWxgIHNvIHRoYXQgd2UgY2FuIG11dGF0ZSBmaWVsZHMgd2hpY2ggYXJlIHJlYWRvbmx5IGZvciB0aGUgdXNhZ2Ugb2ZcbiAgICAgICAgLy8gUXVlcnlMaXN0IChidXQgbm90IGZvciBRdWVyeUxpc3QgaXRzZWxmLilcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgbmV3UmVzdWx0RmxhdCA9IGZsYXR0ZW4ocmVzdWx0c1RyZWUpO1xuICAgICAgICBpZiAodGhpcy5fY2hhbmdlc0RldGVjdGVkID0gIWFycmF5RXF1YWxzKHNlbGYuX3Jlc3VsdHMsIG5ld1Jlc3VsdEZsYXQsIGlkZW50aXR5QWNjZXNzb3IpKSB7XG4gICAgICAgICAgICBzZWxmLl9yZXN1bHRzID0gbmV3UmVzdWx0RmxhdDtcbiAgICAgICAgICAgIHNlbGYubGVuZ3RoID0gbmV3UmVzdWx0RmxhdC5sZW5ndGg7XG4gICAgICAgICAgICBzZWxmLmxhc3QgPSBuZXdSZXN1bHRGbGF0W3RoaXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBzZWxmLmZpcnN0ID0gbmV3UmVzdWx0RmxhdFswXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VycyBhIGNoYW5nZSBldmVudCBieSBlbWl0dGluZyBvbiB0aGUgYGNoYW5nZXNgIHtAbGluayBFdmVudEVtaXR0ZXJ9LlxuICAgICAqL1xuICAgIG5vdGlmeU9uQ2hhbmdlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NoYW5nZXMgJiYgKHRoaXMuX2NoYW5nZXNEZXRlY3RlZCB8fCAhdGhpcy5fZW1pdERpc3RpbmN0Q2hhbmdlc09ubHkpKVxuICAgICAgICAgICAgdGhpcy5fY2hhbmdlcy5lbWl0KHRoaXMpO1xuICAgIH1cbiAgICAvKiogaW50ZXJuYWwgKi9cbiAgICBzZXREaXJ0eSgpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuICAgIC8qKiBpbnRlcm5hbCAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlcy5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLmNoYW5nZXMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG59XG5TeW1ib2wuaXRlcmF0b3I7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGVtYmVkZGVkIHRlbXBsYXRlIHRoYXQgY2FuIGJlIHVzZWQgdG8gaW5zdGFudGlhdGUgZW1iZWRkZWQgdmlld3MuXG4gKiBUbyBpbnN0YW50aWF0ZSBlbWJlZGRlZCB2aWV3cyBiYXNlZCBvbiBhIHRlbXBsYXRlLCB1c2UgdGhlIGBWaWV3Q29udGFpbmVyUmVmYFxuICogbWV0aG9kIGBjcmVhdGVFbWJlZGRlZFZpZXcoKWAuXG4gKlxuICogQWNjZXNzIGEgYFRlbXBsYXRlUmVmYCBpbnN0YW5jZSBieSBwbGFjaW5nIGEgZGlyZWN0aXZlIG9uIGFuIGA8bmctdGVtcGxhdGU+YFxuICogZWxlbWVudCAob3IgZGlyZWN0aXZlIHByZWZpeGVkIHdpdGggYCpgKS4gVGhlIGBUZW1wbGF0ZVJlZmAgZm9yIHRoZSBlbWJlZGRlZCB2aWV3XG4gKiBpcyBpbmplY3RlZCBpbnRvIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgZGlyZWN0aXZlLFxuICogdXNpbmcgdGhlIGBUZW1wbGF0ZVJlZmAgdG9rZW4uXG4gKlxuICogWW91IGNhbiBhbHNvIHVzZSBhIGBRdWVyeWAgdG8gZmluZCBhIGBUZW1wbGF0ZVJlZmAgYXNzb2NpYXRlZCB3aXRoXG4gKiBhIGNvbXBvbmVudCBvciBhIGRpcmVjdGl2ZS5cbiAqXG4gKiBAc2VlIGBWaWV3Q29udGFpbmVyUmVmYFxuICogQHNlZSBbTmF2aWdhdGUgdGhlIENvbXBvbmVudCBUcmVlIHdpdGggREldKGd1aWRlL2RlcGVuZGVuY3ktaW5qZWN0aW9uLW5hdnRyZWUpXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBUZW1wbGF0ZVJlZiB7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogQG5vY29sbGFwc2VcbiAqL1xuVGVtcGxhdGVSZWYuX19OR19FTEVNRU5UX0lEX18gPSBpbmplY3RUZW1wbGF0ZVJlZjtcbmNvbnN0IFZpZXdFbmdpbmVUZW1wbGF0ZVJlZiA9IFRlbXBsYXRlUmVmO1xuLy8gVE9ETyhhbHhodWIpOiBjb21iaW5lIGludGVyZmFjZSBhbmQgaW1wbGVtZW50YXRpb24uIEN1cnJlbnRseSB0aGlzIGlzIGNoYWxsZW5naW5nIHNpbmNlIHNvbWV0aGluZ1xuLy8gaW4gZzMgZGVwZW5kcyBvbiB0aGVtIGJlaW5nIHNlcGFyYXRlLlxuY29uc3QgUjNUZW1wbGF0ZVJlZiA9IGNsYXNzIFRlbXBsYXRlUmVmIGV4dGVuZHMgVmlld0VuZ2luZVRlbXBsYXRlUmVmIHtcbiAgICBjb25zdHJ1Y3RvcihfZGVjbGFyYXRpb25MVmlldywgX2RlY2xhcmF0aW9uVENvbnRhaW5lciwgZWxlbWVudFJlZikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9kZWNsYXJhdGlvbkxWaWV3ID0gX2RlY2xhcmF0aW9uTFZpZXc7XG4gICAgICAgIHRoaXMuX2RlY2xhcmF0aW9uVENvbnRhaW5lciA9IF9kZWNsYXJhdGlvblRDb250YWluZXI7XG4gICAgICAgIHRoaXMuZWxlbWVudFJlZiA9IGVsZW1lbnRSZWY7XG4gICAgfVxuICAgIGNyZWF0ZUVtYmVkZGVkVmlldyhjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGVtYmVkZGVkVFZpZXcgPSB0aGlzLl9kZWNsYXJhdGlvblRDb250YWluZXIudFZpZXdzO1xuICAgICAgICBjb25zdCBlbWJlZGRlZExWaWV3ID0gY3JlYXRlTFZpZXcodGhpcy5fZGVjbGFyYXRpb25MVmlldywgZW1iZWRkZWRUVmlldywgY29udGV4dCwgMTYgLyogQ2hlY2tBbHdheXMgKi8sIG51bGwsIGVtYmVkZGVkVFZpZXcuZGVjbFROb2RlLCBudWxsLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgY29uc3QgZGVjbGFyYXRpb25MQ29udGFpbmVyID0gdGhpcy5fZGVjbGFyYXRpb25MVmlld1t0aGlzLl9kZWNsYXJhdGlvblRDb250YWluZXIuaW5kZXhdO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TENvbnRhaW5lcihkZWNsYXJhdGlvbkxDb250YWluZXIpO1xuICAgICAgICBlbWJlZGRlZExWaWV3W0RFQ0xBUkFUSU9OX0xDT05UQUlORVJdID0gZGVjbGFyYXRpb25MQ29udGFpbmVyO1xuICAgICAgICBjb25zdCBkZWNsYXJhdGlvblZpZXdMUXVlcmllcyA9IHRoaXMuX2RlY2xhcmF0aW9uTFZpZXdbUVVFUklFU107XG4gICAgICAgIGlmIChkZWNsYXJhdGlvblZpZXdMUXVlcmllcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZW1iZWRkZWRMVmlld1tRVUVSSUVTXSA9IGRlY2xhcmF0aW9uVmlld0xRdWVyaWVzLmNyZWF0ZUVtYmVkZGVkVmlldyhlbWJlZGRlZFRWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJWaWV3KGVtYmVkZGVkVFZpZXcsIGVtYmVkZGVkTFZpZXcsIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gbmV3IFZpZXdSZWYkMShlbWJlZGRlZExWaWV3KTtcbiAgICB9XG59O1xuLyoqXG4gKiBDcmVhdGVzIGEgVGVtcGxhdGVSZWYgZ2l2ZW4gYSBub2RlLlxuICpcbiAqIEByZXR1cm5zIFRoZSBUZW1wbGF0ZVJlZiBpbnN0YW5jZSB0byB1c2VcbiAqL1xuZnVuY3Rpb24gaW5qZWN0VGVtcGxhdGVSZWYoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVRlbXBsYXRlUmVmKGdldEN1cnJlbnRUTm9kZSgpLCBnZXRMVmlldygpKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIFRlbXBsYXRlUmVmIGFuZCBzdG9yZXMgaXQgb24gdGhlIGluamVjdG9yLlxuICpcbiAqIEBwYXJhbSBob3N0VE5vZGUgVGhlIG5vZGUgb24gd2hpY2ggYSBUZW1wbGF0ZVJlZiBpcyByZXF1ZXN0ZWRcbiAqIEBwYXJhbSBob3N0TFZpZXcgVGhlIGBMVmlld2AgdG8gd2hpY2ggdGhlIG5vZGUgYmVsb25nc1xuICogQHJldHVybnMgVGhlIFRlbXBsYXRlUmVmIGluc3RhbmNlIG9yIG51bGwgaWYgd2UgY2FuJ3QgY3JlYXRlIGEgVGVtcGxhdGVSZWYgb24gYSBnaXZlbiBub2RlIHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlVGVtcGxhdGVSZWYoaG9zdFROb2RlLCBob3N0TFZpZXcpIHtcbiAgICBpZiAoaG9zdFROb2RlLnR5cGUgJiA0IC8qIENvbnRhaW5lciAqLykge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChob3N0VE5vZGUudFZpZXdzLCAnVFZpZXcgbXVzdCBiZSBhbGxvY2F0ZWQnKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSM1RlbXBsYXRlUmVmKGhvc3RMVmlldywgaG9zdFROb2RlLCBjcmVhdGVFbGVtZW50UmVmKGhvc3RUTm9kZSwgaG9zdExWaWV3KSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhIGNvbnRhaW5lciB3aGVyZSBvbmUgb3IgbW9yZSB2aWV3cyBjYW4gYmUgYXR0YWNoZWQgdG8gYSBjb21wb25lbnQuXG4gKlxuICogQ2FuIGNvbnRhaW4gKmhvc3Qgdmlld3MqIChjcmVhdGVkIGJ5IGluc3RhbnRpYXRpbmcgYVxuICogY29tcG9uZW50IHdpdGggdGhlIGBjcmVhdGVDb21wb25lbnQoKWAgbWV0aG9kKSwgYW5kICplbWJlZGRlZCB2aWV3cypcbiAqIChjcmVhdGVkIGJ5IGluc3RhbnRpYXRpbmcgYSBgVGVtcGxhdGVSZWZgIHdpdGggdGhlIGBjcmVhdGVFbWJlZGRlZFZpZXcoKWAgbWV0aG9kKS5cbiAqXG4gKiBBIHZpZXcgY29udGFpbmVyIGluc3RhbmNlIGNhbiBjb250YWluIG90aGVyIHZpZXcgY29udGFpbmVycyxcbiAqIGNyZWF0aW5nIGEgW3ZpZXcgaGllcmFyY2h5XShndWlkZS9nbG9zc2FyeSN2aWV3LXRyZWUpLlxuICpcbiAqIEBzZWUgYENvbXBvbmVudFJlZmBcbiAqIEBzZWUgYEVtYmVkZGVkVmlld1JlZmBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIFZpZXdDb250YWluZXJSZWYge1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBub2NvbGxhcHNlXG4gKi9cblZpZXdDb250YWluZXJSZWYuX19OR19FTEVNRU5UX0lEX18gPSBpbmplY3RWaWV3Q29udGFpbmVyUmVmO1xuLyoqXG4gKiBDcmVhdGVzIGEgVmlld0NvbnRhaW5lclJlZiBhbmQgc3RvcmVzIGl0IG9uIHRoZSBpbmplY3Rvci4gT3IsIGlmIHRoZSBWaWV3Q29udGFpbmVyUmVmXG4gKiBhbHJlYWR5IGV4aXN0cywgcmV0cmlldmVzIHRoZSBleGlzdGluZyBWaWV3Q29udGFpbmVyUmVmLlxuICpcbiAqIEByZXR1cm5zIFRoZSBWaWV3Q29udGFpbmVyUmVmIGluc3RhbmNlIHRvIHVzZVxuICovXG5mdW5jdGlvbiBpbmplY3RWaWV3Q29udGFpbmVyUmVmKCkge1xuICAgIGNvbnN0IHByZXZpb3VzVE5vZGUgPSBnZXRDdXJyZW50VE5vZGUoKTtcbiAgICByZXR1cm4gY3JlYXRlQ29udGFpbmVyUmVmKHByZXZpb3VzVE5vZGUsIGdldExWaWV3KCkpO1xufVxuY29uc3QgVkVfVmlld0NvbnRhaW5lclJlZiA9IFZpZXdDb250YWluZXJSZWY7XG4vLyBUT0RPKGFseGh1Yik6IGNsZWFuaW5nIHVwIHRoaXMgaW5kaXJlY3Rpb24gdHJpZ2dlcnMgYSBzdWJ0bGUgYnVnIGluIENsb3N1cmUgaW4gZzMuIE9uY2UgdGhlIGZpeFxuLy8gZm9yIHRoYXQgbGFuZHMsIHRoaXMgY2FuIGJlIGNsZWFuZWQgdXAuXG5jb25zdCBSM1ZpZXdDb250YWluZXJSZWYgPSBjbGFzcyBWaWV3Q29udGFpbmVyUmVmIGV4dGVuZHMgVkVfVmlld0NvbnRhaW5lclJlZiB7XG4gICAgY29uc3RydWN0b3IoX2xDb250YWluZXIsIF9ob3N0VE5vZGUsIF9ob3N0TFZpZXcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fbENvbnRhaW5lciA9IF9sQ29udGFpbmVyO1xuICAgICAgICB0aGlzLl9ob3N0VE5vZGUgPSBfaG9zdFROb2RlO1xuICAgICAgICB0aGlzLl9ob3N0TFZpZXcgPSBfaG9zdExWaWV3O1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnRSZWYodGhpcy5faG9zdFROb2RlLCB0aGlzLl9ob3N0TFZpZXcpO1xuICAgIH1cbiAgICBnZXQgaW5qZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTm9kZUluamVjdG9yKHRoaXMuX2hvc3RUTm9kZSwgdGhpcy5faG9zdExWaWV3KTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIE5vIHJlcGxhY2VtZW50ICovXG4gICAgZ2V0IHBhcmVudEluamVjdG9yKCkge1xuICAgICAgICBjb25zdCBwYXJlbnRMb2NhdGlvbiA9IGdldFBhcmVudEluamVjdG9yTG9jYXRpb24odGhpcy5faG9zdFROb2RlLCB0aGlzLl9ob3N0TFZpZXcpO1xuICAgICAgICBpZiAoaGFzUGFyZW50SW5qZWN0b3IocGFyZW50TG9jYXRpb24pKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRWaWV3ID0gZ2V0UGFyZW50SW5qZWN0b3JWaWV3KHBhcmVudExvY2F0aW9uLCB0aGlzLl9ob3N0TFZpZXcpO1xuICAgICAgICAgICAgY29uc3QgaW5qZWN0b3JJbmRleCA9IGdldFBhcmVudEluamVjdG9ySW5kZXgocGFyZW50TG9jYXRpb24pO1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydE5vZGVJbmplY3RvcihwYXJlbnRWaWV3LCBpbmplY3RvckluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudFROb2RlID0gcGFyZW50Vmlld1tUVklFV10uZGF0YVtpbmplY3RvckluZGV4ICsgOCAvKiBUTk9ERSAqL107XG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vZGVJbmplY3RvcihwYXJlbnRUTm9kZSwgcGFyZW50Vmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vZGVJbmplY3RvcihudWxsLCB0aGlzLl9ob3N0TFZpZXcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZSh0aGlzLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldChpbmRleCkge1xuICAgICAgICBjb25zdCB2aWV3UmVmcyA9IGdldFZpZXdSZWZzKHRoaXMuX2xDb250YWluZXIpO1xuICAgICAgICByZXR1cm4gdmlld1JlZnMgIT09IG51bGwgJiYgdmlld1JlZnNbaW5kZXhdIHx8IG51bGw7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sQ29udGFpbmVyLmxlbmd0aCAtIENPTlRBSU5FUl9IRUFERVJfT0ZGU0VUO1xuICAgIH1cbiAgICBjcmVhdGVFbWJlZGRlZFZpZXcodGVtcGxhdGVSZWYsIGNvbnRleHQsIGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB0ZW1wbGF0ZVJlZi5jcmVhdGVFbWJlZGRlZFZpZXcoY29udGV4dCB8fCB7fSk7XG4gICAgICAgIHRoaXMuaW5zZXJ0KHZpZXdSZWYsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHZpZXdSZWY7XG4gICAgfVxuICAgIGNyZWF0ZUNvbXBvbmVudChjb21wb25lbnRGYWN0b3J5T3JUeXBlLCBpbmRleE9yT3B0aW9ucywgaW5qZWN0b3IsIHByb2plY3RhYmxlTm9kZXMsIG5nTW9kdWxlUmVmKSB7XG4gICAgICAgIGNvbnN0IGlzQ29tcG9uZW50RmFjdG9yeSA9IGNvbXBvbmVudEZhY3RvcnlPclR5cGUgJiYgIWlzVHlwZShjb21wb25lbnRGYWN0b3J5T3JUeXBlKTtcbiAgICAgICAgbGV0IGluZGV4O1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHN1cHBvcnRzIDIgc2lnbmF0dXJlcyBhbmQgd2UgbmVlZCB0byBoYW5kbGUgb3B0aW9ucyBjb3JyZWN0bHkgZm9yIGJvdGg6XG4gICAgICAgIC8vICAgMS4gV2hlbiBmaXJzdCBhcmd1bWVudCBpcyBhIENvbXBvbmVudCB0eXBlLiBUaGlzIHNpZ25hdHVyZSBhbHNvIHJlcXVpcmVzIGV4dHJhXG4gICAgICAgIC8vICAgICAgb3B0aW9ucyB0byBiZSBwcm92aWRlZCBhcyBhcyBvYmplY3QgKG1vcmUgZXJnb25vbWljIG9wdGlvbikuXG4gICAgICAgIC8vICAgMi4gRmlyc3QgYXJndW1lbnQgaXMgYSBDb21wb25lbnQgZmFjdG9yeS4gSW4gdGhpcyBjYXNlIGV4dHJhIG9wdGlvbnMgYXJlIHJlcHJlc2VudGVkIGFzXG4gICAgICAgIC8vICAgICAgcG9zaXRpb25hbCBhcmd1bWVudHMuIFRoaXMgc2lnbmF0dXJlIGlzIGxlc3MgZXJnb25vbWljIGFuZCB3aWxsIGJlIGRlcHJlY2F0ZWQuXG4gICAgICAgIGlmIChpc0NvbXBvbmVudEZhY3RvcnkpIHtcbiAgICAgICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbCh0eXBlb2YgaW5kZXhPck9wdGlvbnMgIT09ICdvYmplY3QnLCB0cnVlLCAnSXQgbG9va3MgbGlrZSBDb21wb25lbnQgZmFjdG9yeSB3YXMgcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50ICcgK1xuICAgICAgICAgICAgICAgICAgICAnYW5kIGFuIG9wdGlvbnMgb2JqZWN0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuIFRoaXMgY29tYmluYXRpb24gb2YgYXJndW1lbnRzICcgK1xuICAgICAgICAgICAgICAgICAgICAnaXMgaW5jb21wYXRpYmxlLiBZb3UgY2FuIGVpdGhlciBjaGFuZ2UgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHByb3ZpZGUgQ29tcG9uZW50ICcgK1xuICAgICAgICAgICAgICAgICAgICAndHlwZSBvciBjaGFuZ2UgdGhlIHNlY29uZCBhcmd1bWVudCB0byBiZSBhIG51bWJlciAocmVwcmVzZW50aW5nIGFuIGluZGV4IGF0ICcgK1xuICAgICAgICAgICAgICAgICAgICAnd2hpY2ggdG8gaW5zZXJ0IHRoZSBuZXcgY29tcG9uZW50XFwncyBob3N0IHZpZXcgaW50byB0aGlzIGNvbnRhaW5lciknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4ID0gaW5kZXhPck9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0RGVmaW5lZChnZXRDb21wb25lbnREZWYoY29tcG9uZW50RmFjdG9yeU9yVHlwZSksIGBQcm92aWRlZCBDb21wb25lbnQgY2xhc3MgZG9lc24ndCBjb250YWluIENvbXBvbmVudCBkZWZpbml0aW9uLiBgICtcbiAgICAgICAgICAgICAgICAgICAgYFBsZWFzZSBjaGVjayB3aGV0aGVyIHByb3ZpZGVkIGNsYXNzIGhhcyBAQ29tcG9uZW50IGRlY29yYXRvci5gKTtcbiAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbCh0eXBlb2YgaW5kZXhPck9wdGlvbnMgIT09ICdudW1iZXInLCB0cnVlLCAnSXQgbG9va3MgbGlrZSBDb21wb25lbnQgdHlwZSB3YXMgcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50ICcgK1xuICAgICAgICAgICAgICAgICAgICAnYW5kIGEgbnVtYmVyIChyZXByZXNlbnRpbmcgYW4gaW5kZXggYXQgd2hpY2ggdG8gaW5zZXJ0IHRoZSBuZXcgY29tcG9uZW50XFwncyAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2hvc3QgdmlldyBpbnRvIHRoaXMgY29udGFpbmVyIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuIFRoaXMgY29tYmluYXRpb24gb2YgYXJndW1lbnRzICcgK1xuICAgICAgICAgICAgICAgICAgICAnaXMgaW5jb21wYXRpYmxlLiBQbGVhc2UgdXNlIGFuIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IGluc3RlYWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gKGluZGV4T3JPcHRpb25zIHx8IHt9KTtcbiAgICAgICAgICAgIGluZGV4ID0gb3B0aW9ucy5pbmRleDtcbiAgICAgICAgICAgIGluamVjdG9yID0gb3B0aW9ucy5pbmplY3RvcjtcbiAgICAgICAgICAgIHByb2plY3RhYmxlTm9kZXMgPSBvcHRpb25zLnByb2plY3RhYmxlTm9kZXM7XG4gICAgICAgICAgICBuZ01vZHVsZVJlZiA9IG9wdGlvbnMubmdNb2R1bGVSZWY7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tcG9uZW50RmFjdG9yeSA9IGlzQ29tcG9uZW50RmFjdG9yeSA/XG4gICAgICAgICAgICBjb21wb25lbnRGYWN0b3J5T3JUeXBlIDpcbiAgICAgICAgICAgIG5ldyBDb21wb25lbnRGYWN0b3J5KGdldENvbXBvbmVudERlZihjb21wb25lbnRGYWN0b3J5T3JUeXBlKSk7XG4gICAgICAgIGNvbnN0IGNvbnRleHRJbmplY3RvciA9IGluamVjdG9yIHx8IHRoaXMucGFyZW50SW5qZWN0b3I7XG4gICAgICAgIGlmICghbmdNb2R1bGVSZWYgJiYgY29tcG9uZW50RmFjdG9yeS5uZ01vZHVsZSA9PSBudWxsICYmIGNvbnRleHRJbmplY3Rvcikge1xuICAgICAgICAgICAgLy8gRE8gTk9UIFJFRkFDVE9SLiBUaGUgY29kZSBoZXJlIHVzZWQgdG8gaGF2ZSBhIGB2YWx1ZSB8fCB1bmRlZmluZWRgIGV4cHJlc3Npb25cbiAgICAgICAgICAgIC8vIHdoaWNoIHNlZW1zIHRvIGNhdXNlIGludGVybmFsIGdvb2dsZSBhcHBzIHRvIGZhaWwuIFRoaXMgaXMgZG9jdW1lbnRlZCBpbiB0aGVcbiAgICAgICAgICAgIC8vIGZvbGxvd2luZyBpbnRlcm5hbCBidWcgaXNzdWU6IGdvL2IvMTQyOTY3ODAyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjb250ZXh0SW5qZWN0b3IuZ2V0KE5nTW9kdWxlUmVmJDEsIG51bGwpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIG5nTW9kdWxlUmVmID0gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFJlZiA9IGNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKGNvbnRleHRJbmplY3RvciwgcHJvamVjdGFibGVOb2RlcywgdW5kZWZpbmVkLCBuZ01vZHVsZVJlZik7XG4gICAgICAgIHRoaXMuaW5zZXJ0KGNvbXBvbmVudFJlZi5ob3N0VmlldywgaW5kZXgpO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmO1xuICAgIH1cbiAgICBpbnNlcnQodmlld1JlZiwgaW5kZXgpIHtcbiAgICAgICAgY29uc3QgbFZpZXcgPSB2aWV3UmVmLl9sVmlldztcbiAgICAgICAgY29uc3QgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgdmlld1JlZi5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGluc2VydCBhIGRlc3Ryb3llZCBWaWV3IGluIGEgVmlld0NvbnRhaW5lciEnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmlld0F0dGFjaGVkVG9Db250YWluZXIobFZpZXcpKSB7XG4gICAgICAgICAgICAvLyBJZiB2aWV3IGlzIGFscmVhZHkgYXR0YWNoZWQsIGRldGFjaCBpdCBmaXJzdCBzbyB3ZSBjbGVhbiB1cCByZWZlcmVuY2VzIGFwcHJvcHJpYXRlbHkuXG4gICAgICAgICAgICBjb25zdCBwcmV2SWR4ID0gdGhpcy5pbmRleE9mKHZpZXdSZWYpO1xuICAgICAgICAgICAgLy8gQSB2aWV3IG1pZ2h0IGJlIGF0dGFjaGVkIGVpdGhlciB0byB0aGlzIG9yIGEgZGlmZmVyZW50IGNvbnRhaW5lci4gVGhlIGBwcmV2SWR4YCBmb3JcbiAgICAgICAgICAgIC8vIHRob3NlIGNhc2VzIHdpbGwgYmU6XG4gICAgICAgICAgICAvLyBlcXVhbCB0byAtMSBmb3Igdmlld3MgYXR0YWNoZWQgdG8gdGhpcyBWaWV3Q29udGFpbmVyUmVmXG4gICAgICAgICAgICAvLyA+PSAwIGZvciB2aWV3cyBhdHRhY2hlZCB0byBhIGRpZmZlcmVudCBWaWV3Q29udGFpbmVyUmVmXG4gICAgICAgICAgICBpZiAocHJldklkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRldGFjaChwcmV2SWR4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZMQ29udGFpbmVyID0gbFZpZXdbUEFSRU5UXTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWwoaXNMQ29udGFpbmVyKHByZXZMQ29udGFpbmVyKSwgdHJ1ZSwgJ0FuIGF0dGFjaGVkIHZpZXcgc2hvdWxkIGhhdmUgaXRzIFBBUkVOVCBwb2ludCB0byBhIGNvbnRhaW5lci4nKTtcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHJlLWNyZWF0ZSBhIFIzVmlld0NvbnRhaW5lclJlZiBpbnN0YW5jZSBzaW5jZSB0aG9zZSBhcmUgbm90IHN0b3JlZCBvblxuICAgICAgICAgICAgICAgIC8vIExWaWV3IChub3IgYW55d2hlcmUgZWxzZSkuXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldlZDUmVmID0gbmV3IFIzVmlld0NvbnRhaW5lclJlZihwcmV2TENvbnRhaW5lciwgcHJldkxDb250YWluZXJbVF9IT1NUXSwgcHJldkxDb250YWluZXJbUEFSRU5UXSk7XG4gICAgICAgICAgICAgICAgcHJldlZDUmVmLmRldGFjaChwcmV2VkNSZWYuaW5kZXhPZih2aWV3UmVmKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTG9naWNhbCBvcGVyYXRpb24gb2YgYWRkaW5nIGBMVmlld2AgdG8gYExDb250YWluZXJgXG4gICAgICAgIGNvbnN0IGFkanVzdGVkSWR4ID0gdGhpcy5fYWRqdXN0SW5kZXgoaW5kZXgpO1xuICAgICAgICBjb25zdCBsQ29udGFpbmVyID0gdGhpcy5fbENvbnRhaW5lcjtcbiAgICAgICAgaW5zZXJ0Vmlldyh0VmlldywgbFZpZXcsIGxDb250YWluZXIsIGFkanVzdGVkSWR4KTtcbiAgICAgICAgLy8gUGh5c2ljYWwgb3BlcmF0aW9uIG9mIGFkZGluZyB0aGUgRE9NIG5vZGVzLlxuICAgICAgICBjb25zdCBiZWZvcmVOb2RlID0gZ2V0QmVmb3JlTm9kZUZvclZpZXcoYWRqdXN0ZWRJZHgsIGxDb250YWluZXIpO1xuICAgICAgICBjb25zdCByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICAgICAgY29uc3QgcGFyZW50Uk5vZGUgPSBuYXRpdmVQYXJlbnROb2RlKHJlbmRlcmVyLCBsQ29udGFpbmVyW05BVElWRV0pO1xuICAgICAgICBpZiAocGFyZW50Uk5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGFkZFZpZXdUb0NvbnRhaW5lcih0VmlldywgbENvbnRhaW5lcltUX0hPU1RdLCByZW5kZXJlciwgbFZpZXcsIHBhcmVudFJOb2RlLCBiZWZvcmVOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB2aWV3UmVmLmF0dGFjaFRvVmlld0NvbnRhaW5lclJlZigpO1xuICAgICAgICBhZGRUb0FycmF5KGdldE9yQ3JlYXRlVmlld1JlZnMobENvbnRhaW5lciksIGFkanVzdGVkSWR4LCB2aWV3UmVmKTtcbiAgICAgICAgcmV0dXJuIHZpZXdSZWY7XG4gICAgfVxuICAgIG1vdmUodmlld1JlZiwgbmV3SW5kZXgpIHtcbiAgICAgICAgaWYgKG5nRGV2TW9kZSAmJiB2aWV3UmVmLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbW92ZSBhIGRlc3Ryb3llZCBWaWV3IGluIGEgVmlld0NvbnRhaW5lciEnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnQodmlld1JlZiwgbmV3SW5kZXgpO1xuICAgIH1cbiAgICBpbmRleE9mKHZpZXdSZWYpIHtcbiAgICAgICAgY29uc3Qgdmlld1JlZnNBcnIgPSBnZXRWaWV3UmVmcyh0aGlzLl9sQ29udGFpbmVyKTtcbiAgICAgICAgcmV0dXJuIHZpZXdSZWZzQXJyICE9PSBudWxsID8gdmlld1JlZnNBcnIuaW5kZXhPZih2aWV3UmVmKSA6IC0xO1xuICAgIH1cbiAgICByZW1vdmUoaW5kZXgpIHtcbiAgICAgICAgY29uc3QgYWRqdXN0ZWRJZHggPSB0aGlzLl9hZGp1c3RJbmRleChpbmRleCwgLTEpO1xuICAgICAgICBjb25zdCBkZXRhY2hlZFZpZXcgPSBkZXRhY2hWaWV3KHRoaXMuX2xDb250YWluZXIsIGFkanVzdGVkSWR4KTtcbiAgICAgICAgaWYgKGRldGFjaGVkVmlldykge1xuICAgICAgICAgICAgLy8gQmVmb3JlIGRlc3Ryb3lpbmcgdGhlIHZpZXcsIHJlbW92ZSBpdCBmcm9tIHRoZSBjb250YWluZXIncyBhcnJheSBvZiBgVmlld1JlZmBzLlxuICAgICAgICAgICAgLy8gVGhpcyBlbnN1cmVzIHRoZSB2aWV3IGNvbnRhaW5lciBsZW5ndGggaXMgdXBkYXRlZCBiZWZvcmUgY2FsbGluZ1xuICAgICAgICAgICAgLy8gYGRlc3Ryb3lMVmlld2AsIHdoaWNoIGNvdWxkIHJlY3Vyc2l2ZWx5IGNhbGwgdmlldyBjb250YWluZXIgbWV0aG9kcyB0aGF0XG4gICAgICAgICAgICAvLyByZWx5IG9uIGFuIGFjY3VyYXRlIGNvbnRhaW5lciBsZW5ndGguXG4gICAgICAgICAgICAvLyAoZS5nLiBhIG1ldGhvZCBvbiB0aGlzIHZpZXcgY29udGFpbmVyIGJlaW5nIGNhbGxlZCBieSBhIGNoaWxkIGRpcmVjdGl2ZSdzIE9uRGVzdHJveVxuICAgICAgICAgICAgLy8gbGlmZWN5Y2xlIGhvb2spXG4gICAgICAgICAgICByZW1vdmVGcm9tQXJyYXkoZ2V0T3JDcmVhdGVWaWV3UmVmcyh0aGlzLl9sQ29udGFpbmVyKSwgYWRqdXN0ZWRJZHgpO1xuICAgICAgICAgICAgZGVzdHJveUxWaWV3KGRldGFjaGVkVmlld1tUVklFV10sIGRldGFjaGVkVmlldyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGV0YWNoKGluZGV4KSB7XG4gICAgICAgIGNvbnN0IGFkanVzdGVkSWR4ID0gdGhpcy5fYWRqdXN0SW5kZXgoaW5kZXgsIC0xKTtcbiAgICAgICAgY29uc3QgdmlldyA9IGRldGFjaFZpZXcodGhpcy5fbENvbnRhaW5lciwgYWRqdXN0ZWRJZHgpO1xuICAgICAgICBjb25zdCB3YXNEZXRhY2hlZCA9IHZpZXcgJiYgcmVtb3ZlRnJvbUFycmF5KGdldE9yQ3JlYXRlVmlld1JlZnModGhpcy5fbENvbnRhaW5lciksIGFkanVzdGVkSWR4KSAhPSBudWxsO1xuICAgICAgICByZXR1cm4gd2FzRGV0YWNoZWQgPyBuZXcgVmlld1JlZiQxKHZpZXcpIDogbnVsbDtcbiAgICB9XG4gICAgX2FkanVzdEluZGV4KGluZGV4LCBzaGlmdCA9IDApIHtcbiAgICAgICAgaWYgKGluZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxlbmd0aCArIHNoaWZ0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIGFzc2VydEdyZWF0ZXJUaGFuKGluZGV4LCAtMSwgYFZpZXdSZWYgaW5kZXggbXVzdCBiZSBwb3NpdGl2ZSwgZ290ICR7aW5kZXh9YCk7XG4gICAgICAgICAgICAvLyArMSBiZWNhdXNlIGl0J3MgbGVnYWwgdG8gaW5zZXJ0IGF0IHRoZSBlbmQuXG4gICAgICAgICAgICBhc3NlcnRMZXNzVGhhbihpbmRleCwgdGhpcy5sZW5ndGggKyAxICsgc2hpZnQsICdpbmRleCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG59O1xuZnVuY3Rpb24gZ2V0Vmlld1JlZnMobENvbnRhaW5lcikge1xuICAgIHJldHVybiBsQ29udGFpbmVyW1ZJRVdfUkVGU107XG59XG5mdW5jdGlvbiBnZXRPckNyZWF0ZVZpZXdSZWZzKGxDb250YWluZXIpIHtcbiAgICByZXR1cm4gKGxDb250YWluZXJbVklFV19SRUZTXSB8fCAobENvbnRhaW5lcltWSUVXX1JFRlNdID0gW10pKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIFZpZXdDb250YWluZXJSZWYgYW5kIHN0b3JlcyBpdCBvbiB0aGUgaW5qZWN0b3IuXG4gKlxuICogQHBhcmFtIFZpZXdDb250YWluZXJSZWZUb2tlbiBUaGUgVmlld0NvbnRhaW5lclJlZiB0eXBlXG4gKiBAcGFyYW0gRWxlbWVudFJlZlRva2VuIFRoZSBFbGVtZW50UmVmIHR5cGVcbiAqIEBwYXJhbSBob3N0VE5vZGUgVGhlIG5vZGUgdGhhdCBpcyByZXF1ZXN0aW5nIGEgVmlld0NvbnRhaW5lclJlZlxuICogQHBhcmFtIGhvc3RMVmlldyBUaGUgdmlldyB0byB3aGljaCB0aGUgbm9kZSBiZWxvbmdzXG4gKiBAcmV0dXJucyBUaGUgVmlld0NvbnRhaW5lclJlZiBpbnN0YW5jZSB0byB1c2VcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29udGFpbmVyUmVmKGhvc3RUTm9kZSwgaG9zdExWaWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlVHlwZShob3N0VE5vZGUsIDEyIC8qIEFueUNvbnRhaW5lciAqLyB8IDMgLyogQW55Uk5vZGUgKi8pO1xuICAgIGxldCBsQ29udGFpbmVyO1xuICAgIGNvbnN0IHNsb3RWYWx1ZSA9IGhvc3RMVmlld1tob3N0VE5vZGUuaW5kZXhdO1xuICAgIGlmIChpc0xDb250YWluZXIoc2xvdFZhbHVlKSkge1xuICAgICAgICAvLyBJZiB0aGUgaG9zdCBpcyBhIGNvbnRhaW5lciwgd2UgZG9uJ3QgbmVlZCB0byBjcmVhdGUgYSBuZXcgTENvbnRhaW5lclxuICAgICAgICBsQ29udGFpbmVyID0gc2xvdFZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IGNvbW1lbnROb2RlO1xuICAgICAgICAvLyBJZiB0aGUgaG9zdCBpcyBhbiBlbGVtZW50IGNvbnRhaW5lciwgdGhlIG5hdGl2ZSBob3N0IGVsZW1lbnQgaXMgZ3VhcmFudGVlZCB0byBiZSBhXG4gICAgICAgIC8vIGNvbW1lbnQgYW5kIHdlIGNhbiByZXVzZSB0aGF0IGNvbW1lbnQgYXMgYW5jaG9yIGVsZW1lbnQgZm9yIHRoZSBuZXcgTENvbnRhaW5lci5cbiAgICAgICAgLy8gVGhlIGNvbW1lbnQgbm9kZSBpbiBxdWVzdGlvbiBpcyBhbHJlYWR5IHBhcnQgb2YgdGhlIERPTSBzdHJ1Y3R1cmUgc28gd2UgZG9uJ3QgbmVlZCB0byBhcHBlbmRcbiAgICAgICAgLy8gaXQgYWdhaW4uXG4gICAgICAgIGlmIChob3N0VE5vZGUudHlwZSAmIDggLyogRWxlbWVudENvbnRhaW5lciAqLykge1xuICAgICAgICAgICAgY29tbWVudE5vZGUgPSB1bndyYXBSTm9kZShzbG90VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGhvc3QgaXMgYSByZWd1bGFyIGVsZW1lbnQsIHdlIGhhdmUgdG8gaW5zZXJ0IGEgY29tbWVudCBub2RlIG1hbnVhbGx5IHdoaWNoIHdpbGxcbiAgICAgICAgICAgIC8vIGJlIHVzZWQgYXMgYW4gYW5jaG9yIHdoZW4gaW5zZXJ0aW5nIGVsZW1lbnRzLiBJbiB0aGlzIHNwZWNpZmljIGNhc2Ugd2UgdXNlIGxvdy1sZXZlbCBET01cbiAgICAgICAgICAgIC8vIG1hbmlwdWxhdGlvbiB0byBpbnNlcnQgaXQuXG4gICAgICAgICAgICBjb25zdCByZW5kZXJlciA9IGhvc3RMVmlld1tSRU5ERVJFUl07XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlQ29tbWVudCsrO1xuICAgICAgICAgICAgY29tbWVudE5vZGUgPSByZW5kZXJlci5jcmVhdGVDb21tZW50KG5nRGV2TW9kZSA/ICdjb250YWluZXInIDogJycpO1xuICAgICAgICAgICAgY29uc3QgaG9zdE5hdGl2ZSA9IGdldE5hdGl2ZUJ5VE5vZGUoaG9zdFROb2RlLCBob3N0TFZpZXcpO1xuICAgICAgICAgICAgY29uc3QgcGFyZW50T2ZIb3N0TmF0aXZlID0gbmF0aXZlUGFyZW50Tm9kZShyZW5kZXJlciwgaG9zdE5hdGl2ZSk7XG4gICAgICAgICAgICBuYXRpdmVJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHBhcmVudE9mSG9zdE5hdGl2ZSwgY29tbWVudE5vZGUsIG5hdGl2ZU5leHRTaWJsaW5nKHJlbmRlcmVyLCBob3N0TmF0aXZlKSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGhvc3RMVmlld1tob3N0VE5vZGUuaW5kZXhdID0gbENvbnRhaW5lciA9XG4gICAgICAgICAgICBjcmVhdGVMQ29udGFpbmVyKHNsb3RWYWx1ZSwgaG9zdExWaWV3LCBjb21tZW50Tm9kZSwgaG9zdFROb2RlKTtcbiAgICAgICAgYWRkVG9WaWV3VHJlZShob3N0TFZpZXcsIGxDb250YWluZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFIzVmlld0NvbnRhaW5lclJlZihsQ29udGFpbmVyLCBob3N0VE5vZGUsIGhvc3RMVmlldyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gTm90ZTogVGhpcyBoYWNrIGlzIG5lY2Vzc2FyeSBzbyB3ZSBkb24ndCBlcnJvbmVvdXNseSBnZXQgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG4vLyBmYWlsdXJlIGJhc2VkIG9uIHR5cGVzLlxuY29uc3QgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkMSA9IDE7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gTm90ZTogVGhpcyBoYWNrIGlzIG5lY2Vzc2FyeSBzbyB3ZSBkb24ndCBlcnJvbmVvdXNseSBnZXQgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG4vLyBmYWlsdXJlIGJhc2VkIG9uIHR5cGVzLlxuY29uc3QgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQgPSAxO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IHVudXNlZFZhbHVlVG9QbGFjYXRlQWpkID0gdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQkMSArIHVudXNlZFZhbHVlRXhwb3J0VG9QbGFjYXRlQWpkJDUgKyB1bnVzZWRWYWx1ZUV4cG9ydFRvUGxhY2F0ZUFqZCQ0ICsgdW51c2VkVmFsdWVFeHBvcnRUb1BsYWNhdGVBamQ7XG5jbGFzcyBMUXVlcnlfIHtcbiAgICBjb25zdHJ1Y3RvcihxdWVyeUxpc3QpIHtcbiAgICAgICAgdGhpcy5xdWVyeUxpc3QgPSBxdWVyeUxpc3Q7XG4gICAgICAgIHRoaXMubWF0Y2hlcyA9IG51bGw7XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IExRdWVyeV8odGhpcy5xdWVyeUxpc3QpO1xuICAgIH1cbiAgICBzZXREaXJ0eSgpIHtcbiAgICAgICAgdGhpcy5xdWVyeUxpc3Quc2V0RGlydHkoKTtcbiAgICB9XG59XG5jbGFzcyBMUXVlcmllc18ge1xuICAgIGNvbnN0cnVjdG9yKHF1ZXJpZXMgPSBbXSkge1xuICAgICAgICB0aGlzLnF1ZXJpZXMgPSBxdWVyaWVzO1xuICAgIH1cbiAgICBjcmVhdGVFbWJlZGRlZFZpZXcodFZpZXcpIHtcbiAgICAgICAgY29uc3QgdFF1ZXJpZXMgPSB0Vmlldy5xdWVyaWVzO1xuICAgICAgICBpZiAodFF1ZXJpZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vT2ZJbmhlcml0ZWRRdWVyaWVzID0gdFZpZXcuY29udGVudFF1ZXJpZXMgIT09IG51bGwgPyB0Vmlldy5jb250ZW50UXVlcmllc1swXSA6IHRRdWVyaWVzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdMUXVlcmllcyA9IFtdO1xuICAgICAgICAgICAgLy8gQW4gZW1iZWRkZWQgdmlldyBoYXMgcXVlcmllcyBwcm9wYWdhdGVkIGZyb20gYSBkZWNsYXJhdGlvbiB2aWV3IGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlXG4gICAgICAgICAgICAvLyBUUXVlcmllcyBjb2xsZWN0aW9uIGFuZCB1cCB1bnRpbCBhIGZpcnN0IGNvbnRlbnQgcXVlcnkgZGVjbGFyZWQgaW4gdGhlIGVtYmVkZGVkIHZpZXcuIE9ubHlcbiAgICAgICAgICAgIC8vIHByb3BhZ2F0ZWQgTFF1ZXJpZXMgYXJlIGNyZWF0ZWQgYXQgdGhpcyBwb2ludCAoTFF1ZXJ5IGNvcnJlc3BvbmRpbmcgdG8gZGVjbGFyZWQgY29udGVudFxuICAgICAgICAgICAgLy8gcXVlcmllcyB3aWxsIGJlIGluc3RhbnRpYXRlZCBmcm9tIHRoZSBjb250ZW50IHF1ZXJ5IGluc3RydWN0aW9ucyBmb3IgZWFjaCBkaXJlY3RpdmUpLlxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub09mSW5oZXJpdGVkUXVlcmllczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdFF1ZXJ5ID0gdFF1ZXJpZXMuZ2V0QnlJbmRleChpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRMUXVlcnkgPSB0aGlzLnF1ZXJpZXNbdFF1ZXJ5LmluZGV4SW5EZWNsYXJhdGlvblZpZXddO1xuICAgICAgICAgICAgICAgIHZpZXdMUXVlcmllcy5wdXNoKHBhcmVudExRdWVyeS5jbG9uZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgTFF1ZXJpZXNfKHZpZXdMUXVlcmllcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGluc2VydFZpZXcodFZpZXcpIHtcbiAgICAgICAgdGhpcy5kaXJ0eVF1ZXJpZXNXaXRoTWF0Y2hlcyh0Vmlldyk7XG4gICAgfVxuICAgIGRldGFjaFZpZXcodFZpZXcpIHtcbiAgICAgICAgdGhpcy5kaXJ0eVF1ZXJpZXNXaXRoTWF0Y2hlcyh0Vmlldyk7XG4gICAgfVxuICAgIGRpcnR5UXVlcmllc1dpdGhNYXRjaGVzKHRWaWV3KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5xdWVyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZ2V0VFF1ZXJ5KHRWaWV3LCBpKS5tYXRjaGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWVyaWVzW2ldLnNldERpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBUUXVlcnlNZXRhZGF0YV8ge1xuICAgIGNvbnN0cnVjdG9yKHByZWRpY2F0ZSwgZmxhZ3MsIHJlYWQgPSBudWxsKSB7XG4gICAgICAgIHRoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICB0aGlzLmZsYWdzID0gZmxhZ3M7XG4gICAgICAgIHRoaXMucmVhZCA9IHJlYWQ7XG4gICAgfVxufVxuY2xhc3MgVFF1ZXJpZXNfIHtcbiAgICBjb25zdHJ1Y3RvcihxdWVyaWVzID0gW10pIHtcbiAgICAgICAgdGhpcy5xdWVyaWVzID0gcXVlcmllcztcbiAgICB9XG4gICAgZWxlbWVudFN0YXJ0KHRWaWV3LCB0Tm9kZSkge1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydEZpcnN0Q3JlYXRlUGFzcyh0VmlldywgJ1F1ZXJpZXMgc2hvdWxkIGNvbGxlY3QgcmVzdWx0cyBvbiB0aGUgZmlyc3QgdGVtcGxhdGUgcGFzcyBvbmx5Jyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5xdWVyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnF1ZXJpZXNbaV0uZWxlbWVudFN0YXJ0KHRWaWV3LCB0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudEVuZCh0Tm9kZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucXVlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5xdWVyaWVzW2ldLmVsZW1lbnRFbmQodE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVtYmVkZGVkVFZpZXcodE5vZGUpIHtcbiAgICAgICAgbGV0IHF1ZXJpZXNGb3JUZW1wbGF0ZVJlZiA9IG51bGw7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRRdWVyeUluZGV4ID0gcXVlcmllc0ZvclRlbXBsYXRlUmVmICE9PSBudWxsID8gcXVlcmllc0ZvclRlbXBsYXRlUmVmLmxlbmd0aCA6IDA7XG4gICAgICAgICAgICBjb25zdCB0cXVlcnlDbG9uZSA9IHRoaXMuZ2V0QnlJbmRleChpKS5lbWJlZGRlZFRWaWV3KHROb2RlLCBjaGlsZFF1ZXJ5SW5kZXgpO1xuICAgICAgICAgICAgaWYgKHRxdWVyeUNsb25lKSB7XG4gICAgICAgICAgICAgICAgdHF1ZXJ5Q2xvbmUuaW5kZXhJbkRlY2xhcmF0aW9uVmlldyA9IGk7XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXJpZXNGb3JUZW1wbGF0ZVJlZiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBxdWVyaWVzRm9yVGVtcGxhdGVSZWYucHVzaCh0cXVlcnlDbG9uZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBxdWVyaWVzRm9yVGVtcGxhdGVSZWYgPSBbdHF1ZXJ5Q2xvbmVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcXVlcmllc0ZvclRlbXBsYXRlUmVmICE9PSBudWxsID8gbmV3IFRRdWVyaWVzXyhxdWVyaWVzRm9yVGVtcGxhdGVSZWYpIDogbnVsbDtcbiAgICB9XG4gICAgdGVtcGxhdGUodFZpZXcsIHROb2RlKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgYXNzZXJ0Rmlyc3RDcmVhdGVQYXNzKHRWaWV3LCAnUXVlcmllcyBzaG91bGQgY29sbGVjdCByZXN1bHRzIG9uIHRoZSBmaXJzdCB0ZW1wbGF0ZSBwYXNzIG9ubHknKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnF1ZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucXVlcmllc1tpXS50ZW1wbGF0ZSh0VmlldywgdE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldEJ5SW5kZXgoaW5kZXgpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEluZGV4SW5SYW5nZSh0aGlzLnF1ZXJpZXMsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcmllc1tpbmRleF07XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnF1ZXJpZXMubGVuZ3RoO1xuICAgIH1cbiAgICB0cmFjayh0cXVlcnkpIHtcbiAgICAgICAgdGhpcy5xdWVyaWVzLnB1c2godHF1ZXJ5KTtcbiAgICB9XG59XG5jbGFzcyBUUXVlcnlfIHtcbiAgICBjb25zdHJ1Y3RvcihtZXRhZGF0YSwgbm9kZUluZGV4ID0gLTEpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB0aGlzLm1hdGNoZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGV4SW5EZWNsYXJhdGlvblZpZXcgPSAtMTtcbiAgICAgICAgdGhpcy5jcm9zc2VzTmdUZW1wbGF0ZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBmbGFnIGluZGljYXRpbmcgaWYgYSBnaXZlbiBxdWVyeSBzdGlsbCBhcHBsaWVzIHRvIG5vZGVzIGl0IGlzIGNyb3NzaW5nLiBXZSB1c2UgdGhpcyBmbGFnXG4gICAgICAgICAqIChhbG9uZ3NpZGUgd2l0aCBfZGVjbGFyYXRpb25Ob2RlSW5kZXgpIHRvIGtub3cgd2hlbiB0byBzdG9wIGFwcGx5aW5nIGNvbnRlbnQgcXVlcmllcyB0b1xuICAgICAgICAgKiBlbGVtZW50cyBpbiBhIHRlbXBsYXRlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYXBwbGllc1RvTmV4dE5vZGUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9kZWNsYXJhdGlvbk5vZGVJbmRleCA9IG5vZGVJbmRleDtcbiAgICB9XG4gICAgZWxlbWVudFN0YXJ0KHRWaWV3LCB0Tm9kZSkge1xuICAgICAgICBpZiAodGhpcy5pc0FwcGx5aW5nVG9Ob2RlKHROb2RlKSkge1xuICAgICAgICAgICAgdGhpcy5tYXRjaFROb2RlKHRWaWV3LCB0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudEVuZCh0Tm9kZSkge1xuICAgICAgICBpZiAodGhpcy5fZGVjbGFyYXRpb25Ob2RlSW5kZXggPT09IHROb2RlLmluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9hcHBsaWVzVG9OZXh0Tm9kZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRlbXBsYXRlKHRWaWV3LCB0Tm9kZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnRTdGFydCh0VmlldywgdE5vZGUpO1xuICAgIH1cbiAgICBlbWJlZGRlZFRWaWV3KHROb2RlLCBjaGlsZFF1ZXJ5SW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNBcHBseWluZ1RvTm9kZSh0Tm9kZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY3Jvc3Nlc05nVGVtcGxhdGUgPSB0cnVlO1xuICAgICAgICAgICAgLy8gQSBtYXJrZXIgaW5kaWNhdGluZyBhIGA8bmctdGVtcGxhdGU+YCBlbGVtZW50IChhIHBsYWNlaG9sZGVyIGZvciBxdWVyeSByZXN1bHRzIGZyb21cbiAgICAgICAgICAgIC8vIGVtYmVkZGVkIHZpZXdzIGNyZWF0ZWQgYmFzZWQgb24gdGhpcyBgPG5nLXRlbXBsYXRlPmApLlxuICAgICAgICAgICAgdGhpcy5hZGRNYXRjaCgtdE5vZGUuaW5kZXgsIGNoaWxkUXVlcnlJbmRleCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFRRdWVyeV8odGhpcy5tZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlzQXBwbHlpbmdUb05vZGUodE5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FwcGxpZXNUb05leHROb2RlICYmXG4gICAgICAgICAgICAodGhpcy5tZXRhZGF0YS5mbGFncyAmIDEgLyogZGVzY2VuZGFudHMgKi8pICE9PSAxIC8qIGRlc2NlbmRhbnRzICovKSB7XG4gICAgICAgICAgICBjb25zdCBkZWNsYXJhdGlvbk5vZGVJZHggPSB0aGlzLl9kZWNsYXJhdGlvbk5vZGVJbmRleDtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0Tm9kZS5wYXJlbnQ7XG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgaWYgYSBnaXZlbiBUTm9kZSBpcyBhIFwiZGlyZWN0XCIgY2hpbGQgb2YgYSBub2RlIG9uIHdoaWNoIGEgY29udGVudCBxdWVyeSB3YXNcbiAgICAgICAgICAgIC8vIGRlY2xhcmVkIChvbmx5IGRpcmVjdCBjaGlsZHJlbiBvZiBxdWVyeSdzIGhvc3Qgbm9kZSBjYW4gbWF0Y2ggd2l0aCB0aGUgZGVzY2VuZGFudHM6IGZhbHNlXG4gICAgICAgICAgICAvLyBvcHRpb24pLiBUaGVyZSBhcmUgMyBtYWluIHVzZS1jYXNlIC8gY29uZGl0aW9ucyB0byBjb25zaWRlciBoZXJlOlxuICAgICAgICAgICAgLy8gLSA8bmVlZHMtdGFyZ2V0PjxpICN0YXJnZXQ+PC9pPjwvbmVlZHMtdGFyZ2V0PjogaGVyZSA8aSAjdGFyZ2V0PiBwYXJlbnQgbm9kZSBpcyBhIHF1ZXJ5XG4gICAgICAgICAgICAvLyBob3N0IG5vZGU7XG4gICAgICAgICAgICAvLyAtIDxuZWVkcy10YXJnZXQ+PG5nLXRlbXBsYXRlIFtuZ0lmXT1cInRydWVcIj48aSAjdGFyZ2V0PjwvaT48L25nLXRlbXBsYXRlPjwvbmVlZHMtdGFyZ2V0PjpcbiAgICAgICAgICAgIC8vIGhlcmUgPGkgI3RhcmdldD4gcGFyZW50IG5vZGUgaXMgbnVsbDtcbiAgICAgICAgICAgIC8vIC0gPG5lZWRzLXRhcmdldD48bmctY29udGFpbmVyPjxpICN0YXJnZXQ+PC9pPjwvbmctY29udGFpbmVyPjwvbmVlZHMtdGFyZ2V0PjogaGVyZSB3ZSBuZWVkXG4gICAgICAgICAgICAvLyB0byBnbyBwYXN0IGA8bmctY29udGFpbmVyPmAgdG8gZGV0ZXJtaW5lIDxpICN0YXJnZXQ+IHBhcmVudCBub2RlIChidXQgd2Ugc2hvdWxkbid0IHRyYXZlcnNlXG4gICAgICAgICAgICAvLyB1cCBwYXN0IHRoZSBxdWVyeSdzIGhvc3Qgbm9kZSEpLlxuICAgICAgICAgICAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCAmJiAocGFyZW50LnR5cGUgJiA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pICYmXG4gICAgICAgICAgICAgICAgcGFyZW50LmluZGV4ICE9PSBkZWNsYXJhdGlvbk5vZGVJZHgpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlY2xhcmF0aW9uTm9kZUlkeCA9PT0gKHBhcmVudCAhPT0gbnVsbCA/IHBhcmVudC5pbmRleCA6IC0xKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbGllc1RvTmV4dE5vZGU7XG4gICAgfVxuICAgIG1hdGNoVE5vZGUodFZpZXcsIHROb2RlKSB7XG4gICAgICAgIGNvbnN0IHByZWRpY2F0ZSA9IHRoaXMubWV0YWRhdGEucHJlZGljYXRlO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcmVkaWNhdGUpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZWRpY2F0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBwcmVkaWNhdGVbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFROb2RlV2l0aFJlYWRPcHRpb24odFZpZXcsIHROb2RlLCBnZXRJZHhPZk1hdGNoaW5nU2VsZWN0b3IodE5vZGUsIG5hbWUpKTtcbiAgICAgICAgICAgICAgICAvLyBBbHNvIHRyeSBtYXRjaGluZyB0aGUgbmFtZSB0byBhIHByb3ZpZGVyIHNpbmNlIHN0cmluZ3MgY2FuIGJlIHVzZWQgYXMgREkgdG9rZW5zIHRvby5cbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0VmlldywgdE5vZGUsIGxvY2F0ZURpcmVjdGl2ZU9yUHJvdmlkZXIodE5vZGUsIHRWaWV3LCBuYW1lLCBmYWxzZSwgZmFsc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUgPT09IFRlbXBsYXRlUmVmKSB7XG4gICAgICAgICAgICAgICAgaWYgKHROb2RlLnR5cGUgJiA0IC8qIENvbnRhaW5lciAqLykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0VmlldywgdE5vZGUsIC0xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0VmlldywgdE5vZGUsIGxvY2F0ZURpcmVjdGl2ZU9yUHJvdmlkZXIodE5vZGUsIHRWaWV3LCBwcmVkaWNhdGUsIGZhbHNlLCBmYWxzZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0VmlldywgdE5vZGUsIG5vZGVNYXRjaElkeCkge1xuICAgICAgICBpZiAobm9kZU1hdGNoSWR4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCByZWFkID0gdGhpcy5tZXRhZGF0YS5yZWFkO1xuICAgICAgICAgICAgaWYgKHJlYWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVhZCA9PT0gRWxlbWVudFJlZiB8fCByZWFkID09PSBWaWV3Q29udGFpbmVyUmVmIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlYWQgPT09IFRlbXBsYXRlUmVmICYmICh0Tm9kZS50eXBlICYgNCAvKiBDb250YWluZXIgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTWF0Y2godE5vZGUuaW5kZXgsIC0yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZU9yUHJvdmlkZXJJZHggPSBsb2NhdGVEaXJlY3RpdmVPclByb3ZpZGVyKHROb2RlLCB0VmlldywgcmVhZCwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGl2ZU9yUHJvdmlkZXJJZHggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTWF0Y2godE5vZGUuaW5kZXgsIGRpcmVjdGl2ZU9yUHJvdmlkZXJJZHgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRNYXRjaCh0Tm9kZS5pbmRleCwgbm9kZU1hdGNoSWR4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRNYXRjaCh0Tm9kZUlkeCwgbWF0Y2hJZHgpIHtcbiAgICAgICAgaWYgKHRoaXMubWF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5tYXRjaGVzID0gW3ROb2RlSWR4LCBtYXRjaElkeF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1hdGNoZXMucHVzaCh0Tm9kZUlkeCwgbWF0Y2hJZHgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBJdGVyYXRlcyBvdmVyIGxvY2FsIG5hbWVzIGZvciBhIGdpdmVuIG5vZGUgYW5kIHJldHVybnMgZGlyZWN0aXZlIGluZGV4XG4gKiAob3IgLTEgaWYgYSBsb2NhbCBuYW1lIHBvaW50cyB0byBhbiBlbGVtZW50KS5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgc3RhdGljIGRhdGEgb2YgYSBub2RlIHRvIGNoZWNrXG4gKiBAcGFyYW0gc2VsZWN0b3Igc2VsZWN0b3IgdG8gbWF0Y2hcbiAqIEByZXR1cm5zIGRpcmVjdGl2ZSBpbmRleCwgLTEgb3IgbnVsbCBpZiBhIHNlbGVjdG9yIGRpZG4ndCBtYXRjaCBhbnkgb2YgdGhlIGxvY2FsIG5hbWVzXG4gKi9cbmZ1bmN0aW9uIGdldElkeE9mTWF0Y2hpbmdTZWxlY3Rvcih0Tm9kZSwgc2VsZWN0b3IpIHtcbiAgICBjb25zdCBsb2NhbE5hbWVzID0gdE5vZGUubG9jYWxOYW1lcztcbiAgICBpZiAobG9jYWxOYW1lcyAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsTmFtZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGlmIChsb2NhbE5hbWVzW2ldID09PSBzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbE5hbWVzW2kgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlc3VsdEJ5VE5vZGVUeXBlKHROb2RlLCBjdXJyZW50Vmlldykge1xuICAgIGlmICh0Tm9kZS50eXBlICYgKDMgLyogQW55Uk5vZGUgKi8gfCA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50UmVmKHROb2RlLCBjdXJyZW50Vmlldyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHROb2RlLnR5cGUgJiA0IC8qIENvbnRhaW5lciAqLykge1xuICAgICAgICByZXR1cm4gY3JlYXRlVGVtcGxhdGVSZWYodE5vZGUsIGN1cnJlbnRWaWV3KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBjcmVhdGVSZXN1bHRGb3JOb2RlKGxWaWV3LCB0Tm9kZSwgbWF0Y2hpbmdJZHgsIHJlYWQpIHtcbiAgICBpZiAobWF0Y2hpbmdJZHggPT09IC0xKSB7XG4gICAgICAgIC8vIGlmIHJlYWQgdG9rZW4gYW5kIC8gb3Igc3RyYXRlZ3kgaXMgbm90IHNwZWNpZmllZCwgZGV0ZWN0IGl0IHVzaW5nIGFwcHJvcHJpYXRlIHROb2RlIHR5cGVcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVJlc3VsdEJ5VE5vZGVUeXBlKHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1hdGNoaW5nSWR4ID09PSAtMikge1xuICAgICAgICAvLyByZWFkIGEgc3BlY2lhbCB0b2tlbiBmcm9tIGEgbm9kZSBpbmplY3RvclxuICAgICAgICByZXR1cm4gY3JlYXRlU3BlY2lhbFRva2VuKGxWaWV3LCB0Tm9kZSwgcmVhZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyByZWFkIGEgdG9rZW5cbiAgICAgICAgcmV0dXJuIGdldE5vZGVJbmplY3RhYmxlKGxWaWV3LCBsVmlld1tUVklFV10sIG1hdGNoaW5nSWR4LCB0Tm9kZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlU3BlY2lhbFRva2VuKGxWaWV3LCB0Tm9kZSwgcmVhZCkge1xuICAgIGlmIChyZWFkID09PSBFbGVtZW50UmVmKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50UmVmKHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlYWQgPT09IFRlbXBsYXRlUmVmKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVUZW1wbGF0ZVJlZih0Tm9kZSwgbFZpZXcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZWFkID09PSBWaWV3Q29udGFpbmVyUmVmKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRUTm9kZVR5cGUodE5vZGUsIDMgLyogQW55Uk5vZGUgKi8gfCAxMiAvKiBBbnlDb250YWluZXIgKi8pO1xuICAgICAgICByZXR1cm4gY3JlYXRlQ29udGFpbmVyUmVmKHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIHRocm93RXJyb3IoYFNwZWNpYWwgdG9rZW4gdG8gcmVhZCBzaG91bGQgYmUgb25lIG9mIEVsZW1lbnRSZWYsIFRlbXBsYXRlUmVmIG9yIFZpZXdDb250YWluZXJSZWYgYnV0IGdvdCAke3N0cmluZ2lmeShyZWFkKX0uYCk7XG4gICAgfVxufVxuLyoqXG4gKiBBIGhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgcXVlcnkgcmVzdWx0cyBmb3IgYSBnaXZlbiB2aWV3LiBUaGlzIGZ1bmN0aW9uIGlzIG1lYW50IHRvIGRvIHRoZVxuICogcHJvY2Vzc2luZyBvbmNlIGFuZCBvbmx5IG9uY2UgZm9yIGEgZ2l2ZW4gdmlldyBpbnN0YW5jZSAoYSBzZXQgb2YgcmVzdWx0cyBmb3IgYSBnaXZlbiB2aWV3XG4gKiBkb2Vzbid0IGNoYW5nZSkuXG4gKi9cbmZ1bmN0aW9uIG1hdGVyaWFsaXplVmlld1Jlc3VsdHModFZpZXcsIGxWaWV3LCB0UXVlcnksIHF1ZXJ5SW5kZXgpIHtcbiAgICBjb25zdCBsUXVlcnkgPSBsVmlld1tRVUVSSUVTXS5xdWVyaWVzW3F1ZXJ5SW5kZXhdO1xuICAgIGlmIChsUXVlcnkubWF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICBjb25zdCB0Vmlld0RhdGEgPSB0Vmlldy5kYXRhO1xuICAgICAgICBjb25zdCB0UXVlcnlNYXRjaGVzID0gdFF1ZXJ5Lm1hdGNoZXM7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRRdWVyeU1hdGNoZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZWROb2RlSWR4ID0gdFF1ZXJ5TWF0Y2hlc1tpXTtcbiAgICAgICAgICAgIGlmIChtYXRjaGVkTm9kZUlkeCA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBhdCB0aGUgPG5nLXRlbXBsYXRlPiBtYXJrZXIgd2hpY2ggbWlnaHQgaGF2ZSByZXN1bHRzIGluIHZpZXdzIGNyZWF0ZWQgYmFzZWQgb24gdGhpc1xuICAgICAgICAgICAgICAgIC8vIDxuZy10ZW1wbGF0ZT4gLSB0aG9zZSByZXN1bHRzIHdpbGwgYmUgaW4gc2VwYXJhdGUgdmlld3MgdGhvdWdoLCBzbyBoZXJlIHdlIGp1c3QgbGVhdmVcbiAgICAgICAgICAgICAgICAvLyBudWxsIGFzIGEgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UodFZpZXdEYXRhLCBtYXRjaGVkTm9kZUlkeCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdE5vZGUgPSB0Vmlld0RhdGFbbWF0Y2hlZE5vZGVJZHhdO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNyZWF0ZVJlc3VsdEZvck5vZGUobFZpZXcsIHROb2RlLCB0UXVlcnlNYXRjaGVzW2kgKyAxXSwgdFF1ZXJ5Lm1ldGFkYXRhLnJlYWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsUXVlcnkubWF0Y2hlcyA9IHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIGxRdWVyeS5tYXRjaGVzO1xufVxuLyoqXG4gKiBBIGhlbHBlciBmdW5jdGlvbiB0aGF0IGNvbGxlY3RzIChhbHJlYWR5IG1hdGVyaWFsaXplZCkgcXVlcnkgcmVzdWx0cyBmcm9tIGEgdHJlZSBvZiB2aWV3cyxcbiAqIHN0YXJ0aW5nIHdpdGggYSBwcm92aWRlZCBMVmlldy5cbiAqL1xuZnVuY3Rpb24gY29sbGVjdFF1ZXJ5UmVzdWx0cyh0VmlldywgbFZpZXcsIHF1ZXJ5SW5kZXgsIHJlc3VsdCkge1xuICAgIGNvbnN0IHRRdWVyeSA9IHRWaWV3LnF1ZXJpZXMuZ2V0QnlJbmRleChxdWVyeUluZGV4KTtcbiAgICBjb25zdCB0UXVlcnlNYXRjaGVzID0gdFF1ZXJ5Lm1hdGNoZXM7XG4gICAgaWYgKHRRdWVyeU1hdGNoZXMgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgbFZpZXdSZXN1bHRzID0gbWF0ZXJpYWxpemVWaWV3UmVzdWx0cyh0VmlldywgbFZpZXcsIHRRdWVyeSwgcXVlcnlJbmRleCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdFF1ZXJ5TWF0Y2hlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgY29uc3QgdE5vZGVJZHggPSB0UXVlcnlNYXRjaGVzW2ldO1xuICAgICAgICAgICAgaWYgKHROb2RlSWR4ID4gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxWaWV3UmVzdWx0c1tpIC8gMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRRdWVyeUluZGV4ID0gdFF1ZXJ5TWF0Y2hlc1tpICsgMV07XG4gICAgICAgICAgICAgICAgY29uc3QgZGVjbGFyYXRpb25MQ29udGFpbmVyID0gbFZpZXdbLXROb2RlSWR4XTtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TENvbnRhaW5lcihkZWNsYXJhdGlvbkxDb250YWluZXIpO1xuICAgICAgICAgICAgICAgIC8vIGNvbGxlY3QgbWF0Y2hlcyBmb3Igdmlld3MgaW5zZXJ0ZWQgaW4gdGhpcyBjb250YWluZXJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gQ09OVEFJTkVSX0hFQURFUl9PRkZTRVQ7IGkgPCBkZWNsYXJhdGlvbkxDb250YWluZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1iZWRkZWRMVmlldyA9IGRlY2xhcmF0aW9uTENvbnRhaW5lcltpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVtYmVkZGVkTFZpZXdbREVDTEFSQVRJT05fTENPTlRBSU5FUl0gPT09IGVtYmVkZGVkTFZpZXdbUEFSRU5UXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdFF1ZXJ5UmVzdWx0cyhlbWJlZGRlZExWaWV3W1RWSUVXXSwgZW1iZWRkZWRMVmlldywgY2hpbGRRdWVyeUluZGV4LCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNvbGxlY3QgbWF0Y2hlcyBmb3Igdmlld3MgY3JlYXRlZCBmcm9tIHRoaXMgZGVjbGFyYXRpb24gY29udGFpbmVyIGFuZCBpbnNlcnRlZCBpbnRvXG4gICAgICAgICAgICAgICAgLy8gZGlmZmVyZW50IGNvbnRhaW5lcnNcbiAgICAgICAgICAgICAgICBpZiAoZGVjbGFyYXRpb25MQ29udGFpbmVyW01PVkVEX1ZJRVdTXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbWJlZGRlZExWaWV3cyA9IGRlY2xhcmF0aW9uTENvbnRhaW5lcltNT1ZFRF9WSUVXU107XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW1iZWRkZWRMVmlld3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtYmVkZGVkTFZpZXcgPSBlbWJlZGRlZExWaWV3c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RRdWVyeVJlc3VsdHMoZW1iZWRkZWRMVmlld1tUVklFV10sIGVtYmVkZGVkTFZpZXcsIGNoaWxkUXVlcnlJbmRleCwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBSZWZyZXNoZXMgYSBxdWVyeSBieSBjb21iaW5pbmcgbWF0Y2hlcyBmcm9tIGFsbCBhY3RpdmUgdmlld3MgYW5kIHJlbW92aW5nIG1hdGNoZXMgZnJvbSBkZWxldGVkXG4gKiB2aWV3cy5cbiAqXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgYSBxdWVyeSBnb3QgZGlydHkgZHVyaW5nIGNoYW5nZSBkZXRlY3Rpb24gb3IgaWYgdGhpcyBpcyBhIHN0YXRpYyBxdWVyeVxuICogcmVzb2x2aW5nIGluIGNyZWF0aW9uIG1vZGUsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVxdWVyeVJlZnJlc2gocXVlcnlMaXN0KSB7XG4gICAgY29uc3QgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBjb25zdCBxdWVyeUluZGV4ID0gZ2V0Q3VycmVudFF1ZXJ5SW5kZXgoKTtcbiAgICBzZXRDdXJyZW50UXVlcnlJbmRleChxdWVyeUluZGV4ICsgMSk7XG4gICAgY29uc3QgdFF1ZXJ5ID0gZ2V0VFF1ZXJ5KHRWaWV3LCBxdWVyeUluZGV4KTtcbiAgICBpZiAocXVlcnlMaXN0LmRpcnR5ICYmXG4gICAgICAgIChpc0NyZWF0aW9uTW9kZShsVmlldykgPT09XG4gICAgICAgICAgICAoKHRRdWVyeS5tZXRhZGF0YS5mbGFncyAmIDIgLyogaXNTdGF0aWMgKi8pID09PSAyIC8qIGlzU3RhdGljICovKSkpIHtcbiAgICAgICAgaWYgKHRRdWVyeS5tYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeUxpc3QucmVzZXQoW10pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdFF1ZXJ5LmNyb3NzZXNOZ1RlbXBsYXRlID9cbiAgICAgICAgICAgICAgICBjb2xsZWN0UXVlcnlSZXN1bHRzKHRWaWV3LCBsVmlldywgcXVlcnlJbmRleCwgW10pIDpcbiAgICAgICAgICAgICAgICBtYXRlcmlhbGl6ZVZpZXdSZXN1bHRzKHRWaWV3LCBsVmlldywgdFF1ZXJ5LCBxdWVyeUluZGV4KTtcbiAgICAgICAgICAgIHF1ZXJ5TGlzdC5yZXNldChyZXN1bHQsIHVud3JhcEVsZW1lbnRSZWYpO1xuICAgICAgICAgICAgcXVlcnlMaXN0Lm5vdGlmeU9uQ2hhbmdlcygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIENyZWF0ZXMgbmV3IFF1ZXJ5TGlzdCwgc3RvcmVzIHRoZSByZWZlcmVuY2UgaW4gTFZpZXcgYW5kIHJldHVybnMgUXVlcnlMaXN0LlxuICpcbiAqIEBwYXJhbSBwcmVkaWNhdGUgVGhlIHR5cGUgZm9yIHdoaWNoIHRoZSBxdWVyeSB3aWxsIHNlYXJjaFxuICogQHBhcmFtIGZsYWdzIEZsYWdzIGFzc29jaWF0ZWQgd2l0aCB0aGUgcXVlcnlcbiAqIEBwYXJhbSByZWFkIFdoYXQgdG8gc2F2ZSBpbiB0aGUgcXVlcnlcbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1dmlld1F1ZXJ5KHByZWRpY2F0ZSwgZmxhZ3MsIHJlYWQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TnVtYmVyKGZsYWdzLCAnRXhwZWN0aW5nIGZsYWdzJyk7XG4gICAgY29uc3QgdFZpZXcgPSBnZXRUVmlldygpO1xuICAgIGlmICh0Vmlldy5maXJzdENyZWF0ZVBhc3MpIHtcbiAgICAgICAgY3JlYXRlVFF1ZXJ5KHRWaWV3LCBuZXcgVFF1ZXJ5TWV0YWRhdGFfKHByZWRpY2F0ZSwgZmxhZ3MsIHJlYWQpLCAtMSk7XG4gICAgICAgIGlmICgoZmxhZ3MgJiAyIC8qIGlzU3RhdGljICovKSA9PT0gMiAvKiBpc1N0YXRpYyAqLykge1xuICAgICAgICAgICAgdFZpZXcuc3RhdGljVmlld1F1ZXJpZXMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZUxRdWVyeSh0VmlldywgZ2V0TFZpZXcoKSwgZmxhZ3MpO1xufVxuLyoqXG4gKiBSZWdpc3RlcnMgYSBRdWVyeUxpc3QsIGFzc29jaWF0ZWQgd2l0aCBhIGNvbnRlbnQgcXVlcnksIGZvciBsYXRlciByZWZyZXNoIChwYXJ0IG9mIGEgdmlld1xuICogcmVmcmVzaCkuXG4gKlxuICogQHBhcmFtIGRpcmVjdGl2ZUluZGV4IEN1cnJlbnQgZGlyZWN0aXZlIGluZGV4XG4gKiBAcGFyYW0gcHJlZGljYXRlIFRoZSB0eXBlIGZvciB3aGljaCB0aGUgcXVlcnkgd2lsbCBzZWFyY2hcbiAqIEBwYXJhbSBmbGFncyBGbGFncyBhc3NvY2lhdGVkIHdpdGggdGhlIHF1ZXJ5XG4gKiBAcGFyYW0gcmVhZCBXaGF0IHRvIHNhdmUgaW4gdGhlIHF1ZXJ5XG4gKiBAcmV0dXJucyBRdWVyeUxpc3Q8VD5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1Y29udGVudFF1ZXJ5KGRpcmVjdGl2ZUluZGV4LCBwcmVkaWNhdGUsIGZsYWdzLCByZWFkKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE51bWJlcihmbGFncywgJ0V4cGVjdGluZyBmbGFncycpO1xuICAgIGNvbnN0IHRWaWV3ID0gZ2V0VFZpZXcoKTtcbiAgICBpZiAodFZpZXcuZmlyc3RDcmVhdGVQYXNzKSB7XG4gICAgICAgIGNvbnN0IHROb2RlID0gZ2V0Q3VycmVudFROb2RlKCk7XG4gICAgICAgIGNyZWF0ZVRRdWVyeSh0VmlldywgbmV3IFRRdWVyeU1ldGFkYXRhXyhwcmVkaWNhdGUsIGZsYWdzLCByZWFkKSwgdE5vZGUuaW5kZXgpO1xuICAgICAgICBzYXZlQ29udGVudFF1ZXJ5QW5kRGlyZWN0aXZlSW5kZXgodFZpZXcsIGRpcmVjdGl2ZUluZGV4KTtcbiAgICAgICAgaWYgKChmbGFncyAmIDIgLyogaXNTdGF0aWMgKi8pID09PSAyIC8qIGlzU3RhdGljICovKSB7XG4gICAgICAgICAgICB0Vmlldy5zdGF0aWNDb250ZW50UXVlcmllcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlTFF1ZXJ5KHRWaWV3LCBnZXRMVmlldygpLCBmbGFncyk7XG59XG4vKipcbiAqIExvYWRzIGEgUXVlcnlMaXN0IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGN1cnJlbnQgdmlldyBvciBjb250ZW50IHF1ZXJ5LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVsb2FkUXVlcnkoKSB7XG4gICAgcmV0dXJuIGxvYWRRdWVyeUludGVybmFsKGdldExWaWV3KCksIGdldEN1cnJlbnRRdWVyeUluZGV4KCkpO1xufVxuZnVuY3Rpb24gbG9hZFF1ZXJ5SW50ZXJuYWwobFZpZXcsIHF1ZXJ5SW5kZXgpIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RGVmaW5lZChsVmlld1tRVUVSSUVTXSwgJ0xRdWVyaWVzIHNob3VsZCBiZSBkZWZpbmVkIHdoZW4gdHJ5aW5nIHRvIGxvYWQgYSBxdWVyeScpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRJbmRleEluUmFuZ2UobFZpZXdbUVVFUklFU10ucXVlcmllcywgcXVlcnlJbmRleCk7XG4gICAgcmV0dXJuIGxWaWV3W1FVRVJJRVNdLnF1ZXJpZXNbcXVlcnlJbmRleF0ucXVlcnlMaXN0O1xufVxuZnVuY3Rpb24gY3JlYXRlTFF1ZXJ5KHRWaWV3LCBsVmlldywgZmxhZ3MpIHtcbiAgICBjb25zdCBxdWVyeUxpc3QgPSBuZXcgUXVlcnlMaXN0KChmbGFncyAmIDQgLyogZW1pdERpc3RpbmN0Q2hhbmdlc09ubHkgKi8pID09PSA0IC8qIGVtaXREaXN0aW5jdENoYW5nZXNPbmx5ICovKTtcbiAgICBzdG9yZUNsZWFudXBXaXRoQ29udGV4dCh0VmlldywgbFZpZXcsIHF1ZXJ5TGlzdCwgcXVlcnlMaXN0LmRlc3Ryb3kpO1xuICAgIGlmIChsVmlld1tRVUVSSUVTXSA9PT0gbnVsbClcbiAgICAgICAgbFZpZXdbUVVFUklFU10gPSBuZXcgTFF1ZXJpZXNfKCk7XG4gICAgbFZpZXdbUVVFUklFU10ucXVlcmllcy5wdXNoKG5ldyBMUXVlcnlfKHF1ZXJ5TGlzdCkpO1xufVxuZnVuY3Rpb24gY3JlYXRlVFF1ZXJ5KHRWaWV3LCBtZXRhZGF0YSwgbm9kZUluZGV4KSB7XG4gICAgaWYgKHRWaWV3LnF1ZXJpZXMgPT09IG51bGwpXG4gICAgICAgIHRWaWV3LnF1ZXJpZXMgPSBuZXcgVFF1ZXJpZXNfKCk7XG4gICAgdFZpZXcucXVlcmllcy50cmFjayhuZXcgVFF1ZXJ5XyhtZXRhZGF0YSwgbm9kZUluZGV4KSk7XG59XG5mdW5jdGlvbiBzYXZlQ29udGVudFF1ZXJ5QW5kRGlyZWN0aXZlSW5kZXgodFZpZXcsIGRpcmVjdGl2ZUluZGV4KSB7XG4gICAgY29uc3QgdFZpZXdDb250ZW50UXVlcmllcyA9IHRWaWV3LmNvbnRlbnRRdWVyaWVzIHx8ICh0Vmlldy5jb250ZW50UXVlcmllcyA9IFtdKTtcbiAgICBjb25zdCBsYXN0U2F2ZWREaXJlY3RpdmVJbmRleCA9IHRWaWV3Q29udGVudFF1ZXJpZXMubGVuZ3RoID8gdFZpZXdDb250ZW50UXVlcmllc1t0Vmlld0NvbnRlbnRRdWVyaWVzLmxlbmd0aCAtIDFdIDogLTE7XG4gICAgaWYgKGRpcmVjdGl2ZUluZGV4ICE9PSBsYXN0U2F2ZWREaXJlY3RpdmVJbmRleCkge1xuICAgICAgICB0Vmlld0NvbnRlbnRRdWVyaWVzLnB1c2godFZpZXcucXVlcmllcy5sZW5ndGggLSAxLCBkaXJlY3RpdmVJbmRleCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0VFF1ZXJ5KHRWaWV3LCBpbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRWaWV3LnF1ZXJpZXMsICdUUXVlcmllcyBtdXN0IGJlIGRlZmluZWQgdG8gcmV0cmlldmUgYSBUUXVlcnknKTtcbiAgICByZXR1cm4gdFZpZXcucXVlcmllcy5nZXRCeUluZGV4KGluZGV4KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJldHJpZXZlcyBgVGVtcGxhdGVSZWZgIGluc3RhbmNlIGZyb20gYEluamVjdG9yYCB3aGVuIGEgbG9jYWwgcmVmZXJlbmNlIGlzIHBsYWNlZCBvbiB0aGVcbiAqIGA8bmctdGVtcGxhdGU+YCBlbGVtZW50LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybV0ZW1wbGF0ZVJlZkV4dHJhY3Rvcih0Tm9kZSwgbFZpZXcpIHtcbiAgICByZXR1cm4gY3JlYXRlVGVtcGxhdGVSZWYodE5vZGUsIGxWaWV3KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIG1hcHBpbmcgb2YgdGhlIEBhbmd1bGFyL2NvcmUgQVBJIHN1cmZhY2UgdXNlZCBpbiBnZW5lcmF0ZWQgZXhwcmVzc2lvbnMgdG8gdGhlIGFjdHVhbCBzeW1ib2xzLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGtlcHQgdXAgdG8gZGF0ZSB3aXRoIHRoZSBwdWJsaWMgZXhwb3J0cyBvZiBAYW5ndWxhci9jb3JlLlxuICovXG5jb25zdCBhbmd1bGFyQ29yZUVudiA9ICgoKSA9PiAoe1xuICAgICfJtcm1YXR0cmlidXRlJzogybXJtWF0dHJpYnV0ZSxcbiAgICAnybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMSc6IMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTEsXG4gICAgJ8m1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTInOiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUyLFxuICAgICfJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGUzJzogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlMyxcbiAgICAnybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNCc6IMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTQsXG4gICAgJ8m1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTUnOiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU1LFxuICAgICfJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU2JzogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNixcbiAgICAnybXJtWF0dHJpYnV0ZUludGVycG9sYXRlNyc6IMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTcsXG4gICAgJ8m1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTgnOiDJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGU4LFxuICAgICfJtcm1YXR0cmlidXRlSW50ZXJwb2xhdGVWJzogybXJtWF0dHJpYnV0ZUludGVycG9sYXRlVixcbiAgICAnybXJtWRlZmluZUNvbXBvbmVudCc6IMm1ybVkZWZpbmVDb21wb25lbnQsXG4gICAgJ8m1ybVkZWZpbmVEaXJlY3RpdmUnOiDJtcm1ZGVmaW5lRGlyZWN0aXZlLFxuICAgICfJtcm1ZGVmaW5lSW5qZWN0YWJsZSc6IMm1ybVkZWZpbmVJbmplY3RhYmxlLFxuICAgICfJtcm1ZGVmaW5lSW5qZWN0b3InOiDJtcm1ZGVmaW5lSW5qZWN0b3IsXG4gICAgJ8m1ybVkZWZpbmVOZ01vZHVsZSc6IMm1ybVkZWZpbmVOZ01vZHVsZSxcbiAgICAnybXJtWRlZmluZVBpcGUnOiDJtcm1ZGVmaW5lUGlwZSxcbiAgICAnybXJtWRpcmVjdGl2ZUluamVjdCc6IMm1ybVkaXJlY3RpdmVJbmplY3QsXG4gICAgJ8m1ybVnZXRJbmhlcml0ZWRGYWN0b3J5JzogybXJtWdldEluaGVyaXRlZEZhY3RvcnksXG4gICAgJ8m1ybVpbmplY3QnOiDJtcm1aW5qZWN0LFxuICAgICfJtcm1aW5qZWN0QXR0cmlidXRlJzogybXJtWluamVjdEF0dHJpYnV0ZSxcbiAgICAnybXJtWludmFsaWRGYWN0b3J5JzogybXJtWludmFsaWRGYWN0b3J5LFxuICAgICfJtcm1aW52YWxpZEZhY3RvcnlEZXAnOiDJtcm1aW52YWxpZEZhY3RvcnlEZXAsXG4gICAgJ8m1ybV0ZW1wbGF0ZVJlZkV4dHJhY3Rvcic6IMm1ybV0ZW1wbGF0ZVJlZkV4dHJhY3RvcixcbiAgICAnybXJtU5nT25DaGFuZ2VzRmVhdHVyZSc6IMm1ybVOZ09uQ2hhbmdlc0ZlYXR1cmUsXG4gICAgJ8m1ybVQcm92aWRlcnNGZWF0dXJlJzogybXJtVByb3ZpZGVyc0ZlYXR1cmUsXG4gICAgJ8m1ybVDb3B5RGVmaW5pdGlvbkZlYXR1cmUnOiDJtcm1Q29weURlZmluaXRpb25GZWF0dXJlLFxuICAgICfJtcm1SW5oZXJpdERlZmluaXRpb25GZWF0dXJlJzogybXJtUluaGVyaXREZWZpbml0aW9uRmVhdHVyZSxcbiAgICAnybXJtW5leHRDb250ZXh0JzogybXJtW5leHRDb250ZXh0LFxuICAgICfJtcm1bmFtZXNwYWNlSFRNTCc6IMm1ybVuYW1lc3BhY2VIVE1MLFxuICAgICfJtcm1bmFtZXNwYWNlTWF0aE1MJzogybXJtW5hbWVzcGFjZU1hdGhNTCxcbiAgICAnybXJtW5hbWVzcGFjZVNWRyc6IMm1ybVuYW1lc3BhY2VTVkcsXG4gICAgJ8m1ybVlbmFibGVCaW5kaW5ncyc6IMm1ybVlbmFibGVCaW5kaW5ncyxcbiAgICAnybXJtWRpc2FibGVCaW5kaW5ncyc6IMm1ybVkaXNhYmxlQmluZGluZ3MsXG4gICAgJ8m1ybVlbGVtZW50U3RhcnQnOiDJtcm1ZWxlbWVudFN0YXJ0LFxuICAgICfJtcm1ZWxlbWVudEVuZCc6IMm1ybVlbGVtZW50RW5kLFxuICAgICfJtcm1ZWxlbWVudCc6IMm1ybVlbGVtZW50LFxuICAgICfJtcm1ZWxlbWVudENvbnRhaW5lclN0YXJ0JzogybXJtWVsZW1lbnRDb250YWluZXJTdGFydCxcbiAgICAnybXJtWVsZW1lbnRDb250YWluZXJFbmQnOiDJtcm1ZWxlbWVudENvbnRhaW5lckVuZCxcbiAgICAnybXJtWVsZW1lbnRDb250YWluZXInOiDJtcm1ZWxlbWVudENvbnRhaW5lcixcbiAgICAnybXJtXB1cmVGdW5jdGlvbjAnOiDJtcm1cHVyZUZ1bmN0aW9uMCxcbiAgICAnybXJtXB1cmVGdW5jdGlvbjEnOiDJtcm1cHVyZUZ1bmN0aW9uMSxcbiAgICAnybXJtXB1cmVGdW5jdGlvbjInOiDJtcm1cHVyZUZ1bmN0aW9uMixcbiAgICAnybXJtXB1cmVGdW5jdGlvbjMnOiDJtcm1cHVyZUZ1bmN0aW9uMyxcbiAgICAnybXJtXB1cmVGdW5jdGlvbjQnOiDJtcm1cHVyZUZ1bmN0aW9uNCxcbiAgICAnybXJtXB1cmVGdW5jdGlvbjUnOiDJtcm1cHVyZUZ1bmN0aW9uNSxcbiAgICAnybXJtXB1cmVGdW5jdGlvbjYnOiDJtcm1cHVyZUZ1bmN0aW9uNixcbiAgICAnybXJtXB1cmVGdW5jdGlvbjcnOiDJtcm1cHVyZUZ1bmN0aW9uNyxcbiAgICAnybXJtXB1cmVGdW5jdGlvbjgnOiDJtcm1cHVyZUZ1bmN0aW9uOCxcbiAgICAnybXJtXB1cmVGdW5jdGlvblYnOiDJtcm1cHVyZUZ1bmN0aW9uVixcbiAgICAnybXJtWdldEN1cnJlbnRWaWV3JzogybXJtWdldEN1cnJlbnRWaWV3LFxuICAgICfJtcm1cmVzdG9yZVZpZXcnOiDJtcm1cmVzdG9yZVZpZXcsXG4gICAgJ8m1ybVsaXN0ZW5lcic6IMm1ybVsaXN0ZW5lcixcbiAgICAnybXJtXByb2plY3Rpb24nOiDJtcm1cHJvamVjdGlvbixcbiAgICAnybXJtXN5bnRoZXRpY0hvc3RQcm9wZXJ0eSc6IMm1ybVzeW50aGV0aWNIb3N0UHJvcGVydHksXG4gICAgJ8m1ybVzeW50aGV0aWNIb3N0TGlzdGVuZXInOiDJtcm1c3ludGhldGljSG9zdExpc3RlbmVyLFxuICAgICfJtcm1cGlwZUJpbmQxJzogybXJtXBpcGVCaW5kMSxcbiAgICAnybXJtXBpcGVCaW5kMic6IMm1ybVwaXBlQmluZDIsXG4gICAgJ8m1ybVwaXBlQmluZDMnOiDJtcm1cGlwZUJpbmQzLFxuICAgICfJtcm1cGlwZUJpbmQ0JzogybXJtXBpcGVCaW5kNCxcbiAgICAnybXJtXBpcGVCaW5kVic6IMm1ybVwaXBlQmluZFYsXG4gICAgJ8m1ybVwcm9qZWN0aW9uRGVmJzogybXJtXByb2plY3Rpb25EZWYsXG4gICAgJ8m1ybVob3N0UHJvcGVydHknOiDJtcm1aG9zdFByb3BlcnR5LFxuICAgICfJtcm1cHJvcGVydHknOiDJtcm1cHJvcGVydHksXG4gICAgJ8m1ybVwcm9wZXJ0eUludGVycG9sYXRlJzogybXJtXByb3BlcnR5SW50ZXJwb2xhdGUsXG4gICAgJ8m1ybVwcm9wZXJ0eUludGVycG9sYXRlMSc6IMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMSxcbiAgICAnybXJtXByb3BlcnR5SW50ZXJwb2xhdGUyJzogybXJtXByb3BlcnR5SW50ZXJwb2xhdGUyLFxuICAgICfJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTMnOiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTMsXG4gICAgJ8m1ybVwcm9wZXJ0eUludGVycG9sYXRlNCc6IMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNCxcbiAgICAnybXJtXByb3BlcnR5SW50ZXJwb2xhdGU1JzogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU1LFxuICAgICfJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTYnOiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTYsXG4gICAgJ8m1ybVwcm9wZXJ0eUludGVycG9sYXRlNyc6IMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNyxcbiAgICAnybXJtXByb3BlcnR5SW50ZXJwb2xhdGU4JzogybXJtXByb3BlcnR5SW50ZXJwb2xhdGU4LFxuICAgICfJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZVYnOiDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZVYsXG4gICAgJ8m1ybVwaXBlJzogybXJtXBpcGUsXG4gICAgJ8m1ybVxdWVyeVJlZnJlc2gnOiDJtcm1cXVlcnlSZWZyZXNoLFxuICAgICfJtcm1dmlld1F1ZXJ5JzogybXJtXZpZXdRdWVyeSxcbiAgICAnybXJtWxvYWRRdWVyeSc6IMm1ybVsb2FkUXVlcnksXG4gICAgJ8m1ybVjb250ZW50UXVlcnknOiDJtcm1Y29udGVudFF1ZXJ5LFxuICAgICfJtcm1cmVmZXJlbmNlJzogybXJtXJlZmVyZW5jZSxcbiAgICAnybXJtWNsYXNzTWFwJzogybXJtWNsYXNzTWFwLFxuICAgICfJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTEnOiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTEsXG4gICAgJ8m1ybVjbGFzc01hcEludGVycG9sYXRlMic6IMm1ybVjbGFzc01hcEludGVycG9sYXRlMixcbiAgICAnybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUzJzogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUzLFxuICAgICfJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTQnOiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTQsXG4gICAgJ8m1ybVjbGFzc01hcEludGVycG9sYXRlNSc6IMm1ybVjbGFzc01hcEludGVycG9sYXRlNSxcbiAgICAnybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU2JzogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU2LFxuICAgICfJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTcnOiDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTcsXG4gICAgJ8m1ybVjbGFzc01hcEludGVycG9sYXRlOCc6IMm1ybVjbGFzc01hcEludGVycG9sYXRlOCxcbiAgICAnybXJtWNsYXNzTWFwSW50ZXJwb2xhdGVWJzogybXJtWNsYXNzTWFwSW50ZXJwb2xhdGVWLFxuICAgICfJtcm1c3R5bGVNYXAnOiDJtcm1c3R5bGVNYXAsXG4gICAgJ8m1ybVzdHlsZU1hcEludGVycG9sYXRlMSc6IMm1ybVzdHlsZU1hcEludGVycG9sYXRlMSxcbiAgICAnybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUyJzogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUyLFxuICAgICfJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTMnOiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTMsXG4gICAgJ8m1ybVzdHlsZU1hcEludGVycG9sYXRlNCc6IMm1ybVzdHlsZU1hcEludGVycG9sYXRlNCxcbiAgICAnybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU1JzogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU1LFxuICAgICfJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTYnOiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTYsXG4gICAgJ8m1ybVzdHlsZU1hcEludGVycG9sYXRlNyc6IMm1ybVzdHlsZU1hcEludGVycG9sYXRlNyxcbiAgICAnybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU4JzogybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU4LFxuICAgICfJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZVYnOiDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZVYsXG4gICAgJ8m1ybVzdHlsZVByb3AnOiDJtcm1c3R5bGVQcm9wLFxuICAgICfJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUxJzogybXJtXN0eWxlUHJvcEludGVycG9sYXRlMSxcbiAgICAnybXJtXN0eWxlUHJvcEludGVycG9sYXRlMic6IMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTIsXG4gICAgJ8m1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTMnOiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGUzLFxuICAgICfJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU0JzogybXJtXN0eWxlUHJvcEludGVycG9sYXRlNCxcbiAgICAnybXJtXN0eWxlUHJvcEludGVycG9sYXRlNSc6IMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTUsXG4gICAgJ8m1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTYnOiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU2LFxuICAgICfJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGU3JzogybXJtXN0eWxlUHJvcEludGVycG9sYXRlNyxcbiAgICAnybXJtXN0eWxlUHJvcEludGVycG9sYXRlOCc6IMm1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZTgsXG4gICAgJ8m1ybVzdHlsZVByb3BJbnRlcnBvbGF0ZVYnOiDJtcm1c3R5bGVQcm9wSW50ZXJwb2xhdGVWLFxuICAgICfJtcm1Y2xhc3NQcm9wJzogybXJtWNsYXNzUHJvcCxcbiAgICAnybXJtWFkdmFuY2UnOiDJtcm1YWR2YW5jZSxcbiAgICAnybXJtXRlbXBsYXRlJzogybXJtXRlbXBsYXRlLFxuICAgICfJtcm1dGV4dCc6IMm1ybV0ZXh0LFxuICAgICfJtcm1dGV4dEludGVycG9sYXRlJzogybXJtXRleHRJbnRlcnBvbGF0ZSxcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZTEnOiDJtcm1dGV4dEludGVycG9sYXRlMSxcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZTInOiDJtcm1dGV4dEludGVycG9sYXRlMixcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZTMnOiDJtcm1dGV4dEludGVycG9sYXRlMyxcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZTQnOiDJtcm1dGV4dEludGVycG9sYXRlNCxcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZTUnOiDJtcm1dGV4dEludGVycG9sYXRlNSxcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZTYnOiDJtcm1dGV4dEludGVycG9sYXRlNixcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZTcnOiDJtcm1dGV4dEludGVycG9sYXRlNyxcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZTgnOiDJtcm1dGV4dEludGVycG9sYXRlOCxcbiAgICAnybXJtXRleHRJbnRlcnBvbGF0ZVYnOiDJtcm1dGV4dEludGVycG9sYXRlVixcbiAgICAnybXJtWkxOG4nOiDJtcm1aTE4bixcbiAgICAnybXJtWkxOG5BdHRyaWJ1dGVzJzogybXJtWkxOG5BdHRyaWJ1dGVzLFxuICAgICfJtcm1aTE4bkV4cCc6IMm1ybVpMThuRXhwLFxuICAgICfJtcm1aTE4blN0YXJ0JzogybXJtWkxOG5TdGFydCxcbiAgICAnybXJtWkxOG5FbmQnOiDJtcm1aTE4bkVuZCxcbiAgICAnybXJtWkxOG5BcHBseSc6IMm1ybVpMThuQXBwbHksXG4gICAgJ8m1ybVpMThuUG9zdHByb2Nlc3MnOiDJtcm1aTE4blBvc3Rwcm9jZXNzLFxuICAgICfJtcm1cmVzb2x2ZVdpbmRvdyc6IMm1ybVyZXNvbHZlV2luZG93LFxuICAgICfJtcm1cmVzb2x2ZURvY3VtZW50JzogybXJtXJlc29sdmVEb2N1bWVudCxcbiAgICAnybXJtXJlc29sdmVCb2R5JzogybXJtXJlc29sdmVCb2R5LFxuICAgICfJtcm1c2V0Q29tcG9uZW50U2NvcGUnOiDJtcm1c2V0Q29tcG9uZW50U2NvcGUsXG4gICAgJ8m1ybVzZXROZ01vZHVsZVNjb3BlJzogybXJtXNldE5nTW9kdWxlU2NvcGUsXG4gICAgJ8m1ybVzYW5pdGl6ZUh0bWwnOiDJtcm1c2FuaXRpemVIdG1sLFxuICAgICfJtcm1c2FuaXRpemVTdHlsZSc6IMm1ybVzYW5pdGl6ZVN0eWxlLFxuICAgICfJtcm1c2FuaXRpemVSZXNvdXJjZVVybCc6IMm1ybVzYW5pdGl6ZVJlc291cmNlVXJsLFxuICAgICfJtcm1c2FuaXRpemVTY3JpcHQnOiDJtcm1c2FuaXRpemVTY3JpcHQsXG4gICAgJ8m1ybVzYW5pdGl6ZVVybCc6IMm1ybVzYW5pdGl6ZVVybCxcbiAgICAnybXJtXNhbml0aXplVXJsT3JSZXNvdXJjZVVybCc6IMm1ybVzYW5pdGl6ZVVybE9yUmVzb3VyY2VVcmwsXG4gICAgJ8m1ybV0cnVzdENvbnN0YW50SHRtbCc6IMm1ybV0cnVzdENvbnN0YW50SHRtbCxcbiAgICAnybXJtXRydXN0Q29uc3RhbnRSZXNvdXJjZVVybCc6IMm1ybV0cnVzdENvbnN0YW50UmVzb3VyY2VVcmwsXG4gICAgJ2ZvcndhcmRSZWYnOiBmb3J3YXJkUmVmLFxuICAgICdyZXNvbHZlRm9yd2FyZFJlZic6IHJlc29sdmVGb3J3YXJkUmVmLFxufSkpKCk7XG5cbmxldCBqaXRPcHRpb25zID0gbnVsbDtcbmZ1bmN0aW9uIHNldEppdE9wdGlvbnMob3B0aW9ucykge1xuICAgIGlmIChqaXRPcHRpb25zICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmRlZmF1bHRFbmNhcHN1bGF0aW9uICE9PSBqaXRPcHRpb25zLmRlZmF1bHRFbmNhcHN1bGF0aW9uKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQcm92aWRlZCB2YWx1ZSBmb3IgYGRlZmF1bHRFbmNhcHN1bGF0aW9uYCBjYW4gbm90IGJlIGNoYW5nZWQgb25jZSBpdCBoYXMgYmVlbiBzZXQuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMucHJlc2VydmVXaGl0ZXNwYWNlcyAhPT0gaml0T3B0aW9ucy5wcmVzZXJ2ZVdoaXRlc3BhY2VzKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQcm92aWRlZCB2YWx1ZSBmb3IgYHByZXNlcnZlV2hpdGVzcGFjZXNgIGNhbiBub3QgYmUgY2hhbmdlZCBvbmNlIGl0IGhhcyBiZWVuIHNldC4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBqaXRPcHRpb25zID0gb3B0aW9ucztcbn1cbmZ1bmN0aW9uIGdldEppdE9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIGppdE9wdGlvbnM7XG59XG5mdW5jdGlvbiByZXNldEppdE9wdGlvbnMoKSB7XG4gICAgaml0T3B0aW9ucyA9IG51bGw7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgbW9kdWxlUXVldWUgPSBbXTtcbi8qKlxuICogRW5xdWV1ZXMgbW9kdWxlRGVmIHRvIGJlIGNoZWNrZWQgbGF0ZXIgdG8gc2VlIGlmIHNjb3BlIGNhbiBiZSBzZXQgb24gaXRzXG4gKiBjb21wb25lbnQgZGVjbGFyYXRpb25zLlxuICovXG5mdW5jdGlvbiBlbnF1ZXVlTW9kdWxlRm9yRGVsYXllZFNjb3BpbmcobW9kdWxlVHlwZSwgbmdNb2R1bGUpIHtcbiAgICBtb2R1bGVRdWV1ZS5wdXNoKHsgbW9kdWxlVHlwZSwgbmdNb2R1bGUgfSk7XG59XG5sZXQgZmx1c2hpbmdNb2R1bGVRdWV1ZSA9IGZhbHNlO1xuLyoqXG4gKiBMb29wcyBvdmVyIHF1ZXVlZCBtb2R1bGUgZGVmaW5pdGlvbnMsIGlmIGEgZ2l2ZW4gbW9kdWxlIGRlZmluaXRpb24gaGFzIGFsbCBvZiBpdHNcbiAqIGRlY2xhcmF0aW9ucyByZXNvbHZlZCwgaXQgZGVxdWV1ZXMgdGhhdCBtb2R1bGUgZGVmaW5pdGlvbiBhbmQgc2V0cyB0aGUgc2NvcGUgb25cbiAqIGl0cyBkZWNsYXJhdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGZsdXNoTW9kdWxlU2NvcGluZ1F1ZXVlQXNNdWNoQXNQb3NzaWJsZSgpIHtcbiAgICBpZiAoIWZsdXNoaW5nTW9kdWxlUXVldWUpIHtcbiAgICAgICAgZmx1c2hpbmdNb2R1bGVRdWV1ZSA9IHRydWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gbW9kdWxlUXVldWUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG1vZHVsZVR5cGUsIG5nTW9kdWxlIH0gPSBtb2R1bGVRdWV1ZVtpXTtcbiAgICAgICAgICAgICAgICBpZiAobmdNb2R1bGUuZGVjbGFyYXRpb25zICYmIG5nTW9kdWxlLmRlY2xhcmF0aW9ucy5ldmVyeShpc1Jlc29sdmVkRGVjbGFyYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRlcXVldWVcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlUXVldWUuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBzZXRTY29wZU9uRGVjbGFyZWRDb21wb25lbnRzKG1vZHVsZVR5cGUsIG5nTW9kdWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBmbHVzaGluZ01vZHVsZVF1ZXVlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgdHJ1dGh5IGlmIGEgZGVjbGFyYXRpb24gaGFzIHJlc29sdmVkLiBJZiB0aGUgZGVjbGFyYXRpb24gaGFwcGVucyB0byBiZVxuICogYW4gYXJyYXkgb2YgZGVjbGFyYXRpb25zLCBpdCB3aWxsIHJlY3Vyc2UgdG8gY2hlY2sgZWFjaCBkZWNsYXJhdGlvbiBpbiB0aGF0IGFycmF5XG4gKiAod2hpY2ggbWF5IGFsc28gYmUgYXJyYXlzKS5cbiAqL1xuZnVuY3Rpb24gaXNSZXNvbHZlZERlY2xhcmF0aW9uKGRlY2xhcmF0aW9uKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGVjbGFyYXRpb24pKSB7XG4gICAgICAgIHJldHVybiBkZWNsYXJhdGlvbi5ldmVyeShpc1Jlc29sdmVkRGVjbGFyYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gISFyZXNvbHZlRm9yd2FyZFJlZihkZWNsYXJhdGlvbik7XG59XG4vKipcbiAqIENvbXBpbGVzIGEgbW9kdWxlIGluIEpJVCBtb2RlLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gYXV0b21hdGljYWxseSBnZXRzIGNhbGxlZCB3aGVuIGEgY2xhc3MgaGFzIGEgYEBOZ01vZHVsZWAgZGVjb3JhdG9yLlxuICovXG5mdW5jdGlvbiBjb21waWxlTmdNb2R1bGUobW9kdWxlVHlwZSwgbmdNb2R1bGUgPSB7fSkge1xuICAgIGNvbXBpbGVOZ01vZHVsZURlZnMobW9kdWxlVHlwZSwgbmdNb2R1bGUpO1xuICAgIC8vIEJlY2F1c2Ugd2UgZG9uJ3Qga25vdyBpZiBhbGwgZGVjbGFyYXRpb25zIGhhdmUgcmVzb2x2ZWQgeWV0IGF0IHRoZSBtb21lbnQgdGhlXG4gICAgLy8gTmdNb2R1bGUgZGVjb3JhdG9yIGlzIGV4ZWN1dGluZywgd2UncmUgZW5xdWV1ZWluZyB0aGUgc2V0dGluZyBvZiBtb2R1bGUgc2NvcGVcbiAgICAvLyBvbiBpdHMgZGVjbGFyYXRpb25zIHRvIGJlIHJ1biBhdCBhIGxhdGVyIHRpbWUgd2hlbiBhbGwgZGVjbGFyYXRpb25zIGZvciB0aGUgbW9kdWxlLFxuICAgIC8vIGluY2x1ZGluZyBmb3J3YXJkIHJlZnMsIGhhdmUgcmVzb2x2ZWQuXG4gICAgZW5xdWV1ZU1vZHVsZUZvckRlbGF5ZWRTY29waW5nKG1vZHVsZVR5cGUsIG5nTW9kdWxlKTtcbn1cbi8qKlxuICogQ29tcGlsZXMgYW5kIGFkZHMgdGhlIGDJtW1vZGAsIGDJtWZhY2AgYW5kIGDJtWluamAgcHJvcGVydGllcyB0byB0aGUgbW9kdWxlIGNsYXNzLlxuICpcbiAqIEl0J3MgcG9zc2libGUgdG8gY29tcGlsZSBhIG1vZHVsZSB2aWEgdGhpcyBBUEkgd2hpY2ggd2lsbCBhbGxvdyBkdXBsaWNhdGUgZGVjbGFyYXRpb25zIGluIGl0c1xuICogcm9vdC5cbiAqL1xuZnVuY3Rpb24gY29tcGlsZU5nTW9kdWxlRGVmcyhtb2R1bGVUeXBlLCBuZ01vZHVsZSwgYWxsb3dEdXBsaWNhdGVEZWNsYXJhdGlvbnNJblJvb3QgPSBmYWxzZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKG1vZHVsZVR5cGUsICdSZXF1aXJlZCB2YWx1ZSBtb2R1bGVUeXBlJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobmdNb2R1bGUsICdSZXF1aXJlZCB2YWx1ZSBuZ01vZHVsZScpO1xuICAgIGNvbnN0IGRlY2xhcmF0aW9ucyA9IGZsYXR0ZW4obmdNb2R1bGUuZGVjbGFyYXRpb25zIHx8IEVNUFRZX0FSUkFZKTtcbiAgICBsZXQgbmdNb2R1bGVEZWYgPSBudWxsO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGVUeXBlLCBOR19NT0RfREVGLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobmdNb2R1bGVEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobmdEZXZNb2RlICYmIG5nTW9kdWxlLmltcG9ydHMgJiYgbmdNb2R1bGUuaW1wb3J0cy5pbmRleE9mKG1vZHVsZVR5cGUpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBhc3NlcnQgdGhpcyBpbW1lZGlhdGVseSwgYmVjYXVzZSBhbGxvd2luZyBpdCB0byBjb250aW51ZSB3aWxsIGNhdXNlIGl0IHRvXG4gICAgICAgICAgICAgICAgICAgIC8vIGdvIGludG8gYW4gaW5maW5pdGUgbG9vcCBiZWZvcmUgd2UndmUgcmVhY2hlZCB0aGUgcG9pbnQgd2hlcmUgd2UgdGhyb3cgYWxsIHRoZSBlcnJvcnMuXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7c3RyaW5naWZ5Rm9yRXJyb3IobW9kdWxlVHlwZSl9JyBtb2R1bGUgY2FuJ3QgaW1wb3J0IGl0c2VsZmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnTmdNb2R1bGUnLCB0eXBlOiBtb2R1bGVUeXBlIH0pO1xuICAgICAgICAgICAgICAgIG5nTW9kdWxlRGVmID0gY29tcGlsZXIuY29tcGlsZU5nTW9kdWxlKGFuZ3VsYXJDb3JlRW52LCBgbmc6Ly8vJHttb2R1bGVUeXBlLm5hbWV9L8m1bW9kLmpzYCwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBtb2R1bGVUeXBlLFxuICAgICAgICAgICAgICAgICAgICBib290c3RyYXA6IGZsYXR0ZW4obmdNb2R1bGUuYm9vdHN0cmFwIHx8IEVNUFRZX0FSUkFZKS5tYXAocmVzb2x2ZUZvcndhcmRSZWYpLFxuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IGRlY2xhcmF0aW9ucy5tYXAocmVzb2x2ZUZvcndhcmRSZWYpLFxuICAgICAgICAgICAgICAgICAgICBpbXBvcnRzOiBmbGF0dGVuKG5nTW9kdWxlLmltcG9ydHMgfHwgRU1QVFlfQVJSQVkpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKHJlc29sdmVGb3J3YXJkUmVmKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChleHBhbmRNb2R1bGVXaXRoUHJvdmlkZXJzKSxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogZmxhdHRlbihuZ01vZHVsZS5leHBvcnRzIHx8IEVNUFRZX0FSUkFZKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChyZXNvbHZlRm9yd2FyZFJlZilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZXhwYW5kTW9kdWxlV2l0aFByb3ZpZGVycyksXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYXM6IG5nTW9kdWxlLnNjaGVtYXMgPyBmbGF0dGVuKG5nTW9kdWxlLnNjaGVtYXMpIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG5nTW9kdWxlLmlkIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gU2V0IGBzY2hlbWFzYCBvbiBuZ01vZHVsZURlZiB0byBhbiBlbXB0eSBhcnJheSBpbiBKSVQgbW9kZSB0byBpbmRpY2F0ZSB0aGF0IHJ1bnRpbWVcbiAgICAgICAgICAgICAgICAvLyBzaG91bGQgdmVyaWZ5IHRoYXQgdGhlcmUgYXJlIG5vIHVua25vd24gZWxlbWVudHMgaW4gYSB0ZW1wbGF0ZS4gSW4gQU9UIG1vZGUsIHRoYXQgY2hlY2tcbiAgICAgICAgICAgICAgICAvLyBoYXBwZW5zIGF0IGNvbXBpbGUgdGltZSBhbmQgYHNjaGVtYXNgIGluZm9ybWF0aW9uIGlzIG5vdCBwcmVzZW50IG9uIENvbXBvbmVudCBhbmQgTW9kdWxlXG4gICAgICAgICAgICAgICAgLy8gZGVmcyBhZnRlciBjb21waWxhdGlvbiAoc28gdGhlIGNoZWNrIGRvZXNuJ3QgaGFwcGVuIHRoZSBzZWNvbmQgdGltZSBhdCBydW50aW1lKS5cbiAgICAgICAgICAgICAgICBpZiAoIW5nTW9kdWxlRGVmLnNjaGVtYXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbmdNb2R1bGVEZWYuc2NoZW1hcyA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ01vZHVsZURlZjtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGxldCBuZ0ZhY3RvcnlEZWYgPSBudWxsO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGVUeXBlLCBOR19GQUNUT1JZX0RFRiwge1xuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChuZ0ZhY3RvcnlEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnTmdNb2R1bGUnLCB0eXBlOiBtb2R1bGVUeXBlIH0pO1xuICAgICAgICAgICAgICAgIG5nRmFjdG9yeURlZiA9IGNvbXBpbGVyLmNvbXBpbGVGYWN0b3J5KGFuZ3VsYXJDb3JlRW52LCBgbmc6Ly8vJHttb2R1bGVUeXBlLm5hbWV9L8m1ZmFjLmpzYCwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBtb2R1bGVUeXBlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG1vZHVsZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGRlcHM6IHJlZmxlY3REZXBlbmRlbmNpZXMobW9kdWxlVHlwZSksXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogY29tcGlsZXIuRmFjdG9yeVRhcmdldC5OZ01vZHVsZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZUFyZ3VtZW50Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmdGYWN0b3J5RGVmO1xuICAgICAgICB9LFxuICAgICAgICAvLyBNYWtlIHRoZSBwcm9wZXJ0eSBjb25maWd1cmFibGUgaW4gZGV2IG1vZGUgdG8gYWxsb3cgb3ZlcnJpZGluZyBpbiB0ZXN0c1xuICAgICAgICBjb25maWd1cmFibGU6ICEhbmdEZXZNb2RlLFxuICAgIH0pO1xuICAgIGxldCBuZ0luamVjdG9yRGVmID0gbnVsbDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlVHlwZSwgTkdfSU5KX0RFRiwge1xuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChuZ0luamVjdG9yRGVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgIHZlcmlmeVNlbWFudGljc09mTmdNb2R1bGVEZWYobW9kdWxlVHlwZSwgYWxsb3dEdXBsaWNhdGVEZWNsYXJhdGlvbnNJblJvb3QpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG1vZHVsZVR5cGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbW9kdWxlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBuZ01vZHVsZS5wcm92aWRlcnMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIChuZ01vZHVsZS5pbXBvcnRzIHx8IEVNUFRZX0FSUkFZKS5tYXAocmVzb2x2ZUZvcndhcmRSZWYpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKG5nTW9kdWxlLmV4cG9ydHMgfHwgRU1QVFlfQVJSQVkpLm1hcChyZXNvbHZlRm9yd2FyZFJlZiksXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnTmdNb2R1bGUnLCB0eXBlOiBtb2R1bGVUeXBlIH0pO1xuICAgICAgICAgICAgICAgIG5nSW5qZWN0b3JEZWYgPVxuICAgICAgICAgICAgICAgICAgICBjb21waWxlci5jb21waWxlSW5qZWN0b3IoYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke21vZHVsZVR5cGUubmFtZX0vybVpbmouanNgLCBtZXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ0luamVjdG9yRGVmO1xuICAgICAgICB9LFxuICAgICAgICAvLyBNYWtlIHRoZSBwcm9wZXJ0eSBjb25maWd1cmFibGUgaW4gZGV2IG1vZGUgdG8gYWxsb3cgb3ZlcnJpZGluZyBpbiB0ZXN0c1xuICAgICAgICBjb25maWd1cmFibGU6ICEhbmdEZXZNb2RlLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gdmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZURlZihtb2R1bGVUeXBlLCBhbGxvd0R1cGxpY2F0ZURlY2xhcmF0aW9uc0luUm9vdCwgaW1wb3J0aW5nTW9kdWxlKSB7XG4gICAgaWYgKHZlcmlmaWVkTmdNb2R1bGUuZ2V0KG1vZHVsZVR5cGUpKVxuICAgICAgICByZXR1cm47XG4gICAgdmVyaWZpZWROZ01vZHVsZS5zZXQobW9kdWxlVHlwZSwgdHJ1ZSk7XG4gICAgbW9kdWxlVHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKG1vZHVsZVR5cGUpO1xuICAgIGxldCBuZ01vZHVsZURlZjtcbiAgICBpZiAoaW1wb3J0aW5nTW9kdWxlKSB7XG4gICAgICAgIG5nTW9kdWxlRGVmID0gZ2V0TmdNb2R1bGVEZWYobW9kdWxlVHlwZSk7XG4gICAgICAgIGlmICghbmdNb2R1bGVEZWYpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB2YWx1ZSAnJHttb2R1bGVUeXBlLm5hbWV9JyBpbXBvcnRlZCBieSB0aGUgbW9kdWxlICcke2ltcG9ydGluZ01vZHVsZS5uYW1lfScuIFBsZWFzZSBhZGQgYW4gQE5nTW9kdWxlIGFubm90YXRpb24uYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nTW9kdWxlRGVmID0gZ2V0TmdNb2R1bGVEZWYobW9kdWxlVHlwZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgIGNvbnN0IGRlY2xhcmF0aW9ucyA9IG1heWJlVW53cmFwRm4obmdNb2R1bGVEZWYuZGVjbGFyYXRpb25zKTtcbiAgICBjb25zdCBpbXBvcnRzID0gbWF5YmVVbndyYXBGbihuZ01vZHVsZURlZi5pbXBvcnRzKTtcbiAgICBmbGF0dGVuKGltcG9ydHMpLm1hcCh1bndyYXBNb2R1bGVXaXRoUHJvdmlkZXJzSW1wb3J0cykuZm9yRWFjaChtb2QgPT4ge1xuICAgICAgICB2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlSW1wb3J0KG1vZCwgbW9kdWxlVHlwZSk7XG4gICAgICAgIHZlcmlmeVNlbWFudGljc09mTmdNb2R1bGVEZWYobW9kLCBmYWxzZSwgbW9kdWxlVHlwZSk7XG4gICAgfSk7XG4gICAgY29uc3QgZXhwb3J0cyA9IG1heWJlVW53cmFwRm4obmdNb2R1bGVEZWYuZXhwb3J0cyk7XG4gICAgZGVjbGFyYXRpb25zLmZvckVhY2godmVyaWZ5RGVjbGFyYXRpb25zSGF2ZURlZmluaXRpb25zKTtcbiAgICBkZWNsYXJhdGlvbnMuZm9yRWFjaCh2ZXJpZnlEaXJlY3RpdmVzSGF2ZVNlbGVjdG9yKTtcbiAgICBjb25zdCBjb21iaW5lZERlY2xhcmF0aW9ucyA9IFtcbiAgICAgICAgLi4uZGVjbGFyYXRpb25zLm1hcChyZXNvbHZlRm9yd2FyZFJlZiksXG4gICAgICAgIC4uLmZsYXR0ZW4oaW1wb3J0cy5tYXAoY29tcHV0ZUNvbWJpbmVkRXhwb3J0cykpLm1hcChyZXNvbHZlRm9yd2FyZFJlZiksXG4gICAgXTtcbiAgICBleHBvcnRzLmZvckVhY2godmVyaWZ5RXhwb3J0c0FyZURlY2xhcmVkT3JSZUV4cG9ydGVkKTtcbiAgICBkZWNsYXJhdGlvbnMuZm9yRWFjaChkZWNsID0+IHZlcmlmeURlY2xhcmF0aW9uSXNVbmlxdWUoZGVjbCwgYWxsb3dEdXBsaWNhdGVEZWNsYXJhdGlvbnNJblJvb3QpKTtcbiAgICBkZWNsYXJhdGlvbnMuZm9yRWFjaCh2ZXJpZnlDb21wb25lbnRFbnRyeUNvbXBvbmVudHNJc1BhcnRPZk5nTW9kdWxlKTtcbiAgICBjb25zdCBuZ01vZHVsZSA9IGdldEFubm90YXRpb24obW9kdWxlVHlwZSwgJ05nTW9kdWxlJyk7XG4gICAgaWYgKG5nTW9kdWxlKSB7XG4gICAgICAgIG5nTW9kdWxlLmltcG9ydHMgJiZcbiAgICAgICAgICAgIGZsYXR0ZW4obmdNb2R1bGUuaW1wb3J0cykubWFwKHVud3JhcE1vZHVsZVdpdGhQcm92aWRlcnNJbXBvcnRzKS5mb3JFYWNoKG1vZCA9PiB7XG4gICAgICAgICAgICAgICAgdmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZUltcG9ydChtb2QsIG1vZHVsZVR5cGUpO1xuICAgICAgICAgICAgICAgIHZlcmlmeVNlbWFudGljc09mTmdNb2R1bGVEZWYobW9kLCBmYWxzZSwgbW9kdWxlVHlwZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgbmdNb2R1bGUuYm9vdHN0cmFwICYmIGRlZXBGb3JFYWNoKG5nTW9kdWxlLmJvb3RzdHJhcCwgdmVyaWZ5Q29ycmVjdEJvb3RzdHJhcFR5cGUpO1xuICAgICAgICBuZ01vZHVsZS5ib290c3RyYXAgJiYgZGVlcEZvckVhY2gobmdNb2R1bGUuYm9vdHN0cmFwLCB2ZXJpZnlDb21wb25lbnRJc1BhcnRPZk5nTW9kdWxlKTtcbiAgICAgICAgbmdNb2R1bGUuZW50cnlDb21wb25lbnRzICYmXG4gICAgICAgICAgICBkZWVwRm9yRWFjaChuZ01vZHVsZS5lbnRyeUNvbXBvbmVudHMsIHZlcmlmeUNvbXBvbmVudElzUGFydE9mTmdNb2R1bGUpO1xuICAgIH1cbiAgICAvLyBUaHJvdyBFcnJvciBpZiBhbnkgZXJyb3JzIHdlcmUgZGV0ZWN0ZWQuXG4gICAgaWYgKGVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9ycy5qb2luKCdcXG4nKSk7XG4gICAgfVxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIGZ1bmN0aW9uIHZlcmlmeURlY2xhcmF0aW9uc0hhdmVEZWZpbml0aW9ucyh0eXBlKSB7XG4gICAgICAgIHR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlKTtcbiAgICAgICAgY29uc3QgZGVmID0gZ2V0Q29tcG9uZW50RGVmKHR5cGUpIHx8IGdldERpcmVjdGl2ZURlZih0eXBlKSB8fCBnZXRQaXBlRGVmJDEodHlwZSk7XG4gICAgICAgIGlmICghZGVmKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChgVW5leHBlY3RlZCB2YWx1ZSAnJHtzdHJpbmdpZnlGb3JFcnJvcih0eXBlKX0nIGRlY2xhcmVkIGJ5IHRoZSBtb2R1bGUgJyR7c3RyaW5naWZ5Rm9yRXJyb3IobW9kdWxlVHlwZSl9Jy4gUGxlYXNlIGFkZCBhIEBQaXBlL0BEaXJlY3RpdmUvQENvbXBvbmVudCBhbm5vdGF0aW9uLmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZlcmlmeURpcmVjdGl2ZXNIYXZlU2VsZWN0b3IodHlwZSkge1xuICAgICAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgICAgIGNvbnN0IGRlZiA9IGdldERpcmVjdGl2ZURlZih0eXBlKTtcbiAgICAgICAgaWYgKCFnZXRDb21wb25lbnREZWYodHlwZSkgJiYgZGVmICYmIGRlZi5zZWxlY3RvcnMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKGBEaXJlY3RpdmUgJHtzdHJpbmdpZnlGb3JFcnJvcih0eXBlKX0gaGFzIG5vIHNlbGVjdG9yLCBwbGVhc2UgYWRkIGl0IWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZlcmlmeUV4cG9ydHNBcmVEZWNsYXJlZE9yUmVFeHBvcnRlZCh0eXBlKSB7XG4gICAgICAgIHR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlKTtcbiAgICAgICAgY29uc3Qga2luZCA9IGdldENvbXBvbmVudERlZih0eXBlKSAmJiAnY29tcG9uZW50JyB8fCBnZXREaXJlY3RpdmVEZWYodHlwZSkgJiYgJ2RpcmVjdGl2ZScgfHxcbiAgICAgICAgICAgIGdldFBpcGVEZWYkMSh0eXBlKSAmJiAncGlwZSc7XG4gICAgICAgIGlmIChraW5kKSB7XG4gICAgICAgICAgICAvLyBvbmx5IGNoZWNrZWQgaWYgd2UgYXJlIGRlY2xhcmVkIGFzIENvbXBvbmVudCwgRGlyZWN0aXZlLCBvciBQaXBlXG4gICAgICAgICAgICAvLyBNb2R1bGVzIGRvbid0IG5lZWQgdG8gYmUgZGVjbGFyZWQgb3IgaW1wb3J0ZWQuXG4gICAgICAgICAgICBpZiAoY29tYmluZWREZWNsYXJhdGlvbnMubGFzdEluZGV4T2YodHlwZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXJlIGV4cG9ydGluZyBzb21ldGhpbmcgd2hpY2ggd2UgZG9uJ3QgZXhwbGljaXRseSBkZWNsYXJlIG9yIGltcG9ydC5cbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChgQ2FuJ3QgZXhwb3J0ICR7a2luZH0gJHtzdHJpbmdpZnlGb3JFcnJvcih0eXBlKX0gZnJvbSAke3N0cmluZ2lmeUZvckVycm9yKG1vZHVsZVR5cGUpfSBhcyBpdCB3YXMgbmVpdGhlciBkZWNsYXJlZCBub3IgaW1wb3J0ZWQhYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdmVyaWZ5RGVjbGFyYXRpb25Jc1VuaXF1ZSh0eXBlLCBzdXBwcmVzc0Vycm9ycykge1xuICAgICAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nTW9kdWxlID0gb3duZXJOZ01vZHVsZS5nZXQodHlwZSk7XG4gICAgICAgIGlmIChleGlzdGluZ01vZHVsZSAmJiBleGlzdGluZ01vZHVsZSAhPT0gbW9kdWxlVHlwZSkge1xuICAgICAgICAgICAgaWYgKCFzdXBwcmVzc0Vycm9ycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZHVsZXMgPSBbZXhpc3RpbmdNb2R1bGUsIG1vZHVsZVR5cGVdLm1hcChzdHJpbmdpZnlGb3JFcnJvcikuc29ydCgpO1xuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGBUeXBlICR7c3RyaW5naWZ5Rm9yRXJyb3IodHlwZSl9IGlzIHBhcnQgb2YgdGhlIGRlY2xhcmF0aW9ucyBvZiAyIG1vZHVsZXM6ICR7bW9kdWxlc1swXX0gYW5kICR7bW9kdWxlc1sxXX0hIGAgK1xuICAgICAgICAgICAgICAgICAgICBgUGxlYXNlIGNvbnNpZGVyIG1vdmluZyAke3N0cmluZ2lmeUZvckVycm9yKHR5cGUpfSB0byBhIGhpZ2hlciBtb2R1bGUgdGhhdCBpbXBvcnRzICR7bW9kdWxlc1swXX0gYW5kICR7bW9kdWxlc1sxXX0uIGAgK1xuICAgICAgICAgICAgICAgICAgICBgWW91IGNhbiBhbHNvIGNyZWF0ZSBhIG5ldyBOZ01vZHVsZSB0aGF0IGV4cG9ydHMgYW5kIGluY2x1ZGVzICR7c3RyaW5naWZ5Rm9yRXJyb3IodHlwZSl9IHRoZW4gaW1wb3J0IHRoYXQgTmdNb2R1bGUgaW4gJHttb2R1bGVzWzBdfSBhbmQgJHttb2R1bGVzWzFdfS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE1hcmsgdHlwZSBhcyBoYXZpbmcgb3duZXIuXG4gICAgICAgICAgICBvd25lck5nTW9kdWxlLnNldCh0eXBlLCBtb2R1bGVUeXBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2ZXJpZnlDb21wb25lbnRJc1BhcnRPZk5nTW9kdWxlKHR5cGUpIHtcbiAgICAgICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgICAgICBjb25zdCBleGlzdGluZ01vZHVsZSA9IG93bmVyTmdNb2R1bGUuZ2V0KHR5cGUpO1xuICAgICAgICBpZiAoIWV4aXN0aW5nTW9kdWxlKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChgQ29tcG9uZW50ICR7c3RyaW5naWZ5Rm9yRXJyb3IodHlwZSl9IGlzIG5vdCBwYXJ0IG9mIGFueSBOZ01vZHVsZSBvciB0aGUgbW9kdWxlIGhhcyBub3QgYmVlbiBpbXBvcnRlZCBpbnRvIHlvdXIgbW9kdWxlLmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZlcmlmeUNvcnJlY3RCb290c3RyYXBUeXBlKHR5cGUpIHtcbiAgICAgICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgICAgICBpZiAoIWdldENvbXBvbmVudERlZih0eXBlKSkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goYCR7c3RyaW5naWZ5Rm9yRXJyb3IodHlwZSl9IGNhbm5vdCBiZSB1c2VkIGFzIGFuIGVudHJ5IGNvbXBvbmVudC5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2ZXJpZnlDb21wb25lbnRFbnRyeUNvbXBvbmVudHNJc1BhcnRPZk5nTW9kdWxlKHR5cGUpIHtcbiAgICAgICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgICAgICBpZiAoZ2V0Q29tcG9uZW50RGVmKHR5cGUpKSB7XG4gICAgICAgICAgICAvLyBXZSBrbm93IHdlIGFyZSBjb21wb25lbnRcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGdldEFubm90YXRpb24odHlwZSwgJ0NvbXBvbmVudCcpO1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCAmJiBjb21wb25lbnQuZW50cnlDb21wb25lbnRzKSB7XG4gICAgICAgICAgICAgICAgZGVlcEZvckVhY2goY29tcG9uZW50LmVudHJ5Q29tcG9uZW50cywgdmVyaWZ5Q29tcG9uZW50SXNQYXJ0T2ZOZ01vZHVsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZUltcG9ydCh0eXBlLCBpbXBvcnRpbmdNb2R1bGUpIHtcbiAgICAgICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgICAgICBpZiAoZ2V0Q29tcG9uZW50RGVmKHR5cGUpIHx8IGdldERpcmVjdGl2ZURlZih0eXBlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGRpcmVjdGl2ZSAnJHt0eXBlLm5hbWV9JyBpbXBvcnRlZCBieSB0aGUgbW9kdWxlICcke2ltcG9ydGluZ01vZHVsZS5uYW1lfScuIFBsZWFzZSBhZGQgYW4gQE5nTW9kdWxlIGFubm90YXRpb24uYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdldFBpcGVEZWYkMSh0eXBlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHBpcGUgJyR7dHlwZS5uYW1lfScgaW1wb3J0ZWQgYnkgdGhlIG1vZHVsZSAnJHtpbXBvcnRpbmdNb2R1bGUubmFtZX0nLiBQbGVhc2UgYWRkIGFuIEBOZ01vZHVsZSBhbm5vdGF0aW9uLmApO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdW53cmFwTW9kdWxlV2l0aFByb3ZpZGVyc0ltcG9ydHModHlwZU9yV2l0aFByb3ZpZGVycykge1xuICAgIHR5cGVPcldpdGhQcm92aWRlcnMgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlT3JXaXRoUHJvdmlkZXJzKTtcbiAgICByZXR1cm4gdHlwZU9yV2l0aFByb3ZpZGVycy5uZ01vZHVsZSB8fCB0eXBlT3JXaXRoUHJvdmlkZXJzO1xufVxuZnVuY3Rpb24gZ2V0QW5ub3RhdGlvbih0eXBlLCBuYW1lKSB7XG4gICAgbGV0IGFubm90YXRpb24gPSBudWxsO1xuICAgIGNvbGxlY3QodHlwZS5fX2Fubm90YXRpb25zX18pO1xuICAgIGNvbGxlY3QodHlwZS5kZWNvcmF0b3JzKTtcbiAgICByZXR1cm4gYW5ub3RhdGlvbjtcbiAgICBmdW5jdGlvbiBjb2xsZWN0KGFubm90YXRpb25zKSB7XG4gICAgICAgIGlmIChhbm5vdGF0aW9ucykge1xuICAgICAgICAgICAgYW5ub3RhdGlvbnMuZm9yRWFjaChyZWFkQW5ub3RhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZEFubm90YXRpb24oZGVjb3JhdG9yKSB7XG4gICAgICAgIGlmICghYW5ub3RhdGlvbikge1xuICAgICAgICAgICAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGVjb3JhdG9yKTtcbiAgICAgICAgICAgIGlmIChwcm90by5uZ01ldGFkYXRhTmFtZSA9PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbiA9IGRlY29yYXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRlY29yYXRvci50eXBlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGVjb3JhdG9yLnR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChwcm90by5uZ01ldGFkYXRhTmFtZSA9PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb24gPSBkZWNvcmF0b3IuYXJnc1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEtlZXAgdHJhY2sgb2YgY29tcGlsZWQgY29tcG9uZW50cy4gVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSBpbiB0ZXN0cyB3ZSBvZnRlbiB3YW50IHRvIGNvbXBpbGUgdGhlXG4gKiBzYW1lIGNvbXBvbmVudCB3aXRoIG1vcmUgdGhhbiBvbmUgTmdNb2R1bGUuIFRoaXMgd291bGQgY2F1c2UgYW4gZXJyb3IgdW5sZXNzIHdlIHJlc2V0IHdoaWNoXG4gKiBOZ01vZHVsZSB0aGUgY29tcG9uZW50IGJlbG9uZ3MgdG8uIFdlIGtlZXAgdGhlIGxpc3Qgb2YgY29tcGlsZWQgY29tcG9uZW50cyBoZXJlIHNvIHRoYXQgdGhlXG4gKiBUZXN0QmVkIGNhbiByZXNldCBpdCBsYXRlci5cbiAqL1xubGV0IG93bmVyTmdNb2R1bGUgPSBuZXcgV2Vha01hcCgpO1xubGV0IHZlcmlmaWVkTmdNb2R1bGUgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gcmVzZXRDb21waWxlZENvbXBvbmVudHMoKSB7XG4gICAgb3duZXJOZ01vZHVsZSA9IG5ldyBXZWFrTWFwKCk7XG4gICAgdmVyaWZpZWROZ01vZHVsZSA9IG5ldyBXZWFrTWFwKCk7XG4gICAgbW9kdWxlUXVldWUubGVuZ3RoID0gMDtcbn1cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGNvbWJpbmVkIGRlY2xhcmF0aW9ucyBvZiBleHBsaWNpdCBkZWNsYXJhdGlvbnMsIGFzIHdlbGwgYXMgZGVjbGFyYXRpb25zIGluaGVyaXRlZCBieVxuICogdHJhdmVyc2luZyB0aGUgZXhwb3J0cyBvZiBpbXBvcnRlZCBtb2R1bGVzLlxuICogQHBhcmFtIHR5cGVcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUNvbWJpbmVkRXhwb3J0cyh0eXBlKSB7XG4gICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgIGNvbnN0IG5nTW9kdWxlRGVmID0gZ2V0TmdNb2R1bGVEZWYodHlwZSwgdHJ1ZSk7XG4gICAgcmV0dXJuIFsuLi5mbGF0dGVuKG1heWJlVW53cmFwRm4obmdNb2R1bGVEZWYuZXhwb3J0cykubWFwKCh0eXBlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZ01vZHVsZURlZiA9IGdldE5nTW9kdWxlRGVmKHR5cGUpO1xuICAgICAgICAgICAgaWYgKG5nTW9kdWxlRGVmKSB7XG4gICAgICAgICAgICAgICAgdmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZURlZih0eXBlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVDb21iaW5lZEV4cG9ydHModHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpXTtcbn1cbi8qKlxuICogU29tZSBkZWNsYXJlZCBjb21wb25lbnRzIG1heSBiZSBjb21waWxlZCBhc3luY2hyb25vdXNseSwgYW5kIHRodXMgbWF5IG5vdCBoYXZlIHRoZWlyXG4gKiDJtWNtcCBzZXQgeWV0LiBJZiB0aGlzIGlzIHRoZSBjYXNlLCB0aGVuIGEgcmVmZXJlbmNlIHRvIHRoZSBtb2R1bGUgaXMgd3JpdHRlbiBpbnRvXG4gKiB0aGUgYG5nU2VsZWN0b3JTY29wZWAgcHJvcGVydHkgb2YgdGhlIGRlY2xhcmVkIHR5cGUuXG4gKi9cbmZ1bmN0aW9uIHNldFNjb3BlT25EZWNsYXJlZENvbXBvbmVudHMobW9kdWxlVHlwZSwgbmdNb2R1bGUpIHtcbiAgICBjb25zdCBkZWNsYXJhdGlvbnMgPSBmbGF0dGVuKG5nTW9kdWxlLmRlY2xhcmF0aW9ucyB8fCBFTVBUWV9BUlJBWSk7XG4gICAgY29uc3QgdHJhbnNpdGl2ZVNjb3BlcyA9IHRyYW5zaXRpdmVTY29wZXNGb3IobW9kdWxlVHlwZSk7XG4gICAgZGVjbGFyYXRpb25zLmZvckVhY2goZGVjbGFyYXRpb24gPT4ge1xuICAgICAgICBpZiAoZGVjbGFyYXRpb24uaGFzT3duUHJvcGVydHkoTkdfQ09NUF9ERUYpKSB7XG4gICAgICAgICAgICAvLyBBIGDJtWNtcGAgZmllbGQgZXhpc3RzIC0gZ28gYWhlYWQgYW5kIHBhdGNoIHRoZSBjb21wb25lbnQgZGlyZWN0bHkuXG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBkZWNsYXJhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudERlZiA9IGdldENvbXBvbmVudERlZihjb21wb25lbnQpO1xuICAgICAgICAgICAgcGF0Y2hDb21wb25lbnREZWZXaXRoU2NvcGUoY29tcG9uZW50RGVmLCB0cmFuc2l0aXZlU2NvcGVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghZGVjbGFyYXRpb24uaGFzT3duUHJvcGVydHkoTkdfRElSX0RFRikgJiYgIWRlY2xhcmF0aW9uLmhhc093blByb3BlcnR5KE5HX1BJUEVfREVGKSkge1xuICAgICAgICAgICAgLy8gU2V0IGBuZ1NlbGVjdG9yU2NvcGVgIGZvciBmdXR1cmUgcmVmZXJlbmNlIHdoZW4gdGhlIGNvbXBvbmVudCBjb21waWxhdGlvbiBmaW5pc2hlcy5cbiAgICAgICAgICAgIGRlY2xhcmF0aW9uLm5nU2VsZWN0b3JTY29wZSA9IG1vZHVsZVR5cGU7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogUGF0Y2ggdGhlIGRlZmluaXRpb24gb2YgYSBjb21wb25lbnQgd2l0aCBkaXJlY3RpdmVzIGFuZCBwaXBlcyBmcm9tIHRoZSBjb21waWxhdGlvbiBzY29wZSBvZlxuICogYSBnaXZlbiBtb2R1bGUuXG4gKi9cbmZ1bmN0aW9uIHBhdGNoQ29tcG9uZW50RGVmV2l0aFNjb3BlKGNvbXBvbmVudERlZiwgdHJhbnNpdGl2ZVNjb3Blcykge1xuICAgIGNvbXBvbmVudERlZi5kaXJlY3RpdmVEZWZzID0gKCkgPT4gQXJyYXkuZnJvbSh0cmFuc2l0aXZlU2NvcGVzLmNvbXBpbGF0aW9uLmRpcmVjdGl2ZXMpXG4gICAgICAgIC5tYXAoZGlyID0+IGRpci5oYXNPd25Qcm9wZXJ0eShOR19DT01QX0RFRikgPyBnZXRDb21wb25lbnREZWYoZGlyKSA6IGdldERpcmVjdGl2ZURlZihkaXIpKVxuICAgICAgICAuZmlsdGVyKGRlZiA9PiAhIWRlZik7XG4gICAgY29tcG9uZW50RGVmLnBpcGVEZWZzID0gKCkgPT4gQXJyYXkuZnJvbSh0cmFuc2l0aXZlU2NvcGVzLmNvbXBpbGF0aW9uLnBpcGVzKS5tYXAocGlwZSA9PiBnZXRQaXBlRGVmJDEocGlwZSkpO1xuICAgIGNvbXBvbmVudERlZi5zY2hlbWFzID0gdHJhbnNpdGl2ZVNjb3Blcy5zY2hlbWFzO1xuICAgIC8vIFNpbmNlIHdlIGF2b2lkIENvbXBvbmVudHMvRGlyZWN0aXZlcy9QaXBlcyByZWNvbXBpbGluZyBpbiBjYXNlIHRoZXJlIGFyZSBubyBvdmVycmlkZXMsIHdlXG4gICAgLy8gbWF5IGZhY2UgYSBwcm9ibGVtIHdoZXJlIHByZXZpb3VzbHkgY29tcGlsZWQgZGVmcyBhdmFpbGFibGUgdG8gYSBnaXZlbiBDb21wb25lbnQvRGlyZWN0aXZlXG4gICAgLy8gYXJlIGNhY2hlZCBpbiBUVmlldyBhbmQgbWF5IGJlY29tZSBzdGFsZSAoaW4gY2FzZSBhbnkgb2YgdGhlc2UgZGVmcyBnZXRzIHJlY29tcGlsZWQpLiBJblxuICAgIC8vIG9yZGVyIHRvIGF2b2lkIHRoaXMgcHJvYmxlbSwgd2UgZm9yY2UgZnJlc2ggVFZpZXcgdG8gYmUgY3JlYXRlZC5cbiAgICBjb21wb25lbnREZWYudFZpZXcgPSBudWxsO1xufVxuLyoqXG4gKiBDb21wdXRlIHRoZSBwYWlyIG9mIHRyYW5zaXRpdmUgc2NvcGVzIChjb21waWxhdGlvbiBzY29wZSBhbmQgZXhwb3J0ZWQgc2NvcGUpIGZvciBhIGdpdmVuIG1vZHVsZS5cbiAqXG4gKiBUaGlzIG9wZXJhdGlvbiBpcyBtZW1vaXplZCBhbmQgdGhlIHJlc3VsdCBpcyBjYWNoZWQgb24gdGhlIG1vZHVsZSdzIGRlZmluaXRpb24uIFRoaXMgZnVuY3Rpb24gY2FuXG4gKiBiZSBjYWxsZWQgb24gbW9kdWxlcyB3aXRoIGNvbXBvbmVudHMgdGhhdCBoYXZlIG5vdCBmdWxseSBjb21waWxlZCB5ZXQsIGJ1dCB0aGUgcmVzdWx0IHNob3VsZCBub3RcbiAqIGJlIHVzZWQgdW50aWwgdGhleSBoYXZlLlxuICpcbiAqIEBwYXJhbSBtb2R1bGVUeXBlIG1vZHVsZSB0aGF0IHRyYW5zaXRpdmUgc2NvcGUgc2hvdWxkIGJlIGNhbGN1bGF0ZWQgZm9yLlxuICovXG5mdW5jdGlvbiB0cmFuc2l0aXZlU2NvcGVzRm9yKG1vZHVsZVR5cGUpIHtcbiAgICBpZiAoIWlzTmdNb2R1bGUobW9kdWxlVHlwZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke21vZHVsZVR5cGUubmFtZX0gZG9lcyBub3QgaGF2ZSBhIG1vZHVsZSBkZWYgKMm1bW9kIHByb3BlcnR5KWApO1xuICAgIH1cbiAgICBjb25zdCBkZWYgPSBnZXROZ01vZHVsZURlZihtb2R1bGVUeXBlKTtcbiAgICBpZiAoZGVmLnRyYW5zaXRpdmVDb21waWxlU2NvcGVzICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBkZWYudHJhbnNpdGl2ZUNvbXBpbGVTY29wZXM7XG4gICAgfVxuICAgIGNvbnN0IHNjb3BlcyA9IHtcbiAgICAgICAgc2NoZW1hczogZGVmLnNjaGVtYXMgfHwgbnVsbCxcbiAgICAgICAgY29tcGlsYXRpb246IHtcbiAgICAgICAgICAgIGRpcmVjdGl2ZXM6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgIHBpcGVzOiBuZXcgU2V0KCksXG4gICAgICAgIH0sXG4gICAgICAgIGV4cG9ydGVkOiB7XG4gICAgICAgICAgICBkaXJlY3RpdmVzOiBuZXcgU2V0KCksXG4gICAgICAgICAgICBwaXBlczogbmV3IFNldCgpLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgbWF5YmVVbndyYXBGbihkZWYuaW1wb3J0cykuZm9yRWFjaCgoaW1wb3J0ZWQpID0+IHtcbiAgICAgICAgY29uc3QgaW1wb3J0ZWRUeXBlID0gaW1wb3J0ZWQ7XG4gICAgICAgIGlmICghaXNOZ01vZHVsZShpbXBvcnRlZFR5cGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEltcG9ydGluZyAke2ltcG9ydGVkVHlwZS5uYW1lfSB3aGljaCBkb2VzIG5vdCBoYXZlIGEgybVtb2QgcHJvcGVydHlgKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHRoaXMgbW9kdWxlIGltcG9ydHMgYW5vdGhlciwgdGhlIGltcG9ydGVkIG1vZHVsZSdzIGV4cG9ydGVkIGRpcmVjdGl2ZXMgYW5kIHBpcGVzIGFyZVxuICAgICAgICAvLyBhZGRlZCB0byB0aGUgY29tcGlsYXRpb24gc2NvcGUgb2YgdGhpcyBtb2R1bGUuXG4gICAgICAgIGNvbnN0IGltcG9ydGVkU2NvcGUgPSB0cmFuc2l0aXZlU2NvcGVzRm9yKGltcG9ydGVkVHlwZSk7XG4gICAgICAgIGltcG9ydGVkU2NvcGUuZXhwb3J0ZWQuZGlyZWN0aXZlcy5mb3JFYWNoKGVudHJ5ID0+IHNjb3Blcy5jb21waWxhdGlvbi5kaXJlY3RpdmVzLmFkZChlbnRyeSkpO1xuICAgICAgICBpbXBvcnRlZFNjb3BlLmV4cG9ydGVkLnBpcGVzLmZvckVhY2goZW50cnkgPT4gc2NvcGVzLmNvbXBpbGF0aW9uLnBpcGVzLmFkZChlbnRyeSkpO1xuICAgIH0pO1xuICAgIG1heWJlVW53cmFwRm4oZGVmLmRlY2xhcmF0aW9ucykuZm9yRWFjaChkZWNsYXJlZCA9PiB7XG4gICAgICAgIGNvbnN0IGRlY2xhcmVkV2l0aERlZnMgPSBkZWNsYXJlZDtcbiAgICAgICAgaWYgKGdldFBpcGVEZWYkMShkZWNsYXJlZFdpdGhEZWZzKSkge1xuICAgICAgICAgICAgc2NvcGVzLmNvbXBpbGF0aW9uLnBpcGVzLmFkZChkZWNsYXJlZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBFaXRoZXIgZGVjbGFyZWQgaGFzIGEgybVjbXAgb3IgybVkaXIsIG9yIGl0J3MgYSBjb21wb25lbnQgd2hpY2ggaGFzbid0XG4gICAgICAgICAgICAvLyBoYWQgaXRzIHRlbXBsYXRlIGNvbXBpbGVkIHlldC4gSW4gZWl0aGVyIGNhc2UsIGl0IGdldHMgYWRkZWQgdG8gdGhlIGNvbXBpbGF0aW9uJ3NcbiAgICAgICAgICAgIC8vIGRpcmVjdGl2ZXMuXG4gICAgICAgICAgICBzY29wZXMuY29tcGlsYXRpb24uZGlyZWN0aXZlcy5hZGQoZGVjbGFyZWQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgbWF5YmVVbndyYXBGbihkZWYuZXhwb3J0cykuZm9yRWFjaCgoZXhwb3J0ZWQpID0+IHtcbiAgICAgICAgY29uc3QgZXhwb3J0ZWRUeXBlID0gZXhwb3J0ZWQ7XG4gICAgICAgIC8vIEVpdGhlciB0aGUgdHlwZSBpcyBhIG1vZHVsZSwgYSBwaXBlLCBvciBhIGNvbXBvbmVudC9kaXJlY3RpdmUgKHdoaWNoIG1heSBub3QgaGF2ZSBhXG4gICAgICAgIC8vIMm1Y21wIGFzIGl0IG1pZ2h0IGJlIGNvbXBpbGVkIGFzeW5jaHJvbm91c2x5KS5cbiAgICAgICAgaWYgKGlzTmdNb2R1bGUoZXhwb3J0ZWRUeXBlKSkge1xuICAgICAgICAgICAgLy8gV2hlbiB0aGlzIG1vZHVsZSBleHBvcnRzIGFub3RoZXIsIHRoZSBleHBvcnRlZCBtb2R1bGUncyBleHBvcnRlZCBkaXJlY3RpdmVzIGFuZCBwaXBlcyBhcmVcbiAgICAgICAgICAgIC8vIGFkZGVkIHRvIGJvdGggdGhlIGNvbXBpbGF0aW9uIGFuZCBleHBvcnRlZCBzY29wZXMgb2YgdGhpcyBtb2R1bGUuXG4gICAgICAgICAgICBjb25zdCBleHBvcnRlZFNjb3BlID0gdHJhbnNpdGl2ZVNjb3Blc0ZvcihleHBvcnRlZFR5cGUpO1xuICAgICAgICAgICAgZXhwb3J0ZWRTY29wZS5leHBvcnRlZC5kaXJlY3RpdmVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICAgICAgICAgIHNjb3Blcy5jb21waWxhdGlvbi5kaXJlY3RpdmVzLmFkZChlbnRyeSk7XG4gICAgICAgICAgICAgICAgc2NvcGVzLmV4cG9ydGVkLmRpcmVjdGl2ZXMuYWRkKGVudHJ5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXhwb3J0ZWRTY29wZS5leHBvcnRlZC5waXBlcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgICAgICAgICBzY29wZXMuY29tcGlsYXRpb24ucGlwZXMuYWRkKGVudHJ5KTtcbiAgICAgICAgICAgICAgICBzY29wZXMuZXhwb3J0ZWQucGlwZXMuYWRkKGVudHJ5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdldFBpcGVEZWYkMShleHBvcnRlZFR5cGUpKSB7XG4gICAgICAgICAgICBzY29wZXMuZXhwb3J0ZWQucGlwZXMuYWRkKGV4cG9ydGVkVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzY29wZXMuZXhwb3J0ZWQuZGlyZWN0aXZlcy5hZGQoZXhwb3J0ZWRUeXBlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGRlZi50cmFuc2l0aXZlQ29tcGlsZVNjb3BlcyA9IHNjb3BlcztcbiAgICByZXR1cm4gc2NvcGVzO1xufVxuZnVuY3Rpb24gZXhwYW5kTW9kdWxlV2l0aFByb3ZpZGVycyh2YWx1ZSkge1xuICAgIGlmIChpc01vZHVsZVdpdGhQcm92aWRlcnModmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5uZ01vZHVsZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gaXNNb2R1bGVXaXRoUHJvdmlkZXJzKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLm5nTW9kdWxlICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBpc05nTW9kdWxlKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhZ2V0TmdNb2R1bGVEZWYodmFsdWUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogS2VlcCB0cmFjayBvZiB0aGUgY29tcGlsYXRpb24gZGVwdGggdG8gYXZvaWQgcmVlbnRyYW5jeSBpc3N1ZXMgZHVyaW5nIEpJVCBjb21waWxhdGlvbi4gVGhpc1xuICogbWF0dGVycyBpbiB0aGUgZm9sbG93aW5nIHNjZW5hcmlvOlxuICpcbiAqIENvbnNpZGVyIGEgY29tcG9uZW50ICdBJyB0aGF0IGV4dGVuZHMgY29tcG9uZW50ICdCJywgYm90aCBkZWNsYXJlZCBpbiBtb2R1bGUgJ00nLiBEdXJpbmdcbiAqIHRoZSBjb21waWxhdGlvbiBvZiAnQScgdGhlIGRlZmluaXRpb24gb2YgJ0InIGlzIHJlcXVlc3RlZCB0byBjYXB0dXJlIHRoZSBpbmhlcml0YW5jZSBjaGFpbixcbiAqIHBvdGVudGlhbGx5IHRyaWdnZXJpbmcgY29tcGlsYXRpb24gb2YgJ0InLiBJZiB0aGlzIG5lc3RlZCBjb21waWxhdGlvbiB3ZXJlIHRvIHRyaWdnZXJcbiAqIGBmbHVzaE1vZHVsZVNjb3BpbmdRdWV1ZUFzTXVjaEFzUG9zc2libGVgIGl0IG1heSBoYXBwZW4gdGhhdCBtb2R1bGUgJ00nIGlzIHN0aWxsIHBlbmRpbmcgaW4gdGhlXG4gKiBxdWV1ZSwgcmVzdWx0aW5nIGluICdBJyBhbmQgJ0InIHRvIGJlIHBhdGNoZWQgd2l0aCB0aGUgTmdNb2R1bGUgc2NvcGUuIEFzIHRoZSBjb21waWxhdGlvbiBvZlxuICogJ0EnIGlzIHN0aWxsIGluIHByb2dyZXNzLCB0aGlzIHdvdWxkIGludHJvZHVjZSBhIGNpcmN1bGFyIGRlcGVuZGVuY3kgb24gaXRzIGNvbXBpbGF0aW9uLiBUbyBhdm9pZFxuICogdGhpcyBpc3N1ZSwgdGhlIG1vZHVsZSBzY29wZSBxdWV1ZSBpcyBvbmx5IGZsdXNoZWQgZm9yIGNvbXBpbGF0aW9ucyBhdCB0aGUgZGVwdGggMCwgdG8gZW5zdXJlXG4gKiBhbGwgY29tcGlsYXRpb25zIGhhdmUgZmluaXNoZWQuXG4gKi9cbmxldCBjb21waWxhdGlvbkRlcHRoID0gMDtcbi8qKlxuICogQ29tcGlsZSBhbiBBbmd1bGFyIGNvbXBvbmVudCBhY2NvcmRpbmcgdG8gaXRzIGRlY29yYXRvciBtZXRhZGF0YSwgYW5kIHBhdGNoIHRoZSByZXN1bHRpbmdcbiAqIGNvbXBvbmVudCBkZWYgKMm1Y21wKSBvbnRvIHRoZSBjb21wb25lbnQgdHlwZS5cbiAqXG4gKiBDb21waWxhdGlvbiBtYXkgYmUgYXN5bmNocm9ub3VzIChkdWUgdG8gdGhlIG5lZWQgdG8gcmVzb2x2ZSBVUkxzIGZvciB0aGUgY29tcG9uZW50IHRlbXBsYXRlIG9yXG4gKiBvdGhlciByZXNvdXJjZXMsIGZvciBleGFtcGxlKS4gSW4gdGhlIGV2ZW50IHRoYXQgY29tcGlsYXRpb24gaXMgbm90IGltbWVkaWF0ZSwgYGNvbXBpbGVDb21wb25lbnRgXG4gKiB3aWxsIGVucXVldWUgcmVzb3VyY2UgcmVzb2x1dGlvbiBpbnRvIGEgZ2xvYmFsIHF1ZXVlIGFuZCB3aWxsIGZhaWwgdG8gcmV0dXJuIHRoZSBgybVjbXBgXG4gKiB1bnRpbCB0aGUgZ2xvYmFsIHF1ZXVlIGhhcyBiZWVuIHJlc29sdmVkIHdpdGggYSBjYWxsIHRvIGByZXNvbHZlQ29tcG9uZW50UmVzb3VyY2VzYC5cbiAqL1xuZnVuY3Rpb24gY29tcGlsZUNvbXBvbmVudCh0eXBlLCBtZXRhZGF0YSkge1xuICAgIC8vIEluaXRpYWxpemUgbmdEZXZNb2RlLiBUaGlzIG11c3QgYmUgdGhlIGZpcnN0IHN0YXRlbWVudCBpbiBjb21waWxlQ29tcG9uZW50LlxuICAgIC8vIFNlZSB0aGUgYGluaXROZ0Rldk1vZGVgIGRvY3N0cmluZyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSAmJiBpbml0TmdEZXZNb2RlKCk7XG4gICAgbGV0IG5nQ29tcG9uZW50RGVmID0gbnVsbDtcbiAgICAvLyBNZXRhZGF0YSBtYXkgaGF2ZSByZXNvdXJjZXMgd2hpY2ggbmVlZCB0byBiZSByZXNvbHZlZC5cbiAgICBtYXliZVF1ZXVlUmVzb2x1dGlvbk9mQ29tcG9uZW50UmVzb3VyY2VzKHR5cGUsIG1ldGFkYXRhKTtcbiAgICAvLyBOb3RlIHRoYXQgd2UncmUgdXNpbmcgdGhlIHNhbWUgZnVuY3Rpb24gYXMgYERpcmVjdGl2ZWAsIGJlY2F1c2UgdGhhdCdzIG9ubHkgc3Vic2V0IG9mIG1ldGFkYXRhXG4gICAgLy8gdGhhdCB3ZSBuZWVkIHRvIGNyZWF0ZSB0aGUgbmdGYWN0b3J5RGVmLiBXZSdyZSBhdm9pZGluZyB1c2luZyB0aGUgY29tcG9uZW50IG1ldGFkYXRhXG4gICAgLy8gYmVjYXVzZSB3ZSdkIGhhdmUgdG8gcmVzb2x2ZSB0aGUgYXN5bmNocm9ub3VzIHRlbXBsYXRlcy5cbiAgICBhZGREaXJlY3RpdmVGYWN0b3J5RGVmKHR5cGUsIG1ldGFkYXRhKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgTkdfQ09NUF9ERUYsIHtcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobmdDb21wb25lbnREZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAnY29tcG9uZW50JywgdHlwZTogdHlwZSB9KTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50TmVlZHNSZXNvbHV0aW9uKG1ldGFkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IFtgQ29tcG9uZW50ICcke3R5cGUubmFtZX0nIGlzIG5vdCByZXNvbHZlZDpgXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGFkYXRhLnRlbXBsYXRlVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvci5wdXNoKGAgLSB0ZW1wbGF0ZVVybDogJHttZXRhZGF0YS50ZW1wbGF0ZVVybH1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEuc3R5bGVVcmxzICYmIG1ldGFkYXRhLnN0eWxlVXJscy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnB1c2goYCAtIHN0eWxlVXJsczogJHtKU09OLnN0cmluZ2lmeShtZXRhZGF0YS5zdHlsZVVybHMpfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLnB1c2goYERpZCB5b3UgcnVuIGFuZCB3YWl0IGZvciAncmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcygpJz9gKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmpvaW4oJ1xcbicpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBjb25zdCB3YXMgY2FsbGVkIGBqaXRPcHRpb25zYCBwcmV2aW91c2x5IGJ1dCBoYWQgdG8gYmUgcmVuYW1lZCB0byBgb3B0aW9uc2AgYmVjYXVzZVxuICAgICAgICAgICAgICAgIC8vIG9mIGEgYnVnIHdpdGggVGVyc2VyIHRoYXQgY2F1c2VkIG9wdGltaXplZCBKSVQgYnVpbGRzIHRvIHRocm93IGEgYFJlZmVyZW5jZUVycm9yYC5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGJ1ZyB3YXMgaW52ZXN0aWdhdGVkIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXItY2xpL2lzc3Vlcy8xNzI2NC5cbiAgICAgICAgICAgICAgICAvLyBXZSBzaG91bGQgbm90IHJlbmFtZSBpdCBiYWNrIHVudGlsIGh0dHBzOi8vZ2l0aHViLmNvbS90ZXJzZXIvdGVyc2VyL2lzc3Vlcy82MTUgaXMgZml4ZWQuXG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGdldEppdE9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICBsZXQgcHJlc2VydmVXaGl0ZXNwYWNlcyA9IG1ldGFkYXRhLnByZXNlcnZlV2hpdGVzcGFjZXM7XG4gICAgICAgICAgICAgICAgaWYgKHByZXNlcnZlV2hpdGVzcGFjZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zLnByZXNlcnZlV2hpdGVzcGFjZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJlc2VydmVXaGl0ZXNwYWNlcyA9IG9wdGlvbnMucHJlc2VydmVXaGl0ZXNwYWNlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXNlcnZlV2hpdGVzcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgZW5jYXBzdWxhdGlvbiA9IG1ldGFkYXRhLmVuY2Fwc3VsYXRpb247XG4gICAgICAgICAgICAgICAgaWYgKGVuY2Fwc3VsYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zLmRlZmF1bHRFbmNhcHN1bGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuY2Fwc3VsYXRpb24gPSBvcHRpb25zLmRlZmF1bHRFbmNhcHN1bGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5jYXBzdWxhdGlvbiA9IFZpZXdFbmNhcHN1bGF0aW9uJDEuRW11bGF0ZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVVcmwgPSBtZXRhZGF0YS50ZW1wbGF0ZVVybCB8fCBgbmc6Ly8vJHt0eXBlLm5hbWV9L3RlbXBsYXRlLmh0bWxgO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGEgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRpcmVjdGl2ZU1ldGFkYXRhKHR5cGUsIG1ldGFkYXRhKSksIHsgdHlwZVNvdXJjZVNwYW46IGNvbXBpbGVyLmNyZWF0ZVBhcnNlU291cmNlU3BhbignQ29tcG9uZW50JywgdHlwZS5uYW1lLCB0ZW1wbGF0ZVVybCksIHRlbXBsYXRlOiBtZXRhZGF0YS50ZW1wbGF0ZSB8fCAnJywgcHJlc2VydmVXaGl0ZXNwYWNlcywgc3R5bGVzOiBtZXRhZGF0YS5zdHlsZXMgfHwgRU1QVFlfQVJSQVksIGFuaW1hdGlvbnM6IG1ldGFkYXRhLmFuaW1hdGlvbnMsIGRpcmVjdGl2ZXM6IFtdLCBjaGFuZ2VEZXRlY3Rpb246IG1ldGFkYXRhLmNoYW5nZURldGVjdGlvbiwgcGlwZXM6IG5ldyBNYXAoKSwgZW5jYXBzdWxhdGlvbiwgaW50ZXJwb2xhdGlvbjogbWV0YWRhdGEuaW50ZXJwb2xhdGlvbiwgdmlld1Byb3ZpZGVyczogbWV0YWRhdGEudmlld1Byb3ZpZGVycyB8fCBudWxsIH0pO1xuICAgICAgICAgICAgICAgIGNvbXBpbGF0aW9uRGVwdGgrKztcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWV0YS51c2VzSW5oZXJpdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZERpcmVjdGl2ZURlZlRvVW5kZWNvcmF0ZWRQYXJlbnRzKHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5nQ29tcG9uZW50RGVmID0gY29tcGlsZXIuY29tcGlsZUNvbXBvbmVudChhbmd1bGFyQ29yZUVudiwgdGVtcGxhdGVVcmwsIG1ldGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGNvbXBpbGF0aW9uIGRlcHRoIGlzIGRlY3JlbWVudGVkIGV2ZW4gd2hlbiB0aGUgY29tcGlsYXRpb24gZmFpbGVkLlxuICAgICAgICAgICAgICAgICAgICBjb21waWxhdGlvbkRlcHRoLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb21waWxhdGlvbkRlcHRoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gTmdNb2R1bGUgZGVjb3JhdG9yIGV4ZWN1dGVkLCB3ZSBlbnF1ZXVlZCB0aGUgbW9kdWxlIGRlZmluaXRpb24gc3VjaCB0aGF0XG4gICAgICAgICAgICAgICAgICAgIC8vIGl0IHdvdWxkIG9ubHkgZGVxdWV1ZSBhbmQgYWRkIGl0c2VsZiBhcyBtb2R1bGUgc2NvcGUgdG8gYWxsIG9mIGl0cyBkZWNsYXJhdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBvbmx5IGlmICBpZiBhbGwgb2YgaXRzIGRlY2xhcmF0aW9ucyBoYWQgcmVzb2x2ZWQuIFRoaXMgY2FsbCBydW5zIHRoZSBjaGVja1xuICAgICAgICAgICAgICAgICAgICAvLyB0byBzZWUgaWYgYW55IG1vZHVsZXMgdGhhdCBhcmUgaW4gdGhlIHF1ZXVlIGNhbiBiZSBkZXF1ZXVlZCBhbmQgYWRkIHNjb3BlIHRvXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZWlyIGRlY2xhcmF0aW9ucy5cbiAgICAgICAgICAgICAgICAgICAgZmx1c2hNb2R1bGVTY29waW5nUXVldWVBc011Y2hBc1Bvc3NpYmxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIGNvbXBvbmVudCBjb21waWxhdGlvbiBpcyBhc3luYywgdGhlbiB0aGUgQE5nTW9kdWxlIGFubm90YXRpb24gd2hpY2ggZGVjbGFyZXMgdGhlXG4gICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IG1heSBleGVjdXRlIGFuZCBzZXQgYW4gbmdTZWxlY3RvclNjb3BlIHByb3BlcnR5IG9uIHRoZSBjb21wb25lbnQgdHlwZS4gVGhpc1xuICAgICAgICAgICAgICAgIC8vIGFsbG93cyB0aGUgY29tcG9uZW50IHRvIHBhdGNoIGl0c2VsZiB3aXRoIGRpcmVjdGl2ZURlZnMgZnJvbSB0aGUgbW9kdWxlIGFmdGVyIGl0XG4gICAgICAgICAgICAgICAgLy8gZmluaXNoZXMgY29tcGlsaW5nLlxuICAgICAgICAgICAgICAgIGlmIChoYXNTZWxlY3RvclNjb3BlKHR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjb3BlcyA9IHRyYW5zaXRpdmVTY29wZXNGb3IodHlwZS5uZ1NlbGVjdG9yU2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICBwYXRjaENvbXBvbmVudERlZldpdGhTY29wZShuZ0NvbXBvbmVudERlZiwgc2NvcGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmdDb21wb25lbnREZWY7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIE1ha2UgdGhlIHByb3BlcnR5IGNvbmZpZ3VyYWJsZSBpbiBkZXYgbW9kZSB0byBhbGxvdyBvdmVycmlkaW5nIGluIHRlc3RzXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogISFuZ0Rldk1vZGUsXG4gICAgfSk7XG59XG5mdW5jdGlvbiBoYXNTZWxlY3RvclNjb3BlKGNvbXBvbmVudCkge1xuICAgIHJldHVybiBjb21wb25lbnQubmdTZWxlY3RvclNjb3BlICE9PSB1bmRlZmluZWQ7XG59XG4vKipcbiAqIENvbXBpbGUgYW4gQW5ndWxhciBkaXJlY3RpdmUgYWNjb3JkaW5nIHRvIGl0cyBkZWNvcmF0b3IgbWV0YWRhdGEsIGFuZCBwYXRjaCB0aGUgcmVzdWx0aW5nXG4gKiBkaXJlY3RpdmUgZGVmIG9udG8gdGhlIGNvbXBvbmVudCB0eXBlLlxuICpcbiAqIEluIHRoZSBldmVudCB0aGF0IGNvbXBpbGF0aW9uIGlzIG5vdCBpbW1lZGlhdGUsIGBjb21waWxlRGlyZWN0aXZlYCB3aWxsIHJldHVybiBhIGBQcm9taXNlYCB3aGljaFxuICogd2lsbCByZXNvbHZlIHdoZW4gY29tcGlsYXRpb24gY29tcGxldGVzIGFuZCB0aGUgZGlyZWN0aXZlIGJlY29tZXMgdXNhYmxlLlxuICovXG5mdW5jdGlvbiBjb21waWxlRGlyZWN0aXZlKHR5cGUsIGRpcmVjdGl2ZSkge1xuICAgIGxldCBuZ0RpcmVjdGl2ZURlZiA9IG51bGw7XG4gICAgYWRkRGlyZWN0aXZlRmFjdG9yeURlZih0eXBlLCBkaXJlY3RpdmUgfHwge30pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBOR19ESVJfREVGLCB7XG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG5nRGlyZWN0aXZlRGVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gYGRpcmVjdGl2ZWAgY2FuIGJlIG51bGwgaW4gdGhlIGNhc2Ugb2YgYWJzdHJhY3QgZGlyZWN0aXZlcyBhcyBhIGJhc2UgY2xhc3NcbiAgICAgICAgICAgICAgICAvLyB0aGF0IHVzZSBgQERpcmVjdGl2ZSgpYCB3aXRoIG5vIHNlbGVjdG9yLiBJbiB0aGF0IGNhc2UsIHBhc3MgZW1wdHkgb2JqZWN0IHRvIHRoZVxuICAgICAgICAgICAgICAgIC8vIGBkaXJlY3RpdmVNZXRhZGF0YWAgZnVuY3Rpb24gaW5zdGVhZCBvZiBudWxsLlxuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGEgPSBnZXREaXJlY3RpdmVNZXRhZGF0YSh0eXBlLCBkaXJlY3RpdmUgfHwge30pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sIGtpbmQ6ICdkaXJlY3RpdmUnLCB0eXBlIH0pO1xuICAgICAgICAgICAgICAgIG5nRGlyZWN0aXZlRGVmID1cbiAgICAgICAgICAgICAgICAgICAgY29tcGlsZXIuY29tcGlsZURpcmVjdGl2ZShhbmd1bGFyQ29yZUVudiwgbWV0YS5zb3VyY2VNYXBVcmwsIG1ldGEubWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5nRGlyZWN0aXZlRGVmO1xuICAgICAgICB9LFxuICAgICAgICAvLyBNYWtlIHRoZSBwcm9wZXJ0eSBjb25maWd1cmFibGUgaW4gZGV2IG1vZGUgdG8gYWxsb3cgb3ZlcnJpZGluZyBpbiB0ZXN0c1xuICAgICAgICBjb25maWd1cmFibGU6ICEhbmdEZXZNb2RlLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0RGlyZWN0aXZlTWV0YWRhdGEodHlwZSwgbWV0YWRhdGEpIHtcbiAgICBjb25zdCBuYW1lID0gdHlwZSAmJiB0eXBlLm5hbWU7XG4gICAgY29uc3Qgc291cmNlTWFwVXJsID0gYG5nOi8vLyR7bmFtZX0vybVkaXIuanNgO1xuICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sIGtpbmQ6ICdkaXJlY3RpdmUnLCB0eXBlIH0pO1xuICAgIGNvbnN0IGZhY2FkZSA9IGRpcmVjdGl2ZU1ldGFkYXRhKHR5cGUsIG1ldGFkYXRhKTtcbiAgICBmYWNhZGUudHlwZVNvdXJjZVNwYW4gPSBjb21waWxlci5jcmVhdGVQYXJzZVNvdXJjZVNwYW4oJ0RpcmVjdGl2ZScsIG5hbWUsIHNvdXJjZU1hcFVybCk7XG4gICAgaWYgKGZhY2FkZS51c2VzSW5oZXJpdGFuY2UpIHtcbiAgICAgICAgYWRkRGlyZWN0aXZlRGVmVG9VbmRlY29yYXRlZFBhcmVudHModHlwZSk7XG4gICAgfVxuICAgIHJldHVybiB7IG1ldGFkYXRhOiBmYWNhZGUsIHNvdXJjZU1hcFVybCB9O1xufVxuZnVuY3Rpb24gYWRkRGlyZWN0aXZlRmFjdG9yeURlZih0eXBlLCBtZXRhZGF0YSkge1xuICAgIGxldCBuZ0ZhY3RvcnlEZWYgPSBudWxsO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBOR19GQUNUT1JZX0RFRiwge1xuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChuZ0ZhY3RvcnlEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhID0gZ2V0RGlyZWN0aXZlTWV0YWRhdGEodHlwZSwgbWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sIGtpbmQ6ICdkaXJlY3RpdmUnLCB0eXBlIH0pO1xuICAgICAgICAgICAgICAgIG5nRmFjdG9yeURlZiA9IGNvbXBpbGVyLmNvbXBpbGVGYWN0b3J5KGFuZ3VsYXJDb3JlRW52LCBgbmc6Ly8vJHt0eXBlLm5hbWV9L8m1ZmFjLmpzYCwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBtZXRhLm1ldGFkYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG1ldGEubWV0YWRhdGEudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZUFyZ3VtZW50Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIGRlcHM6IHJlZmxlY3REZXBlbmRlbmNpZXModHlwZSksXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogY29tcGlsZXIuRmFjdG9yeVRhcmdldC5EaXJlY3RpdmVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ0ZhY3RvcnlEZWY7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIE1ha2UgdGhlIHByb3BlcnR5IGNvbmZpZ3VyYWJsZSBpbiBkZXYgbW9kZSB0byBhbGxvdyBvdmVycmlkaW5nIGluIHRlc3RzXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogISFuZ0Rldk1vZGUsXG4gICAgfSk7XG59XG5mdW5jdGlvbiBleHRlbmRzRGlyZWN0bHlGcm9tT2JqZWN0KHR5cGUpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHR5cGUucHJvdG90eXBlKSA9PT0gT2JqZWN0LnByb3RvdHlwZTtcbn1cbi8qKlxuICogRXh0cmFjdCB0aGUgYFIzRGlyZWN0aXZlTWV0YWRhdGFgIGZvciBhIHBhcnRpY3VsYXIgZGlyZWN0aXZlIChlaXRoZXIgYSBgRGlyZWN0aXZlYCBvciBhXG4gKiBgQ29tcG9uZW50YCkuXG4gKi9cbmZ1bmN0aW9uIGRpcmVjdGl2ZU1ldGFkYXRhKHR5cGUsIG1ldGFkYXRhKSB7XG4gICAgLy8gUmVmbGVjdCBpbnB1dHMgYW5kIG91dHB1dHMuXG4gICAgY29uc3QgcmVmbGVjdCA9IGdldFJlZmxlY3QoKTtcbiAgICBjb25zdCBwcm9wTWV0YWRhdGEgPSByZWZsZWN0Lm93blByb3BNZXRhZGF0YSh0eXBlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiB0eXBlLm5hbWUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIHNlbGVjdG9yOiBtZXRhZGF0YS5zZWxlY3RvciAhPT0gdW5kZWZpbmVkID8gbWV0YWRhdGEuc2VsZWN0b3IgOiBudWxsLFxuICAgICAgICBob3N0OiBtZXRhZGF0YS5ob3N0IHx8IEVNUFRZX09CSixcbiAgICAgICAgcHJvcE1ldGFkYXRhOiBwcm9wTWV0YWRhdGEsXG4gICAgICAgIGlucHV0czogbWV0YWRhdGEuaW5wdXRzIHx8IEVNUFRZX0FSUkFZLFxuICAgICAgICBvdXRwdXRzOiBtZXRhZGF0YS5vdXRwdXRzIHx8IEVNUFRZX0FSUkFZLFxuICAgICAgICBxdWVyaWVzOiBleHRyYWN0UXVlcmllc01ldGFkYXRhKHR5cGUsIHByb3BNZXRhZGF0YSwgaXNDb250ZW50UXVlcnkpLFxuICAgICAgICBsaWZlY3ljbGU6IHsgdXNlc09uQ2hhbmdlczogcmVmbGVjdC5oYXNMaWZlY3ljbGVIb29rKHR5cGUsICduZ09uQ2hhbmdlcycpIH0sXG4gICAgICAgIHR5cGVTb3VyY2VTcGFuOiBudWxsLFxuICAgICAgICB1c2VzSW5oZXJpdGFuY2U6ICFleHRlbmRzRGlyZWN0bHlGcm9tT2JqZWN0KHR5cGUpLFxuICAgICAgICBleHBvcnRBczogZXh0cmFjdEV4cG9ydEFzKG1ldGFkYXRhLmV4cG9ydEFzKSxcbiAgICAgICAgcHJvdmlkZXJzOiBtZXRhZGF0YS5wcm92aWRlcnMgfHwgbnVsbCxcbiAgICAgICAgdmlld1F1ZXJpZXM6IGV4dHJhY3RRdWVyaWVzTWV0YWRhdGEodHlwZSwgcHJvcE1ldGFkYXRhLCBpc1ZpZXdRdWVyeSlcbiAgICB9O1xufVxuLyoqXG4gKiBBZGRzIGEgZGlyZWN0aXZlIGRlZmluaXRpb24gdG8gYWxsIHBhcmVudCBjbGFzc2VzIG9mIGEgdHlwZSB0aGF0IGRvbid0IGhhdmUgYW4gQW5ndWxhciBkZWNvcmF0b3IuXG4gKi9cbmZ1bmN0aW9uIGFkZERpcmVjdGl2ZURlZlRvVW5kZWNvcmF0ZWRQYXJlbnRzKHR5cGUpIHtcbiAgICBjb25zdCBvYmpQcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlO1xuICAgIGxldCBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodHlwZS5wcm90b3R5cGUpLmNvbnN0cnVjdG9yO1xuICAgIC8vIEdvIHVwIHRoZSBwcm90b3R5cGUgdW50aWwgd2UgaGl0IGBPYmplY3RgLlxuICAgIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50ICE9PSBvYmpQcm90b3R5cGUpIHtcbiAgICAgICAgLy8gU2luY2UgaW5oZXJpdGFuY2Ugd29ya3MgaWYgdGhlIGNsYXNzIHdhcyBhbm5vdGF0ZWQgYWxyZWFkeSwgd2Ugb25seSBuZWVkIHRvIGFkZFxuICAgICAgICAvLyB0aGUgZGVmIGlmIHRoZXJlIGFyZSBubyBhbm5vdGF0aW9ucyBhbmQgdGhlIGRlZiBoYXNuJ3QgYmVlbiBjcmVhdGVkIGFscmVhZHkuXG4gICAgICAgIGlmICghZ2V0RGlyZWN0aXZlRGVmKHBhcmVudCkgJiYgIWdldENvbXBvbmVudERlZihwYXJlbnQpICYmXG4gICAgICAgICAgICBzaG91bGRBZGRBYnN0cmFjdERpcmVjdGl2ZShwYXJlbnQpKSB7XG4gICAgICAgICAgICBjb21waWxlRGlyZWN0aXZlKHBhcmVudCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBhcmVudCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY29udmVydFRvUjNRdWVyeVByZWRpY2F0ZShzZWxlY3Rvcikge1xuICAgIHJldHVybiB0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnID8gc3BsaXRCeUNvbW1hKHNlbGVjdG9yKSA6IHJlc29sdmVGb3J3YXJkUmVmKHNlbGVjdG9yKTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRUb1IzUXVlcnlNZXRhZGF0YShwcm9wZXJ0eU5hbWUsIGFubikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHByb3BlcnR5TmFtZTogcHJvcGVydHlOYW1lLFxuICAgICAgICBwcmVkaWNhdGU6IGNvbnZlcnRUb1IzUXVlcnlQcmVkaWNhdGUoYW5uLnNlbGVjdG9yKSxcbiAgICAgICAgZGVzY2VuZGFudHM6IGFubi5kZXNjZW5kYW50cyxcbiAgICAgICAgZmlyc3Q6IGFubi5maXJzdCxcbiAgICAgICAgcmVhZDogYW5uLnJlYWQgPyBhbm4ucmVhZCA6IG51bGwsXG4gICAgICAgIHN0YXRpYzogISFhbm4uc3RhdGljLFxuICAgICAgICBlbWl0RGlzdGluY3RDaGFuZ2VzT25seTogISFhbm4uZW1pdERpc3RpbmN0Q2hhbmdlc09ubHksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RRdWVyaWVzTWV0YWRhdGEodHlwZSwgcHJvcE1ldGFkYXRhLCBpc1F1ZXJ5QW5uKSB7XG4gICAgY29uc3QgcXVlcmllc01ldGEgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGZpZWxkIGluIHByb3BNZXRhZGF0YSkge1xuICAgICAgICBpZiAocHJvcE1ldGFkYXRhLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xuICAgICAgICAgICAgY29uc3QgYW5ub3RhdGlvbnMgPSBwcm9wTWV0YWRhdGFbZmllbGRdO1xuICAgICAgICAgICAgYW5ub3RhdGlvbnMuZm9yRWFjaChhbm4gPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpc1F1ZXJ5QW5uKGFubikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbm4uc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgY29uc3RydWN0IGEgcXVlcnkgZm9yIHRoZSBwcm9wZXJ0eSBcIiR7ZmllbGR9XCIgb2YgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYFwiJHtzdHJpbmdpZnlGb3JFcnJvcih0eXBlKX1cIiBzaW5jZSB0aGUgcXVlcnkgc2VsZWN0b3Igd2Fzbid0IGRlZmluZWQuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFubm90YXRpb25zLnNvbWUoaXNJbnB1dEFubm90YXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjb21iaW5lIEBJbnB1dCBkZWNvcmF0b3JzIHdpdGggcXVlcnkgZGVjb3JhdG9yc2ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJpZXNNZXRhLnB1c2goY29udmVydFRvUjNRdWVyeU1ldGFkYXRhKGZpZWxkLCBhbm4pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcXVlcmllc01ldGE7XG59XG5mdW5jdGlvbiBleHRyYWN0RXhwb3J0QXMoZXhwb3J0QXMpIHtcbiAgICByZXR1cm4gZXhwb3J0QXMgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBzcGxpdEJ5Q29tbWEoZXhwb3J0QXMpO1xufVxuZnVuY3Rpb24gaXNDb250ZW50UXVlcnkodmFsdWUpIHtcbiAgICBjb25zdCBuYW1lID0gdmFsdWUubmdNZXRhZGF0YU5hbWU7XG4gICAgcmV0dXJuIG5hbWUgPT09ICdDb250ZW50Q2hpbGQnIHx8IG5hbWUgPT09ICdDb250ZW50Q2hpbGRyZW4nO1xufVxuZnVuY3Rpb24gaXNWaWV3UXVlcnkodmFsdWUpIHtcbiAgICBjb25zdCBuYW1lID0gdmFsdWUubmdNZXRhZGF0YU5hbWU7XG4gICAgcmV0dXJuIG5hbWUgPT09ICdWaWV3Q2hpbGQnIHx8IG5hbWUgPT09ICdWaWV3Q2hpbGRyZW4nO1xufVxuZnVuY3Rpb24gaXNJbnB1dEFubm90YXRpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUubmdNZXRhZGF0YU5hbWUgPT09ICdJbnB1dCc7XG59XG5mdW5jdGlvbiBzcGxpdEJ5Q29tbWEodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUuc3BsaXQoJywnKS5tYXAocGllY2UgPT4gcGllY2UudHJpbSgpKTtcbn1cbmNvbnN0IExJRkVDWUNMRV9IT09LUyA9IFtcbiAgICAnbmdPbkNoYW5nZXMnLCAnbmdPbkluaXQnLCAnbmdPbkRlc3Ryb3knLCAnbmdEb0NoZWNrJywgJ25nQWZ0ZXJWaWV3SW5pdCcsICduZ0FmdGVyVmlld0NoZWNrZWQnLFxuICAgICduZ0FmdGVyQ29udGVudEluaXQnLCAnbmdBZnRlckNvbnRlbnRDaGVja2VkJ1xuXTtcbmZ1bmN0aW9uIHNob3VsZEFkZEFic3RyYWN0RGlyZWN0aXZlKHR5cGUpIHtcbiAgICBjb25zdCByZWZsZWN0ID0gZ2V0UmVmbGVjdCgpO1xuICAgIGlmIChMSUZFQ1lDTEVfSE9PS1Muc29tZShob29rTmFtZSA9PiByZWZsZWN0Lmhhc0xpZmVjeWNsZUhvb2sodHlwZSwgaG9va05hbWUpKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgcHJvcE1ldGFkYXRhID0gcmVmbGVjdC5wcm9wTWV0YWRhdGEodHlwZSk7XG4gICAgZm9yIChjb25zdCBmaWVsZCBpbiBwcm9wTWV0YWRhdGEpIHtcbiAgICAgICAgY29uc3QgYW5ub3RhdGlvbnMgPSBwcm9wTWV0YWRhdGFbZmllbGRdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFubm90YXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gYW5ub3RhdGlvbnNbaV07XG4gICAgICAgICAgICBjb25zdCBtZXRhZGF0YU5hbWUgPSBjdXJyZW50Lm5nTWV0YWRhdGFOYW1lO1xuICAgICAgICAgICAgaWYgKGlzSW5wdXRBbm5vdGF0aW9uKGN1cnJlbnQpIHx8IGlzQ29udGVudFF1ZXJ5KGN1cnJlbnQpIHx8IGlzVmlld1F1ZXJ5KGN1cnJlbnQpIHx8XG4gICAgICAgICAgICAgICAgbWV0YWRhdGFOYW1lID09PSAnT3V0cHV0JyB8fCBtZXRhZGF0YU5hbWUgPT09ICdIb3N0QmluZGluZycgfHxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YU5hbWUgPT09ICdIb3N0TGlzdGVuZXInKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVQaXBlKHR5cGUsIG1ldGEpIHtcbiAgICBsZXQgbmdQaXBlRGVmID0gbnVsbDtcbiAgICBsZXQgbmdGYWN0b3J5RGVmID0gbnVsbDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgTkdfRkFDVE9SWV9ERUYsIHtcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobmdGYWN0b3J5RGVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBnZXRQaXBlTWV0YWRhdGEodHlwZSwgbWV0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAwIC8qIERlY29yYXRvciAqLywga2luZDogJ3BpcGUnLCB0eXBlOiBtZXRhZGF0YS50eXBlIH0pO1xuICAgICAgICAgICAgICAgIG5nRmFjdG9yeURlZiA9IGNvbXBpbGVyLmNvbXBpbGVGYWN0b3J5KGFuZ3VsYXJDb3JlRW52LCBgbmc6Ly8vJHttZXRhZGF0YS5uYW1lfS/JtWZhYy5qc2AsIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbWV0YWRhdGEubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbWV0YWRhdGEudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZUFyZ3VtZW50Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIGRlcHM6IHJlZmxlY3REZXBlbmRlbmNpZXModHlwZSksXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogY29tcGlsZXIuRmFjdG9yeVRhcmdldC5QaXBlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmdGYWN0b3J5RGVmO1xuICAgICAgICB9LFxuICAgICAgICAvLyBNYWtlIHRoZSBwcm9wZXJ0eSBjb25maWd1cmFibGUgaW4gZGV2IG1vZGUgdG8gYWxsb3cgb3ZlcnJpZGluZyBpbiB0ZXN0c1xuICAgICAgICBjb25maWd1cmFibGU6ICEhbmdEZXZNb2RlLFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBOR19QSVBFX0RFRiwge1xuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChuZ1BpcGVEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IGdldFBpcGVNZXRhZGF0YSh0eXBlLCBtZXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDAgLyogRGVjb3JhdG9yICovLCBraW5kOiAncGlwZScsIHR5cGU6IG1ldGFkYXRhLnR5cGUgfSk7XG4gICAgICAgICAgICAgICAgbmdQaXBlRGVmID1cbiAgICAgICAgICAgICAgICAgICAgY29tcGlsZXIuY29tcGlsZVBpcGUoYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke21ldGFkYXRhLm5hbWV9L8m1cGlwZS5qc2AsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ1BpcGVEZWY7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIE1ha2UgdGhlIHByb3BlcnR5IGNvbmZpZ3VyYWJsZSBpbiBkZXYgbW9kZSB0byBhbGxvdyBvdmVycmlkaW5nIGluIHRlc3RzXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogISFuZ0Rldk1vZGUsXG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXRQaXBlTWV0YWRhdGEodHlwZSwgbWV0YSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIG5hbWU6IHR5cGUubmFtZSxcbiAgICAgICAgcGlwZU5hbWU6IG1ldGEubmFtZSxcbiAgICAgICAgcHVyZTogbWV0YS5wdXJlICE9PSB1bmRlZmluZWQgPyBtZXRhLnB1cmUgOiB0cnVlXG4gICAgfTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFR5cGUgb2YgdGhlIERpcmVjdGl2ZSBtZXRhZGF0YS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IERpcmVjdGl2ZSA9IG1ha2VEZWNvcmF0b3IoJ0RpcmVjdGl2ZScsIChkaXIgPSB7fSkgPT4gZGlyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgKHR5cGUsIG1ldGEpID0+IGNvbXBpbGVEaXJlY3RpdmUodHlwZSwgbWV0YSkpO1xuLyoqXG4gKiBDb21wb25lbnQgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBDb21wb25lbnQgPSBtYWtlRGVjb3JhdG9yKCdDb21wb25lbnQnLCAoYyA9IHt9KSA9PiAoT2JqZWN0LmFzc2lnbih7IGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGVmYXVsdCB9LCBjKSksIERpcmVjdGl2ZSwgdW5kZWZpbmVkLCAodHlwZSwgbWV0YSkgPT4gY29tcGlsZUNvbXBvbmVudCh0eXBlLCBtZXRhKSk7XG4vKipcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IFBpcGUgPSBtYWtlRGVjb3JhdG9yKCdQaXBlJywgKHApID0+IChPYmplY3QuYXNzaWduKHsgcHVyZTogdHJ1ZSB9LCBwKSksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAodHlwZSwgbWV0YSkgPT4gY29tcGlsZVBpcGUodHlwZSwgbWV0YSkpO1xuLyoqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBJbnB1dCA9IG1ha2VQcm9wRGVjb3JhdG9yKCdJbnB1dCcsIChiaW5kaW5nUHJvcGVydHlOYW1lKSA9PiAoeyBiaW5kaW5nUHJvcGVydHlOYW1lIH0pKTtcbi8qKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgT3V0cHV0ID0gbWFrZVByb3BEZWNvcmF0b3IoJ091dHB1dCcsIChiaW5kaW5nUHJvcGVydHlOYW1lKSA9PiAoeyBiaW5kaW5nUHJvcGVydHlOYW1lIH0pKTtcbi8qKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgSG9zdEJpbmRpbmcgPSBtYWtlUHJvcERlY29yYXRvcignSG9zdEJpbmRpbmcnLCAoaG9zdFByb3BlcnR5TmFtZSkgPT4gKHsgaG9zdFByb3BlcnR5TmFtZSB9KSk7XG4vKipcbiAqIERlY29yYXRvciB0aGF0IGJpbmRzIGEgRE9NIGV2ZW50IHRvIGEgaG9zdCBsaXN0ZW5lciBhbmQgc3VwcGxpZXMgY29uZmlndXJhdGlvbiBtZXRhZGF0YS5cbiAqIEFuZ3VsYXIgaW52b2tlcyB0aGUgc3VwcGxpZWQgaGFuZGxlciBtZXRob2Qgd2hlbiB0aGUgaG9zdCBlbGVtZW50IGVtaXRzIHRoZSBzcGVjaWZpZWQgZXZlbnQsXG4gKiBhbmQgdXBkYXRlcyB0aGUgYm91bmQgZWxlbWVudCB3aXRoIHRoZSByZXN1bHQuXG4gKlxuICogSWYgdGhlIGhhbmRsZXIgbWV0aG9kIHJldHVybnMgZmFsc2UsIGFwcGxpZXMgYHByZXZlbnREZWZhdWx0YCBvbiB0aGUgYm91bmQgZWxlbWVudC5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBkZWNsYXJlcyBhIGRpcmVjdGl2ZVxuICogdGhhdCBhdHRhY2hlcyBhIGNsaWNrIGxpc3RlbmVyIHRvIGEgYnV0dG9uIGFuZCBjb3VudHMgY2xpY2tzLlxuICpcbiAqIGBgYHRzXG4gKiBARGlyZWN0aXZlKHtzZWxlY3RvcjogJ2J1dHRvbltjb3VudGluZ10nfSlcbiAqIGNsYXNzIENvdW50Q2xpY2tzIHtcbiAqICAgbnVtYmVyT2ZDbGlja3MgPSAwO1xuICpcbiAqICAgQEhvc3RMaXN0ZW5lcignY2xpY2snLCBbJyRldmVudC50YXJnZXQnXSlcbiAqICAgb25DbGljayhidG4pIHtcbiAqICAgICBjb25zb2xlLmxvZygnYnV0dG9uJywgYnRuLCAnbnVtYmVyIG9mIGNsaWNrczonLCB0aGlzLm51bWJlck9mQ2xpY2tzKyspO1xuICogICB9XG4gKiB9XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnYXBwJyxcbiAqICAgdGVtcGxhdGU6ICc8YnV0dG9uIGNvdW50aW5nPkluY3JlbWVudDwvYnV0dG9uPicsXG4gKiB9KVxuICogY2xhc3MgQXBwIHt9XG4gKlxuICogYGBgXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHJlZ2lzdGVycyBhbm90aGVyIERPTSBldmVudCBoYW5kbGVyIHRoYXQgbGlzdGVucyBmb3IgYEVudGVyYCBrZXktcHJlc3NcbiAqIGV2ZW50cyBvbiB0aGUgZ2xvYmFsIGB3aW5kb3dgLlxuICogYGBgIHRzXG4gKiBpbXBvcnQgeyBIb3N0TGlzdGVuZXIsIENvbXBvbmVudCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnYXBwJyxcbiAqICAgdGVtcGxhdGU6IGA8aDE+SGVsbG8sIHlvdSBoYXZlIHByZXNzZWQgZW50ZXIge3tjb3VudGVyfX0gbnVtYmVyIG9mIHRpbWVzITwvaDE+IFByZXNzIGVudGVyIGtleVxuICogdG8gaW5jcmVtZW50IHRoZSBjb3VudGVyLlxuICogICA8YnV0dG9uIChjbGljayk9XCJyZXNldENvdW50ZXIoKVwiPlJlc2V0IENvdW50ZXI8L2J1dHRvbj5gXG4gKiB9KVxuICogY2xhc3MgQXBwQ29tcG9uZW50IHtcbiAqICAgY291bnRlciA9IDA7XG4gKiAgIEBIb3N0TGlzdGVuZXIoJ3dpbmRvdzprZXlkb3duLmVudGVyJywgWyckZXZlbnQnXSlcbiAqICAgaGFuZGxlS2V5RG93bihldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICogICAgIHRoaXMuY291bnRlcisrO1xuICogICB9XG4gKiAgIHJlc2V0Q291bnRlcigpIHtcbiAqICAgICB0aGlzLmNvdW50ZXIgPSAwO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqIFRoZSBsaXN0IG9mIHZhbGlkIGtleSBuYW1lcyBmb3IgYGtleWRvd25gIGFuZCBga2V5dXBgIGV2ZW50c1xuICogY2FuIGJlIGZvdW5kIGhlcmU6XG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLWtleS8jbmFtZWQta2V5LWF0dHJpYnV0ZS12YWx1ZXNcbiAqXG4gKiBOb3RlIHRoYXQga2V5cyBjYW4gYWxzbyBiZSBjb21iaW5lZCwgZS5nLiBgQEhvc3RMaXN0ZW5lcigna2V5ZG93bi5zaGlmdC5hJylgLlxuICpcbiAqIFRoZSBnbG9iYWwgdGFyZ2V0IG5hbWVzIHRoYXQgY2FuIGJlIHVzZWQgdG8gcHJlZml4IGFuIGV2ZW50IG5hbWUgYXJlXG4gKiBgZG9jdW1lbnQ6YCwgYHdpbmRvdzpgIGFuZCBgYm9keTpgLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEhvc3RMaXN0ZW5lciA9IG1ha2VQcm9wRGVjb3JhdG9yKCdIb3N0TGlzdGVuZXInLCAoZXZlbnROYW1lLCBhcmdzKSA9PiAoeyBldmVudE5hbWUsIGFyZ3MgfSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgTmdNb2R1bGUgPSBtYWtlRGVjb3JhdG9yKCdOZ01vZHVsZScsIChuZ01vZHVsZSkgPT4gbmdNb2R1bGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBcbi8qKlxuICogRGVjb3JhdG9yIHRoYXQgbWFya3MgdGhlIGZvbGxvd2luZyBjbGFzcyBhcyBhbiBOZ01vZHVsZSwgYW5kIHN1cHBsaWVzXG4gKiBjb25maWd1cmF0aW9uIG1ldGFkYXRhIGZvciBpdC5cbiAqXG4gKiAqIFRoZSBgZGVjbGFyYXRpb25zYCBhbmQgYGVudHJ5Q29tcG9uZW50c2Agb3B0aW9ucyBjb25maWd1cmUgdGhlIGNvbXBpbGVyXG4gKiB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYmVsb25ncyB0byB0aGUgTmdNb2R1bGUuXG4gKiAqIFRoZSBgcHJvdmlkZXJzYCBvcHRpb25zIGNvbmZpZ3VyZXMgdGhlIE5nTW9kdWxlJ3MgaW5qZWN0b3IgdG8gcHJvdmlkZVxuICogZGVwZW5kZW5jaWVzIHRoZSBOZ01vZHVsZSBtZW1iZXJzLlxuICogKiBUaGUgYGltcG9ydHNgIGFuZCBgZXhwb3J0c2Agb3B0aW9ucyBicmluZyBpbiBtZW1iZXJzIGZyb20gb3RoZXIgbW9kdWxlcywgYW5kIG1ha2VcbiAqIHRoaXMgbW9kdWxlJ3MgbWVtYmVycyBhdmFpbGFibGUgdG8gb3RoZXJzLlxuICovXG4odHlwZSwgbWV0YSkgPT4gY29tcGlsZU5nTW9kdWxlKHR5cGUsIG1ldGEpKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gbm9vcCguLi5hcmdzKSB7XG4gICAgLy8gRG8gbm90aGluZy5cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSBleGlzdGVuY2Ugb2YgdGhpcyBjb25zdGFudCAoaW4gdGhpcyBwYXJ0aWN1bGFyIGZpbGUpIGluZm9ybXMgdGhlIEFuZ3VsYXIgY29tcGlsZXIgdGhhdCB0aGVcbiAqIGN1cnJlbnQgcHJvZ3JhbSBpcyBhY3R1YWxseSBAYW5ndWxhci9jb3JlLCB3aGljaCBuZWVkcyB0byBiZSBjb21waWxlZCBzcGVjaWFsbHkuXG4gKi9cbmNvbnN0IElUU19KVVNUX0FOR1VMQVIgPSB0cnVlO1xuXG4vKipcbiAqIEEgW0RJIHRva2VuXShndWlkZS9nbG9zc2FyeSNkaS10b2tlbiBcIkRJIHRva2VuIGRlZmluaXRpb25cIikgdGhhdCB5b3UgY2FuIHVzZSB0byBwcm92aWRlXG4gKiBvbmUgb3IgbW9yZSBpbml0aWFsaXphdGlvbiBmdW5jdGlvbnMuXG4gKlxuICogVGhlIHByb3ZpZGVkIGZ1bmN0aW9ucyBhcmUgaW5qZWN0ZWQgYXQgYXBwbGljYXRpb24gc3RhcnR1cCBhbmQgZXhlY3V0ZWQgZHVyaW5nXG4gKiBhcHAgaW5pdGlhbGl6YXRpb24uIElmIGFueSBvZiB0aGVzZSBmdW5jdGlvbnMgcmV0dXJucyBhIFByb21pc2Ugb3IgYW4gT2JzZXJ2YWJsZSwgaW5pdGlhbGl6YXRpb25cbiAqIGRvZXMgbm90IGNvbXBsZXRlIHVudGlsIHRoZSBQcm9taXNlIGlzIHJlc29sdmVkIG9yIHRoZSBPYnNlcnZhYmxlIGlzIGNvbXBsZXRlZC5cbiAqXG4gKiBZb3UgY2FuLCBmb3IgZXhhbXBsZSwgY3JlYXRlIGEgZmFjdG9yeSBmdW5jdGlvbiB0aGF0IGxvYWRzIGxhbmd1YWdlIGRhdGFcbiAqIG9yIGFuIGV4dGVybmFsIGNvbmZpZ3VyYXRpb24sIGFuZCBwcm92aWRlIHRoYXQgZnVuY3Rpb24gdG8gdGhlIGBBUFBfSU5JVElBTElaRVJgIHRva2VuLlxuICogVGhlIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGR1cmluZyB0aGUgYXBwbGljYXRpb24gYm9vdHN0cmFwIHByb2Nlc3MsXG4gKiBhbmQgdGhlIG5lZWRlZCBkYXRhIGlzIGF2YWlsYWJsZSBvbiBzdGFydHVwLlxuICpcbiAqIEBzZWUgYEFwcGxpY2F0aW9uSW5pdFN0YXR1c2BcbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBpbGx1c3RyYXRlcyBob3cgdG8gY29uZmlndXJlIGEgbXVsdGktcHJvdmlkZXIgdXNpbmcgYEFQUF9JTklUSUFMSVpFUmAgdG9rZW5cbiAqIGFuZCBhIGZ1bmN0aW9uIHJldHVybmluZyBhIHByb21pc2UuXG4gKlxuICogYGBgXG4gKiAgZnVuY3Rpb24gaW5pdGlhbGl6ZUFwcCgpOiBQcm9taXNlPGFueT4ge1xuICogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAqICAgICAgLy8gRG8gc29tZSBhc3luY2hyb25vdXMgc3R1ZmZcbiAqICAgICAgcmVzb2x2ZSgpO1xuICogICAgfSk7XG4gKiAgfVxuICpcbiAqICBATmdNb2R1bGUoe1xuICogICBpbXBvcnRzOiBbQnJvd3Nlck1vZHVsZV0sXG4gKiAgIGRlY2xhcmF0aW9uczogW0FwcENvbXBvbmVudF0sXG4gKiAgIGJvb3RzdHJhcDogW0FwcENvbXBvbmVudF0sXG4gKiAgIHByb3ZpZGVyczogW3tcbiAqICAgICBwcm92aWRlOiBBUFBfSU5JVElBTElaRVIsXG4gKiAgICAgdXNlRmFjdG9yeTogKCkgPT4gaW5pdGlhbGl6ZUFwcCxcbiAqICAgICBtdWx0aTogdHJ1ZVxuICogICAgfV1cbiAqICAgfSlcbiAqICBleHBvcnQgY2xhc3MgQXBwTW9kdWxlIHt9XG4gKiBgYGBcbiAqXG4gKiBJdCdzIGFsc28gcG9zc2libGUgdG8gY29uZmlndXJlIGEgbXVsdGktcHJvdmlkZXIgdXNpbmcgYEFQUF9JTklUSUFMSVpFUmAgdG9rZW4gYW5kIGEgZnVuY3Rpb25cbiAqIHJldHVybmluZyBhbiBvYnNlcnZhYmxlLCBzZWUgYW4gZXhhbXBsZSBiZWxvdy4gTm90ZTogdGhlIGBIdHRwQ2xpZW50YCBpbiB0aGlzIGV4YW1wbGUgaXMgdXNlZCBmb3JcbiAqIGRlbW8gcHVycG9zZXMgdG8gaWxsdXN0cmF0ZSBob3cgdGhlIGZhY3RvcnkgZnVuY3Rpb24gY2FuIHdvcmsgd2l0aCBvdGhlciBwcm92aWRlcnMgYXZhaWxhYmxlXG4gKiB0aHJvdWdoIERJLlxuICpcbiAqIGBgYFxuICogIGZ1bmN0aW9uIGluaXRpYWxpemVBcHBGYWN0b3J5KGh0dHBDbGllbnQ6IEh0dHBDbGllbnQpOiAoKSA9PiBPYnNlcnZhYmxlPGFueT4ge1xuICogICByZXR1cm4gKCkgPT4gaHR0cENsaWVudC5nZXQoXCJodHRwczovL3NvbWVVcmwuY29tL2FwaS91c2VyXCIpXG4gKiAgICAgLnBpcGUoXG4gKiAgICAgICAgdGFwKHVzZXIgPT4geyAuLi4gfSlcbiAqICAgICApO1xuICogIH1cbiAqXG4gKiAgQE5nTW9kdWxlKHtcbiAqICAgIGltcG9ydHM6IFtCcm93c2VyTW9kdWxlLCBIdHRwQ2xpZW50TW9kdWxlXSxcbiAqICAgIGRlY2xhcmF0aW9uczogW0FwcENvbXBvbmVudF0sXG4gKiAgICBib290c3RyYXA6IFtBcHBDb21wb25lbnRdLFxuICogICAgcHJvdmlkZXJzOiBbe1xuICogICAgICBwcm92aWRlOiBBUFBfSU5JVElBTElaRVIsXG4gKiAgICAgIHVzZUZhY3Rvcnk6IGluaXRpYWxpemVBcHBGYWN0b3J5LFxuICogICAgICBkZXBzOiBbSHR0cENsaWVudF0sXG4gKiAgICAgIG11bHRpOiB0cnVlXG4gKiAgICB9XVxuICogIH0pXG4gKiAgZXhwb3J0IGNsYXNzIEFwcE1vZHVsZSB7fVxuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBBUFBfSU5JVElBTElaRVIgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0FwcGxpY2F0aW9uIEluaXRpYWxpemVyJyk7XG4vKipcbiAqIEEgY2xhc3MgdGhhdCByZWZsZWN0cyB0aGUgc3RhdGUgb2YgcnVubmluZyB7QGxpbmsgQVBQX0lOSVRJQUxJWkVSfSBmdW5jdGlvbnMuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBBcHBsaWNhdGlvbkluaXRTdGF0dXMge1xuICAgIGNvbnN0cnVjdG9yKGFwcEluaXRzKSB7XG4gICAgICAgIHRoaXMuYXBwSW5pdHMgPSBhcHBJbml0cztcbiAgICAgICAgdGhpcy5yZXNvbHZlID0gbm9vcDtcbiAgICAgICAgdGhpcy5yZWplY3QgPSBub29wO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRvbmVQcm9taXNlID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSByZXM7XG4gICAgICAgICAgICB0aGlzLnJlamVjdCA9IHJlajtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBydW5Jbml0aWFsaXplcnMoKSB7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXN5bmNJbml0UHJvbWlzZXMgPSBbXTtcbiAgICAgICAgY29uc3QgY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmFwcEluaXRzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXBwSW5pdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbml0UmVzdWx0ID0gdGhpcy5hcHBJbml0c1tpXSgpO1xuICAgICAgICAgICAgICAgIGlmIChpc1Byb21pc2UoaW5pdFJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNJbml0UHJvbWlzZXMucHVzaChpbml0UmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNPYnNlcnZhYmxlKGluaXRSZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9ic2VydmFibGVBc1Byb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0UmVzdWx0LnN1YnNjcmliZSh7IGNvbXBsZXRlOiByZXNvbHZlLCBlcnJvcjogcmVqZWN0IH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNJbml0UHJvbWlzZXMucHVzaChvYnNlcnZhYmxlQXNQcm9taXNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgUHJvbWlzZS5hbGwoYXN5bmNJbml0UHJvbWlzZXMpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYXN5bmNJbml0UHJvbWlzZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH1cbn1cbkFwcGxpY2F0aW9uSW5pdFN0YXR1cy7JtWZhYyA9IGZ1bmN0aW9uIEFwcGxpY2F0aW9uSW5pdFN0YXR1c19GYWN0b3J5KHQpIHsgcmV0dXJuIG5ldyAodCB8fCBBcHBsaWNhdGlvbkluaXRTdGF0dXMpKMm1ybVpbmplY3QoQVBQX0lOSVRJQUxJWkVSLCA4KSk7IH07XG5BcHBsaWNhdGlvbkluaXRTdGF0dXMuybVwcm92ID0gLypAX19QVVJFX18qLyDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7IHRva2VuOiBBcHBsaWNhdGlvbkluaXRTdGF0dXMsIGZhY3Rvcnk6IEFwcGxpY2F0aW9uSW5pdFN0YXR1cy7JtWZhYyB9KTtcbihmdW5jdGlvbiAoKSB7XG4gICAgKHR5cGVvZiBuZ0Rldk1vZGUgPT09IFwidW5kZWZpbmVkXCIgfHwgbmdEZXZNb2RlKSAmJiBzZXRDbGFzc01ldGFkYXRhKEFwcGxpY2F0aW9uSW5pdFN0YXR1cywgW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFt7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtBUFBfSU5JVElBTElaRVJdXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIH1dIH1dO1xuICAgIH0sIG51bGwpO1xufSkoKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgW0RJIHRva2VuXShndWlkZS9nbG9zc2FyeSNkaS10b2tlbiBcIkRJIHRva2VuIGRlZmluaXRpb25cIikgcmVwcmVzZW50aW5nIGEgdW5pcXVlIHN0cmluZyBJRCwgdXNlZFxuICogcHJpbWFyaWx5IGZvciBwcmVmaXhpbmcgYXBwbGljYXRpb24gYXR0cmlidXRlcyBhbmQgQ1NTIHN0eWxlcyB3aGVuXG4gKiB7QGxpbmsgVmlld0VuY2Fwc3VsYXRpb24jRW11bGF0ZWQgVmlld0VuY2Fwc3VsYXRpb24uRW11bGF0ZWR9IGlzIGJlaW5nIHVzZWQuXG4gKlxuICogQlkgZGVmYXVsdCwgdGhlIHZhbHVlIGlzIHJhbmRvbWx5IGdlbmVyYXRlZCBhbmQgYXNzaWduZWQgdG8gdGhlIGFwcGxpY2F0aW9uIGJ5IEFuZ3VsYXIuXG4gKiBUbyBwcm92aWRlIGEgY3VzdG9tIElEIHZhbHVlLCB1c2UgYSBESSBwcm92aWRlciA8IS0tIFRPRE86IHByb3ZpZGVyIC0tPiB0byBjb25maWd1cmVcbiAqIHRoZSByb290IHtAbGluayBJbmplY3Rvcn0gdGhhdCB1c2VzIHRoaXMgdG9rZW4uXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBBUFBfSUQgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0FwcElkJyk7XG5mdW5jdGlvbiBfYXBwSWRSYW5kb21Qcm92aWRlckZhY3RvcnkoKSB7XG4gICAgcmV0dXJuIGAke19yYW5kb21DaGFyKCl9JHtfcmFuZG9tQ2hhcigpfSR7X3JhbmRvbUNoYXIoKX1gO1xufVxuLyoqXG4gKiBQcm92aWRlcnMgdGhhdCBnZW5lcmF0ZSBhIHJhbmRvbSBgQVBQX0lEX1RPS0VOYC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgQVBQX0lEX1JBTkRPTV9QUk9WSURFUiA9IHtcbiAgICBwcm92aWRlOiBBUFBfSUQsXG4gICAgdXNlRmFjdG9yeTogX2FwcElkUmFuZG9tUHJvdmlkZXJGYWN0b3J5LFxuICAgIGRlcHM6IFtdLFxufTtcbmZ1bmN0aW9uIF9yYW5kb21DaGFyKCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDk3ICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjUpKTtcbn1cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IGlzIGV4ZWN1dGVkIHdoZW4gYSBwbGF0Zm9ybSBpcyBpbml0aWFsaXplZC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgUExBVEZPUk1fSU5JVElBTElaRVIgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ1BsYXRmb3JtIEluaXRpYWxpemVyJyk7XG4vKipcbiAqIEEgdG9rZW4gdGhhdCBpbmRpY2F0ZXMgYW4gb3BhcXVlIHBsYXRmb3JtIElELlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBQTEFURk9STV9JRCA9IG5ldyBJbmplY3Rpb25Ub2tlbignUGxhdGZvcm0gSUQnKTtcbi8qKlxuICogQSBbREkgdG9rZW5dKGd1aWRlL2dsb3NzYXJ5I2RpLXRva2VuIFwiREkgdG9rZW4gZGVmaW5pdGlvblwiKSB0aGF0IHByb3ZpZGVzIGEgc2V0IG9mIGNhbGxiYWNrcyB0b1xuICogYmUgY2FsbGVkIGZvciBldmVyeSBjb21wb25lbnQgdGhhdCBpcyBib290c3RyYXBwZWQuXG4gKlxuICogRWFjaCBjYWxsYmFjayBtdXN0IHRha2UgYSBgQ29tcG9uZW50UmVmYCBpbnN0YW5jZSBhbmQgcmV0dXJuIG5vdGhpbmcuXG4gKlxuICogYChjb21wb25lbnRSZWY6IENvbXBvbmVudFJlZikgPT4gdm9pZGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IEFQUF9CT09UU1RSQVBfTElTVEVORVIgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ2FwcEJvb3RzdHJhcExpc3RlbmVyJyk7XG4vKipcbiAqIEEgW0RJIHRva2VuXShndWlkZS9nbG9zc2FyeSNkaS10b2tlbiBcIkRJIHRva2VuIGRlZmluaXRpb25cIikgdGhhdCBpbmRpY2F0ZXMgdGhlIHJvb3QgZGlyZWN0b3J5IG9mXG4gKiB0aGUgYXBwbGljYXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY29uc3QgUEFDS0FHRV9ST09UX1VSTCA9IG5ldyBJbmplY3Rpb25Ub2tlbignQXBwbGljYXRpb24gUGFja2FnZXMgUm9vdCBVUkwnKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jbGFzcyBDb25zb2xlIHtcbiAgICBsb2cobWVzc2FnZSkge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICB9XG4gICAgLy8gTm90ZTogZm9yIHJlcG9ydGluZyBlcnJvcnMgdXNlIGBET00ubG9nRXJyb3IoKWAgYXMgaXQgaXMgcGxhdGZvcm0gc3BlY2lmaWNcbiAgICB3YXJuKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgIH1cbn1cbkNvbnNvbGUuybVmYWMgPSBmdW5jdGlvbiBDb25zb2xlX0ZhY3RvcnkodCkgeyByZXR1cm4gbmV3ICh0IHx8IENvbnNvbGUpKCk7IH07XG5Db25zb2xlLsm1cHJvdiA9IC8qQF9fUFVSRV9fKi8gybXJtWRlZmluZUluamVjdGFibGUoeyB0b2tlbjogQ29uc29sZSwgZmFjdG9yeTogQ29uc29sZS7JtWZhYyB9KTtcbihmdW5jdGlvbiAoKSB7XG4gICAgKHR5cGVvZiBuZ0Rldk1vZGUgPT09IFwidW5kZWZpbmVkXCIgfHwgbmdEZXZNb2RlKSAmJiBzZXRDbGFzc01ldGFkYXRhKENvbnNvbGUsIFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBudWxsLCBudWxsKTtcbn0pKCk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBQcm92aWRlIHRoaXMgdG9rZW4gdG8gc2V0IHRoZSBsb2NhbGUgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAqIEl0IGlzIHVzZWQgZm9yIGkxOG4gZXh0cmFjdGlvbiwgYnkgaTE4biBwaXBlcyAoRGF0ZVBpcGUsIEkxOG5QbHVyYWxQaXBlLCBDdXJyZW5jeVBpcGUsXG4gKiBEZWNpbWFsUGlwZSBhbmQgUGVyY2VudFBpcGUpIGFuZCBieSBJQ1UgZXhwcmVzc2lvbnMuXG4gKlxuICogU2VlIHRoZSBbaTE4biBndWlkZV0oZ3VpZGUvaTE4bi1jb21tb24tbG9jYWxlLWlkKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBMT0NBTEVfSUQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbiAqIGltcG9ydCB7IHBsYXRmb3JtQnJvd3NlckR5bmFtaWMgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyLWR5bmFtaWMnO1xuICogaW1wb3J0IHsgQXBwTW9kdWxlIH0gZnJvbSAnLi9hcHAvYXBwLm1vZHVsZSc7XG4gKlxuICogcGxhdGZvcm1Ccm93c2VyRHluYW1pYygpLmJvb3RzdHJhcE1vZHVsZShBcHBNb2R1bGUsIHtcbiAqICAgcHJvdmlkZXJzOiBbe3Byb3ZpZGU6IExPQ0FMRV9JRCwgdXNlVmFsdWU6ICdlbi1VUycgfV1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBMT0NBTEVfSUQgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0xvY2FsZUlkJyk7XG4vKipcbiAqIFByb3ZpZGUgdGhpcyB0b2tlbiB0byBzZXQgdGhlIGRlZmF1bHQgY3VycmVuY3kgY29kZSB5b3VyIGFwcGxpY2F0aW9uIHVzZXMgZm9yXG4gKiBDdXJyZW5jeVBpcGUgd2hlbiB0aGVyZSBpcyBubyBjdXJyZW5jeSBjb2RlIHBhc3NlZCBpbnRvIGl0LiBUaGlzIGlzIG9ubHkgdXNlZCBieVxuICogQ3VycmVuY3lQaXBlIGFuZCBoYXMgbm8gcmVsYXRpb24gdG8gbG9jYWxlIGN1cnJlbmN5LiBEZWZhdWx0cyB0byBVU0QgaWYgbm90IGNvbmZpZ3VyZWQuXG4gKlxuICogU2VlIHRoZSBbaTE4biBndWlkZV0oZ3VpZGUvaTE4bi1jb21tb24tbG9jYWxlLWlkKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgaXMtaGVscGZ1bFwiPlxuICpcbiAqICoqRGVwcmVjYXRpb24gbm90aWNlOioqXG4gKlxuICogVGhlIGRlZmF1bHQgY3VycmVuY3kgY29kZSBpcyBjdXJyZW50bHkgYWx3YXlzIGBVU0RgIGJ1dCB0aGlzIGlzIGRlcHJlY2F0ZWQgZnJvbSB2OS5cbiAqXG4gKiAqKkluIHYxMCB0aGUgZGVmYXVsdCBjdXJyZW5jeSBjb2RlIHdpbGwgYmUgdGFrZW4gZnJvbSB0aGUgY3VycmVudCBsb2NhbGUuKipcbiAqXG4gKiBJZiB5b3UgbmVlZCB0aGUgcHJldmlvdXMgYmVoYXZpb3IgdGhlbiBzZXQgaXQgYnkgY3JlYXRpbmcgYSBgREVGQVVMVF9DVVJSRU5DWV9DT0RFYCBwcm92aWRlciBpblxuICogeW91ciBhcHBsaWNhdGlvbiBgTmdNb2R1bGVgOlxuICpcbiAqIGBgYHRzXG4gKiB7cHJvdmlkZTogREVGQVVMVF9DVVJSRU5DWV9DT0RFLCB1c2VWYWx1ZTogJ1VTRCd9XG4gKiBgYGBcbiAqXG4gKiA8L2Rpdj5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci1keW5hbWljJztcbiAqIGltcG9ydCB7IEFwcE1vZHVsZSB9IGZyb20gJy4vYXBwL2FwcC5tb2R1bGUnO1xuICpcbiAqIHBsYXRmb3JtQnJvd3NlckR5bmFtaWMoKS5ib290c3RyYXBNb2R1bGUoQXBwTW9kdWxlLCB7XG4gKiAgIHByb3ZpZGVyczogW3twcm92aWRlOiBERUZBVUxUX0NVUlJFTkNZX0NPREUsIHVzZVZhbHVlOiAnRVVSJyB9XVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IERFRkFVTFRfQ1VSUkVOQ1lfQ09ERSA9IG5ldyBJbmplY3Rpb25Ub2tlbignRGVmYXVsdEN1cnJlbmN5Q29kZScpO1xuLyoqXG4gKiBVc2UgdGhpcyB0b2tlbiBhdCBib290c3RyYXAgdG8gcHJvdmlkZSB0aGUgY29udGVudCBvZiB5b3VyIHRyYW5zbGF0aW9uIGZpbGUgKGB4dGJgLFxuICogYHhsZmAgb3IgYHhsZjJgKSB3aGVuIHlvdSB3YW50IHRvIHRyYW5zbGF0ZSB5b3VyIGFwcGxpY2F0aW9uIGluIGFub3RoZXIgbGFuZ3VhZ2UuXG4gKlxuICogU2VlIHRoZSBbaTE4biBndWlkZV0oZ3VpZGUvaTE4bi1jb21tb24tbWVyZ2UpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IFRSQU5TTEFUSU9OUyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuICogaW1wb3J0IHsgcGxhdGZvcm1Ccm93c2VyRHluYW1pYyB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYyc7XG4gKiBpbXBvcnQgeyBBcHBNb2R1bGUgfSBmcm9tICcuL2FwcC9hcHAubW9kdWxlJztcbiAqXG4gKiAvLyBjb250ZW50IG9mIHlvdXIgdHJhbnNsYXRpb24gZmlsZVxuICogY29uc3QgdHJhbnNsYXRpb25zID0gJy4uLi4nO1xuICpcbiAqIHBsYXRmb3JtQnJvd3NlckR5bmFtaWMoKS5ib290c3RyYXBNb2R1bGUoQXBwTW9kdWxlLCB7XG4gKiAgIHByb3ZpZGVyczogW3twcm92aWRlOiBUUkFOU0xBVElPTlMsIHVzZVZhbHVlOiB0cmFuc2xhdGlvbnMgfV1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBUUkFOU0xBVElPTlMgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ1RyYW5zbGF0aW9ucycpO1xuLyoqXG4gKiBQcm92aWRlIHRoaXMgdG9rZW4gYXQgYm9vdHN0cmFwIHRvIHNldCB0aGUgZm9ybWF0IG9mIHlvdXIge0BsaW5rIFRSQU5TTEFUSU9OU306IGB4dGJgLFxuICogYHhsZmAgb3IgYHhsZjJgLlxuICpcbiAqIFNlZSB0aGUgW2kxOG4gZ3VpZGVdKGd1aWRlL2kxOG4tY29tbW9uLW1lcmdlKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBUUkFOU0xBVElPTlNfRk9STUFUIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQgeyBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci1keW5hbWljJztcbiAqIGltcG9ydCB7IEFwcE1vZHVsZSB9IGZyb20gJy4vYXBwL2FwcC5tb2R1bGUnO1xuICpcbiAqIHBsYXRmb3JtQnJvd3NlckR5bmFtaWMoKS5ib290c3RyYXBNb2R1bGUoQXBwTW9kdWxlLCB7XG4gKiAgIHByb3ZpZGVyczogW3twcm92aWRlOiBUUkFOU0xBVElPTlNfRk9STUFULCB1c2VWYWx1ZTogJ3hsZicgfV1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBUUkFOU0xBVElPTlNfRk9STUFUID0gbmV3IEluamVjdGlvblRva2VuKCdUcmFuc2xhdGlvbnNGb3JtYXQnKTtcbi8qKlxuICogVXNlIHRoaXMgZW51bSBhdCBib290c3RyYXAgYXMgYW4gb3B0aW9uIG9mIGBib290c3RyYXBNb2R1bGVgIHRvIGRlZmluZSB0aGUgc3RyYXRlZ3lcbiAqIHRoYXQgdGhlIGNvbXBpbGVyIHNob3VsZCB1c2UgaW4gY2FzZSBvZiBtaXNzaW5nIHRyYW5zbGF0aW9uczpcbiAqIC0gRXJyb3I6IHRocm93IGlmIHlvdSBoYXZlIG1pc3NpbmcgdHJhbnNsYXRpb25zLlxuICogLSBXYXJuaW5nIChkZWZhdWx0KTogc2hvdyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgYW5kL29yIHNoZWxsLlxuICogLSBJZ25vcmU6IGRvIG5vdGhpbmcuXG4gKlxuICogU2VlIHRoZSBbaTE4biBndWlkZV0oZ3VpZGUvaTE4bi1jb21tb24tbWVyZ2UjcmVwb3J0LW1pc3NpbmctdHJhbnNsYXRpb25zKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQgeyBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci1keW5hbWljJztcbiAqIGltcG9ydCB7IEFwcE1vZHVsZSB9IGZyb20gJy4vYXBwL2FwcC5tb2R1bGUnO1xuICpcbiAqIHBsYXRmb3JtQnJvd3NlckR5bmFtaWMoKS5ib290c3RyYXBNb2R1bGUoQXBwTW9kdWxlLCB7XG4gKiAgIG1pc3NpbmdUcmFuc2xhdGlvbjogTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3kuRXJyb3JcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3k7XG4oZnVuY3Rpb24gKE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5KSB7XG4gICAgTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3lbTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3lbXCJFcnJvclwiXSA9IDBdID0gXCJFcnJvclwiO1xuICAgIE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5W01pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5W1wiV2FybmluZ1wiXSA9IDFdID0gXCJXYXJuaW5nXCI7XG4gICAgTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3lbTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3lbXCJJZ25vcmVcIl0gPSAyXSA9IFwiSWdub3JlXCI7XG59KShNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneSB8fCAoTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3kgPSB7fSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29tYmluYXRpb24gb2YgTmdNb2R1bGVGYWN0b3J5IGFuZCBDb21wb25lbnRGYWN0b3JpZXMuXG4gKlxuICogQHB1YmxpY0FwaVxuICpcbiAqIEBkZXByZWNhdGVkXG4gKiBJdnkgSklUIG1vZGUgZG9lc24ndCByZXF1aXJlIGFjY2Vzc2luZyB0aGlzIHN5bWJvbC5cbiAqIFNlZSBbSklUIEFQSSBjaGFuZ2VzIGR1ZSB0byBWaWV3RW5naW5lIGRlcHJlY2F0aW9uXShndWlkZS9kZXByZWNhdGlvbnMjaml0LWFwaS1jaGFuZ2VzKSBmb3JcbiAqIGFkZGl0aW9uYWwgY29udGV4dC5cbiAqL1xuY2xhc3MgTW9kdWxlV2l0aENvbXBvbmVudEZhY3RvcmllcyB7XG4gICAgY29uc3RydWN0b3IobmdNb2R1bGVGYWN0b3J5LCBjb21wb25lbnRGYWN0b3JpZXMpIHtcbiAgICAgICAgdGhpcy5uZ01vZHVsZUZhY3RvcnkgPSBuZ01vZHVsZUZhY3Rvcnk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50RmFjdG9yaWVzID0gY29tcG9uZW50RmFjdG9yaWVzO1xuICAgIH1cbn1cbi8qKlxuICogTG93LWxldmVsIHNlcnZpY2UgZm9yIHJ1bm5pbmcgdGhlIGFuZ3VsYXIgY29tcGlsZXIgZHVyaW5nIHJ1bnRpbWVcbiAqIHRvIGNyZWF0ZSB7QGxpbmsgQ29tcG9uZW50RmFjdG9yeX1zLCB3aGljaFxuICogY2FuIGxhdGVyIGJlIHVzZWQgdG8gY3JlYXRlIGFuZCByZW5kZXIgYSBDb21wb25lbnQgaW5zdGFuY2UuXG4gKlxuICogRWFjaCBgQE5nTW9kdWxlYCBwcm92aWRlcyBhbiBvd24gYENvbXBpbGVyYCB0byBpdHMgaW5qZWN0b3IsXG4gKiB0aGF0IHdpbGwgdXNlIHRoZSBkaXJlY3RpdmVzL3BpcGVzIG9mIHRoZSBuZyBtb2R1bGUgZm9yIGNvbXBpbGF0aW9uXG4gKiBvZiBjb21wb25lbnRzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogSXZ5IEpJVCBtb2RlIGRvZXNuJ3QgcmVxdWlyZSBhY2Nlc3NpbmcgdGhpcyBzeW1ib2wuXG4gKiBTZWUgW0pJVCBBUEkgY2hhbmdlcyBkdWUgdG8gVmlld0VuZ2luZSBkZXByZWNhdGlvbl0oZ3VpZGUvZGVwcmVjYXRpb25zI2ppdC1hcGktY2hhbmdlcykgZm9yXG4gKiBhZGRpdGlvbmFsIGNvbnRleHQuXG4gKi9cbmNsYXNzIENvbXBpbGVyIHtcbiAgICAvKipcbiAgICAgKiBDb21waWxlcyB0aGUgZ2l2ZW4gTmdNb2R1bGUgYW5kIGFsbCBvZiBpdHMgY29tcG9uZW50cy4gQWxsIHRlbXBsYXRlcyBvZiB0aGUgY29tcG9uZW50cyBsaXN0ZWRcbiAgICAgKiBpbiBgZW50cnlDb21wb25lbnRzYCBoYXZlIHRvIGJlIGlubGluZWQuXG4gICAgICovXG4gICAgY29tcGlsZU1vZHVsZVN5bmMobW9kdWxlVHlwZSkge1xuICAgICAgICByZXR1cm4gbmV3IE5nTW9kdWxlRmFjdG9yeShtb2R1bGVUeXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcGlsZXMgdGhlIGdpdmVuIE5nTW9kdWxlIGFuZCBhbGwgb2YgaXRzIGNvbXBvbmVudHNcbiAgICAgKi9cbiAgICBjb21waWxlTW9kdWxlQXN5bmMobW9kdWxlVHlwZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcGlsZU1vZHVsZVN5bmMobW9kdWxlVHlwZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIHtAbGluayAjY29tcGlsZU1vZHVsZVN5bmN9IGJ1dCBhbHNvIGNyZWF0ZXMgQ29tcG9uZW50RmFjdG9yaWVzIGZvciBhbGwgY29tcG9uZW50cy5cbiAgICAgKi9cbiAgICBjb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c1N5bmMobW9kdWxlVHlwZSkge1xuICAgICAgICBjb25zdCBuZ01vZHVsZUZhY3RvcnkgPSB0aGlzLmNvbXBpbGVNb2R1bGVTeW5jKG1vZHVsZVR5cGUpO1xuICAgICAgICBjb25zdCBtb2R1bGVEZWYgPSBnZXROZ01vZHVsZURlZihtb2R1bGVUeXBlKTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50RmFjdG9yaWVzID0gbWF5YmVVbndyYXBGbihtb2R1bGVEZWYuZGVjbGFyYXRpb25zKVxuICAgICAgICAgICAgLnJlZHVjZSgoZmFjdG9yaWVzLCBkZWNsYXJhdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50RGVmID0gZ2V0Q29tcG9uZW50RGVmKGRlY2xhcmF0aW9uKTtcbiAgICAgICAgICAgIGNvbXBvbmVudERlZiAmJiBmYWN0b3JpZXMucHVzaChuZXcgQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnREZWYpKTtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3JpZXM7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgcmV0dXJuIG5ldyBNb2R1bGVXaXRoQ29tcG9uZW50RmFjdG9yaWVzKG5nTW9kdWxlRmFjdG9yeSwgY29tcG9uZW50RmFjdG9yaWVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2FtZSBhcyB7QGxpbmsgI2NvbXBpbGVNb2R1bGVBc3luY30gYnV0IGFsc28gY3JlYXRlcyBDb21wb25lbnRGYWN0b3JpZXMgZm9yIGFsbCBjb21wb25lbnRzLlxuICAgICAqL1xuICAgIGNvbXBpbGVNb2R1bGVBbmRBbGxDb21wb25lbnRzQXN5bmMobW9kdWxlVHlwZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jKG1vZHVsZVR5cGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCBjYWNoZXMuXG4gICAgICovXG4gICAgY2xlYXJDYWNoZSgpIHsgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgY2FjaGUgZm9yIHRoZSBnaXZlbiBjb21wb25lbnQvbmdNb2R1bGUuXG4gICAgICovXG4gICAgY2xlYXJDYWNoZUZvcih0eXBlKSB7IH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpZCBmb3IgYSBnaXZlbiBOZ01vZHVsZSwgaWYgb25lIGlzIGRlZmluZWQgYW5kIGtub3duIHRvIHRoZSBjb21waWxlci5cbiAgICAgKi9cbiAgICBnZXRNb2R1bGVJZChtb2R1bGVUeXBlKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuQ29tcGlsZXIuybVmYWMgPSBmdW5jdGlvbiBDb21waWxlcl9GYWN0b3J5KHQpIHsgcmV0dXJuIG5ldyAodCB8fCBDb21waWxlcikoKTsgfTtcbkNvbXBpbGVyLsm1cHJvdiA9IC8qQF9fUFVSRV9fKi8gybXJtWRlZmluZUluamVjdGFibGUoeyB0b2tlbjogQ29tcGlsZXIsIGZhY3Rvcnk6IENvbXBpbGVyLsm1ZmFjIH0pO1xuKGZ1bmN0aW9uICgpIHtcbiAgICAodHlwZW9mIG5nRGV2TW9kZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBuZ0Rldk1vZGUpICYmIHNldENsYXNzTWV0YWRhdGEoQ29tcGlsZXIsIFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBudWxsLCBudWxsKTtcbn0pKCk7XG4vKipcbiAqIFRva2VuIHRvIHByb3ZpZGUgQ29tcGlsZXJPcHRpb25zIGluIHRoZSBwbGF0Zm9ybSBpbmplY3Rvci5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNvbnN0IENPTVBJTEVSX09QVElPTlMgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ2NvbXBpbGVyT3B0aW9ucycpO1xuLyoqXG4gKiBBIGZhY3RvcnkgZm9yIGNyZWF0aW5nIGEgQ29tcGlsZXJcbiAqXG4gKiBAcHVibGljQXBpXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqIEl2eSBKSVQgbW9kZSBkb2Vzbid0IHJlcXVpcmUgYWNjZXNzaW5nIHRoaXMgc3ltYm9sLlxuICogU2VlIFtKSVQgQVBJIGNoYW5nZXMgZHVlIHRvIFZpZXdFbmdpbmUgZGVwcmVjYXRpb25dKGd1aWRlL2RlcHJlY2F0aW9ucyNqaXQtYXBpLWNoYW5nZXMpIGZvclxuICogYWRkaXRpb25hbCBjb250ZXh0LlxuICovXG5jbGFzcyBDb21waWxlckZhY3Rvcnkge1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IHByb21pc2UgPSAoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKDApKSgpO1xuZnVuY3Rpb24gc2NoZWR1bGVNaWNyb1Rhc2soZm4pIHtcbiAgICBpZiAodHlwZW9mIFpvbmUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIHVzZSBwcm9taXNlIHRvIHNjaGVkdWxlIG1pY3JvVGFzayBpbnN0ZWFkIG9mIHVzZSBab25lXG4gICAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBmbiAmJiBmbi5hcHBseShudWxsLCBudWxsKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBab25lLmN1cnJlbnQuc2NoZWR1bGVNaWNyb1Rhc2soJ3NjaGVkdWxlTWljcm90YXNrJywgZm4pO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBnZXROYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKSB7XG4gICAgbGV0IG5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSA9IF9nbG9iYWxbJ3JlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICAgIGxldCBuYXRpdmVDYW5jZWxBbmltYXRpb25GcmFtZSA9IF9nbG9iYWxbJ2NhbmNlbEFuaW1hdGlvbkZyYW1lJ107XG4gICAgaWYgKHR5cGVvZiBab25lICE9PSAndW5kZWZpbmVkJyAmJiBuYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgJiYgbmF0aXZlQ2FuY2VsQW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgLy8gdXNlIHVucGF0Y2hlZCB2ZXJzaW9uIG9mIHJlcXVlc3RBbmltYXRpb25GcmFtZShuYXRpdmUgZGVsZWdhdGUpIGlmIHBvc3NpYmxlXG4gICAgICAgIC8vIHRvIGF2b2lkIGFub3RoZXIgQ2hhbmdlIGRldGVjdGlvblxuICAgICAgICBjb25zdCB1bnBhdGNoZWRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBuYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWVbWm9uZS5fX3N5bWJvbF9fKCdPcmlnaW5hbERlbGVnYXRlJyldO1xuICAgICAgICBpZiAodW5wYXRjaGVkUmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgICAgICBuYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB1bnBhdGNoZWRSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdW5wYXRjaGVkQ2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBuYXRpdmVDYW5jZWxBbmltYXRpb25GcmFtZVtab25lLl9fc3ltYm9sX18oJ09yaWdpbmFsRGVsZWdhdGUnKV07XG4gICAgICAgIGlmICh1bnBhdGNoZWRDYW5jZWxBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgbmF0aXZlQ2FuY2VsQW5pbWF0aW9uRnJhbWUgPSB1bnBhdGNoZWRDYW5jZWxBbmltYXRpb25GcmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBuYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsIG5hdGl2ZUNhbmNlbEFuaW1hdGlvbkZyYW1lIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBbiBpbmplY3RhYmxlIHNlcnZpY2UgZm9yIGV4ZWN1dGluZyB3b3JrIGluc2lkZSBvciBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUuXG4gKlxuICogVGhlIG1vc3QgY29tbW9uIHVzZSBvZiB0aGlzIHNlcnZpY2UgaXMgdG8gb3B0aW1pemUgcGVyZm9ybWFuY2Ugd2hlbiBzdGFydGluZyBhIHdvcmsgY29uc2lzdGluZyBvZlxuICogb25lIG9yIG1vcmUgYXN5bmNocm9ub3VzIHRhc2tzIHRoYXQgZG9uJ3QgcmVxdWlyZSBVSSB1cGRhdGVzIG9yIGVycm9yIGhhbmRsaW5nIHRvIGJlIGhhbmRsZWQgYnlcbiAqIEFuZ3VsYXIuIFN1Y2ggdGFza3MgY2FuIGJlIGtpY2tlZCBvZmYgdmlhIHtAbGluayAjcnVuT3V0c2lkZUFuZ3VsYXJ9IGFuZCBpZiBuZWVkZWQsIHRoZXNlIHRhc2tzXG4gKiBjYW4gcmVlbnRlciB0aGUgQW5ndWxhciB6b25lIHZpYSB7QGxpbmsgI3J1bn0uXG4gKlxuICogPCEtLSBUT0RPOiBhZGQvZml4IGxpbmtzIHRvOlxuICogICAtIGRvY3MgZXhwbGFpbmluZyB6b25lcyBhbmQgdGhlIHVzZSBvZiB6b25lcyBpbiBBbmd1bGFyIGFuZCBjaGFuZ2UtZGV0ZWN0aW9uXG4gKiAgIC0gbGluayB0byBydW5PdXRzaWRlQW5ndWxhci9ydW4gKHRocm91Z2hvdXQgdGhpcyBmaWxlISlcbiAqICAgLS0+XG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgXG4gKiBpbXBvcnQge0NvbXBvbmVudCwgTmdab25lfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbiAqIGltcG9ydCB7TmdJZn0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICduZy16b25lLWRlbW8nLFxuICogICB0ZW1wbGF0ZTogYFxuICogICAgIDxoMj5EZW1vOiBOZ1pvbmU8L2gyPlxuICpcbiAqICAgICA8cD5Qcm9ncmVzczoge3twcm9ncmVzc319JTwvcD5cbiAqICAgICA8cCAqbmdJZj1cInByb2dyZXNzID49IDEwMFwiPkRvbmUgcHJvY2Vzc2luZyB7e2xhYmVsfX0gb2YgQW5ndWxhciB6b25lITwvcD5cbiAqXG4gKiAgICAgPGJ1dHRvbiAoY2xpY2spPVwicHJvY2Vzc1dpdGhpbkFuZ3VsYXJab25lKClcIj5Qcm9jZXNzIHdpdGhpbiBBbmd1bGFyIHpvbmU8L2J1dHRvbj5cbiAqICAgICA8YnV0dG9uIChjbGljayk9XCJwcm9jZXNzT3V0c2lkZU9mQW5ndWxhclpvbmUoKVwiPlByb2Nlc3Mgb3V0c2lkZSBvZiBBbmd1bGFyIHpvbmU8L2J1dHRvbj5cbiAqICAgYCxcbiAqIH0pXG4gKiBleHBvcnQgY2xhc3MgTmdab25lRGVtbyB7XG4gKiAgIHByb2dyZXNzOiBudW1iZXIgPSAwO1xuICogICBsYWJlbDogc3RyaW5nO1xuICpcbiAqICAgY29uc3RydWN0b3IocHJpdmF0ZSBfbmdab25lOiBOZ1pvbmUpIHt9XG4gKlxuICogICAvLyBMb29wIGluc2lkZSB0aGUgQW5ndWxhciB6b25lXG4gKiAgIC8vIHNvIHRoZSBVSSBET0VTIHJlZnJlc2ggYWZ0ZXIgZWFjaCBzZXRUaW1lb3V0IGN5Y2xlXG4gKiAgIHByb2Nlc3NXaXRoaW5Bbmd1bGFyWm9uZSgpIHtcbiAqICAgICB0aGlzLmxhYmVsID0gJ2luc2lkZSc7XG4gKiAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gKiAgICAgdGhpcy5faW5jcmVhc2VQcm9ncmVzcygoKSA9PiBjb25zb2xlLmxvZygnSW5zaWRlIERvbmUhJykpO1xuICogICB9XG4gKlxuICogICAvLyBMb29wIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZVxuICogICAvLyBzbyB0aGUgVUkgRE9FUyBOT1QgcmVmcmVzaCBhZnRlciBlYWNoIHNldFRpbWVvdXQgY3ljbGVcbiAqICAgcHJvY2Vzc091dHNpZGVPZkFuZ3VsYXJab25lKCkge1xuICogICAgIHRoaXMubGFiZWwgPSAnb3V0c2lkZSc7XG4gKiAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gKiAgICAgdGhpcy5fbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAqICAgICAgIHRoaXMuX2luY3JlYXNlUHJvZ3Jlc3MoKCkgPT4ge1xuICogICAgICAgICAvLyByZWVudGVyIHRoZSBBbmd1bGFyIHpvbmUgYW5kIGRpc3BsYXkgZG9uZVxuICogICAgICAgICB0aGlzLl9uZ1pvbmUucnVuKCgpID0+IHsgY29uc29sZS5sb2coJ091dHNpZGUgRG9uZSEnKTsgfSk7XG4gKiAgICAgICB9KTtcbiAqICAgICB9KTtcbiAqICAgfVxuICpcbiAqICAgX2luY3JlYXNlUHJvZ3Jlc3MoZG9uZUNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gKiAgICAgdGhpcy5wcm9ncmVzcyArPSAxO1xuICogICAgIGNvbnNvbGUubG9nKGBDdXJyZW50IHByb2dyZXNzOiAke3RoaXMucHJvZ3Jlc3N9JWApO1xuICpcbiAqICAgICBpZiAodGhpcy5wcm9ncmVzcyA8IDEwMCkge1xuICogICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gdGhpcy5faW5jcmVhc2VQcm9ncmVzcyhkb25lQ2FsbGJhY2spLCAxMCk7XG4gKiAgICAgfSBlbHNlIHtcbiAqICAgICAgIGRvbmVDYWxsYmFjaygpO1xuICogICAgIH1cbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBOZ1pvbmUge1xuICAgIGNvbnN0cnVjdG9yKHsgZW5hYmxlTG9uZ1N0YWNrVHJhY2UgPSBmYWxzZSwgc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiA9IGZhbHNlLCBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiA9IGZhbHNlIH0pIHtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWFjcm90YXNrcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdNaWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZXJlIGFyZSBubyBvdXRzdGFuZGluZyBtaWNyb3Rhc2tzIG9yIG1hY3JvdGFza3MuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzU3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHdoZW4gY29kZSBlbnRlcnMgQW5ndWxhciBab25lLiBUaGlzIGdldHMgZmlyZWQgZmlyc3Qgb24gVk0gVHVybi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25VbnN0YWJsZSA9IG5ldyBFdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgd2hlbiB0aGVyZSBpcyBubyBtb3JlIG1pY3JvdGFza3MgZW5xdWV1ZWQgaW4gdGhlIGN1cnJlbnQgVk0gVHVybi5cbiAgICAgICAgICogVGhpcyBpcyBhIGhpbnQgZm9yIEFuZ3VsYXIgdG8gZG8gY2hhbmdlIGRldGVjdGlvbiwgd2hpY2ggbWF5IGVucXVldWUgbW9yZSBtaWNyb3Rhc2tzLlxuICAgICAgICAgKiBGb3IgdGhpcyByZWFzb24gdGhpcyBldmVudCBjYW4gZmlyZSBtdWx0aXBsZSB0aW1lcyBwZXIgVk0gVHVybi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25NaWNyb3Rhc2tFbXB0eSA9IG5ldyBFdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgd2hlbiB0aGUgbGFzdCBgb25NaWNyb3Rhc2tFbXB0eWAgaGFzIHJ1biBhbmQgdGhlcmUgYXJlIG5vIG1vcmUgbWljcm90YXNrcywgd2hpY2hcbiAgICAgICAgICogaW1wbGllcyB3ZSBhcmUgYWJvdXQgdG8gcmVsaW5xdWlzaCBWTSB0dXJuLlxuICAgICAgICAgKiBUaGlzIGV2ZW50IGdldHMgY2FsbGVkIGp1c3Qgb25jZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25TdGFibGUgPSBuZXcgRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHRoYXQgYW4gZXJyb3IgaGFzIGJlZW4gZGVsaXZlcmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkVycm9yID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIGlmICh0eXBlb2YgWm9uZSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbiB0aGlzIGNvbmZpZ3VyYXRpb24gQW5ndWxhciByZXF1aXJlcyBab25lLmpzYCk7XG4gICAgICAgIH1cbiAgICAgICAgWm9uZS5hc3NlcnRab25lUGF0Y2hlZCgpO1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5fbmVzdGluZyA9IDA7XG4gICAgICAgIHNlbGYuX291dGVyID0gc2VsZi5faW5uZXIgPSBab25lLmN1cnJlbnQ7XG4gICAgICAgIGlmIChab25lWydUYXNrVHJhY2tpbmdab25lU3BlYyddKSB7XG4gICAgICAgICAgICBzZWxmLl9pbm5lciA9IHNlbGYuX2lubmVyLmZvcmsobmV3IFpvbmVbJ1Rhc2tUcmFja2luZ1pvbmVTcGVjJ10pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmFibGVMb25nU3RhY2tUcmFjZSAmJiBab25lWydsb25nU3RhY2tUcmFjZVpvbmVTcGVjJ10pIHtcbiAgICAgICAgICAgIHNlbGYuX2lubmVyID0gc2VsZi5faW5uZXIuZm9yayhab25lWydsb25nU3RhY2tUcmFjZVpvbmVTcGVjJ10pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uIGlzIHRydWUsIGFsbCB0YXNrcyBpbmNsdWRpbmcgZXZlbnQgdGFza3Mgd2lsbCBiZVxuICAgICAgICAvLyBjb2FsZXNjZWQsIHNvIHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24gb3B0aW9uIGlzIG5vdCBuZWNlc3NhcnkgYW5kIGNhbiBiZSBza2lwcGVkLlxuICAgICAgICBzZWxmLnNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24gPVxuICAgICAgICAgICAgIXNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uICYmIHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb247XG4gICAgICAgIHNlbGYuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gPSBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbjtcbiAgICAgICAgc2VsZi5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSAtMTtcbiAgICAgICAgc2VsZi5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBnZXROYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKS5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gICAgICAgIGZvcmtJbm5lclpvbmVXaXRoQW5ndWxhckJlaGF2aW9yKHNlbGYpO1xuICAgIH1cbiAgICBzdGF0aWMgaXNJbkFuZ3VsYXJab25lKCkge1xuICAgICAgICAvLyBab25lIG5lZWRzIHRvIGJlIGNoZWNrZWQsIGJlY2F1c2UgdGhpcyBtZXRob2QgbWlnaHQgYmUgY2FsbGVkIGV2ZW4gd2hlbiBOb29wTmdab25lIGlzIHVzZWQuXG4gICAgICAgIHJldHVybiB0eXBlb2YgWm9uZSAhPT0gJ3VuZGVmaW5lZCcgJiYgWm9uZS5jdXJyZW50LmdldCgnaXNBbmd1bGFyWm9uZScpID09PSB0cnVlO1xuICAgIH1cbiAgICBzdGF0aWMgYXNzZXJ0SW5Bbmd1bGFyWm9uZSgpIHtcbiAgICAgICAgaWYgKCFOZ1pvbmUuaXNJbkFuZ3VsYXJab25lKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdG8gYmUgaW4gQW5ndWxhciBab25lLCBidXQgaXQgaXMgbm90IScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBhc3NlcnROb3RJbkFuZ3VsYXJab25lKCkge1xuICAgICAgICBpZiAoTmdab25lLmlzSW5Bbmd1bGFyWm9uZSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRvIG5vdCBiZSBpbiBBbmd1bGFyIFpvbmUsIGJ1dCBpdCBpcyEnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbiBzeW5jaHJvbm91c2x5IHdpdGhpbiB0aGUgQW5ndWxhciB6b25lIGFuZCByZXR1cm5zIHZhbHVlIHJldHVybmVkIGJ5XG4gICAgICogdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogUnVubmluZyBmdW5jdGlvbnMgdmlhIGBydW5gIGFsbG93cyB5b3UgdG8gcmVlbnRlciBBbmd1bGFyIHpvbmUgZnJvbSBhIHRhc2sgdGhhdCB3YXMgZXhlY3V0ZWRcbiAgICAgKiBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUgKHR5cGljYWxseSBzdGFydGVkIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSkuXG4gICAgICpcbiAgICAgKiBBbnkgZnV0dXJlIHRhc2tzIG9yIG1pY3JvdGFza3Mgc2NoZWR1bGVkIGZyb20gd2l0aGluIHRoaXMgZnVuY3Rpb24gd2lsbCBjb250aW51ZSBleGVjdXRpbmcgZnJvbVxuICAgICAqIHdpdGhpbiB0aGUgQW5ndWxhciB6b25lLlxuICAgICAqXG4gICAgICogSWYgYSBzeW5jaHJvbm91cyBlcnJvciBoYXBwZW5zIGl0IHdpbGwgYmUgcmV0aHJvd24gYW5kIG5vdCByZXBvcnRlZCB2aWEgYG9uRXJyb3JgLlxuICAgICAqL1xuICAgIHJ1bihmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyLnJ1bihmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbiBzeW5jaHJvbm91c2x5IHdpdGhpbiB0aGUgQW5ndWxhciB6b25lIGFzIGEgdGFzayBhbmQgcmV0dXJucyB2YWx1ZVxuICAgICAqIHJldHVybmVkIGJ5IHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIFJ1bm5pbmcgZnVuY3Rpb25zIHZpYSBgcnVuYCBhbGxvd3MgeW91IHRvIHJlZW50ZXIgQW5ndWxhciB6b25lIGZyb20gYSB0YXNrIHRoYXQgd2FzIGV4ZWN1dGVkXG4gICAgICogb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lICh0eXBpY2FsbHkgc3RhcnRlZCB2aWEge0BsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0pLlxuICAgICAqXG4gICAgICogQW55IGZ1dHVyZSB0YXNrcyBvciBtaWNyb3Rhc2tzIHNjaGVkdWxlZCBmcm9tIHdpdGhpbiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udGludWUgZXhlY3V0aW5nIGZyb21cbiAgICAgKiB3aXRoaW4gdGhlIEFuZ3VsYXIgem9uZS5cbiAgICAgKlxuICAgICAqIElmIGEgc3luY2hyb25vdXMgZXJyb3IgaGFwcGVucyBpdCB3aWxsIGJlIHJldGhyb3duIGFuZCBub3QgcmVwb3J0ZWQgdmlhIGBvbkVycm9yYC5cbiAgICAgKi9cbiAgICBydW5UYXNrKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncywgbmFtZSkge1xuICAgICAgICBjb25zdCB6b25lID0gdGhpcy5faW5uZXI7XG4gICAgICAgIGNvbnN0IHRhc2sgPSB6b25lLnNjaGVkdWxlRXZlbnRUYXNrKCdOZ1pvbmVFdmVudDogJyArIG5hbWUsIGZuLCBFTVBUWV9QQVlMT0FELCBub29wLCBub29wKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB6b25lLnJ1blRhc2sodGFzaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgem9uZS5jYW5jZWxUYXNrKHRhc2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgYHJ1bmAsIGV4Y2VwdCB0aGF0IHN5bmNocm9ub3VzIGVycm9ycyBhcmUgY2F1Z2h0IGFuZCBmb3J3YXJkZWQgdmlhIGBvbkVycm9yYCBhbmQgbm90XG4gICAgICogcmV0aHJvd24uXG4gICAgICovXG4gICAgcnVuR3VhcmRlZChmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyLnJ1bkd1YXJkZWQoZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGBmbmAgZnVuY3Rpb24gc3luY2hyb25vdXNseSBpbiBBbmd1bGFyJ3MgcGFyZW50IHpvbmUgYW5kIHJldHVybnMgdmFsdWUgcmV0dXJuZWQgYnlcbiAgICAgKiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBSdW5uaW5nIGZ1bmN0aW9ucyB2aWEge0BsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0gYWxsb3dzIHlvdSB0byBlc2NhcGUgQW5ndWxhcidzIHpvbmUgYW5kIGRvXG4gICAgICogd29yayB0aGF0XG4gICAgICogZG9lc24ndCB0cmlnZ2VyIEFuZ3VsYXIgY2hhbmdlLWRldGVjdGlvbiBvciBpcyBzdWJqZWN0IHRvIEFuZ3VsYXIncyBlcnJvciBoYW5kbGluZy5cbiAgICAgKlxuICAgICAqIEFueSBmdXR1cmUgdGFza3Mgb3IgbWljcm90YXNrcyBzY2hlZHVsZWQgZnJvbSB3aXRoaW4gdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIGV4ZWN1dGluZyBmcm9tXG4gICAgICogb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lLlxuICAgICAqXG4gICAgICogVXNlIHtAbGluayAjcnVufSB0byByZWVudGVyIHRoZSBBbmd1bGFyIHpvbmUgYW5kIGRvIHdvcmsgdGhhdCB1cGRhdGVzIHRoZSBhcHBsaWNhdGlvbiBtb2RlbC5cbiAgICAgKi9cbiAgICBydW5PdXRzaWRlQW5ndWxhcihmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3V0ZXIucnVuKGZuKTtcbiAgICB9XG59XG5jb25zdCBFTVBUWV9QQVlMT0FEID0ge307XG5mdW5jdGlvbiBjaGVja1N0YWJsZSh6b25lKSB7XG4gICAgLy8gVE9ETzogQEppYUxpUGFzc2lvbiwgc2hvdWxkIGNoZWNrIHpvbmUuaXNDaGVja1N0YWJsZVJ1bm5pbmcgdG8gcHJldmVudFxuICAgIC8vIHJlLWVudHJ5LiBUaGUgY2FzZSBpczpcbiAgICAvL1xuICAgIC8vIEBDb21wb25lbnQoey4uLn0pXG4gICAgLy8gZXhwb3J0IGNsYXNzIEFwcENvbXBvbmVudCB7XG4gICAgLy8gY29uc3RydWN0b3IocHJpdmF0ZSBuZ1pvbmU6IE5nWm9uZSkge1xuICAgIC8vICAgdGhpcy5uZ1pvbmUub25TdGFibGUuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAvLyAgICAgdGhpcy5uZ1pvbmUucnVuKCgpID0+IGNvbnNvbGUubG9nKCdzdGFibGUnKTspO1xuICAgIC8vICAgfSk7XG4gICAgLy8gfVxuICAgIC8vXG4gICAgLy8gVGhlIG9uU3RhYmxlIHN1YnNjcmliZXIgcnVuIGFub3RoZXIgZnVuY3Rpb24gaW5zaWRlIG5nWm9uZVxuICAgIC8vIHdoaWNoIGNhdXNlcyBgY2hlY2tTdGFibGUoKWAgcmUtZW50cnkuXG4gICAgLy8gQnV0IHRoaXMgZml4IGNhdXNlcyBzb21lIGlzc3VlcyBpbiBnMywgc28gdGhpcyBmaXggd2lsbCBiZVxuICAgIC8vIGxhdW5jaGVkIGluIGFub3RoZXIgUFIuXG4gICAgaWYgKHpvbmUuX25lc3RpbmcgPT0gMCAmJiAhem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcyAmJiAhem9uZS5pc1N0YWJsZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgem9uZS5fbmVzdGluZysrO1xuICAgICAgICAgICAgem9uZS5vbk1pY3JvdGFza0VtcHR5LmVtaXQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB6b25lLl9uZXN0aW5nLS07XG4gICAgICAgICAgICBpZiAoIXpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB6b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHpvbmUub25TdGFibGUuZW1pdChudWxsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB6b25lLmlzU3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50cyh6b25lKSB7XG4gICAgLyoqXG4gICAgICogV2UgYWxzbyBuZWVkIHRvIGNoZWNrIF9uZXN0aW5nIGhlcmVcbiAgICAgKiBDb25zaWRlciB0aGUgZm9sbG93aW5nIGNhc2Ugd2l0aCBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiA9IHRydWVcbiAgICAgKlxuICAgICAqIG5nWm9uZS5ydW4oKCkgPT4ge30pO1xuICAgICAqIG5nWm9uZS5ydW4oKCkgPT4ge30pO1xuICAgICAqXG4gICAgICogV2Ugd2FudCB0aGUgdHdvIGBuZ1pvbmUucnVuKClgIG9ubHkgdHJpZ2dlciBvbmUgY2hhbmdlIGRldGVjdGlvblxuICAgICAqIHdoZW4gc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gaXMgdHJ1ZS5cbiAgICAgKiBBbmQgYmVjYXVzZSBpbiB0aGlzIGNhc2UsIGNoYW5nZSBkZXRlY3Rpb24gcnVuIGluIGFzeW5jIHdheShyZXF1ZXN0QW5pbWF0aW9uRnJhbWUpLFxuICAgICAqIHNvIHdlIGFsc28gbmVlZCB0byBjaGVjayB0aGUgX25lc3RpbmcgaGVyZSB0byBwcmV2ZW50IG11bHRpcGxlXG4gICAgICogY2hhbmdlIGRldGVjdGlvbnMuXG4gICAgICovXG4gICAgaWYgKHpvbmUuaXNDaGVja1N0YWJsZVJ1bm5pbmcgfHwgem9uZS5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgIT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgem9uZS5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSB6b25lLm5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZS5jYWxsKF9nbG9iYWwsICgpID0+IHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIHdvcmsgYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8zNjgzOS5cbiAgICAgICAgLy8gVGhlIGNvcmUgaXNzdWUgaXMgdGhhdCB3aGVuIGV2ZW50IGNvYWxlc2NpbmcgaXMgZW5hYmxlZCBpdCBpcyBwb3NzaWJsZSBmb3IgbWljcm90YXNrc1xuICAgICAgICAvLyB0byBnZXQgZmx1c2hlZCB0b28gZWFybHkgKEFzIGlzIHRoZSBjYXNlIHdpdGggYFByb21pc2UudGhlbmApIGJldHdlZW4gdGhlXG4gICAgICAgIC8vIGNvYWxlc2NpbmcgZXZlbnRUYXNrcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVG8gd29ya2Fyb3VuZCB0aGlzIHdlIHNjaGVkdWxlIGEgXCJmYWtlXCIgZXZlbnRUYXNrIGJlZm9yZSB3ZSBwcm9jZXNzIHRoZVxuICAgICAgICAvLyBjb2FsZXNjaW5nIGV2ZW50VGFza3MuIFRoZSBiZW5lZml0IG9mIHRoaXMgaXMgdGhhdCB0aGUgXCJmYWtlXCIgY29udGFpbmVyIGV2ZW50VGFza1xuICAgICAgICAvLyAgd2lsbCBwcmV2ZW50IHRoZSBtaWNyb3Rhc2tzIHF1ZXVlIGZyb20gZ2V0dGluZyBkcmFpbmVkIGluIGJldHdlZW4gdGhlIGNvYWxlc2NpbmdcbiAgICAgICAgLy8gZXZlbnRUYXNrIGV4ZWN1dGlvbi5cbiAgICAgICAgaWYgKCF6b25lLmZha2VUb3BFdmVudFRhc2spIHtcbiAgICAgICAgICAgIHpvbmUuZmFrZVRvcEV2ZW50VGFzayA9IFpvbmUucm9vdC5zY2hlZHVsZUV2ZW50VGFzaygnZmFrZVRvcEV2ZW50VGFzaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICB6b25lLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9IC0xO1xuICAgICAgICAgICAgICAgIHVwZGF0ZU1pY3JvVGFza1N0YXR1cyh6b25lKTtcbiAgICAgICAgICAgICAgICB6b25lLmlzQ2hlY2tTdGFibGVSdW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjaGVja1N0YWJsZSh6b25lKTtcbiAgICAgICAgICAgICAgICB6b25lLmlzQ2hlY2tTdGFibGVSdW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9LCB1bmRlZmluZWQsICgpID0+IHsgfSwgKCkgPT4geyB9KTtcbiAgICAgICAgfVxuICAgICAgICB6b25lLmZha2VUb3BFdmVudFRhc2suaW52b2tlKCk7XG4gICAgfSk7XG4gICAgdXBkYXRlTWljcm9UYXNrU3RhdHVzKHpvbmUpO1xufVxuZnVuY3Rpb24gZm9ya0lubmVyWm9uZVdpdGhBbmd1bGFyQmVoYXZpb3Ioem9uZSkge1xuICAgIGNvbnN0IGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzRGVsZWdhdGUgPSAoKSA9PiB7XG4gICAgICAgIGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzKHpvbmUpO1xuICAgIH07XG4gICAgem9uZS5faW5uZXIgPSB6b25lLl9pbm5lci5mb3JrKHtcbiAgICAgICAgbmFtZTogJ2FuZ3VsYXInLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7ICdpc0FuZ3VsYXJab25lJzogdHJ1ZSB9LFxuICAgICAgICBvbkludm9rZVRhc2s6IChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCB0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncykgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvbkVudGVyKHpvbmUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5pbnZva2VUYXNrKHRhcmdldCwgdGFzaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKCh6b25lLnNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24gJiYgdGFzay50eXBlID09PSAnZXZlbnRUYXNrJykgfHxcbiAgICAgICAgICAgICAgICAgICAgem9uZS5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50c0RlbGVnYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uTGVhdmUoem9uZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uSW52b2tlOiAoZGVsZWdhdGUsIGN1cnJlbnQsIHRhcmdldCwgY2FsbGJhY2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzLCBzb3VyY2UpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgb25FbnRlcih6b25lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuaW52b2tlKHRhcmdldCwgY2FsbGJhY2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzLCBzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKHpvbmUuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHNEZWxlZ2F0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbkxlYXZlKHpvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkhhc1Rhc2s6IChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCBoYXNUYXNrU3RhdGUpID0+IHtcbiAgICAgICAgICAgIGRlbGVnYXRlLmhhc1Rhc2sodGFyZ2V0LCBoYXNUYXNrU3RhdGUpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBvbmx5IGludGVyZXN0ZWQgaW4gaGFzVGFzayBldmVudHMgd2hpY2ggb3JpZ2luYXRlIGZyb20gb3VyIHpvbmVcbiAgICAgICAgICAgICAgICAvLyAoQSBjaGlsZCBoYXNUYXNrIGV2ZW50IGlzIG5vdCBpbnRlcmVzdGluZyB0byB1cylcbiAgICAgICAgICAgICAgICBpZiAoaGFzVGFza1N0YXRlLmNoYW5nZSA9PSAnbWljcm9UYXNrJykge1xuICAgICAgICAgICAgICAgICAgICB6b25lLl9oYXNQZW5kaW5nTWljcm90YXNrcyA9IGhhc1Rhc2tTdGF0ZS5taWNyb1Rhc2s7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1pY3JvVGFza1N0YXR1cyh6b25lKTtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tTdGFibGUoem9uZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhc1Rhc2tTdGF0ZS5jaGFuZ2UgPT0gJ21hY3JvVGFzaycpIHtcbiAgICAgICAgICAgICAgICAgICAgem9uZS5oYXNQZW5kaW5nTWFjcm90YXNrcyA9IGhhc1Rhc2tTdGF0ZS5tYWNyb1Rhc2s7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkhhbmRsZUVycm9yOiAoZGVsZWdhdGUsIGN1cnJlbnQsIHRhcmdldCwgZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGRlbGVnYXRlLmhhbmRsZUVycm9yKHRhcmdldCwgZXJyb3IpO1xuICAgICAgICAgICAgem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB6b25lLm9uRXJyb3IuZW1pdChlcnJvcikpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiB1cGRhdGVNaWNyb1Rhc2tTdGF0dXMoem9uZSkge1xuICAgIGlmICh6b25lLl9oYXNQZW5kaW5nTWljcm90YXNrcyB8fFxuICAgICAgICAoKHpvbmUuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiB8fCB6b25lLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uKSAmJlxuICAgICAgICAgICAgem9uZS5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgIT09IC0xKSkge1xuICAgICAgICB6b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzID0gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MgPSBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBvbkVudGVyKHpvbmUpIHtcbiAgICB6b25lLl9uZXN0aW5nKys7XG4gICAgaWYgKHpvbmUuaXNTdGFibGUpIHtcbiAgICAgICAgem9uZS5pc1N0YWJsZSA9IGZhbHNlO1xuICAgICAgICB6b25lLm9uVW5zdGFibGUuZW1pdChudWxsKTtcbiAgICB9XG59XG5mdW5jdGlvbiBvbkxlYXZlKHpvbmUpIHtcbiAgICB6b25lLl9uZXN0aW5nLS07XG4gICAgY2hlY2tTdGFibGUoem9uZSk7XG59XG4vKipcbiAqIFByb3ZpZGVzIGEgbm9vcCBpbXBsZW1lbnRhdGlvbiBvZiBgTmdab25lYCB3aGljaCBkb2VzIG5vdGhpbmcuIFRoaXMgem9uZSByZXF1aXJlcyBleHBsaWNpdCBjYWxsc1xuICogdG8gZnJhbWV3b3JrIHRvIHBlcmZvcm0gcmVuZGVyaW5nLlxuICovXG5jbGFzcyBOb29wTmdab25lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWljcm90YXNrcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdNYWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNTdGFibGUgPSB0cnVlO1xuICAgICAgICB0aGlzLm9uVW5zdGFibGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25NaWNyb3Rhc2tFbXB0eSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vblN0YWJsZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkVycm9yID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIH1cbiAgICBydW4oZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgfVxuICAgIHJ1bkd1YXJkZWQoZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgfVxuICAgIHJ1bk91dHNpZGVBbmd1bGFyKGZuKSB7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgIH1cbiAgICBydW5UYXNrKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncywgbmFtZSkge1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSBUZXN0YWJpbGl0eSBzZXJ2aWNlIHByb3ZpZGVzIHRlc3RpbmcgaG9va3MgdGhhdCBjYW4gYmUgYWNjZXNzZWQgZnJvbVxuICogdGhlIGJyb3dzZXIuIEVhY2ggYm9vdHN0cmFwcGVkIEFuZ3VsYXIgYXBwbGljYXRpb24gb24gdGhlIHBhZ2Ugd2lsbCBoYXZlXG4gKiBhbiBpbnN0YW5jZSBvZiBUZXN0YWJpbGl0eS5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgVGVzdGFiaWxpdHkge1xuICAgIGNvbnN0cnVjdG9yKF9uZ1pvbmUpIHtcbiAgICAgICAgdGhpcy5fbmdab25lID0gX25nWm9uZTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0NvdW50ID0gMDtcbiAgICAgICAgdGhpcy5faXNab25lU3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgYW55IHdvcmsgd2FzIGRvbmUgc2luY2UgdGhlIGxhc3QgJ3doZW5TdGFibGUnIGNhbGxiYWNrLiBUaGlzIGlzXG4gICAgICAgICAqIHVzZWZ1bCB0byBkZXRlY3QgaWYgdGhpcyBjb3VsZCBoYXZlIHBvdGVudGlhbGx5IGRlc3RhYmlsaXplZCBhbm90aGVyXG4gICAgICAgICAqIGNvbXBvbmVudCB3aGlsZSBpdCBpcyBzdGFiaWxpemluZy5cbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kaWRXb3JrID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IFtdO1xuICAgICAgICB0aGlzLnRhc2tUcmFja2luZ1pvbmUgPSBudWxsO1xuICAgICAgICB0aGlzLl93YXRjaEFuZ3VsYXJFdmVudHMoKTtcbiAgICAgICAgX25nWm9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50YXNrVHJhY2tpbmdab25lID1cbiAgICAgICAgICAgICAgICB0eXBlb2YgWm9uZSA9PSAndW5kZWZpbmVkJyA/IG51bGwgOiBab25lLmN1cnJlbnQuZ2V0KCdUYXNrVHJhY2tpbmdab25lJyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfd2F0Y2hBbmd1bGFyRXZlbnRzKCkge1xuICAgICAgICB0aGlzLl9uZ1pvbmUub25VbnN0YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RpZFdvcmsgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzWm9uZVN0YWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX25nWm9uZS5vblN0YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgIG5leHQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgTmdab25lLmFzc2VydE5vdEluQW5ndWxhclpvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVNaWNyb1Rhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNab25lU3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbmNyZWFzZXMgdGhlIG51bWJlciBvZiBwZW5kaW5nIHJlcXVlc3RcbiAgICAgKiBAZGVwcmVjYXRlZCBwZW5kaW5nIHJlcXVlc3RzIGFyZSBub3cgdHJhY2tlZCB3aXRoIHpvbmVzLlxuICAgICAqL1xuICAgIGluY3JlYXNlUGVuZGluZ1JlcXVlc3RDb3VudCgpIHtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0NvdW50ICs9IDE7XG4gICAgICAgIHRoaXMuX2RpZFdvcmsgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWNyZWFzZXMgdGhlIG51bWJlciBvZiBwZW5kaW5nIHJlcXVlc3RcbiAgICAgKiBAZGVwcmVjYXRlZCBwZW5kaW5nIHJlcXVlc3RzIGFyZSBub3cgdHJhY2tlZCB3aXRoIHpvbmVzXG4gICAgICovXG4gICAgZGVjcmVhc2VQZW5kaW5nUmVxdWVzdENvdW50KCkge1xuICAgICAgICB0aGlzLl9wZW5kaW5nQ291bnQgLT0gMTtcbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdDb3VudCA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGVuZGluZyBhc3luYyByZXF1ZXN0cyBiZWxvdyB6ZXJvJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGFuIGFzc29jaWF0ZWQgYXBwbGljYXRpb24gaXMgc3RhYmxlXG4gICAgICovXG4gICAgaXNTdGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1pvbmVTdGFibGUgJiYgdGhpcy5fcGVuZGluZ0NvdW50ID09PSAwICYmICF0aGlzLl9uZ1pvbmUuaGFzUGVuZGluZ01hY3JvdGFza3M7XG4gICAgfVxuICAgIF9ydW5DYWxsYmFja3NJZlJlYWR5KCkge1xuICAgICAgICBpZiAodGhpcy5pc1N0YWJsZSgpKSB7XG4gICAgICAgICAgICAvLyBTY2hlZHVsZXMgdGhlIGNhbGwgYmFja3MgaW4gYSBuZXcgZnJhbWUgc28gdGhhdCBpdCBpcyBhbHdheXMgYXN5bmMuXG4gICAgICAgICAgICBzY2hlZHVsZU1pY3JvVGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuX2NhbGxiYWNrcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNiID0gdGhpcy5fY2FsbGJhY2tzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY2IudGltZW91dElkKTtcbiAgICAgICAgICAgICAgICAgICAgY2IuZG9uZUNiKHRoaXMuX2RpZFdvcmspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9kaWRXb3JrID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFN0aWxsIG5vdCBzdGFibGUsIHNlbmQgdXBkYXRlcy5cbiAgICAgICAgICAgIGxldCBwZW5kaW5nID0gdGhpcy5nZXRQZW5kaW5nVGFza3MoKTtcbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcy5maWx0ZXIoKGNiKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNiLnVwZGF0ZUNiICYmIGNiLnVwZGF0ZUNiKHBlbmRpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjYi50aW1lb3V0SWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9kaWRXb3JrID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRQZW5kaW5nVGFza3MoKSB7XG4gICAgICAgIGlmICghdGhpcy50YXNrVHJhY2tpbmdab25lKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29weSB0aGUgdGFza3MgZGF0YSBzbyB0aGF0IHdlIGRvbid0IGxlYWsgdGFza3MuXG4gICAgICAgIHJldHVybiB0aGlzLnRhc2tUcmFja2luZ1pvbmUubWFjcm9UYXNrcy5tYXAoKHQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc291cmNlOiB0LnNvdXJjZSxcbiAgICAgICAgICAgICAgICAvLyBGcm9tIFRhc2tUcmFja2luZ1pvbmU6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvem9uZS5qcy9ibG9iL21hc3Rlci9saWIvem9uZS1zcGVjL3Rhc2stdHJhY2tpbmcudHMjTDQwXG4gICAgICAgICAgICAgICAgY3JlYXRpb25Mb2NhdGlvbjogdC5jcmVhdGlvbkxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIGRhdGE6IHQuZGF0YVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFkZENhbGxiYWNrKGNiLCB0aW1lb3V0LCB1cGRhdGVDYikge1xuICAgICAgICBsZXQgdGltZW91dElkID0gLTE7XG4gICAgICAgIGlmICh0aW1lb3V0ICYmIHRpbWVvdXQgPiAwKSB7XG4gICAgICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MuZmlsdGVyKChjYikgPT4gY2IudGltZW91dElkICE9PSB0aW1lb3V0SWQpO1xuICAgICAgICAgICAgICAgIGNiKHRoaXMuX2RpZFdvcmssIHRoaXMuZ2V0UGVuZGluZ1Rhc2tzKCkpO1xuICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzLnB1c2goeyBkb25lQ2I6IGNiLCB0aW1lb3V0SWQ6IHRpbWVvdXRJZCwgdXBkYXRlQ2I6IHVwZGF0ZUNiIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXYWl0IGZvciB0aGUgYXBwbGljYXRpb24gdG8gYmUgc3RhYmxlIHdpdGggYSB0aW1lb3V0LiBJZiB0aGUgdGltZW91dCBpcyByZWFjaGVkIGJlZm9yZSB0aGF0XG4gICAgICogaGFwcGVucywgdGhlIGNhbGxiYWNrIHJlY2VpdmVzIGEgbGlzdCBvZiB0aGUgbWFjcm8gdGFza3MgdGhhdCB3ZXJlIHBlbmRpbmcsIG90aGVyd2lzZSBudWxsLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRvbmVDYiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gQW5ndWxhciBpcyBzdGFibGUgb3IgdGhlIHRpbWVvdXQgZXhwaXJlc1xuICAgICAqICAgIHdoaWNoZXZlciBjb21lcyBmaXJzdC5cbiAgICAgKiBAcGFyYW0gdGltZW91dCBPcHRpb25hbC4gVGhlIG1heGltdW0gdGltZSB0byB3YWl0IGZvciBBbmd1bGFyIHRvIGJlY29tZSBzdGFibGUuIElmIG5vdFxuICAgICAqICAgIHNwZWNpZmllZCwgd2hlblN0YWJsZSgpIHdpbGwgd2FpdCBmb3JldmVyLlxuICAgICAqIEBwYXJhbSB1cGRhdGVDYiBPcHRpb25hbC4gSWYgc3BlY2lmaWVkLCB0aGlzIGNhbGxiYWNrIHdpbGwgYmUgaW52b2tlZCB3aGVuZXZlciB0aGUgc2V0IG9mXG4gICAgICogICAgcGVuZGluZyBtYWNyb3Rhc2tzIGNoYW5nZXMuIElmIHRoaXMgY2FsbGJhY2sgcmV0dXJucyB0cnVlIGRvbmVDYiB3aWxsIG5vdCBiZSBpbnZva2VkXG4gICAgICogICAgYW5kIG5vIGZ1cnRoZXIgdXBkYXRlcyB3aWxsIGJlIGlzc3VlZC5cbiAgICAgKi9cbiAgICB3aGVuU3RhYmxlKGRvbmVDYiwgdGltZW91dCwgdXBkYXRlQ2IpIHtcbiAgICAgICAgaWYgKHVwZGF0ZUNiICYmICF0aGlzLnRhc2tUcmFja2luZ1pvbmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGFzayB0cmFja2luZyB6b25lIGlzIHJlcXVpcmVkIHdoZW4gcGFzc2luZyBhbiB1cGRhdGUgY2FsbGJhY2sgdG8gJyArXG4gICAgICAgICAgICAgICAgJ3doZW5TdGFibGUoKS4gSXMgXCJ6b25lLmpzL3BsdWdpbnMvdGFzay10cmFja2luZ1wiIGxvYWRlZD8nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGVzZSBhcmd1bWVudHMgYXJlICdGdW5jdGlvbicgYWJvdmUgdG8ga2VlcCB0aGUgcHVibGljIEFQSSBzaW1wbGUuXG4gICAgICAgIHRoaXMuYWRkQ2FsbGJhY2soZG9uZUNiLCB0aW1lb3V0LCB1cGRhdGVDYik7XG4gICAgICAgIHRoaXMuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBudW1iZXIgb2YgcGVuZGluZyByZXF1ZXN0c1xuICAgICAqIEBkZXByZWNhdGVkIHBlbmRpbmcgcmVxdWVzdHMgYXJlIG5vdyB0cmFja2VkIHdpdGggem9uZXNcbiAgICAgKi9cbiAgICBnZXRQZW5kaW5nUmVxdWVzdENvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHByb3ZpZGVycyBieSBuYW1lXG4gICAgICogQHBhcmFtIHVzaW5nIFRoZSByb290IGVsZW1lbnQgdG8gc2VhcmNoIGZyb21cbiAgICAgKiBAcGFyYW0gcHJvdmlkZXIgVGhlIG5hbWUgb2YgYmluZGluZyB2YXJpYWJsZVxuICAgICAqIEBwYXJhbSBleGFjdE1hdGNoIFdoZXRoZXIgdXNpbmcgZXhhY3RNYXRjaFxuICAgICAqL1xuICAgIGZpbmRQcm92aWRlcnModXNpbmcsIHByb3ZpZGVyLCBleGFjdE1hdGNoKSB7XG4gICAgICAgIC8vIFRPRE8oanVsaWVtcik6IGltcGxlbWVudC5cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbn1cblRlc3RhYmlsaXR5Lsm1ZmFjID0gZnVuY3Rpb24gVGVzdGFiaWxpdHlfRmFjdG9yeSh0KSB7IHJldHVybiBuZXcgKHQgfHwgVGVzdGFiaWxpdHkpKMm1ybVpbmplY3QoTmdab25lKSk7IH07XG5UZXN0YWJpbGl0eS7JtXByb3YgPSAvKkBfX1BVUkVfXyovIMm1ybVkZWZpbmVJbmplY3RhYmxlKHsgdG9rZW46IFRlc3RhYmlsaXR5LCBmYWN0b3J5OiBUZXN0YWJpbGl0eS7JtWZhYyB9KTtcbihmdW5jdGlvbiAoKSB7XG4gICAgKHR5cGVvZiBuZ0Rldk1vZGUgPT09IFwidW5kZWZpbmVkXCIgfHwgbmdEZXZNb2RlKSAmJiBzZXRDbGFzc01ldGFkYXRhKFRlc3RhYmlsaXR5LCBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogTmdab25lIH1dOyB9LCBudWxsKTtcbn0pKCk7XG4vKipcbiAqIEEgZ2xvYmFsIHJlZ2lzdHJ5IG9mIHtAbGluayBUZXN0YWJpbGl0eX0gaW5zdGFuY2VzIGZvciBzcGVjaWZpYyBlbGVtZW50cy5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgVGVzdGFiaWxpdHlSZWdpc3RyeSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fYXBwbGljYXRpb25zID0gbmV3IE1hcCgpO1xuICAgICAgICBfdGVzdGFiaWxpdHlHZXR0ZXIuYWRkVG9XaW5kb3codGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhbiBhcHBsaWNhdGlvbiB3aXRoIGEgdGVzdGFiaWxpdHkgaG9vayBzbyB0aGF0IGl0IGNhbiBiZSB0cmFja2VkXG4gICAgICogQHBhcmFtIHRva2VuIHRva2VuIG9mIGFwcGxpY2F0aW9uLCByb290IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gdGVzdGFiaWxpdHkgVGVzdGFiaWxpdHkgaG9va1xuICAgICAqL1xuICAgIHJlZ2lzdGVyQXBwbGljYXRpb24odG9rZW4sIHRlc3RhYmlsaXR5KSB7XG4gICAgICAgIHRoaXMuX2FwcGxpY2F0aW9ucy5zZXQodG9rZW4sIHRlc3RhYmlsaXR5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgYW4gYXBwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHRva2VuIHRva2VuIG9mIGFwcGxpY2F0aW9uLCByb290IGVsZW1lbnRcbiAgICAgKi9cbiAgICB1bnJlZ2lzdGVyQXBwbGljYXRpb24odG9rZW4pIHtcbiAgICAgICAgdGhpcy5fYXBwbGljYXRpb25zLmRlbGV0ZSh0b2tlbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVucmVnaXN0ZXJzIGFsbCBhcHBsaWNhdGlvbnNcbiAgICAgKi9cbiAgICB1bnJlZ2lzdGVyQWxsQXBwbGljYXRpb25zKCkge1xuICAgICAgICB0aGlzLl9hcHBsaWNhdGlvbnMuY2xlYXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgdGVzdGFiaWxpdHkgaG9vayBhc3NvY2lhdGVkIHdpdGggdGhlIGFwcGxpY2F0aW9uXG4gICAgICogQHBhcmFtIGVsZW0gcm9vdCBlbGVtZW50XG4gICAgICovXG4gICAgZ2V0VGVzdGFiaWxpdHkoZWxlbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbGljYXRpb25zLmdldChlbGVtKSB8fCBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHJlZ2lzdGVyZWQgdGVzdGFiaWxpdGllc1xuICAgICAqL1xuICAgIGdldEFsbFRlc3RhYmlsaXRpZXMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2FwcGxpY2F0aW9ucy52YWx1ZXMoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgcmVnaXN0ZXJlZCBhcHBsaWNhdGlvbnMocm9vdCBlbGVtZW50cylcbiAgICAgKi9cbiAgICBnZXRBbGxSb290RWxlbWVudHMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2FwcGxpY2F0aW9ucy5rZXlzKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHRlc3RhYmlsaXR5IG9mIGEgbm9kZSBpbiB0aGUgVHJlZVxuICAgICAqIEBwYXJhbSBlbGVtIG5vZGVcbiAgICAgKiBAcGFyYW0gZmluZEluQW5jZXN0b3JzIHdoZXRoZXIgZmluZGluZyB0ZXN0YWJpbGl0eSBpbiBhbmNlc3RvcnMgaWYgdGVzdGFiaWxpdHkgd2FzIG5vdCBmb3VuZCBpblxuICAgICAqIGN1cnJlbnQgbm9kZVxuICAgICAqL1xuICAgIGZpbmRUZXN0YWJpbGl0eUluVHJlZShlbGVtLCBmaW5kSW5BbmNlc3RvcnMgPSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBfdGVzdGFiaWxpdHlHZXR0ZXIuZmluZFRlc3RhYmlsaXR5SW5UcmVlKHRoaXMsIGVsZW0sIGZpbmRJbkFuY2VzdG9ycyk7XG4gICAgfVxufVxuVGVzdGFiaWxpdHlSZWdpc3RyeS7JtWZhYyA9IGZ1bmN0aW9uIFRlc3RhYmlsaXR5UmVnaXN0cnlfRmFjdG9yeSh0KSB7IHJldHVybiBuZXcgKHQgfHwgVGVzdGFiaWxpdHlSZWdpc3RyeSkoKTsgfTtcblRlc3RhYmlsaXR5UmVnaXN0cnkuybVwcm92ID0gLypAX19QVVJFX18qLyDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7IHRva2VuOiBUZXN0YWJpbGl0eVJlZ2lzdHJ5LCBmYWN0b3J5OiBUZXN0YWJpbGl0eVJlZ2lzdHJ5Lsm1ZmFjIH0pO1xuKGZ1bmN0aW9uICgpIHtcbiAgICAodHlwZW9mIG5nRGV2TW9kZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBuZ0Rldk1vZGUpICYmIHNldENsYXNzTWV0YWRhdGEoVGVzdGFiaWxpdHlSZWdpc3RyeSwgW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdOyB9LCBudWxsKTtcbn0pKCk7XG5jbGFzcyBfTm9vcEdldFRlc3RhYmlsaXR5IHtcbiAgICBhZGRUb1dpbmRvdyhyZWdpc3RyeSkgeyB9XG4gICAgZmluZFRlc3RhYmlsaXR5SW5UcmVlKHJlZ2lzdHJ5LCBlbGVtLCBmaW5kSW5BbmNlc3RvcnMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuLyoqXG4gKiBTZXQgdGhlIHtAbGluayBHZXRUZXN0YWJpbGl0eX0gaW1wbGVtZW50YXRpb24gdXNlZCBieSB0aGUgQW5ndWxhciB0ZXN0aW5nIGZyYW1ld29yay5cbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gc2V0VGVzdGFiaWxpdHlHZXR0ZXIoZ2V0dGVyKSB7XG4gICAgX3Rlc3RhYmlsaXR5R2V0dGVyID0gZ2V0dGVyO1xufVxubGV0IF90ZXN0YWJpbGl0eUdldHRlciA9IG5ldyBfTm9vcEdldFRlc3RhYmlsaXR5KCk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xubGV0IF9wbGF0Zm9ybTtcbmZ1bmN0aW9uIGNvbXBpbGVOZ01vZHVsZUZhY3RvcnkoaW5qZWN0b3IsIG9wdGlvbnMsIG1vZHVsZVR5cGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0TmdNb2R1bGVUeXBlKG1vZHVsZVR5cGUpO1xuICAgIGNvbnN0IG1vZHVsZUZhY3RvcnkgPSBuZXcgTmdNb2R1bGVGYWN0b3J5KG1vZHVsZVR5cGUpO1xuICAgIC8vIEFsbCBvZiB0aGUgbG9naWMgYmVsb3cgaXMgaXJyZWxldmFudCBmb3IgQU9ULWNvbXBpbGVkIGNvZGUuXG4gICAgaWYgKHR5cGVvZiBuZ0ppdE1vZGUgIT09ICd1bmRlZmluZWQnICYmICFuZ0ppdE1vZGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtb2R1bGVGYWN0b3J5KTtcbiAgICB9XG4gICAgY29uc3QgY29tcGlsZXJPcHRpb25zID0gaW5qZWN0b3IuZ2V0KENPTVBJTEVSX09QVElPTlMsIFtdKS5jb25jYXQob3B0aW9ucyk7XG4gICAgLy8gQ29uZmlndXJlIHRoZSBjb21waWxlciB0byB1c2UgdGhlIHByb3ZpZGVkIG9wdGlvbnMuIFRoaXMgY2FsbCBtYXkgZmFpbCB3aGVuIG11bHRpcGxlIG1vZHVsZXNcbiAgICAvLyBhcmUgYm9vdHN0cmFwcGVkIHdpdGggaW5jb21wYXRpYmxlIG9wdGlvbnMsIGFzIGEgY29tcG9uZW50IGNhbiBvbmx5IGJlIGNvbXBpbGVkIGFjY29yZGluZyB0b1xuICAgIC8vIGEgc2luZ2xlIHNldCBvZiBvcHRpb25zLlxuICAgIHNldEppdE9wdGlvbnMoe1xuICAgICAgICBkZWZhdWx0RW5jYXBzdWxhdGlvbjogX2xhc3REZWZpbmVkKGNvbXBpbGVyT3B0aW9ucy5tYXAob3B0cyA9PiBvcHRzLmRlZmF1bHRFbmNhcHN1bGF0aW9uKSksXG4gICAgICAgIHByZXNlcnZlV2hpdGVzcGFjZXM6IF9sYXN0RGVmaW5lZChjb21waWxlck9wdGlvbnMubWFwKG9wdHMgPT4gb3B0cy5wcmVzZXJ2ZVdoaXRlc3BhY2VzKSksXG4gICAgfSk7XG4gICAgaWYgKGlzQ29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWVFbXB0eSgpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobW9kdWxlRmFjdG9yeSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXBpbGVyUHJvdmlkZXJzID0gX21lcmdlQXJyYXlzKGNvbXBpbGVyT3B0aW9ucy5tYXAobyA9PiBvLnByb3ZpZGVycykpO1xuICAgIC8vIEluIGNhc2UgdGhlcmUgYXJlIG5vIGNvbXBpbGVyIHByb3ZpZGVycywgd2UganVzdCByZXR1cm4gdGhlIG1vZHVsZSBmYWN0b3J5IGFzXG4gICAgLy8gdGhlcmUgd29uJ3QgYmUgYW55IHJlc291cmNlIGxvYWRlci4gVGhpcyBjYW4gaGFwcGVuIHdpdGggSXZ5LCBiZWNhdXNlIEFPVCBjb21waWxlZFxuICAgIC8vIG1vZHVsZXMgY2FuIGJlIHN0aWxsIHBhc3NlZCB0aHJvdWdoIFwiYm9vdHN0cmFwTW9kdWxlXCIuIEluIHRoYXQgY2FzZSB3ZSBzaG91bGRuJ3RcbiAgICAvLyB1bm5lY2Vzc2FyaWx5IHJlcXVpcmUgdGhlIEpJVCBjb21waWxlci5cbiAgICBpZiAoY29tcGlsZXJQcm92aWRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobW9kdWxlRmFjdG9yeSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoe1xuICAgICAgICB1c2FnZTogMCAvKiBEZWNvcmF0b3IgKi8sXG4gICAgICAgIGtpbmQ6ICdOZ01vZHVsZScsXG4gICAgICAgIHR5cGU6IG1vZHVsZVR5cGUsXG4gICAgfSk7XG4gICAgY29uc3QgY29tcGlsZXJJbmplY3RvciA9IEluamVjdG9yLmNyZWF0ZSh7IHByb3ZpZGVyczogY29tcGlsZXJQcm92aWRlcnMgfSk7XG4gICAgY29uc3QgcmVzb3VyY2VMb2FkZXIgPSBjb21waWxlckluamVjdG9yLmdldChjb21waWxlci5SZXNvdXJjZUxvYWRlcik7XG4gICAgLy8gVGhlIHJlc291cmNlIGxvYWRlciBjYW4gYWxzbyByZXR1cm4gYSBzdHJpbmcgd2hpbGUgdGhlIFwicmVzb2x2ZUNvbXBvbmVudFJlc291cmNlc1wiXG4gICAgLy8gYWx3YXlzIGV4cGVjdHMgYSBwcm9taXNlLiBUaGVyZWZvcmUgd2UgbmVlZCB0byB3cmFwIHRoZSByZXR1cm5lZCB2YWx1ZSBpbiBhIHByb21pc2UuXG4gICAgcmV0dXJuIHJlc29sdmVDb21wb25lbnRSZXNvdXJjZXModXJsID0+IFByb21pc2UucmVzb2x2ZShyZXNvdXJjZUxvYWRlci5nZXQodXJsKSkpXG4gICAgICAgIC50aGVuKCgpID0+IG1vZHVsZUZhY3RvcnkpO1xufVxuZnVuY3Rpb24gcHVibGlzaERlZmF1bHRHbG9iYWxVdGlscygpIHtcbiAgICBuZ0Rldk1vZGUgJiYgcHVibGlzaERlZmF1bHRHbG9iYWxVdGlscyQxKCk7XG59XG5mdW5jdGlvbiBpc0JvdW5kVG9Nb2R1bGUoY2YpIHtcbiAgICByZXR1cm4gY2YuaXNCb3VuZFRvTW9kdWxlO1xufVxuY29uc3QgQUxMT1dfTVVMVElQTEVfUExBVEZPUk1TID0gbmV3IEluamVjdGlvblRva2VuKCdBbGxvd011bHRpcGxlVG9rZW4nKTtcbi8qKlxuICogQSB0b2tlbiBmb3IgdGhpcmQtcGFydHkgY29tcG9uZW50cyB0aGF0IGNhbiByZWdpc3RlciB0aGVtc2VsdmVzIHdpdGggTmdQcm9iZS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIE5nUHJvYmVUb2tlbiB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgdG9rZW4pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlcyBhIHBsYXRmb3JtLlxuICogUGxhdGZvcm1zIG11c3QgYmUgY3JlYXRlZCBvbiBsYXVuY2ggdXNpbmcgdGhpcyBmdW5jdGlvbi5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBsYXRmb3JtKGluamVjdG9yKSB7XG4gICAgaWYgKF9wbGF0Zm9ybSAmJiAhX3BsYXRmb3JtLmRlc3Ryb3llZCAmJlxuICAgICAgICAhX3BsYXRmb3JtLmluamVjdG9yLmdldChBTExPV19NVUxUSVBMRV9QTEFURk9STVMsIGZhbHNlKSkge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAnVGhlcmUgY2FuIGJlIG9ubHkgb25lIHBsYXRmb3JtLiBEZXN0cm95IHRoZSBwcmV2aW91cyBvbmUgdG8gY3JlYXRlIGEgbmV3IG9uZS4nIDpcbiAgICAgICAgICAgICcnO1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDQwMCAvKiBNVUxUSVBMRV9QTEFURk9STVMgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgfVxuICAgIHB1Ymxpc2hEZWZhdWx0R2xvYmFsVXRpbHMoKTtcbiAgICBfcGxhdGZvcm0gPSBpbmplY3Rvci5nZXQoUGxhdGZvcm1SZWYpO1xuICAgIGNvbnN0IGluaXRzID0gaW5qZWN0b3IuZ2V0KFBMQVRGT1JNX0lOSVRJQUxJWkVSLCBudWxsKTtcbiAgICBpZiAoaW5pdHMpXG4gICAgICAgIGluaXRzLmZvckVhY2goKGluaXQpID0+IGluaXQoKSk7XG4gICAgcmV0dXJuIF9wbGF0Zm9ybTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGZhY3RvcnkgZm9yIGEgcGxhdGZvcm0uIENhbiBiZSB1c2VkIHRvIHByb3ZpZGUgb3Igb3ZlcnJpZGUgYFByb3ZpZGVyc2Agc3BlY2lmaWMgdG9cbiAqIHlvdXIgYXBwbGljYXRpb24ncyBydW50aW1lIG5lZWRzLCBzdWNoIGFzIGBQTEFURk9STV9JTklUSUFMSVpFUmAgYW5kIGBQTEFURk9STV9JRGAuXG4gKiBAcGFyYW0gcGFyZW50UGxhdGZvcm1GYWN0b3J5IEFub3RoZXIgcGxhdGZvcm0gZmFjdG9yeSB0byBtb2RpZnkuIEFsbG93cyB5b3UgdG8gY29tcG9zZSBmYWN0b3JpZXNcbiAqIHRvIGJ1aWxkIHVwIGNvbmZpZ3VyYXRpb25zIHRoYXQgbWlnaHQgYmUgcmVxdWlyZWQgYnkgZGlmZmVyZW50IGxpYnJhcmllcyBvciBwYXJ0cyBvZiB0aGVcbiAqIGFwcGxpY2F0aW9uLlxuICogQHBhcmFtIG5hbWUgSWRlbnRpZmllcyB0aGUgbmV3IHBsYXRmb3JtIGZhY3RvcnkuXG4gKiBAcGFyYW0gcHJvdmlkZXJzIEEgc2V0IG9mIGRlcGVuZGVuY3kgcHJvdmlkZXJzIGZvciBwbGF0Zm9ybXMgY3JlYXRlZCB3aXRoIHRoZSBuZXcgZmFjdG9yeS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBsYXRmb3JtRmFjdG9yeShwYXJlbnRQbGF0Zm9ybUZhY3RvcnksIG5hbWUsIHByb3ZpZGVycyA9IFtdKSB7XG4gICAgY29uc3QgZGVzYyA9IGBQbGF0Zm9ybTogJHtuYW1lfWA7XG4gICAgY29uc3QgbWFya2VyID0gbmV3IEluamVjdGlvblRva2VuKGRlc2MpO1xuICAgIHJldHVybiAoZXh0cmFQcm92aWRlcnMgPSBbXSkgPT4ge1xuICAgICAgICBsZXQgcGxhdGZvcm0gPSBnZXRQbGF0Zm9ybSgpO1xuICAgICAgICBpZiAoIXBsYXRmb3JtIHx8IHBsYXRmb3JtLmluamVjdG9yLmdldChBTExPV19NVUxUSVBMRV9QTEFURk9STVMsIGZhbHNlKSkge1xuICAgICAgICAgICAgaWYgKHBhcmVudFBsYXRmb3JtRmFjdG9yeSkge1xuICAgICAgICAgICAgICAgIHBhcmVudFBsYXRmb3JtRmFjdG9yeShwcm92aWRlcnMuY29uY2F0KGV4dHJhUHJvdmlkZXJzKS5jb25jYXQoeyBwcm92aWRlOiBtYXJrZXIsIHVzZVZhbHVlOiB0cnVlIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluamVjdGVkUHJvdmlkZXJzID0gcHJvdmlkZXJzLmNvbmNhdChleHRyYVByb3ZpZGVycykuY29uY2F0KHsgcHJvdmlkZTogbWFya2VyLCB1c2VWYWx1ZTogdHJ1ZSB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IElOSkVDVE9SX1NDT1BFLFxuICAgICAgICAgICAgICAgICAgICB1c2VWYWx1ZTogJ3BsYXRmb3JtJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNyZWF0ZVBsYXRmb3JtKEluamVjdG9yLmNyZWF0ZSh7IHByb3ZpZGVyczogaW5qZWN0ZWRQcm92aWRlcnMsIG5hbWU6IGRlc2MgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc3NlcnRQbGF0Zm9ybShtYXJrZXIpO1xuICAgIH07XG59XG4vKipcbiAqIENoZWNrcyB0aGF0IHRoZXJlIGlzIGN1cnJlbnRseSBhIHBsYXRmb3JtIHRoYXQgY29udGFpbnMgdGhlIGdpdmVuIHRva2VuIGFzIGEgcHJvdmlkZXIuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBhc3NlcnRQbGF0Zm9ybShyZXF1aXJlZFRva2VuKSB7XG4gICAgY29uc3QgcGxhdGZvcm0gPSBnZXRQbGF0Zm9ybSgpO1xuICAgIGlmICghcGxhdGZvcm0pIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgPyAnTm8gcGxhdGZvcm0gZXhpc3RzIScgOiAnJztcbiAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig0MDEgLyogUExBVEZPUk1fTk9UX0ZPVU5EICovLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgICBpZiAoKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgJiZcbiAgICAgICAgIXBsYXRmb3JtLmluamVjdG9yLmdldChyZXF1aXJlZFRva2VuLCBudWxsKSkge1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDQwMCAvKiBNVUxUSVBMRV9QTEFURk9STVMgKi8sICdBIHBsYXRmb3JtIHdpdGggYSBkaWZmZXJlbnQgY29uZmlndXJhdGlvbiBoYXMgYmVlbiBjcmVhdGVkLiBQbGVhc2UgZGVzdHJveSBpdCBmaXJzdC4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHBsYXRmb3JtO1xufVxuLyoqXG4gKiBEZXN0cm95cyB0aGUgY3VycmVudCBBbmd1bGFyIHBsYXRmb3JtIGFuZCBhbGwgQW5ndWxhciBhcHBsaWNhdGlvbnMgb24gdGhlIHBhZ2UuXG4gKiBEZXN0cm95cyBhbGwgbW9kdWxlcyBhbmQgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgd2l0aCB0aGUgcGxhdGZvcm0uXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBkZXN0cm95UGxhdGZvcm0oKSB7XG4gICAgaWYgKF9wbGF0Zm9ybSAmJiAhX3BsYXRmb3JtLmRlc3Ryb3llZCkge1xuICAgICAgICBfcGxhdGZvcm0uZGVzdHJveSgpO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCBwbGF0Zm9ybS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGdldFBsYXRmb3JtKCkge1xuICAgIHJldHVybiBfcGxhdGZvcm0gJiYgIV9wbGF0Zm9ybS5kZXN0cm95ZWQgPyBfcGxhdGZvcm0gOiBudWxsO1xufVxuLyoqXG4gKiBUaGUgQW5ndWxhciBwbGF0Zm9ybSBpcyB0aGUgZW50cnkgcG9pbnQgZm9yIEFuZ3VsYXIgb24gYSB3ZWIgcGFnZS5cbiAqIEVhY2ggcGFnZSBoYXMgZXhhY3RseSBvbmUgcGxhdGZvcm0uIFNlcnZpY2VzIChzdWNoIGFzIHJlZmxlY3Rpb24pIHdoaWNoIGFyZSBjb21tb25cbiAqIHRvIGV2ZXJ5IEFuZ3VsYXIgYXBwbGljYXRpb24gcnVubmluZyBvbiB0aGUgcGFnZSBhcmUgYm91bmQgaW4gaXRzIHNjb3BlLlxuICogQSBwYWdlJ3MgcGxhdGZvcm0gaXMgaW5pdGlhbGl6ZWQgaW1wbGljaXRseSB3aGVuIGEgcGxhdGZvcm0gaXMgY3JlYXRlZCB1c2luZyBhIHBsYXRmb3JtXG4gKiBmYWN0b3J5IHN1Y2ggYXMgYFBsYXRmb3JtQnJvd3NlcmAsIG9yIGV4cGxpY2l0bHkgYnkgY2FsbGluZyB0aGUgYGNyZWF0ZVBsYXRmb3JtKClgIGZ1bmN0aW9uLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgUGxhdGZvcm1SZWYge1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBjb25zdHJ1Y3RvcihfaW5qZWN0b3IpIHtcbiAgICAgICAgdGhpcy5faW5qZWN0b3IgPSBfaW5qZWN0b3I7XG4gICAgICAgIHRoaXMuX21vZHVsZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fZGVzdHJveUxpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhbiBgQE5nTW9kdWxlYCBmb3IgdGhlIGdpdmVuIHBsYXRmb3JtLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgUGFzc2luZyBOZ01vZHVsZSBmYWN0b3JpZXMgYXMgdGhlIGBQbGF0Zm9ybVJlZi5ib290c3RyYXBNb2R1bGVGYWN0b3J5YCBmdW5jdGlvblxuICAgICAqICAgICBhcmd1bWVudCBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIGBQbGF0Zm9ybVJlZi5ib290c3RyYXBNb2R1bGVgIEFQSSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGJvb3RzdHJhcE1vZHVsZUZhY3RvcnkobW9kdWxlRmFjdG9yeSwgb3B0aW9ucykge1xuICAgICAgICAvLyBOb3RlOiBXZSBuZWVkIHRvIGNyZWF0ZSB0aGUgTmdab25lIF9iZWZvcmVfIHdlIGluc3RhbnRpYXRlIHRoZSBtb2R1bGUsXG4gICAgICAgIC8vIGFzIGluc3RhbnRpYXRpbmcgdGhlIG1vZHVsZSBjcmVhdGVzIHNvbWUgcHJvdmlkZXJzIGVhZ2VybHkuXG4gICAgICAgIC8vIFNvIHdlIGNyZWF0ZSBhIG1pbmkgcGFyZW50IGluamVjdG9yIHRoYXQganVzdCBjb250YWlucyB0aGUgbmV3IE5nWm9uZSBhbmRcbiAgICAgICAgLy8gcGFzcyB0aGF0IGFzIHBhcmVudCB0byB0aGUgTmdNb2R1bGVGYWN0b3J5LlxuICAgICAgICBjb25zdCBuZ1pvbmVPcHRpb24gPSBvcHRpb25zID8gb3B0aW9ucy5uZ1pvbmUgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IG5nWm9uZUV2ZW50Q29hbGVzY2luZyA9IChvcHRpb25zICYmIG9wdGlvbnMubmdab25lRXZlbnRDb2FsZXNjaW5nKSB8fCBmYWxzZTtcbiAgICAgICAgY29uc3Qgbmdab25lUnVuQ29hbGVzY2luZyA9IChvcHRpb25zICYmIG9wdGlvbnMubmdab25lUnVuQ29hbGVzY2luZykgfHwgZmFsc2U7XG4gICAgICAgIGNvbnN0IG5nWm9uZSA9IGdldE5nWm9uZShuZ1pvbmVPcHRpb24sIHsgbmdab25lRXZlbnRDb2FsZXNjaW5nLCBuZ1pvbmVSdW5Db2FsZXNjaW5nIH0pO1xuICAgICAgICBjb25zdCBwcm92aWRlcnMgPSBbeyBwcm92aWRlOiBOZ1pvbmUsIHVzZVZhbHVlOiBuZ1pvbmUgfV07XG4gICAgICAgIC8vIE5vdGU6IENyZWF0ZSBuZ1pvbmVJbmplY3RvciB3aXRoaW4gbmdab25lLnJ1biBzbyB0aGF0IGFsbCBvZiB0aGUgaW5zdGFudGlhdGVkIHNlcnZpY2VzIGFyZVxuICAgICAgICAvLyBjcmVhdGVkIHdpdGhpbiB0aGUgQW5ndWxhciB6b25lXG4gICAgICAgIC8vIERvIG5vdCB0cnkgdG8gcmVwbGFjZSBuZ1pvbmUucnVuIHdpdGggQXBwbGljYXRpb25SZWYjcnVuIGJlY2F1c2UgQXBwbGljYXRpb25SZWYgd291bGQgdGhlbiBiZVxuICAgICAgICAvLyBjcmVhdGVkIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZS5cbiAgICAgICAgcmV0dXJuIG5nWm9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbmdab25lSW5qZWN0b3IgPSBJbmplY3Rvci5jcmVhdGUoeyBwcm92aWRlcnM6IHByb3ZpZGVycywgcGFyZW50OiB0aGlzLmluamVjdG9yLCBuYW1lOiBtb2R1bGVGYWN0b3J5Lm1vZHVsZVR5cGUubmFtZSB9KTtcbiAgICAgICAgICAgIGNvbnN0IG1vZHVsZVJlZiA9IG1vZHVsZUZhY3RvcnkuY3JlYXRlKG5nWm9uZUluamVjdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IGV4Y2VwdGlvbkhhbmRsZXIgPSBtb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KEVycm9ySGFuZGxlciwgbnVsbCk7XG4gICAgICAgICAgICBpZiAoIWV4Y2VwdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgICAgICdObyBFcnJvckhhbmRsZXIuIElzIHBsYXRmb3JtIG1vZHVsZSAoQnJvd3Nlck1vZHVsZSkgaW5jbHVkZWQ/JyA6XG4gICAgICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoNDAyIC8qIEVSUk9SX0hBTkRMRVJfTk9UX0ZPVU5EICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBuZ1pvbmUub25FcnJvci5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgICAgICBuZXh0OiAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIuaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbW9kdWxlUmVmLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZSh0aGlzLl9tb2R1bGVzLCBtb2R1bGVSZWYpO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIF9jYWxsQW5kUmVwb3J0VG9FcnJvckhhbmRsZXIoZXhjZXB0aW9uSGFuZGxlciwgbmdab25lLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5pdFN0YXR1cyA9IG1vZHVsZVJlZi5pbmplY3Rvci5nZXQoQXBwbGljYXRpb25Jbml0U3RhdHVzKTtcbiAgICAgICAgICAgICAgICBpbml0U3RhdHVzLnJ1bkluaXRpYWxpemVycygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbml0U3RhdHVzLmRvbmVQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYExPQ0FMRV9JRGAgcHJvdmlkZXIgaXMgZGVmaW5lZCBhdCBib290c3RyYXAgdGhlbiB3ZSBzZXQgdGhlIHZhbHVlIGZvciBpdnlcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWxlSWQgPSBtb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KExPQ0FMRV9JRCwgREVGQVVMVF9MT0NBTEVfSUQpO1xuICAgICAgICAgICAgICAgICAgICBzZXRMb2NhbGVJZChsb2NhbGVJZCB8fCBERUZBVUxUX0xPQ0FMRV9JRCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21vZHVsZURvQm9vdHN0cmFwKG1vZHVsZVJlZik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2R1bGVSZWY7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYW4gYEBOZ01vZHVsZWAgZm9yIGEgZ2l2ZW4gcGxhdGZvcm0uXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBTaW1wbGUgRXhhbXBsZVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBOZ01vZHVsZSh7XG4gICAgICogICBpbXBvcnRzOiBbQnJvd3Nlck1vZHVsZV1cbiAgICAgKiB9KVxuICAgICAqIGNsYXNzIE15TW9kdWxlIHt9XG4gICAgICpcbiAgICAgKiBsZXQgbW9kdWxlUmVmID0gcGxhdGZvcm1Ccm93c2VyKCkuYm9vdHN0cmFwTW9kdWxlKE15TW9kdWxlKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqL1xuICAgIGJvb3RzdHJhcE1vZHVsZShtb2R1bGVUeXBlLCBjb21waWxlck9wdGlvbnMgPSBbXSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc1JlZHVjZXIoe30sIGNvbXBpbGVyT3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBjb21waWxlTmdNb2R1bGVGYWN0b3J5KHRoaXMuaW5qZWN0b3IsIG9wdGlvbnMsIG1vZHVsZVR5cGUpXG4gICAgICAgICAgICAudGhlbihtb2R1bGVGYWN0b3J5ID0+IHRoaXMuYm9vdHN0cmFwTW9kdWxlRmFjdG9yeShtb2R1bGVGYWN0b3J5LCBvcHRpb25zKSk7XG4gICAgfVxuICAgIF9tb2R1bGVEb0Jvb3RzdHJhcChtb2R1bGVSZWYpIHtcbiAgICAgICAgY29uc3QgYXBwUmVmID0gbW9kdWxlUmVmLmluamVjdG9yLmdldChBcHBsaWNhdGlvblJlZik7XG4gICAgICAgIGlmIChtb2R1bGVSZWYuX2Jvb3RzdHJhcENvbXBvbmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbW9kdWxlUmVmLl9ib290c3RyYXBDb21wb25lbnRzLmZvckVhY2goZiA9PiBhcHBSZWYuYm9vdHN0cmFwKGYpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtb2R1bGVSZWYuaW5zdGFuY2UubmdEb0Jvb3RzdHJhcCkge1xuICAgICAgICAgICAgbW9kdWxlUmVmLmluc3RhbmNlLm5nRG9Cb290c3RyYXAoYXBwUmVmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgICAgICBgVGhlIG1vZHVsZSAke3N0cmluZ2lmeShtb2R1bGVSZWYuaW5zdGFuY2UuY29uc3RydWN0b3IpfSB3YXMgYm9vdHN0cmFwcGVkLCBgICtcbiAgICAgICAgICAgICAgICAgICAgYGJ1dCBpdCBkb2VzIG5vdCBkZWNsYXJlIFwiQE5nTW9kdWxlLmJvb3RzdHJhcFwiIGNvbXBvbmVudHMgbm9yIGEgXCJuZ0RvQm9vdHN0cmFwXCIgbWV0aG9kLiBgICtcbiAgICAgICAgICAgICAgICAgICAgYFBsZWFzZSBkZWZpbmUgb25lIG9mIHRoZXNlLmAgOlxuICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcig0MDMgLyogQk9PVFNUUkFQX0NPTVBPTkVOVFNfTk9UX0ZPVU5EICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21vZHVsZXMucHVzaChtb2R1bGVSZWYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBsaXN0ZW5lciB0byBiZSBjYWxsZWQgd2hlbiB0aGUgcGxhdGZvcm0gaXMgZGVzdHJveWVkLlxuICAgICAqL1xuICAgIG9uRGVzdHJveShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9kZXN0cm95TGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIHBsYXRmb3JtIHtAbGluayBJbmplY3Rvcn0sIHdoaWNoIGlzIHRoZSBwYXJlbnQgaW5qZWN0b3IgZm9yXG4gICAgICogZXZlcnkgQW5ndWxhciBhcHBsaWNhdGlvbiBvbiB0aGUgcGFnZSBhbmQgcHJvdmlkZXMgc2luZ2xldG9uIHByb3ZpZGVycy5cbiAgICAgKi9cbiAgICBnZXQgaW5qZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmplY3RvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGN1cnJlbnQgQW5ndWxhciBwbGF0Zm9ybSBhbmQgYWxsIEFuZ3VsYXIgYXBwbGljYXRpb25zIG9uIHRoZSBwYWdlLlxuICAgICAqIERlc3Ryb3lzIGFsbCBtb2R1bGVzIGFuZCBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBwbGF0Zm9ybS5cbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgJ1RoZSBwbGF0Zm9ybSBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZCEnIDpcbiAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoNDA0IC8qIEFMUkVBRFlfREVTVFJPWUVEX1BMQVRGT1JNICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21vZHVsZXMuc2xpY2UoKS5mb3JFYWNoKG1vZHVsZSA9PiBtb2R1bGUuZGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5fZGVzdHJveUxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKCkpO1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBnZXQgZGVzdHJveWVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzdHJveWVkO1xuICAgIH1cbn1cblBsYXRmb3JtUmVmLsm1ZmFjID0gZnVuY3Rpb24gUGxhdGZvcm1SZWZfRmFjdG9yeSh0KSB7IHJldHVybiBuZXcgKHQgfHwgUGxhdGZvcm1SZWYpKMm1ybVpbmplY3QoSW5qZWN0b3IpKTsgfTtcblBsYXRmb3JtUmVmLsm1cHJvdiA9IC8qQF9fUFVSRV9fKi8gybXJtWRlZmluZUluamVjdGFibGUoeyB0b2tlbjogUGxhdGZvcm1SZWYsIGZhY3Rvcnk6IFBsYXRmb3JtUmVmLsm1ZmFjIH0pO1xuKGZ1bmN0aW9uICgpIHtcbiAgICAodHlwZW9mIG5nRGV2TW9kZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBuZ0Rldk1vZGUpICYmIHNldENsYXNzTWV0YWRhdGEoUGxhdGZvcm1SZWYsIFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBJbmplY3RvciB9XTsgfSwgbnVsbCk7XG59KSgpO1xuZnVuY3Rpb24gZ2V0Tmdab25lKG5nWm9uZU9wdGlvbiwgZXh0cmEpIHtcbiAgICBsZXQgbmdab25lO1xuICAgIGlmIChuZ1pvbmVPcHRpb24gPT09ICdub29wJykge1xuICAgICAgICBuZ1pvbmUgPSBuZXcgTm9vcE5nWm9uZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdab25lID0gKG5nWm9uZU9wdGlvbiA9PT0gJ3pvbmUuanMnID8gdW5kZWZpbmVkIDogbmdab25lT3B0aW9uKSB8fCBuZXcgTmdab25lKHtcbiAgICAgICAgICAgIGVuYWJsZUxvbmdTdGFja1RyYWNlOiB0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyA/IGZhbHNlIDogISFuZ0Rldk1vZGUsXG4gICAgICAgICAgICBzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uOiAhIShleHRyYSA9PT0gbnVsbCB8fCBleHRyYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXh0cmEubmdab25lRXZlbnRDb2FsZXNjaW5nKSxcbiAgICAgICAgICAgIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uOiAhIShleHRyYSA9PT0gbnVsbCB8fCBleHRyYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXh0cmEubmdab25lUnVuQ29hbGVzY2luZylcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBuZ1pvbmU7XG59XG5mdW5jdGlvbiBfY2FsbEFuZFJlcG9ydFRvRXJyb3JIYW5kbGVyKGVycm9ySGFuZGxlciwgbmdab25lLCBjYWxsYmFjaykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGxiYWNrKCk7XG4gICAgICAgIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgIG5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiBlcnJvckhhbmRsZXIuaGFuZGxlRXJyb3IoZSkpO1xuICAgICAgICAgICAgICAgIC8vIHJldGhyb3cgYXMgdGhlIGV4Y2VwdGlvbiBoYW5kbGVyIG1pZ2h0IG5vdCBkbyBpdFxuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBuZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4gZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpKTtcbiAgICAgICAgLy8gcmV0aHJvdyBhcyB0aGUgZXhjZXB0aW9uIGhhbmRsZXIgbWlnaHQgbm90IGRvIGl0XG4gICAgICAgIHRocm93IGU7XG4gICAgfVxufVxuZnVuY3Rpb24gb3B0aW9uc1JlZHVjZXIoZHN0LCBvYmpzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqcykpIHtcbiAgICAgICAgZHN0ID0gb2Jqcy5yZWR1Y2Uob3B0aW9uc1JlZHVjZXIsIGRzdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkc3QgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRzdCksIG9ianMpO1xuICAgIH1cbiAgICByZXR1cm4gZHN0O1xufVxuLyoqXG4gKiBBIHJlZmVyZW5jZSB0byBhbiBBbmd1bGFyIGFwcGxpY2F0aW9uIHJ1bm5pbmcgb24gYSBwYWdlLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICoge0BhIGlzLXN0YWJsZS1leGFtcGxlc31cbiAqICMjIyBpc1N0YWJsZSBleGFtcGxlcyBhbmQgY2F2ZWF0c1xuICpcbiAqIE5vdGUgdHdvIGltcG9ydGFudCBwb2ludHMgYWJvdXQgYGlzU3RhYmxlYCwgZGVtb25zdHJhdGVkIGluIHRoZSBleGFtcGxlcyBiZWxvdzpcbiAqIC0gdGhlIGFwcGxpY2F0aW9uIHdpbGwgbmV2ZXIgYmUgc3RhYmxlIGlmIHlvdSBzdGFydCBhbnkga2luZFxuICogb2YgcmVjdXJyZW50IGFzeW5jaHJvbm91cyB0YXNrIHdoZW4gdGhlIGFwcGxpY2F0aW9uIHN0YXJ0c1xuICogKGZvciBleGFtcGxlIGZvciBhIHBvbGxpbmcgcHJvY2Vzcywgc3RhcnRlZCB3aXRoIGEgYHNldEludGVydmFsYCwgYSBgc2V0VGltZW91dGBcbiAqIG9yIHVzaW5nIFJ4SlMgb3BlcmF0b3JzIGxpa2UgYGludGVydmFsYCk7XG4gKiAtIHRoZSBgaXNTdGFibGVgIE9ic2VydmFibGUgcnVucyBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUuXG4gKlxuICogTGV0J3MgaW1hZ2luZSB0aGF0IHlvdSBzdGFydCBhIHJlY3VycmVudCB0YXNrXG4gKiAoaGVyZSBpbmNyZW1lbnRpbmcgYSBjb3VudGVyLCB1c2luZyBSeEpTIGBpbnRlcnZhbGApLFxuICogYW5kIGF0IHRoZSBzYW1lIHRpbWUgc3Vic2NyaWJlIHRvIGBpc1N0YWJsZWAuXG4gKlxuICogYGBgXG4gKiBjb25zdHJ1Y3RvcihhcHBSZWY6IEFwcGxpY2F0aW9uUmVmKSB7XG4gKiAgIGFwcFJlZi5pc1N0YWJsZS5waXBlKFxuICogICAgICBmaWx0ZXIoc3RhYmxlID0+IHN0YWJsZSlcbiAqICAgKS5zdWJzY3JpYmUoKCkgPT4gY29uc29sZS5sb2coJ0FwcCBpcyBzdGFibGUgbm93Jyk7XG4gKiAgIGludGVydmFsKDEwMDApLnN1YnNjcmliZShjb3VudGVyID0+IGNvbnNvbGUubG9nKGNvdW50ZXIpKTtcbiAqIH1cbiAqIGBgYFxuICogSW4gdGhpcyBleGFtcGxlLCBgaXNTdGFibGVgIHdpbGwgbmV2ZXIgZW1pdCBgdHJ1ZWAsXG4gKiBhbmQgdGhlIHRyYWNlIFwiQXBwIGlzIHN0YWJsZSBub3dcIiB3aWxsIG5ldmVyIGdldCBsb2dnZWQuXG4gKlxuICogSWYgeW91IHdhbnQgdG8gZXhlY3V0ZSBzb21ldGhpbmcgd2hlbiB0aGUgYXBwIGlzIHN0YWJsZSxcbiAqIHlvdSBoYXZlIHRvIHdhaXQgZm9yIHRoZSBhcHBsaWNhdGlvbiB0byBiZSBzdGFibGVcbiAqIGJlZm9yZSBzdGFydGluZyB5b3VyIHBvbGxpbmcgcHJvY2Vzcy5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0cnVjdG9yKGFwcFJlZjogQXBwbGljYXRpb25SZWYpIHtcbiAqICAgYXBwUmVmLmlzU3RhYmxlLnBpcGUoXG4gKiAgICAgZmlyc3Qoc3RhYmxlID0+IHN0YWJsZSksXG4gKiAgICAgdGFwKHN0YWJsZSA9PiBjb25zb2xlLmxvZygnQXBwIGlzIHN0YWJsZSBub3cnKSksXG4gKiAgICAgc3dpdGNoTWFwKCgpID0+IGludGVydmFsKDEwMDApKVxuICogICApLnN1YnNjcmliZShjb3VudGVyID0+IGNvbnNvbGUubG9nKGNvdW50ZXIpKTtcbiAqIH1cbiAqIGBgYFxuICogSW4gdGhpcyBleGFtcGxlLCB0aGUgdHJhY2UgXCJBcHAgaXMgc3RhYmxlIG5vd1wiIHdpbGwgYmUgbG9nZ2VkXG4gKiBhbmQgdGhlbiB0aGUgY291bnRlciBzdGFydHMgaW5jcmVtZW50aW5nIGV2ZXJ5IHNlY29uZC5cbiAqXG4gKiBOb3RlIGFsc28gdGhhdCB0aGlzIE9ic2VydmFibGUgcnVucyBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUsXG4gKiB3aGljaCBtZWFucyB0aGF0IHRoZSBjb2RlIGluIHRoZSBzdWJzY3JpcHRpb25cbiAqIHRvIHRoaXMgT2JzZXJ2YWJsZSB3aWxsIG5vdCB0cmlnZ2VyIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uLlxuICpcbiAqIExldCdzIGltYWdpbmUgdGhhdCBpbnN0ZWFkIG9mIGxvZ2dpbmcgdGhlIGNvdW50ZXIgdmFsdWUsXG4gKiB5b3UgdXBkYXRlIGEgZmllbGQgb2YgeW91ciBjb21wb25lbnRcbiAqIGFuZCBkaXNwbGF5IGl0IGluIGl0cyB0ZW1wbGF0ZS5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0cnVjdG9yKGFwcFJlZjogQXBwbGljYXRpb25SZWYpIHtcbiAqICAgYXBwUmVmLmlzU3RhYmxlLnBpcGUoXG4gKiAgICAgZmlyc3Qoc3RhYmxlID0+IHN0YWJsZSksXG4gKiAgICAgc3dpdGNoTWFwKCgpID0+IGludGVydmFsKDEwMDApKVxuICogICApLnN1YnNjcmliZShjb3VudGVyID0+IHRoaXMudmFsdWUgPSBjb3VudGVyKTtcbiAqIH1cbiAqIGBgYFxuICogQXMgdGhlIGBpc1N0YWJsZWAgT2JzZXJ2YWJsZSBydW5zIG91dHNpZGUgdGhlIHpvbmUsXG4gKiB0aGUgYHZhbHVlYCBmaWVsZCB3aWxsIGJlIHVwZGF0ZWQgcHJvcGVybHksXG4gKiBidXQgdGhlIHRlbXBsYXRlIHdpbGwgbm90IGJlIHJlZnJlc2hlZCFcbiAqXG4gKiBZb3UnbGwgaGF2ZSB0byBtYW51YWxseSB0cmlnZ2VyIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIHRvIHVwZGF0ZSB0aGUgdGVtcGxhdGUuXG4gKlxuICogYGBgXG4gKiBjb25zdHJ1Y3RvcihhcHBSZWY6IEFwcGxpY2F0aW9uUmVmLCBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYpIHtcbiAqICAgYXBwUmVmLmlzU3RhYmxlLnBpcGUoXG4gKiAgICAgZmlyc3Qoc3RhYmxlID0+IHN0YWJsZSksXG4gKiAgICAgc3dpdGNoTWFwKCgpID0+IGludGVydmFsKDEwMDApKVxuICogICApLnN1YnNjcmliZShjb3VudGVyID0+IHtcbiAqICAgICB0aGlzLnZhbHVlID0gY291bnRlcjtcbiAqICAgICBjZC5kZXRlY3RDaGFuZ2VzKCk7XG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKlxuICogT3IgbWFrZSB0aGUgc3Vic2NyaXB0aW9uIGNhbGxiYWNrIHJ1biBpbnNpZGUgdGhlIHpvbmUuXG4gKlxuICogYGBgXG4gKiBjb25zdHJ1Y3RvcihhcHBSZWY6IEFwcGxpY2F0aW9uUmVmLCB6b25lOiBOZ1pvbmUpIHtcbiAqICAgYXBwUmVmLmlzU3RhYmxlLnBpcGUoXG4gKiAgICAgZmlyc3Qoc3RhYmxlID0+IHN0YWJsZSksXG4gKiAgICAgc3dpdGNoTWFwKCgpID0+IGludGVydmFsKDEwMDApKVxuICogICApLnN1YnNjcmliZShjb3VudGVyID0+IHpvbmUucnVuKCgpID0+IHRoaXMudmFsdWUgPSBjb3VudGVyKSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEFwcGxpY2F0aW9uUmVmIHtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgY29uc3RydWN0b3IoX3pvbmUsIF9pbmplY3RvciwgX2V4Y2VwdGlvbkhhbmRsZXIsIF9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsIF9pbml0U3RhdHVzKSB7XG4gICAgICAgIHRoaXMuX3pvbmUgPSBfem9uZTtcbiAgICAgICAgdGhpcy5faW5qZWN0b3IgPSBfaW5qZWN0b3I7XG4gICAgICAgIHRoaXMuX2V4Y2VwdGlvbkhhbmRsZXIgPSBfZXhjZXB0aW9uSGFuZGxlcjtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyID0gX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbiAgICAgICAgdGhpcy5faW5pdFN0YXR1cyA9IF9pbml0U3RhdHVzO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX2Jvb3RzdHJhcExpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLl92aWV3cyA9IFtdO1xuICAgICAgICB0aGlzLl9ydW5uaW5nVGljayA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zdGFibGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGEgbGlzdCBvZiBjb21wb25lbnQgdHlwZXMgcmVnaXN0ZXJlZCB0byB0aGlzIGFwcGxpY2F0aW9uLlxuICAgICAgICAgKiBUaGlzIGxpc3QgaXMgcG9wdWxhdGVkIGV2ZW4gYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgY3JlYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tcG9uZW50VHlwZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhIGxpc3Qgb2YgY29tcG9uZW50cyByZWdpc3RlcmVkIHRvIHRoaXMgYXBwbGljYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5fb25NaWNyb3Rhc2tFbXB0eVN1YnNjcmlwdGlvbiA9IHRoaXMuX3pvbmUub25NaWNyb3Rhc2tFbXB0eS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3pvbmUucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpc0N1cnJlbnRseVN0YWJsZSA9IG5ldyBPYnNlcnZhYmxlKChvYnNlcnZlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc3RhYmxlID0gdGhpcy5fem9uZS5pc1N0YWJsZSAmJiAhdGhpcy5fem9uZS5oYXNQZW5kaW5nTWFjcm90YXNrcyAmJlxuICAgICAgICAgICAgICAgICF0aGlzLl96b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzO1xuICAgICAgICAgICAgdGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh0aGlzLl9zdGFibGUpO1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGlzU3RhYmxlID0gbmV3IE9ic2VydmFibGUoKG9ic2VydmVyKSA9PiB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHN1YnNjcmlwdGlvbiB0byBvblN0YWJsZSBvdXRzaWRlIHRoZSBBbmd1bGFyIFpvbmUgc28gdGhhdFxuICAgICAgICAgICAgLy8gdGhlIGNhbGxiYWNrIGlzIHJ1biBvdXRzaWRlIHRoZSBBbmd1bGFyIFpvbmUuXG4gICAgICAgICAgICBsZXQgc3RhYmxlU3ViO1xuICAgICAgICAgICAgdGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgc3RhYmxlU3ViID0gdGhpcy5fem9uZS5vblN0YWJsZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBOZ1pvbmUuYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB3aGV0aGVyIHRoZXJlIGFyZSBubyBwZW5kaW5nIG1hY3JvL21pY3JvIHRhc2tzIGluIHRoZSBuZXh0IHRpY2tcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gYWxsb3cgZm9yIE5nWm9uZSB0byB1cGRhdGUgdGhlIHN0YXRlLlxuICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZU1pY3JvVGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3N0YWJsZSAmJiAhdGhpcy5fem9uZS5oYXNQZW5kaW5nTWFjcm90YXNrcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLl96b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdW5zdGFibGVTdWIgPSB0aGlzLl96b25lLm9uVW5zdGFibGUuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBOZ1pvbmUuYXNzZXJ0SW5Bbmd1bGFyWm9uZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBzdGFibGVTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB1bnN0YWJsZVN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaXNTdGFibGUgPVxuICAgICAgICAgICAgbWVyZ2UkMShpc0N1cnJlbnRseVN0YWJsZSwgaXNTdGFibGUucGlwZShzaGFyZSgpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJvb3RzdHJhcCBhIGNvbXBvbmVudCBvbnRvIHRoZSBlbGVtZW50IGlkZW50aWZpZWQgYnkgaXRzIHNlbGVjdG9yIG9yLCBvcHRpb25hbGx5LCB0byBhXG4gICAgICogc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBCb290c3RyYXAgcHJvY2Vzc1xuICAgICAqXG4gICAgICogV2hlbiBib290c3RyYXBwaW5nIGEgY29tcG9uZW50LCBBbmd1bGFyIG1vdW50cyBpdCBvbnRvIGEgdGFyZ2V0IERPTSBlbGVtZW50XG4gICAgICogYW5kIGtpY2tzIG9mZiBhdXRvbWF0aWMgY2hhbmdlIGRldGVjdGlvbi4gVGhlIHRhcmdldCBET00gZWxlbWVudCBjYW4gYmVcbiAgICAgKiBwcm92aWRlZCB1c2luZyB0aGUgYHJvb3RTZWxlY3Rvck9yTm9kZWAgYXJndW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgdGFyZ2V0IERPTSBlbGVtZW50IGlzIG5vdCBwcm92aWRlZCwgQW5ndWxhciB0cmllcyB0byBmaW5kIG9uZSBvbiBhIHBhZ2VcbiAgICAgKiB1c2luZyB0aGUgYHNlbGVjdG9yYCBvZiB0aGUgY29tcG9uZW50IHRoYXQgaXMgYmVpbmcgYm9vdHN0cmFwcGVkXG4gICAgICogKGZpcnN0IG1hdGNoZWQgZWxlbWVudCBpcyB1c2VkKS5cbiAgICAgKlxuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBHZW5lcmFsbHksIHdlIGRlZmluZSB0aGUgY29tcG9uZW50IHRvIGJvb3RzdHJhcCBpbiB0aGUgYGJvb3RzdHJhcGAgYXJyYXkgb2YgYE5nTW9kdWxlYCxcbiAgICAgKiBidXQgaXQgcmVxdWlyZXMgdXMgdG8ga25vdyB0aGUgY29tcG9uZW50IHdoaWxlIHdyaXRpbmcgdGhlIGFwcGxpY2F0aW9uIGNvZGUuXG4gICAgICpcbiAgICAgKiBJbWFnaW5lIGEgc2l0dWF0aW9uIHdoZXJlIHdlIGhhdmUgdG8gd2FpdCBmb3IgYW4gQVBJIGNhbGwgdG8gZGVjaWRlIGFib3V0IHRoZSBjb21wb25lbnQgdG9cbiAgICAgKiBib290c3RyYXAuIFdlIGNhbiB1c2UgdGhlIGBuZ0RvQm9vdHN0cmFwYCBob29rIG9mIHRoZSBgTmdNb2R1bGVgIGFuZCBjYWxsIHRoaXMgbWV0aG9kIHRvXG4gICAgICogZHluYW1pY2FsbHkgYm9vdHN0cmFwIGEgY29tcG9uZW50LlxuICAgICAqXG4gICAgICoge0BleGFtcGxlIGNvcmUvdHMvcGxhdGZvcm0vcGxhdGZvcm0udHMgcmVnaW9uPSdjb21wb25lbnRTZWxlY3Rvcid9XG4gICAgICpcbiAgICAgKiBPcHRpb25hbGx5LCBhIGNvbXBvbmVudCBjYW4gYmUgbW91bnRlZCBvbnRvIGEgRE9NIGVsZW1lbnQgdGhhdCBkb2VzIG5vdCBtYXRjaCB0aGVcbiAgICAgKiBzZWxlY3RvciBvZiB0aGUgYm9vdHN0cmFwcGVkIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIEluIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSwgd2UgYXJlIHByb3ZpZGluZyBhIENTUyBzZWxlY3RvciB0byBtYXRjaCB0aGUgdGFyZ2V0IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiB7QGV4YW1wbGUgY29yZS90cy9wbGF0Zm9ybS9wbGF0Zm9ybS50cyByZWdpb249J2Nzc1NlbGVjdG9yJ31cbiAgICAgKlxuICAgICAqIFdoaWxlIGluIHRoaXMgZXhhbXBsZSwgd2UgYXJlIHByb3ZpZGluZyByZWZlcmVuY2UgdG8gYSBET00gbm9kZS5cbiAgICAgKlxuICAgICAqIHtAZXhhbXBsZSBjb3JlL3RzL3BsYXRmb3JtL3BsYXRmb3JtLnRzIHJlZ2lvbj0nZG9tTm9kZSd9XG4gICAgICovXG4gICAgYm9vdHN0cmFwKGNvbXBvbmVudE9yRmFjdG9yeSwgcm9vdFNlbGVjdG9yT3JOb2RlKSB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdFN0YXR1cy5kb25lKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgJ0Nhbm5vdCBib290c3RyYXAgYXMgdGhlcmUgYXJlIHN0aWxsIGFzeW5jaHJvbm91cyBpbml0aWFsaXplcnMgcnVubmluZy4gJyArXG4gICAgICAgICAgICAgICAgICAgICdCb290c3RyYXAgY29tcG9uZW50cyBpbiB0aGUgYG5nRG9Cb290c3RyYXBgIG1ldGhvZCBvZiB0aGUgcm9vdCBtb2R1bGUuJyA6XG4gICAgICAgICAgICAgICAgJyc7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDQwNSAvKiBBU1lOQ19JTklUSUFMSVpFUlNfU1RJTExfUlVOTklORyAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29tcG9uZW50RmFjdG9yeTtcbiAgICAgICAgaWYgKGNvbXBvbmVudE9yRmFjdG9yeSBpbnN0YW5jZW9mIENvbXBvbmVudEZhY3RvcnkkMSkge1xuICAgICAgICAgICAgY29tcG9uZW50RmFjdG9yeSA9IGNvbXBvbmVudE9yRmFjdG9yeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbXBvbmVudEZhY3RvcnkgPVxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnRPckZhY3RvcnkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tcG9uZW50VHlwZXMucHVzaChjb21wb25lbnRGYWN0b3J5LmNvbXBvbmVudFR5cGUpO1xuICAgICAgICAvLyBDcmVhdGUgYSBmYWN0b3J5IGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBtb2R1bGUgaWYgaXQncyBub3QgYm91bmQgdG8gc29tZSBvdGhlclxuICAgICAgICBjb25zdCBuZ01vZHVsZSA9IGlzQm91bmRUb01vZHVsZShjb21wb25lbnRGYWN0b3J5KSA/IHVuZGVmaW5lZCA6IHRoaXMuX2luamVjdG9yLmdldChOZ01vZHVsZVJlZiQxKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3JPck5vZGUgPSByb290U2VsZWN0b3JPck5vZGUgfHwgY29tcG9uZW50RmFjdG9yeS5zZWxlY3RvcjtcbiAgICAgICAgY29uc3QgY29tcFJlZiA9IGNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKEluamVjdG9yLk5VTEwsIFtdLCBzZWxlY3Rvck9yTm9kZSwgbmdNb2R1bGUpO1xuICAgICAgICBjb25zdCBuYXRpdmVFbGVtZW50ID0gY29tcFJlZi5sb2NhdGlvbi5uYXRpdmVFbGVtZW50O1xuICAgICAgICBjb25zdCB0ZXN0YWJpbGl0eSA9IGNvbXBSZWYuaW5qZWN0b3IuZ2V0KFRlc3RhYmlsaXR5LCBudWxsKTtcbiAgICAgICAgY29uc3QgdGVzdGFiaWxpdHlSZWdpc3RyeSA9IHRlc3RhYmlsaXR5ICYmIGNvbXBSZWYuaW5qZWN0b3IuZ2V0KFRlc3RhYmlsaXR5UmVnaXN0cnkpO1xuICAgICAgICBpZiAodGVzdGFiaWxpdHkgJiYgdGVzdGFiaWxpdHlSZWdpc3RyeSkge1xuICAgICAgICAgICAgdGVzdGFiaWxpdHlSZWdpc3RyeS5yZWdpc3RlckFwcGxpY2F0aW9uKG5hdGl2ZUVsZW1lbnQsIHRlc3RhYmlsaXR5KTtcbiAgICAgICAgfVxuICAgICAgICBjb21wUmVmLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaFZpZXcoY29tcFJlZi5ob3N0Vmlldyk7XG4gICAgICAgICAgICByZW1vdmUodGhpcy5jb21wb25lbnRzLCBjb21wUmVmKTtcbiAgICAgICAgICAgIGlmICh0ZXN0YWJpbGl0eVJlZ2lzdHJ5KSB7XG4gICAgICAgICAgICAgICAgdGVzdGFiaWxpdHlSZWdpc3RyeS51bnJlZ2lzdGVyQXBwbGljYXRpb24obmF0aXZlRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9sb2FkQ29tcG9uZW50KGNvbXBSZWYpO1xuICAgICAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgICAgICBjb25zdCBfY29uc29sZSA9IHRoaXMuX2luamVjdG9yLmdldChDb25zb2xlKTtcbiAgICAgICAgICAgIF9jb25zb2xlLmxvZyhgQW5ndWxhciBpcyBydW5uaW5nIGluIGRldmVsb3BtZW50IG1vZGUuIENhbGwgZW5hYmxlUHJvZE1vZGUoKSB0byBlbmFibGUgcHJvZHVjdGlvbiBtb2RlLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wUmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2UgdGhpcyBtZXRob2QgdG8gZXhwbGljaXRseSBwcm9jZXNzIGNoYW5nZSBkZXRlY3Rpb24gYW5kIGl0cyBzaWRlLWVmZmVjdHMuXG4gICAgICpcbiAgICAgKiBJbiBkZXZlbG9wbWVudCBtb2RlLCBgdGljaygpYCBhbHNvIHBlcmZvcm1zIGEgc2Vjb25kIGNoYW5nZSBkZXRlY3Rpb24gY3ljbGUgdG8gZW5zdXJlIHRoYXQgbm9cbiAgICAgKiBmdXJ0aGVyIGNoYW5nZXMgYXJlIGRldGVjdGVkLiBJZiBhZGRpdGlvbmFsIGNoYW5nZXMgYXJlIHBpY2tlZCB1cCBkdXJpbmcgdGhpcyBzZWNvbmQgY3ljbGUsXG4gICAgICogYmluZGluZ3MgaW4gdGhlIGFwcCBoYXZlIHNpZGUtZWZmZWN0cyB0aGF0IGNhbm5vdCBiZSByZXNvbHZlZCBpbiBhIHNpbmdsZSBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICogcGFzcy5cbiAgICAgKiBJbiB0aGlzIGNhc2UsIEFuZ3VsYXIgdGhyb3dzIGFuIGVycm9yLCBzaW5jZSBhbiBBbmd1bGFyIGFwcGxpY2F0aW9uIGNhbiBvbmx5IGhhdmUgb25lIGNoYW5nZVxuICAgICAqIGRldGVjdGlvbiBwYXNzIGR1cmluZyB3aGljaCBhbGwgY2hhbmdlIGRldGVjdGlvbiBtdXN0IGNvbXBsZXRlLlxuICAgICAqL1xuICAgIHRpY2soKSB7XG4gICAgICAgIGlmICh0aGlzLl9ydW5uaW5nVGljaykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgICAgICdBcHBsaWNhdGlvblJlZi50aWNrIGlzIGNhbGxlZCByZWN1cnNpdmVseScgOlxuICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcigxMDEgLyogUkVDVVJTSVZFX0FQUExJQ0FUSU9OX1JFRl9USUNLICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9ydW5uaW5nVGljayA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGxldCB2aWV3IG9mIHRoaXMuX3ZpZXdzKSB7XG4gICAgICAgICAgICAgICAgdmlldy5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdmlldyBvZiB0aGlzLl92aWV3cykge1xuICAgICAgICAgICAgICAgICAgICB2aWV3LmNoZWNrTm9DaGFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBBdHRlbnRpb246IERvbid0IHJldGhyb3cgYXMgaXQgY291bGQgY2FuY2VsIHN1YnNjcmlwdGlvbnMgdG8gT2JzZXJ2YWJsZXMhXG4gICAgICAgICAgICB0aGlzLl96b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHRoaXMuX2V4Y2VwdGlvbkhhbmRsZXIuaGFuZGxlRXJyb3IoZSkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5fcnVubmluZ1RpY2sgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyBhIHZpZXcgc28gdGhhdCBpdCB3aWxsIGJlIGRpcnR5IGNoZWNrZWQuXG4gICAgICogVGhlIHZpZXcgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGRldGFjaGVkIHdoZW4gaXQgaXMgZGVzdHJveWVkLlxuICAgICAqIFRoaXMgd2lsbCB0aHJvdyBpZiB0aGUgdmlldyBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIGEgVmlld0NvbnRhaW5lci5cbiAgICAgKi9cbiAgICBhdHRhY2hWaWV3KHZpZXdSZWYpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHZpZXdSZWY7XG4gICAgICAgIHRoaXMuX3ZpZXdzLnB1c2godmlldyk7XG4gICAgICAgIHZpZXcuYXR0YWNoVG9BcHBSZWYodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGFjaGVzIGEgdmlldyBmcm9tIGRpcnR5IGNoZWNraW5nIGFnYWluLlxuICAgICAqL1xuICAgIGRldGFjaFZpZXcodmlld1JlZikge1xuICAgICAgICBjb25zdCB2aWV3ID0gdmlld1JlZjtcbiAgICAgICAgcmVtb3ZlKHRoaXMuX3ZpZXdzLCB2aWV3KTtcbiAgICAgICAgdmlldy5kZXRhY2hGcm9tQXBwUmVmKCk7XG4gICAgfVxuICAgIF9sb2FkQ29tcG9uZW50KGNvbXBvbmVudFJlZikge1xuICAgICAgICB0aGlzLmF0dGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudFJlZik7XG4gICAgICAgIC8vIEdldCB0aGUgbGlzdGVuZXJzIGxhemlseSB0byBwcmV2ZW50IERJIGN5Y2xlcy5cbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5faW5qZWN0b3IuZ2V0KEFQUF9CT09UU1RSQVBfTElTVEVORVIsIFtdKS5jb25jYXQodGhpcy5fYm9vdHN0cmFwTGlzdGVuZXJzKTtcbiAgICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihjb21wb25lbnRSZWYpKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLl92aWV3cy5zbGljZSgpLmZvckVhY2goKHZpZXcpID0+IHZpZXcuZGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5fb25NaWNyb3Rhc2tFbXB0eVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgYXR0YWNoZWQgdmlld3MuXG4gICAgICovXG4gICAgZ2V0IHZpZXdDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXdzLmxlbmd0aDtcbiAgICB9XG59XG5BcHBsaWNhdGlvblJlZi7JtWZhYyA9IGZ1bmN0aW9uIEFwcGxpY2F0aW9uUmVmX0ZhY3RvcnkodCkgeyByZXR1cm4gbmV3ICh0IHx8IEFwcGxpY2F0aW9uUmVmKSjJtcm1aW5qZWN0KE5nWm9uZSksIMm1ybVpbmplY3QoSW5qZWN0b3IpLCDJtcm1aW5qZWN0KEVycm9ySGFuZGxlciksIMm1ybVpbmplY3QoQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyJDEpLCDJtcm1aW5qZWN0KEFwcGxpY2F0aW9uSW5pdFN0YXR1cykpOyB9O1xuQXBwbGljYXRpb25SZWYuybVwcm92ID0gLypAX19QVVJFX18qLyDJtcm1ZGVmaW5lSW5qZWN0YWJsZSh7IHRva2VuOiBBcHBsaWNhdGlvblJlZiwgZmFjdG9yeTogQXBwbGljYXRpb25SZWYuybVmYWMgfSk7XG4oZnVuY3Rpb24gKCkge1xuICAgICh0eXBlb2YgbmdEZXZNb2RlID09PSBcInVuZGVmaW5lZFwiIHx8IG5nRGV2TW9kZSkgJiYgc2V0Q2xhc3NNZXRhZGF0YShBcHBsaWNhdGlvblJlZiwgW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IE5nWm9uZSB9LCB7IHR5cGU6IEluamVjdG9yIH0sIHsgdHlwZTogRXJyb3JIYW5kbGVyIH0sIHsgdHlwZTogQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyJDEgfSwgeyB0eXBlOiBBcHBsaWNhdGlvbkluaXRTdGF0dXMgfV07IH0sIG51bGwpO1xufSkoKTtcbmZ1bmN0aW9uIHJlbW92ZShsaXN0LCBlbCkge1xuICAgIGNvbnN0IGluZGV4ID0gbGlzdC5pbmRleE9mKGVsKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxufVxuZnVuY3Rpb24gX2xhc3REZWZpbmVkKGFyZ3MpIHtcbiAgICBmb3IgKGxldCBpID0gYXJncy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAoYXJnc1tpXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJnc1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gX21lcmdlQXJyYXlzKHBhcnRzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgcGFydHMuZm9yRWFjaCgocGFydCkgPT4gcGFydCAmJiByZXN1bHQucHVzaCguLi5wYXJ0KSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoaXMgZmlsZSBpcyB1c2VkIHRvIGNvbnRyb2wgaWYgdGhlIGRlZmF1bHQgcmVuZGVyaW5nIHBpcGVsaW5lIHNob3VsZCBiZSBgVmlld0VuZ2luZWAgb3IgYEl2eWAuXG4gKlxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gaG93IHRvIHJ1biBhbmQgZGVidWcgdGVzdHMgd2l0aCBlaXRoZXIgSXZ5IG9yIFZpZXcgRW5naW5lIChsZWdhY3kpLFxuICogcGxlYXNlIHNlZSBbQkFaRUwubWRdKC4vZG9jcy9CQVpFTC5tZCkuXG4gKi9cbmxldCBfZGV2TW9kZSA9IHRydWU7XG5sZXQgX3J1bk1vZGVMb2NrZWQgPSBmYWxzZTtcbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIEFuZ3VsYXIgaXMgaW4gZGV2ZWxvcG1lbnQgbW9kZS4gQWZ0ZXIgY2FsbGVkIG9uY2UsXG4gKiB0aGUgdmFsdWUgaXMgbG9ja2VkIGFuZCB3b24ndCBjaGFuZ2UgYW55IG1vcmUuXG4gKlxuICogQnkgZGVmYXVsdCwgdGhpcyBpcyB0cnVlLCB1bmxlc3MgYSB1c2VyIGNhbGxzIGBlbmFibGVQcm9kTW9kZWAgYmVmb3JlIGNhbGxpbmcgdGhpcy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGlzRGV2TW9kZSgpIHtcbiAgICBfcnVuTW9kZUxvY2tlZCA9IHRydWU7XG4gICAgcmV0dXJuIF9kZXZNb2RlO1xufVxuLyoqXG4gKiBEaXNhYmxlIEFuZ3VsYXIncyBkZXZlbG9wbWVudCBtb2RlLCB3aGljaCB0dXJucyBvZmYgYXNzZXJ0aW9ucyBhbmQgb3RoZXJcbiAqIGNoZWNrcyB3aXRoaW4gdGhlIGZyYW1ld29yay5cbiAqXG4gKiBPbmUgaW1wb3J0YW50IGFzc2VydGlvbiB0aGlzIGRpc2FibGVzIHZlcmlmaWVzIHRoYXQgYSBjaGFuZ2UgZGV0ZWN0aW9uIHBhc3NcbiAqIGRvZXMgbm90IHJlc3VsdCBpbiBhZGRpdGlvbmFsIGNoYW5nZXMgdG8gYW55IGJpbmRpbmdzIChhbHNvIGtub3duIGFzXG4gKiB1bmlkaXJlY3Rpb25hbCBkYXRhIGZsb3cpLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gZW5hYmxlUHJvZE1vZGUoKSB7XG4gICAgaWYgKF9ydW5Nb2RlTG9ja2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGVuYWJsZSBwcm9kIG1vZGUgYWZ0ZXIgcGxhdGZvcm0gc2V0dXAuJyk7XG4gICAgfVxuICAgIC8vIFRoZSBiZWxvdyBjaGVjayBpcyB0aGVyZSBzbyB3aGVuIG5nRGV2TW9kZSBpcyBzZXQgdmlhIHRlcnNlclxuICAgIC8vIGBnbG9iYWxbJ25nRGV2TW9kZSddID0gZmFsc2U7YCBpcyBhbHNvIGRyb3BwZWQuXG4gICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09IHVuZGVmaW5lZCB8fCAhIW5nRGV2TW9kZSkge1xuICAgICAgICBfZ2xvYmFsWyduZ0Rldk1vZGUnXSA9IGZhbHNlO1xuICAgIH1cbiAgICBfZGV2TW9kZSA9IGZhbHNlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBOZ01vZHVsZUZhY3Rvcnkgd2l0aCB0aGUgZ2l2ZW4gaWQgKHNwZWNpZmllZCB1c2luZyBbQE5nTW9kdWxlLmlkXG4gKiBmaWVsZF0oYXBpL2NvcmUvTmdNb2R1bGUjaWQpKSwgaWYgaXQgZXhpc3RzIGFuZCBoYXMgYmVlbiBsb2FkZWQuIEZhY3RvcmllcyBmb3IgTmdNb2R1bGVzIHRoYXQgZG9cbiAqIG5vdCBzcGVjaWZ5IGFuIGBpZGAgY2Fubm90IGJlIHJldHJpZXZlZC4gVGhyb3dzIGlmIGFuIE5nTW9kdWxlIGNhbm5vdCBiZSBmb3VuZC5cbiAqIEBwdWJsaWNBcGlcbiAqIEBkZXByZWNhdGVkIFVzZSBgZ2V0TmdNb2R1bGVCeUlkYCBpbnN0ZWFkLlxuICovXG5mdW5jdGlvbiBnZXRNb2R1bGVGYWN0b3J5KGlkKSB7XG4gICAgY29uc3QgdHlwZSA9IGdldFJlZ2lzdGVyZWROZ01vZHVsZVR5cGUoaWQpO1xuICAgIGlmICghdHlwZSlcbiAgICAgICAgdGhyb3cgbm9Nb2R1bGVFcnJvcihpZCk7XG4gICAgcmV0dXJuIG5ldyBOZ01vZHVsZUZhY3RvcnkodHlwZSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIE5nTW9kdWxlIGNsYXNzIHdpdGggdGhlIGdpdmVuIGlkIChzcGVjaWZpZWQgdXNpbmcgW0BOZ01vZHVsZS5pZFxuICogZmllbGRdKGFwaS9jb3JlL05nTW9kdWxlI2lkKSksIGlmIGl0IGV4aXN0cyBhbmQgaGFzIGJlZW4gbG9hZGVkLiBDbGFzc2VzIGZvciBOZ01vZHVsZXMgdGhhdCBkb1xuICogbm90IHNwZWNpZnkgYW4gYGlkYCBjYW5ub3QgYmUgcmV0cmlldmVkLiBUaHJvd3MgaWYgYW4gTmdNb2R1bGUgY2Fubm90IGJlIGZvdW5kLlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBnZXROZ01vZHVsZUJ5SWQoaWQpIHtcbiAgICBjb25zdCB0eXBlID0gZ2V0UmVnaXN0ZXJlZE5nTW9kdWxlVHlwZShpZCk7XG4gICAgaWYgKCF0eXBlKVxuICAgICAgICB0aHJvdyBub01vZHVsZUVycm9yKGlkKTtcbiAgICByZXR1cm4gdHlwZTtcbn1cbmZ1bmN0aW9uIG5vTW9kdWxlRXJyb3IoaWQpIHtcbiAgICByZXR1cm4gbmV3IEVycm9yKGBObyBtb2R1bGUgd2l0aCBJRCAke2lkfSBsb2FkZWRgKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEJhc2UgY2xhc3MgdGhhdCBwcm92aWRlcyBjaGFuZ2UgZGV0ZWN0aW9uIGZ1bmN0aW9uYWxpdHkuXG4gKiBBIGNoYW5nZS1kZXRlY3Rpb24gdHJlZSBjb2xsZWN0cyBhbGwgdmlld3MgdGhhdCBhcmUgdG8gYmUgY2hlY2tlZCBmb3IgY2hhbmdlcy5cbiAqIFVzZSB0aGUgbWV0aG9kcyB0byBhZGQgYW5kIHJlbW92ZSB2aWV3cyBmcm9tIHRoZSB0cmVlLCBpbml0aWF0ZSBjaGFuZ2UtZGV0ZWN0aW9uLFxuICogYW5kIGV4cGxpY2l0bHkgbWFyayB2aWV3cyBhcyBfZGlydHlfLCBtZWFuaW5nIHRoYXQgdGhleSBoYXZlIGNoYW5nZWQgYW5kIG5lZWQgdG8gYmUgcmUtcmVuZGVyZWQuXG4gKlxuICogQHNlZSBbVXNpbmcgY2hhbmdlIGRldGVjdGlvbiBob29rc10oZ3VpZGUvbGlmZWN5Y2xlLWhvb2tzI3VzaW5nLWNoYW5nZS1kZXRlY3Rpb24taG9va3MpXG4gKiBAc2VlIFtEZWZpbmluZyBjdXN0b20gY2hhbmdlIGRldGVjdGlvbl0oZ3VpZGUvbGlmZWN5Y2xlLWhvb2tzI2RlZmluaW5nLWN1c3RvbS1jaGFuZ2UtZGV0ZWN0aW9uKVxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlcyBkZW1vbnN0cmF0ZSBob3cgdG8gbW9kaWZ5IGRlZmF1bHQgY2hhbmdlLWRldGVjdGlvbiBiZWhhdmlvclxuICogdG8gcGVyZm9ybSBleHBsaWNpdCBkZXRlY3Rpb24gd2hlbiBuZWVkZWQuXG4gKlxuICogIyMjIFVzZSBgbWFya0ZvckNoZWNrKClgIHdpdGggYENoZWNrT25jZWAgc3RyYXRlZ3lcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2V0cyB0aGUgYE9uUHVzaGAgY2hhbmdlLWRldGVjdGlvbiBzdHJhdGVneSBmb3IgYSBjb21wb25lbnRcbiAqIChgQ2hlY2tPbmNlYCwgcmF0aGVyIHRoYW4gdGhlIGRlZmF1bHQgYENoZWNrQWx3YXlzYCksIHRoZW4gZm9yY2VzIGEgc2Vjb25kIGNoZWNrXG4gKiBhZnRlciBhbiBpbnRlcnZhbC4gU2VlIFtsaXZlIGRlbW9dKGh0dHBzOi8vcGxua3IuY28vZWRpdC9HQzUxMmI/cD1wcmV2aWV3KS5cbiAqXG4gKiA8Y29kZS1leGFtcGxlIHBhdGg9XCJjb3JlL3RzL2NoYW5nZV9kZXRlY3QvY2hhbmdlLWRldGVjdGlvbi50c1wiXG4gKiByZWdpb249XCJtYXJrLWZvci1jaGVja1wiPjwvY29kZS1leGFtcGxlPlxuICpcbiAqICMjIyBEZXRhY2ggY2hhbmdlIGRldGVjdG9yIHRvIGxpbWl0IGhvdyBvZnRlbiBjaGVjayBvY2N1cnNcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgZGVmaW5lcyBhIGNvbXBvbmVudCB3aXRoIGEgbGFyZ2UgbGlzdCBvZiByZWFkLW9ubHkgZGF0YVxuICogdGhhdCBpcyBleHBlY3RlZCB0byBjaGFuZ2UgY29uc3RhbnRseSwgbWFueSB0aW1lcyBwZXIgc2Vjb25kLlxuICogVG8gaW1wcm92ZSBwZXJmb3JtYW5jZSwgd2Ugd2FudCB0byBjaGVjayBhbmQgdXBkYXRlIHRoZSBsaXN0XG4gKiBsZXNzIG9mdGVuIHRoYW4gdGhlIGNoYW5nZXMgYWN0dWFsbHkgb2NjdXIuIFRvIGRvIHRoYXQsIHdlIGRldGFjaFxuICogdGhlIGNvbXBvbmVudCdzIGNoYW5nZSBkZXRlY3RvciBhbmQgcGVyZm9ybSBhbiBleHBsaWNpdCBsb2NhbCBjaGVjayBldmVyeSBmaXZlIHNlY29uZHMuXG4gKlxuICogPGNvZGUtZXhhbXBsZSBwYXRoPVwiY29yZS90cy9jaGFuZ2VfZGV0ZWN0L2NoYW5nZS1kZXRlY3Rpb24udHNcIiByZWdpb249XCJkZXRhY2hcIj48L2NvZGUtZXhhbXBsZT5cbiAqXG4gKlxuICogIyMjIFJlYXR0YWNoaW5nIGEgZGV0YWNoZWQgY29tcG9uZW50XG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGNyZWF0ZXMgYSBjb21wb25lbnQgZGlzcGxheWluZyBsaXZlIGRhdGEuXG4gKiBUaGUgY29tcG9uZW50IGRldGFjaGVzIGl0cyBjaGFuZ2UgZGV0ZWN0b3IgZnJvbSB0aGUgbWFpbiBjaGFuZ2UgZGV0ZWN0b3IgdHJlZVxuICogd2hlbiB0aGUgYGxpdmVgIHByb3BlcnR5IGlzIHNldCB0byBmYWxzZSwgYW5kIHJlYXR0YWNoZXMgaXQgd2hlbiB0aGUgcHJvcGVydHlcbiAqIGJlY29tZXMgdHJ1ZS5cbiAqXG4gKiA8Y29kZS1leGFtcGxlIHBhdGg9XCJjb3JlL3RzL2NoYW5nZV9kZXRlY3QvY2hhbmdlLWRldGVjdGlvbi50c1wiIHJlZ2lvbj1cInJlYXR0YWNoXCI+PC9jb2RlLWV4YW1wbGU+XG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBDaGFuZ2VEZXRlY3RvclJlZiB7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogQG5vY29sbGFwc2VcbiAqL1xuQ2hhbmdlRGV0ZWN0b3JSZWYuX19OR19FTEVNRU5UX0lEX18gPSBpbmplY3RDaGFuZ2VEZXRlY3RvclJlZjtcbi8qKiBSZXR1cm5zIGEgQ2hhbmdlRGV0ZWN0b3JSZWYgKGEuay5hLiBhIFZpZXdSZWYpICovXG5mdW5jdGlvbiBpbmplY3RDaGFuZ2VEZXRlY3RvclJlZihmbGFncykge1xuICAgIHJldHVybiBjcmVhdGVWaWV3UmVmKGdldEN1cnJlbnRUTm9kZSgpLCBnZXRMVmlldygpLCAoZmxhZ3MgJiAxNiAvKiBGb3JQaXBlICovKSA9PT0gMTYgLyogRm9yUGlwZSAqLyk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBWaWV3UmVmIGFuZCBzdG9yZXMgaXQgb24gdGhlIGluamVjdG9yIGFzIENoYW5nZURldGVjdG9yUmVmIChwdWJsaWMgYWxpYXMpLlxuICpcbiAqIEBwYXJhbSB0Tm9kZSBUaGUgbm9kZSB0aGF0IGlzIHJlcXVlc3RpbmcgYSBDaGFuZ2VEZXRlY3RvclJlZlxuICogQHBhcmFtIGxWaWV3IFRoZSB2aWV3IHRvIHdoaWNoIHRoZSBub2RlIGJlbG9uZ3NcbiAqIEBwYXJhbSBpc1BpcGUgV2hldGhlciB0aGUgdmlldyBpcyBiZWluZyBpbmplY3RlZCBpbnRvIGEgcGlwZS5cbiAqIEByZXR1cm5zIFRoZSBDaGFuZ2VEZXRlY3RvclJlZiB0byB1c2VcbiAqL1xuZnVuY3Rpb24gY3JlYXRlVmlld1JlZih0Tm9kZSwgbFZpZXcsIGlzUGlwZSkge1xuICAgIGlmIChpc0NvbXBvbmVudEhvc3QodE5vZGUpICYmICFpc1BpcGUpIHtcbiAgICAgICAgLy8gVGhlIExWaWV3IHJlcHJlc2VudHMgdGhlIGxvY2F0aW9uIHdoZXJlIHRoZSBjb21wb25lbnQgaXMgZGVjbGFyZWQuXG4gICAgICAgIC8vIEluc3RlYWQgd2Ugd2FudCB0aGUgTFZpZXcgZm9yIHRoZSBjb21wb25lbnQgVmlldyBhbmQgc28gd2UgbmVlZCB0byBsb29rIGl0IHVwLlxuICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gZ2V0Q29tcG9uZW50TFZpZXdCeUluZGV4KHROb2RlLmluZGV4LCBsVmlldyk7IC8vIGxvb2sgZG93blxuICAgICAgICByZXR1cm4gbmV3IFZpZXdSZWYkMShjb21wb25lbnRWaWV3LCBjb21wb25lbnRWaWV3KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodE5vZGUudHlwZSAmICgzIC8qIEFueVJOb2RlICovIHwgMTIgLyogQW55Q29udGFpbmVyICovIHwgMzIgLyogSWN1ICovKSkge1xuICAgICAgICAvLyBUaGUgTFZpZXcgcmVwcmVzZW50cyB0aGUgbG9jYXRpb24gd2hlcmUgdGhlIGluamVjdGlvbiBpcyByZXF1ZXN0ZWQgZnJvbS5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBsb2NhdGUgdGhlIGNvbnRhaW5pbmcgTFZpZXcgKGluIGNhc2Ugd2hlcmUgdGhlIGBsVmlld2AgaXMgYW4gZW1iZWRkZWQgdmlldylcbiAgICAgICAgY29uc3QgaG9zdENvbXBvbmVudFZpZXcgPSBsVmlld1tERUNMQVJBVElPTl9DT01QT05FTlRfVklFV107IC8vIGxvb2sgdXBcbiAgICAgICAgcmV0dXJuIG5ldyBWaWV3UmVmJDEoaG9zdENvbXBvbmVudFZpZXcsIGxWaWV3KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGFuIEFuZ3VsYXIgW3ZpZXddKGd1aWRlL2dsb3NzYXJ5I3ZpZXcgXCJEZWZpbml0aW9uXCIpLlxuICpcbiAqIEBzZWUge0BsaW5rIENoYW5nZURldGVjdG9yUmVmI3VzYWdlLW5vdGVzIENoYW5nZSBkZXRlY3Rpb24gdXNhZ2V9XG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBWaWV3UmVmIGV4dGVuZHMgQ2hhbmdlRGV0ZWN0b3JSZWYge1xufVxuLyoqXG4gKiBSZXByZXNlbnRzIGFuIEFuZ3VsYXIgW3ZpZXddKGd1aWRlL2dsb3NzYXJ5I3ZpZXcpIGluIGEgdmlldyBjb250YWluZXIuXG4gKiBBbiBbZW1iZWRkZWQgdmlld10oZ3VpZGUvZ2xvc3Nhcnkjdmlldy10cmVlKSBjYW4gYmUgcmVmZXJlbmNlZCBmcm9tIGEgY29tcG9uZW50XG4gKiBvdGhlciB0aGFuIHRoZSBob3N0aW5nIGNvbXBvbmVudCB3aG9zZSB0ZW1wbGF0ZSBkZWZpbmVzIGl0LCBvciBpdCBjYW4gYmUgZGVmaW5lZFxuICogaW5kZXBlbmRlbnRseSBieSBhIGBUZW1wbGF0ZVJlZmAuXG4gKlxuICogUHJvcGVydGllcyBvZiBlbGVtZW50cyBpbiBhIHZpZXcgY2FuIGNoYW5nZSwgYnV0IHRoZSBzdHJ1Y3R1cmUgKG51bWJlciBhbmQgb3JkZXIpIG9mIGVsZW1lbnRzIGluXG4gKiBhIHZpZXcgY2Fubm90LiBDaGFuZ2UgdGhlIHN0cnVjdHVyZSBvZiBlbGVtZW50cyBieSBpbnNlcnRpbmcsIG1vdmluZywgb3JcbiAqIHJlbW92aW5nIG5lc3RlZCB2aWV3cyBpbiBhIHZpZXcgY29udGFpbmVyLlxuICpcbiAqIEBzZWUgYFZpZXdDb250YWluZXJSZWZgXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqXG4gKiBUaGUgZm9sbG93aW5nIHRlbXBsYXRlIGJyZWFrcyBkb3duIGludG8gdHdvIHNlcGFyYXRlIGBUZW1wbGF0ZVJlZmAgaW5zdGFuY2VzLFxuICogYW4gb3V0ZXIgb25lIGFuZCBhbiBpbm5lciBvbmUuXG4gKlxuICogYGBgXG4gKiBDb3VudDoge3tpdGVtcy5sZW5ndGh9fVxuICogPHVsPlxuICogICA8bGkgKm5nRm9yPVwibGV0ICBpdGVtIG9mIGl0ZW1zXCI+e3tpdGVtfX08L2xpPlxuICogPC91bD5cbiAqIGBgYFxuICpcbiAqIFRoaXMgaXMgdGhlIG91dGVyIGBUZW1wbGF0ZVJlZmA6XG4gKlxuICogYGBgXG4gKiBDb3VudDoge3tpdGVtcy5sZW5ndGh9fVxuICogPHVsPlxuICogICA8bmctdGVtcGxhdGUgbmdGb3IgbGV0LWl0ZW0gW25nRm9yT2ZdPVwiaXRlbXNcIj48L25nLXRlbXBsYXRlPlxuICogPC91bD5cbiAqIGBgYFxuICpcbiAqIFRoaXMgaXMgdGhlIGlubmVyIGBUZW1wbGF0ZVJlZmA6XG4gKlxuICogYGBgXG4gKiAgIDxsaT57e2l0ZW19fTwvbGk+XG4gKiBgYGBcbiAqXG4gKiBUaGUgb3V0ZXIgYW5kIGlubmVyIGBUZW1wbGF0ZVJlZmAgaW5zdGFuY2VzIGFyZSBhc3NlbWJsZWQgaW50byB2aWV3cyBhcyBmb2xsb3dzOlxuICpcbiAqIGBgYFxuICogPCEtLSBWaWV3UmVmOiBvdXRlci0wIC0tPlxuICogQ291bnQ6IDJcbiAqIDx1bD5cbiAqICAgPG5nLXRlbXBsYXRlIHZpZXctY29udGFpbmVyLXJlZj48L25nLXRlbXBsYXRlPlxuICogICA8IS0tIFZpZXdSZWY6IGlubmVyLTEgLS0+PGxpPmZpcnN0PC9saT48IS0tIC9WaWV3UmVmOiBpbm5lci0xIC0tPlxuICogICA8IS0tIFZpZXdSZWY6IGlubmVyLTIgLS0+PGxpPnNlY29uZDwvbGk+PCEtLSAvVmlld1JlZjogaW5uZXItMiAtLT5cbiAqIDwvdWw+XG4gKiA8IS0tIC9WaWV3UmVmOiBvdXRlci0wIC0tPlxuICogYGBgXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEVtYmVkZGVkVmlld1JlZiBleHRlbmRzIFZpZXdSZWYge1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBUaGlzIGZpbGUgZXhpc3RzIGZvciBlYXNpbHkgcGF0Y2hpbmcgTmdNb2R1bGVGYWN0b3J5TG9hZGVyIGluIGczXG52YXIgbmdfbW9kdWxlX2ZhY3RvcnlfbG9hZGVyX2ltcGwgPSB7fTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgRGVidWdFdmVudExpc3RlbmVyIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxufVxuLyoqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGFzTmF0aXZlRWxlbWVudHMoZGVidWdFbHMpIHtcbiAgICByZXR1cm4gZGVidWdFbHMubWFwKChlbCkgPT4gZWwubmF0aXZlRWxlbWVudCk7XG59XG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgRGVidWdOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihuYXRpdmVOb2RlKSB7XG4gICAgICAgIHRoaXMubmF0aXZlTm9kZSA9IG5hdGl2ZU5vZGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBgRGVidWdFbGVtZW50YCBwYXJlbnQuIFdpbGwgYmUgYG51bGxgIGlmIHRoaXMgaXMgdGhlIHJvb3QgZWxlbWVudC5cbiAgICAgKi9cbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLm5hdGl2ZU5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgcmV0dXJuIHBhcmVudCA/IG5ldyBEZWJ1Z0VsZW1lbnQocGFyZW50KSA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBob3N0IGRlcGVuZGVuY3kgaW5qZWN0b3IuIEZvciBleGFtcGxlLCB0aGUgcm9vdCBlbGVtZW50J3MgY29tcG9uZW50IGluc3RhbmNlIGluamVjdG9yLlxuICAgICAqL1xuICAgIGdldCBpbmplY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIGdldEluamVjdG9yKHRoaXMubmF0aXZlTm9kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBlbGVtZW50J3Mgb3duIGNvbXBvbmVudCBpbnN0YW5jZSwgaWYgaXQgaGFzIG9uZS5cbiAgICAgKi9cbiAgICBnZXQgY29tcG9uZW50SW5zdGFuY2UoKSB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUVsZW1lbnQgPSB0aGlzLm5hdGl2ZU5vZGU7XG4gICAgICAgIHJldHVybiBuYXRpdmVFbGVtZW50ICYmXG4gICAgICAgICAgICAoZ2V0Q29tcG9uZW50JDEobmF0aXZlRWxlbWVudCkgfHwgZ2V0T3duaW5nQ29tcG9uZW50KG5hdGl2ZUVsZW1lbnQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHRoYXQgcHJvdmlkZXMgcGFyZW50IGNvbnRleHQgZm9yIHRoaXMgZWxlbWVudC4gT2Z0ZW4gYW4gYW5jZXN0b3IgY29tcG9uZW50IGluc3RhbmNlXG4gICAgICogdGhhdCBnb3Zlcm5zIHRoaXMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIFdoZW4gYW4gZWxlbWVudCBpcyByZXBlYXRlZCB3aXRoaW4gKm5nRm9yLCB0aGUgY29udGV4dCBpcyBhbiBgTmdGb3JPZmAgd2hvc2UgYCRpbXBsaWNpdGBcbiAgICAgKiBwcm9wZXJ0eSBpcyB0aGUgdmFsdWUgb2YgdGhlIHJvdyBpbnN0YW5jZSB2YWx1ZS4gRm9yIGV4YW1wbGUsIHRoZSBgaGVyb2AgaW4gYCpuZ0Zvcj1cImxldCBoZXJvXG4gICAgICogb2YgaGVyb2VzXCJgLlxuICAgICAqL1xuICAgIGdldCBjb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50JDEodGhpcy5uYXRpdmVOb2RlKSB8fCBnZXRDb250ZXh0KHRoaXMubmF0aXZlTm9kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjYWxsYmFja3MgYXR0YWNoZWQgdG8gdGhlIGNvbXBvbmVudCdzIEBPdXRwdXQgcHJvcGVydGllcyBhbmQvb3IgdGhlIGVsZW1lbnQncyBldmVudFxuICAgICAqIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgZ2V0IGxpc3RlbmVycygpIHtcbiAgICAgICAgcmV0dXJuIGdldExpc3RlbmVycyh0aGlzLm5hdGl2ZU5vZGUpLmZpbHRlcihsaXN0ZW5lciA9PiBsaXN0ZW5lci50eXBlID09PSAnZG9tJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpY3Rpb25hcnkgb2Ygb2JqZWN0cyBhc3NvY2lhdGVkIHdpdGggdGVtcGxhdGUgbG9jYWwgdmFyaWFibGVzIChlLmcuICNmb28pLCBrZXllZCBieSB0aGUgbG9jYWxcbiAgICAgKiB2YXJpYWJsZSBuYW1lLlxuICAgICAqL1xuICAgIGdldCByZWZlcmVuY2VzKCkge1xuICAgICAgICByZXR1cm4gZ2V0TG9jYWxSZWZzKHRoaXMubmF0aXZlTm9kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgY29tcG9uZW50J3MgaW5qZWN0b3IgbG9va3VwIHRva2Vucy4gSW5jbHVkZXMgdGhlIGNvbXBvbmVudCBpdHNlbGYgcGx1cyB0aGUgdG9rZW5zIHRoYXQgdGhlXG4gICAgICogY29tcG9uZW50IGxpc3RzIGluIGl0cyBwcm92aWRlcnMgbWV0YWRhdGEuXG4gICAgICovXG4gICAgZ2V0IHByb3ZpZGVyVG9rZW5zKCkge1xuICAgICAgICByZXR1cm4gZ2V0SW5qZWN0aW9uVG9rZW5zKHRoaXMubmF0aXZlTm9kZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAcHVibGljQXBpXG4gKlxuICogQHNlZSBbQ29tcG9uZW50IHRlc3Rpbmcgc2NlbmFyaW9zXShndWlkZS90ZXN0aW5nLWNvbXBvbmVudHMtc2NlbmFyaW9zKVxuICogQHNlZSBbQmFzaWNzIG9mIHRlc3RpbmcgY29tcG9uZW50c10oZ3VpZGUvdGVzdGluZy1jb21wb25lbnRzLWJhc2ljcylcbiAqIEBzZWUgW1Rlc3RpbmcgdXRpbGl0eSBBUElzXShndWlkZS90ZXN0aW5nLXV0aWxpdHktYXBpcylcbiAqL1xuY2xhc3MgRGVidWdFbGVtZW50IGV4dGVuZHMgRGVidWdOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihuYXRpdmVOb2RlKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREb21Ob2RlKG5hdGl2ZU5vZGUpO1xuICAgICAgICBzdXBlcihuYXRpdmVOb2RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHVuZGVybHlpbmcgRE9NIGVsZW1lbnQgYXQgdGhlIHJvb3Qgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBnZXQgbmF0aXZlRWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmF0aXZlTm9kZS5ub2RlVHlwZSA9PSBOb2RlLkVMRU1FTlRfTk9ERSA/IHRoaXMubmF0aXZlTm9kZSA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBlbGVtZW50IHRhZyBuYW1lLCBpZiBpdCBpcyBhbiBlbGVtZW50LlxuICAgICAqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQodGhpcy5uYXRpdmVOb2RlKTtcbiAgICAgICAgaWYgKGNvbnRleHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGxWaWV3ID0gY29udGV4dC5sVmlldztcbiAgICAgICAgICAgIGNvbnN0IHREYXRhID0gbFZpZXdbVFZJRVddLmRhdGE7XG4gICAgICAgICAgICBjb25zdCB0Tm9kZSA9IHREYXRhW2NvbnRleHQubm9kZUluZGV4XTtcbiAgICAgICAgICAgIHJldHVybiB0Tm9kZS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5hdGl2ZU5vZGUubm9kZU5hbWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogIEdldHMgYSBtYXAgb2YgcHJvcGVydHkgbmFtZXMgdG8gcHJvcGVydHkgdmFsdWVzIGZvciBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogIFRoaXMgbWFwIGluY2x1ZGVzOlxuICAgICAqICAtIFJlZ3VsYXIgcHJvcGVydHkgYmluZGluZ3MgKGUuZy4gYFtpZF09XCJpZFwiYClcbiAgICAgKiAgLSBIb3N0IHByb3BlcnR5IGJpbmRpbmdzIChlLmcuIGBob3N0OiB7ICdbaWRdJzogXCJpZFwiIH1gKVxuICAgICAqICAtIEludGVycG9sYXRlZCBwcm9wZXJ0eSBiaW5kaW5ncyAoZS5nLiBgaWQ9XCJ7eyB2YWx1ZSB9fVwiKVxuICAgICAqXG4gICAgICogIEl0IGRvZXMgbm90IGluY2x1ZGU6XG4gICAgICogIC0gaW5wdXQgcHJvcGVydHkgYmluZGluZ3MgKGUuZy4gYFtteUN1c3RvbUlucHV0XT1cInZhbHVlXCJgKVxuICAgICAqICAtIGF0dHJpYnV0ZSBiaW5kaW5ncyAoZS5nLiBgW2F0dHIucm9sZV09XCJtZW51XCJgKVxuICAgICAqL1xuICAgIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gZ2V0TENvbnRleHQodGhpcy5uYXRpdmVOb2RlKTtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsVmlldyA9IGNvbnRleHQubFZpZXc7XG4gICAgICAgIGNvbnN0IHREYXRhID0gbFZpZXdbVFZJRVddLmRhdGE7XG4gICAgICAgIGNvbnN0IHROb2RlID0gdERhdGFbY29udGV4dC5ub2RlSW5kZXhdO1xuICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0ge307XG4gICAgICAgIC8vIENvbGxlY3QgcHJvcGVydGllcyBmcm9tIHRoZSBET00uXG4gICAgICAgIGNvcHlEb21Qcm9wZXJ0aWVzKHRoaXMubmF0aXZlRWxlbWVudCwgcHJvcGVydGllcyk7XG4gICAgICAgIC8vIENvbGxlY3QgcHJvcGVydGllcyBmcm9tIHRoZSBiaW5kaW5ncy4gVGhpcyBpcyBuZWVkZWQgZm9yIGFuaW1hdGlvbiByZW5kZXJlciB3aGljaCBoYXNcbiAgICAgICAgLy8gc3ludGhldGljIHByb3BlcnRpZXMgd2hpY2ggZG9uJ3QgZ2V0IHJlZmxlY3RlZCBpbnRvIHRoZSBET00uXG4gICAgICAgIGNvbGxlY3RQcm9wZXJ0eUJpbmRpbmdzKHByb3BlcnRpZXMsIHROb2RlLCBsVmlldywgdERhdGEpO1xuICAgICAgICByZXR1cm4gcHJvcGVydGllcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogIEEgbWFwIG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBhdHRyaWJ1dGUgdmFsdWVzIGZvciBhbiBlbGVtZW50LlxuICAgICAqL1xuICAgIGdldCBhdHRyaWJ1dGVzKCkge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0ge307XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGV4dCA9IGdldExDb250ZXh0KGVsZW1lbnQpO1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxWaWV3ID0gY29udGV4dC5sVmlldztcbiAgICAgICAgY29uc3QgdE5vZGVBdHRycyA9IGxWaWV3W1RWSUVXXS5kYXRhW2NvbnRleHQubm9kZUluZGV4XS5hdHRycztcbiAgICAgICAgY29uc3QgbG93ZXJjYXNlVE5vZGVBdHRycyA9IFtdO1xuICAgICAgICAvLyBGb3IgZGVidWcgbm9kZXMgd2UgdGFrZSB0aGUgZWxlbWVudCdzIGF0dHJpYnV0ZSBkaXJlY3RseSBmcm9tIHRoZSBET00gc2luY2UgaXQgYWxsb3dzIHVzXG4gICAgICAgIC8vIHRvIGFjY291bnQgZm9yIG9uZXMgdGhhdCB3ZXJlbid0IHNldCB2aWEgYmluZGluZ3MgKGUuZy4gVmlld0VuZ2luZSBrZWVwcyB0cmFjayBvZiB0aGUgb25lc1xuICAgICAgICAvLyB0aGF0IGFyZSBzZXQgdGhyb3VnaCBgUmVuZGVyZXIyYCkuIFRoZSBwcm9ibGVtIGlzIHRoYXQgdGhlIGJyb3dzZXIgd2lsbCBsb3dlcmNhc2UgYWxsIG5hbWVzLFxuICAgICAgICAvLyBob3dldmVyIHNpbmNlIHdlIGhhdmUgdGhlIGF0dHJpYnV0ZXMgYWxyZWFkeSBvbiB0aGUgVE5vZGUsIHdlIGNhbiBwcmVzZXJ2ZSB0aGUgY2FzZSBieSBnb2luZ1xuICAgICAgICAvLyB0aHJvdWdoIHRoZW0gb25jZSwgYWRkaW5nIHRoZW0gdG8gdGhlIGBhdHRyaWJ1dGVzYCBtYXAgYW5kIHB1dHRpbmcgdGhlaXIgbG93ZXItY2FzZWQgbmFtZVxuICAgICAgICAvLyBpbnRvIGFuIGFycmF5LiBBZnRlcndhcmRzIHdoZW4gd2UncmUgZ29pbmcgdGhyb3VnaCB0aGUgbmF0aXZlIERPTSBhdHRyaWJ1dGVzLCB3ZSBjYW4gY2hlY2tcbiAgICAgICAgLy8gd2hldGhlciB3ZSBoYXZlbid0IHJ1biBpbnRvIGFuIGF0dHJpYnV0ZSBhbHJlYWR5IHRocm91Z2ggdGhlIFROb2RlLlxuICAgICAgICBpZiAodE5vZGVBdHRycykge1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCB0Tm9kZUF0dHJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gdE5vZGVBdHRyc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBTdG9wIGFzIHNvb24gYXMgd2UgaGl0IGEgbWFya2VyLiBXZSBvbmx5IGNhcmUgYWJvdXQgdGhlIHJlZ3VsYXIgYXR0cmlidXRlcy4gRXZlcnl0aGluZ1xuICAgICAgICAgICAgICAgIC8vIGVsc2Ugd2lsbCBiZSBoYW5kbGVkIGJlbG93IHdoZW4gd2UgcmVhZCB0aGUgZmluYWwgYXR0cmlidXRlcyBvZmYgdGhlIERPTS5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGF0dHJOYW1lICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0clZhbHVlID0gdE5vZGVBdHRyc1tpICsgMV07XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlc1thdHRyTmFtZV0gPSBhdHRyVmFsdWU7XG4gICAgICAgICAgICAgICAgbG93ZXJjYXNlVE5vZGVBdHRycy5wdXNoKGF0dHJOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlQXR0cnMgPSBlbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZUF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyID0gZUF0dHJzW2ldO1xuICAgICAgICAgICAgY29uc3QgbG93ZXJjYXNlTmFtZSA9IGF0dHIubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgd2UgZG9uJ3QgYXNzaWduIHRoZSBzYW1lIGF0dHJpYnV0ZSBib3RoIGluIGl0c1xuICAgICAgICAgICAgLy8gY2FzZS1zZW5zaXRpdmUgZm9ybSBhbmQgdGhlIGxvd2VyLWNhc2VkIG9uZSBmcm9tIHRoZSBicm93c2VyLlxuICAgICAgICAgICAgaWYgKGxvd2VyY2FzZVROb2RlQXR0cnMuaW5kZXhPZihsb3dlcmNhc2VOYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBTYXZlIHRoZSBsb3dlcmNhc2UgbmFtZSB0byBhbGlnbiB0aGUgYmVoYXZpb3IgYmV0d2VlbiBicm93c2Vycy5cbiAgICAgICAgICAgICAgICAvLyBJRSBwcmVzZXJ2ZXMgdGhlIGNhc2UsIHdoaWxlIGFsbCBvdGhlciBicm93c2VyIGNvbnZlcnQgaXQgdG8gbG93ZXIgY2FzZS5cbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzW2xvd2VyY2FzZU5hbWVdID0gYXR0ci52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGlubGluZSBzdHlsZXMgb2YgdGhlIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogV2lsbCBiZSBgbnVsbGAgaWYgdGhlcmUgaXMgbm8gYHN0eWxlYCBwcm9wZXJ0eSBvbiB0aGUgdW5kZXJseWluZyBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzZWUgW0VsZW1lbnRDU1NJbmxpbmVTdHlsZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnRDU1NJbmxpbmVTdHlsZS9zdHlsZSlcbiAgICAgKi9cbiAgICBnZXQgc3R5bGVzKCkge1xuICAgICAgICBpZiAodGhpcy5uYXRpdmVFbGVtZW50ICYmIHRoaXMubmF0aXZlRWxlbWVudC5zdHlsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmF0aXZlRWxlbWVudC5zdHlsZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgbWFwIGNvbnRhaW5pbmcgdGhlIGNsYXNzIG5hbWVzIG9uIHRoZSBlbGVtZW50IGFzIGtleXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1hcCBpcyBkZXJpdmVkIGZyb20gdGhlIGBjbGFzc05hbWVgIHByb3BlcnR5IG9mIHRoZSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoZSB2YWx1ZXMgb2YgdGhpcyBvYmplY3Qgd2lsbCBhbHdheXMgYmUgYHRydWVgLiBUaGUgY2xhc3Mga2V5IHdpbGwgbm90IGFwcGVhciBpbiB0aGUgS1ZcbiAgICAgKiBvYmplY3QgaWYgaXQgZG9lcyBub3QgZXhpc3Qgb24gdGhlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc2VlIFtFbGVtZW50LmNsYXNzTmFtZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvY2xhc3NOYW1lKVxuICAgICAqL1xuICAgIGdldCBjbGFzc2VzKCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMubmF0aXZlRWxlbWVudDtcbiAgICAgICAgLy8gU1ZHIGVsZW1lbnRzIHJldHVybiBhbiBgU1ZHQW5pbWF0ZWRTdHJpbmdgIGluc3RlYWQgb2YgYSBwbGFpbiBzdHJpbmcgZm9yIHRoZSBgY2xhc3NOYW1lYC5cbiAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWU7XG4gICAgICAgIGNvbnN0IGNsYXNzZXMgPSB0eXBlb2YgY2xhc3NOYW1lICE9PSAnc3RyaW5nJyA/IGNsYXNzTmFtZS5iYXNlVmFsLnNwbGl0KCcgJykgOiBjbGFzc05hbWUuc3BsaXQoJyAnKTtcbiAgICAgICAgY2xhc3Nlcy5mb3JFYWNoKCh2YWx1ZSkgPT4gcmVzdWx0W3ZhbHVlXSA9IHRydWUpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYGNoaWxkTm9kZXNgIG9mIHRoZSBET00gZWxlbWVudCBhcyBhIGBEZWJ1Z05vZGVgIGFycmF5LlxuICAgICAqXG4gICAgICogQHNlZSBbTm9kZS5jaGlsZE5vZGVzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTm9kZS9jaGlsZE5vZGVzKVxuICAgICAqL1xuICAgIGdldCBjaGlsZE5vZGVzKCkge1xuICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gdGhpcy5uYXRpdmVOb2RlLmNoaWxkTm9kZXM7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGNoaWxkTm9kZXNbaV07XG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGdldERlYnVnTm9kZShlbGVtZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgaW1tZWRpYXRlIGBEZWJ1Z0VsZW1lbnRgIGNoaWxkcmVuLiBXYWxrIHRoZSB0cmVlIGJ5IGRlc2NlbmRpbmcgdGhyb3VnaCBgY2hpbGRyZW5gLlxuICAgICAqL1xuICAgIGdldCBjaGlsZHJlbigpIHtcbiAgICAgICAgY29uc3QgbmF0aXZlRWxlbWVudCA9IHRoaXMubmF0aXZlRWxlbWVudDtcbiAgICAgICAgaWYgKCFuYXRpdmVFbGVtZW50KVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gbmF0aXZlRWxlbWVudC5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gY2hpbGROb2Rlc1tpXTtcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goZ2V0RGVidWdOb2RlKGVsZW1lbnQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHRoZSBmaXJzdCBgRGVidWdFbGVtZW50YCB0aGF0IG1hdGNoZXMgdGhlIHByZWRpY2F0ZSBhdCBhbnkgZGVwdGggaW4gdGhlIHN1YnRyZWUuXG4gICAgICovXG4gICAgcXVlcnkocHJlZGljYXRlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSB0aGlzLnF1ZXJ5QWxsKHByZWRpY2F0ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHRzWzBdIHx8IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIEFsbCBgRGVidWdFbGVtZW50YCBtYXRjaGVzIGZvciB0aGUgcHJlZGljYXRlIGF0IGFueSBkZXB0aCBpbiB0aGUgc3VidHJlZS5cbiAgICAgKi9cbiAgICBxdWVyeUFsbChwcmVkaWNhdGUpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IFtdO1xuICAgICAgICBfcXVlcnlBbGwodGhpcywgcHJlZGljYXRlLCBtYXRjaGVzLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIEFsbCBgRGVidWdOb2RlYCBtYXRjaGVzIGZvciB0aGUgcHJlZGljYXRlIGF0IGFueSBkZXB0aCBpbiB0aGUgc3VidHJlZS5cbiAgICAgKi9cbiAgICBxdWVyeUFsbE5vZGVzKHByZWRpY2F0ZSkge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gW107XG4gICAgICAgIF9xdWVyeUFsbCh0aGlzLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJzIHRoZSBldmVudCBieSBpdHMgbmFtZSBpZiB0aGVyZSBpcyBhIGNvcnJlc3BvbmRpbmcgbGlzdGVuZXIgaW4gdGhlIGVsZW1lbnQnc1xuICAgICAqIGBsaXN0ZW5lcnNgIGNvbGxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBJZiB0aGUgZXZlbnQgbGFja3MgYSBsaXN0ZW5lciBvciB0aGVyZSdzIHNvbWUgb3RoZXIgcHJvYmxlbSwgY29uc2lkZXJcbiAgICAgKiBjYWxsaW5nIGBuYXRpdmVFbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRPYmplY3QpYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudE5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50IHRvIHRyaWdnZXJcbiAgICAgKiBAcGFyYW0gZXZlbnRPYmogVGhlIF9ldmVudCBvYmplY3RfIGV4cGVjdGVkIGJ5IHRoZSBoYW5kbGVyXG4gICAgICpcbiAgICAgKiBAc2VlIFtUZXN0aW5nIGNvbXBvbmVudHMgc2NlbmFyaW9zXShndWlkZS90ZXN0aW5nLWNvbXBvbmVudHMtc2NlbmFyaW9zI3RyaWdnZXItZXZlbnQtaGFuZGxlcilcbiAgICAgKi9cbiAgICB0cmlnZ2VyRXZlbnRIYW5kbGVyKGV2ZW50TmFtZSwgZXZlbnRPYmopIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMubmF0aXZlTm9kZTtcbiAgICAgICAgY29uc3QgaW52b2tlZExpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5uYW1lID09PSBldmVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IGxpc3RlbmVyLmNhbGxiYWNrO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwobm9kZSwgZXZlbnRPYmopO1xuICAgICAgICAgICAgICAgIGludm9rZWRMaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIHdoZXRoZXIgYGV2ZW50TGlzdGVuZXJzYCBleGlzdHMsIGJlY2F1c2UgaXQncyBzb21ldGhpbmdcbiAgICAgICAgLy8gdGhhdCBab25lLmpzIG9ubHkgYWRkcyB0byBgRXZlbnRUYXJnZXRgIGluIGJyb3dzZXIgZW52aXJvbm1lbnRzLlxuICAgICAgICBpZiAodHlwZW9mIG5vZGUuZXZlbnRMaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBpbiBJdnkgd2Ugd3JhcCBldmVudCBsaXN0ZW5lcnMgd2l0aCBhIGNhbGwgdG8gYGV2ZW50LnByZXZlbnREZWZhdWx0YCBpbiBzb21lXG4gICAgICAgICAgICAvLyBjYXNlcy4gV2UgdXNlICdfX25nVW53cmFwX18nIGFzIGEgc3BlY2lhbCB0b2tlbiB0aGF0IGdpdmVzIHVzIGFjY2VzcyB0byB0aGUgYWN0dWFsIGV2ZW50XG4gICAgICAgICAgICAvLyBsaXN0ZW5lci5cbiAgICAgICAgICAgIG5vZGUuZXZlbnRMaXN0ZW5lcnMoZXZlbnROYW1lKS5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEluIG9yZGVyIHRvIGVuc3VyZSB0aGF0IHdlIGNhbiBkZXRlY3QgdGhlIHNwZWNpYWwgX19uZ1Vud3JhcF9fIHRva2VuIGRlc2NyaWJlZCBhYm92ZSwgd2VcbiAgICAgICAgICAgICAgICAvLyB1c2UgYHRvU3RyaW5nYCBvbiB0aGUgbGlzdGVuZXIgYW5kIHNlZSBpZiBpdCBjb250YWlucyB0aGUgdG9rZW4uIFdlIHVzZSB0aGlzIGFwcHJvYWNoIHRvXG4gICAgICAgICAgICAgICAgLy8gZW5zdXJlIHRoYXQgaXQgc3RpbGwgd29ya2VkIHdpdGggY29tcGlsZWQgY29kZSBzaW5jZSBpdCBjYW5ub3QgcmVtb3ZlIG9yIHJlbmFtZSBzdHJpbmdcbiAgICAgICAgICAgICAgICAvLyBsaXRlcmFscy4gV2UgYWxzbyBjb25zaWRlcmVkIHVzaW5nIGEgc3BlY2lhbCBmdW5jdGlvbiBuYW1lIChpLmUuIGlmKGxpc3RlbmVyLm5hbWUgPT09XG4gICAgICAgICAgICAgICAgLy8gc3BlY2lhbCkpIGJ1dCB0aGF0IHdhcyBtb3JlIGN1bWJlcnNvbWUgYW5kIHdlIHdlcmUgYWxzbyBjb25jZXJuZWQgdGhlIGNvbXBpbGVkIGNvZGUgY291bGRcbiAgICAgICAgICAgICAgICAvLyBzdHJpcCB0aGUgbmFtZSwgdHVybmluZyB0aGUgY29uZGl0aW9uIGluIHRvIChcIlwiID09PSBcIlwiKSBhbmQgYWx3YXlzIHJldHVybmluZyB0cnVlLlxuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci50b1N0cmluZygpLmluZGV4T2YoJ19fbmdVbndyYXBfXycpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bndyYXBwZWRMaXN0ZW5lciA9IGxpc3RlbmVyKCdfX25nVW53cmFwX18nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludm9rZWRMaXN0ZW5lcnMuaW5kZXhPZih1bndyYXBwZWRMaXN0ZW5lcikgPT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB1bndyYXBwZWRMaXN0ZW5lci5jYWxsKG5vZGUsIGV2ZW50T2JqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNvcHlEb21Qcm9wZXJ0aWVzKGVsZW1lbnQsIHByb3BlcnRpZXMpIHtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAvLyBTa2lwIG93biBwcm9wZXJ0aWVzIChhcyB0aG9zZSBhcmUgcGF0Y2hlZClcbiAgICAgICAgbGV0IG9iaiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihlbGVtZW50KTtcbiAgICAgICAgY29uc3QgTm9kZVByb3RvdHlwZSA9IE5vZGUucHJvdG90eXBlO1xuICAgICAgICB3aGlsZSAob2JqICE9PSBudWxsICYmIG9iaiAhPT0gTm9kZVByb3RvdHlwZSkge1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmopO1xuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGRlc2NyaXB0b3JzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFrZXkuc3RhcnRzV2l0aCgnX18nKSAmJiAha2V5LnN0YXJ0c1dpdGgoJ29uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgaW5jbHVkZSBwcm9wZXJ0aWVzIHN0YXJ0aW5nIHdpdGggYF9fYCBhbmQgYG9uYC5cbiAgICAgICAgICAgICAgICAgICAgLy8gYF9fYCBhcmUgcGF0Y2hlZCB2YWx1ZXMgd2hpY2ggc2hvdWxkIG5vdCBiZSBpbmNsdWRlZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gYG9uYCBhcmUgbGlzdGVuZXJzIHdoaWNoIGFsc28gc2hvdWxkIG5vdCBiZSBpbmNsdWRlZC5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlbGVtZW50W2tleV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1ByaW1pdGl2ZVZhbHVlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvYmogPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8XG4gICAgICAgIHZhbHVlID09PSBudWxsO1xufVxuZnVuY3Rpb24gX3F1ZXJ5QWxsKHBhcmVudEVsZW1lbnQsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5KSB7XG4gICAgY29uc3QgY29udGV4dCA9IGdldExDb250ZXh0KHBhcmVudEVsZW1lbnQubmF0aXZlTm9kZSk7XG4gICAgaWYgKGNvbnRleHQgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgcGFyZW50VE5vZGUgPSBjb250ZXh0LmxWaWV3W1RWSUVXXS5kYXRhW2NvbnRleHQubm9kZUluZGV4XTtcbiAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuKHBhcmVudFROb2RlLCBjb250ZXh0LmxWaWV3LCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcGFyZW50RWxlbWVudC5uYXRpdmVOb2RlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIElmIHRoZSBjb250ZXh0IGlzIG51bGwsIHRoZW4gYHBhcmVudEVsZW1lbnRgIHdhcyBlaXRoZXIgY3JlYXRlZCB3aXRoIFJlbmRlcmVyMiBvciBuYXRpdmUgRE9NXG4gICAgICAgIC8vIEFQSXMuXG4gICAgICAgIF9xdWVyeU5hdGl2ZU5vZGVEZXNjZW5kYW50cyhwYXJlbnRFbGVtZW50Lm5hdGl2ZU5vZGUsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5KTtcbiAgICB9XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IG1hdGNoIHRoZSBjdXJyZW50IFROb2RlIGFnYWluc3QgdGhlIHByZWRpY2F0ZSwgYW5kIGdvZXMgb24gd2l0aCB0aGUgbmV4dCBvbmVzLlxuICpcbiAqIEBwYXJhbSB0Tm9kZSB0aGUgY3VycmVudCBUTm9kZVxuICogQHBhcmFtIGxWaWV3IHRoZSBMVmlldyBvZiB0aGlzIFROb2RlXG4gKiBAcGFyYW0gcHJlZGljYXRlIHRoZSBwcmVkaWNhdGUgdG8gbWF0Y2hcbiAqIEBwYXJhbSBtYXRjaGVzIHRoZSBsaXN0IG9mIHBvc2l0aXZlIG1hdGNoZXNcbiAqIEBwYXJhbSBlbGVtZW50c09ubHkgd2hldGhlciBvbmx5IGVsZW1lbnRzIHNob3VsZCBiZSBzZWFyY2hlZFxuICogQHBhcmFtIHJvb3ROYXRpdmVOb2RlIHRoZSByb290IG5hdGl2ZSBub2RlIG9uIHdoaWNoIHByZWRpY2F0ZSBzaG91bGQgbm90IGJlIG1hdGNoZWRcbiAqL1xuZnVuY3Rpb24gX3F1ZXJ5Tm9kZUNoaWxkcmVuKHROb2RlLCBsVmlldywgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFROb2RlRm9yTFZpZXcodE5vZGUsIGxWaWV3KTtcbiAgICBjb25zdCBuYXRpdmVOb2RlID0gZ2V0TmF0aXZlQnlUTm9kZU9yTnVsbCh0Tm9kZSwgbFZpZXcpO1xuICAgIC8vIEZvciBlYWNoIHR5cGUgb2YgVE5vZGUsIHNwZWNpZmljIGxvZ2ljIGlzIGV4ZWN1dGVkLlxuICAgIGlmICh0Tm9kZS50eXBlICYgKDMgLyogQW55Uk5vZGUgKi8gfCA4IC8qIEVsZW1lbnRDb250YWluZXIgKi8pKSB7XG4gICAgICAgIC8vIENhc2UgMTogdGhlIFROb2RlIGlzIGFuIGVsZW1lbnRcbiAgICAgICAgLy8gVGhlIG5hdGl2ZSBub2RlIGhhcyB0byBiZSBjaGVja2VkLlxuICAgICAgICBfYWRkUXVlcnlNYXRjaChuYXRpdmVOb2RlLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgICAgICBpZiAoaXNDb21wb25lbnRIb3N0KHROb2RlKSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgdGhlIGhvc3Qgb2YgYSBjb21wb25lbnQsIHRoZW4gYWxsIG5vZGVzIGluIGl0cyB2aWV3IGhhdmUgdG8gYmUgcHJvY2Vzc2VkLlxuICAgICAgICAgICAgLy8gTm90ZTogdGhlIGNvbXBvbmVudCdzIGNvbnRlbnQgKHROb2RlLmNoaWxkKSB3aWxsIGJlIHByb2Nlc3NlZCBmcm9tIHRoZSBpbnNlcnRpb24gcG9pbnRzLlxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50VmlldyA9IGdldENvbXBvbmVudExWaWV3QnlJbmRleCh0Tm9kZS5pbmRleCwgbFZpZXcpO1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudFZpZXcgJiYgY29tcG9uZW50Vmlld1tUVklFV10uZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIF9xdWVyeU5vZGVDaGlsZHJlbihjb21wb25lbnRWaWV3W1RWSUVXXS5maXJzdENoaWxkLCBjb21wb25lbnRWaWV3LCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHROb2RlLmNoaWxkKSB7XG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBpdHMgY2hpbGRyZW4gaGF2ZSB0byBiZSBwcm9jZXNzZWQuXG4gICAgICAgICAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuKHROb2RlLmNoaWxkLCBsVmlldywgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdlIGFsc28gaGF2ZSB0byBxdWVyeSB0aGUgRE9NIGRpcmVjdGx5IGluIG9yZGVyIHRvIGNhdGNoIGVsZW1lbnRzIGluc2VydGVkIHRocm91Z2hcbiAgICAgICAgICAgIC8vIFJlbmRlcmVyMi4gTm90ZSB0aGF0IHRoaXMgaXMgX19ub3RfXyBvcHRpbWFsLCBiZWNhdXNlIHdlJ3JlIHdhbGtpbmcgc2ltaWxhciB0cmVlcyBtdWx0aXBsZVxuICAgICAgICAgICAgLy8gdGltZXMuIFZpZXdFbmdpbmUgY291bGQgZG8gaXQgbW9yZSBlZmZpY2llbnRseSwgYmVjYXVzZSBhbGwgdGhlIGluc2VydGlvbnMgZ28gdGhyb3VnaFxuICAgICAgICAgICAgLy8gUmVuZGVyZXIyLCBob3dldmVyIHRoYXQncyBub3QgdGhlIGNhc2UgaW4gSXZ5LiBUaGlzIGFwcHJvYWNoIGlzIGJlaW5nIHVzZWQgYmVjYXVzZTpcbiAgICAgICAgICAgIC8vIDEuIE1hdGNoaW5nIHRoZSBWaWV3RW5naW5lIGJlaGF2aW9yIHdvdWxkIG1lYW4gcG90ZW50aWFsbHkgaW50cm9kdWNpbmcgYSBkZXBlZGVuY3lcbiAgICAgICAgICAgIC8vICAgIGZyb20gYFJlbmRlcmVyMmAgdG8gSXZ5IHdoaWNoIGNvdWxkIGJyaW5nIEl2eSBjb2RlIGludG8gVmlld0VuZ2luZS5cbiAgICAgICAgICAgIC8vIDIuIFdlIHdvdWxkIGhhdmUgdG8gbWFrZSBgUmVuZGVyZXIzYCBcImtub3dcIiBhYm91dCBkZWJ1ZyBub2Rlcy5cbiAgICAgICAgICAgIC8vIDMuIEl0IGFsbG93cyB1cyB0byBjYXB0dXJlIG5vZGVzIHRoYXQgd2VyZSBpbnNlcnRlZCBkaXJlY3RseSB2aWEgdGhlIERPTS5cbiAgICAgICAgICAgIG5hdGl2ZU5vZGUgJiYgX3F1ZXJ5TmF0aXZlTm9kZURlc2NlbmRhbnRzKG5hdGl2ZU5vZGUsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbiBhbGwgY2FzZXMsIGlmIGEgZHluYW1pYyBjb250YWluZXIgZXhpc3RzIGZvciB0aGlzIG5vZGUsIGVhY2ggdmlldyBpbnNpZGUgaXQgaGFzIHRvIGJlXG4gICAgICAgIC8vIHByb2Nlc3NlZC5cbiAgICAgICAgY29uc3Qgbm9kZU9yQ29udGFpbmVyID0gbFZpZXdbdE5vZGUuaW5kZXhdO1xuICAgICAgICBpZiAoaXNMQ29udGFpbmVyKG5vZGVPckNvbnRhaW5lcikpIHtcbiAgICAgICAgICAgIF9xdWVyeU5vZGVDaGlsZHJlbkluQ29udGFpbmVyKG5vZGVPckNvbnRhaW5lciwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0Tm9kZS50eXBlICYgNCAvKiBDb250YWluZXIgKi8pIHtcbiAgICAgICAgLy8gQ2FzZSAyOiB0aGUgVE5vZGUgaXMgYSBjb250YWluZXJcbiAgICAgICAgLy8gVGhlIG5hdGl2ZSBub2RlIGhhcyB0byBiZSBjaGVja2VkLlxuICAgICAgICBjb25zdCBsQ29udGFpbmVyID0gbFZpZXdbdE5vZGUuaW5kZXhdO1xuICAgICAgICBfYWRkUXVlcnlNYXRjaChsQ29udGFpbmVyW05BVElWRV0sIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgICAgIC8vIEVhY2ggdmlldyBpbnNpZGUgdGhlIGNvbnRhaW5lciBoYXMgdG8gYmUgcHJvY2Vzc2VkLlxuICAgICAgICBfcXVlcnlOb2RlQ2hpbGRyZW5JbkNvbnRhaW5lcihsQ29udGFpbmVyLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0Tm9kZS50eXBlICYgMTYgLyogUHJvamVjdGlvbiAqLykge1xuICAgICAgICAvLyBDYXNlIDM6IHRoZSBUTm9kZSBpcyBhIHByb2plY3Rpb24gaW5zZXJ0aW9uIHBvaW50IChpLmUuIGEgPG5nLWNvbnRlbnQ+KS5cbiAgICAgICAgLy8gVGhlIG5vZGVzIHByb2plY3RlZCBhdCB0aGlzIGxvY2F0aW9uIGFsbCBuZWVkIHRvIGJlIHByb2Nlc3NlZC5cbiAgICAgICAgY29uc3QgY29tcG9uZW50VmlldyA9IGxWaWV3W0RFQ0xBUkFUSU9OX0NPTVBPTkVOVF9WSUVXXTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50SG9zdCA9IGNvbXBvbmVudFZpZXdbVF9IT1NUXTtcbiAgICAgICAgY29uc3QgaGVhZCA9IGNvbXBvbmVudEhvc3QucHJvamVjdGlvblt0Tm9kZS5wcm9qZWN0aW9uXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaGVhZCkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IG5hdGl2ZU5vZGUgb2YgaGVhZCkge1xuICAgICAgICAgICAgICAgIF9hZGRRdWVyeU1hdGNoKG5hdGl2ZU5vZGUsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGVhZCkge1xuICAgICAgICAgICAgY29uc3QgbmV4dExWaWV3ID0gY29tcG9uZW50Vmlld1tQQVJFTlRdO1xuICAgICAgICAgICAgY29uc3QgbmV4dFROb2RlID0gbmV4dExWaWV3W1RWSUVXXS5kYXRhW2hlYWQuaW5kZXhdO1xuICAgICAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuKG5leHRUTm9kZSwgbmV4dExWaWV3LCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSwgcm9vdE5hdGl2ZU5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHROb2RlLmNoaWxkKSB7XG4gICAgICAgIC8vIENhc2UgNDogdGhlIFROb2RlIGlzIGEgdmlldy5cbiAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuKHROb2RlLmNoaWxkLCBsVmlldywgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHksIHJvb3ROYXRpdmVOb2RlKTtcbiAgICB9XG4gICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBnbyB0byB0aGUgbmV4dCBzaWJsaW5nIG9mIHRoZSByb290IG5vZGUuXG4gICAgaWYgKHJvb3ROYXRpdmVOb2RlICE9PSBuYXRpdmVOb2RlKSB7XG4gICAgICAgIC8vIFRvIGRldGVybWluZSB0aGUgbmV4dCBub2RlIHRvIGJlIHByb2Nlc3NlZCwgd2UgbmVlZCB0byB1c2UgdGhlIG5leHQgb3IgdGhlIHByb2plY3Rpb25OZXh0XG4gICAgICAgIC8vIGxpbmssIGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoZSBjdXJyZW50IG5vZGUgaGFzIGJlZW4gcHJvamVjdGVkLlxuICAgICAgICBjb25zdCBuZXh0VE5vZGUgPSAodE5vZGUuZmxhZ3MgJiA0IC8qIGlzUHJvamVjdGVkICovKSA/IHROb2RlLnByb2plY3Rpb25OZXh0IDogdE5vZGUubmV4dDtcbiAgICAgICAgaWYgKG5leHRUTm9kZSkge1xuICAgICAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuKG5leHRUTm9kZSwgbFZpZXcsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFByb2Nlc3MgYWxsIFROb2RlcyBpbiBhIGdpdmVuIGNvbnRhaW5lci5cbiAqXG4gKiBAcGFyYW0gbENvbnRhaW5lciB0aGUgY29udGFpbmVyIHRvIGJlIHByb2Nlc3NlZFxuICogQHBhcmFtIHByZWRpY2F0ZSB0aGUgcHJlZGljYXRlIHRvIG1hdGNoXG4gKiBAcGFyYW0gbWF0Y2hlcyB0aGUgbGlzdCBvZiBwb3NpdGl2ZSBtYXRjaGVzXG4gKiBAcGFyYW0gZWxlbWVudHNPbmx5IHdoZXRoZXIgb25seSBlbGVtZW50cyBzaG91bGQgYmUgc2VhcmNoZWRcbiAqIEBwYXJhbSByb290TmF0aXZlTm9kZSB0aGUgcm9vdCBuYXRpdmUgbm9kZSBvbiB3aGljaCBwcmVkaWNhdGUgc2hvdWxkIG5vdCBiZSBtYXRjaGVkXG4gKi9cbmZ1bmN0aW9uIF9xdWVyeU5vZGVDaGlsZHJlbkluQ29udGFpbmVyKGxDb250YWluZXIsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSkge1xuICAgIGZvciAobGV0IGkgPSBDT05UQUlORVJfSEVBREVSX09GRlNFVDsgaSA8IGxDb250YWluZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hpbGRWaWV3ID0gbENvbnRhaW5lcltpXTtcbiAgICAgICAgY29uc3QgZmlyc3RDaGlsZCA9IGNoaWxkVmlld1tUVklFV10uZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKGZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIF9xdWVyeU5vZGVDaGlsZHJlbihmaXJzdENoaWxkLCBjaGlsZFZpZXcsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIE1hdGNoIHRoZSBjdXJyZW50IG5hdGl2ZSBub2RlIGFnYWluc3QgdGhlIHByZWRpY2F0ZS5cbiAqXG4gKiBAcGFyYW0gbmF0aXZlTm9kZSB0aGUgY3VycmVudCBuYXRpdmUgbm9kZVxuICogQHBhcmFtIHByZWRpY2F0ZSB0aGUgcHJlZGljYXRlIHRvIG1hdGNoXG4gKiBAcGFyYW0gbWF0Y2hlcyB0aGUgbGlzdCBvZiBwb3NpdGl2ZSBtYXRjaGVzXG4gKiBAcGFyYW0gZWxlbWVudHNPbmx5IHdoZXRoZXIgb25seSBlbGVtZW50cyBzaG91bGQgYmUgc2VhcmNoZWRcbiAqIEBwYXJhbSByb290TmF0aXZlTm9kZSB0aGUgcm9vdCBuYXRpdmUgbm9kZSBvbiB3aGljaCBwcmVkaWNhdGUgc2hvdWxkIG5vdCBiZSBtYXRjaGVkXG4gKi9cbmZ1bmN0aW9uIF9hZGRRdWVyeU1hdGNoKG5hdGl2ZU5vZGUsIHByZWRpY2F0ZSwgbWF0Y2hlcywgZWxlbWVudHNPbmx5LCByb290TmF0aXZlTm9kZSkge1xuICAgIGlmIChyb290TmF0aXZlTm9kZSAhPT0gbmF0aXZlTm9kZSkge1xuICAgICAgICBjb25zdCBkZWJ1Z05vZGUgPSBnZXREZWJ1Z05vZGUobmF0aXZlTm9kZSk7XG4gICAgICAgIGlmICghZGVidWdOb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVHlwZSBvZiB0aGUgXCJwcmVkaWNhdGUgYW5kIFwibWF0Y2hlc1wiIGFycmF5IGFyZSBzZXQgYmFzZWQgb24gdGhlIHZhbHVlIG9mXG4gICAgICAgIC8vIHRoZSBcImVsZW1lbnRzT25seVwiIHBhcmFtZXRlci4gVHlwZVNjcmlwdCBpcyBub3QgYWJsZSB0byBwcm9wZXJseSBpbmZlciB0aGVzZVxuICAgICAgICAvLyB0eXBlcyB3aXRoIGdlbmVyaWNzLCBzbyB3ZSBtYW51YWxseSBjYXN0IHRoZSBwYXJhbWV0ZXJzIGFjY29yZGluZ2x5LlxuICAgICAgICBpZiAoZWxlbWVudHNPbmx5ICYmIChkZWJ1Z05vZGUgaW5zdGFuY2VvZiBEZWJ1Z0VsZW1lbnQpICYmIHByZWRpY2F0ZShkZWJ1Z05vZGUpICYmXG4gICAgICAgICAgICBtYXRjaGVzLmluZGV4T2YoZGVidWdOb2RlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIG1hdGNoZXMucHVzaChkZWJ1Z05vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFlbGVtZW50c09ubHkgJiYgcHJlZGljYXRlKGRlYnVnTm9kZSkgJiZcbiAgICAgICAgICAgIG1hdGNoZXMuaW5kZXhPZihkZWJ1Z05vZGUpID09PSAtMSkge1xuICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGRlYnVnTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIE1hdGNoIGFsbCB0aGUgZGVzY2VuZGFudHMgb2YgYSBET00gbm9kZSBhZ2FpbnN0IGEgcHJlZGljYXRlLlxuICpcbiAqIEBwYXJhbSBuYXRpdmVOb2RlIHRoZSBjdXJyZW50IG5hdGl2ZSBub2RlXG4gKiBAcGFyYW0gcHJlZGljYXRlIHRoZSBwcmVkaWNhdGUgdG8gbWF0Y2hcbiAqIEBwYXJhbSBtYXRjaGVzIHRoZSBsaXN0IHdoZXJlIG1hdGNoZXMgYXJlIHN0b3JlZFxuICogQHBhcmFtIGVsZW1lbnRzT25seSB3aGV0aGVyIG9ubHkgZWxlbWVudHMgc2hvdWxkIGJlIHNlYXJjaGVkXG4gKi9cbmZ1bmN0aW9uIF9xdWVyeU5hdGl2ZU5vZGVEZXNjZW5kYW50cyhwYXJlbnROb2RlLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSkge1xuICAgIGNvbnN0IG5vZGVzID0gcGFyZW50Tm9kZS5jaGlsZE5vZGVzO1xuICAgIGNvbnN0IGxlbmd0aCA9IG5vZGVzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgICAgY29uc3QgZGVidWdOb2RlID0gZ2V0RGVidWdOb2RlKG5vZGUpO1xuICAgICAgICBpZiAoZGVidWdOb2RlKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudHNPbmx5ICYmIChkZWJ1Z05vZGUgaW5zdGFuY2VvZiBEZWJ1Z0VsZW1lbnQpICYmIHByZWRpY2F0ZShkZWJ1Z05vZGUpICYmXG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5pbmRleE9mKGRlYnVnTm9kZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGRlYnVnTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghZWxlbWVudHNPbmx5ICYmIHByZWRpY2F0ZShkZWJ1Z05vZGUpICYmXG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5pbmRleE9mKGRlYnVnTm9kZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGRlYnVnTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfcXVlcnlOYXRpdmVOb2RlRGVzY2VuZGFudHMobm9kZSwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHkpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBJdGVyYXRlcyB0aHJvdWdoIHRoZSBwcm9wZXJ0eSBiaW5kaW5ncyBmb3IgYSBnaXZlbiBub2RlIGFuZCBnZW5lcmF0ZXNcbiAqIGEgbWFwIG9mIHByb3BlcnR5IG5hbWVzIHRvIHZhbHVlcy4gVGhpcyBtYXAgb25seSBjb250YWlucyBwcm9wZXJ0eSBiaW5kaW5nc1xuICogZGVmaW5lZCBpbiB0ZW1wbGF0ZXMsIG5vdCBpbiBob3N0IGJpbmRpbmdzLlxuICovXG5mdW5jdGlvbiBjb2xsZWN0UHJvcGVydHlCaW5kaW5ncyhwcm9wZXJ0aWVzLCB0Tm9kZSwgbFZpZXcsIHREYXRhKSB7XG4gICAgbGV0IGJpbmRpbmdJbmRleGVzID0gdE5vZGUucHJvcGVydHlCaW5kaW5ncztcbiAgICBpZiAoYmluZGluZ0luZGV4ZXMgIT09IG51bGwpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5kaW5nSW5kZXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYmluZGluZ0luZGV4ID0gYmluZGluZ0luZGV4ZXNbaV07XG4gICAgICAgICAgICBjb25zdCBwcm9wTWV0YWRhdGEgPSB0RGF0YVtiaW5kaW5nSW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgbWV0YWRhdGFQYXJ0cyA9IHByb3BNZXRhZGF0YS5zcGxpdChJTlRFUlBPTEFUSU9OX0RFTElNSVRFUik7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBtZXRhZGF0YVBhcnRzWzBdO1xuICAgICAgICAgICAgaWYgKG1ldGFkYXRhUGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IG1ldGFkYXRhUGFydHNbMV07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDE7IGogPCBtZXRhZGF0YVBhcnRzLmxlbmd0aCAtIDE7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSByZW5kZXJTdHJpbmdpZnkobFZpZXdbYmluZGluZ0luZGV4ICsgaiAtIDFdKSArIG1ldGFkYXRhUGFydHNbaiArIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSA9IGxWaWV3W2JpbmRpbmdJbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBOZWVkIHRvIGtlZXAgdGhlIG5vZGVzIGluIGEgZ2xvYmFsIE1hcCBzbyB0aGF0IG11bHRpcGxlIGFuZ3VsYXIgYXBwcyBhcmUgc3VwcG9ydGVkLlxuY29uc3QgX25hdGl2ZU5vZGVUb0RlYnVnTm9kZSA9IG5ldyBNYXAoKTtcbmNvbnN0IE5HX0RFQlVHX1BST1BFUlRZID0gJ19fbmdfZGVidWdfXyc7XG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gZ2V0RGVidWdOb2RlKG5hdGl2ZU5vZGUpIHtcbiAgICBpZiAobmF0aXZlTm9kZSBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgaWYgKCEobmF0aXZlTm9kZS5oYXNPd25Qcm9wZXJ0eShOR19ERUJVR19QUk9QRVJUWSkpKSB7XG4gICAgICAgICAgICBuYXRpdmVOb2RlW05HX0RFQlVHX1BST1BFUlRZXSA9IG5hdGl2ZU5vZGUubm9kZVR5cGUgPT0gTm9kZS5FTEVNRU5UX05PREUgP1xuICAgICAgICAgICAgICAgIG5ldyBEZWJ1Z0VsZW1lbnQobmF0aXZlTm9kZSkgOlxuICAgICAgICAgICAgICAgIG5ldyBEZWJ1Z05vZGUobmF0aXZlTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hdGl2ZU5vZGVbTkdfREVCVUdfUFJPUEVSVFldO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8vIFRPRE86IGNsZWFudXAgYWxsIHJlZmVyZW5jZXMgdG8gdGhpcyBmdW5jdGlvbiBhbmQgcmVtb3ZlIGl0LlxuZnVuY3Rpb24gZ2V0RGVidWdOb2RlUjIoX25hdGl2ZU5vZGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldEFsbERlYnVnTm9kZXMoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oX25hdGl2ZU5vZGVUb0RlYnVnTm9kZS52YWx1ZXMoKSk7XG59XG5mdW5jdGlvbiBpbmRleERlYnVnTm9kZShub2RlKSB7XG4gICAgX25hdGl2ZU5vZGVUb0RlYnVnTm9kZS5zZXQobm9kZS5uYXRpdmVOb2RlLCBub2RlKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZURlYnVnTm9kZUZyb21JbmRleChub2RlKSB7XG4gICAgX25hdGl2ZU5vZGVUb0RlYnVnTm9kZS5kZWxldGUobm9kZS5uYXRpdmVOb2RlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5jbGFzcyBEZWZhdWx0SXRlcmFibGVEaWZmZXJGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIHN1cHBvcnRzKG9iaikge1xuICAgICAgICByZXR1cm4gaXNMaXN0TGlrZUl0ZXJhYmxlKG9iaik7XG4gICAgfVxuICAgIGNyZWF0ZSh0cmFja0J5Rm4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0SXRlcmFibGVEaWZmZXIodHJhY2tCeUZuKTtcbiAgICB9XG59XG5jb25zdCB0cmFja0J5SWRlbnRpdHkgPSAoaW5kZXgsIGl0ZW0pID0+IGl0ZW07XG4vKipcbiAqIEBkZXByZWNhdGVkIHY0LjAuMCAtIFNob3VsZCBub3QgYmUgcGFydCBvZiBwdWJsaWMgQVBJLlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBEZWZhdWx0SXRlcmFibGVEaWZmZXIge1xuICAgIGNvbnN0cnVjdG9yKHRyYWNrQnlGbikge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSB1c2VkIHJlY29yZHMgYXQgYW55IHBvaW50IGluIHRpbWUgKGR1cmluZyAmIGFjcm9zcyBgX2NoZWNrKClgIGNhbGxzKVxuICAgICAgICB0aGlzLl9saW5rZWRSZWNvcmRzID0gbnVsbDtcbiAgICAgICAgLy8gS2VlcHMgdHJhY2sgb2YgdGhlIHJlbW92ZWQgcmVjb3JkcyBhdCBhbnkgcG9pbnQgaW4gdGltZSBkdXJpbmcgYF9jaGVjaygpYCBjYWxscy5cbiAgICAgICAgdGhpcy5fdW5saW5rZWRSZWNvcmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNJdEhlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9pdEhlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9pdFRhaWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9hZGRpdGlvbnNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX21vdmVzSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX21vdmVzVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbW92YWxzVGFpbCA9IG51bGw7XG4gICAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHJlY29yZHMgd2hlcmUgY3VzdG9tIHRyYWNrIGJ5IGlzIHRoZSBzYW1lLCBidXQgaXRlbSBpZGVudGl0eSBoYXMgY2hhbmdlZFxuICAgICAgICB0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3RyYWNrQnlGbiA9IHRyYWNrQnlGbiB8fCB0cmFja0J5SWRlbnRpdHk7XG4gICAgfVxuICAgIGZvckVhY2hJdGVtKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5faXRIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dCkge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoT3BlcmF0aW9uKGZuKSB7XG4gICAgICAgIGxldCBuZXh0SXQgPSB0aGlzLl9pdEhlYWQ7XG4gICAgICAgIGxldCBuZXh0UmVtb3ZlID0gdGhpcy5fcmVtb3ZhbHNIZWFkO1xuICAgICAgICBsZXQgYWRkUmVtb3ZlT2Zmc2V0ID0gMDtcbiAgICAgICAgbGV0IG1vdmVPZmZzZXRzID0gbnVsbDtcbiAgICAgICAgd2hpbGUgKG5leHRJdCB8fCBuZXh0UmVtb3ZlKSB7XG4gICAgICAgICAgICAvLyBGaWd1cmUgb3V0IHdoaWNoIGlzIHRoZSBuZXh0IHJlY29yZCB0byBwcm9jZXNzXG4gICAgICAgICAgICAvLyBPcmRlcjogcmVtb3ZlLCBhZGQsIG1vdmVcbiAgICAgICAgICAgIGNvbnN0IHJlY29yZCA9ICFuZXh0UmVtb3ZlIHx8XG4gICAgICAgICAgICAgICAgbmV4dEl0ICYmXG4gICAgICAgICAgICAgICAgICAgIG5leHRJdC5jdXJyZW50SW5kZXggPFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0UHJldmlvdXNJbmRleChuZXh0UmVtb3ZlLCBhZGRSZW1vdmVPZmZzZXQsIG1vdmVPZmZzZXRzKSA/XG4gICAgICAgICAgICAgICAgbmV4dEl0IDpcbiAgICAgICAgICAgICAgICBuZXh0UmVtb3ZlO1xuICAgICAgICAgICAgY29uc3QgYWRqUHJldmlvdXNJbmRleCA9IGdldFByZXZpb3VzSW5kZXgocmVjb3JkLCBhZGRSZW1vdmVPZmZzZXQsIG1vdmVPZmZzZXRzKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHJlY29yZC5jdXJyZW50SW5kZXg7XG4gICAgICAgICAgICAvLyBjb25zdW1lIHRoZSBpdGVtLCBhbmQgYWRqdXN0IHRoZSBhZGRSZW1vdmVPZmZzZXQgYW5kIHVwZGF0ZSBtb3ZlRGlzdGFuY2UgaWYgbmVjZXNzYXJ5XG4gICAgICAgICAgICBpZiAocmVjb3JkID09PSBuZXh0UmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgYWRkUmVtb3ZlT2Zmc2V0LS07XG4gICAgICAgICAgICAgICAgbmV4dFJlbW92ZSA9IG5leHRSZW1vdmUuX25leHRSZW1vdmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV4dEl0ID0gbmV4dEl0Ll9uZXh0O1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQucHJldmlvdXNJbmRleCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFJlbW92ZU9mZnNldCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSU5WQVJJQU5UOiAgY3VycmVudEluZGV4IDwgcHJldmlvdXNJbmRleFxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1vdmVPZmZzZXRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZU9mZnNldHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWxNb3ZlUHJldmlvdXNJbmRleCA9IGFkalByZXZpb3VzSW5kZXggLSBhZGRSZW1vdmVPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsQ3VycmVudEluZGV4ID0gY3VycmVudEluZGV4IC0gYWRkUmVtb3ZlT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWxNb3ZlUHJldmlvdXNJbmRleCAhPSBsb2NhbEN1cnJlbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbE1vdmVQcmV2aW91c0luZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBpIDwgbW92ZU9mZnNldHMubGVuZ3RoID8gbW92ZU9mZnNldHNbaV0gOiAobW92ZU9mZnNldHNbaV0gPSAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IG9mZnNldCArIGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsQ3VycmVudEluZGV4IDw9IGluZGV4ICYmIGluZGV4IDwgbG9jYWxNb3ZlUHJldmlvdXNJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlT2Zmc2V0c1tpXSA9IG9mZnNldCArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNJbmRleCA9IHJlY29yZC5wcmV2aW91c0luZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZU9mZnNldHNbcHJldmlvdXNJbmRleF0gPSBsb2NhbEN1cnJlbnRJbmRleCAtIGxvY2FsTW92ZVByZXZpb3VzSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWRqUHJldmlvdXNJbmRleCAhPT0gY3VycmVudEluZGV4KSB7XG4gICAgICAgICAgICAgICAgZm4ocmVjb3JkLCBhZGpQcmV2aW91c0luZGV4LCBjdXJyZW50SW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hQcmV2aW91c0l0ZW0oZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9wcmV2aW91c0l0SGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRQcmV2aW91cykge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoQWRkZWRJdGVtKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fYWRkaXRpb25zSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRBZGRlZCkge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoTW92ZWRJdGVtKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fbW92ZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dE1vdmVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hSZW1vdmVkSXRlbShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3JlbW92YWxzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRSZW1vdmVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hJZGVudGl0eUNoYW5nZShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0SWRlbnRpdHlDaGFuZ2UpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlmZihjb2xsZWN0aW9uKSB7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpXG4gICAgICAgICAgICBjb2xsZWN0aW9uID0gW107XG4gICAgICAgIGlmICghaXNMaXN0TGlrZUl0ZXJhYmxlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICAgICAgYEVycm9yIHRyeWluZyB0byBkaWZmICcke3N0cmluZ2lmeShjb2xsZWN0aW9uKX0nLiBPbmx5IGFycmF5cyBhbmQgaXRlcmFibGVzIGFyZSBhbGxvd2VkYCA6XG4gICAgICAgICAgICAgICAgJyc7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDkwMCAvKiBJTlZBTElEX0RJRkZFUl9JTlBVVCAqLywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jaGVjayhjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkRlc3Ryb3koKSB7IH1cbiAgICBjaGVjayhjb2xsZWN0aW9uKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0KCk7XG4gICAgICAgIGxldCByZWNvcmQgPSB0aGlzLl9pdEhlYWQ7XG4gICAgICAgIGxldCBtYXlCZURpcnR5ID0gZmFsc2U7XG4gICAgICAgIGxldCBpbmRleDtcbiAgICAgICAgbGV0IGl0ZW07XG4gICAgICAgIGxldCBpdGVtVHJhY2tCeTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBpdGVtID0gY29sbGVjdGlvbltpbmRleF07XG4gICAgICAgICAgICAgICAgaXRlbVRyYWNrQnkgPSB0aGlzLl90cmFja0J5Rm4oaW5kZXgsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQgPT09IG51bGwgfHwgIU9iamVjdC5pcyhyZWNvcmQudHJhY2tCeUlkLCBpdGVtVHJhY2tCeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fbWlzbWF0Y2gocmVjb3JkLCBpdGVtLCBpdGVtVHJhY2tCeSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBtYXlCZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXlCZURpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPKG1pc2tvKTogY2FuIHdlIGxpbWl0IHRoaXMgdG8gZHVwbGljYXRlcyBvbmx5P1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fdmVyaWZ5UmVpbnNlcnRpb24ocmVjb3JkLCBpdGVtLCBpdGVtVHJhY2tCeSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghT2JqZWN0LmlzKHJlY29yZC5pdGVtLCBpdGVtKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKHJlY29yZCwgaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY29yZCA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICAgIGl0ZXJhdGVMaXN0TGlrZShjb2xsZWN0aW9uLCAoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGl0ZW1UcmFja0J5ID0gdGhpcy5fdHJhY2tCeUZuKGluZGV4LCBpdGVtKTtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkID09PSBudWxsIHx8ICFPYmplY3QuaXMocmVjb3JkLnRyYWNrQnlJZCwgaXRlbVRyYWNrQnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX21pc21hdGNoKHJlY29yZCwgaXRlbSwgaXRlbVRyYWNrQnksIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgbWF5QmVEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF5QmVEaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyhtaXNrbyk6IGNhbiB3ZSBsaW1pdCB0aGlzIHRvIGR1cGxpY2F0ZXMgb25seT9cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX3ZlcmlmeVJlaW5zZXJ0aW9uKHJlY29yZCwgaXRlbSwgaXRlbVRyYWNrQnksIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIU9iamVjdC5pcyhyZWNvcmQuaXRlbSwgaXRlbSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRJZGVudGl0eUNoYW5nZShyZWNvcmQsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWNvcmQgPSByZWNvcmQuX25leHQ7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBpbmRleDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cnVuY2F0ZShyZWNvcmQpO1xuICAgICAgICB0aGlzLmNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uO1xuICAgICAgICByZXR1cm4gdGhpcy5pc0RpcnR5O1xuICAgIH1cbiAgICAvKiBDb2xsZWN0aW9uQ2hhbmdlcyBpcyBjb25zaWRlcmVkIGRpcnR5IGlmIGl0IGhhcyBhbnkgYWRkaXRpb25zLCBtb3ZlcywgcmVtb3ZhbHMsIG9yIGlkZW50aXR5XG4gICAgICogY2hhbmdlcy5cbiAgICAgKi9cbiAgICBnZXQgaXNEaXJ0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZGl0aW9uc0hlYWQgIT09IG51bGwgfHwgdGhpcy5fbW92ZXNIZWFkICE9PSBudWxsIHx8XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgIT09IG51bGwgfHwgdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZCAhPT0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIHN0YXRlIG9mIHRoZSBjaGFuZ2Ugb2JqZWN0cyB0byBzaG93IG5vIGNoYW5nZXMuIFRoaXMgbWVhbnMgc2V0IHByZXZpb3VzS2V5IHRvXG4gICAgICogY3VycmVudEtleSwgYW5kIGNsZWFyIGFsbCBvZiB0aGUgcXVldWVzIChhZGRpdGlvbnMsIG1vdmVzLCByZW1vdmFscykuXG4gICAgICogU2V0IHRoZSBwcmV2aW91c0luZGV4ZXMgb2YgbW92ZWQgYW5kIGFkZGVkIGl0ZW1zIHRvIHRoZWlyIGN1cnJlbnRJbmRleGVzXG4gICAgICogUmVzZXQgdGhlIGxpc3Qgb2YgYWRkaXRpb25zLCBtb3ZlcyBhbmQgcmVtb3ZhbHNcbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF9yZXNldCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eSkge1xuICAgICAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fcHJldmlvdXNJdEhlYWQgPSB0aGlzLl9pdEhlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0KSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLl9uZXh0UHJldmlvdXMgPSByZWNvcmQuX25leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2FkZGl0aW9uc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0QWRkZWQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQucHJldmlvdXNJbmRleCA9IHJlY29yZC5jdXJyZW50SW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNIZWFkID0gdGhpcy5fYWRkaXRpb25zVGFpbCA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX21vdmVzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRNb3ZlZCkge1xuICAgICAgICAgICAgICAgIHJlY29yZC5wcmV2aW91c0luZGV4ID0gcmVjb3JkLmN1cnJlbnRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21vdmVzSGVhZCA9IHRoaXMuX21vdmVzVGFpbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgPSB0aGlzLl9yZW1vdmFsc1RhaWwgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZCA9IHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwgPSBudWxsO1xuICAgICAgICAgICAgLy8gVE9ETyh2aWNiKTogd2hlbiBhc3NlcnQgZ2V0cyBzdXBwb3J0ZWRcbiAgICAgICAgICAgIC8vIGFzc2VydCghdGhpcy5pc0RpcnR5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBjb3JlIGZ1bmN0aW9uIHdoaWNoIGhhbmRsZXMgZGlmZmVyZW5jZXMgYmV0d2VlbiBjb2xsZWN0aW9ucy5cbiAgICAgKlxuICAgICAqIC0gYHJlY29yZGAgaXMgdGhlIHJlY29yZCB3aGljaCB3ZSBzYXcgYXQgdGhpcyBwb3NpdGlvbiBsYXN0IHRpbWUuIElmIG51bGwgdGhlbiBpdCBpcyBhIG5ld1xuICAgICAqICAgaXRlbS5cbiAgICAgKiAtIGBpdGVtYCBpcyB0aGUgY3VycmVudCBpdGVtIGluIHRoZSBjb2xsZWN0aW9uXG4gICAgICogLSBgaW5kZXhgIGlzIHRoZSBwb3NpdGlvbiBvZiB0aGUgaXRlbSBpbiB0aGUgY29sbGVjdGlvblxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX21pc21hdGNoKHJlY29yZCwgaXRlbSwgaXRlbVRyYWNrQnksIGluZGV4KSB7XG4gICAgICAgIC8vIFRoZSBwcmV2aW91cyByZWNvcmQgYWZ0ZXIgd2hpY2ggd2Ugd2lsbCBhcHBlbmQgdGhlIGN1cnJlbnQgb25lLlxuICAgICAgICBsZXQgcHJldmlvdXNSZWNvcmQ7XG4gICAgICAgIGlmIChyZWNvcmQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHByZXZpb3VzUmVjb3JkID0gdGhpcy5faXRUYWlsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJldmlvdXNSZWNvcmQgPSByZWNvcmQuX3ByZXY7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHJlY29yZCBmcm9tIHRoZSBjb2xsZWN0aW9uIHNpbmNlIHdlIGtub3cgaXQgZG9lcyBub3QgbWF0Y2ggdGhlIGl0ZW0uXG4gICAgICAgICAgICB0aGlzLl9yZW1vdmUocmVjb3JkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZWUgaWYgd2UgaGF2ZSBldmljdGVkIHRoZSBpdGVtLCB3aGljaCB1c2VkIHRvIGJlIGF0IHNvbWUgYW50ZXJpb3IgcG9zaXRpb24gb2YgX2l0SGVhZCBsaXN0LlxuICAgICAgICByZWNvcmQgPSB0aGlzLl91bmxpbmtlZFJlY29yZHMgPT09IG51bGwgPyBudWxsIDogdGhpcy5fdW5saW5rZWRSZWNvcmRzLmdldChpdGVtVHJhY2tCeSwgbnVsbCk7XG4gICAgICAgIGlmIChyZWNvcmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIEl0IGlzIGFuIGl0ZW0gd2hpY2ggd2UgaGF2ZSBldmljdGVkIGVhcmxpZXI6IHJlaW5zZXJ0IGl0IGJhY2sgaW50byB0aGUgbGlzdC5cbiAgICAgICAgICAgIC8vIEJ1dCBmaXJzdCB3ZSBuZWVkIHRvIGNoZWNrIGlmIGlkZW50aXR5IGNoYW5nZWQsIHNvIHdlIGNhbiB1cGRhdGUgaW4gdmlldyBpZiBuZWNlc3NhcnkuXG4gICAgICAgICAgICBpZiAoIU9iamVjdC5pcyhyZWNvcmQuaXRlbSwgaXRlbSkpXG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UocmVjb3JkLCBpdGVtKTtcbiAgICAgICAgICAgIHRoaXMuX3JlaW5zZXJ0QWZ0ZXIocmVjb3JkLCBwcmV2aW91c1JlY29yZCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQXR0ZW1wdCB0byBzZWUgaWYgdGhlIGl0ZW0gaXMgYXQgc29tZSBwb3N0ZXJpb3IgcG9zaXRpb24gb2YgX2l0SGVhZCBsaXN0LlxuICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fbGlua2VkUmVjb3JkcyA9PT0gbnVsbCA/IG51bGwgOiB0aGlzLl9saW5rZWRSZWNvcmRzLmdldChpdGVtVHJhY2tCeSwgaW5kZXgpO1xuICAgICAgICAgICAgaWYgKHJlY29yZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgdGhlIGl0ZW0gaW4gX2l0SGVhZCBhdC9hZnRlciBgaW5kZXhgIHBvc2l0aW9uLiBXZSBuZWVkIHRvIG1vdmUgaXQgZm9yd2FyZCBpbiB0aGVcbiAgICAgICAgICAgICAgICAvLyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgIC8vIEJ1dCBmaXJzdCB3ZSBuZWVkIHRvIGNoZWNrIGlmIGlkZW50aXR5IGNoYW5nZWQsIHNvIHdlIGNhbiB1cGRhdGUgaW4gdmlldyBpZiBuZWNlc3NhcnkuXG4gICAgICAgICAgICAgICAgaWYgKCFPYmplY3QuaXMocmVjb3JkLml0ZW0sIGl0ZW0pKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRJZGVudGl0eUNoYW5nZShyZWNvcmQsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX21vdmVBZnRlcihyZWNvcmQsIHByZXZpb3VzUmVjb3JkLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJdCBpcyBhIG5ldyBpdGVtOiBhZGQgaXQuXG4gICAgICAgICAgICAgICAgcmVjb3JkID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkQWZ0ZXIobmV3IEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXyhpdGVtLCBpdGVtVHJhY2tCeSksIHByZXZpb3VzUmVjb3JkLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGVjayBpcyBvbmx5IG5lZWRlZCBpZiBhbiBhcnJheSBjb250YWlucyBkdXBsaWNhdGVzLiAoU2hvcnQgY2lyY3VpdCBvZiBub3RoaW5nIGRpcnR5KVxuICAgICAqXG4gICAgICogVXNlIGNhc2U6IGBbYSwgYV1gID0+IGBbYiwgYSwgYV1gXG4gICAgICpcbiAgICAgKiBJZiB3ZSBkaWQgbm90IGhhdmUgdGhpcyBjaGVjayB0aGVuIHRoZSBpbnNlcnRpb24gb2YgYGJgIHdvdWxkOlxuICAgICAqICAgMSkgZXZpY3QgZmlyc3QgYGFgXG4gICAgICogICAyKSBpbnNlcnQgYGJgIGF0IGAwYCBpbmRleC5cbiAgICAgKiAgIDMpIGxlYXZlIGBhYCBhdCBpbmRleCBgMWAgYXMgaXMuIDwtLSB0aGlzIGlzIHdyb25nIVxuICAgICAqICAgMykgcmVpbnNlcnQgYGFgIGF0IGluZGV4IDIuIDwtLSB0aGlzIGlzIHdyb25nIVxuICAgICAqXG4gICAgICogVGhlIGNvcnJlY3QgYmVoYXZpb3IgaXM6XG4gICAgICogICAxKSBldmljdCBmaXJzdCBgYWBcbiAgICAgKiAgIDIpIGluc2VydCBgYmAgYXQgYDBgIGluZGV4LlxuICAgICAqICAgMykgcmVpbnNlcnQgYGFgIGF0IGluZGV4IDEuXG4gICAgICogICAzKSBtb3ZlIGBhYCBhdCBmcm9tIGAxYCB0byBgMmAuXG4gICAgICpcbiAgICAgKlxuICAgICAqIERvdWJsZSBjaGVjayB0aGF0IHdlIGhhdmUgbm90IGV2aWN0ZWQgYSBkdXBsaWNhdGUgaXRlbS4gV2UgbmVlZCB0byBjaGVjayBpZiB0aGUgaXRlbSB0eXBlIG1heVxuICAgICAqIGhhdmUgYWxyZWFkeSBiZWVuIHJlbW92ZWQ6XG4gICAgICogVGhlIGluc2VydGlvbiBvZiBiIHdpbGwgZXZpY3QgdGhlIGZpcnN0ICdhJy4gSWYgd2UgZG9uJ3QgcmVpbnNlcnQgaXQgbm93IGl0IHdpbGwgYmUgcmVpbnNlcnRlZFxuICAgICAqIGF0IHRoZSBlbmQuIFdoaWNoIHdpbGwgc2hvdyB1cCBhcyB0aGUgdHdvICdhJ3Mgc3dpdGNoaW5nIHBvc2l0aW9uLiBUaGlzIGlzIGluY29ycmVjdCwgc2luY2UgYVxuICAgICAqIGJldHRlciB3YXkgdG8gdGhpbmsgb2YgaXQgaXMgYXMgaW5zZXJ0IG9mICdiJyByYXRoZXIgdGhlbiBzd2l0Y2ggJ2EnIHdpdGggJ2InIGFuZCB0aGVuIGFkZCAnYSdcbiAgICAgKiBhdCB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX3ZlcmlmeVJlaW5zZXJ0aW9uKHJlY29yZCwgaXRlbSwgaXRlbVRyYWNrQnksIGluZGV4KSB7XG4gICAgICAgIGxldCByZWluc2VydFJlY29yZCA9IHRoaXMuX3VubGlua2VkUmVjb3JkcyA9PT0gbnVsbCA/IG51bGwgOiB0aGlzLl91bmxpbmtlZFJlY29yZHMuZ2V0KGl0ZW1UcmFja0J5LCBudWxsKTtcbiAgICAgICAgaWYgKHJlaW5zZXJ0UmVjb3JkICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZWNvcmQgPSB0aGlzLl9yZWluc2VydEFmdGVyKHJlaW5zZXJ0UmVjb3JkLCByZWNvcmQuX3ByZXYsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWNvcmQuY3VycmVudEluZGV4ICE9IGluZGV4KSB7XG4gICAgICAgICAgICByZWNvcmQuY3VycmVudEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICB0aGlzLl9hZGRUb01vdmVzKHJlY29yZCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCByaWQgb2YgYW55IGV4Y2VzcyB7QGxpbmsgSXRlcmFibGVDaGFuZ2VSZWNvcmRffXMgZnJvbSB0aGUgcHJldmlvdXMgY29sbGVjdGlvblxuICAgICAqXG4gICAgICogLSBgcmVjb3JkYCBUaGUgZmlyc3QgZXhjZXNzIHtAbGluayBJdGVyYWJsZUNoYW5nZVJlY29yZF99LlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX3RydW5jYXRlKHJlY29yZCkge1xuICAgICAgICAvLyBBbnl0aGluZyBhZnRlciB0aGF0IG5lZWRzIHRvIGJlIHJlbW92ZWQ7XG4gICAgICAgIHdoaWxlIChyZWNvcmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRSZWNvcmQgPSByZWNvcmQuX25leHQ7XG4gICAgICAgICAgICB0aGlzLl9hZGRUb1JlbW92YWxzKHRoaXMuX3VubGluayhyZWNvcmQpKTtcbiAgICAgICAgICAgIHJlY29yZCA9IG5leHRSZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3VubGlua2VkUmVjb3JkcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fdW5saW5rZWRSZWNvcmRzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2FkZGl0aW9uc1RhaWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX21vdmVzVGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbW92ZXNUYWlsLl9uZXh0TW92ZWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pdFRhaWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0VGFpbC5fbmV4dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3JlbW92YWxzVGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNUYWlsLl9uZXh0UmVtb3ZlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwuX25leHRJZGVudGl0eUNoYW5nZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9yZWluc2VydEFmdGVyKHJlY29yZCwgcHJldlJlY29yZCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3VubGlua2VkUmVjb3JkcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fdW5saW5rZWRSZWNvcmRzLnJlbW92ZShyZWNvcmQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXYgPSByZWNvcmQuX3ByZXZSZW1vdmVkO1xuICAgICAgICBjb25zdCBuZXh0ID0gcmVjb3JkLl9uZXh0UmVtb3ZlZDtcbiAgICAgICAgaWYgKHByZXYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmV2Ll9uZXh0UmVtb3ZlZCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzVGFpbCA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXh0Ll9wcmV2UmVtb3ZlZCA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW5zZXJ0QWZ0ZXIocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCk7XG4gICAgICAgIHRoaXMuX2FkZFRvTW92ZXMocmVjb3JkLCBpbmRleCk7XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfbW92ZUFmdGVyKHJlY29yZCwgcHJldlJlY29yZCwgaW5kZXgpIHtcbiAgICAgICAgdGhpcy5fdW5saW5rKHJlY29yZCk7XG4gICAgICAgIHRoaXMuX2luc2VydEFmdGVyKHJlY29yZCwgcHJldlJlY29yZCwgaW5kZXgpO1xuICAgICAgICB0aGlzLl9hZGRUb01vdmVzKHJlY29yZCwgaW5kZXgpO1xuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2FkZEFmdGVyKHJlY29yZCwgcHJldlJlY29yZCwgaW5kZXgpIHtcbiAgICAgICAgdGhpcy5faW5zZXJ0QWZ0ZXIocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCk7XG4gICAgICAgIGlmICh0aGlzLl9hZGRpdGlvbnNUYWlsID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAgICAgLy8gYXNzZXJ0KHRoaXMuX2FkZGl0aW9uc0hlYWQgPT09IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IHRoaXMuX2FkZGl0aW9uc0hlYWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAgICAgLy8gYXNzZXJ0KF9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQgPT09IG51bGwpO1xuICAgICAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fbmV4dEFkZGVkID09PSBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc1RhaWwgPSB0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9pbnNlcnRBZnRlcihyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KSB7XG4gICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgIC8vIGFzc2VydChyZWNvcmQgIT0gcHJldlJlY29yZCk7XG4gICAgICAgIC8vIGFzc2VydChyZWNvcmQuX25leHQgPT09IG51bGwpO1xuICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9wcmV2ID09PSBudWxsKTtcbiAgICAgICAgY29uc3QgbmV4dCA9IHByZXZSZWNvcmQgPT09IG51bGwgPyB0aGlzLl9pdEhlYWQgOiBwcmV2UmVjb3JkLl9uZXh0O1xuICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAvLyBhc3NlcnQobmV4dCAhPSByZWNvcmQpO1xuICAgICAgICAvLyBhc3NlcnQocHJldlJlY29yZCAhPSByZWNvcmQpO1xuICAgICAgICByZWNvcmQuX25leHQgPSBuZXh0O1xuICAgICAgICByZWNvcmQuX3ByZXYgPSBwcmV2UmVjb3JkO1xuICAgICAgICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faXRUYWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV4dC5fcHJldiA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJldlJlY29yZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faXRIZWFkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJldlJlY29yZC5fbmV4dCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbGlua2VkUmVjb3JkcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbGlua2VkUmVjb3JkcyA9IG5ldyBfRHVwbGljYXRlTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGlua2VkUmVjb3Jkcy5wdXQocmVjb3JkKTtcbiAgICAgICAgcmVjb3JkLmN1cnJlbnRJbmRleCA9IGluZGV4O1xuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3JlbW92ZShyZWNvcmQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZFRvUmVtb3ZhbHModGhpcy5fdW5saW5rKHJlY29yZCkpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3VubGluayhyZWNvcmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xpbmtlZFJlY29yZHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmtlZFJlY29yZHMucmVtb3ZlKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldiA9IHJlY29yZC5fcHJldjtcbiAgICAgICAgY29uc3QgbmV4dCA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgLy8gYXNzZXJ0KChyZWNvcmQuX3ByZXYgPSBudWxsKSA9PT0gbnVsbCk7XG4gICAgICAgIC8vIGFzc2VydCgocmVjb3JkLl9uZXh0ID0gbnVsbCkgPT09IG51bGwpO1xuICAgICAgICBpZiAocHJldiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faXRIZWFkID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXYuX25leHQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pdFRhaWwgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV4dC5fcHJldiA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9hZGRUb01vdmVzKHJlY29yZCwgdG9JbmRleCkge1xuICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9uZXh0TW92ZWQgPT09IG51bGwpO1xuICAgICAgICBpZiAocmVjb3JkLnByZXZpb3VzSW5kZXggPT09IHRvSW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX21vdmVzVGFpbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgICAgIC8vIGFzc2VydChfbW92ZXNIZWFkID09PSBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX21vdmVzVGFpbCA9IHRoaXMuX21vdmVzSGVhZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgICAgICAvLyBhc3NlcnQoX21vdmVzVGFpbC5fbmV4dE1vdmVkID09PSBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX21vdmVzVGFpbCA9IHRoaXMuX21vdmVzVGFpbC5fbmV4dE1vdmVkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIF9hZGRUb1JlbW92YWxzKHJlY29yZCkge1xuICAgICAgICBpZiAodGhpcy5fdW5saW5rZWRSZWNvcmRzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMgPSBuZXcgX0R1cGxpY2F0ZU1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VubGlua2VkUmVjb3Jkcy5wdXQocmVjb3JkKTtcbiAgICAgICAgcmVjb3JkLmN1cnJlbnRJbmRleCA9IG51bGw7XG4gICAgICAgIHJlY29yZC5fbmV4dFJlbW92ZWQgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5fcmVtb3ZhbHNUYWlsID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAgICAgLy8gYXNzZXJ0KF9yZW1vdmFsc0hlYWQgPT09IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNUYWlsID0gdGhpcy5fcmVtb3ZhbHNIZWFkID0gcmVjb3JkO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2UmVtb3ZlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAgICAgLy8gYXNzZXJ0KF9yZW1vdmFsc1RhaWwuX25leHRSZW1vdmVkID09PSBudWxsKTtcbiAgICAgICAgICAgIC8vIGFzc2VydChyZWNvcmQuX25leHRSZW1vdmVkID09PSBudWxsKTtcbiAgICAgICAgICAgIHJlY29yZC5fcHJldlJlbW92ZWQgPSB0aGlzLl9yZW1vdmFsc1RhaWw7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc1RhaWwgPSB0aGlzLl9yZW1vdmFsc1RhaWwuX25leHRSZW1vdmVkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfYWRkSWRlbnRpdHlDaGFuZ2UocmVjb3JkLCBpdGVtKSB7XG4gICAgICAgIHJlY29yZC5pdGVtID0gaXRlbTtcbiAgICAgICAgaWYgKHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwgPSB0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCA9IHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwuX25leHRJZGVudGl0eUNoYW5nZSA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH1cbn1cbmNsYXNzIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXyB7XG4gICAgY29uc3RydWN0b3IoaXRlbSwgdHJhY2tCeUlkKSB7XG4gICAgICAgIHRoaXMuaXRlbSA9IGl0ZW07XG4gICAgICAgIHRoaXMudHJhY2tCeUlkID0gdHJhY2tCeUlkO1xuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJldmlvdXNJbmRleCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dFByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9wcmV2ID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9wcmV2RHVwID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0RHVwID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9wcmV2UmVtb3ZlZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dFJlbW92ZWQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRBZGRlZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dE1vdmVkID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0SWRlbnRpdHlDaGFuZ2UgPSBudWxsO1xuICAgIH1cbn1cbi8vIEEgbGlua2VkIGxpc3Qgb2YgSXRlcmFibGVDaGFuZ2VSZWNvcmRzIHdpdGggdGhlIHNhbWUgSXRlcmFibGVDaGFuZ2VSZWNvcmRfLml0ZW1cbmNsYXNzIF9EdXBsaWNhdGVJdGVtUmVjb3JkTGlzdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5faGVhZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGVuZCB0aGUgcmVjb3JkIHRvIHRoZSBsaXN0IG9mIGR1cGxpY2F0ZXMuXG4gICAgICpcbiAgICAgKiBOb3RlOiBieSBkZXNpZ24gYWxsIHJlY29yZHMgaW4gdGhlIGxpc3Qgb2YgZHVwbGljYXRlcyBob2xkIHRoZSBzYW1lIHZhbHVlIGluIHJlY29yZC5pdGVtLlxuICAgICAqL1xuICAgIGFkZChyZWNvcmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hlYWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gcmVjb3JkO1xuICAgICAgICAgICAgcmVjb3JkLl9uZXh0RHVwID0gbnVsbDtcbiAgICAgICAgICAgIHJlY29yZC5fcHJldkR1cCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5pdGVtID09ICBfaGVhZC5pdGVtIHx8XG4gICAgICAgICAgICAvLyAgICAgICByZWNvcmQuaXRlbSBpcyBudW0gJiYgcmVjb3JkLml0ZW0uaXNOYU4gJiYgX2hlYWQuaXRlbSBpcyBudW0gJiYgX2hlYWQuaXRlbS5pc05hTik7XG4gICAgICAgICAgICB0aGlzLl90YWlsLl9uZXh0RHVwID0gcmVjb3JkO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2RHVwID0gdGhpcy5fdGFpbDtcbiAgICAgICAgICAgIHJlY29yZC5fbmV4dER1cCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl90YWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFJldHVybnMgYSBJdGVyYWJsZUNoYW5nZVJlY29yZF8gaGF2aW5nIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXy50cmFja0J5SWQgPT0gdHJhY2tCeUlkIGFuZFxuICAgIC8vIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXy5jdXJyZW50SW5kZXggPj0gYXRPckFmdGVySW5kZXhcbiAgICBnZXQodHJhY2tCeUlkLCBhdE9yQWZ0ZXJJbmRleCkge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0RHVwKSB7XG4gICAgICAgICAgICBpZiAoKGF0T3JBZnRlckluZGV4ID09PSBudWxsIHx8IGF0T3JBZnRlckluZGV4IDw9IHJlY29yZC5jdXJyZW50SW5kZXgpICYmXG4gICAgICAgICAgICAgICAgT2JqZWN0LmlzKHJlY29yZC50cmFja0J5SWQsIHRyYWNrQnlJZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgb25lIHtAbGluayBJdGVyYWJsZUNoYW5nZVJlY29yZF99IGZyb20gdGhlIGxpc3Qgb2YgZHVwbGljYXRlcy5cbiAgICAgKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzIGlzIGVtcHR5LlxuICAgICAqL1xuICAgIHJlbW92ZShyZWNvcmQpIHtcbiAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgLy8gYXNzZXJ0KCgpIHtcbiAgICAgICAgLy8gIC8vIHZlcmlmeSB0aGF0IHRoZSByZWNvcmQgYmVpbmcgcmVtb3ZlZCBpcyBpbiB0aGUgbGlzdC5cbiAgICAgICAgLy8gIGZvciAoSXRlcmFibGVDaGFuZ2VSZWNvcmRfIGN1cnNvciA9IF9oZWFkOyBjdXJzb3IgIT0gbnVsbDsgY3Vyc29yID0gY3Vyc29yLl9uZXh0RHVwKSB7XG4gICAgICAgIC8vICAgIGlmIChpZGVudGljYWwoY3Vyc29yLCByZWNvcmQpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gIH1cbiAgICAgICAgLy8gIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy99KTtcbiAgICAgICAgY29uc3QgcHJldiA9IHJlY29yZC5fcHJldkR1cDtcbiAgICAgICAgY29uc3QgbmV4dCA9IHJlY29yZC5fbmV4dER1cDtcbiAgICAgICAgaWYgKHByZXYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJldi5fbmV4dER1cCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3RhaWwgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV4dC5fcHJldkR1cCA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2hlYWQgPT09IG51bGw7XG4gICAgfVxufVxuY2xhc3MgX0R1cGxpY2F0ZU1hcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBwdXQocmVjb3JkKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHJlY29yZC50cmFja0J5SWQ7XG4gICAgICAgIGxldCBkdXBsaWNhdGVzID0gdGhpcy5tYXAuZ2V0KGtleSk7XG4gICAgICAgIGlmICghZHVwbGljYXRlcykge1xuICAgICAgICAgICAgZHVwbGljYXRlcyA9IG5ldyBfRHVwbGljYXRlSXRlbVJlY29yZExpc3QoKTtcbiAgICAgICAgICAgIHRoaXMubWFwLnNldChrZXksIGR1cGxpY2F0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGR1cGxpY2F0ZXMuYWRkKHJlY29yZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIHRoZSBgdmFsdWVgIHVzaW5nIGtleS4gQmVjYXVzZSB0aGUgSXRlcmFibGVDaGFuZ2VSZWNvcmRfIHZhbHVlIG1heSBiZSBvbmUgd2hpY2ggd2VcbiAgICAgKiBoYXZlIGFscmVhZHkgaXRlcmF0ZWQgb3Zlciwgd2UgdXNlIHRoZSBgYXRPckFmdGVySW5kZXhgIHRvIHByZXRlbmQgaXQgaXMgbm90IHRoZXJlLlxuICAgICAqXG4gICAgICogVXNlIGNhc2U6IGBbYSwgYiwgYywgYSwgYV1gIGlmIHdlIGFyZSBhdCBpbmRleCBgM2Agd2hpY2ggaXMgdGhlIHNlY29uZCBgYWAgdGhlbiBhc2tpbmcgaWYgd2VcbiAgICAgKiBoYXZlIGFueSBtb3JlIGBhYHMgbmVlZHMgdG8gcmV0dXJuIHRoZSBzZWNvbmQgYGFgLlxuICAgICAqL1xuICAgIGdldCh0cmFja0J5SWQsIGF0T3JBZnRlckluZGV4KSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRyYWNrQnlJZDtcbiAgICAgICAgY29uc3QgcmVjb3JkTGlzdCA9IHRoaXMubWFwLmdldChrZXkpO1xuICAgICAgICByZXR1cm4gcmVjb3JkTGlzdCA/IHJlY29yZExpc3QuZ2V0KHRyYWNrQnlJZCwgYXRPckFmdGVySW5kZXgpIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIHtAbGluayBJdGVyYWJsZUNoYW5nZVJlY29yZF99IGZyb20gdGhlIGxpc3Qgb2YgZHVwbGljYXRlcy5cbiAgICAgKlxuICAgICAqIFRoZSBsaXN0IG9mIGR1cGxpY2F0ZXMgYWxzbyBpcyByZW1vdmVkIGZyb20gdGhlIG1hcCBpZiBpdCBnZXRzIGVtcHR5LlxuICAgICAqL1xuICAgIHJlbW92ZShyZWNvcmQpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gcmVjb3JkLnRyYWNrQnlJZDtcbiAgICAgICAgY29uc3QgcmVjb3JkTGlzdCA9IHRoaXMubWFwLmdldChrZXkpO1xuICAgICAgICAvLyBSZW1vdmUgdGhlIGxpc3Qgb2YgZHVwbGljYXRlcyB3aGVuIGl0IGdldHMgZW1wdHlcbiAgICAgICAgaWYgKHJlY29yZExpc3QucmVtb3ZlKHJlY29yZCkpIHtcbiAgICAgICAgICAgIHRoaXMubWFwLmRlbGV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfVxuICAgIGdldCBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuc2l6ZSA9PT0gMDtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMubWFwLmNsZWFyKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0UHJldmlvdXNJbmRleChpdGVtLCBhZGRSZW1vdmVPZmZzZXQsIG1vdmVPZmZzZXRzKSB7XG4gICAgY29uc3QgcHJldmlvdXNJbmRleCA9IGl0ZW0ucHJldmlvdXNJbmRleDtcbiAgICBpZiAocHJldmlvdXNJbmRleCA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIHByZXZpb3VzSW5kZXg7XG4gICAgbGV0IG1vdmVPZmZzZXQgPSAwO1xuICAgIGlmIChtb3ZlT2Zmc2V0cyAmJiBwcmV2aW91c0luZGV4IDwgbW92ZU9mZnNldHMubGVuZ3RoKSB7XG4gICAgICAgIG1vdmVPZmZzZXQgPSBtb3ZlT2Zmc2V0c1twcmV2aW91c0luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIHByZXZpb3VzSW5kZXggKyBhZGRSZW1vdmVPZmZzZXQgKyBtb3ZlT2Zmc2V0O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNsYXNzIERlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG4gICAgc3VwcG9ydHMob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBNYXAgfHwgaXNKc09iamVjdChvYmopO1xuICAgIH1cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGVmYXVsdEtleVZhbHVlRGlmZmVyKCk7XG4gICAgfVxufVxuY2xhc3MgRGVmYXVsdEtleVZhbHVlRGlmZmVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fcmVjb3JkcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fbWFwSGVhZCA9IG51bGw7XG4gICAgICAgIC8vIF9hcHBlbmRBZnRlciBpcyB1c2VkIGluIHRoZSBjaGVjayBsb29wXG4gICAgICAgIHRoaXMuX2FwcGVuZEFmdGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNNYXBIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY2hhbmdlc0hlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9jaGFuZ2VzVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FkZGl0aW9uc0hlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9hZGRpdGlvbnNUYWlsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVtb3ZhbHNUYWlsID0gbnVsbDtcbiAgICB9XG4gICAgZ2V0IGlzRGlydHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRpdGlvbnNIZWFkICE9PSBudWxsIHx8IHRoaXMuX2NoYW5nZXNIZWFkICE9PSBudWxsIHx8XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgIT09IG51bGw7XG4gICAgfVxuICAgIGZvckVhY2hJdGVtKGZuKSB7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fbWFwSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaFByZXZpb3VzSXRlbShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3ByZXZpb3VzTWFwSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRQcmV2aW91cykge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoQ2hhbmdlZEl0ZW0oZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9jaGFuZ2VzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRDaGFuZ2VkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hBZGRlZEl0ZW0oZm4pIHtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9hZGRpdGlvbnNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dEFkZGVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvckVhY2hSZW1vdmVkSXRlbShmbikge1xuICAgICAgICBsZXQgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3JlbW92YWxzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRSZW1vdmVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpZmYobWFwKSB7XG4gICAgICAgIGlmICghbWFwKSB7XG4gICAgICAgICAgICBtYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIShtYXAgaW5zdGFuY2VvZiBNYXAgfHwgaXNKc09iamVjdChtYXApKSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgP1xuICAgICAgICAgICAgICAgIGBFcnJvciB0cnlpbmcgdG8gZGlmZiAnJHtzdHJpbmdpZnkobWFwKX0nLiBPbmx5IG1hcHMgYW5kIG9iamVjdHMgYXJlIGFsbG93ZWRgIDpcbiAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTAwIC8qIElOVkFMSURfRElGRkVSX0lOUFVUICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKG1hcCkgPyB0aGlzIDogbnVsbDtcbiAgICB9XG4gICAgb25EZXN0cm95KCkgeyB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIG1hcCB2cyB0aGUgcHJldmlvdXMuXG4gICAgICogVGhlIGFsZ29yaXRobSBpcyBvcHRpbWlzZWQgZm9yIHdoZW4gdGhlIGtleXMgZG8gbm8gY2hhbmdlLlxuICAgICAqL1xuICAgIGNoZWNrKG1hcCkge1xuICAgICAgICB0aGlzLl9yZXNldCgpO1xuICAgICAgICBsZXQgaW5zZXJ0QmVmb3JlID0gdGhpcy5fbWFwSGVhZDtcbiAgICAgICAgdGhpcy5fYXBwZW5kQWZ0ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9mb3JFYWNoKG1hcCwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChpbnNlcnRCZWZvcmUgJiYgaW5zZXJ0QmVmb3JlLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWF5YmVBZGRUb0NoYW5nZXMoaW5zZXJ0QmVmb3JlLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXBwZW5kQWZ0ZXIgPSBpbnNlcnRCZWZvcmU7XG4gICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlID0gaW5zZXJ0QmVmb3JlLl9uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjb3JkID0gdGhpcy5fZ2V0T3JDcmVhdGVSZWNvcmRGb3JLZXkoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlID0gdGhpcy5faW5zZXJ0QmVmb3JlT3JBcHBlbmQoaW5zZXJ0QmVmb3JlLCByZWNvcmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gSXRlbXMgcmVtYWluaW5nIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QgaGF2ZSBiZWVuIGRlbGV0ZWRcbiAgICAgICAgaWYgKGluc2VydEJlZm9yZSkge1xuICAgICAgICAgICAgaWYgKGluc2VydEJlZm9yZS5fcHJldikge1xuICAgICAgICAgICAgICAgIGluc2VydEJlZm9yZS5fcHJldi5fbmV4dCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgPSBpbnNlcnRCZWZvcmU7XG4gICAgICAgICAgICBmb3IgKGxldCByZWNvcmQgPSBpbnNlcnRCZWZvcmU7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0UmVtb3ZlZCkge1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQgPT09IHRoaXMuX21hcEhlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwSGVhZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3JlY29yZHMuZGVsZXRlKHJlY29yZC5rZXkpO1xuICAgICAgICAgICAgICAgIHJlY29yZC5fbmV4dFJlbW92ZWQgPSByZWNvcmQuX25leHQ7XG4gICAgICAgICAgICAgICAgcmVjb3JkLnByZXZpb3VzVmFsdWUgPSByZWNvcmQuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgICAgIHJlY29yZC5jdXJyZW50VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJlY29yZC5fcHJldiA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmVjb3JkLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBNYWtlIHN1cmUgdGFpbHMgaGF2ZSBubyBuZXh0IHJlY29yZHMgZnJvbSBwcmV2aW91cyBydW5zXG4gICAgICAgIGlmICh0aGlzLl9jaGFuZ2VzVGFpbClcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZXNUYWlsLl9uZXh0Q2hhbmdlZCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLl9hZGRpdGlvbnNUYWlsKVxuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEaXJ0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyBhIHJlY29yZCBiZWZvcmUgYGJlZm9yZWAgb3IgYXBwZW5kIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3Qgd2hlbiBgYmVmb3JlYCBpcyBudWxsLlxuICAgICAqXG4gICAgICogTm90ZXM6XG4gICAgICogLSBUaGlzIG1ldGhvZCBhcHBlbmRzIGF0IGB0aGlzLl9hcHBlbmRBZnRlcmAsXG4gICAgICogLSBUaGlzIG1ldGhvZCB1cGRhdGVzIGB0aGlzLl9hcHBlbmRBZnRlcmAsXG4gICAgICogLSBUaGUgcmV0dXJuIHZhbHVlIGlzIHRoZSBuZXcgdmFsdWUgZm9yIHRoZSBpbnNlcnRpb24gcG9pbnRlci5cbiAgICAgKi9cbiAgICBfaW5zZXJ0QmVmb3JlT3JBcHBlbmQoYmVmb3JlLCByZWNvcmQpIHtcbiAgICAgICAgaWYgKGJlZm9yZSkge1xuICAgICAgICAgICAgY29uc3QgcHJldiA9IGJlZm9yZS5fcHJldjtcbiAgICAgICAgICAgIHJlY29yZC5fbmV4dCA9IGJlZm9yZTtcbiAgICAgICAgICAgIHJlY29yZC5fcHJldiA9IHByZXY7XG4gICAgICAgICAgICBiZWZvcmUuX3ByZXYgPSByZWNvcmQ7XG4gICAgICAgICAgICBpZiAocHJldikge1xuICAgICAgICAgICAgICAgIHByZXYuX25leHQgPSByZWNvcmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmVmb3JlID09PSB0aGlzLl9tYXBIZWFkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwSGVhZCA9IHJlY29yZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FwcGVuZEFmdGVyID0gYmVmb3JlO1xuICAgICAgICAgICAgcmV0dXJuIGJlZm9yZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYXBwZW5kQWZ0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2FwcGVuZEFmdGVyLl9uZXh0ID0gcmVjb3JkO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2ID0gdGhpcy5fYXBwZW5kQWZ0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9tYXBIZWFkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FwcGVuZEFmdGVyID0gcmVjb3JkO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgX2dldE9yQ3JlYXRlUmVjb3JkRm9yS2V5KGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlY29yZHMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlY29yZCA9IHRoaXMuX3JlY29yZHMuZ2V0KGtleSk7XG4gICAgICAgICAgICB0aGlzLl9tYXliZUFkZFRvQ2hhbmdlcyhyZWNvcmQsIHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IHByZXYgPSByZWNvcmQuX3ByZXY7XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgICAgICBwcmV2Ll9uZXh0ID0gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICAgICAgbmV4dC5fcHJldiA9IHByZXY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWNvcmQuX25leHQgPSBudWxsO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2ID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVjb3JkID0gbmV3IEtleVZhbHVlQ2hhbmdlUmVjb3JkXyhrZXkpO1xuICAgICAgICB0aGlzLl9yZWNvcmRzLnNldChrZXksIHJlY29yZCk7XG4gICAgICAgIHJlY29yZC5jdXJyZW50VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fYWRkVG9BZGRpdGlvbnMocmVjb3JkKTtcbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9yZXNldCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eSkge1xuICAgICAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgICAgIC8vIGxldCBgX3ByZXZpb3VzTWFwSGVhZGAgY29udGFpbiB0aGUgc3RhdGUgb2YgdGhlIG1hcCBiZWZvcmUgdGhlIGNoYW5nZXNcbiAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzTWFwSGVhZCA9IHRoaXMuX21hcEhlYWQ7XG4gICAgICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3ByZXZpb3VzTWFwSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQuX25leHRQcmV2aW91cyA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBgcmVjb3JkLnByZXZpb3VzVmFsdWVgIHdpdGggdGhlIHZhbHVlIG9mIHRoZSBpdGVtIGJlZm9yZSB0aGUgY2hhbmdlc1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byB1cGRhdGUgYWxsIGNoYW5nZWQgaXRlbXMgKHRoYXQncyB0aG9zZSB3aGljaCBoYXZlIGJlZW4gYWRkZWQgYW5kIGNoYW5nZWQpXG4gICAgICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2NoYW5nZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dENoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQucHJldmlvdXNWYWx1ZSA9IHJlY29yZC5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2FkZGl0aW9uc0hlYWQ7IHJlY29yZCAhPSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRBZGRlZCkge1xuICAgICAgICAgICAgICAgIHJlY29yZC5wcmV2aW91c1ZhbHVlID0gcmVjb3JkLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZXNIZWFkID0gdGhpcy5fY2hhbmdlc1RhaWwgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zSGVhZCA9IHRoaXMuX2FkZGl0aW9uc1RhaWwgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBBZGQgdGhlIHJlY29yZCBvciBhIGdpdmVuIGtleSB0byB0aGUgbGlzdCBvZiBjaGFuZ2VzIG9ubHkgd2hlbiB0aGUgdmFsdWUgaGFzIGFjdHVhbGx5IGNoYW5nZWRcbiAgICBfbWF5YmVBZGRUb0NoYW5nZXMocmVjb3JkLCBuZXdWYWx1ZSkge1xuICAgICAgICBpZiAoIU9iamVjdC5pcyhuZXdWYWx1ZSwgcmVjb3JkLmN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHJlY29yZC5wcmV2aW91c1ZhbHVlID0gcmVjb3JkLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIHJlY29yZC5jdXJyZW50VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvQ2hhbmdlcyhyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9hZGRUb0FkZGl0aW9ucyhyZWNvcmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FkZGl0aW9uc0hlYWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc0hlYWQgPSB0aGlzLl9hZGRpdGlvbnNUYWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkID0gcmVjb3JkO1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYWRkVG9DaGFuZ2VzKHJlY29yZCkge1xuICAgICAgICBpZiAodGhpcy5fY2hhbmdlc0hlYWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZXNIZWFkID0gdGhpcy5fY2hhbmdlc1RhaWwgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VzVGFpbC5fbmV4dENoYW5nZWQgPSByZWNvcmQ7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VzVGFpbCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2ZvckVhY2gob2JqLCBmbikge1xuICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICBvYmouZm9yRWFjaChmbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goayA9PiBmbihvYmpba10sIGspKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIEtleVZhbHVlQ2hhbmdlUmVjb3JkXyB7XG4gICAgY29uc3RydWN0b3Ioa2V5KSB7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLnByZXZpb3VzVmFsdWUgPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dFByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9wcmV2ID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0QWRkZWQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0Q2hhbmdlZCA9IG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRJdGVyYWJsZURpZmZlcnNGYWN0b3J5KCkge1xuICAgIHJldHVybiBuZXcgSXRlcmFibGVEaWZmZXJzKFtuZXcgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyRmFjdG9yeSgpXSk7XG59XG4vKipcbiAqIEEgcmVwb3NpdG9yeSBvZiBkaWZmZXJlbnQgaXRlcmFibGUgZGlmZmluZyBzdHJhdGVnaWVzIHVzZWQgYnkgTmdGb3IsIE5nQ2xhc3MsIGFuZCBvdGhlcnMuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBJdGVyYWJsZURpZmZlcnMge1xuICAgIGNvbnN0cnVjdG9yKGZhY3Rvcmllcykge1xuICAgICAgICB0aGlzLmZhY3RvcmllcyA9IGZhY3RvcmllcztcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShmYWN0b3JpZXMsIHBhcmVudCkge1xuICAgICAgICBpZiAocGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvcGllZCA9IHBhcmVudC5mYWN0b3JpZXMuc2xpY2UoKTtcbiAgICAgICAgICAgIGZhY3RvcmllcyA9IGZhY3Rvcmllcy5jb25jYXQoY29waWVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEl0ZXJhYmxlRGlmZmVycyhmYWN0b3JpZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhbiBhcnJheSBvZiB7QGxpbmsgSXRlcmFibGVEaWZmZXJGYWN0b3J5fSBhbmQgcmV0dXJucyBhIHByb3ZpZGVyIHVzZWQgdG8gZXh0ZW5kIHRoZVxuICAgICAqIGluaGVyaXRlZCB7QGxpbmsgSXRlcmFibGVEaWZmZXJzfSBpbnN0YW5jZSB3aXRoIHRoZSBwcm92aWRlZCBmYWN0b3JpZXMgYW5kIHJldHVybiBhIG5ld1xuICAgICAqIHtAbGluayBJdGVyYWJsZURpZmZlcnN9IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBleHRlbmQgYW4gZXhpc3RpbmcgbGlzdCBvZiBmYWN0b3JpZXMsXG4gICAgICogd2hpY2ggd2lsbCBvbmx5IGJlIGFwcGxpZWQgdG8gdGhlIGluamVjdG9yIGZvciB0aGlzIGNvbXBvbmVudCBhbmQgaXRzIGNoaWxkcmVuLlxuICAgICAqIFRoaXMgc3RlcCBpcyBhbGwgdGhhdCdzIHJlcXVpcmVkIHRvIG1ha2UgYSBuZXcge0BsaW5rIEl0ZXJhYmxlRGlmZmVyfSBhdmFpbGFibGUuXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBAQ29tcG9uZW50KHtcbiAgICAgKiAgIHZpZXdQcm92aWRlcnM6IFtcbiAgICAgKiAgICAgSXRlcmFibGVEaWZmZXJzLmV4dGVuZChbbmV3IEltbXV0YWJsZUxpc3REaWZmZXIoKV0pXG4gICAgICogICBdXG4gICAgICogfSlcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzdGF0aWMgZXh0ZW5kKGZhY3Rvcmllcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvdmlkZTogSXRlcmFibGVEaWZmZXJzLFxuICAgICAgICAgICAgdXNlRmFjdG9yeTogKHBhcmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGlmIHBhcmVudCBpcyBudWxsLCBpdCBtZWFucyB0aGF0IHdlIGFyZSBpbiB0aGUgcm9vdCBpbmplY3RvciBhbmQgd2UgaGF2ZSBqdXN0IG92ZXJyaWRkZW5cbiAgICAgICAgICAgICAgICAvLyB0aGUgZGVmYXVsdCBpbmplY3Rpb24gbWVjaGFuaXNtIGZvciBJdGVyYWJsZURpZmZlcnMsIGluIHN1Y2ggYSBjYXNlIGp1c3QgYXNzdW1lXG4gICAgICAgICAgICAgICAgLy8gYGRlZmF1bHRJdGVyYWJsZURpZmZlcnNGYWN0b3J5YC5cbiAgICAgICAgICAgICAgICByZXR1cm4gSXRlcmFibGVEaWZmZXJzLmNyZWF0ZShmYWN0b3JpZXMsIHBhcmVudCB8fCBkZWZhdWx0SXRlcmFibGVEaWZmZXJzRmFjdG9yeSgpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBEZXBlbmRlbmN5IHRlY2huaWNhbGx5IGlzbid0IG9wdGlvbmFsLCBidXQgd2UgY2FuIHByb3ZpZGUgYSBiZXR0ZXIgZXJyb3IgbWVzc2FnZSB0aGlzIHdheS5cbiAgICAgICAgICAgIGRlcHM6IFtbSXRlcmFibGVEaWZmZXJzLCBuZXcgU2tpcFNlbGYoKSwgbmV3IE9wdGlvbmFsKCldXVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmaW5kKGl0ZXJhYmxlKSB7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSB0aGlzLmZhY3Rvcmllcy5maW5kKGYgPT4gZi5zdXBwb3J0cyhpdGVyYWJsZSkpO1xuICAgICAgICBpZiAoZmFjdG9yeSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpID9cbiAgICAgICAgICAgICAgICBgQ2Fubm90IGZpbmQgYSBkaWZmZXIgc3VwcG9ydGluZyBvYmplY3QgJyR7aXRlcmFibGV9JyBvZiB0eXBlICcke2dldFR5cGVOYW1lRm9yRGVidWdnaW5nKGl0ZXJhYmxlKX0nYCA6XG4gICAgICAgICAgICAgICAgJyc7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKDkwMSAvKiBOT19TVVBQT1JUSU5HX0RJRkZFUl9GQUNUT1JZICovLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqIEBub2NvbGxhcHNlICovXG5JdGVyYWJsZURpZmZlcnMuybVwcm92ID0gybXJtWRlZmluZUluamVjdGFibGUoeyB0b2tlbjogSXRlcmFibGVEaWZmZXJzLCBwcm92aWRlZEluOiAncm9vdCcsIGZhY3Rvcnk6IGRlZmF1bHRJdGVyYWJsZURpZmZlcnNGYWN0b3J5IH0pO1xuZnVuY3Rpb24gZ2V0VHlwZU5hbWVGb3JEZWJ1Z2dpbmcodHlwZSkge1xuICAgIHJldHVybiB0eXBlWyduYW1lJ10gfHwgdHlwZW9mIHR5cGU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdEtleVZhbHVlRGlmZmVyc0ZhY3RvcnkoKSB7XG4gICAgcmV0dXJuIG5ldyBLZXlWYWx1ZURpZmZlcnMoW25ldyBEZWZhdWx0S2V5VmFsdWVEaWZmZXJGYWN0b3J5KCldKTtcbn1cbi8qKlxuICogQSByZXBvc2l0b3J5IG9mIGRpZmZlcmVudCBNYXAgZGlmZmluZyBzdHJhdGVnaWVzIHVzZWQgYnkgTmdDbGFzcywgTmdTdHlsZSwgYW5kIG90aGVycy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIEtleVZhbHVlRGlmZmVycyB7XG4gICAgY29uc3RydWN0b3IoZmFjdG9yaWVzKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yaWVzID0gZmFjdG9yaWVzO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGZhY3RvcmllcywgcGFyZW50KSB7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvcGllZCA9IHBhcmVudC5mYWN0b3JpZXMuc2xpY2UoKTtcbiAgICAgICAgICAgIGZhY3RvcmllcyA9IGZhY3Rvcmllcy5jb25jYXQoY29waWVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEtleVZhbHVlRGlmZmVycyhmYWN0b3JpZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhbiBhcnJheSBvZiB7QGxpbmsgS2V5VmFsdWVEaWZmZXJGYWN0b3J5fSBhbmQgcmV0dXJucyBhIHByb3ZpZGVyIHVzZWQgdG8gZXh0ZW5kIHRoZVxuICAgICAqIGluaGVyaXRlZCB7QGxpbmsgS2V5VmFsdWVEaWZmZXJzfSBpbnN0YW5jZSB3aXRoIHRoZSBwcm92aWRlZCBmYWN0b3JpZXMgYW5kIHJldHVybiBhIG5ld1xuICAgICAqIHtAbGluayBLZXlWYWx1ZURpZmZlcnN9IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBleHRlbmQgYW4gZXhpc3RpbmcgbGlzdCBvZiBmYWN0b3JpZXMsXG4gICAgICogd2hpY2ggd2lsbCBvbmx5IGJlIGFwcGxpZWQgdG8gdGhlIGluamVjdG9yIGZvciB0aGlzIGNvbXBvbmVudCBhbmQgaXRzIGNoaWxkcmVuLlxuICAgICAqIFRoaXMgc3RlcCBpcyBhbGwgdGhhdCdzIHJlcXVpcmVkIHRvIG1ha2UgYSBuZXcge0BsaW5rIEtleVZhbHVlRGlmZmVyfSBhdmFpbGFibGUuXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBAQ29tcG9uZW50KHtcbiAgICAgKiAgIHZpZXdQcm92aWRlcnM6IFtcbiAgICAgKiAgICAgS2V5VmFsdWVEaWZmZXJzLmV4dGVuZChbbmV3IEltbXV0YWJsZU1hcERpZmZlcigpXSlcbiAgICAgKiAgIF1cbiAgICAgKiB9KVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHN0YXRpYyBleHRlbmQoZmFjdG9yaWVzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm92aWRlOiBLZXlWYWx1ZURpZmZlcnMsXG4gICAgICAgICAgICB1c2VGYWN0b3J5OiAocGFyZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWYgcGFyZW50IGlzIG51bGwsIGl0IG1lYW5zIHRoYXQgd2UgYXJlIGluIHRoZSByb290IGluamVjdG9yIGFuZCB3ZSBoYXZlIGp1c3Qgb3ZlcnJpZGRlblxuICAgICAgICAgICAgICAgIC8vIHRoZSBkZWZhdWx0IGluamVjdGlvbiBtZWNoYW5pc20gZm9yIEtleVZhbHVlRGlmZmVycywgaW4gc3VjaCBhIGNhc2UganVzdCBhc3N1bWVcbiAgICAgICAgICAgICAgICAvLyBgZGVmYXVsdEtleVZhbHVlRGlmZmVyc0ZhY3RvcnlgLlxuICAgICAgICAgICAgICAgIHJldHVybiBLZXlWYWx1ZURpZmZlcnMuY3JlYXRlKGZhY3RvcmllcywgcGFyZW50IHx8IGRlZmF1bHRLZXlWYWx1ZURpZmZlcnNGYWN0b3J5KCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIERlcGVuZGVuY3kgdGVjaG5pY2FsbHkgaXNuJ3Qgb3B0aW9uYWwsIGJ1dCB3ZSBjYW4gcHJvdmlkZSBhIGJldHRlciBlcnJvciBtZXNzYWdlIHRoaXMgd2F5LlxuICAgICAgICAgICAgZGVwczogW1tLZXlWYWx1ZURpZmZlcnMsIG5ldyBTa2lwU2VsZigpLCBuZXcgT3B0aW9uYWwoKV1dXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZpbmQoa3YpIHtcbiAgICAgICAgY29uc3QgZmFjdG9yeSA9IHRoaXMuZmFjdG9yaWVzLmZpbmQoZiA9PiBmLnN1cHBvcnRzKGt2KSk7XG4gICAgICAgIGlmIChmYWN0b3J5KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSA/XG4gICAgICAgICAgICBgQ2Fubm90IGZpbmQgYSBkaWZmZXIgc3VwcG9ydGluZyBvYmplY3QgJyR7a3Z9J2AgOlxuICAgICAgICAgICAgJyc7XG4gICAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoOTAxIC8qIE5PX1NVUFBPUlRJTkdfRElGRkVSX0ZBQ1RPUlkgKi8sIGVycm9yTWVzc2FnZSk7XG4gICAgfVxufVxuLyoqIEBub2NvbGxhcHNlICovXG5LZXlWYWx1ZURpZmZlcnMuybVwcm92ID0gybXJtWRlZmluZUluamVjdGFibGUoeyB0b2tlbjogS2V5VmFsdWVEaWZmZXJzLCBwcm92aWRlZEluOiAncm9vdCcsIGZhY3Rvcnk6IGRlZmF1bHRLZXlWYWx1ZURpZmZlcnNGYWN0b3J5IH0pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogU3RydWN0dXJhbCBkaWZmaW5nIGZvciBgT2JqZWN0YHMgYW5kIGBNYXBgcy5cbiAqL1xuY29uc3Qga2V5VmFsRGlmZiA9IFtuZXcgRGVmYXVsdEtleVZhbHVlRGlmZmVyRmFjdG9yeSgpXTtcbi8qKlxuICogU3RydWN0dXJhbCBkaWZmaW5nIGZvciBgSXRlcmFibGVgIHR5cGVzIHN1Y2ggYXMgYEFycmF5YHMuXG4gKi9cbmNvbnN0IGl0ZXJhYmxlRGlmZiA9IFtuZXcgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyRmFjdG9yeSgpXTtcbmNvbnN0IGRlZmF1bHRJdGVyYWJsZURpZmZlcnMgPSBuZXcgSXRlcmFibGVEaWZmZXJzKGl0ZXJhYmxlRGlmZik7XG5jb25zdCBkZWZhdWx0S2V5VmFsdWVEaWZmZXJzID0gbmV3IEtleVZhbHVlRGlmZmVycyhrZXlWYWxEaWZmKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuY29uc3QgX0NPUkVfUExBVEZPUk1fUFJPVklERVJTID0gW1xuICAgIC8vIFNldCBhIGRlZmF1bHQgcGxhdGZvcm0gbmFtZSBmb3IgcGxhdGZvcm1zIHRoYXQgZG9uJ3Qgc2V0IGl0IGV4cGxpY2l0bHkuXG4gICAgeyBwcm92aWRlOiBQTEFURk9STV9JRCwgdXNlVmFsdWU6ICd1bmtub3duJyB9LFxuICAgIHsgcHJvdmlkZTogUGxhdGZvcm1SZWYsIGRlcHM6IFtJbmplY3Rvcl0gfSxcbiAgICB7IHByb3ZpZGU6IFRlc3RhYmlsaXR5UmVnaXN0cnksIGRlcHM6IFtdIH0sXG4gICAgeyBwcm92aWRlOiBDb25zb2xlLCBkZXBzOiBbXSB9LFxuXTtcbi8qKlxuICogVGhpcyBwbGF0Zm9ybSBoYXMgdG8gYmUgaW5jbHVkZWQgaW4gYW55IG90aGVyIHBsYXRmb3JtXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jb25zdCBwbGF0Zm9ybUNvcmUgPSBjcmVhdGVQbGF0Zm9ybUZhY3RvcnkobnVsbCwgJ2NvcmUnLCBfQ09SRV9QTEFURk9STV9QUk9WSURFUlMpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIF9pdGVyYWJsZURpZmZlcnNGYWN0b3J5KCkge1xuICAgIHJldHVybiBkZWZhdWx0SXRlcmFibGVEaWZmZXJzO1xufVxuZnVuY3Rpb24gX2tleVZhbHVlRGlmZmVyc0ZhY3RvcnkoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRLZXlWYWx1ZURpZmZlcnM7XG59XG5mdW5jdGlvbiBfbG9jYWxlRmFjdG9yeShsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlIHx8IGdldEdsb2JhbExvY2FsZSgpO1xufVxuLyoqXG4gKiBXb3JrIG91dCB0aGUgbG9jYWxlIGZyb20gdGhlIHBvdGVudGlhbCBnbG9iYWwgcHJvcGVydGllcy5cbiAqXG4gKiAqIENsb3N1cmUgQ29tcGlsZXI6IHVzZSBgZ29vZy5nZXRMb2NhbGUoKWAuXG4gKiAqIEl2eSBlbmFibGVkOiB1c2UgYCRsb2NhbGl6ZS5sb2NhbGVgXG4gKi9cbmZ1bmN0aW9uIGdldEdsb2JhbExvY2FsZSgpIHtcbiAgICBpZiAodHlwZW9mIG5nSTE4bkNsb3N1cmVNb2RlICE9PSAndW5kZWZpbmVkJyAmJiBuZ0kxOG5DbG9zdXJlTW9kZSAmJlxuICAgICAgICB0eXBlb2YgZ29vZyAhPT0gJ3VuZGVmaW5lZCcgJiYgZ29vZy5nZXRMb2NhbGUoKSAhPT0gJ2VuJykge1xuICAgICAgICAvLyAqIFRoZSBkZWZhdWx0IGBnb29nLmdldExvY2FsZSgpYCB2YWx1ZSBpcyBgZW5gLCB3aGlsZSBBbmd1bGFyIHVzZWQgYGVuLVVTYC5cbiAgICAgICAgLy8gKiBJbiBvcmRlciB0byBwcmVzZXJ2ZSBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSwgd2UgdXNlIEFuZ3VsYXIgZGVmYXVsdCB2YWx1ZSBvdmVyXG4gICAgICAgIC8vICAgQ2xvc3VyZSBDb21waWxlcidzIG9uZS5cbiAgICAgICAgcmV0dXJuIGdvb2cuZ2V0TG9jYWxlKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBLRUVQIGB0eXBlb2YgJGxvY2FsaXplICE9PSAndW5kZWZpbmVkJyAmJiAkbG9jYWxpemUubG9jYWxlYCBJTiBTWU5DIFdJVEggVEhFIExPQ0FMSVpFXG4gICAgICAgIC8vIENPTVBJTEUtVElNRSBJTkxJTkVSLlxuICAgICAgICAvL1xuICAgICAgICAvLyAqIER1cmluZyBjb21waWxlIHRpbWUgaW5saW5pbmcgb2YgdHJhbnNsYXRpb25zIHRoZSBleHByZXNzaW9uIHdpbGwgYmUgcmVwbGFjZWRcbiAgICAgICAgLy8gICB3aXRoIGEgc3RyaW5nIGxpdGVyYWwgdGhhdCBpcyB0aGUgY3VycmVudCBsb2NhbGUuIE90aGVyIGZvcm1zIG9mIHRoaXMgZXhwcmVzc2lvbiBhcmUgbm90XG4gICAgICAgIC8vICAgZ3VhcmFudGVlZCB0byBiZSByZXBsYWNlZC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gKiBEdXJpbmcgcnVudGltZSB0cmFuc2xhdGlvbiBldmFsdWF0aW9uLCB0aGUgZGV2ZWxvcGVyIGlzIHJlcXVpcmVkIHRvIHNldCBgJGxvY2FsaXplLmxvY2FsZWBcbiAgICAgICAgLy8gICBpZiByZXF1aXJlZCwgb3IganVzdCB0byBwcm92aWRlIHRoZWlyIG93biBgTE9DQUxFX0lEYCBwcm92aWRlci5cbiAgICAgICAgcmV0dXJuICh0eXBlb2YgJGxvY2FsaXplICE9PSAndW5kZWZpbmVkJyAmJiAkbG9jYWxpemUubG9jYWxlKSB8fCBERUZBVUxUX0xPQ0FMRV9JRDtcbiAgICB9XG59XG4vKipcbiAqIEEgYnVpbHQtaW4gW2RlcGVuZGVuY3kgaW5qZWN0aW9uIHRva2VuXShndWlkZS9nbG9zc2FyeSNkaS10b2tlbilcbiAqIHRoYXQgaXMgdXNlZCB0byBjb25maWd1cmUgdGhlIHJvb3QgaW5qZWN0b3IgZm9yIGJvb3RzdHJhcHBpbmcuXG4gKi9cbmNvbnN0IEFQUExJQ0FUSU9OX01PRFVMRV9QUk9WSURFUlMgPSBbXG4gICAge1xuICAgICAgICBwcm92aWRlOiBBcHBsaWNhdGlvblJlZixcbiAgICAgICAgdXNlQ2xhc3M6IEFwcGxpY2F0aW9uUmVmLFxuICAgICAgICBkZXBzOiBbTmdab25lLCBJbmplY3RvciwgRXJyb3JIYW5kbGVyLCBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIkMSwgQXBwbGljYXRpb25Jbml0U3RhdHVzXVxuICAgIH0sXG4gICAgeyBwcm92aWRlOiBTQ0hFRFVMRVIsIGRlcHM6IFtOZ1pvbmVdLCB1c2VGYWN0b3J5OiB6b25lU2NoZWR1bGVyRmFjdG9yeSB9LFxuICAgIHtcbiAgICAgICAgcHJvdmlkZTogQXBwbGljYXRpb25Jbml0U3RhdHVzLFxuICAgICAgICB1c2VDbGFzczogQXBwbGljYXRpb25Jbml0U3RhdHVzLFxuICAgICAgICBkZXBzOiBbW25ldyBPcHRpb25hbCgpLCBBUFBfSU5JVElBTElaRVJdXVxuICAgIH0sXG4gICAgeyBwcm92aWRlOiBDb21waWxlciwgdXNlQ2xhc3M6IENvbXBpbGVyLCBkZXBzOiBbXSB9LFxuICAgIEFQUF9JRF9SQU5ET01fUFJPVklERVIsXG4gICAgeyBwcm92aWRlOiBJdGVyYWJsZURpZmZlcnMsIHVzZUZhY3Rvcnk6IF9pdGVyYWJsZURpZmZlcnNGYWN0b3J5LCBkZXBzOiBbXSB9LFxuICAgIHsgcHJvdmlkZTogS2V5VmFsdWVEaWZmZXJzLCB1c2VGYWN0b3J5OiBfa2V5VmFsdWVEaWZmZXJzRmFjdG9yeSwgZGVwczogW10gfSxcbiAgICB7XG4gICAgICAgIHByb3ZpZGU6IExPQ0FMRV9JRCxcbiAgICAgICAgdXNlRmFjdG9yeTogX2xvY2FsZUZhY3RvcnksXG4gICAgICAgIGRlcHM6IFtbbmV3IEluamVjdChMT0NBTEVfSUQpLCBuZXcgT3B0aW9uYWwoKSwgbmV3IFNraXBTZWxmKCldXVxuICAgIH0sXG4gICAgeyBwcm92aWRlOiBERUZBVUxUX0NVUlJFTkNZX0NPREUsIHVzZVZhbHVlOiBVU0RfQ1VSUkVOQ1lfQ09ERSB9LFxuXTtcbi8qKlxuICogU2NoZWR1bGUgd29yayBhdCBuZXh0IGF2YWlsYWJsZSBzbG90LlxuICpcbiAqIEluIEl2eSB0aGlzIGlzIGp1c3QgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAuIEZvciBjb21wYXRpYmlsaXR5IHJlYXNvbnMgd2hlbiBib290c3RyYXBwZWRcbiAqIHVzaW5nIGBwbGF0Zm9ybVJlZi5ib290c3RyYXBgIHdlIG5lZWQgdG8gdXNlIGBOZ1pvbmUub25TdGFibGVgIGFzIHRoZSBzY2hlZHVsaW5nIG1lY2hhbmlzbS5cbiAqIFRoaXMgb3ZlcnJpZGVzIHRoZSBzY2hlZHVsaW5nIG1lY2hhbmlzbSBpbiBJdnkgdG8gYE5nWm9uZS5vblN0YWJsZWAuXG4gKlxuICogQHBhcmFtIG5nWm9uZSBOZ1pvbmUgdG8gdXNlIGZvciBzY2hlZHVsaW5nLlxuICovXG5mdW5jdGlvbiB6b25lU2NoZWR1bGVyRmFjdG9yeShuZ1pvbmUpIHtcbiAgICBsZXQgcXVldWUgPSBbXTtcbiAgICBuZ1pvbmUub25TdGFibGUuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgcXVldWUucG9wKCkoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcXVldWUucHVzaChmbik7XG4gICAgfTtcbn1cbi8qKlxuICogQ29uZmlndXJlcyB0aGUgcm9vdCBpbmplY3RvciBmb3IgYW4gYXBwIHdpdGhcbiAqIHByb3ZpZGVycyBvZiBgQGFuZ3VsYXIvY29yZWAgZGVwZW5kZW5jaWVzIHRoYXQgYEFwcGxpY2F0aW9uUmVmYCBuZWVkc1xuICogdG8gYm9vdHN0cmFwIGNvbXBvbmVudHMuXG4gKlxuICogUmUtZXhwb3J0ZWQgYnkgYEJyb3dzZXJNb2R1bGVgLCB3aGljaCBpcyBpbmNsdWRlZCBhdXRvbWF0aWNhbGx5IGluIHRoZSByb290XG4gKiBgQXBwTW9kdWxlYCB3aGVuIHlvdSBjcmVhdGUgYSBuZXcgYXBwIHdpdGggdGhlIENMSSBgbmV3YCBjb21tYW5kLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgQXBwbGljYXRpb25Nb2R1bGUge1xuICAgIC8vIEluamVjdCBBcHBsaWNhdGlvblJlZiB0byBtYWtlIGl0IGVhZ2VyLi4uXG4gICAgY29uc3RydWN0b3IoYXBwUmVmKSB7IH1cbn1cbkFwcGxpY2F0aW9uTW9kdWxlLsm1ZmFjID0gZnVuY3Rpb24gQXBwbGljYXRpb25Nb2R1bGVfRmFjdG9yeSh0KSB7IHJldHVybiBuZXcgKHQgfHwgQXBwbGljYXRpb25Nb2R1bGUpKMm1ybVpbmplY3QoQXBwbGljYXRpb25SZWYpKTsgfTtcbkFwcGxpY2F0aW9uTW9kdWxlLsm1bW9kID0gLypAX19QVVJFX18qLyDJtcm1ZGVmaW5lTmdNb2R1bGUoeyB0eXBlOiBBcHBsaWNhdGlvbk1vZHVsZSB9KTtcbkFwcGxpY2F0aW9uTW9kdWxlLsm1aW5qID0gLypAX19QVVJFX18qLyDJtcm1ZGVmaW5lSW5qZWN0b3IoeyBwcm92aWRlcnM6IEFQUExJQ0FUSU9OX01PRFVMRV9QUk9WSURFUlMgfSk7XG4oZnVuY3Rpb24gKCkge1xuICAgICh0eXBlb2YgbmdEZXZNb2RlID09PSBcInVuZGVmaW5lZFwiIHx8IG5nRGV2TW9kZSkgJiYgc2V0Q2xhc3NNZXRhZGF0YShBcHBsaWNhdGlvbk1vZHVsZSwgW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3sgcHJvdmlkZXJzOiBBUFBMSUNBVElPTl9NT0RVTEVfUFJPVklERVJTIH1dXG4gICAgICAgIH1dLCBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBBcHBsaWNhdGlvblJlZiB9XTsgfSwgbnVsbCk7XG59KSgpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRPRE8oYWx4aHViKTogYWxsb3dzIHRlc3RzIHRvIGNvbXBpbGUsIGNhbiBiZSByZW1vdmVkIHdoZW4gdGVzdHMgaGF2ZSBiZWVuIHVwZGF0ZWQuXG5jb25zdCDJtWl2eUVuYWJsZWQgPSB0cnVlO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29tcGlsZXMgYSBwYXJ0aWFsIGRpcmVjdGl2ZSBkZWNsYXJhdGlvbiBvYmplY3QgaW50byBhIGZ1bGwgZGlyZWN0aXZlIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoZGVjbCkge1xuICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMSAvKiBQYXJ0aWFsRGVjbGFyYXRpb24gKi8sIGtpbmQ6ICdkaXJlY3RpdmUnLCB0eXBlOiBkZWNsLnR5cGUgfSk7XG4gICAgcmV0dXJuIGNvbXBpbGVyLmNvbXBpbGVEaXJlY3RpdmVEZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1ZmFjLmpzYCwgZGVjbCk7XG59XG4vKipcbiAqIEV2YWx1YXRlcyB0aGUgY2xhc3MgbWV0YWRhdGEgZGVjbGFyYXRpb24uXG4gKlxuICogQGNvZGVHZW5BcGlcbiAqL1xuZnVuY3Rpb24gybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoZGVjbCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgc2V0Q2xhc3NNZXRhZGF0YShkZWNsLnR5cGUsIGRlY2wuZGVjb3JhdG9ycywgKF9hID0gZGVjbC5jdG9yUGFyYW1ldGVycykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbCwgKF9iID0gZGVjbC5wcm9wRGVjb3JhdG9ycykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbCk7XG59XG4vKipcbiAqIENvbXBpbGVzIGEgcGFydGlhbCBjb21wb25lbnQgZGVjbGFyYXRpb24gb2JqZWN0IGludG8gYSBmdWxsIGNvbXBvbmVudCBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmdEZWNsYXJlQ29tcG9uZW50KGRlY2wpIHtcbiAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDEgLyogUGFydGlhbERlY2xhcmF0aW9uICovLCBraW5kOiAnY29tcG9uZW50JywgdHlwZTogZGVjbC50eXBlIH0pO1xuICAgIHJldHVybiBjb21waWxlci5jb21waWxlQ29tcG9uZW50RGVjbGFyYXRpb24oYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke2RlY2wudHlwZS5uYW1lfS/JtWNtcC5qc2AsIGRlY2wpO1xufVxuLyoqXG4gKiBDb21waWxlcyBhIHBhcnRpYWwgcGlwZSBkZWNsYXJhdGlvbiBvYmplY3QgaW50byBhIGZ1bGwgcGlwZSBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmdEZWNsYXJlRmFjdG9yeShkZWNsKSB7XG4gICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7XG4gICAgICAgIHVzYWdlOiAxIC8qIFBhcnRpYWxEZWNsYXJhdGlvbiAqLyxcbiAgICAgICAga2luZDogZ2V0RmFjdG9yeUtpbmQoZGVjbC50YXJnZXQpLFxuICAgICAgICB0eXBlOiBkZWNsLnR5cGVcbiAgICB9KTtcbiAgICByZXR1cm4gY29tcGlsZXIuY29tcGlsZUZhY3RvcnlEZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1ZmFjLmpzYCwgZGVjbCk7XG59XG5mdW5jdGlvbiBnZXRGYWN0b3J5S2luZCh0YXJnZXQpIHtcbiAgICBzd2l0Y2ggKHRhcmdldCkge1xuICAgICAgICBjYXNlIEZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlOlxuICAgICAgICAgICAgcmV0dXJuICdkaXJlY3RpdmUnO1xuICAgICAgICBjYXNlIEZhY3RvcnlUYXJnZXQuQ29tcG9uZW50OlxuICAgICAgICAgICAgcmV0dXJuICdjb21wb25lbnQnO1xuICAgICAgICBjYXNlIEZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZTpcbiAgICAgICAgICAgIHJldHVybiAnaW5qZWN0YWJsZSc7XG4gICAgICAgIGNhc2UgRmFjdG9yeVRhcmdldC5QaXBlOlxuICAgICAgICAgICAgcmV0dXJuICdwaXBlJztcbiAgICAgICAgY2FzZSBGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlOlxuICAgICAgICAgICAgcmV0dXJuICdOZ01vZHVsZSc7XG4gICAgfVxufVxuLyoqXG4gKiBDb21waWxlcyBhIHBhcnRpYWwgaW5qZWN0YWJsZSBkZWNsYXJhdGlvbiBvYmplY3QgaW50byBhIGZ1bGwgaW5qZWN0YWJsZSBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmdEZWNsYXJlSW5qZWN0YWJsZShkZWNsKSB7XG4gICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAxIC8qIFBhcnRpYWxEZWNsYXJhdGlvbiAqLywga2luZDogJ2luamVjdGFibGUnLCB0eXBlOiBkZWNsLnR5cGUgfSk7XG4gICAgcmV0dXJuIGNvbXBpbGVyLmNvbXBpbGVJbmplY3RhYmxlRGVjbGFyYXRpb24oYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke2RlY2wudHlwZS5uYW1lfS/JtXByb3YuanNgLCBkZWNsKTtcbn1cbi8qKlxuICogQ29tcGlsZXMgYSBwYXJ0aWFsIGluamVjdG9yIGRlY2xhcmF0aW9uIG9iamVjdCBpbnRvIGEgZnVsbCBpbmplY3RvciBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiBAY29kZUdlbkFwaVxuICovXG5mdW5jdGlvbiDJtcm1bmdEZWNsYXJlSW5qZWN0b3IoZGVjbCkge1xuICAgIGNvbnN0IGNvbXBpbGVyID0gZ2V0Q29tcGlsZXJGYWNhZGUoeyB1c2FnZTogMSAvKiBQYXJ0aWFsRGVjbGFyYXRpb24gKi8sIGtpbmQ6ICdOZ01vZHVsZScsIHR5cGU6IGRlY2wudHlwZSB9KTtcbiAgICByZXR1cm4gY29tcGlsZXIuY29tcGlsZUluamVjdG9yRGVjbGFyYXRpb24oYW5ndWxhckNvcmVFbnYsIGBuZzovLy8ke2RlY2wudHlwZS5uYW1lfS/JtWluai5qc2AsIGRlY2wpO1xufVxuLyoqXG4gKiBDb21waWxlcyBhIHBhcnRpYWwgTmdNb2R1bGUgZGVjbGFyYXRpb24gb2JqZWN0IGludG8gYSBmdWxsIE5nTW9kdWxlIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVOZ01vZHVsZShkZWNsKSB7XG4gICAgY29uc3QgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSh7IHVzYWdlOiAxIC8qIFBhcnRpYWxEZWNsYXJhdGlvbiAqLywga2luZDogJ05nTW9kdWxlJywgdHlwZTogZGVjbC50eXBlIH0pO1xuICAgIHJldHVybiBjb21waWxlci5jb21waWxlTmdNb2R1bGVEZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1bW9kLmpzYCwgZGVjbCk7XG59XG4vKipcbiAqIENvbXBpbGVzIGEgcGFydGlhbCBwaXBlIGRlY2xhcmF0aW9uIG9iamVjdCBpbnRvIGEgZnVsbCBwaXBlIGRlZmluaXRpb24gb2JqZWN0LlxuICpcbiAqIEBjb2RlR2VuQXBpXG4gKi9cbmZ1bmN0aW9uIMm1ybVuZ0RlY2xhcmVQaXBlKGRlY2wpIHtcbiAgICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyRmFjYWRlKHsgdXNhZ2U6IDEgLyogUGFydGlhbERlY2xhcmF0aW9uICovLCBraW5kOiAncGlwZScsIHR5cGU6IGRlY2wudHlwZSB9KTtcbiAgICByZXR1cm4gY29tcGlsZXIuY29tcGlsZVBpcGVEZWNsYXJhdGlvbihhbmd1bGFyQ29yZUVudiwgYG5nOi8vLyR7ZGVjbC50eXBlLm5hbWV9L8m1cGlwZS5qc2AsIGRlY2wpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIGNsYW5nLWZvcm1hdCBvblxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmlmICh0eXBlb2YgbmdEZXZNb2RlICE9PSAndW5kZWZpbmVkJyAmJiBuZ0Rldk1vZGUpIHtcbiAgICAvLyBUaGlzIGhlbHBlciBpcyB0byBnaXZlIGEgcmVhc29uYWJsZSBlcnJvciBtZXNzYWdlIHRvIHBlb3BsZSB1cGdyYWRpbmcgdG8gdjkgdGhhdCBoYXZlIG5vdCB5ZXRcbiAgICAvLyBpbnN0YWxsZWQgYEBhbmd1bGFyL2xvY2FsaXplYCBpbiB0aGVpciBhcHAuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby10b3BsZXZlbC1wcm9wZXJ0eS1hY2Nlc3NcbiAgICBfZ2xvYmFsLiRsb2NhbGl6ZSA9IF9nbG9iYWwuJGxvY2FsaXplIHx8IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdCBsb29rcyBsaWtlIHlvdXIgYXBwbGljYXRpb24gb3Igb25lIG9mIGl0cyBkZXBlbmRlbmNpZXMgaXMgdXNpbmcgaTE4bi5cXG4nICtcbiAgICAgICAgICAgICdBbmd1bGFyIDkgaW50cm9kdWNlZCBhIGdsb2JhbCBgJGxvY2FsaXplKClgIGZ1bmN0aW9uIHRoYXQgbmVlZHMgdG8gYmUgbG9hZGVkLlxcbicgK1xuICAgICAgICAgICAgJ1BsZWFzZSBydW4gYG5nIGFkZCBAYW5ndWxhci9sb2NhbGl6ZWAgZnJvbSB0aGUgQW5ndWxhciBDTEkuXFxuJyArXG4gICAgICAgICAgICAnKEZvciBub24tQ0xJIHByb2plY3RzLCBhZGQgYGltcG9ydCBcXCdAYW5ndWxhci9sb2NhbGl6ZS9pbml0XFwnO2AgdG8geW91ciBgcG9seWZpbGxzLnRzYCBmaWxlLlxcbicgK1xuICAgICAgICAgICAgJ0ZvciBzZXJ2ZXItc2lkZSByZW5kZXJpbmcgYXBwbGljYXRpb25zIGFkZCB0aGUgaW1wb3J0IHRvIHlvdXIgYG1haW4uc2VydmVyLnRzYCBmaWxlLiknKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFRoaXMgZmlsZSBvbmx5IHJlZXhwb3J0cyBjb250ZW50IG9mIHRoZSBgc3JjYCBmb2xkZXIuIEtlZXAgaXQgdGhhdCB3YXkuXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEdlbmVyYXRlZCBidW5kbGUgaW5kZXguIERvIG5vdCBlZGl0LlxuICovXG5cbmV4cG9ydCB7IEFOQUxZWkVfRk9SX0VOVFJZX0NPTVBPTkVOVFMsIEFQUF9CT09UU1RSQVBfTElTVEVORVIsIEFQUF9JRCwgQVBQX0lOSVRJQUxJWkVSLCBBcHBsaWNhdGlvbkluaXRTdGF0dXMsIEFwcGxpY2F0aW9uTW9kdWxlLCBBcHBsaWNhdGlvblJlZiwgQXR0cmlidXRlLCBDT01QSUxFUl9PUFRJT05TLCBDVVNUT01fRUxFTUVOVFNfU0NIRU1BLCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ2hhbmdlRGV0ZWN0b3JSZWYsIENvbXBpbGVyLCBDb21waWxlckZhY3RvcnksIENvbXBvbmVudCwgQ29tcG9uZW50RmFjdG9yeSQxIGFzIENvbXBvbmVudEZhY3RvcnksIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQxIGFzIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgQ29tcG9uZW50UmVmJDEgYXMgQ29tcG9uZW50UmVmLCBDb250ZW50Q2hpbGQsIENvbnRlbnRDaGlsZHJlbiwgREVGQVVMVF9DVVJSRU5DWV9DT0RFLCBEZWJ1Z0VsZW1lbnQsIERlYnVnRXZlbnRMaXN0ZW5lciwgRGVidWdOb2RlLCBEZWZhdWx0SXRlcmFibGVEaWZmZXIsIERpcmVjdGl2ZSwgRWxlbWVudFJlZiwgRW1iZWRkZWRWaWV3UmVmLCBFcnJvckhhbmRsZXIsIEV2ZW50RW1pdHRlciwgSG9zdCwgSG9zdEJpbmRpbmcsIEhvc3RMaXN0ZW5lciwgSU5KRUNUT1IsIEluamVjdCwgSW5qZWN0RmxhZ3MsIEluamVjdGFibGUsIEluamVjdGlvblRva2VuLCBJbmplY3RvciwgSW5wdXQsIEl0ZXJhYmxlRGlmZmVycywgS2V5VmFsdWVEaWZmZXJzLCBMT0NBTEVfSUQsIE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5LCBNb2R1bGVXaXRoQ29tcG9uZW50RmFjdG9yaWVzLCBOT19FUlJPUlNfU0NIRU1BLCBOZ01vZHVsZSwgTmdNb2R1bGVGYWN0b3J5JDEgYXMgTmdNb2R1bGVGYWN0b3J5LCBOZ01vZHVsZVJlZiQxIGFzIE5nTW9kdWxlUmVmLCBOZ1Byb2JlVG9rZW4sIE5nWm9uZSwgT3B0aW9uYWwsIE91dHB1dCwgUEFDS0FHRV9ST09UX1VSTCwgUExBVEZPUk1fSUQsIFBMQVRGT1JNX0lOSVRJQUxJWkVSLCBQaXBlLCBQbGF0Zm9ybVJlZiwgUXVlcnksIFF1ZXJ5TGlzdCwgUmVmbGVjdGl2ZUluamVjdG9yLCBSZWZsZWN0aXZlS2V5LCBSZW5kZXJlcjIsIFJlbmRlcmVyRmFjdG9yeTIsIFJlbmRlcmVyU3R5bGVGbGFnczIsIFJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnksIFNhbml0aXplciwgU2VjdXJpdHlDb250ZXh0LCBTZWxmLCBTaW1wbGVDaGFuZ2UsIFNraXBTZWxmLCBUUkFOU0xBVElPTlMsIFRSQU5TTEFUSU9OU19GT1JNQVQsIFRlbXBsYXRlUmVmLCBUZXN0YWJpbGl0eSwgVGVzdGFiaWxpdHlSZWdpc3RyeSwgVHlwZSwgVkVSU0lPTiwgVmVyc2lvbiwgVmlld0NoaWxkLCBWaWV3Q2hpbGRyZW4sIFZpZXdDb250YWluZXJSZWYsIFZpZXdFbmNhcHN1bGF0aW9uJDEgYXMgVmlld0VuY2Fwc3VsYXRpb24sIFZpZXdSZWYsIGFzTmF0aXZlRWxlbWVudHMsIGFzc2VydFBsYXRmb3JtLCBjcmVhdGVOZ01vZHVsZVJlZiwgY3JlYXRlUGxhdGZvcm0sIGNyZWF0ZVBsYXRmb3JtRmFjdG9yeSwgZGVmaW5lSW5qZWN0YWJsZSwgZGVzdHJveVBsYXRmb3JtLCBlbmFibGVQcm9kTW9kZSwgZm9yd2FyZFJlZiwgZ2V0RGVidWdOb2RlLCBnZXRNb2R1bGVGYWN0b3J5LCBnZXROZ01vZHVsZUJ5SWQsIGdldFBsYXRmb3JtLCBpbmplY3QsIGlzRGV2TW9kZSwgcGxhdGZvcm1Db3JlLCByZXNvbHZlRm9yd2FyZFJlZiwgc2V0VGVzdGFiaWxpdHlHZXR0ZXIsIEFMTE9XX01VTFRJUExFX1BMQVRGT1JNUyBhcyDJtUFMTE9XX01VTFRJUExFX1BMQVRGT1JNUywgQVBQX0lEX1JBTkRPTV9QUk9WSURFUiBhcyDJtUFQUF9JRF9SQU5ET01fUFJPVklERVIsIENoYW5nZURldGVjdG9yU3RhdHVzIGFzIMm1Q2hhbmdlRGV0ZWN0b3JTdGF0dXMsIENvbXBvbmVudEZhY3RvcnkkMSBhcyDJtUNvbXBvbmVudEZhY3RvcnksIENvbnNvbGUgYXMgybVDb25zb2xlLCBERUZBVUxUX0xPQ0FMRV9JRCBhcyDJtURFRkFVTFRfTE9DQUxFX0lELCBJTkpFQ1RPUl9TQ09QRSBhcyDJtUlOSkVDVE9SX1NDT1BFLCBMaWZlY3ljbGVIb29rc0ZlYXR1cmUgYXMgybVMaWZlY3ljbGVIb29rc0ZlYXR1cmUsIExvY2FsZURhdGFJbmRleCBhcyDJtUxvY2FsZURhdGFJbmRleCwgTkdfQ09NUF9ERUYgYXMgybVOR19DT01QX0RFRiwgTkdfRElSX0RFRiBhcyDJtU5HX0RJUl9ERUYsIE5HX0VMRU1FTlRfSUQgYXMgybVOR19FTEVNRU5UX0lELCBOR19JTkpfREVGIGFzIMm1TkdfSU5KX0RFRiwgTkdfTU9EX0RFRiBhcyDJtU5HX01PRF9ERUYsIE5HX1BJUEVfREVGIGFzIMm1TkdfUElQRV9ERUYsIE5HX1BST1ZfREVGIGFzIMm1TkdfUFJPVl9ERUYsIE5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IgYXMgybVOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SLCBOT19DSEFOR0UgYXMgybVOT19DSEFOR0UsIE5nTW9kdWxlRmFjdG9yeSBhcyDJtU5nTW9kdWxlRmFjdG9yeSwgTm9vcE5nWm9uZSBhcyDJtU5vb3BOZ1pvbmUsIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMgYXMgybVSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLCBDb21wb25lbnRGYWN0b3J5IGFzIMm1UmVuZGVyM0NvbXBvbmVudEZhY3RvcnksIENvbXBvbmVudFJlZiBhcyDJtVJlbmRlcjNDb21wb25lbnRSZWYsIE5nTW9kdWxlUmVmIGFzIMm1UmVuZGVyM05nTW9kdWxlUmVmLCBSdW50aW1lRXJyb3IgYXMgybVSdW50aW1lRXJyb3IsIFZpZXdSZWYkMSBhcyDJtVZpZXdSZWYsIF9zYW5pdGl6ZUh0bWwgYXMgybVfc2FuaXRpemVIdG1sLCBfc2FuaXRpemVVcmwgYXMgybVfc2FuaXRpemVVcmwsIGFsbG93U2FuaXRpemF0aW9uQnlwYXNzQW5kVGhyb3cgYXMgybVhbGxvd1Nhbml0aXphdGlvbkJ5cGFzc0FuZFRocm93LCBieXBhc3NTYW5pdGl6YXRpb25UcnVzdEh0bWwgYXMgybVieXBhc3NTYW5pdGl6YXRpb25UcnVzdEh0bWwsIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0UmVzb3VyY2VVcmwgYXMgybVieXBhc3NTYW5pdGl6YXRpb25UcnVzdFJlc291cmNlVXJsLCBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFNjcmlwdCBhcyDJtWJ5cGFzc1Nhbml0aXphdGlvblRydXN0U2NyaXB0LCBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFN0eWxlIGFzIMm1YnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTdHlsZSwgYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RVcmwgYXMgybVieXBhc3NTYW5pdGl6YXRpb25UcnVzdFVybCwgY2xlYXJSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXNRdWV1ZSBhcyDJtWNsZWFyUmVzb2x1dGlvbk9mQ29tcG9uZW50UmVzb3VyY2VzUXVldWUsIGNvbXBpbGVDb21wb25lbnQgYXMgybVjb21waWxlQ29tcG9uZW50LCBjb21waWxlRGlyZWN0aXZlIGFzIMm1Y29tcGlsZURpcmVjdGl2ZSwgY29tcGlsZU5nTW9kdWxlIGFzIMm1Y29tcGlsZU5nTW9kdWxlLCBjb21waWxlTmdNb2R1bGVEZWZzIGFzIMm1Y29tcGlsZU5nTW9kdWxlRGVmcywgY29tcGlsZU5nTW9kdWxlRmFjdG9yeSBhcyDJtWNvbXBpbGVOZ01vZHVsZUZhY3RvcnksIGNvbXBpbGVQaXBlIGFzIMm1Y29tcGlsZVBpcGUsIGNyZWF0ZUluamVjdG9yIGFzIMm1Y3JlYXRlSW5qZWN0b3IsIGRlZmF1bHRJdGVyYWJsZURpZmZlcnMgYXMgybVkZWZhdWx0SXRlcmFibGVEaWZmZXJzLCBkZWZhdWx0S2V5VmFsdWVEaWZmZXJzIGFzIMm1ZGVmYXVsdEtleVZhbHVlRGlmZmVycywgZGV0ZWN0Q2hhbmdlcyBhcyDJtWRldGVjdENoYW5nZXMsIGRldk1vZGVFcXVhbCBhcyDJtWRldk1vZGVFcXVhbCwgZmluZExvY2FsZURhdGEgYXMgybVmaW5kTG9jYWxlRGF0YSwgZmx1c2hNb2R1bGVTY29waW5nUXVldWVBc011Y2hBc1Bvc3NpYmxlIGFzIMm1Zmx1c2hNb2R1bGVTY29waW5nUXVldWVBc011Y2hBc1Bvc3NpYmxlLCBnZXREZWJ1Z05vZGUgYXMgybVnZXREZWJ1Z05vZGUsIGdldERlYnVnTm9kZVIyIGFzIMm1Z2V0RGVidWdOb2RlUjIsIGdldERpcmVjdGl2ZXMgYXMgybVnZXREaXJlY3RpdmVzLCBnZXRIb3N0RWxlbWVudCBhcyDJtWdldEhvc3RFbGVtZW50LCBnZXRJbmplY3RhYmxlRGVmIGFzIMm1Z2V0SW5qZWN0YWJsZURlZiwgZ2V0TENvbnRleHQgYXMgybVnZXRMQ29udGV4dCwgZ2V0TG9jYWxlQ3VycmVuY3lDb2RlIGFzIMm1Z2V0TG9jYWxlQ3VycmVuY3lDb2RlLCBnZXRMb2NhbGVQbHVyYWxDYXNlIGFzIMm1Z2V0TG9jYWxlUGx1cmFsQ2FzZSwgZ2V0U2FuaXRpemF0aW9uQnlwYXNzVHlwZSBhcyDJtWdldFNhbml0aXphdGlvbkJ5cGFzc1R5cGUsIF9nbG9iYWwgYXMgybVnbG9iYWwsIGluamVjdENoYW5nZURldGVjdG9yUmVmIGFzIMm1aW5qZWN0Q2hhbmdlRGV0ZWN0b3JSZWYsIGlzQm91bmRUb01vZHVsZSBhcyDJtWlzQm91bmRUb01vZHVsZSwgaXNEZWZhdWx0Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgYXMgybVpc0RlZmF1bHRDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgaXNMaXN0TGlrZUl0ZXJhYmxlIGFzIMm1aXNMaXN0TGlrZUl0ZXJhYmxlLCBpc09ic2VydmFibGUgYXMgybVpc09ic2VydmFibGUsIGlzUHJvbWlzZSBhcyDJtWlzUHJvbWlzZSwgaXNTdWJzY3JpYmFibGUgYXMgybVpc1N1YnNjcmliYWJsZSwgybVpdnlFbmFibGVkLCBtYWtlRGVjb3JhdG9yIGFzIMm1bWFrZURlY29yYXRvciwgbWFya0RpcnR5IGFzIMm1bWFya0RpcnR5LCBub1NpZGVFZmZlY3RzIGFzIMm1bm9TaWRlRWZmZWN0cywgcGF0Y2hDb21wb25lbnREZWZXaXRoU2NvcGUgYXMgybVwYXRjaENvbXBvbmVudERlZldpdGhTY29wZSwgcHVibGlzaERlZmF1bHRHbG9iYWxVdGlscyQxIGFzIMm1cHVibGlzaERlZmF1bHRHbG9iYWxVdGlscywgcHVibGlzaEdsb2JhbFV0aWwgYXMgybVwdWJsaXNoR2xvYmFsVXRpbCwgcmVnaXN0ZXJMb2NhbGVEYXRhIGFzIMm1cmVnaXN0ZXJMb2NhbGVEYXRhLCByZWdpc3Rlck5nTW9kdWxlVHlwZSBhcyDJtXJlZ2lzdGVyTmdNb2R1bGVUeXBlLCByZW5kZXJDb21wb25lbnQgYXMgybVyZW5kZXJDb21wb25lbnQsIHJlc2V0Q29tcGlsZWRDb21wb25lbnRzIGFzIMm1cmVzZXRDb21waWxlZENvbXBvbmVudHMsIHJlc2V0Sml0T3B0aW9ucyBhcyDJtXJlc2V0Sml0T3B0aW9ucywgcmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcyBhcyDJtXJlc29sdmVDb21wb25lbnRSZXNvdXJjZXMsIHNldENsYXNzTWV0YWRhdGEgYXMgybVzZXRDbGFzc01ldGFkYXRhLCBzZXRDdXJyZW50SW5qZWN0b3IgYXMgybVzZXRDdXJyZW50SW5qZWN0b3IsIHNldERvY3VtZW50IGFzIMm1c2V0RG9jdW1lbnQsIHNldExvY2FsZUlkIGFzIMm1c2V0TG9jYWxlSWQsIHN0b3JlIGFzIMm1c3RvcmUsIHN0cmluZ2lmeSBhcyDJtXN0cmluZ2lmeSwgdHJhbnNpdGl2ZVNjb3Blc0ZvciBhcyDJtXRyYW5zaXRpdmVTY29wZXNGb3IsIHVucmVnaXN0ZXJBbGxMb2NhbGVEYXRhIGFzIMm1dW5yZWdpc3RlckxvY2FsZURhdGEsIHVud3JhcFNhZmVWYWx1ZSBhcyDJtXVud3JhcFNhZmVWYWx1ZSwgd2hlblJlbmRlcmVkIGFzIMm1d2hlblJlbmRlcmVkLCDJtcm1Q29weURlZmluaXRpb25GZWF0dXJlLCBGYWN0b3J5VGFyZ2V0IGFzIMm1ybVGYWN0b3J5VGFyZ2V0LCDJtcm1SW5oZXJpdERlZmluaXRpb25GZWF0dXJlLCDJtcm1TmdPbkNoYW5nZXNGZWF0dXJlLCDJtcm1UHJvdmlkZXJzRmVhdHVyZSwgybXJtWFkdmFuY2UsIMm1ybVhdHRyaWJ1dGUsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTEsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTIsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTMsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTQsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTUsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTYsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTcsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZTgsIMm1ybVhdHRyaWJ1dGVJbnRlcnBvbGF0ZVYsIMm1ybVjbGFzc01hcCwgybXJtWNsYXNzTWFwSW50ZXJwb2xhdGUxLCDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTIsIMm1ybVjbGFzc01hcEludGVycG9sYXRlMywgybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU0LCDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTUsIMm1ybVjbGFzc01hcEludGVycG9sYXRlNiwgybXJtWNsYXNzTWFwSW50ZXJwb2xhdGU3LCDJtcm1Y2xhc3NNYXBJbnRlcnBvbGF0ZTgsIMm1ybVjbGFzc01hcEludGVycG9sYXRlViwgybXJtWNsYXNzUHJvcCwgybXJtWNvbnRlbnRRdWVyeSwgybXJtWRlZmluZUNvbXBvbmVudCwgybXJtWRlZmluZURpcmVjdGl2ZSwgybXJtWRlZmluZUluamVjdGFibGUsIMm1ybVkZWZpbmVJbmplY3RvciwgybXJtWRlZmluZU5nTW9kdWxlLCDJtcm1ZGVmaW5lUGlwZSwgybXJtWRpcmVjdGl2ZUluamVjdCwgybXJtWRpc2FibGVCaW5kaW5ncywgybXJtWVsZW1lbnQsIMm1ybVlbGVtZW50Q29udGFpbmVyLCDJtcm1ZWxlbWVudENvbnRhaW5lckVuZCwgybXJtWVsZW1lbnRDb250YWluZXJTdGFydCwgybXJtWVsZW1lbnRFbmQsIMm1ybVlbGVtZW50U3RhcnQsIMm1ybVlbmFibGVCaW5kaW5ncywgybXJtWdldEN1cnJlbnRWaWV3LCDJtcm1Z2V0SW5oZXJpdGVkRmFjdG9yeSwgybXJtWhvc3RQcm9wZXJ0eSwgybXJtWkxOG4sIMm1ybVpMThuQXBwbHksIMm1ybVpMThuQXR0cmlidXRlcywgybXJtWkxOG5FbmQsIMm1ybVpMThuRXhwLCDJtcm1aTE4blBvc3Rwcm9jZXNzLCDJtcm1aTE4blN0YXJ0LCDJtcm1aW5qZWN0LCDJtcm1aW5qZWN0QXR0cmlidXRlLCDJtcm1aW52YWxpZEZhY3RvcnksIMm1ybVpbnZhbGlkRmFjdG9yeURlcCwgybXJtWxpc3RlbmVyLCDJtcm1bG9hZFF1ZXJ5LCDJtcm1bmFtZXNwYWNlSFRNTCwgybXJtW5hbWVzcGFjZU1hdGhNTCwgybXJtW5hbWVzcGFjZVNWRywgybXJtW5leHRDb250ZXh0LCDJtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSwgybXJtW5nRGVjbGFyZUNvbXBvbmVudCwgybXJtW5nRGVjbGFyZURpcmVjdGl2ZSwgybXJtW5nRGVjbGFyZUZhY3RvcnksIMm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlLCDJtcm1bmdEZWNsYXJlSW5qZWN0b3IsIMm1ybVuZ0RlY2xhcmVOZ01vZHVsZSwgybXJtW5nRGVjbGFyZVBpcGUsIMm1ybVwaXBlLCDJtcm1cGlwZUJpbmQxLCDJtcm1cGlwZUJpbmQyLCDJtcm1cGlwZUJpbmQzLCDJtcm1cGlwZUJpbmQ0LCDJtcm1cGlwZUJpbmRWLCDJtcm1cHJvamVjdGlvbiwgybXJtXByb2plY3Rpb25EZWYsIMm1ybVwcm9wZXJ0eSwgybXJtXByb3BlcnR5SW50ZXJwb2xhdGUsIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlMSwgybXJtXByb3BlcnR5SW50ZXJwb2xhdGUyLCDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTMsIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNCwgybXJtXByb3BlcnR5SW50ZXJwb2xhdGU1LCDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZTYsIMm1ybVwcm9wZXJ0eUludGVycG9sYXRlNywgybXJtXByb3BlcnR5SW50ZXJwb2xhdGU4LCDJtcm1cHJvcGVydHlJbnRlcnBvbGF0ZVYsIMm1ybVwdXJlRnVuY3Rpb24wLCDJtcm1cHVyZUZ1bmN0aW9uMSwgybXJtXB1cmVGdW5jdGlvbjIsIMm1ybVwdXJlRnVuY3Rpb24zLCDJtcm1cHVyZUZ1bmN0aW9uNCwgybXJtXB1cmVGdW5jdGlvbjUsIMm1ybVwdXJlRnVuY3Rpb242LCDJtcm1cHVyZUZ1bmN0aW9uNywgybXJtXB1cmVGdW5jdGlvbjgsIMm1ybVwdXJlRnVuY3Rpb25WLCDJtcm1cXVlcnlSZWZyZXNoLCDJtcm1cmVmZXJlbmNlLCDJtcm1cmVzb2x2ZUJvZHksIMm1ybVyZXNvbHZlRG9jdW1lbnQsIMm1ybVyZXNvbHZlV2luZG93LCDJtcm1cmVzdG9yZVZpZXcsIMm1ybVzYW5pdGl6ZUh0bWwsIMm1ybVzYW5pdGl6ZVJlc291cmNlVXJsLCDJtcm1c2FuaXRpemVTY3JpcHQsIMm1ybVzYW5pdGl6ZVN0eWxlLCDJtcm1c2FuaXRpemVVcmwsIMm1ybVzYW5pdGl6ZVVybE9yUmVzb3VyY2VVcmwsIMm1ybVzZXRDb21wb25lbnRTY29wZSwgybXJtXNldE5nTW9kdWxlU2NvcGUsIMm1ybVzdHlsZU1hcCwgybXJtXN0eWxlTWFwSW50ZXJwb2xhdGUxLCDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTIsIMm1ybVzdHlsZU1hcEludGVycG9sYXRlMywgybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU0LCDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTUsIMm1ybVzdHlsZU1hcEludGVycG9sYXRlNiwgybXJtXN0eWxlTWFwSW50ZXJwb2xhdGU3LCDJtcm1c3R5bGVNYXBJbnRlcnBvbGF0ZTgsIMm1ybVzdHlsZU1hcEludGVycG9sYXRlViwgybXJtXN0eWxlUHJvcCwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlMSwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlMiwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlMywgybXJtXN0eWxlUHJvcEludGVycG9sYXRlNCwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlNSwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlNiwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlNywgybXJtXN0eWxlUHJvcEludGVycG9sYXRlOCwgybXJtXN0eWxlUHJvcEludGVycG9sYXRlViwgybXJtXN5bnRoZXRpY0hvc3RMaXN0ZW5lciwgybXJtXN5bnRoZXRpY0hvc3RQcm9wZXJ0eSwgybXJtXRlbXBsYXRlLCDJtcm1dGVtcGxhdGVSZWZFeHRyYWN0b3IsIMm1ybV0ZXh0LCDJtcm1dGV4dEludGVycG9sYXRlLCDJtcm1dGV4dEludGVycG9sYXRlMSwgybXJtXRleHRJbnRlcnBvbGF0ZTIsIMm1ybV0ZXh0SW50ZXJwb2xhdGUzLCDJtcm1dGV4dEludGVycG9sYXRlNCwgybXJtXRleHRJbnRlcnBvbGF0ZTUsIMm1ybV0ZXh0SW50ZXJwb2xhdGU2LCDJtcm1dGV4dEludGVycG9sYXRlNywgybXJtXRleHRJbnRlcnBvbGF0ZTgsIMm1ybV0ZXh0SW50ZXJwb2xhdGVWLCDJtcm1dHJ1c3RDb25zdGFudEh0bWwsIMm1ybV0cnVzdENvbnN0YW50UmVzb3VyY2VVcmwsIMm1ybV2aWV3UXVlcnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmUubWpzLm1hcFxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJleHBvcnQgeyBTaWduYWxpbmdTZXJ2ZXIgfSBmcm9tIFwiLi9zaWduYWxpbmdTZXJ2ZXJcIjtcbmV4cG9ydCB7IFdlYlJ0Y1Byb3ZpZGVyIH0gZnJvbSBcIi4vd2ViUnRjLnByb3ZpZGVyXCI7XG5leHBvcnQgeyBQcm9vZm1lVXRpbHNQcm92aWRlciB9IGZyb20gXCIuL3Byb29mbWUtdXRpbHMucHJvdmlkZXJcIjtcbmV4cG9ydCB7IElSVENDb25uZWN0aW9uQ29uZmlnIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9ydGNDb25uZWN0aW9uQ29uZmlnLmludGVyZmFjZVwiO1xuZXhwb3J0IHsgSVdlYlJUQ0NvbmZpZyB9IGZyb20gXCIuL2ludGVyZmFjZXMvd2ViUnRjQ29uZmlnLmludGVyZmFjZVwiO1xuZXhwb3J0IHsgSVByb29mT2JqZWN0IH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9wcm9vZi1vYmplY3QuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJUHJvb2YgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3Byb29mLmludGVyZmFjZVwiO1xuZXhwb3J0IHsgSUNoZWNrZWREaWQgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL2NoZWNrZWREaWQuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbEtleSB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbEtleS5pbnRlcmZhY2VcIjtcbmV4cG9ydCB7IElWYWxpZGF0ZWRDcmVkZW50aWFscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvdmFsaWRhdGVkQ3JlZGVudGlhbHMuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJQ3JlZGVudGlhbE9iamVjdCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY3JlZGVudGlhbHNPYmplY3QuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJQ3JlZGVudGlhbEtleU9iamVjdCB9IGZyb20gXCIuL2ludGVyZmFjZXMvY3JlZGVudGlhbEtleU9iamVjdC5pbnRlcmZhY2VcIjtcbmV4cG9ydCB7IElSZXF1ZXN0ZWRDcmVkZW50aWFscyB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHMuaW50ZXJmYWNlXCI7XG5leHBvcnQgeyBJUmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdCB9IGZyb20gXCIuL2ludGVyZmFjZXMvcmVxdWVzdGVkQ3JlZGVudGlhbHNDaGVja1Jlc3VsdFwiO1xuZXhwb3J0IHsgY2FsY3VsYXRlTWludXRlc0RpZmZlcmVuY2UgfSBmcm9tIFwiLi9mdW5jdGlvbnMvZnVuY3Rpb25zXCJcbmV4cG9ydCB7IGRpZENvbnRyYWN0S2V5V3JvbmcgfSBmcm9tIFwiLi9mdW5jdGlvbnMvZnVuY3Rpb25zXCJcbmV4cG9ydCB7IGdldEtleVB1cnBvc2UgfSBmcm9tIFwiLi9mdW5jdGlvbnMvZnVuY3Rpb25zXCJcbmV4cG9ydCB7IGdldFNoYTNLZXkgfSBmcm9tIFwiLi9mdW5jdGlvbnMvZnVuY3Rpb25zXCJcbmV4cG9ydCB7IHJlT3JkZXJQcm9vZk9iamVjdCB9IGZyb20gXCIuL2Z1bmN0aW9ucy9mdW5jdGlvbnNcIlxuZXhwb3J0IHsgaXNzdWVyQ3JlZGVudGlhbFNpZ25hdHVyZVdyb25nIH0gZnJvbSBcIi4vZnVuY3Rpb25zL2Z1bmN0aW9uc1wiXG5leHBvcnQgeyBrbm93bkFkZHJlc3Nlc0NvbnRhaW5zIH0gZnJvbSBcIi4vZnVuY3Rpb25zL2Z1bmN0aW9uc1wiXG5leHBvcnQgeyB1c2VyQ3JlZGVudGlhbFNpZ25hdHVyZVdyb25nIH0gZnJvbSBcIi4vZnVuY3Rpb25zL2Z1bmN0aW9uc1wiXG5leHBvcnQgeyB2YWxpZENyZWRlbnRpYWxzRnVuYyB9IGZyb20gXCIuL2Z1bmN0aW9ucy9mdW5jdGlvbnNcIlxuZXhwb3J0IHsgdmFsaWRDcmVkZW50aWFsc1RydXN0ZWRQYXJ0aWVzRnVuYyB9IGZyb20gXCIuL2Z1bmN0aW9ucy9mdW5jdGlvbnNcIlxuZXhwb3J0IHsgc2lnbkNyZWRlbnRpYWxPYmplY3QgfSBmcm9tIFwiLi9mdW5jdGlvbnMvZnVuY3Rpb25zXCJcbmV4cG9ydCB7IHNpZ25Qcm9vZk9iamVjdCB9IGZyb20gXCIuL2Z1bmN0aW9ucy9mdW5jdGlvbnNcIlxuZXhwb3J0IHsgc2lnbkNyZWRlbnRpYWwgfSBmcm9tIFwiLi9mdW5jdGlvbnMvZnVuY3Rpb25zXCJcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJnbG9iYWwiLCJleHRlbmRTdGF0aWNzIiwiX19leHRlbmRzIiwidGhpcyIsImQiLCJiIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJUeXBlRXJyb3IiLCJTdHJpbmciLCJfXyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIkFzeW5jU3ViamVjdCIsIl9zdXBlciIsIl90aGlzIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfdmFsdWUiLCJfaGFzVmFsdWUiLCJfaXNDb21wbGV0ZSIsIl9jaGVja0ZpbmFsaXplZFN0YXR1c2VzIiwic3Vic2NyaWJlciIsIl9hIiwiaGFzRXJyb3IiLCJ0aHJvd25FcnJvciIsImlzU3RvcHBlZCIsImVycm9yIiwibmV4dCIsImNvbXBsZXRlIiwiU3ViamVjdCIsIkJlaGF2aW9yU3ViamVjdCIsImdldCIsImdldFZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIl9zdWJzY3JpYmUiLCJzdWJzY3JpcHRpb24iLCJjbG9zZWQiLCJfdGhyb3dJZkNsb3NlZCIsIm9ic2VydmVOb3RpZmljYXRpb24iLCJOb3RpZmljYXRpb24iLCJOb3RpZmljYXRpb25LaW5kIiwiZW1wdHlfMSIsIm9mXzEiLCJ0aHJvd0Vycm9yXzEiLCJpc0Z1bmN0aW9uXzEiLCJraW5kIiwiaGFzVmFsdWUiLCJvYnNlcnZlIiwib2JzZXJ2ZXIiLCJkbyIsIm5leHRIYW5kbGVyIiwiZXJyb3JIYW5kbGVyIiwiY29tcGxldGVIYW5kbGVyIiwiYWNjZXB0IiwibmV4dE9yT2JzZXJ2ZXIiLCJpc0Z1bmN0aW9uIiwidG9PYnNlcnZhYmxlIiwicmVzdWx0Iiwib2YiLCJ0aHJvd0Vycm9yIiwiRU1QVFkiLCJjcmVhdGVOZXh0IiwiY3JlYXRlRXJyb3IiLCJlcnIiLCJ1bmRlZmluZWQiLCJjcmVhdGVDb21wbGV0ZSIsImNvbXBsZXRlTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uIiwiX2IiLCJfYyIsIl9kIiwiY3JlYXRlTm90aWZpY2F0aW9uIiwibmV4dE5vdGlmaWNhdGlvbiIsImVycm9yTm90aWZpY2F0aW9uIiwiQ09NUExFVEVfTk9USUZJQ0FUSU9OIiwiT2JzZXJ2YWJsZSIsIlN1YnNjcmliZXJfMSIsIlN1YnNjcmlwdGlvbl8xIiwib2JzZXJ2YWJsZV8xIiwicGlwZV8xIiwiY29uZmlnXzEiLCJlcnJvckNvbnRleHRfMSIsInN1YnNjcmliZSIsImxpZnQiLCJvcGVyYXRvciIsIm9ic2VydmFibGUiLCJzb3VyY2UiLCJvYnNlcnZlck9yTmV4dCIsIlN1YnNjcmliZXIiLCJpc09ic2VydmVyIiwiaXNTdWJzY3JpcHRpb24iLCJTYWZlU3Vic2NyaWJlciIsImVycm9yQ29udGV4dCIsImFkZCIsIl90cnlTdWJzY3JpYmUiLCJzaW5rIiwiZm9yRWFjaCIsInByb21pc2VDdG9yIiwiZ2V0UHJvbWlzZUN0b3IiLCJyZXNvbHZlIiwicmVqZWN0IiwidW5zdWJzY3JpYmUiLCJwaXBlIiwib3BlcmF0aW9ucyIsIl9pIiwibGVuZ3RoIiwicGlwZUZyb21BcnJheSIsInRvUHJvbWlzZSIsIngiLCJjb25maWciLCJQcm9taXNlIiwiUmVwbGF5U3ViamVjdCIsIlN1YmplY3RfMSIsImRhdGVUaW1lc3RhbXBQcm92aWRlcl8xIiwiX2J1ZmZlclNpemUiLCJfd2luZG93VGltZSIsIl90aW1lc3RhbXBQcm92aWRlciIsIkluZmluaXR5IiwiZGF0ZVRpbWVzdGFtcFByb3ZpZGVyIiwiX2J1ZmZlciIsIl9pbmZpbml0ZVRpbWVXaW5kb3ciLCJNYXRoIiwibWF4IiwicHVzaCIsIm5vdyIsIl90cmltQnVmZmVyIiwiX2lubmVyU3Vic2NyaWJlIiwiY29weSIsInNsaWNlIiwiaSIsImFkanVzdGVkQnVmZmVyU2l6ZSIsInNwbGljZSIsImxhc3QiLCJTY2hlZHVsZXIiLCJzY2hlZHVsZXJBY3Rpb25DdG9yIiwic2NoZWR1bGUiLCJ3b3JrIiwiZGVsYXkiLCJzdGF0ZSIsIl9fdmFsdWVzIiwibyIsInMiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm0iLCJkb25lIiwiQW5vbnltb3VzU3ViamVjdCIsIk9ic2VydmFibGVfMSIsIk9iamVjdFVuc3Vic2NyaWJlZEVycm9yXzEiLCJhcnJSZW1vdmVfMSIsIm9ic2VydmVycyIsInN1YmplY3QiLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsImVfMSIsImNvcHlfMSIsImNvcHlfMV8xIiwiZV8xXzEiLCJyZXR1cm4iLCJzaGlmdCIsIkVNUFRZX1NVQlNDUklQVElPTiIsIlN1YnNjcmlwdGlvbiIsImFyclJlbW92ZSIsImFzT2JzZXJ2YWJsZSIsImRlc3RpbmF0aW9uIiwiRU1QVFlfT0JTRVJWRVIiLCJyZXBvcnRVbmhhbmRsZWRFcnJvcl8xIiwibm9vcF8xIiwiTm90aWZpY2F0aW9uRmFjdG9yaWVzXzEiLCJ0aW1lb3V0UHJvdmlkZXJfMSIsImhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24iLCJfbmV4dCIsIl9lcnJvciIsIl9jb21wbGV0ZSIsIl9iaW5kIiwiRnVuY3Rpb24iLCJiaW5kIiwiZm4iLCJ0aGlzQXJnIiwiQ29uc3VtZXJPYnNlcnZlciIsInBhcnRpYWxPYnNlcnZlciIsImhhbmRsZVVuaGFuZGxlZEVycm9yIiwiY29udGV4dF8xIiwidXNlRGVwcmVjYXRlZE5leHRDb250ZXh0IiwidXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyIsImNhcHR1cmVFcnJvciIsInJlcG9ydFVuaGFuZGxlZEVycm9yIiwib25TdG9wcGVkTm90aWZpY2F0aW9uIiwidGltZW91dFByb3ZpZGVyIiwic2V0VGltZW91dCIsIm5vb3AiLCJfX3JlYWQiLCJuIiwiciIsImUiLCJhciIsIl9fc3ByZWFkQXJyYXkiLCJ0byIsImZyb20iLCJpbCIsImoiLCJVbnN1YnNjcmlwdGlvbkVycm9yXzEiLCJpbml0aWFsVGVhcmRvd24iLCJfcGFyZW50YWdlIiwiX3RlYXJkb3ducyIsImVtcHR5IiwiZV8yIiwiZXJyb3JzIiwiaXNBcnJheSIsIl9wYXJlbnRhZ2VfMSIsIl9wYXJlbnRhZ2VfMV8xIiwicmVtb3ZlIiwiVW5zdWJzY3JpcHRpb25FcnJvciIsIl90ZWFyZG93bnNfMSIsIl90ZWFyZG93bnNfMV8xIiwidGVhcmRvd25fMSIsImV4ZWNUZWFyZG93biIsImVfMl8xIiwidGVhcmRvd24iLCJfaGFzUGFyZW50IiwiX2FkZFBhcmVudCIsInBhcmVudCIsImluY2x1ZGVzIiwiX3JlbW92ZVBhcmVudCIsIm9uVW5oYW5kbGVkRXJyb3IiLCJDb25uZWN0YWJsZU9ic2VydmFibGUiLCJyZWZDb3VudF8xIiwiT3BlcmF0b3JTdWJzY3JpYmVyXzEiLCJsaWZ0XzEiLCJzdWJqZWN0RmFjdG9yeSIsIl9zdWJqZWN0IiwiX3JlZkNvdW50IiwiX2Nvbm5lY3Rpb24iLCJoYXNMaWZ0IiwiZ2V0U3ViamVjdCIsIl90ZWFyZG93biIsImNvbm5lY3QiLCJjb25uZWN0aW9uIiwic3ViamVjdF8xIiwiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwicmVmQ291bnQiLCJjb21iaW5lTGF0ZXN0SW5pdCIsImNvbWJpbmVMYXRlc3QiLCJhcmdzQXJnQXJyYXlPck9iamVjdF8xIiwiZnJvbV8xIiwiaWRlbnRpdHlfMSIsIm1hcE9uZU9yTWFueUFyZ3NfMSIsImFyZ3NfMSIsImNyZWF0ZU9iamVjdF8xIiwiZXhlY3V0ZVNjaGVkdWxlXzEiLCJvYnNlcnZhYmxlcyIsInNjaGVkdWxlciIsInZhbHVlVHJhbnNmb3JtIiwiaWRlbnRpdHkiLCJtYXliZVNjaGVkdWxlIiwidmFsdWVzIiwiYWN0aXZlIiwicmVtYWluaW5nRmlyc3RWYWx1ZXMiLCJfbG9vcF8xIiwiaGFzRmlyc3RWYWx1ZSIsImV4ZWN1dGUiLCJleGVjdXRlU2NoZWR1bGUiLCJhcmdzIiwicG9wU2NoZWR1bGVyIiwicmVzdWx0U2VsZWN0b3IiLCJwb3BSZXN1bHRTZWxlY3RvciIsImFyZ3NBcmdBcnJheU9yT2JqZWN0Iiwia2V5cyIsImNyZWF0ZU9iamVjdCIsIm1hcE9uZU9yTWFueUFyZ3MiLCJjb25jYXQiLCJjb25jYXRBbGxfMSIsImNvbmNhdEFsbCIsImVtcHR5U2NoZWR1bGVkIiwic2NoZWR1bGVkXzEiLCJpbm5lckZyb21fMSIsImlucHV0Iiwic2NoZWR1bGVkIiwiaW5uZXJGcm9tIiwiZnJvbVN1YnNjcmliYWJsZSIsInN1YnNjcmliYWJsZSIsIl9fYXdhaXRlciIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiZnVsZmlsbGVkIiwic3RlcCIsInJlamVjdGVkIiwidGhlbiIsIl9fZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwidCIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJ2Iiwib3AiLCJwb3AiLCJfX2FzeW5jVmFsdWVzIiwiYXN5bmNJdGVyYXRvciIsInNldHRsZSIsImZyb21SZWFkYWJsZVN0cmVhbUxpa2UiLCJmcm9tQXN5bmNJdGVyYWJsZSIsImZyb21JdGVyYWJsZSIsImZyb21Qcm9taXNlIiwiZnJvbUFycmF5TGlrZSIsImZyb21JbnRlcm9wT2JzZXJ2YWJsZSIsImlzQXJyYXlMaWtlXzEiLCJpc1Byb21pc2VfMSIsImlzSW50ZXJvcE9ic2VydmFibGVfMSIsImlzQXN5bmNJdGVyYWJsZV8xIiwidGhyb3dVbm9ic2VydmFibGVFcnJvcl8xIiwiaXNJdGVyYWJsZV8xIiwiaXNSZWFkYWJsZVN0cmVhbUxpa2VfMSIsIm9iaiIsIm9icyIsImFycmF5IiwicHJvbWlzZSIsIml0ZXJhYmxlIiwiaXRlcmFibGVfMSIsIml0ZXJhYmxlXzFfMSIsImFzeW5jSXRlcmFibGUiLCJhc3luY0l0ZXJhYmxlXzEiLCJhc3luY0l0ZXJhYmxlXzFfMSIsInByb2Nlc3MiLCJjYXRjaCIsInJlYWRhYmxlU3RyZWFtIiwicmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciIsImlzSW50ZXJvcE9ic2VydmFibGUiLCJpc0FycmF5TGlrZSIsImlzUHJvbWlzZSIsImlzQXN5bmNJdGVyYWJsZSIsImlzSXRlcmFibGUiLCJpc1JlYWRhYmxlU3RyZWFtTGlrZSIsImNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yIiwiaW50ZXJ2YWwiLCJhc3luY18xIiwidGltZXJfMSIsInBlcmlvZCIsImFzeW5jU2NoZWR1bGVyIiwidGltZXIiLCJyYWNlSW5pdCIsInJhY2UiLCJhcmdzT3JBcmdBcnJheV8xIiwic291cmNlcyIsInN1YnNjcmlwdGlvbnMiLCJhcmdzT3JBcmdBcnJheSIsImVycm9yT3JFcnJvckZhY3RvcnkiLCJlcnJvckZhY3RvcnkiLCJpbml0IiwiaXNTY2hlZHVsZXJfMSIsImlzRGF0ZV8xIiwiZHVlVGltZSIsImludGVydmFsT3JTY2hlZHVsZXIiLCJhc3luYyIsImludGVydmFsRHVyYXRpb24iLCJpc1NjaGVkdWxlciIsImR1ZSIsImlzVmFsaWREYXRlIiwiemlwIiwiYnVmZmVycyIsIm1hcCIsImNvbXBsZXRlZCIsInNvdXJjZUluZGV4IiwiZXZlcnkiLCJidWZmZXIiLCJzb21lIiwiT3BlcmF0b3JTdWJzY3JpYmVyIiwib25OZXh0Iiwib25Db21wbGV0ZSIsIm9uRXJyb3IiLCJvbkZpbmFsaXplIiwic2hvdWxkVW5zdWJzY3JpYmUiLCJjbG9zZWRfMSIsImF1ZGl0IiwiZHVyYXRpb25TZWxlY3RvciIsIm9wZXJhdGUiLCJsYXN0VmFsdWUiLCJkdXJhdGlvblN1YnNjcmliZXIiLCJpc0NvbXBsZXRlIiwiZW5kRHVyYXRpb24iLCJjbGVhbnVwRHVyYXRpb24iLCJhdWRpdFRpbWUiLCJhdWRpdF8xIiwiZHVyYXRpb24iLCJjbG9zaW5nTm90aWZpZXIiLCJjdXJyZW50QnVmZmVyIiwiYnVmZmVyQ291bnQiLCJidWZmZXJTaXplIiwic3RhcnRCdWZmZXJFdmVyeSIsImNvdW50IiwidG9FbWl0IiwiYnVmZmVyc18xIiwiYnVmZmVyc18xXzEiLCJ0b0VtaXRfMSIsInRvRW1pdF8xXzEiLCJlXzMiLCJidWZmZXJzXzIiLCJidWZmZXJzXzJfMSIsImVfM18xIiwiYnVmZmVyVGltZSIsImJ1ZmZlclRpbWVTcGFuIiwib3RoZXJBcmdzIiwiYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCIsIm1heEJ1ZmZlclNpemUiLCJidWZmZXJSZWNvcmRzIiwicmVzdGFydE9uRW1pdCIsImVtaXQiLCJyZWNvcmQiLCJzdWJzIiwic3RhcnRCdWZmZXIiLCJyZWNvcmRfMSIsImJ1ZmZlclRpbWVTdWJzY3JpYmVyIiwicmVjb3Jkc0NvcHkiLCJyZWNvcmRzQ29weV8xIiwicmVjb3Jkc0NvcHlfMV8xIiwiYnVmZmVyVG9nZ2xlIiwib3BlbmluZ3MiLCJjbG9zaW5nU2VsZWN0b3IiLCJvcGVuVmFsdWUiLCJjbG9zaW5nU3Vic2NyaXB0aW9uIiwiYnVmZmVyV2hlbiIsImNsb3NpbmdTdWJzY3JpYmVyIiwib3BlbkJ1ZmZlciIsImNhdGNoRXJyb3IiLCJzZWxlY3RvciIsImhhbmRsZWRSZXN1bHQiLCJpbm5lclN1YiIsInN5bmNVbnN1YiIsImNvbWJpbmVBbGwiLCJjb21iaW5lTGF0ZXN0QWxsXzEiLCJjb21iaW5lTGF0ZXN0QWxsIiwiY29tYmluZUxhdGVzdF8xIiwiam9pbkFsbEludGVybmFsc18xIiwicHJvamVjdCIsImpvaW5BbGxJbnRlcm5hbHMiLCJjb21iaW5lTGF0ZXN0V2l0aCIsIm90aGVyU291cmNlcyIsIm1lcmdlQWxsXzEiLCJtZXJnZUFsbCIsImNvbmNhdE1hcCIsIm1lcmdlTWFwXzEiLCJtZXJnZU1hcCIsImNvbmNhdE1hcFRvIiwiY29uY2F0TWFwXzEiLCJpbm5lck9ic2VydmFibGUiLCJjb25jYXRXaXRoIiwiY29uY2F0XzEiLCJmcm9tU3Vic2NyaWJhYmxlXzEiLCJERUZBVUxUX0NPTkZJRyIsImNvbm5lY3RvciIsInJlZHVjZV8xIiwicHJlZGljYXRlIiwicmVkdWNlIiwidG90YWwiLCJkZWJvdW5jZSIsImRlYm91bmNlVGltZSIsImFjdGl2ZVRhc2siLCJsYXN0VGltZSIsImVtaXRXaGVuSWRsZSIsInRhcmdldFRpbWUiLCJkZWZhdWx0SWZFbXB0eSIsImRlZmF1bHRWYWx1ZSIsImRlbGF5V2hlbl8xIiwiZGVsYXlXaGVuIiwidGFrZV8xIiwiaWdub3JlRWxlbWVudHNfMSIsIm1hcFRvXzEiLCJkZWxheUR1cmF0aW9uU2VsZWN0b3IiLCJzdWJzY3JpcHRpb25EZWxheSIsInRha2UiLCJpZ25vcmVFbGVtZW50cyIsImluZGV4IiwibWFwVG8iLCJkZW1hdGVyaWFsaXplIiwiTm90aWZpY2F0aW9uXzEiLCJkaXN0aW5jdCIsImtleVNlbGVjdG9yIiwiZmx1c2hlcyIsImRpc3RpbmN0S2V5cyIsIlNldCIsImtleSIsImhhcyIsImNsZWFyIiwiZGlzdGluY3RVbnRpbENoYW5nZWQiLCJkZWZhdWx0Q29tcGFyZSIsImEiLCJjb21wYXJhdG9yIiwicHJldmlvdXNLZXkiLCJmaXJzdCIsImN1cnJlbnRLZXkiLCJkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZCIsImRpc3RpbmN0VW50aWxDaGFuZ2VkXzEiLCJjb21wYXJlIiwiZWxlbWVudEF0IiwiQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JfMSIsImZpbHRlcl8xIiwidGhyb3dJZkVtcHR5XzEiLCJkZWZhdWx0SWZFbXB0eV8xIiwiQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IiLCJoYXNEZWZhdWx0VmFsdWUiLCJmaWx0ZXIiLCJ0aHJvd0lmRW1wdHkiLCJlbmRXaXRoIiwiZXhoYXVzdCIsImV4aGF1c3RBbGxfMSIsImV4aGF1c3RBbGwiLCJpbm5lciIsImV4aGF1c3RNYXAiLCJtYXBfMSIsImlpIiwib3V0ZXJWYWx1ZSIsImV4cGFuZCIsIm1lcmdlSW50ZXJuYWxzXzEiLCJjb25jdXJyZW50IiwibWVyZ2VJbnRlcm5hbHMiLCJmaW5hbGl6ZSIsImNhbGxiYWNrIiwiY3JlYXRlRmluZCIsImZpbmQiLCJmaW5kSW5kZXgiLCJmaW5kXzEiLCJFbXB0eUVycm9yXzEiLCJFbXB0eUVycm9yIiwiZmxhdE1hcCIsImdyb3VwQnkiLCJlbGVtZW50T3JPcHRpb25zIiwiZWxlbWVudCIsImdyb3VwcyIsIk1hcCIsIm5vdGlmeSIsImNiIiwiaGFuZGxlRXJyb3IiLCJjb25zdW1lciIsImFjdGl2ZUdyb3VwcyIsInRlYXJkb3duQXR0ZW1wdGVkIiwiZ3JvdXBCeVNvdXJjZVN1YnNjcmliZXIiLCJrZXlfMSIsImdyb3VwXzEiLCJzZXQiLCJncm91cGVkIiwiZ3JvdXBTdWJqZWN0IiwiZ3JvdXBTdWJzY3JpYmVyIiwiZHVyYXRpb25TdWJzY3JpYmVyXzEiLCJkZWxldGUiLCJpc0VtcHR5IiwidG9BcnJheV8xIiwiam9pbkZuIiwidG9BcnJheSIsInRha2VMYXN0XzEiLCJ0YWtlTGFzdCIsIm1hdGVyaWFsaXplIiwiY29tcGFyZXIiLCJtZXJnZSIsInBvcE51bWJlciIsIm9uQmVmb3JlTmV4dCIsImlubmVyU3ViU2NoZWR1bGVyIiwiYWRkaXRpb25hbFRlYXJkb3duIiwiY2hlY2tDb21wbGV0ZSIsIm91dGVyTmV4dCIsImRvSW5uZXJTdWIiLCJpbm5lckNvbXBsZXRlIiwiaW5uZXJWYWx1ZSIsImJ1ZmZlcmVkVmFsdWUiLCJtZXJnZU1hcFRvIiwibWVyZ2VTY2FuIiwiYWNjdW11bGF0b3IiLCJzZWVkIiwibWVyZ2VXaXRoIiwibWVyZ2VfMSIsIm1pbiIsIm11bHRpY2FzdCIsIkNvbm5lY3RhYmxlT2JzZXJ2YWJsZV8xIiwiY29ubmVjdF8xIiwic3ViamVjdE9yU3ViamVjdEZhY3RvcnkiLCJvYnNlcnZlT24iLCJvbkVycm9yUmVzdW1lTmV4dCIsIm5leHRTb3VyY2VzIiwicmVtYWluaW5nIiwic3Vic2NyaWJlTmV4dCIsIm5leHRTb3VyY2UiLCJwYWlyd2lzZSIsInByZXYiLCJoYXNQcmV2IiwicGFydGl0aW9uIiwibm90XzEiLCJub3QiLCJwbHVjayIsInByb3BlcnRpZXMiLCJFcnJvciIsImN1cnJlbnRQcm9wIiwicHVibGlzaCIsIm11bHRpY2FzdF8xIiwicHVibGlzaEJlaGF2aW9yIiwiQmVoYXZpb3JTdWJqZWN0XzEiLCJpbml0aWFsVmFsdWUiLCJwdWJsaXNoTGFzdCIsIkFzeW5jU3ViamVjdF8xIiwicHVibGlzaFJlcGxheSIsIlJlcGxheVN1YmplY3RfMSIsIndpbmRvd1RpbWUiLCJzZWxlY3Rvck9yU2NoZWR1bGVyIiwidGltZXN0YW1wUHJvdmlkZXIiLCJyYWNlV2l0aF8xIiwicmFjZVdpdGgiLCJyYWNlXzEiLCJzY2FuSW50ZXJuYWxzXzEiLCJzY2FuSW50ZXJuYWxzIiwicmVmQ291bnRlciIsInNoYXJlZENvbm5lY3Rpb24iLCJjb25uIiwicmVwZWF0IiwiY291bnRPckNvbmZpZyIsInNvdXJjZVN1YiIsInNvRmFyIiwicmVzdWJzY3JpYmUiLCJub3RpZmllciIsIm5vdGlmaWVyU3Vic2NyaWJlcl8xIiwic3Vic2NyaWJlVG9Tb3VyY2UiLCJyZXBlYXRXaGVuIiwiY29tcGxldGlvbnMkIiwic3luY1Jlc3ViIiwiaXNOb3RpZmllckNvbXBsZXRlIiwiaXNNYWluQ29tcGxldGUiLCJzdWJzY3JpYmVGb3JSZXBlYXRXaGVuIiwicmV0cnkiLCJjb25maWdPckNvdW50IiwicmVzZXRPblN1Y2Nlc3MiLCJzdWJzY3JpYmVGb3JSZXRyeSIsInJlc3ViXzEiLCJyZXRyeVdoZW4iLCJlcnJvcnMkIiwic3Vic2NyaWJlRm9yUmV0cnlXaGVuIiwic2FtcGxlIiwic2FtcGxlVGltZSIsInNhbXBsZV8xIiwiaW50ZXJ2YWxfMSIsInNjYW4iLCJoYXNTZWVkIiwiZW1pdE9uTmV4dCIsImVtaXRCZWZvcmVDb21wbGV0ZSIsImhhc1N0YXRlIiwic2VxdWVuY2VFcXVhbCIsImNvbXBhcmVUbyIsImFTdGF0ZSIsImJTdGF0ZSIsImlzRXF1YWwiLCJjcmVhdGVTdWJzY3JpYmVyIiwic2VsZlN0YXRlIiwib3RoZXJTdGF0ZSIsInNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyIiwic2hhcmUiLCJoYW5kbGVSZXNldCIsInJlc2V0Iiwib24iLCJvcHRpb25zIiwicmVzZXRPbkVycm9yIiwicmVzZXRPbkNvbXBsZXRlIiwicmVzZXRPblJlZkNvdW50WmVybyIsIndyYXBwZXJTb3VyY2UiLCJyZXNldENvbm5lY3Rpb24iLCJoYXNDb21wbGV0ZWQiLCJoYXNFcnJvcmVkIiwiY2FuY2VsUmVzZXQiLCJyZXNldEFuZFVuc3Vic2NyaWJlIiwiZGVzdCIsInNoYXJlUmVwbGF5Iiwic2hhcmVfMSIsImNvbmZpZ09yQnVmZmVyU2l6ZSIsInNpbmdsZSIsIlNlcXVlbmNlRXJyb3JfMSIsIk5vdEZvdW5kRXJyb3JfMSIsInNpbmdsZVZhbHVlIiwic2VlblZhbHVlIiwiU2VxdWVuY2VFcnJvciIsIk5vdEZvdW5kRXJyb3IiLCJza2lwIiwic2tpcExhc3QiLCJza2lwQ291bnQiLCJyaW5nIiwic2VlbiIsInZhbHVlSW5kZXgiLCJvbGRWYWx1ZSIsInNraXBVbnRpbCIsInRha2luZyIsInNraXBTdWJzY3JpYmVyIiwic2tpcFdoaWxlIiwic3RhcnRXaXRoIiwic3Vic2NyaWJlT24iLCJzd2l0Y2hBbGwiLCJzd2l0Y2hNYXBfMSIsInN3aXRjaE1hcCIsImlubmVyU3Vic2NyaWJlciIsImlubmVySW5kZXgiLCJvdXRlckluZGV4Iiwic3dpdGNoTWFwVG8iLCJzd2l0Y2hTY2FuIiwiYnVmZmVyXzEiLCJidWZmZXJfMV8xIiwidGFrZVVudGlsIiwidGFrZVdoaWxlIiwiaW5jbHVzaXZlIiwidGFwIiwidGFwT2JzZXJ2ZXIiLCJpc1Vuc3ViIiwidGhyb3R0bGUiLCJkZWZhdWx0VGhyb3R0bGVDb25maWciLCJsZWFkaW5nIiwidHJhaWxpbmciLCJzZW5kVmFsdWUiLCJ0aHJvdHRsZWQiLCJlbmRUaHJvdHRsaW5nIiwic2VuZCIsImNsZWFudXBUaHJvdHRsaW5nIiwic3RhcnRUaHJvdHRsZSIsInRocm90dGxlVGltZSIsInRocm90dGxlXzEiLCJkdXJhdGlvbiQiLCJkZWZhdWx0RXJyb3JGYWN0b3J5IiwiVGltZUludGVydmFsIiwidGltZUludGVydmFsIiwidGltZW91dCIsIlRpbWVvdXRFcnJvciIsImNyZWF0ZUVycm9yQ2xhc3NfMSIsInRpbWVvdXRFcnJvckZhY3RvcnkiLCJpbmZvIiwiY3JlYXRlRXJyb3JDbGFzcyIsIm1lc3NhZ2UiLCJuYW1lIiwic2NoZWR1bGVyQXJnIiwiZWFjaCIsIndpdGgiLCJfd2l0aCIsIm1ldGEiLCJvcmlnaW5hbFNvdXJjZVN1YnNjcmlwdGlvbiIsInRpbWVyU3Vic2NyaXB0aW9uIiwic3RhcnRUaW1lciIsInRpbWVvdXRXaXRoIiwidGltZW91dF8xIiwid2l0aE9ic2VydmFibGUiLCJ0aW1lc3RhbXAiLCJhcnJSZWR1Y2VyIiwiYXJyIiwid2luZG93Iiwid2luZG93Qm91bmRhcmllcyIsIndpbmRvd1N1YmplY3QiLCJ3aW5kb3dDb3VudCIsIndpbmRvd1NpemUiLCJzdGFydFdpbmRvd0V2ZXJ5Iiwic3RhcnRFdmVyeSIsIndpbmRvd3MiLCJ3aW5kb3dzXzEiLCJ3aW5kb3dzXzFfMSIsImMiLCJ3aW5kb3dfMiIsIndpbmRvd1RpbWVTcGFuIiwid2luZG93Q3JlYXRpb25JbnRlcnZhbCIsIm1heFdpbmRvd1NpemUiLCJ3aW5kb3dSZWNvcmRzIiwicmVzdGFydE9uQ2xvc2UiLCJjbG9zZVdpbmRvdyIsInN0YXJ0V2luZG93Iiwid2luZG93XzEiLCJsb29wIiwidGVybWluYXRlIiwid2luZG93VG9nZ2xlIiwid2luZG93c0NvcHkiLCJ3aW5kb3dzQ29weV8xIiwid2luZG93c0NvcHlfMV8xIiwid2luZG93V2hlbiIsIm9wZW5XaW5kb3ciLCJ3aXRoTGF0ZXN0RnJvbSIsImlucHV0cyIsImxlbiIsIm90aGVyVmFsdWVzIiwicmVhZHkiLCJ6aXBfMSIsInppcEFsbCIsInppcFdpdGgiLCJvdGhlcklucHV0cyIsInNjaGVkdWxlQXJyYXkiLCJzY2hlZHVsZUFzeW5jSXRlcmFibGUiLCJzY2hlZHVsZUl0ZXJhYmxlIiwiaXRlcmF0b3JfMSIsInNjaGVkdWxlT2JzZXJ2YWJsZSIsIm9ic2VydmVPbl8xIiwic3Vic2NyaWJlT25fMSIsInNjaGVkdWxlUHJvbWlzZSIsInNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlIiwic2NoZWR1bGVBc3luY0l0ZXJhYmxlXzEiLCJzY2hlZHVsZU9ic2VydmFibGVfMSIsInNjaGVkdWxlUHJvbWlzZV8xIiwic2NoZWR1bGVBcnJheV8xIiwic2NoZWR1bGVJdGVyYWJsZV8xIiwic2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2VfMSIsIkFjdGlvbiIsIkFzeW5jQWN0aW9uIiwiQWN0aW9uXzEiLCJpbnRlcnZhbFByb3ZpZGVyXzEiLCJwZW5kaW5nIiwiaWQiLCJyZWN5Y2xlQXN5bmNJZCIsInJlcXVlc3RBc3luY0lkIiwiX2lkIiwiaW50ZXJ2YWxQcm92aWRlciIsInNldEludGVydmFsIiwiZmx1c2giLCJfc2NoZWR1bGVyIiwiY2xlYXJJbnRlcnZhbCIsIl9leGVjdXRlIiwiX2RlbGF5IiwiZXJyb3JWYWx1ZSIsImVycm9yZWQiLCJhY3Rpb25zIiwiQXN5bmNTY2hlZHVsZXIiLCJTY2hlZHVsZXJfMSIsIlNjaGVkdWxlckFjdGlvbiIsIl9hY3RpdmUiLCJfc2NoZWR1bGVkIiwiYWN0aW9uIiwiQXN5bmNBY3Rpb25fMSIsIkFzeW5jU2NoZWR1bGVyXzEiLCJkZWxlZ2F0ZSIsIkRhdGUiLCJoYW5kbGUiLCJjbGVhclRpbWVvdXQiLCJnZXRTeW1ib2xJdGVyYXRvciIsInRvU3RyaW5nIiwiam9pbiIsImdldFByb3RvdHlwZU9mIiwib2JqZWN0UHJvdG8iLCJnZXRLZXlzIiwiZmlyc3RfMSIsIml0ZW0iLCJpbmRleE9mIiwiY3JlYXRlSW1wbCIsImN0b3JGdW5jIiwiaW5zdGFuY2UiLCJzdGFjayIsImNvbnRleHQiLCJpc1Jvb3QiLCJlcnJvclRocm93biIsInBhcmVudFN1YnNjcmlwdGlvbiIsInNjaGVkdWxlU3Vic2NyaXB0aW9uIiwiaXNOYU4iLCJfX2F3YWl0IiwiX19hc3luY0dlbmVyYXRvciIsInEiLCJyZXN1bWUiLCJmdWxmaWxsIiwicmVhZGVyIiwiZ2V0UmVhZGVyIiwicmVhZCIsInJlbGVhc2VMb2NrIiwibGlmdGVkU291cmNlIiwiY2FsbE9yQXBwbHkiLCJwcmVkIiwiZm5zIiwidmFsaWRDcmVkZW50aWFsc0Z1bmMiLCJjcmVkZW50aWFsT2JqZWN0Iiwid2ViM1VybCIsImNoZWNrVXNlck5vbmNlIiwiSlNPTiIsInBhcnNlIiwiY29uc29sZSIsImxvZyIsInN0cmluZ2lmeSIsInJlT3JkZXJDcmVkZW50aWFsT2JqZWN0Iiwid2ViM05vZGUiLCJjaGVja2VkRGlkIiwidmFsaWRDcmVkZW50aWFsc0Ftb3VudCIsImNyZWRlbnRpYWxzQW1vdW50IiwiaW52YWxpZENyZWRlbnRpYWxzIiwicHJvdmlkZXIiLCJlbnRyaWVzIiwiY3JlZGVudGlhbHMiLCJjcmVkZW50aWFsT2JqZWN0V2l0aG91dFByb29mU2lnbmF0dXJlIiwicHJvb2YiLCJzaWduYXR1cmUiLCJ1c2VyUmVjb3ZlcmVkQWRkcmVzcyIsImV0aCIsImFjY291bnRzIiwicmVjb3ZlciIsInVzZXJDcmVkZW50aWFsU2lnbmF0dXJlV3JvbmciLCJob2xkZXIiLCJjcmVkZW50aWFsIiwidmVyc2lvbiIsImNvZGUiLCJjcmVkZW50aWFsRXhwaXJhdGlvbkRhdGUiLCJleHBpcmF0aW9uRGF0ZSIsImNhbGN1bGF0ZU1pbnV0ZXNEaWZmZXJlbmNlIiwibm9uY2UiLCJpc3N1ZXJDcmVkZW50aWFsU2lnbmF0dXJlV3JvbmciLCJpc3N1ZXJIb2xkZXJLZXkiLCJpc3N1ZXJEaWRDb250cmFjdEFkZHJlc3MiLCJpc3N1ZXIiLCJzcGxpdCIsImRpZENvbnRyYWN0S2V5V3JvbmciLCJjbGFpbUhvbGRlckFiaSIsInVzZXJIb2xkZXJLZXkiLCJ1c2VyRGlkQ29udHJhY3RBZGRyZXNzIiwidmFsaWQiLCJob2xkZXJLZXkiLCJyZWNvdmVyZWRBZGRyZXNzIiwiaXNzdWVyU2lnbmF0dXJlIiwiY3JlZGVudGlhbElzc3VlcktleSIsImNyZWRlbnRpYWxXaXRob3V0SXNzdWVyUHJvb2YiLCJkaWRBZGRyZXNzIiwiZm91bmRFbnRyeSIsImRpZCIsImtub3duQWRkcmVzc2VzIiwic2hhM0tleSIsImdldFNoYTNLZXkiLCJrZXlNYW5hZ2VyQ29udHJhY3QiLCJDb250cmFjdCIsImtub3duQWRkcmVzc2VzQ29udGFpbnMiLCJrZXlQdXJwb3NlIiwicGFyc2VJbnQiLCJnZXRLZXlQdXJwb3NlIiwibGlzdCIsImRpZENvbnRyYWN0QWRkcmVzcyIsImxpc3RJdGVtIiwidXRpbHMiLCJrZWNjYWsyNTYiLCJhZGRyZXNzIiwibWV0aG9kcyIsImR0MiIsImR0MSIsImRpZmYiLCJnZXRUaW1lIiwiYWJzIiwicm91bmQiLCJjcmVkZW50aWFsS2V5cyIsImNyZWRlbnRpYWxLZXkiLCJzb3J0IiwicmVPcmRlcmVkQ3JlZGVudGlhbHMiLCJyZU9yZGVyZWRDcmVkZW50aWFsIiwicmVPcmRlckNyZWRlbnRpYWwiLCJyZU9yZGVyQ3JlZGVudGlhbFByb29mIiwic29ydE9iamVjdEFscGhhYmV0aWNhbGx5Iiwib2JqZWN0Iiwic29ydGVkT2JqIiwia2V5MSIsImtleTIiLCJ0b0xvd2VyQ2FzZSIsInR5cGUiLCJnZXRDbGFpbXMiLCJjbGFpbVR5cGUiLCJjb250cmFjdEFkZHJlc3MiLCJ3ZWIzIiwiY29udHJhY3QiLCJjbGFpbUlkcyIsImdldENsYWltSWRzQnlUeXBlIiwicmF3Q2xhaW1zIiwiZ2V0Q2xhaW0iLCJwYXJzZWRDbGFpbXMiLCJ0b0FzY2lpIiwiZGF0YSIsInJlT3JkZXJQcm9vZk9iamVjdCIsInByb29mT2JqZWN0IiwicmVxdWVzdGVkQ3JlZGVudGlhbHMiLCJ0cnVzdGVkRGlkcyIsInJlcXVlc3RlZENoZWNrUmVzdWx0IiwiY2hlY2tSZXN1bHQiLCJzdWNjZXNzIiwibWlzc2luZ0tleXMiLCJyZXF1ZXN0ZWRDcmVkZW50aWFsIiwiaXNJbnNpZGVNaW5pbXVtUmVxdWlyZWQiLCJtaW5pbXVtUmVxdWlyZWQiLCJyZXF1aXJlZCIsImZvdW5kIiwicHJvdmlkZXJzIiwiZm91bmRDcmVkZW50aWFscyIsImFtb3VudCIsIm1pc3NpbmdNZXNzYWdlIiwicmVxdWVzdGVkQ3JlZGVudGlhbHNDb3JyZWN0IiwiaXNBZGRyZXNzIiwiY3VycmVudENyZWRlbnRpYWxLZXkiLCJmb3VuZFZhbGlkIiwiaW52YWxpZEtleVByb3ZpZGVyIiwiaW52YWxpZEtleVByb3ZpZGVyQWxsb3dlZEtleXMiLCJub1RydXN0ZWRDbGFpbUZvdW5kIiwiY2xhaW0iLCJjbGFpbUFsbG93ZWRDcmVkZW50aWFsS2V5cyIsInByb3ZpZGVyQ3JlZGVudGlhbEtleSIsInByaXZhdGVLZXkiLCJzaWduIiwiUHJvb2ZtZVV0aWxzUHJvdmlkZXIiLCJ2YWxpZENyZWRlbnRpYWxzVHJ1c3RlZFBhcnRpZXNGdW5jIiwic2lnbkNyZWRlbnRpYWwiLCJzaWduQ3JlZGVudGlhbE9iamVjdCIsInNpZ25Qcm9vZk9iamVjdCIsIkluamVjdGFibGUiLCJ3c1NlcnZlciIsInJ0Y0Nvbm5lY3Rpb25Db25maWciLCJzZXRSVENDb25uZWN0aW9uQ29uZmlnIiwiZ2V0UlRDQ29ubmVjdGlvbkNvbmZpZyIsInR1cm5FbmFibGVkIiwic3R1bkVuYWJsZWQiLCJ1c2VybmFtZSIsImZsb29yIiwidHVybkV4cGlyYXRpb24iLCJjcnlwdG8iLCJjcmVhdGVIbWFjIiwidHVyblNlY3JldCIsInVwZGF0ZSIsImRpZ2VzdCIsImljZUNhbmRpZGF0ZVBvb2xTaXplIiwiaWNlU2VydmVycyIsInVybHMiLCJ0dXJuVXJsIiwic3R1blVybCIsInN0YXJ0U2lnbmFsIiwic2VydmVyIiwiV2ViU29ja2V0IiwiU2VydmVyIiwic2VuZFRvIiwiZGF0YWNoYW5uZWwiLCJ3cyIsInV1aWQiLCJob3N0IiwiYXV0aGVudGljYXRlZCIsImNvbm5lY3RlZCIsIm1zZyIsInRva2VuIiwib2ZmZXIiLCJhbnN3ZXIiLCJjYW5kaWRhdGUiLCJ3ZWJSdGNDb25uZWN0aW9uQ29uZmlnIiwiaG9zdHMiLCJjbGllbnRzIiwiY2xpZW50Iiwic2l6ZSIsImhvc3RzT2ZmZXIiLCJ3c0FyZyIsInJlcXVlc3QiLCJjbGllbnRBcmciLCJjb25zdGFudCIsIm91dHB1dHMiLCJwYXlhYmxlIiwic3RhdGVNdXRhYmlsaXR5IiwiYW5vbnltb3VzIiwiaW5kZXhlZCIsIldlYlJ0Y1Byb3ZpZGVyIiwid2ViUnRjQ29uZmlnIiwiaG9zdFV1aWQiLCJwZWVyQ29ubmVjdGlvbiIsImRhdGFDaGFubmVsIiwid3NDbGllbnQiLCJyZWNlaXZlZEFjdGlvbnMkIiwidXVpZCQiLCJ3ZWJzb2NrZXRDb25uZWN0aW9uQ2xvc2VkJCIsIndlYnNvY2tldENvbm5lY3Rpb25PcGVuJCIsIndlYnNvY2tldENvbm5lY3Rpb25FcnJvciQiLCJjb25uZWN0aW9uVGltZW91dCIsInBvbmdDaGVja0ludGVydmFsIiwicGluZ1RpbWVvdXQiLCJXRUJTT0NLRVRfUElOR19BTlNXRVJfREVMQVkiLCJXRUJTT0NLRVRfUElOR19QT05HX0FMTE9XRURfVElNRSIsImdldENvbmZpZyIsInNldEhvc3RVdWlkIiwic2VuZERhdGEiLCJyZWFkeVN0YXRlIiwic2V0VXVpZCIsImRpc2Nvbm5lY3QiLCJjbG9zZSIsIm9uY2xvc2UiLCJyZW1vdGVEaXNjb25uZWN0IiwiY3JlYXRlT2ZmZXIiLCJzZXRMb2NhbERlc2NyaXB0aW9uIiwiY29ubmVjdGlvblN1Y2Nlc3MiLCJzaWduYWxpbmdVcmwiLCJ3M2N3ZWJzb2NrZXQiLCJvbmVycm9yIiwib25vcGVuIiwib25tZXNzYWdlIiwic2VuZFBpbmciLCJpc0hvc3QiLCJtYXhUcmllcyIsInRyaWVzIiwic2V0dXBQZWVyY29ubmVjdGlvbiIsInNlbmRPZmZlciIsImNvbm5lY3Rpb25TdGF0ZSIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwiUlRDU2Vzc2lvbkRlc2NyaXB0aW9uIiwiaG9zdEFuc3dlciIsImNyZWF0ZUFuc3dlciIsImNsaWVudENhbmRpZGF0ZSIsIlJUQ0ljZUNhbmRpZGF0ZSIsImFkZEljZUNhbmRpZGF0ZSIsIlJUQ1BlZXJDb25uZWN0aW9uIiwiY3JlYXRlRGF0YUNoYW5uZWwiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJjaGFubmVsIiwiZXZlbnRNZXNzYWdlIiwicDJwQ29ubmVjdGVkIiwiaWNlQ29ubmVjdGlvblN0YXRlIiwicmVxdWlyZSIsImdldENsb3N1cmVTYWZlUHJvcGVydHkiLCJvYmpXaXRoUHJvcGVydHlUb0V4dHJhY3QiLCJmaWxsUHJvcGVydGllcyIsInRhcmdldCIsIm92ZXJyaWRkZW5OYW1lIiwicmVzIiwibmV3TGluZUluZGV4Iiwic3Vic3RyaW5nIiwiY29uY2F0U3RyaW5nc1dpdGhTcGFjZSIsImJlZm9yZSIsImFmdGVyIiwiX19mb3J3YXJkX3JlZl9fIiwiZm9yd2FyZFJlZiIsImZvcndhcmRSZWZGbiIsInJlc29sdmVGb3J3YXJkUmVmIiwiaXNGb3J3YXJkUmVmIiwiUnVudGltZUVycm9yIiwic3VwZXIiLCJmb3JtYXRSdW50aW1lRXJyb3IiLCJmdWxsQ29kZSIsImVycm9yTWVzc2FnZSIsIm5nRGV2TW9kZSIsInJlbmRlclN0cmluZ2lmeSIsInN0cmluZ2lmeUZvckVycm9yIiwidGhyb3dDeWNsaWNEZXBlbmRlbmN5RXJyb3IiLCJwYXRoIiwiZGVwUGF0aCIsInRocm93TWl4ZWRNdWx0aVByb3ZpZGVyRXJyb3IiLCJ0aHJvd1Byb3ZpZGVyTm90Rm91bmRFcnJvciIsImluamVjdG9yTmFtZSIsImluamVjdG9yRGV0YWlscyIsImFzc2VydE51bWJlciIsImFjdHVhbCIsImFzc2VydE51bWJlckluUmFuZ2UiLCJtaW5JbmNsdXNpdmUiLCJtYXhJbmNsdXNpdmUiLCJhc3NlcnRMZXNzVGhhbk9yRXF1YWwiLCJhc3NlcnRHcmVhdGVyVGhhbk9yRXF1YWwiLCJhc3NlcnRTdHJpbmciLCJhc3NlcnRFcXVhbCIsImV4cGVjdGVkIiwiYXNzZXJ0Tm90RXF1YWwiLCJhc3NlcnRTYW1lIiwiYXNzZXJ0Tm90U2FtZSIsImFzc2VydExlc3NUaGFuIiwiYXNzZXJ0R3JlYXRlclRoYW4iLCJhc3NlcnREZWZpbmVkIiwiY29tcGFyaXNvbiIsImFzc2VydERvbU5vZGUiLCJub2RlIiwiTm9kZSIsImFzc2VydEluZGV4SW5SYW5nZSIsIm1heExlbiIsImFzc2VydE9uZU9mIiwidmFsaWRWYWx1ZXMiLCJvcHRzIiwicHJvdmlkZWRJbiIsImRlZmluZUluamVjdGFibGUiLCJpbXBvcnRzIiwiZ2V0SW5qZWN0YWJsZURlZiIsImdldE93bkRlZmluaXRpb24iLCJOR19QUk9WX0RFRiIsIk5HX0lOSkVDVEFCTEVfREVGIiwiZmllbGQiLCJnZXRJbmplY3RvckRlZiIsIk5HX0lOSl9ERUYiLCJOR19JTkpFQ1RPUl9ERUYiLCJuZ0luamVjdGFibGVEZWYiLCJuZ0luamVjdG9yRGVmIiwiSW5qZWN0RmxhZ3MiLCJfaW5qZWN0SW1wbGVtZW50YXRpb24iLCJzZXRJbmplY3RJbXBsZW1lbnRhdGlvbiIsImltcGwiLCJwcmV2aW91cyIsImluamVjdFJvb3RMaW1wTW9kZSIsIm5vdEZvdW5kVmFsdWUiLCJmbGFncyIsImluamVjdGFibGVEZWYiLCJPcHRpb25hbCIsIm5vU2lkZUVmZmVjdHMiLCJDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSIsIkNoYW5nZURldGVjdG9yU3RhdHVzIiwiVmlld0VuY2Fwc3VsYXRpb24kMSIsImlzRGVmYXVsdENoYW5nZURldGVjdGlvblN0cmF0ZWd5IiwiY2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kiLCJEZWZhdWx0IiwiVmlld0VuY2Fwc3VsYXRpb24iLCJfX2dsb2JhbFRoaXMiLCJnbG9iYWxUaGlzIiwiX193aW5kb3ciLCJfX3NlbGYiLCJzZWxmIiwiV29ya2VyR2xvYmFsU2NvcGUiLCJfX2dsb2JhbCIsIl9nbG9iYWwiLCJpbml0TmdEZXZNb2RlIiwibG9jYXRpb25TdHJpbmciLCJsb2NhdGlvbiIsIm5ld0NvdW50ZXJzIiwibmFtZWRDb25zdHJ1Y3RvcnMiLCJmaXJzdENyZWF0ZVBhc3MiLCJ0Tm9kZSIsInRWaWV3IiwicmVuZGVyZXJDcmVhdGVUZXh0Tm9kZSIsInJlbmRlcmVyU2V0VGV4dCIsInJlbmRlcmVyQ3JlYXRlRWxlbWVudCIsInJlbmRlcmVyQWRkRXZlbnRMaXN0ZW5lciIsInJlbmRlcmVyU2V0QXR0cmlidXRlIiwicmVuZGVyZXJSZW1vdmVBdHRyaWJ1dGUiLCJyZW5kZXJlclNldFByb3BlcnR5IiwicmVuZGVyZXJTZXRDbGFzc05hbWUiLCJyZW5kZXJlckFkZENsYXNzIiwicmVuZGVyZXJSZW1vdmVDbGFzcyIsInJlbmRlcmVyU2V0U3R5bGUiLCJyZW5kZXJlclJlbW92ZVN0eWxlIiwicmVuZGVyZXJEZXN0cm95IiwicmVuZGVyZXJEZXN0cm95Tm9kZSIsInJlbmRlcmVyTW92ZU5vZGUiLCJyZW5kZXJlclJlbW92ZU5vZGUiLCJyZW5kZXJlckFwcGVuZENoaWxkIiwicmVuZGVyZXJJbnNlcnRCZWZvcmUiLCJyZW5kZXJlckNyZWF0ZUNvbW1lbnQiLCJhbGxvd05nRGV2TW9kZVRydWUiLCJuZ0Rldk1vZGVSZXNldFBlcmZDb3VudGVycyIsIkVNUFRZX09CSiIsIkVNUFRZX0FSUkFZIiwiZnJlZXplIiwiTkdfQ09NUF9ERUYiLCJOR19ESVJfREVGIiwiTkdfUElQRV9ERUYiLCJOR19NT0RfREVGIiwiTkdfRkFDVE9SWV9ERUYiLCJOR19FTEVNRU5UX0lEIiwiX19OR19FTEVNRU5UX0lEX18iLCJfcmVuZGVyQ29tcENvdW50IiwiY29tcG9uZW50RGVmaW5pdGlvbiIsImRlY2xhcmVkSW5wdXRzIiwiZGVmIiwicHJvdmlkZXJzUmVzb2x2ZXIiLCJkZWNscyIsInZhcnMiLCJ0ZW1wbGF0ZSIsImNvbnN0cyIsIm5nQ29udGVudFNlbGVjdG9ycyIsImhvc3RCaW5kaW5ncyIsImhvc3RWYXJzIiwiaG9zdEF0dHJzIiwiY29udGVudFF1ZXJpZXMiLCJleHBvcnRBcyIsIm9uUHVzaCIsImNoYW5nZURldGVjdGlvbiIsIk9uUHVzaCIsImRpcmVjdGl2ZURlZnMiLCJwaXBlRGVmcyIsInNlbGVjdG9ycyIsInZpZXdRdWVyeSIsImZlYXR1cmVzIiwiZW5jYXBzdWxhdGlvbiIsIkVtdWxhdGVkIiwic3R5bGVzIiwic2V0SW5wdXQiLCJzY2hlbWFzIiwiZGlyZWN0aXZlVHlwZXMiLCJkaXJlY3RpdmVzIiwiZmVhdHVyZSIsInBpcGVUeXBlcyIsInBpcGVzIiwiaW52ZXJ0T2JqZWN0IiwiZXh0cmFjdERpcmVjdGl2ZURlZiIsImV4dHJhY3RQaXBlRGVmIiwiZ2V0Q29tcG9uZW50RGVmIiwiZ2V0RGlyZWN0aXZlRGVmIiwiZ2V0UGlwZURlZiQxIiwiYXV0b1JlZ2lzdGVyTW9kdWxlQnlJZCIsImJvb3RzdHJhcCIsImRlY2xhcmF0aW9ucyIsInRyYW5zaXRpdmVDb21waWxlU2NvcGVzIiwic2NvcGUiLCJuZ01vZHVsZURlZiIsImdldE5nTW9kdWxlRGVmIiwic2Vjb25kYXJ5IiwibmV3TG9va3VwIiwibWluaWZpZWRLZXkiLCJwdWJsaWNOYW1lIiwiZGVjbGFyZWROYW1lIiwicGlwZURlZiIsInB1cmUiLCJvbkRlc3Ryb3kiLCJuZ09uRGVzdHJveSIsInRocm93Tm90Rm91bmQiLCJDT05UQUlORVJfSEVBREVSX09GRlNFVCIsIkhFQURFUl9PRkZTRVQiLCJUVmlld1R5cGVBc1N0cmluZyIsImlzTFZpZXciLCJpc0xDb250YWluZXIiLCJpc0NvbnRlbnRRdWVyeUhvc3QiLCJpc0NvbXBvbmVudEhvc3QiLCJpc0RpcmVjdGl2ZUhvc3QiLCJpc0NvbXBvbmVudERlZiIsImFzc2VydFROb2RlRm9yTFZpZXciLCJsVmlldyIsImFzc2VydFROb2RlRm9yVFZpZXciLCJhc3NlcnRUTm9kZSIsInRWaWV3XyIsImFzc2VydFRJY3UiLCJ0SWN1IiwiY3VycmVudENhc2VMVmlld0luZGV4IiwiYXNzZXJ0Q29tcG9uZW50VHlwZSIsImFzc2VydEhhc1BhcmVudCIsImFzc2VydExDb250YWluZXIiLCJhc3NlcnRMVmlld09yVW5kZWZpbmVkIiwiYXNzZXJ0TFZpZXciLCJhc3NlcnRGaXJzdENyZWF0ZVBhc3MiLCJlcnJNZXNzYWdlIiwiYXNzZXJ0Rmlyc3RVcGRhdGVQYXNzIiwiZmlyc3RVcGRhdGVQYXNzIiwiYXNzZXJ0SW5kZXhJbkV4cGFuZG9SYW5nZSIsImFzc2VydEJldHdlZW4iLCJleHBhbmRvU3RhcnRJbmRleCIsImxvd2VyIiwidXBwZXIiLCJhc3NlcnRQYXJlbnRWaWV3IiwiYXNzZXJ0Tm9kZUluamVjdG9yIiwiaW5qZWN0b3JJbmRleCIsImdldEZhY3RvcnlEZWYiLCJoYXNGYWN0b3J5RGVmIiwiU2ltcGxlQ2hhbmdlIiwicHJldmlvdXNWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsImZpcnN0Q2hhbmdlIiwiaXNGaXJzdENoYW5nZSIsIk5nT25DaGFuZ2VzRmVhdHVyZUltcGwiLCJkZWZpbml0aW9uIiwibmdPbkNoYW5nZXMiLCJuZ09uQ2hhbmdlc1NldElucHV0IiwicmVtZW1iZXJDaGFuZ2VIaXN0b3J5QW5kSW52b2tlT25DaGFuZ2VzSG9vayIsInNpbXBsZUNoYW5nZXNTdG9yZSIsImdldFNpbXBsZUNoYW5nZXNTdG9yZSIsImN1cnJlbnQiLCJwcml2YXRlTmFtZSIsInN0b3JlIiwic2V0U2ltcGxlQ2hhbmdlc1N0b3JlIiwicHJldmlvdXNDaGFuZ2UiLCJuZ0luaGVyaXQiLCJwcm9maWxlckNhbGxiYWNrIiwic2V0UHJvZmlsZXIiLCJwcm9maWxlciIsImhvb2tPckxpc3RlbmVyIiwiU1ZHX05BTUVTUEFDRSIsIk1BVEhfTUxfTkFNRVNQQUNFIiwiRE9DVU1FTlQiLCJzZXREb2N1bWVudCIsImRvY3VtZW50IiwiZ2V0RG9jdW1lbnQiLCJSZW5kZXJlclN0eWxlRmxhZ3MzIiwiaXNQcm9jZWR1cmFsUmVuZGVyZXIiLCJyZW5kZXJlciIsImRvbVJlbmRlcmVyRmFjdG9yeTMiLCJjcmVhdGVSZW5kZXJlciIsImhvc3RFbGVtZW50IiwicmVuZGVyZXJUeXBlIiwidW53cmFwUk5vZGUiLCJnZXROYXRpdmVCeUluZGV4IiwiZ2V0TmF0aXZlQnlUTm9kZSIsIlJFTkRFUkVSIiwiZ2V0VE5vZGUiLCJsb2FkIiwidmlldyIsImdldENvbXBvbmVudExWaWV3QnlJbmRleCIsIm5vZGVJbmRleCIsImhvc3RWaWV3Iiwic2xvdFZhbHVlIiwiaXNDcmVhdGlvbk1vZGUiLCJ2aWV3QXR0YWNoZWRUb0NoYW5nZURldGVjdG9yIiwiZ2V0Q29uc3RhbnQiLCJyZXNldFByZU9yZGVySG9va0ZsYWdzIiwiUFJFT1JERVJfSE9PS19GTEFHUyIsInVwZGF0ZVRyYW5zcGxhbnRlZFZpZXdDb3VudCIsImxDb250YWluZXIiLCJ2aWV3T3JDb250YWluZXIiLCJpbnN0cnVjdGlvblN0YXRlIiwibEZyYW1lIiwiY3JlYXRlTEZyYW1lIiwiYmluZGluZ3NFbmFibGVkIiwiaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSIsImdldEJpbmRpbmdzRW5hYmxlZCIsImdldExWaWV3IiwiZ2V0VFZpZXciLCJ2aWV3VG9SZXN0b3JlIiwiY29udGV4dExWaWV3IiwiZ2V0Q3VycmVudFROb2RlIiwiY3VycmVudFROb2RlIiwiZ2V0Q3VycmVudFROb2RlUGxhY2Vob2xkZXJPayIsImdldEN1cnJlbnRQYXJlbnRUTm9kZSIsImlzUGFyZW50Iiwic2V0Q3VycmVudFROb2RlIiwiaXNDdXJyZW50VE5vZGVQYXJlbnQiLCJzZXRDdXJyZW50VE5vZGVBc05vdFBhcmVudCIsInNldElzSW5DaGVja05vQ2hhbmdlc01vZGUiLCJtb2RlIiwiZ2V0QmluZGluZ1Jvb3QiLCJiaW5kaW5nUm9vdEluZGV4IiwiYmluZGluZ1N0YXJ0SW5kZXgiLCJnZXRCaW5kaW5nSW5kZXgiLCJiaW5kaW5nSW5kZXgiLCJzZXRCaW5kaW5nSW5kZXgiLCJuZXh0QmluZGluZ0luZGV4IiwiaW5jcmVtZW50QmluZGluZ0luZGV4Iiwic2V0SW5JMThuQmxvY2siLCJpc0luSTE4bkJsb2NrIiwiaW5JMThuIiwic2V0QmluZGluZ1Jvb3RGb3JIb3N0QmluZGluZ3MiLCJjdXJyZW50RGlyZWN0aXZlSW5kZXgiLCJzZXRDdXJyZW50RGlyZWN0aXZlSW5kZXgiLCJnZXRDdXJyZW50RGlyZWN0aXZlRGVmIiwidERhdGEiLCJnZXRDdXJyZW50UXVlcnlJbmRleCIsImN1cnJlbnRRdWVyeUluZGV4Iiwic2V0Q3VycmVudFF1ZXJ5SW5kZXgiLCJnZXREZWNsYXJhdGlvblROb2RlIiwiZGVjbFROb2RlIiwiZW50ZXJESSIsIlNraXBTZWxmIiwicGFyZW50VE5vZGUiLCJwYXJlbnRMVmlldyIsIkhvc3QiLCJERUNMQVJBVElPTl9WSUVXIiwiYWxsb2NMRnJhbWUiLCJlbnRlclZpZXciLCJuZXdWaWV3IiwibmV3TEZyYW1lIiwic2VsZWN0ZWRJbmRleCIsImVsZW1lbnREZXB0aENvdW50IiwiY3VycmVudE5hbWVzcGFjZSIsImZpcnN0Q2hpbGQiLCJjdXJyZW50TEZyYW1lIiwiY2hpbGRMRnJhbWUiLCJjaGlsZCIsImxlYXZlVmlld0xpZ2h0Iiwib2xkTEZyYW1lIiwibGVhdmVESSIsImxlYXZlVmlldyIsImdldFNlbGVjdGVkSW5kZXgiLCJzZXRTZWxlY3RlZEluZGV4IiwiZ2V0U2VsZWN0ZWRUTm9kZSIsInJlZ2lzdGVyUG9zdE9yZGVySG9va3MiLCJkaXJlY3RpdmVTdGFydCIsImVuZCIsImRpcmVjdGl2ZUVuZCIsImRpcmVjdGl2ZURlZiIsImxpZmVjeWNsZUhvb2tzIiwibmdBZnRlckNvbnRlbnRJbml0IiwibmdBZnRlckNvbnRlbnRDaGVja2VkIiwibmdBZnRlclZpZXdJbml0IiwibmdBZnRlclZpZXdDaGVja2VkIiwiY29udGVudEhvb2tzIiwiY29udGVudENoZWNrSG9va3MiLCJ2aWV3SG9va3MiLCJ2aWV3Q2hlY2tIb29rcyIsImRlc3Ryb3lIb29rcyIsImV4ZWN1dGVDaGVja0hvb2tzIiwiaG9va3MiLCJjYWxsSG9va3MiLCJleGVjdXRlSW5pdEFuZENoZWNrSG9va3MiLCJpbml0UGhhc2UiLCJpbmNyZW1lbnRJbml0UGhhc2VGbGFncyIsImN1cnJlbnRWaWV3IiwiY3VycmVudE5vZGVJbmRleCIsInN0YXJ0SW5kZXgiLCJub2RlSW5kZXhMaW1pdCIsImxhc3ROb2RlSW5kZXhGb3VuZCIsImNhbGxIb29rIiwiaXNJbml0SG9vayIsImhvb2siLCJkaXJlY3RpdmUiLCJOT19QQVJFTlRfSU5KRUNUT1IiLCJOb2RlSW5qZWN0b3JGYWN0b3J5IiwiaXNWaWV3UHJvdmlkZXIiLCJpbmplY3RJbXBsZW1lbnRhdGlvbiIsInJlc29sdmluZyIsImNhblNlZVZpZXdQcm92aWRlcnMiLCJpbmplY3RJbXBsIiwidG9UTm9kZVR5cGVBc1N0cmluZyIsInROb2RlVHlwZSIsInRleHQiLCJhc3NlcnRUTm9kZVR5cGUiLCJleHBlY3RlZFR5cGVzIiwic2V0VXBBdHRyaWJ1dGVzIiwibmF0aXZlIiwiYXR0cnMiLCJpc1Byb2MiLCJuYW1lc3BhY2VVUkkiLCJhdHRyTmFtZSIsImF0dHJWYWwiLCJzZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGVOUyIsImlzQW5pbWF0aW9uUHJvcCIsInNldFByb3BlcnR5IiwiaXNOYW1lT25seUF0dHJpYnV0ZU1hcmtlciIsIm1hcmtlciIsImNoYXJDb2RlQXQiLCJtZXJnZUhvc3RBdHRycyIsImRzdCIsInNyYyIsInNyY01hcmtlciIsIm1lcmdlSG9zdEF0dHJpYnV0ZSIsIm1hcmtlckluc2VydFBvc2l0aW9uIiwiZHN0VmFsdWUiLCJoYXNQYXJlbnRJbmplY3RvciIsInBhcmVudExvY2F0aW9uIiwiZ2V0UGFyZW50SW5qZWN0b3JJbmRleCIsImdldFBhcmVudEluamVjdG9yVmlldyIsInN0YXJ0VmlldyIsInZpZXdPZmZzZXQiLCJwYXJlbnRWaWV3IiwiaW5jbHVkZVZpZXdQcm92aWRlcnMiLCJzZXRJbmNsdWRlVmlld1Byb3ZpZGVycyIsIm5leHROZ0VsZW1lbnRJZCIsImdldE9yQ3JlYXRlTm9kZUluamVjdG9yRm9yTm9kZSIsImV4aXN0aW5nSW5qZWN0b3JJbmRleCIsImdldEluamVjdG9ySW5kZXgiLCJpbnNlcnRCbG9vbSIsImJsdWVwcmludCIsInBhcmVudExvYyIsImdldFBhcmVudEluamVjdG9yTG9jYXRpb24iLCJwYXJlbnRJbmRleCIsInBhcmVudERhdGEiLCJmb290ZXIiLCJkZWNsYXJhdGlvblZpZXdPZmZzZXQiLCJsVmlld0N1cnNvciIsInRWaWV3VHlwZSIsImRpUHVibGljSW5JbmplY3RvciIsImJsb29tSGFzaCIsIkJMT09NX1NJWkUiLCJtYXNrIiwiYmxvb21BZGQiLCJub3RGb3VuZFZhbHVlT3JUaHJvdyIsImxvb2t1cFRva2VuVXNpbmdNb2R1bGVJbmplY3RvciIsIlNlbGYiLCJtb2R1bGVJbmplY3RvciIsInByZXZpb3VzSW5qZWN0SW1wbGVtZW50YXRpb24iLCJnZXRPckNyZWF0ZUluamVjdGFibGUiLCJ0b2tlbklkIiwiY3JlYXRlTm9kZUluamVjdG9yIiwiYmxvb21IYXNoQml0T3JGYWN0b3J5IiwicHJldmlvdXNUVmlldyIsImhvc3RURWxlbWVudE5vZGUiLCJERUNMQVJBVElPTl9DT01QT05FTlRfVklFVyIsInNob3VsZFNlYXJjaFBhcmVudCIsImJsb29tSGFzVG9rZW4iLCJzZWFyY2hUb2tlbnNPbkluamVjdG9yIiwiTk9UX0ZPVU5EIiwiTm9kZUluamVjdG9yIiwiY3VycmVudFRWaWV3IiwiaW5qZWN0YWJsZUlkeCIsImxvY2F0ZURpcmVjdGl2ZU9yUHJvdmlkZXIiLCJnZXROb2RlSW5qZWN0YWJsZSIsImNhbkFjY2Vzc1ZpZXdQcm92aWRlcnMiLCJpc0hvc3RTcGVjaWFsQ2FzZSIsIm5vZGVQcm92aWRlckluZGV4ZXMiLCJwcm92aWRlckluZGV4ZXMiLCJ0SW5qZWN0YWJsZXMiLCJpbmplY3RhYmxlc1N0YXJ0IiwiZGlyZWN0aXZlc1N0YXJ0IiwiY3B0Vmlld1Byb3ZpZGVyc0NvdW50IiwiZW5kSW5kZXgiLCJwcm92aWRlclRva2VuT3JEZWYiLCJkaXJEZWYiLCJwcmV2aW91c0luY2x1ZGVWaWV3UHJvdmlkZXJzIiwiZGlyZWN0aXZlSW5kZXgiLCJuZ09uSW5pdCIsIm5nRG9DaGVjayIsIndyYXBwZWRPbkNoYW5nZXMiLCJwcmVPcmRlckhvb2tzIiwicHJlT3JkZXJDaGVja0hvb2tzIiwicmVnaXN0ZXJQcmVPcmRlckhvb2tzIiwiaW5qZWN0b3JWaWV3IiwiaXNGaXJzdEhvc3RUTm9kZSIsIl90Tm9kZSIsIl9sVmlldyIsIm93bkNvbnN0cnVjdG9yIiwib3duRmFjdG9yeSIsImdldEZhY3RvcnlPZiIsIm9iamVjdFByb3RvdHlwZSIsImF0dHJOYW1lVG9JbmplY3QiLCJjbGFzc2VzIiwiYXR0cnNMZW5ndGgiLCJpbmplY3RBdHRyaWJ1dGVJbXBsIiwiQU5OT1RBVElPTlMiLCJQQVJBTUVURVJTIiwiUFJPUF9NRVRBREFUQSIsIm1ha2VEZWNvcmF0b3IiLCJwcm9wcyIsInBhcmVudENsYXNzIiwiYWRkaXRpb25hbFByb2Nlc3NpbmciLCJ0eXBlRm4iLCJtZXRhQ3RvciIsIm1ha2VNZXRhZGF0YUN0b3IiLCJEZWNvcmF0b3JGYWN0b3J5IiwiYW5ub3RhdGlvbkluc3RhbmNlIiwiY2xzIiwibmdNZXRhZGF0YU5hbWUiLCJhbm5vdGF0aW9uQ2xzIiwicHJvcE5hbWUiLCJtYWtlUGFyYW1EZWNvcmF0b3IiLCJQYXJhbURlY29yYXRvckZhY3RvcnkiLCJQYXJhbURlY29yYXRvciIsImFubm90YXRpb24iLCJ1bnVzZWRLZXkiLCJwYXJhbWV0ZXJzIiwibWFrZVByb3BEZWNvcmF0b3IiLCJQcm9wRGVjb3JhdG9yRmFjdG9yeSIsImRlY29yYXRvckluc3RhbmNlIiwidW5zaGlmdCIsIkF0dHJpYnV0ZSIsImF0dHJpYnV0ZU5hbWUiLCJJbmplY3Rpb25Ub2tlbiIsIl9kZXNjIiwiQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UUyIsIlF1ZXJ5IiwiQ29udGVudENoaWxkcmVuIiwiYXNzaWduIiwiaXNWaWV3UXVlcnkiLCJkZXNjZW5kYW50cyIsImVtaXREaXN0aW5jdENoYW5nZXNPbmx5IiwiQ29udGVudENoaWxkIiwiVmlld0NoaWxkcmVuIiwiVmlld0NoaWxkIiwiRmFjdG9yeVRhcmdldCIsImdldENvbXBpbGVyRmFjYWRlIiwiZ2xvYmFsTmciLCJ1c2FnZSIsIlR5cGUiLCJpc1R5cGUiLCJmbGF0dGVuIiwiZGVlcEZvckVhY2giLCJhZGRUb0FycmF5IiwicmVtb3ZlRnJvbUFycmF5IiwibmV3QXJyYXkiLCJrZXlWYWx1ZUFycmF5U2V0Iiwia2V5VmFsdWVBcnJheSIsImtleVZhbHVlQXJyYXlJbmRleE9mIiwidmFsdWUxIiwidmFsdWUyIiwicHJldmlvdXNFbmQiLCJhcnJheUluc2VydDIiLCJrZXlWYWx1ZUFycmF5R2V0Iiwic3RhcnQiLCJtaWRkbGUiLCJfYXJyYXlJbmRleE9mU29ydGVkIiwiRVM1X0RFTEVHQVRFX0NUT1IiLCJFUzIwMTVfSU5IRVJJVEVEX0NMQVNTIiwiRVMyMDE1X0lOSEVSSVRFRF9DTEFTU19XSVRIX0NUT1IiLCJFUzIwMTVfSU5IRVJJVEVEX0NMQVNTX1dJVEhfREVMRUdBVEVfQ1RPUiIsIlJlZmxlY3Rpb25DYXBhYmlsaXRpZXMiLCJyZWZsZWN0IiwiX3JlZmxlY3QiLCJpc1JlZmxlY3Rpb25FbmFibGVkIiwiX3ppcFR5cGVzQW5kQW5ub3RhdGlvbnMiLCJwYXJhbVR5cGVzIiwicGFyYW1Bbm5vdGF0aW9ucyIsIl9vd25QYXJhbWV0ZXJzIiwicGFyZW50Q3RvciIsInR5cGVTdHIiLCJ0ZXN0IiwidHNpY2tsZUN0b3JQYXJhbXMiLCJjdG9yUGFyYW1ldGVycyIsImN0b3JQYXJhbSIsImNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhIiwiZGVjb3JhdG9ycyIsImdldE93bk1ldGFkYXRhIiwiZ2V0UGFyZW50Q3RvciIsIl9vd25Bbm5vdGF0aW9ucyIsInR5cGVPckZ1bmMiLCJhbm5vdGF0aW9ucyIsIm93bkFubm90YXRpb25zIiwiX293blByb3BNZXRhZGF0YSIsInByb3BNZXRhZGF0YSIsInByb3BEZWNvcmF0b3JzIiwicHJvcCIsInBhcmVudFByb3BNZXRhZGF0YSIsIm93blByb3BNZXRhZGF0YSIsImhhc0xpZmVjeWNsZUhvb2siLCJsY1Byb3BlcnR5IiwiZ3VhcmRzIiwiZ2V0dGVyIiwic2V0dGVyIiwibWV0aG9kIiwiaW1wb3J0VXJpIiwicmVzb3VyY2VVcmkiLCJyZXNvbHZlSWRlbnRpZmllciIsIm1vZHVsZVVybCIsIm1lbWJlcnMiLCJydW50aW1lIiwicmVzb2x2ZUVudW0iLCJlbnVtSWRlbnRpZmllciIsImRlY29yYXRvckludm9jYXRpb25zIiwiZGVjb3JhdG9ySW52b2NhdGlvbiIsImN0b3IiLCJwYXJlbnRQcm90byIsIlRIUk9XX0lGX05PVF9GT1VORCIsIk5FV19MSU5FIiwiU09VUkNFIiwiVVNFX1ZBTFVFJDEiLCJwcm92aWRlIiwidXNlVmFsdWUiLCJfY3VycmVudEluamVjdG9yIiwic2V0Q3VycmVudEluamVjdG9yIiwiaW5qZWN0b3IiLCJmb3JtZXIiLCJpbmplY3RJbmplY3Rvck9ubHkiLCJpbmplY3QiLCJpbmplY3RBcmdzIiwidHlwZXMiLCJhcmciLCJmbGFnIiwiYXR0YWNoSW5qZWN0RmxhZyIsImRlY29yYXRvciIsIkluamVjdCIsImdldFJlZmxlY3QiLCJyZWZsZWN0RGVwZW5kZW5jaWVzIiwiY29udmVydERlcGVuZGVuY2llcyIsImRlcHMiLCJkZXAiLCJhdHRyaWJ1dGUiLCJvcHRpb25hbCIsInNraXBTZWxmIiwicGFyYW0iLCJwcm90byIsInJlZmxlY3REZXBlbmRlbmN5IiwicmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcyIsInJlc291cmNlUmVzb2x2ZXIiLCJjb21wb25lbnRSZXNvbHZlZCIsInVybE1hcCIsImNhY2hlZFJlc291cmNlUmVzb2x2ZSIsInVybCIsInJlc3AiLCJ1bndyYXBSZXNwb25zZSIsImNvbXBvbmVudFJlc291cmNlUmVzb2x1dGlvblF1ZXVlIiwiY29tcG9uZW50IiwicHJvbWlzZXMiLCJ0ZW1wbGF0ZVVybCIsInN0eWxlVXJscyIsInN0eWxlT2Zmc2V0Iiwic3R5bGVVcmwiLCJzdHlsZSIsImZ1bGx5UmVzb2x2ZWQiLCJhbGwiLCJjb21wb25lbnREZWZQZW5kaW5nUmVzb2x1dGlvbiIsImNvbXBvbmVudERlZlJlc29sdmVkIiwiY2xlYXJSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXNRdWV1ZSIsImNvbXBvbmVudE5lZWRzUmVzb2x1dGlvbiIsIm9sZCIsInJlc3BvbnNlIiwicG9saWN5JDEiLCJwb2xpY3kiLCJnZXRQb2xpY3kkMSIsInRydXN0ZWRUeXBlcyIsImNyZWF0ZVBvbGljeSIsImNyZWF0ZUhUTUwiLCJjcmVhdGVTY3JpcHQiLCJjcmVhdGVTY3JpcHRVUkwiLCJ0cnVzdGVkSFRNTEZyb21TdHJpbmciLCJodG1sIiwiZ2V0UG9saWN5IiwidHJ1c3RlZEhUTUxGcm9tU3RyaW5nQnlwYXNzIiwidHJ1c3RlZFNjcmlwdEZyb21TdHJpbmdCeXBhc3MiLCJzY3JpcHQiLCJ0cnVzdGVkU2NyaXB0VVJMRnJvbVN0cmluZ0J5cGFzcyIsIlNhZmVWYWx1ZUltcGwiLCJjaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5IiwiU2FmZUh0bWxJbXBsIiwiZ2V0VHlwZU5hbWUiLCJTYWZlU3R5bGVJbXBsIiwiU2FmZVNjcmlwdEltcGwiLCJTYWZlVXJsSW1wbCIsIlNhZmVSZXNvdXJjZVVybEltcGwiLCJ1bndyYXBTYWZlVmFsdWUiLCJhbGxvd1Nhbml0aXphdGlvbkJ5cGFzc0FuZFRocm93IiwiYWN0dWFsVHlwZSIsImdldFNhbml0aXphdGlvbkJ5cGFzc1R5cGUiLCJieXBhc3NTYW5pdGl6YXRpb25UcnVzdEh0bWwiLCJ0cnVzdGVkSHRtbCIsImJ5cGFzc1Nhbml0aXphdGlvblRydXN0U3R5bGUiLCJ0cnVzdGVkU3R5bGUiLCJieXBhc3NTYW5pdGl6YXRpb25UcnVzdFNjcmlwdCIsInRydXN0ZWRTY3JpcHQiLCJieXBhc3NTYW5pdGl6YXRpb25UcnVzdFVybCIsInRydXN0ZWRVcmwiLCJieXBhc3NTYW5pdGl6YXRpb25UcnVzdFJlc291cmNlVXJsIiwidHJ1c3RlZFJlc291cmNlVXJsIiwiZ2V0SW5lcnRCb2R5SGVscGVyIiwiZGVmYXVsdERvYyIsImluZXJ0RG9jdW1lbnRIZWxwZXIiLCJJbmVydERvY3VtZW50SGVscGVyIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiaXNET01QYXJzZXJBdmFpbGFibGUiLCJET01QYXJzZXJIZWxwZXIiLCJnZXRJbmVydEJvZHlFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJpbmVydERvY3VtZW50IiwiaW1wbGVtZW50YXRpb24iLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJpbmVydEh0bWwiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJpbmVydEJvZHlFbGVtZW50IiwidGVtcGxhdGVFbCIsImlubmVySFRNTCIsImluZXJ0Qm9keSIsImRvY3VtZW50TW9kZSIsInN0cmlwQ3VzdG9tTnNBdHRycyIsImVsIiwiZWxBdHRycyIsImF0dHJpYnV0ZXMiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjaGlsZE5vZGUiLCJub2RlVHlwZSIsIkVMRU1FTlRfTk9ERSIsIm5leHRTaWJsaW5nIiwiU0FGRV9VUkxfUEFUVEVSTiIsIkRBVEFfVVJMX1BBVFRFUk4iLCJfc2FuaXRpemVVcmwiLCJtYXRjaCIsIndhcm4iLCJzYW5pdGl6ZVNyY3NldCIsInNyY3NldCIsInRyaW0iLCJ0YWdTZXQiLCJ0YWdzIiwic2V0cyIsIlZPSURfRUxFTUVOVFMiLCJPUFRJT05BTF9FTkRfVEFHX0JMT0NLX0VMRU1FTlRTIiwiT1BUSU9OQUxfRU5EX1RBR19JTkxJTkVfRUxFTUVOVFMiLCJPUFRJT05BTF9FTkRfVEFHX0VMRU1FTlRTIiwiQkxPQ0tfRUxFTUVOVFMiLCJJTkxJTkVfRUxFTUVOVFMiLCJWQUxJRF9FTEVNRU5UUyIsIlVSSV9BVFRSUyIsIlNSQ1NFVF9BVFRSUyIsIkhUTUxfQVRUUlMiLCJBUklBX0FUVFJTIiwiVkFMSURfQVRUUlMiLCJTS0lQX1RSQVZFUlNJTkdfQ09OVEVOVF9JRl9JTlZBTElEX0VMRU1FTlRTIiwiU2FuaXRpemluZ0h0bWxTZXJpYWxpemVyIiwic2FuaXRpemVkU29tZXRoaW5nIiwiYnVmIiwic2FuaXRpemVDaGlsZHJlbiIsInRyYXZlcnNlQ29udGVudCIsInN0YXJ0RWxlbWVudCIsIlRFWFRfTk9ERSIsImNoYXJzIiwibm9kZVZhbHVlIiwiZW5kRWxlbWVudCIsImNoZWNrQ2xvYmJlcmVkRWxlbWVudCIsInBhcmVudE5vZGUiLCJ0YWdOYW1lIiwibm9kZU5hbWUiLCJlbEF0dHIiLCJlbmNvZGVFbnRpdGllcyIsIm5leHROb2RlIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkiLCJvdXRlckhUTUwiLCJTVVJST0dBVEVfUEFJUl9SRUdFWFAiLCJOT05fQUxQSEFOVU1FUklDX1JFR0VYUCIsInJlcGxhY2UiLCJpbmVydEJvZHlIZWxwZXIiLCJfc2FuaXRpemVIdG1sIiwidW5zYWZlSHRtbElucHV0IiwidW5zYWZlSHRtbCIsIm1YU1NBdHRlbXB0cyIsInBhcnNlZEh0bWwiLCJzYW5pdGl6ZXIiLCJzYWZlSHRtbCIsImdldFRlbXBsYXRlQ29udGVudCIsImlzVGVtcGxhdGVFbGVtZW50IiwiY29udGVudCIsIlNlY3VyaXR5Q29udGV4dCIsImdldFNhbml0aXplciIsInNhbml0aXplIiwiSFRNTCIsInVuc2FmZVN0eWxlIiwiU1RZTEUiLCJ1bnNhZmVVcmwiLCJVUkwiLCJ1bnNhZmVSZXNvdXJjZVVybCIsIlJFU09VUkNFX1VSTCIsInVuc2FmZVNjcmlwdCIsIlNDUklQVCIsInJhdyIsInRydXN0ZWRTY3JpcHRVUkxGcm9tU3RyaW5nIiwidGFnIiwiZ2V0VXJsU2FuaXRpemVyIiwiZ2V0TENvbnRleHQiLCJtcFZhbHVlIiwicmVhZFBhdGNoZWREYXRhIiwiZmluZFZpYUNvbXBvbmVudCIsImlzRGlyZWN0aXZlSW5zdGFuY2UiLCJkaXJlY3RpdmVJbnN0YW5jZSIsImRpcmVjdGl2ZUluZGV4U3RhcnQiLCJkaXJlY3RpdmVJbmRleEVuZCIsInRyYXZlcnNlTmV4dEVsZW1lbnQiLCJmaW5kVmlhRGlyZWN0aXZlIiwiZ2V0RGlyZWN0aXZlc0F0Tm9kZUluZGV4IiwiZmluZFZpYU5hdGl2ZUVsZW1lbnQiLCJleGlzdGluZ0N0eCIsImNyZWF0ZUxDb250ZXh0IiwiYXR0YWNoUGF0Y2hEYXRhIiwickVsZW1lbnQiLCJwYXJlbnRDb250ZXh0IiwibG9jYWxSZWZzIiwiZ2V0Q29tcG9uZW50Vmlld0J5SW5zdGFuY2UiLCJjb21wb25lbnRJbnN0YW5jZSIsInJlYWRQYXRjaGVkTFZpZXciLCJjb21wb25lbnRJbmRpY2VzIiwiY29tcG9uZW50cyIsImVsZW1lbnRDb21wb25lbnRJbmRleCIsImluY2x1ZGVDb21wb25lbnRzIiwiZGlyZWN0aXZlU3RhcnRJbmRleCIsImRpcmVjdGl2ZUVuZEluZGV4IiwiZ2V0T3JpZ2luYWxFcnJvciIsImRlZmF1bHRFcnJvckxvZ2dlciIsIkVycm9ySGFuZGxlciIsIl9jb25zb2xlIiwib3JpZ2luYWxFcnJvciIsIl9maW5kT3JpZ2luYWxFcnJvciIsImVycm9yTG9nZ2VyIiwiZ2V0RXJyb3JMb2dnZXIiLCJDVVNUT01fRUxFTUVOVFNfU0NIRU1BIiwiTk9fRVJST1JTX1NDSEVNQSIsIkNPTU1FTlRfRElTQUxMT1dFRCIsIkNPTU1FTlRfREVMSU1JVEVSIiwiZXNjYXBlQ29tbWVudFRleHQiLCJDQU1FTF9DQVNFX1JFR0VYUCIsImRlZmF1bHRTY2hlZHVsZXIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJJTlRFUlBPTEFUSU9OX0RFTElNSVRFUiIsIm1heWJlVW53cmFwRm4iLCJ0aHJvd011bHRpcGxlQ29tcG9uZW50RXJyb3IiLCJjb25zdHJ1Y3REZXRhaWxzRm9ySW50ZXJwb2xhdGlvbiIsInJvb3RJbmRleCIsImV4cHJlc3Npb25JbmRleCIsImNoYW5nZWRWYWx1ZSIsInByZWZpeCIsImNodW5rcyIsIm5ld1ZhbHVlIiwic2xvdElkeCIsIlJlbmRlcmVyU3R5bGVGbGFnczIiLCJfaWN1Q29udGFpbmVySXRlcmF0ZSIsImljdUNvbnRhaW5lckl0ZXJhdGUiLCJ0SWN1Q29udGFpbmVyTm9kZSIsImdldExWaWV3UGFyZW50IiwiZ2V0Um9vdENvbnRleHQiLCJ2aWV3T3JDb21wb25lbnQiLCJyb290VmlldyIsImNvbXBvbmVudE9yTFZpZXciLCJnZXRSb290VmlldyIsImdldEZpcnN0TENvbnRhaW5lciIsImdldE5lYXJlc3RMQ29udGFpbmVyIiwiQ0hJTERfSEVBRCIsImdldE5leHRMQ29udGFpbmVyIiwiY29udGFpbmVyIiwiYXBwbHlUb0VsZW1lbnRPckNvbnRhaW5lciIsImxOb2RlVG9IYW5kbGUiLCJiZWZvcmVOb2RlIiwiaXNDb21wb25lbnQiLCJyTm9kZSIsIm5hdGl2ZUFwcGVuZENoaWxkIiwibmF0aXZlSW5zZXJ0QmVmb3JlIiwibmF0aXZlUmVtb3ZlTm9kZSIsImRlc3Ryb3lOb2RlIiwicGFyZW50UkVsZW1lbnQiLCJhbmNob3IiLCJhcHBseVZpZXciLCJhcHBseUNvbnRhaW5lciIsImNyZWF0ZVRleHROb2RlIiwiY3JlYXRlVGV4dCIsInVwZGF0ZVRleHROb2RlIiwic2V0VmFsdWUiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZUNvbW1lbnROb2RlIiwiY3JlYXRlQ29tbWVudCIsImNyZWF0ZUVsZW1lbnROb2RlIiwibmFtZXNwYWNlIiwibmFtZXNwYWNlVXJpIiwiZ2V0TmFtZXNwYWNlVXJpIiwiY3JlYXRlRWxlbWVudE5TIiwiZGV0YWNoTW92ZWRWaWV3IiwiZGVjbGFyYXRpb25Db250YWluZXIiLCJtb3ZlZFZpZXdzIiwiZGVjbGFyYXRpb25WaWV3SW5kZXgiLCJpbnNlcnRpb25MQ29udGFpbmVyIiwiZGV0YWNoVmlldyIsInJlbW92ZUluZGV4IiwiaW5kZXhJbkNvbnRhaW5lciIsInZpZXdUb0RldGFjaCIsImRlY2xhcmF0aW9uTENvbnRhaW5lciIsInJlbW92ZWRMVmlldyIsImxRdWVyaWVzIiwiUVVFUklFUyIsImRlc3Ryb3lMVmlldyIsImxWaWV3T3JMQ29udGFpbmVyIiwiY2xlYW5VcFZpZXciLCJmaXJzdFZpZXciLCJkZXN0cm95Vmlld1RyZWUiLCJ0b0NhbGwiLCJjYWxsQ29udGV4dCIsImV4ZWN1dGVPbkRlc3Ryb3lzIiwidENsZWFudXAiLCJjbGVhbnVwIiwibENsZWFudXAiLCJsYXN0TENsZWFudXBJbmRleCIsImlkeE9yVGFyZ2V0R2V0dGVyIiwibGlzdGVuZXIiLCJ1c2VDYXB0dXJlT3JTdWJJZHgiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaW5zdGFuY2VDbGVhbnVwRm4iLCJwcm9jZXNzQ2xlYW51cHMiLCJkZXN0cm95IiwiZ2V0UGFyZW50UkVsZW1lbnQiLCJnZXRDbG9zZXN0UkVsZW1lbnQiLCJOb25lIiwiaXNNb3ZlIiwiaW5zZXJ0QmVmb3JlIiwibmF0aXZlQXBwZW5kT3JJbnNlcnRCZWZvcmUiLCJuYXRpdmVQYXJlbnROb2RlIiwiZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGUiLCJfZ2V0SW5zZXJ0SW5Gcm9udE9mUk5vZGVXaXRoSTE4biIsImdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aE5vSTE4biIsIl9wcm9jZXNzSTE4bkluc2VydEJlZm9yZSIsInNldEkxOG5IYW5kbGluZyIsImdldEluc2VydEluRnJvbnRPZlJOb2RlV2l0aEkxOG4iLCJwcm9jZXNzSTE4bkluc2VydEJlZm9yZSIsImNoaWxkUk5vZGUiLCJjaGlsZFROb2RlIiwicGFyZW50Uk5vZGUiLCJhbmNob3JOb2RlIiwiZ2V0Rmlyc3ROYXRpdmVOb2RlIiwiZ2V0QmVmb3JlTm9kZUZvclZpZXciLCJlbEljdUNvbnRhaW5lckNoaWxkIiwick5vZGVPckxDb250YWluZXIiLCJuZXh0Uk5vZGUiLCJwcm9qZWN0aW9uTm9kZXMiLCJnZXRQcm9qZWN0aW9uTm9kZXMiLCJjb21wb25lbnRIb3N0IiwicHJvamVjdGlvbiIsImFzc2VydFByb2plY3Rpb25TbG90cyIsInZpZXdJbmRleEluQ29udGFpbmVyIiwibmV4dFZpZXdJbmRleCIsImZpcnN0VE5vZGVPZlZpZXciLCJpc0hvc3RFbGVtZW50IiwibmF0aXZlUGFyZW50IiwibmF0aXZlUmVtb3ZlQ2hpbGQiLCJhcHBseU5vZGVzIiwiaXNQcm9qZWN0aW9uIiwicmF3U2xvdFZhbHVlIiwiYXBwbHlQcm9qZWN0aW9uUmVjdXJzaXZlIiwicHJvamVjdGlvbk5leHQiLCJ0UHJvamVjdGlvbk5vZGUiLCJjb21wb25lbnRMVmlldyIsImNvbXBvbmVudE5vZGUiLCJub2RlVG9Qcm9qZWN0T3JSTm9kZXMiLCJ3cml0ZURpcmVjdFN0eWxlIiwiY3NzVGV4dCIsIndyaXRlRGlyZWN0Q2xhc3MiLCJjbGFzc05hbWUiLCJjbGFzc0luZGV4T2YiLCJjbGFzc1RvU2VhcmNoIiwic3RhcnRpbmdJbmRleCIsImZvdW5kSW5kZXgiLCJOR19URU1QTEFURV9TRUxFQ1RPUiIsImlzQ3NzQ2xhc3NNYXRjaGluZyIsImNzc0NsYXNzVG9NYXRjaCIsImlzUHJvamVjdGlvbk1vZGUiLCJpc0lubGluZVRlbXBsYXRlIiwiaGFzVGFnQW5kVHlwZU1hdGNoIiwiY3VycmVudFNlbGVjdG9yIiwiaXNOb2RlTWF0Y2hpbmdTZWxlY3RvciIsIm5vZGVBdHRycyIsIm5hbWVPbmx5TWFya2VySWR4IiwiZ2V0TmFtZU9ubHlNYXJrZXJJbmRleCIsInNraXBUb05leHRTZWxlY3RvciIsImlzUG9zaXRpdmUiLCJzZWxlY3RvckF0dHJWYWx1ZSIsImF0dHJJbmRleEluTm9kZSIsImZpbmRBdHRySW5kZXhJbk5vZGUiLCJub2RlQXR0clZhbHVlIiwiY29tcGFyZUFnYWluc3RDbGFzc05hbWUiLCJiaW5kaW5nc01vZGUiLCJtYXliZUF0dHJOYW1lIiwiYXR0ciIsIm1hdGNoVGVtcGxhdGVBdHRyaWJ1dGUiLCJpc05vZGVNYXRjaGluZ1NlbGVjdG9yTGlzdCIsImlzU2VsZWN0b3JJblNlbGVjdG9yTGlzdCIsInNlbGVjdG9yTGlzdExvb3AiLCJjdXJyZW50U2VsZWN0b3JJbkxpc3QiLCJtYXliZVdyYXBJbk5vdFNlbGVjdG9yIiwiaXNOZWdhdGl2ZU1vZGUiLCJjaHVuayIsInN0cmluZ2lmeUNTU1NlbGVjdG9yIiwiY3VycmVudENodW5rIiwidmFsdWVPck1hcmtlciIsImF0dHJWYWx1ZSIsIk5PX0NIQU5HRSIsIl9fYnJhbmRfXyIsImRlbHRhIiwic2VsZWN0SW5kZXhJbnRlcm5hbCIsImNoZWNrTm9DaGFuZ2VzTW9kZSIsImFzc2VydEluZGV4SW5EZWNsUmFuZ2UiLCJjcmVhdGVOYW1lZEFycmF5VHlwZSIsInRvVFN0eWxpbmdSYW5nZSIsImdldFRTdHlsaW5nUmFuZ2VQcmV2IiwidFN0eWxpbmdSYW5nZSIsImdldFRTdHlsaW5nUmFuZ2VQcmV2RHVwbGljYXRlIiwic2V0VFN0eWxpbmdSYW5nZVByZXZEdXBsaWNhdGUiLCJnZXRUU3R5bGluZ1JhbmdlTmV4dCIsInNldFRTdHlsaW5nUmFuZ2VOZXh0IiwiZ2V0VFN0eWxpbmdSYW5nZU5leHREdXBsaWNhdGUiLCJzZXRUU3R5bGluZ1JhbmdlTmV4dER1cGxpY2F0ZSIsImF0dGFjaERlYnVnT2JqZWN0IiwiZGVidWciLCJhdHRhY2hEZWJ1Z0dldHRlciIsImRlYnVnR2V0dGVyIiwiTFZJRVdfQ09NUE9ORU5UX0NBQ0hFIiwiTFZJRVdfRU1CRURERURfQ0FDSEUiLCJMVklFV19ST09UIiwiTFZJRVdfQ09NUE9ORU5UIiwiTFZJRVdfRU1CRURERUQiLCJMUm9vdFZpZXciLCJMQ29tcG9uZW50VmlldyIsIkxFbWJlZGRlZFZpZXciLCJuYW1lU3VmZml4IiwibGFzdEluZGV4T2YiLCJzdWJzdHIiLCJ0b0RlYnVnU3R5bGVCaW5kaW5nIiwiaXNDbGFzc0Jhc2VkIiwiYmluZGluZ3MiLCJyYW5nZSIsImNsYXNzQmluZGluZ3MiLCJzdHlsZUJpbmRpbmdzIiwiaXNUZW1wbGF0ZSIsImN1cnNvciIsIml0ZW1LZXkiLCJpdGVtUmFuZ2UiLCJwcmV2RHVwbGljYXRlIiwibmV4dER1cGxpY2F0ZSIsIm5leHRJbmRleCIsInByZXZJbmRleCIsInJlc2lkdWFsQ2xhc3NlcyIsInJlc2lkdWFsU3R5bGVzIiwicHJvY2Vzc1ROb2RlQ2hpbGRyZW4iLCJ0ZW1wbGF0ZV8iLCJUVmlld0RhdGEiLCJUVklFV0RBVEFfRU1QVFkiLCJMVmlld0JsdWVwcmludCIsIk1hdGNoZXNBcnJheSIsIlRWaWV3Q29tcG9uZW50cyIsIlROb2RlTG9jYWxOYW1lcyIsIlROb2RlSW5pdGlhbElucHV0cyIsIkxDbGVhbnVwIiwiVENsZWFudXAiLCJ0b0RlYnVnIiwidG9IdG1sIiwiaW5jbHVkZUNoaWxkcmVuIiwiQ09NTUVOVF9OT0RFIiwiTFZpZXdEZWJ1ZyIsIl9yYXdfbFZpZXciLCJfX3Jhd19fZmxhZ3NfXyIsImluaXRQaGFzZVN0YXRlIiwiY3JlYXRpb25Nb2RlIiwiZmlyc3RWaWV3UGFzcyIsImNoZWNrQWx3YXlzIiwiZGlydHkiLCJhdHRhY2hlZCIsImRlc3Ryb3llZCIsImluZGV4V2l0aGluSW5pdFBoYXNlIiwiaG9zdEhUTUwiLCJub2RlcyIsIm1hcFRvSFRNTCIsInRvRGVidWdOb2RlcyIsInJlbmRlcmVyRmFjdG9yeSIsIlJFTkRFUkVSX0ZBQ1RPUlkiLCJjaGlsZEhlYWQiLCJjaGlsZFRhaWwiLCJkZWNsYXJhdGlvblZpZXciLCJxdWVyaWVzIiwidEhvc3QiLCJ0b0xWaWV3UmFuZ2UiLCJleHBhbmRvIiwiY2hpbGRWaWV3cyIsImNoaWxkcmVuIiwibCIsImRlYnVnTm9kZXMiLCJ0Tm9kZUN1cnNvciIsImJ1aWxkRGVidWdOb2RlIiwiZmFjdG9yaWVzIiwiaW5zdGFuY2VzIiwiYnVpbGROb2RlSW5qZWN0b3JEZWJ1ZyIsImluamVjdG9yUmVzb2x1dGlvblBhdGgiLCJkZWJ1Z05vZGVJbmplY3RvclBhdGgiLCJ2aWV3UHJvdmlkZXJzIiwicHJvdmlkZXJJbmRleFN0YXJ0XyIsInByb3ZpZGVySW5kZXhFbmRfIiwiYmxvb20iLCJ0b0Jsb29tIiwiY3VtdWxhdGl2ZUJsb29tIiwicGFyZW50SW5qZWN0b3JJbmRleCIsImJpbmFyeSIsImlkeCIsIkxDb250YWluZXJEZWJ1ZyIsIl9yYXdfbENvbnRhaW5lciIsImhhc1RyYW5zcGxhbnRlZFZpZXdzIiwidmlld3MiLCJfQ0xFQU5fUFJPTUlTRSIsInJlZnJlc2hDb250ZW50UXVlcmllcyIsInF1ZXJ5U3RhcnRJZHgiLCJkaXJlY3RpdmVEZWZJZHgiLCJjcmVhdGVMVmlldyIsInRIb3N0Tm9kZSIsImNvbXBvbmVudEFycmF5IiwiZW1iZWRkZWRBcnJheSIsImdldExWaWV3VG9DbG9uZSIsImNsb25lVG9MVmlld0Zyb21UVmlld0JsdWVwcmludCIsImF0dGFjaExWaWV3RGVidWciLCJnZXRPckNyZWF0ZVROb2RlIiwiYXNzZXJ0UHVyZVROb2RlVHlwZSIsImNyZWF0ZVROb2RlQXRJbmRleCIsInRQYXJlbnQiLCJpbnNlcnRCZWZvcmVJbmRleCIsImRpcmVjdGl2ZVN0eWxpbmdMYXN0IiwicHJvcGVydHlCaW5kaW5ncyIsIm1lcmdlZEF0dHJzIiwibG9jYWxOYW1lcyIsImluaXRpYWxJbnB1dHMiLCJ0Vmlld3MiLCJzdHlsZXNXaXRob3V0SG9zdCIsImNsYXNzZXNXaXRob3V0SG9zdCIsInR5cGVfIiwiZmxhZ3NfIiwic3R5bGVCaW5kaW5nc18iLCJjbGFzc0JpbmRpbmdzXyIsInNlYWwiLCJjcmVhdGVUTm9kZSIsImFsbG9jRXhwYW5kbyIsIm51bVNsb3RzVG9BbGxvYyIsImFsbG9jSWR4IiwicmVuZGVyVmlldyIsImV4ZWN1dGVWaWV3UXVlcnlGbiIsInRlbXBsYXRlRm4iLCJleGVjdXRlVGVtcGxhdGUiLCJzdGF0aWNDb250ZW50UXVlcmllcyIsInN0YXRpY1ZpZXdRdWVyaWVzIiwiaG9zdExWaWV3IiwicmVuZGVyQ29tcG9uZW50JDEiLCJyZW5kZXJDaGlsZENvbXBvbmVudHMiLCJpbmNvbXBsZXRlRmlyc3RQYXNzIiwicmVmcmVzaFZpZXciLCJpc0luQ2hlY2tOb0NoYW5nZXNQYXNzIiwiaG9va3NJbml0UGhhc2VDb21wbGV0ZWQiLCJtb3ZlZExWaWV3IiwibWFya1RyYW5zcGxhbnRlZFZpZXdzRm9yUmVmcmVzaCIsImVtYmVkZGVkTFZpZXciLCJlbWJlZGRlZFRWaWV3IiwicmVmcmVzaEVtYmVkZGVkVmlld3MiLCJob3N0QmluZGluZ09wQ29kZXMiLCJvcENvZGUiLCJkaXJlY3RpdmVJZHgiLCJiaW5kaW5nUm9vdEluZHgiLCJob3N0QmluZGluZ0ZuIiwicHJvY2Vzc0hvc3RCaW5kaW5nT3BDb2RlcyIsInJlZnJlc2hDb21wb25lbnQiLCJyZWZyZXNoQ2hpbGRDb21wb25lbnRzIiwicmVuZGVyQ29tcG9uZW50T3JUZW1wbGF0ZSIsIm5vcm1hbEV4ZWN1dGlvblBhdGgiLCJjcmVhdGlvbk1vZGVJc0FjdGl2ZSIsImJlZ2luIiwicmYiLCJwcmV2U2VsZWN0ZWRJbmRleCIsImlzVXBkYXRlUGhhc2UiLCJleGVjdXRlQ29udGVudFF1ZXJpZXMiLCJjcmVhdGVEaXJlY3RpdmVzSW5zdGFuY2VzIiwiYWRkQ29tcG9uZW50TG9naWMiLCJzZXRJbnB1dHNGcm9tQXR0cnMiLCJpbnN0YW50aWF0ZUFsbERpcmVjdGl2ZXMiLCJlbGVtZW50SW5kZXgiLCJkaXJJbmRleCIsImludm9rZUhvc3RCaW5kaW5nc0luQ3JlYXRpb25Nb2RlIiwiaW52b2tlRGlyZWN0aXZlc0hvc3RCaW5kaW5ncyIsInNhdmVSZXNvbHZlZExvY2Fsc0luRGF0YSIsInZpZXdEYXRhIiwibG9jYWxSZWZFeHRyYWN0b3IiLCJsb2NhbEluZGV4IiwiZ2V0T3JDcmVhdGVUQ29tcG9uZW50VmlldyIsImNyZWF0ZVRWaWV3IiwiY29uc3RzT3JGYWN0b3J5IiwiaW5pdGlhbFZpZXdMZW5ndGgiLCJjcmVhdGVWaWV3Qmx1ZXByaW50IiwiZGlyZWN0aXZlUmVnaXN0cnkiLCJwaXBlUmVnaXN0cnkiLCJfZGVjbHMiLCJfdmFycyIsImZpbGwiLCJsb2NhdGVIb3N0RWxlbWVudCIsImVsZW1lbnRPclNlbGVjdG9yIiwicHJlc2VydmVDb250ZW50IiwiU2hhZG93RG9tIiwic2VsZWN0Um9vdEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYXNzZXJ0SG9zdE5vZGVFeGlzdHMiLCJzdG9yZUNsZWFudXBXaXRoQ29udGV4dCIsImNsZWFudXBGbiIsImdldE9yQ3JlYXRlTFZpZXdDbGVhbnVwIiwiZ2V0T3JDcmVhdGVUVmlld0NsZWFudXAiLCJnZW5lcmF0ZVByb3BlcnR5QWxpYXNlcyIsImlucHV0QWxpYXNNYXAiLCJwcm9wU3RvcmUiLCJpbnRlcm5hbE5hbWUiLCJlbGVtZW50UHJvcGVydHlJbnRlcm5hbCIsIm5hdGl2ZU9ubHkiLCJkYXRhVmFsdWUiLCJpbnB1dERhdGEiLCJzZXRJbnB1dHNGb3JQcm9wZXJ0eSIsInZpZXdJbmRleCIsImNoaWxkQ29tcG9uZW50TFZpZXciLCJtYXJrRGlydHlJZk9uUHVzaCIsInNldE5nUmVmbGVjdFByb3BlcnR5Iiwic2V0TmdSZWZsZWN0UHJvcGVydGllcyIsInN0YXJ0c1dpdGgiLCJ2YWxpZGF0ZUFnYWluc3RFdmVudFByb3BlcnRpZXMiLCJtYXRjaGluZ1NjaGVtYXMiLCJ2YWxpZGF0ZVByb3BlcnR5IiwibG9nVW5rbm93blByb3BlcnR5RXJyb3IiLCJkZWJ1Z1ZhbHVlIiwibm9ybWFsaXplRGVidWdCaW5kaW5nVmFsdWUiLCJzY2hlbWEiLCJyZXNvbHZlRGlyZWN0aXZlcyIsImhhc0RpcmVjdGl2ZXMiLCJyZWdpc3RyeSIsIm1hdGNoZXMiLCJtYXJrQXNDb21wb25lbnRIb3N0IiwiZmluZERpcmVjdGl2ZURlZk1hdGNoZXMiLCJleHBvcnRzTWFwIiwiaW5pdFROb2RlRmxhZ3MiLCJwcmVPcmRlckhvb2tzRm91bmQiLCJwcmVPcmRlckNoZWNrSG9va3NGb3VuZCIsImNvbmZpZ3VyZVZpZXdXaXRoRGlyZWN0aXZlIiwic2F2ZU5hbWVUb0V4cG9ydE1hcCIsImxpZmVDeWNsZUhvb2tzIiwidFZpZXdEYXRhIiwidE5vZGVBdHRycyIsImlucHV0c0Zyb21BdHRycyIsImlucHV0c1N0b3JlIiwib3V0cHV0c1N0b3JlIiwiZGlyZWN0aXZlSW5wdXRzIiwiZ2VuZXJhdGVJbml0aWFsSW5wdXRzIiwiaW5pdGlhbGl6ZUlucHV0QW5kT3V0cHV0QWxpYXNlcyIsImNhY2hlTWF0Y2hpbmdMb2NhbE5hbWVzIiwicmVnaXN0ZXJIb3N0QmluZGluZ09wQ29kZXMiLCJkaXJlY3RpdmVWYXJzSWR4IiwiZWxlbWVudEluZHgiLCJsYXN0U2VsZWN0ZWRFbGVtZW50SWR4IiwiaG9zdFROb2RlIiwibnVtYmVyT2ZEaXJlY3RpdmVzIiwiZGlyZWN0aXZlRmFjdG9yeSIsIm5vZGVJbmplY3RvckZhY3RvcnkiLCJjb21wb25lbnRWaWV3IiwiYWRkVG9WaWV3VHJlZSIsImVsZW1lbnRBdHRyaWJ1dGVJbnRlcm5hbCIsInZhbGlkYXRlQWdhaW5zdEV2ZW50QXR0cmlidXRlcyIsInNldEVsZW1lbnRBdHRyaWJ1dGUiLCJzdHJWYWx1ZSIsImluaXRpYWxJbnB1dERhdGEiLCJpbnB1dHNUb1N0b3JlIiwiTENvbnRhaW5lckFycmF5IiwiY3JlYXRlTENvbnRhaW5lciIsImhvc3ROYXRpdmUiLCJhdHRhY2hMQ29udGFpbmVyRGVidWciLCJjb21wb25lbnRIb3N0SWR4IiwicmVmcmVzaENvbnRhaW5zRGlydHlWaWV3IiwiY29tcG9uZW50VFZpZXciLCJzeW5jVmlld1dpdGhCbHVlcHJpbnQiLCJtYXJrVmlld0RpcnR5IiwidGlja1Jvb3RDb250ZXh0Iiwicm9vdENvbnRleHQiLCJyb290Q29tcG9uZW50IiwiZGV0ZWN0Q2hhbmdlc0ludGVybmFsIiwiZGV0ZWN0Q2hhbmdlc0luUm9vdFZpZXciLCJ2aWV3UXVlcnlGbiIsInN0b3JlUHJvcGVydHlCaW5kaW5nTWV0YWRhdGEiLCJwcm9wZXJ0eU5hbWUiLCJpbnRlcnBvbGF0aW9uUGFydHMiLCJiaW5kaW5nTWV0YWRhdGEiLCJDTEVBTl9QUk9NSVNFIiwibG9hZENvbXBvbmVudFJlbmRlcmVyIiwiY3VycmVudERlZiIsInVud3JhcExWaWV3IiwidGV4dEJpbmRpbmdJbnRlcm5hbCIsImNvbXB1dGVTdGF0aWNTdHlsaW5nIiwid3JpdGVUb0hvc3QiLCJkZXRlY3RDaGFuZ2VzIiwibWFya0RpcnR5IiwiY2xlYW4iLCJwbGF5ZXJIYW5kbGVyIiwiZmx1c2hQbGF5ZXJzIiwic2NoZWR1bGVUaWNrIiwiSU5KRUNUT1IiLCJOdWxsSW5qZWN0b3IiLCJJTkpFQ1RPUl9TQ09QRSIsIk5PVF9ZRVQiLCJDSVJDVUxBUiIsIk5VTExfSU5KRUNUT1IkMSIsImdldE51bGxJbmplY3RvciIsImNyZWF0ZUluamVjdG9yIiwiZGVmVHlwZSIsImFkZGl0aW9uYWxQcm92aWRlcnMiLCJjcmVhdGVJbmplY3RvcldpdGhvdXRJbmplY3Rvckluc3RhbmNlcyIsIl9yZXNvbHZlSW5qZWN0b3JEZWZUeXBlcyIsIlIzSW5qZWN0b3IiLCJyZWNvcmRzIiwiaW5qZWN0b3JEZWZUeXBlcyIsIl9kZXN0cm95ZWQiLCJkZWR1cFN0YWNrIiwicHJvY2Vzc1Byb3ZpZGVyIiwiaW5qZWN0b3JEZWYiLCJwcm9jZXNzSW5qZWN0b3JUeXBlIiwibWFrZVJlY29yZCIsImFzc2VydE5vdERlc3Ryb3llZCIsInNlcnZpY2UiLCJwcmV2aW91c0luamVjdG9yIiwiaW5qZWN0YWJsZURlZkluU2NvcGUiLCJpbmplY3RhYmxlRGVmT3JJbmplY3RvckRlZkZhY3RvcnkiLCJoeWRyYXRlIiwibmV4dEluamVjdG9yIiwiaW5qZWN0b3JFcnJvck5hbWUiLCJ0b2tlblBhdGgiLCJjaGFyQXQiLCJwYXJ0cyIsImZvcm1hdEVycm9yIiwiY2F0Y2hJbmplY3RvckVycm9yIiwidG9rZW5zIiwiZGVmT3JXcmFwcGVkRGVmIiwicGFyZW50cyIsIm5nTW9kdWxlIiwiaXNEdXBsaWNhdGUiLCJpbXBvcnRUeXBlc1dpdGhQcm92aWRlcnMiLCJpbXBvcnRlZCIsImRlZlByb3ZpZGVycyIsImluamVjdG9yVHlwZSIsIm5nTW9kdWxlVHlwZSIsImlzVHlwZVByb3ZpZGVyIiwiaXNWYWx1ZVByb3ZpZGVyIiwicHJvdmlkZXJUb0ZhY3RvcnkiLCJwcm92aWRlclRvUmVjb3JkIiwibXVsdGkiLCJleGlzdGluZyIsIm11bHRpUmVjb3JkIiwicGFyYW1MZW5ndGgiLCJpbmhlcml0ZWRJbmplY3RhYmxlRGVmIiwidHlwZU5hbWUiLCJnZXRJbmhlcml0ZWRJbmplY3RhYmxlRGVmIiwiZ2V0VW5kZWNvcmF0ZWRJbmplY3RhYmxlRmFjdG9yeSIsInVud3JhcHBlZFByb3ZpZGVyIiwidXNlRmFjdG9yeSIsInVzZUV4aXN0aW5nIiwiaXNFeGlzdGluZ1Byb3ZpZGVyIiwiY2xhc3NSZWYiLCJ1c2VDbGFzcyIsIm5nTW9kdWxlRGV0YWlsIiwidGhyb3dJbnZhbGlkUHJvdmlkZXJFcnJvciIsImhhc0RlcHMiLCJJbmplY3RvciIsInN0YXRpYyIsImdldENvbXBvbmVudCQxIiwiYXNzZXJ0RG9tRWxlbWVudCIsImdldENvbXBvbmVudEF0Tm9kZUluZGV4IiwiZ2V0Q29udGV4dCIsImdldE93bmluZ0NvbXBvbmVudCIsImVsZW1lbnRPckRpciIsImdldFJvb3RDb21wb25lbnRzIiwiZ2V0SW5qZWN0b3IiLCJOVUxMIiwiZ2V0RGlyZWN0aXZlcyIsIlRleHQiLCJnZXREaXJlY3RpdmVNZXRhZGF0YSQxIiwiZGlyZWN0aXZlT3JDb21wb25lbnRJbnN0YW5jZSIsImNvbXBvbmVudERlZiIsImdldEhvc3RFbGVtZW50IiwiY29tcG9uZW50T3JEaXJlY3RpdmUiLCJnZXRMaXN0ZW5lcnMiLCJsQ29udGV4dCIsImxpc3RlbmVycyIsImZpcnN0UGFyYW0iLCJzZWNvbmRQYXJhbSIsImxpc3RlbmVyRWxlbWVudCIsInVzZUNhcHR1cmVPckluZHgiLCJ1c2VDYXB0dXJlIiwic29ydExpc3RlbmVycyIsIkVsZW1lbnQiLCJhcHBseUNoYW5nZXMiLCJfcHVibGlzaGVkIiwicHVibGlzaERlZmF1bHRHbG9iYWxVdGlscyQxIiwicHVibGlzaEdsb2JhbFV0aWwiLCJDT01QSUxFRCIsInciLCJyZW5kZXJDb21wb25lbnQiLCJjb21wb25lbnRUeXBlIiwiY29tcG9uZW50VGFnIiwiaG9zdFJOb2RlIiwicm9vdEZsYWdzIiwiY3JlYXRlUm9vdENvbnRleHQiLCJyb290VFZpZXciLCJjcmVhdGVSb290Q29tcG9uZW50IiwiY3JlYXRlUm9vdENvbXBvbmVudFZpZXciLCJob3N0RmVhdHVyZXMiLCJob3N0UmVuZGVyZXIiLCJ2aWV3UmVuZGVyZXIiLCJyb290TFZpZXciLCJyb290VE5vZGUiLCJpbnN0YW50aWF0ZVJvb3RDb21wb25lbnQiLCJMaWZlY3ljbGVIb29rc0ZlYXR1cmUiLCJ3aGVuUmVuZGVyZWQiLCJnZXRTdXBlclR5cGUiLCJzdXBlclR5cGUiLCJzaG91bGRJbmhlcml0RmllbGRzIiwiaW5oZXJpdGFuY2VDaGFpbiIsInN1cGVyRGVmIiwid3JpdGVhYmxlRGVmIiwibWF5YmVVbndyYXBFbXB0eSIsInN1cGVySG9zdEJpbmRpbmdzIiwiaW5oZXJpdEhvc3RCaW5kaW5ncyIsInN1cGVyVmlld1F1ZXJ5Iiwic3VwZXJDb250ZW50UXVlcmllcyIsImluaGVyaXRWaWV3UXVlcnkiLCJpbmhlcml0Q29udGVudFF1ZXJpZXMiLCJhbmltYXRpb24iLCJkZWZEYXRhIiwibWVyZ2VIb3N0QXR0cnNBY3Jvc3NJbmhlcml0YW5jZSIsInByZXZWaWV3UXVlcnkiLCJjdHgiLCJwcmV2Q29udGVudFF1ZXJpZXMiLCJwcmV2SG9zdEJpbmRpbmdzIiwiQ09QWV9ESVJFQ1RJVkVfRklFTERTIiwiQ09QWV9DT01QT05FTlRfRklFTERTIiwiZGVmQW55IiwiX3N5bWJvbEl0ZXJhdG9yIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImRldk1vZGVFcXVhbCIsImlzTGlzdExpa2VJdGVyYWJsZUEiLCJpc0xpc3RMaWtlSXRlcmFibGUiLCJpc0xpc3RMaWtlSXRlcmFibGVCIiwiaXRlcmF0b3IxIiwiaXRlcmF0b3IyIiwiaXRlbTEiLCJpdGVtMiIsImFyZUl0ZXJhYmxlc0VxdWFsIiwiaXNBT2JqZWN0IiwiaXNCT2JqZWN0IiwiaXMiLCJpc0pzT2JqZWN0IiwidXBkYXRlQmluZGluZyIsImdldEJpbmRpbmciLCJiaW5kaW5nVXBkYXRlZCIsIm9sZFZhbHVlVG9Db21wYXJlIiwiZGV0YWlscyIsIm1ldGFkYXRhIiwiUmVnRXhwIiwiZ2V0RXhwcmVzc2lvbkNoYW5nZWRFcnJvckRldGFpbHMiLCJjdXJyVmFsdWUiLCJ0aHJvd0Vycm9ySWZOb0NoYW5nZXNNb2RlIiwiYmluZGluZ1VwZGF0ZWQyIiwiZXhwMSIsImV4cDIiLCJkaWZmZXJlbnQiLCJiaW5kaW5nVXBkYXRlZDMiLCJleHAzIiwiYmluZGluZ1VwZGF0ZWQ0IiwiZXhwNCIsImludGVycG9sYXRpb25WIiwiaXNCaW5kaW5nVXBkYXRlZCIsImludGVycG9sYXRpb24xIiwidjAiLCJzdWZmaXgiLCJpbnRlcnBvbGF0aW9uMiIsImkwIiwidjEiLCJpbnRlcnBvbGF0aW9uMyIsImkxIiwidjIiLCJpbnRlcnBvbGF0aW9uNCIsImkyIiwidjMiLCJpbnRlcnBvbGF0aW9uNSIsImkzIiwidjQiLCJpbnRlcnBvbGF0aW9uNiIsImk0IiwidjUiLCJpbnRlcnBvbGF0aW9uNyIsImk1IiwidjYiLCJpbnRlcnBvbGF0aW9uOCIsImk2IiwidjciLCJpbnRlcnBvbGF0ZWRWYWx1ZSIsImludGVycG9sYXRlZCIsImludGVycG9sYXRpb25JbkJldHdlZW4iLCJhdHRyc0luZGV4IiwibG9jYWxSZWZzSW5kZXgiLCJhZGp1c3RlZEluZGV4IiwidFZpZXdDb25zdHMiLCJ0ZW1wbGF0ZUZpcnN0Q3JlYXRlUGFzcyIsImNvbW1lbnQiLCJhbmd1bGFyQ29yZURpRW52IiwiVVNFX1ZBTFVFIiwiaXNVc2VDbGFzc1Byb3ZpZGVyIiwiaXNVc2VGYWN0b3J5UHJvdmlkZXIiLCJuZ0ZhY3RvcnlEZWYiLCJjb21waWxlciIsImNvbXBpbGVJbmplY3RhYmxlIiwic3JjTWV0YSIsImNvbXBpbGVyTWV0YSIsInR5cGVBcmd1bWVudENvdW50IiwiaXNVc2VWYWx1ZVByb3ZpZGVyIiwiaXNVc2VFeGlzdGluZ1Byb3ZpZGVyIiwiZ2V0SW5qZWN0YWJsZU1ldGFkYXRhIiwiY29tcGlsZUZhY3RvcnkiLCJjb25zdHJ1Y3RSZXNvbHZpbmdQYXRoIiwiZmluZEZpcnN0Q2xvc2VkQ3ljbGUiLCJyZXZlcnNlIiwiayIsImluamVjdGlvbkVycm9yIiwiY29uc3RydWN0UmVzb2x2aW5nTWVzc2FnZSIsImVyck1zZyIsIndyYXBwZWRFcnJvciIsImFkZEtleSIsImluamVjdG9ycyIsIm5vQW5ub3RhdGlvbkVycm9yIiwicGFyYW1zIiwicGFyYW1ldGVyIiwiUmVmbGVjdGl2ZUtleSIsImRpc3BsYXlOYW1lIiwiX2dsb2JhbEtleVJlZ2lzdHJ5IiwibnVtYmVyT2ZLZXlzIiwiX2FsbEtleXMiLCJuZXdLZXkiLCJyZWZsZWN0b3IiLCJyZWZsZWN0aW9uQ2FwYWJpbGl0aWVzIiwidXBkYXRlQ2FwYWJpbGl0aWVzIiwiY2FwcyIsImlkZW50aWZpZXIiLCJSZWZsZWN0aXZlRGVwZW5kZW5jeSIsInZpc2liaWxpdHkiLCJfRU1QVFlfTElTVCIsIlJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyXyIsInJlc29sdmVkRmFjdG9yaWVzIiwibXVsdGlQcm92aWRlciIsInJlc29sdmVkRmFjdG9yeSIsIlJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnkiLCJkZXBlbmRlbmNpZXMiLCJyZXNvbHZlUmVmbGVjdGl2ZUZhY3RvcnkiLCJmYWN0b3J5Rm4iLCJyZXNvbHZlZERlcHMiLCJfZGVwZW5kZW5jaWVzRm9yIiwiYWxpYXNJbnN0YW5jZSIsImZyb21LZXkiLCJfZXh0cmFjdFRva2VuIiwiY29uc3RydWN0RGVwZW5kZW5jaWVzIiwicmVzb2x2ZVJlZmxlY3RpdmVQcm92aWRlciIsInJlc29sdmVSZWZsZWN0aXZlUHJvdmlkZXJzIiwicmVzb2x2ZWRQcm92aWRlck1hcCIsIm5vcm1hbGl6ZWRQcm92aWRlcnNNYXAiLCJyZXNvbHZlZFByb3ZpZGVyIiwibWVyZ2VSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMiLCJfbm9ybWFsaXplUHJvdmlkZXJzIiwiX2NyZWF0ZURlcGVuZGVuY3kiLCJwYXJhbU1ldGFkYXRhIiwiVU5ERUZJTkVEIiwiUmVmbGVjdGl2ZUluamVjdG9yIiwiUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzIiwiZnJvbVJlc29sdmVkUHJvdmlkZXJzIiwiUmVmbGVjdGl2ZUluamVjdG9yXyIsIl9wcm92aWRlcnMiLCJfcGFyZW50IiwiX2NvbnN0cnVjdGlvbkNvdW50ZXIiLCJrZXlJZHMiLCJvYmpzIiwiX2dldEJ5S2V5IiwicmVzb2x2ZUFuZENyZWF0ZUNoaWxkIiwiY3JlYXRlQ2hpbGRGcm9tUmVzb2x2ZWQiLCJpbmoiLCJyZXNvbHZlQW5kSW5zdGFudGlhdGUiLCJpbnN0YW50aWF0ZVJlc29sdmVkIiwiX2luc3RhbnRpYXRlUHJvdmlkZXIiLCJnZXRQcm92aWRlckF0SW5kZXgiLCJvdXRPZkJvdW5kc0Vycm9yIiwiX25ldyIsIl9nZXRNYXhOdW1iZXJPZk9iamVjdHMiLCJfaW5zdGFudGlhdGUiLCJfZ2V0QnlSZWZsZWN0aXZlRGVwZW5kZW5jeSIsIm9yaWdpbmFsRXhjZXB0aW9uIiwiSU5KRUNUT1JfS0VZIiwiX2dldEJ5S2V5U2VsZiIsIl9nZXRCeUtleURlZmF1bHQiLCJfZ2V0T2JqQnlLZXlJZCIsImtleUlkIiwiX3Rocm93T3JOdWxsIiwibm9Qcm92aWRlckVycm9yIiwiaW5qXyIsIl9tYXBQcm92aWRlcnMiLCJzZXREaXJlY3RpdmVJbnB1dHNXaGljaFNoYWRvd3NTdHlsaW5nIiwicHJvcGVydHkiLCJIVE1MVW5rbm93bkVsZW1lbnQiLCJjdXN0b21FbGVtZW50cyIsImxvZ1Vua25vd25FbGVtZW50RXJyb3IiLCJlbGVtZW50U3RhcnQiLCJlbGVtZW50U3RhcnRGaXJzdENyZWF0ZVBhc3MiLCJlbGVtZW50RW5kIiwiaGFzQ2xhc3NJbnB1dCIsImhhc1N0eWxlSW5wdXQiLCJlbGVtZW50Q29udGFpbmVyU3RhcnRGaXJzdENyZWF0ZVBhc3MiLCJpc1N1YnNjcmliYWJsZSIsImlzT2JzZXJ2YWJsZSIsImV2ZW50TmFtZSIsImxpc3RlbmVyRm4iLCJldmVudFRhcmdldFJlc29sdmVyIiwibGlzdGVuZXJJbnRlcm5hbCIsImlzVE5vZGVEaXJlY3RpdmVIb3N0IiwicHJvY2Vzc091dHB1dHMiLCJsQ2xlYW51cEluZGV4IiwiZXhpc3RpbmdMaXN0ZW5lciIsInROb2RlSWR4IiwiY2xlYW51cEV2ZW50TmFtZSIsImxpc3RlbmVySWR4SW5MQ2xlYW51cCIsImZpbmRFeGlzdGluZ0xpc3RlbmVyIiwiX19uZ0xhc3RMaXN0ZW5lckZuX18iLCJfX25nTmV4dExpc3RlbmVyRm5fXyIsIndyYXBMaXN0ZW5lciIsImxpc3RlbiIsInByb3BzTGVuZ3RoIiwibWluaWZpZWROYW1lIiwib3V0cHV0IiwiZXhlY3V0ZUxpc3RlbmVyV2l0aEVycm9ySGFuZGxpbmciLCJ3cmFwV2l0aFByZXZlbnREZWZhdWx0Iiwid3JhcExpc3RlbmVySW5fbWFya0RpcnR5QW5kUHJldmVudERlZmF1bHQiLCJuZXh0TGlzdGVuZXJGbiIsInByZXZlbnREZWZhdWx0IiwicmV0dXJuVmFsdWUiLCJsZXZlbCIsIm5lc3RpbmdMZXZlbCIsIndhbGtVcFZpZXdzIiwibmV4dENvbnRleHRJbXBsIiwibWF0Y2hpbmdQcm9qZWN0aW9uU2xvdEluZGV4IiwicHJvamVjdGlvblNsb3RzIiwid2lsZGNhcmROZ0NvbnRlbnRJbmRleCIsIm5nUHJvamVjdEFzQXR0clZhbCIsIm5nUHJvamVjdEFzQXR0cklkeCIsImdldFByb2plY3RBc0F0dHJWYWx1ZSIsIm51bVByb2plY3Rpb25TbG90cyIsInByb2plY3Rpb25IZWFkcyIsInRhaWxzIiwiY29tcG9uZW50Q2hpbGQiLCJzbG90SW5kZXgiLCJzZWxlY3RvckluZGV4IiwiYXBwbHlQcm9qZWN0aW9uIiwibWFya0R1cGxpY2F0ZXMiLCJ0U3R5bGluZ0tleSIsImlzUHJldkRpciIsImlzQ2xhc3NCaW5kaW5nIiwidFN0eWxpbmdBdEluZGV4IiwiaXNNYXAiLCJmb3VuZER1cGxpY2F0ZSIsInRTdHlsaW5nVmFsdWVBdEN1cnNvciIsInRTdHlsZVJhbmdlQXRDdXJzb3IiLCJpc1N0eWxpbmdNYXRjaCIsInRTdHlsaW5nS2V5Q3Vyc29yIiwicGFyc2VyU3RhdGUiLCJ0ZXh0RW5kIiwia2V5RW5kIiwidmFsdWVFbmQiLCJnZXRMYXN0UGFyc2VkS2V5IiwiZ2V0TGFzdFBhcnNlZFZhbHVlIiwicGFyc2VDbGFzc05hbWVOZXh0IiwiY29uc3VtZUNsYXNzVG9rZW4iLCJjb25zdW1lV2hpdGVzcGFjZSIsInBhcnNlU3R5bGVOZXh0IiwiY2giLCJjb25zdW1lU3R5bGVLZXkiLCJjb25zdW1lU2VwYXJhdG9yIiwiY2gxIiwiY2gyIiwiY2gzIiwibGFzdENoSW5kZXgiLCJjb25zdW1lUXVvdGVkVGV4dCIsImNvbnN1bWVTdHlsZVZhbHVlIiwicmVzZXRQYXJzZXJTdGF0ZSIsInNlcGFyYXRvciIsIm1hbGZvcm1lZFN0eWxlRXJyb3IiLCJmcm9tQ2hhckNvZGUiLCJxdW90ZUNoYXJDb2RlIiwiZXhwZWN0aW5nIiwiY2hlY2tTdHlsaW5nUHJvcGVydHkiLCJjaGVja1N0eWxpbmdNYXAiLCJzdHlsZUtleVZhbHVlQXJyYXlTZXQiLCJzdHlsZVN0cmluZ1BhcnNlciIsInBhcnNlU3R5bGUiLCJjbGFzc1N0cmluZ1BhcnNlciIsInBhcnNlQ2xhc3NOYW1lIiwic3R5bGluZ0ZpcnN0VXBkYXRlUGFzcyIsInVwZGF0ZVN0eWxpbmciLCJub3JtYWxpemVTdWZmaXgiLCJzdHJpbmdQYXJzZXIiLCJoYXNTdHlsaW5nSW5wdXRTaGFkb3ciLCJpc0luSG9zdEJpbmRpbmdzIiwic3RhdGljUHJlZml4IiwiZW5kc1dpdGgiLCJvbGRLZXlWYWx1ZUFycmF5IiwibmV3S2V5VmFsdWVBcnJheSIsIm9sZEluZGV4IiwibmV3SW5kZXgiLCJvbGRLZXkiLCJzZXRLZXkiLCJ1cGRhdGVTdHlsaW5nTWFwIiwic3R5bGVLZXlWYWx1ZUFycmF5IiwidW53cmFwcGVkVmFsdWUiLCJ0b1N0eWxpbmdLZXlWYWx1ZUFycmF5IiwiaXNIb3N0QmluZGluZ3MiLCJzdHlsaW5nS2V5IiwiaG9zdERpcmVjdGl2ZURlZiIsInJlc2lkdWFsIiwiY29sbGVjdFN0eWxpbmdGcm9tVEF0dHJzIiwiY29sbGVjdFN0eWxpbmdGcm9tRGlyZWN0aXZlcyIsInRlbXBsYXRlU3R5bGluZ0tleSIsImdldFRlbXBsYXRlSGVhZFRTdHlsaW5nS2V5Iiwic2V0VGVtcGxhdGVIZWFkVFN0eWxpbmdLZXkiLCJjb2xsZWN0UmVzaWR1YWwiLCJ3cmFwSW5TdGF0aWNTdHlsaW5nS2V5IiwidFN0eWxpbmdLZXlXaXRoU3RhdGljIiwiaXNIb3N0QmluZGluZyIsInRCaW5kaW5ncyIsInRtcGxIZWFkIiwidG1wbFRhaWwiLCJpc0tleUR1cGxpY2F0ZU9mU3RhdGljIiwic3RhdGljS2V5VmFsdWVBcnJheSIsInByZXZpb3VzTm9kZSIsIm1hcmtEdXBsaWNhdGVPZlJlc2lkdWFsU3R5bGluZyIsImluc2VydFRTdHlsaW5nQmluZGluZyIsImN1cnJlbnREaXJlY3RpdmUiLCJkZXNpcmVkTWFya2VyIiwiY3VycmVudE1hcmtlciIsInRSYW5nZSIsImlzU3R5bGluZ1ZhbHVlUHJlc2VudCIsImZpbmRTdHlsaW5nVmFsdWUiLCJpc1Byb2NlZHVyYWwiLCJhZGRDbGFzcyIsImNsYXNzTGlzdCIsInJlbW92ZUNsYXNzIiwiRGFzaENhc2UiLCJyZW1vdmVTdHlsZSIsInJlbW92ZVByb3BlcnR5IiwiaXNJbXBvcnRhbnQiLCJJbXBvcnRhbnQiLCJzZXRTdHlsZSIsImFwcGx5U3R5bGluZyIsImlzUHJldkRpcmVjdGlvbiIsInJhd0tleSIsImNvbnRhaW5zU3RhdGljcyIsImlzU3R5bGluZ01hcCIsInZhbHVlQXRMVmlld0luZGV4IiwidGV4dE5hdGl2ZSIsInZhbHVlU3VmZml4IiwibmdJMThuQ2xvc3VyZU1vZGUiLCJnb29nIiwiZ2V0TXNnIiwidSIsImxvY2FsZUVuIiwidmFsIiwiTE9DQUxFX0RBVEEiLCJyZWdpc3RlckxvY2FsZURhdGEiLCJsb2NhbGVJZCIsImV4dHJhRGF0YSIsIkxvY2FsZURhdGFJbmRleCIsIkxvY2FsZUlkIiwiRXh0cmFEYXRhIiwiZmluZExvY2FsZURhdGEiLCJsb2NhbGUiLCJub3JtYWxpemVkTG9jYWxlIiwibm9ybWFsaXplTG9jYWxlIiwiZ2V0TG9jYWxlRGF0YSIsInBhcmVudExvY2FsZSIsImdldExvY2FsZUN1cnJlbmN5Q29kZSIsIkN1cnJlbmN5Q29kZSIsImdldExvY2FsZVBsdXJhbENhc2UiLCJQbHVyYWxDYXNlIiwibmciLCJjb21tb24iLCJsb2NhbGVzIiwidW5yZWdpc3RlckFsbExvY2FsZURhdGEiLCJwbHVyYWxNYXBwaW5nIiwiREVGQVVMVF9MT0NBTEVfSUQiLCJFTEVNRU5UX01BUktFUiIsIklDVV9NQVJLRVIiLCJJMThuQ3JlYXRlT3BDb2RlIiwiTE9DQUxFX0lEJDEiLCJzZXRMb2NhbGVJZCIsInROb2RlSW5zZXJ0QmVmb3JlSW5kZXgiLCJpMThuUGFyZW50IiwiYW5jaG9yUk5vZGUiLCJhZGRUTm9kZUFuZFVwZGF0ZUluc2VydEJlZm9yZUluZGV4IiwicHJldmlvdXNUTm9kZXMiLCJuZXdUTm9kZSIsImV4aXN0aW5nVE5vZGUiLCJpc0kxOG5UZXh0IiwiaXNOZXdUTm9kZUNyZWF0ZWRCZWZvcmUiLCJnZXRJbnNlcnRCZWZvcmVJbmRleCIsInNldEluc2VydEJlZm9yZUluZGV4IiwiZ2V0VEljdSIsImNyZWF0ZVROb2RlUGxhY2Vob2xkZXIiLCJnZXRDdXJyZW50SUNVQ2FzZUluZGV4IiwiY3VycmVudENhc2UiLCJnZXRQYXJlbnRGcm9tSWN1Q3JlYXRlT3BDb2RlIiwibWVyZ2VkQ29kZSIsImdldFJlZkZyb21JY3VDcmVhdGVPcENvZGUiLCJnZXRJbnN0cnVjdGlvbkZyb21JY3VDcmVhdGVPcENvZGUiLCJjaGFuZ2VNYXNrIiwiY2hhbmdlTWFza0NvdW50ZXIiLCJhcHBseU11dGFibGVPcENvZGVzIiwibXV0YWJsZU9wQ29kZXMiLCJyb290Uk5vZGUiLCJyb290SWR4IiwidGV4dE5vZGVJbmRleCIsInBhcmVudElkeCIsImluc2VydEluRnJvbnRPZiIsInJlZklkeCIsImNhc2VJbmRleCIsImFuY2hvcklkeCIsImVsZW1lbnROb2RlSW5kZXgiLCJjb21tZW50VmFsdWUiLCJjb21tZW50Tm9kZUluZGV4IiwiYXBwbHlVcGRhdGVPcENvZGVzIiwidXBkYXRlT3BDb2RlcyIsImJpbmRpbmdzU3RhcnRJbmRleCIsImNoZWNrQml0Iiwic2tpcENvZGVzIiwic2FuaXRpemVGbiIsInROb2RlT3JUYWdOYW1lIiwiclRleHQiLCJhcHBseUljdVN3aXRjaENhc2UiLCJhcHBseUljdVVwZGF0ZUNhc2UiLCJhY3RpdmVDYXNlSW5kZXgiLCJpY3VFeHByZXNzaW9uIiwiYmluZGluZ1ZhbHVlIiwiY2FzZXMiLCJyZXNvbHZlZENhc2UiLCJwbHVyYWwiLCJnZXRQbHVyYWxDYXNlIiwiZ2V0Q2FzZUluZGV4IiwiYXBwbHlJY3VTd2l0Y2hDYXNlUmVtb3ZlIiwicmVtb3ZlQ29kZXMiLCJub2RlT3JJY3VJbmRleCIsImxvYWRJY3VDb250YWluZXJWaXNpdG9yIiwiX3N0YWNrIiwiX3JlbW92ZXMiLCJfaW5kZXgiLCJlbnRlckljdSIsImljdUNvbnRhaW5lckl0ZXJhdG9yTmV4dCIsInJlbW92ZU9wQ29kZSIsInRJY3VJbmRleCIsImkxOG5DcmVhdGVPcENvZGVzVG9TdHJpbmciLCJvcGNvZGVzIiwiY3JlYXRlT3BDb2RlcyIsImxpbmVzIiwiaXNDb21tZW50IiwiQ09NTUVOVCIsImFwcGVuZE5vdyIsIkFQUEVORF9FQUdFUkxZIiwiU0hJRlQiLCJpMThuVXBkYXRlT3BDb2Rlc1RvU3RyaW5nIiwicGFyc2VyIiwiT3BDb2RlUGFyc2VyIiwiY29uc3VtZU9wQ29kZSIsInJlZiIsImNvbnN1bWVTdHJpbmciLCJzYW5pdGl6YXRpb25GbiIsImNvbnN1bWVGdW5jdGlvbiIsImhhc01vcmUiLCJjb25zdW1lTnVtYmVyIiwic3RhdGVtZW50cyIsInN0YXRlbWVudCIsImNvbnN1bWVOdW1iZXJPclN0cmluZyIsIm9wQ29kZVRleHQiLCJpY3VDcmVhdGVPcENvZGVzVG9TdHJpbmciLCJsYXN0UmVmIiwiY29uc3VtZU51bWJlclN0cmluZ09yTWFya2VyIiwibGluZSIsImkxOG5SZW1vdmVPcENvZGVzVG9TdHJpbmciLCJjb2RlcyIsIkJJTkRJTkdfUkVHRVhQIiwiSUNVX1JFR0VYUCIsIk5FU1RFRF9JQ1UiLCJJQ1VfQkxPQ0tfUkVHRVhQIiwiU1VCVEVNUExBVEVfUkVHRVhQIiwiUEhfUkVHRVhQIiwiTkdTUF9VTklDT0RFX1JFR0VYUCIsImNyZWF0ZVROb2RlQW5kQWRkT3BDb2RlIiwiZXhpc3RpbmdUTm9kZXMiLCJpc0lDVSIsImkxOG5Ob2RlSWR4Iiwic2V0VE5vZGVJbnNlcnRCZWZvcmVJbmRleCIsImkxOG5TdGFydEZpcnN0Q3JlYXRlUGFzc1Byb2Nlc3NUZXh0Tm9kZSIsImhhc0JpbmRpbmciLCJnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzIiwic3RyIiwiZGVzdGluYXRpb25Ob2RlIiwiYmluZGluZ1N0YXJ0IiwibWFza0luZGV4Iiwic2l6ZUluZGV4IiwidGV4dFBhcnRzIiwidGV4dFZhbHVlIiwidG9NYXNrQml0IiwiY291bnRCaW5kaW5ncyIsIm9wQ29kZXMiLCJyZW1vdmVJbm5lclRlbXBsYXRlVHJhbnNsYXRpb24iLCJ0YWdNYXRjaGVkIiwiaW5UZW1wbGF0ZSIsImV4ZWMiLCJpY3VTdGFydCIsImJpbmRpbmdNYXNrIiwibWFpbkJpbmRpbmciLCJhZGRVcGRhdGVJY3VTd2l0Y2giLCJzZXRUSWN1IiwidmFsdWVBcnIiLCJuZXN0ZWRJY3VzIiwiaWN1SW5kZXgiLCJwYXJzZUljdUNhc2UiLCJhZGRVcGRhdGVJY3VVcGRhdGUiLCJwYXJzZUlDVUJsb2NrIiwicGF0dGVybiIsImljdVR5cGUiLCJpMThuUGFyc2VUZXh0SW50b1BhcnRzQW5kSUNVIiwiYmluZGluZyIsInBvcyIsImJsb2NrcyIsInByZXZQb3MiLCJicmFjZVN0YWNrIiwicmVzdWx0cyIsImJyYWNlcyIsImxhc3RJbmRleCIsImJsb2NrIiwiY2FzZU5hbWUiLCJ1bnNhZmVDYXNlSHRtbCIsImluZXJ0Um9vdE5vZGUiLCJ3YWxrSWN1VHJlZSIsInNoYXJlZFVwZGF0ZU9wQ29kZXMiLCJkZXB0aCIsImN1cnJlbnROb2RlIiwiYWRkQ3JlYXRlTm9kZUFuZEFwcGVuZCIsImxvd2VyQXR0ck5hbWUiLCJhZGRDcmVhdGVBdHRyaWJ1dGUiLCJhZGRSZW1vdmVOb2RlIiwiaXNOZXN0ZWRJY3UiLCJuZXN0ZWRJY3VJbmRleCIsImFkZFJlbW92ZU5lc3RlZEljdSIsImFwcGVuZFRvUGFyZW50SWR4IiwiY3JlYXRlQXRJZHgiLCJQUF9NVUxUSV9WQUxVRV9QTEFDRUhPTERFUlNfUkVHRVhQIiwiUFBfUExBQ0VIT0xERVJTX1JFR0VYUCIsIlBQX0lDVV9WQVJTX1JFR0VYUCIsIlBQX0lDVV9QTEFDRUhPTERFUlNfUkVHRVhQIiwiUFBfSUNVU19SRUdFWFAiLCJQUF9DTE9TRV9URU1QTEFURV9SRUdFWFAiLCJQUF9URU1QTEFURV9JRF9SRUdFWFAiLCJtZXNzYWdlSW5kZXgiLCJzdWJUZW1wbGF0ZUluZGV4IiwicGFyZW50VE5vZGVJbmRleCIsImV4aXN0aW5nVE5vZGVTdGFjayIsImlzUm9vdFRlbXBsYXRlTWVzc2FnZSIsInNlYXJjaCIsImdldFRyYW5zbGF0aW9uRm9yVGVtcGxhdGUiLCJtc2dQYXJ0cyIsInBhcnQiLCJpY3VOb2RlSW5kZXgiLCJpc0Nsb3NpbmciLCJOdW1iZXIiLCJpMThuU3RhcnRGaXJzdENyZWF0ZVBhc3MiLCJ0STE4biIsImFwcGx5Q3JlYXRlT3BDb2RlcyIsInByZXZpb3VzRWxlbWVudEluZGV4IiwiaTE4bkF0dHJpYnV0ZXNGaXJzdFBhc3MiLCJhcHBseUkxOG4iLCJyZXBsYWNlbWVudHMiLCJ0ZW1wbGF0ZUlkc1N0YWNrIiwicGhzIiwidG1wbCIsInBsYWNlaG9sZGVycyIsInBsYWNlaG9sZGVyIiwidGVtcGxhdGVJZCIsImlzQ2xvc2VUZW1wbGF0ZVRhZyIsImN1cnJlbnRUZW1wbGF0ZUlkIiwiX3R5cGUiLCJfaWR4IiwiaTE4blBvc3Rwcm9jZXNzIiwicmVzb2x2ZVByb3ZpZGVyIiwibEluamVjdGFibGVzQmx1ZXByaW50IiwicHJvdmlkZXJGYWN0b3J5IiwiYmVnaW5JbmRleCIsImV4aXN0aW5nRmFjdG9yeUluZGV4IiwicmVnaXN0ZXJEZXN0cm95SG9va3NJZlN1cHBvcnRlZCIsImV4aXN0aW5nUHJvdmlkZXJzRmFjdG9yeUluZGV4IiwiZXhpc3RpbmdWaWV3UHJvdmlkZXJzRmFjdG9yeUluZGV4IiwiZG9lc1Byb3ZpZGVyc0ZhY3RvcnlFeGlzdCIsImRvZXNWaWV3UHJvdmlkZXJzRmFjdG9yeUV4aXN0IiwiY29tcG9uZW50UHJvdmlkZXJzIiwibXVsdGlGYWN0b3J5QWRkIiwibXVsdGlGYWN0b3J5IiwibXVsdGlWaWV3UHJvdmlkZXJzRmFjdG9yeVJlc29sdmVyIiwibXVsdGlQcm92aWRlcnNGYWN0b3J5UmVzb2x2ZXIiLCJjb250ZXh0SW5kZXgiLCJpbmRleEluRmFjdG9yeSIsInByb3ZpZGVySXNUeXBlUHJvdmlkZXIiLCJwcm92aWRlcklzQ2xhc3NQcm92aWRlciIsImV4aXN0aW5nQ2FsbGJhY2tzSW5kZXgiLCJpc0NvbXBvbmVudFByb3ZpZGVyIiwibERhdGEiLCJtdWx0aVJlc29sdmUiLCJjb21wb25lbnRDb3VudCIsIm11bHRpUHJvdmlkZXJzIiwicHJvY2Vzc1Byb3ZpZGVyc0ZuIiwiQ29tcG9uZW50UmVmJDEiLCJDb21wb25lbnRGYWN0b3J5JDEiLCJfTnVsbENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsInJlc29sdmVDb21wb25lbnRGYWN0b3J5Iiwibm9Db21wb25lbnRGYWN0b3J5RXJyb3IiLCJDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIkMSIsImNyZWF0ZUVsZW1lbnRSZWYiLCJFbGVtZW50UmVmIiwibmF0aXZlRWxlbWVudCIsInVud3JhcEVsZW1lbnRSZWYiLCJSZW5kZXJlckZhY3RvcnkyIiwiUmVuZGVyZXIyIiwibm9kZUF0SW5kZXgiLCJnZXRPckNyZWF0ZVJlbmRlcmVyMiIsImluamVjdFJlbmRlcmVyMiIsIlNhbml0aXplciIsIlZlcnNpb24iLCJmdWxsIiwibWFqb3IiLCJtaW5vciIsInBhdGNoIiwiVkVSU0lPTiIsIk5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IiLCJjb2xsZWN0TmF0aXZlTm9kZXMiLCJsTm9kZSIsImxWaWV3SW5BQ29udGFpbmVyIiwibFZpZXdGaXJzdENoaWxkVE5vZGUiLCJub2Rlc0luU2xvdCIsIlZpZXdSZWYkMSIsIl9jZFJlZkluamVjdGluZ1ZpZXciLCJfYXBwUmVmIiwiX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyIiwicm9vdE5vZGVzIiwidmlld1JlZnMiLCJtYXJrRm9yQ2hlY2siLCJkZXRhY2giLCJyZWF0dGFjaCIsImNoZWNrTm9DaGFuZ2VzIiwiY2hlY2tOb0NoYW5nZXNJbnRlcm5hbCIsImF0dGFjaFRvVmlld0NvbnRhaW5lclJlZiIsImRldGFjaEZyb21BcHBSZWYiLCJhdHRhY2hUb0FwcFJlZiIsImFwcFJlZiIsIlJvb3RWaWV3UmVmIiwiX3ZpZXciLCJjaGVja05vQ2hhbmdlc0luUm9vdFZpZXciLCJDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIiLCJDb21wb25lbnRGYWN0b3J5IiwidG9SZWZBcnJheSIsIm5vbk1pbmlmaWVkIiwibWluaWZpZWQiLCJ0ZW1wbGF0ZU5hbWUiLCJTQ0hFRFVMRVIiLCJpc0JvdW5kVG9Nb2R1bGUiLCJwcm9qZWN0YWJsZU5vZGVzIiwicm9vdFNlbGVjdG9yT3JOb2RlIiwicm9vdFZpZXdJbmplY3RvciIsImNyZWF0ZUNoYWluZWRJbmplY3RvciIsImVsZW1lbnROYW1lIiwiZ2V0TmFtZXNwYWNlIiwidEVsZW1lbnROb2RlIiwiZXh0cmFjdEF0dHJzQW5kQ2xhc3Nlc0Zyb21TZWxlY3RvciIsIm5vZGVzZm9yU2xvdCIsIkNvbXBvbmVudFJlZiIsIl9yb290TFZpZXciLCJjaGFuZ2VEZXRlY3RvclJlZiIsInNldENsYXNzTWV0YWRhdGEiLCJjbGF6eiIsIk5nTW9kdWxlUmVmJDEiLCJOZ01vZHVsZUZhY3RvcnkkMSIsIm1vZHVsZXMiLCJyZWdpc3Rlck5nTW9kdWxlVHlwZSIsInZpc2l0ZWQiLCJyZWN1cnNlIiwiaW5jb21pbmciLCJhc3NlcnRTYW1lT3JOb3RFeGlzdGluZyIsImdldFJlZ2lzdGVyZWROZ01vZHVsZVR5cGUiLCJjcmVhdGVOZ01vZHVsZVJlZiIsInBhcmVudEluamVjdG9yIiwiTmdNb2R1bGVSZWYiLCJfYm9vdHN0cmFwQ29tcG9uZW50cyIsImRlc3Ryb3lDYnMiLCJjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIiLCJfcjNJbmplY3RvciIsImluamVjdEZsYWdzIiwiTmdNb2R1bGVGYWN0b3J5IiwibW9kdWxlVHlwZSIsInNsb3RPZmZzZXQiLCJwdXJlRm4iLCJleHAiLCJwdXJlRnVuY3Rpb24xSW50ZXJuYWwiLCJwdXJlRnVuY3Rpb24ySW50ZXJuYWwiLCJwdXJlRnVuY3Rpb24zSW50ZXJuYWwiLCJwdXJlRnVuY3Rpb240SW50ZXJuYWwiLCJleHA1IiwiZXhwNiIsImV4cDciLCJleHA4IiwiZXhwcyIsInB1cmVGdW5jdGlvblZJbnRlcm5hbCIsImdldFB1cmVGdW5jdGlvblJldHVyblZhbHVlIiwicmV0dXJuVmFsdWVJbmRleCIsImxhc3RSZXR1cm5WYWx1ZSIsImJpbmRpbmdSb290IiwicGlwZU5hbWUiLCJnZXRQaXBlRGVmIiwicGlwZUZhY3RvcnkiLCJwaXBlSW5zdGFuY2UiLCJpc1B1cmUiLCJ0cmFuc2Zvcm0iLCJFdmVudEVtaXR0ZXJfIiwiaXNBc3luYyIsIl9faXNBc3luYyIsIm5leHRGbiIsImVycm9yRm4iLCJjb21wbGV0ZUZuIiwiX3dyYXBJblRpbWVvdXQiLCJFdmVudEVtaXR0ZXIiLCJzeW1ib2xJdGVyYXRvciIsIl9yZXN1bHRzIiwiUXVlcnlMaXN0IiwiX2VtaXREaXN0aW5jdENoYW5nZXNPbmx5IiwiX2NoYW5nZXNEZXRlY3RlZCIsIl9jaGFuZ2VzIiwic3ltYm9sIiwiY2hhbmdlcyIsInJlc3VsdHNUcmVlIiwiaWRlbnRpdHlBY2Nlc3NvciIsIm5ld1Jlc3VsdEZsYXQiLCJ2YWx1ZUEiLCJ2YWx1ZUIiLCJhcnJheUVxdWFscyIsIm5vdGlmeU9uQ2hhbmdlcyIsInNldERpcnR5IiwiVGVtcGxhdGVSZWYiLCJjcmVhdGVUZW1wbGF0ZVJlZiIsIlZpZXdFbmdpbmVUZW1wbGF0ZVJlZiIsIlIzVGVtcGxhdGVSZWYiLCJfZGVjbGFyYXRpb25MVmlldyIsIl9kZWNsYXJhdGlvblRDb250YWluZXIiLCJlbGVtZW50UmVmIiwiY3JlYXRlRW1iZWRkZWRWaWV3IiwiZGVjbGFyYXRpb25WaWV3TFF1ZXJpZXMiLCJWaWV3Q29udGFpbmVyUmVmIiwiY3JlYXRlQ29udGFpbmVyUmVmIiwiVkVfVmlld0NvbnRhaW5lclJlZiIsIlIzVmlld0NvbnRhaW5lclJlZiIsIl9sQ29udGFpbmVyIiwiX2hvc3RUTm9kZSIsIl9ob3N0TFZpZXciLCJnZXRWaWV3UmVmcyIsInRlbXBsYXRlUmVmIiwidmlld1JlZiIsImluc2VydCIsImNyZWF0ZUNvbXBvbmVudCIsImNvbXBvbmVudEZhY3RvcnlPclR5cGUiLCJpbmRleE9yT3B0aW9ucyIsIm5nTW9kdWxlUmVmIiwiaXNDb21wb25lbnRGYWN0b3J5IiwiY29tcG9uZW50RmFjdG9yeSIsImNvbnRleHRJbmplY3RvciIsImNvbXBvbmVudFJlZiIsInByZXZJZHgiLCJwcmV2TENvbnRhaW5lciIsInByZXZWQ1JlZiIsImFkanVzdGVkSWR4IiwiX2FkanVzdEluZGV4IiwiY29udGFpbmVyTGVuZ3RoIiwiaW5zZXJ0ZWRMQ29udGFpbmVyIiwiaW5zZXJ0ZWRDb21wb25lbnRMVmlldyIsImRlY2xhcmVkQ29tcG9uZW50TFZpZXciLCJ0cmFja01vdmVkVmlldyIsImluc2VydFZpZXciLCJwYXJlbnROYXRpdmVOb2RlIiwiYWRkVmlld1RvQ29udGFpbmVyIiwiZ2V0T3JDcmVhdGVWaWV3UmVmcyIsIm1vdmUiLCJ2aWV3UmVmc0FyciIsImRldGFjaGVkVmlldyIsImNvbW1lbnROb2RlIiwibmF0aXZlTmV4dFNpYmxpbmciLCJMUXVlcnlfIiwicXVlcnlMaXN0IiwiY2xvbmUiLCJMUXVlcmllc18iLCJ0UXVlcmllcyIsIm5vT2ZJbmhlcml0ZWRRdWVyaWVzIiwidmlld0xRdWVyaWVzIiwidFF1ZXJ5IiwiZ2V0QnlJbmRleCIsInBhcmVudExRdWVyeSIsImluZGV4SW5EZWNsYXJhdGlvblZpZXciLCJkaXJ0eVF1ZXJpZXNXaXRoTWF0Y2hlcyIsImdldFRRdWVyeSIsIlRRdWVyeU1ldGFkYXRhXyIsIlRRdWVyaWVzXyIsInF1ZXJpZXNGb3JUZW1wbGF0ZVJlZiIsImNoaWxkUXVlcnlJbmRleCIsInRxdWVyeUNsb25lIiwidHJhY2siLCJ0cXVlcnkiLCJUUXVlcnlfIiwiY3Jvc3Nlc05nVGVtcGxhdGUiLCJfYXBwbGllc1RvTmV4dE5vZGUiLCJfZGVjbGFyYXRpb25Ob2RlSW5kZXgiLCJpc0FwcGx5aW5nVG9Ob2RlIiwibWF0Y2hUTm9kZSIsImFkZE1hdGNoIiwiZGVjbGFyYXRpb25Ob2RlSWR4IiwibWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uIiwiZ2V0SWR4T2ZNYXRjaGluZ1NlbGVjdG9yIiwibm9kZU1hdGNoSWR4IiwiZGlyZWN0aXZlT3JQcm92aWRlcklkeCIsIm1hdGNoSWR4IiwiY3JlYXRlUmVzdWx0Rm9yTm9kZSIsIm1hdGNoaW5nSWR4IiwiY3JlYXRlUmVzdWx0QnlUTm9kZVR5cGUiLCJjcmVhdGVTcGVjaWFsVG9rZW4iLCJtYXRlcmlhbGl6ZVZpZXdSZXN1bHRzIiwicXVlcnlJbmRleCIsImxRdWVyeSIsInRRdWVyeU1hdGNoZXMiLCJtYXRjaGVkTm9kZUlkeCIsImNvbGxlY3RRdWVyeVJlc3VsdHMiLCJsVmlld1Jlc3VsdHMiLCJlbWJlZGRlZExWaWV3cyIsImNyZWF0ZVRRdWVyeSIsImNyZWF0ZUxRdWVyeSIsInRWaWV3Q29udGVudFF1ZXJpZXMiLCJzYXZlQ29udGVudFF1ZXJ5QW5kRGlyZWN0aXZlSW5kZXgiLCJhbmd1bGFyQ29yZUVudiIsImppdE9wdGlvbnMiLCJyZXNldEppdE9wdGlvbnMiLCJtb2R1bGVRdWV1ZSIsImZsdXNoaW5nTW9kdWxlUXVldWUiLCJmbHVzaE1vZHVsZVNjb3BpbmdRdWV1ZUFzTXVjaEFzUG9zc2libGUiLCJpc1Jlc29sdmVkRGVjbGFyYXRpb24iLCJzZXRTY29wZU9uRGVjbGFyZWRDb21wb25lbnRzIiwiZGVjbGFyYXRpb24iLCJjb21waWxlTmdNb2R1bGUiLCJjb21waWxlTmdNb2R1bGVEZWZzIiwiZW5xdWV1ZU1vZHVsZUZvckRlbGF5ZWRTY29waW5nIiwiYWxsb3dEdXBsaWNhdGVEZWNsYXJhdGlvbnNJblJvb3QiLCJleHBhbmRNb2R1bGVXaXRoUHJvdmlkZXJzIiwiTmdNb2R1bGUiLCJ2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlRGVmIiwiY29tcGlsZUluamVjdG9yIiwiaW1wb3J0aW5nTW9kdWxlIiwidmVyaWZpZWROZ01vZHVsZSIsInVud3JhcE1vZHVsZVdpdGhQcm92aWRlcnNJbXBvcnRzIiwibW9kIiwidmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZUltcG9ydCIsImNvbWJpbmVkRGVjbGFyYXRpb25zIiwiY29tcHV0ZUNvbWJpbmVkRXhwb3J0cyIsImRlY2wiLCJzdXBwcmVzc0Vycm9ycyIsImV4aXN0aW5nTW9kdWxlIiwib3duZXJOZ01vZHVsZSIsInZlcmlmeURlY2xhcmF0aW9uSXNVbmlxdWUiLCJnZXRBbm5vdGF0aW9uIiwiZW50cnlDb21wb25lbnRzIiwidmVyaWZ5Q29tcG9uZW50SXNQYXJ0T2ZOZ01vZHVsZSIsInR5cGVPcldpdGhQcm92aWRlcnMiLCJjb2xsZWN0IiwiX19hbm5vdGF0aW9uc19fIiwicmVhZEFubm90YXRpb24iLCJXZWFrTWFwIiwicmVzZXRDb21waWxlZENvbXBvbmVudHMiLCJ0cmFuc2l0aXZlU2NvcGVzIiwidHJhbnNpdGl2ZVNjb3Blc0ZvciIsInBhdGNoQ29tcG9uZW50RGVmV2l0aFNjb3BlIiwibmdTZWxlY3RvclNjb3BlIiwiY29tcGlsYXRpb24iLCJkaXIiLCJpc05nTW9kdWxlIiwic2NvcGVzIiwiZXhwb3J0ZWQiLCJpbXBvcnRlZFR5cGUiLCJpbXBvcnRlZFNjb3BlIiwiZW50cnkiLCJkZWNsYXJlZCIsImV4cG9ydGVkVHlwZSIsImV4cG9ydGVkU2NvcGUiLCJpc01vZHVsZVdpdGhQcm92aWRlcnMiLCJjb21waWxhdGlvbkRlcHRoIiwiY29tcGlsZUNvbXBvbmVudCIsIm5nQ29tcG9uZW50RGVmIiwibWF5YmVRdWV1ZVJlc29sdXRpb25PZkNvbXBvbmVudFJlc291cmNlcyIsImFkZERpcmVjdGl2ZUZhY3RvcnlEZWYiLCJwcmVzZXJ2ZVdoaXRlc3BhY2VzIiwiZGVmYXVsdEVuY2Fwc3VsYXRpb24iLCJkaXJlY3RpdmVNZXRhZGF0YSIsInR5cGVTb3VyY2VTcGFuIiwiY3JlYXRlUGFyc2VTb3VyY2VTcGFuIiwiYW5pbWF0aW9ucyIsImludGVycG9sYXRpb24iLCJ1c2VzSW5oZXJpdGFuY2UiLCJhZGREaXJlY3RpdmVEZWZUb1VuZGVjb3JhdGVkUGFyZW50cyIsImNvbXBpbGVEaXJlY3RpdmUiLCJuZ0RpcmVjdGl2ZURlZiIsImdldERpcmVjdGl2ZU1ldGFkYXRhIiwic291cmNlTWFwVXJsIiwiZmFjYWRlIiwiRGlyZWN0aXZlIiwiZXh0ZW5kc0RpcmVjdGx5RnJvbU9iamVjdCIsImV4dHJhY3RRdWVyaWVzTWV0YWRhdGEiLCJpc0NvbnRlbnRRdWVyeSIsImxpZmVjeWNsZSIsInVzZXNPbkNoYW5nZXMiLCJzcGxpdEJ5Q29tbWEiLCJ2aWV3UXVlcmllcyIsIm9ialByb3RvdHlwZSIsInNob3VsZEFkZEFic3RyYWN0RGlyZWN0aXZlIiwiY29udmVydFRvUjNRdWVyeU1ldGFkYXRhIiwiYW5uIiwiaXNRdWVyeUFubiIsInF1ZXJpZXNNZXRhIiwiaXNJbnB1dEFubm90YXRpb24iLCJwaWVjZSIsIkxJRkVDWUNMRV9IT09LUyIsImhvb2tOYW1lIiwibWV0YWRhdGFOYW1lIiwiY29tcGlsZVBpcGUiLCJuZ1BpcGVEZWYiLCJnZXRQaXBlTWV0YWRhdGEiLCJQaXBlIiwiQ29tcG9uZW50IiwiSW5wdXQiLCJiaW5kaW5nUHJvcGVydHlOYW1lIiwiT3V0cHV0IiwiSG9zdEJpbmRpbmciLCJob3N0UHJvcGVydHlOYW1lIiwiSG9zdExpc3RlbmVyIiwiQVBQX0lOSVRJQUxJWkVSIiwiQXBwbGljYXRpb25Jbml0U3RhdHVzIiwiYXBwSW5pdHMiLCJpbml0aWFsaXplZCIsImRvbmVQcm9taXNlIiwicmVqIiwicnVuSW5pdGlhbGl6ZXJzIiwiYXN5bmNJbml0UHJvbWlzZXMiLCJpbml0UmVzdWx0Iiwib2JzZXJ2YWJsZUFzUHJvbWlzZSIsIkFQUF9JRCIsIkFQUF9JRF9SQU5ET01fUFJPVklERVIiLCJfcmFuZG9tQ2hhciIsInJhbmRvbSIsIlBMQVRGT1JNX0lOSVRJQUxJWkVSIiwiUExBVEZPUk1fSUQiLCJBUFBfQk9PVFNUUkFQX0xJU1RFTkVSIiwiUEFDS0FHRV9ST09UX1VSTCIsIkNvbnNvbGUiLCJMT0NBTEVfSUQiLCJERUZBVUxUX0NVUlJFTkNZX0NPREUiLCJUUkFOU0xBVElPTlMiLCJUUkFOU0xBVElPTlNfRk9STUFUIiwiTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3kiLCJNb2R1bGVXaXRoQ29tcG9uZW50RmFjdG9yaWVzIiwibmdNb2R1bGVGYWN0b3J5IiwiY29tcG9uZW50RmFjdG9yaWVzIiwiQ29tcGlsZXIiLCJjb21waWxlTW9kdWxlU3luYyIsImNvbXBpbGVNb2R1bGVBc3luYyIsImNvbXBpbGVNb2R1bGVBbmRBbGxDb21wb25lbnRzU3luYyIsImNvbXBpbGVNb2R1bGVBbmRBbGxDb21wb25lbnRzQXN5bmMiLCJjbGVhckNhY2hlIiwiY2xlYXJDYWNoZUZvciIsImdldE1vZHVsZUlkIiwiQ09NUElMRVJfT1BUSU9OUyIsIkNvbXBpbGVyRmFjdG9yeSIsInNjaGVkdWxlTWljcm9UYXNrIiwiWm9uZSIsIk5nWm9uZSIsImVuYWJsZUxvbmdTdGFja1RyYWNlIiwic2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiIsInNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uIiwiaGFzUGVuZGluZ01hY3JvdGFza3MiLCJoYXNQZW5kaW5nTWljcm90YXNrcyIsImlzU3RhYmxlIiwib25VbnN0YWJsZSIsIm9uTWljcm90YXNrRW1wdHkiLCJvblN0YWJsZSIsImFzc2VydFpvbmVQYXRjaGVkIiwiX25lc3RpbmciLCJfb3V0ZXIiLCJfaW5uZXIiLCJmb3JrIiwibGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkIiwibmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibmF0aXZlQ2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ1bnBhdGNoZWRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfX3N5bWJvbF9fIiwidW5wYXRjaGVkQ2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJnZXROYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ6b25lIiwiZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHNEZWxlZ2F0ZSIsImlzQ2hlY2tTdGFibGVSdW5uaW5nIiwiZmFrZVRvcEV2ZW50VGFzayIsInNjaGVkdWxlRXZlbnRUYXNrIiwidXBkYXRlTWljcm9UYXNrU3RhdHVzIiwiY2hlY2tTdGFibGUiLCJpbnZva2UiLCJkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50cyIsIm9uSW52b2tlVGFzayIsInRhc2siLCJhcHBseVRoaXMiLCJhcHBseUFyZ3MiLCJvbkVudGVyIiwiaW52b2tlVGFzayIsIm9uTGVhdmUiLCJvbkludm9rZSIsIm9uSGFzVGFzayIsImhhc1Rhc2tTdGF0ZSIsImhhc1Rhc2siLCJjaGFuZ2UiLCJfaGFzUGVuZGluZ01pY3JvdGFza3MiLCJtaWNyb1Rhc2siLCJtYWNyb1Rhc2siLCJvbkhhbmRsZUVycm9yIiwicnVuT3V0c2lkZUFuZ3VsYXIiLCJmb3JrSW5uZXJab25lV2l0aEFuZ3VsYXJCZWhhdmlvciIsImlzSW5Bbmd1bGFyWm9uZSIsInJ1biIsInJ1blRhc2siLCJFTVBUWV9QQVlMT0FEIiwiY2FuY2VsVGFzayIsInJ1bkd1YXJkZWQiLCJOb29wTmdab25lIiwiVGVzdGFiaWxpdHkiLCJfbmdab25lIiwiX3BlbmRpbmdDb3VudCIsIl9pc1pvbmVTdGFibGUiLCJfZGlkV29yayIsIl9jYWxsYmFja3MiLCJ0YXNrVHJhY2tpbmdab25lIiwiX3dhdGNoQW5ndWxhckV2ZW50cyIsImFzc2VydE5vdEluQW5ndWxhclpvbmUiLCJfcnVuQ2FsbGJhY2tzSWZSZWFkeSIsImluY3JlYXNlUGVuZGluZ1JlcXVlc3RDb3VudCIsImRlY3JlYXNlUGVuZGluZ1JlcXVlc3RDb3VudCIsInRpbWVvdXRJZCIsImRvbmVDYiIsImdldFBlbmRpbmdUYXNrcyIsInVwZGF0ZUNiIiwibWFjcm9UYXNrcyIsImNyZWF0aW9uTG9jYXRpb24iLCJhZGRDYWxsYmFjayIsIndoZW5TdGFibGUiLCJnZXRQZW5kaW5nUmVxdWVzdENvdW50IiwiZmluZFByb3ZpZGVycyIsInVzaW5nIiwiZXhhY3RNYXRjaCIsIlRlc3RhYmlsaXR5UmVnaXN0cnkiLCJfYXBwbGljYXRpb25zIiwiX3Rlc3RhYmlsaXR5R2V0dGVyIiwiYWRkVG9XaW5kb3ciLCJyZWdpc3RlckFwcGxpY2F0aW9uIiwidGVzdGFiaWxpdHkiLCJ1bnJlZ2lzdGVyQXBwbGljYXRpb24iLCJ1bnJlZ2lzdGVyQWxsQXBwbGljYXRpb25zIiwiZ2V0VGVzdGFiaWxpdHkiLCJlbGVtIiwiZ2V0QWxsVGVzdGFiaWxpdGllcyIsImdldEFsbFJvb3RFbGVtZW50cyIsImZpbmRUZXN0YWJpbGl0eUluVHJlZSIsImZpbmRJbkFuY2VzdG9ycyIsInNldFRlc3RhYmlsaXR5R2V0dGVyIiwiX3BsYXRmb3JtIiwiY29tcGlsZU5nTW9kdWxlRmFjdG9yeSIsImFzc2VydE5nTW9kdWxlVHlwZSIsIm1vZHVsZUZhY3RvcnkiLCJuZ0ppdE1vZGUiLCJjb21waWxlck9wdGlvbnMiLCJzZXRKaXRPcHRpb25zIiwiX2xhc3REZWZpbmVkIiwiY29tcGlsZXJQcm92aWRlcnMiLCJfbWVyZ2VBcnJheXMiLCJyZXNvdXJjZUxvYWRlciIsIlJlc291cmNlTG9hZGVyIiwiY2YiLCJBTExPV19NVUxUSVBMRV9QTEFURk9STVMiLCJOZ1Byb2JlVG9rZW4iLCJjcmVhdGVQbGF0Zm9ybSIsIlBsYXRmb3JtUmVmIiwiaW5pdHMiLCJjcmVhdGVQbGF0Zm9ybUZhY3RvcnkiLCJwYXJlbnRQbGF0Zm9ybUZhY3RvcnkiLCJkZXNjIiwiZXh0cmFQcm92aWRlcnMiLCJwbGF0Zm9ybSIsImdldFBsYXRmb3JtIiwiaW5qZWN0ZWRQcm92aWRlcnMiLCJhc3NlcnRQbGF0Zm9ybSIsInJlcXVpcmVkVG9rZW4iLCJkZXN0cm95UGxhdGZvcm0iLCJfaW5qZWN0b3IiLCJfbW9kdWxlcyIsIl9kZXN0cm95TGlzdGVuZXJzIiwiYm9vdHN0cmFwTW9kdWxlRmFjdG9yeSIsIm5nWm9uZSIsIm5nWm9uZU9wdGlvbiIsImV4dHJhIiwibmdab25lRXZlbnRDb2FsZXNjaW5nIiwibmdab25lUnVuQ29hbGVzY2luZyIsImdldE5nWm9uZSIsIm5nWm9uZUluamVjdG9yIiwibW9kdWxlUmVmIiwiZXhjZXB0aW9uSGFuZGxlciIsIl9jYWxsQW5kUmVwb3J0VG9FcnJvckhhbmRsZXIiLCJpbml0U3RhdHVzIiwiX21vZHVsZURvQm9vdHN0cmFwIiwiYm9vdHN0cmFwTW9kdWxlIiwib3B0aW9uc1JlZHVjZXIiLCJBcHBsaWNhdGlvblJlZiIsIm5nRG9Cb290c3RyYXAiLCJfem9uZSIsIl9leGNlcHRpb25IYW5kbGVyIiwiX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIl9pbml0U3RhdHVzIiwiX2Jvb3RzdHJhcExpc3RlbmVycyIsIl92aWV3cyIsIl9ydW5uaW5nVGljayIsIl9zdGFibGUiLCJjb21wb25lbnRUeXBlcyIsIl9vbk1pY3JvdGFza0VtcHR5U3Vic2NyaXB0aW9uIiwidGljayIsImlzQ3VycmVudGx5U3RhYmxlIiwic3RhYmxlU3ViIiwidW5zdGFibGVTdWIiLCJhc3NlcnRJbkFuZ3VsYXJab25lIiwiY29tcG9uZW50T3JGYWN0b3J5Iiwic2VsZWN0b3JPck5vZGUiLCJjb21wUmVmIiwidGVzdGFiaWxpdHlSZWdpc3RyeSIsIl9sb2FkQ29tcG9uZW50IiwiYXR0YWNoVmlldyIsInZpZXdDb3VudCIsIl9kZXZNb2RlIiwiX3J1bk1vZGVMb2NrZWQiLCJpc0Rldk1vZGUiLCJlbmFibGVQcm9kTW9kZSIsImdldE1vZHVsZUZhY3RvcnkiLCJub01vZHVsZUVycm9yIiwiZ2V0TmdNb2R1bGVCeUlkIiwiQ2hhbmdlRGV0ZWN0b3JSZWYiLCJpbmplY3RDaGFuZ2VEZXRlY3RvclJlZiIsImlzUGlwZSIsImhvc3RDb21wb25lbnRWaWV3IiwiY3JlYXRlVmlld1JlZiIsIlZpZXdSZWYiLCJFbWJlZGRlZFZpZXdSZWYiLCJEZWJ1Z0V2ZW50TGlzdGVuZXIiLCJhc05hdGl2ZUVsZW1lbnRzIiwiZGVidWdFbHMiLCJEZWJ1Z05vZGUiLCJuYXRpdmVOb2RlIiwiRGVidWdFbGVtZW50IiwicmVmZXJlbmNlcyIsImRpc2NvdmVyTG9jYWxSZWZzIiwiZ2V0TG9jYWxSZWZzIiwicHJvdmlkZXJUb2tlbnMiLCJnZXRJbmplY3Rpb25Ub2tlbnMiLCJOb2RlUHJvdG90eXBlIiwiZGVzY3JpcHRvcnMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiaXNQcmltaXRpdmVWYWx1ZSIsImNvcHlEb21Qcm9wZXJ0aWVzIiwiYmluZGluZ0luZGV4ZXMiLCJtZXRhZGF0YVBhcnRzIiwiY29sbGVjdFByb3BlcnR5QmluZGluZ3MiLCJsb3dlcmNhc2VUTm9kZUF0dHJzIiwiZUF0dHJzIiwibG93ZXJjYXNlTmFtZSIsImJhc2VWYWwiLCJjaGlsZE5vZGVzIiwiZ2V0RGVidWdOb2RlIiwicXVlcnkiLCJxdWVyeUFsbCIsIl9xdWVyeUFsbCIsInF1ZXJ5QWxsTm9kZXMiLCJ0cmlnZ2VyRXZlbnRIYW5kbGVyIiwiZXZlbnRPYmoiLCJpbnZva2VkTGlzdGVuZXJzIiwiZXZlbnRMaXN0ZW5lcnMiLCJ1bndyYXBwZWRMaXN0ZW5lciIsInBhcmVudEVsZW1lbnQiLCJlbGVtZW50c09ubHkiLCJfcXVlcnlOb2RlQ2hpbGRyZW4iLCJfcXVlcnlOYXRpdmVOb2RlRGVzY2VuZGFudHMiLCJyb290TmF0aXZlTm9kZSIsImdldE5hdGl2ZUJ5VE5vZGVPck51bGwiLCJfYWRkUXVlcnlNYXRjaCIsIm5vZGVPckNvbnRhaW5lciIsIl9xdWVyeU5vZGVDaGlsZHJlbkluQ29udGFpbmVyIiwiaGVhZCIsIm5leHRMVmlldyIsIm5leHRUTm9kZSIsImNoaWxkVmlldyIsImRlYnVnTm9kZSIsImdldERlYnVnTm9kZVIyIiwiX25hdGl2ZU5vZGUiLCJEZWZhdWx0SXRlcmFibGVEaWZmZXJGYWN0b3J5Iiwic3VwcG9ydHMiLCJ0cmFja0J5Rm4iLCJEZWZhdWx0SXRlcmFibGVEaWZmZXIiLCJ0cmFja0J5SWRlbnRpdHkiLCJfbGlua2VkUmVjb3JkcyIsIl91bmxpbmtlZFJlY29yZHMiLCJfcHJldmlvdXNJdEhlYWQiLCJfaXRIZWFkIiwiX2l0VGFpbCIsIl9hZGRpdGlvbnNIZWFkIiwiX2FkZGl0aW9uc1RhaWwiLCJfbW92ZXNIZWFkIiwiX21vdmVzVGFpbCIsIl9yZW1vdmFsc0hlYWQiLCJfcmVtb3ZhbHNUYWlsIiwiX2lkZW50aXR5Q2hhbmdlc0hlYWQiLCJfaWRlbnRpdHlDaGFuZ2VzVGFpbCIsIl90cmFja0J5Rm4iLCJmb3JFYWNoSXRlbSIsImZvckVhY2hPcGVyYXRpb24iLCJuZXh0SXQiLCJuZXh0UmVtb3ZlIiwiYWRkUmVtb3ZlT2Zmc2V0IiwibW92ZU9mZnNldHMiLCJjdXJyZW50SW5kZXgiLCJnZXRQcmV2aW91c0luZGV4IiwiYWRqUHJldmlvdXNJbmRleCIsIl9uZXh0UmVtb3ZlZCIsInByZXZpb3VzSW5kZXgiLCJsb2NhbE1vdmVQcmV2aW91c0luZGV4IiwibG9jYWxDdXJyZW50SW5kZXgiLCJvZmZzZXQiLCJmb3JFYWNoUHJldmlvdXNJdGVtIiwiX25leHRQcmV2aW91cyIsImZvckVhY2hBZGRlZEl0ZW0iLCJfbmV4dEFkZGVkIiwiZm9yRWFjaE1vdmVkSXRlbSIsIl9uZXh0TW92ZWQiLCJmb3JFYWNoUmVtb3ZlZEl0ZW0iLCJmb3JFYWNoSWRlbnRpdHlDaGFuZ2UiLCJfbmV4dElkZW50aXR5Q2hhbmdlIiwiY29sbGVjdGlvbiIsImNoZWNrIiwiX3Jlc2V0IiwiaXRlbVRyYWNrQnkiLCJtYXlCZURpcnR5IiwidHJhY2tCeUlkIiwiX3ZlcmlmeVJlaW5zZXJ0aW9uIiwiX2FkZElkZW50aXR5Q2hhbmdlIiwiX21pc21hdGNoIiwiaXRlcmF0ZUxpc3RMaWtlIiwiX3RydW5jYXRlIiwiaXNEaXJ0eSIsInByZXZpb3VzUmVjb3JkIiwiX3ByZXYiLCJfcmVtb3ZlIiwiX3JlaW5zZXJ0QWZ0ZXIiLCJfbW92ZUFmdGVyIiwiX2FkZEFmdGVyIiwiSXRlcmFibGVDaGFuZ2VSZWNvcmRfIiwicmVpbnNlcnRSZWNvcmQiLCJfYWRkVG9Nb3ZlcyIsIm5leHRSZWNvcmQiLCJfYWRkVG9SZW1vdmFscyIsIl91bmxpbmsiLCJwcmV2UmVjb3JkIiwiX3ByZXZSZW1vdmVkIiwiX2luc2VydEFmdGVyIiwiX0R1cGxpY2F0ZU1hcCIsInB1dCIsInRvSW5kZXgiLCJfcHJldkR1cCIsIl9uZXh0RHVwIiwiX0R1cGxpY2F0ZUl0ZW1SZWNvcmRMaXN0IiwiX2hlYWQiLCJfdGFpbCIsImF0T3JBZnRlckluZGV4IiwiZHVwbGljYXRlcyIsInJlY29yZExpc3QiLCJtb3ZlT2Zmc2V0IiwiRGVmYXVsdEtleVZhbHVlRGlmZmVyRmFjdG9yeSIsIkRlZmF1bHRLZXlWYWx1ZURpZmZlciIsIl9yZWNvcmRzIiwiX21hcEhlYWQiLCJfYXBwZW5kQWZ0ZXIiLCJfcHJldmlvdXNNYXBIZWFkIiwiX2NoYW5nZXNIZWFkIiwiX2NoYW5nZXNUYWlsIiwiZm9yRWFjaENoYW5nZWRJdGVtIiwiX25leHRDaGFuZ2VkIiwiX2ZvckVhY2giLCJfbWF5YmVBZGRUb0NoYW5nZXMiLCJfZ2V0T3JDcmVhdGVSZWNvcmRGb3JLZXkiLCJfaW5zZXJ0QmVmb3JlT3JBcHBlbmQiLCJLZXlWYWx1ZUNoYW5nZVJlY29yZF8iLCJfYWRkVG9BZGRpdGlvbnMiLCJfYWRkVG9DaGFuZ2VzIiwiZGVmYXVsdEl0ZXJhYmxlRGlmZmVyc0ZhY3RvcnkiLCJJdGVyYWJsZURpZmZlcnMiLCJjb3BpZWQiLCJkZWZhdWx0S2V5VmFsdWVEaWZmZXJzRmFjdG9yeSIsIktleVZhbHVlRGlmZmVycyIsImt2Iiwia2V5VmFsRGlmZiIsIml0ZXJhYmxlRGlmZiIsImRlZmF1bHRJdGVyYWJsZURpZmZlcnMiLCJkZWZhdWx0S2V5VmFsdWVEaWZmZXJzIiwicGxhdGZvcm1Db3JlIiwiQVBQTElDQVRJT05fTU9EVUxFX1BST1ZJREVSUyIsInF1ZXVlIiwiZ2V0TG9jYWxlIiwiJGxvY2FsaXplIiwiQXBwbGljYXRpb25Nb2R1bGUiLCJjb21waWxlRGlyZWN0aXZlRGVjbGFyYXRpb24iLCJjb21waWxlQ29tcG9uZW50RGVjbGFyYXRpb24iLCJnZXRGYWN0b3J5S2luZCIsImNvbXBpbGVGYWN0b3J5RGVjbGFyYXRpb24iLCJjb21waWxlSW5qZWN0YWJsZURlY2xhcmF0aW9uIiwiY29tcGlsZUluamVjdG9yRGVjbGFyYXRpb24iLCJjb21waWxlTmdNb2R1bGVEZWNsYXJhdGlvbiIsImNvbXBpbGVQaXBlRGVjbGFyYXRpb24iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwidG9TdHJpbmdUYWciLCJTaWduYWxpbmdTZXJ2ZXIiXSwic291cmNlUm9vdCI6IiJ9